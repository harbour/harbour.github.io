From lorenzo.fiorini at gmail.com  Sun Mar  1 03:22:19 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  1 03:22:24 2009
Subject: [Harbour] About some readme.txt and tests dirs
Message-ID: <9257026e0903010022j1a32d676h49e3e9cad935ec39@mail.gmail.com>

Looking inside actual tree I wonder:

- if we shouldn't remove:
contrib/hbct/ctflist.txt
contrib/hbct/readme.txt
contrib/hbpgsql/readme.txt
contrib/hbgd/readme.txt
contrib/odbc/readme.txt
contrib/hbvpdf/readme.txt
contrib/hbvpdf/tests/files/test.txt
most are outdated and without any important information inside. They
don't give an "healthy look" of the contribs.

- move all contrib tests to the test dir
today I have to download the svn tree or the sources to run the tests,
while I should be able to run them only using a binary distribution.
I should be able to simply do hbmk -n test1 -libxyx or better hbmk2
test1.hbm without navigating the source tree.

- I would also remove:
./contrib/hbodbc/tests/harbour.mdb
I can't easily read it ( are there mdb odbc drivers for Linux or OSX?
) so it's better to not provide data we can't easily control.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Sun Mar  1 03:49:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  1 03:49:58 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
Message-ID: <22270970.post@talk.nabble.com>


Hello Everybody

Does anybody have xmate project .env file for MinGW ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22270970.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Mar  1 03:57:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar  1 03:57:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10491] trunk/harbour
In-Reply-To: <E1LdYzU-0000G4-UN@74yxhf1.ch3.sourceforge.com>
References: <E1LdYzU-0000G4-UN@74yxhf1.ch3.sourceforge.com>
Message-ID: <609353e70903010057g6b56f98ahbbaa2ffffcdb8490@mail.gmail.com>

Interesting and Great!

2009/3/1  <vouchcac@users.sourceforge.net>:
> Revision: 10491
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10491&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-02-28 23:53:07 +0000 (Sat, 28 Feb 2009)
>
> Log Message:
> -----------
> 2009-02-28 15:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* harbour/contrib/gtwvg/common.mak
> ?* harbour/contrib/gtwvg/Makefile
> ? ?+ Added wvgcuig.c
>
> ?* harbour/contrib/gtwvg/gtwvg.h
> ? ?+ Added PHB_GOBJS structure to hold static CUI enhancement elements.
>
> ?* harbour/contrib/gtwvg/gtwvg.c
> ? ?! Implemented hb_gt_wvt_PaintGObjects( PHB_GTWVT pWVT, RECT *uRect )
> ? ? ?just before EndPaint() call.
>
> ?+ harbour/contrib/gtwvg/wvgcuig.c
> ? ?+ Implementation of pure static controls with Clipper like
> ? ? ?approach leaving away the details of heavy GTWVG base
> ? ? ?protocol.
>
> ?* harbour/contrib/gtwvg/tests/demowvg.prg
> ? ?! Implemented simplified GUI look to a CUI console.
> ? ? ?Now it is possible TO build console dialogs pretty fast.
> ? ? ?This implementation assumes that appln will NOT use
> ? ? ?overlapping screens as with SaveScreen()/RestScreen()
> ? ? ?functions. Instead a new window will be opened to host
> ? ? ?overlapping screens.
>
> ? ? ?Please look at <Traditional><WVG Console with GCUI> to
> ? ? ?look at this functionality. The code goes below:
>
> ? ? ?/* ? ?PROCEDURE GCUIConsole()
> ? ? ? ? ? ? ? LOCAL dDate ? ? ?:= ctod( "" )
> ? ? ? ? ? ? ? LOCAL cName ? ? ?:= Space( 35 )
> ? ? ? ? ? ? ? LOCAL cAdd1 ? ? ?:= Space( 35 )
> ? ? ? ? ? ? ? LOCAL cAdd2 ? ? ?:= Space( 35 )
> ? ? ? ? ? ? ? LOCAL cAdd3 ? ? ?:= Space( 35 )
> ? ? ? ? ? ? ? LOCAL nSlry ? ? ?:= 0
> ? ? ? ? ? ? ? LOCAL nColGet ? ?:= 8
> ? ? ? ? ? ? ? LOCAL GetList ? ?:= {}
> ? ? ? ? ? ? ? LOCAL cLabel ? ? := "VOUCH, that GROWS with you"
>
> ? ? ? ? ? ? ? SetColor( "N/W,N/GR*,,,N/W*" )
> ? ? ? ? ? ? ? CLS
> ? ? ? ? ? ? ? hb_gtInfo( HB_GTI_WINTITLE, "WVG Simplified GUI Console" )
>
> ? ? ? ? ? ? ? @ MaxRow(), 0 SAY PadC( "GTWVG Simplified GUI Console", maxcol()+1 ) COLOR "W+/B*"
>
> ? ? ? ? ? ? ? @ ?2, nColGet SAY "< Date >"
> ? ? ? ? ? ? ? @ ?5, nColGet SAY "<" + PadC( "Name", 33 ) + ">"
> ? ? ? ? ? ? ? @ ?8, nColGet SAY "<" + PadC( "Address", 33) + ">"
> ? ? ? ? ? ? ? @ 15, nColGet SAY "< Salary >"
>
> ? ? ? ? ? ? ? @ ?3, nColGet GET dDate
> ? ? ? ? ? ? ? @ ?6, nColGet GET cName
> ? ? ? ? ? ? ? @ ?9, nColGet GET cAdd1
> ? ? ? ? ? ? ? @ 11, nColGet GET cAdd2
> ? ? ? ? ? ? ? @ 13, nColGet GET cAdd3
> ? ? ? ? ? ? ? @ 16, nColGet GET nSlry PICTURE "@Z 9999999.99"
>
> ? ? ? ? ? ? ? // The only additional calls to render your console GUI
> ? ? ? ? ? ? ? //
> ? ? ? ? ? ? ? // The GETLIST ?: This can be embedded via ?@ GET preprocessor command
> ? ? ? ? ? ? ? aEval( GetList, {|oGet| Wvg_BoxGet( oGet:Row, oGet:Col, Len( Transform( oGet:VarGet(), oGet:Picture ) ) ) } )
>
> ? ? ? ? ? ? ? // And thsese can be another @ SAY commands
> ? ? ? ? ? ? ? Wvg_BoxRaised( 1, 2, 18, 49, { -5,-5,5,5 } )
>
> ? ? ? ? ? ? ? Wvg_BoxRecessed( 1, 2, 18, 49 )
>
> ? ? ? ? ? ? ? Wvg_BoxGroupRaised( 2, 4, 17, 47, { -7,-7,7,7 } )
>
> ? ? ? ? ? ? ? // Instruct GT to Repaint the Screen with GUI elements.
> ? ? ? ? ? ? ? Wvt_InvalidateRect( 0, 0, maxrow(), maxcol() )
>
> ? ? ? ? ? ? ? // Issue the read
> ? ? ? ? ? ? ? READ
>
> ? ? ? ? ? ? ? RETURN
> ? ? ?*/
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/gtwvg/Makefile
> ? ?trunk/harbour/contrib/gtwvg/common.mak
> ? ?trunk/harbour/contrib/gtwvg/gtwvg.c
> ? ?trunk/harbour/contrib/gtwvg/gtwvg.h
> ? ?trunk/harbour/contrib/gtwvg/tests/demowvg.prg
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/gtwvg/wvgcuig.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Sun Mar  1 05:15:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  1 05:15:25 2009
Subject: [Harbour] About some readme.txt and tests dirs
In-Reply-To: <9257026e0903010022j1a32d676h49e3e9cad935ec39@mail.gmail.com>
References: <9257026e0903010022j1a32d676h49e3e9cad935ec39@mail.gmail.com>
Message-ID: <18d502870903010215l3964c4bbh7eb4f39827a19809@mail.gmail.com>

>
> - if we shouldn't remove:
> contrib/hbct/ctflist.txt
> contrib/hbct/readme.txt
> contrib/hbpgsql/readme.txt
> contrib/hbgd/readme.txt
> contrib/odbc/readme.txt
> contrib/hbvpdf/readme.txt
> contrib/hbvpdf/tests/files/test.txt
> most are outdated and without any important information inside. They
> don't give an "healthy look" of the contribs.


Yes, I agree. I can remove these (except test.txt
which is needed by the test program).

These also seem outdated and redundant:
doc/funclist.txt
doc/lang_id.txt
doc/hrb_faq.txt
doc/howtomak.txt
doc/hbmake.txt

- move all contrib tests to the test dir
> today I have to download the svn tree or the sources to run the tests,
> while I should be able to run them only using a binary distribution.
> I should be able to simply do hbmk -n test1 -libxyx or better hbmk2
> test1.hbm without navigating the source tree.


Here I disagree, since IMO it's better to keep
everything belonging to one contrib inside one
subdir for separation of components. For the SVN
that is, for a distributed binary package, it would
be indeed very good to provide a subdir with all the
samples in it:

/samples/tests/*.* (from /tests/)
/samples/<example dirs>/*.* (from contrib/examples/)
/samples/<contrib name>/*.prg (from contrib/*/tests/)

(or something similar)

- I would also remove:
> ./contrib/hbodbc/tests/harbour.mdb
> I can't easily read it ( are there mdb odbc drivers for Linux or OSX?
> ) so it's better to not provide data we can't easily control.


I don't know, but last time this file didn't work for me
on Windows either (it said it's corrupted). Since the test program
is expecting this file to exist, it would be good to change it to
create its own test files automatically (possibly a format which
is portable).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/acb243f2/attachment-0001.html
From lorenzo.fiorini at gmail.com  Sun Mar  1 06:59:38 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  1 06:59:42 2009
Subject: [Harbour] About some readme.txt and tests dirs
In-Reply-To: <18d502870903010215l3964c4bbh7eb4f39827a19809@mail.gmail.com>
References: <9257026e0903010022j1a32d676h49e3e9cad935ec39@mail.gmail.com>
	<18d502870903010215l3964c4bbh7eb4f39827a19809@mail.gmail.com>
Message-ID: <9257026e0903010359k6374684bg408dad35edf0f203@mail.gmail.com>

On Sun, Mar 1, 2009 at 11:15 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Yes, I agree. I can remove these (except test.txt
> which is needed by the test program).

Oops I didn't check it. I think it's better to use famous "Lorem
Ipsum" for text samples.
Actually it seems a "messy license" text.

> These also seem outdated and redundant:
> doc/funclist.txt
> doc/lang_id.txt
> doc/hrb_faq.txt
> doc/howtomak.txt
> doc/hbmake.txt

Good.

> Here I disagree, since IMO it's better to keep
> everything belonging to one contrib inside one
> subdir for separation of components.

No problem it was just an idea.

> For the SVN?that is, for a distributed binary package, it would
> be indeed very good to provide a subdir with all the
> samples in it:
> /samples/tests/*.* (from /tests/)
> /samples/<example dirs>/*.* (from contrib/examples/)
> /samples/<contrib name>/*.prg (from contrib/*/tests/)

I wouldn't mix binaries and sources.
F.e. under *nix you normally don't have the rights to create files in
the install dirs.
It means that you can't compile there.

I think it's better to provide a zip with all the samples inside.

> I don't know, but last time this file didn't work for me
> on Windows either (it said it's corrupted). Since the test program
> is expecting this file to exist, it would be good to change it to
> create its own test files?automatically (possibly a format which
> is portable).

Is there anyone in charge for odbc? If not I'll check it.

best regards,
Lorenzo
From mhsabado at gmail.com  Sun Mar  1 07:22:33 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Sun Mar  1 07:22:57 2009
Subject: [Harbour] No Generated HBVMMT.LIB with BCC32
In-Reply-To: <49aa6062.1c0bca0a.2cdf.216dSMTPIN_ADDED@mx.google.com>
References: <49aa6062.1c0bca0a.2cdf.216dSMTPIN_ADDED@mx.google.com>
Message-ID: <49AA7E09.3030809@gmail.com>

Hi,

With the latest SVN, there is no generated HBVMMT.LIB using BCC32.  Any 
hint?

Thanks,
Mario
From sjmachin at lexicon.net  Sun Mar  1 07:37:07 2009
From: sjmachin at lexicon.net (John Machin)
Date: Sun Mar  1 07:37:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10288] trunk/harbour
In-Reply-To: <49999D7D.6000302@marchuet.net>
References: <E1LZ1zg-0002aw-Rx@74yxhf1.ch3.sourceforge.com>
	<49999D7D.6000302@marchuet.net>
Message-ID: <1235911027826-2404328.post@n2.nabble.com>



Miguel Angel Marchuet wrote:
> 
> 
> do you have any info about this ones ?
> 
>           932           Japanese Windows                        x7B
>           936           Chinese (PRC, Singapore) Windows        x7A
>           949           Korean Windows                          x79
>           950           Chinese (Hong Kong SAR, Taiwan) Windows x78
>           10000         Standard Macintosh                      x04
> 
> vszakats@users.sourceforge.net escribi?:
>> Revision: 10288
>>          
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10288&view=rev
>> Author:   vszakats
>> Date:     2009-02-16 11:50:35 +0000 (Mon, 16 Feb 2009)
>> 
>> Log Message:
>> -----------
>> 2009-02-17 12:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> [snip]
>>      + Added missing codepages. Except for multi-byte ones,
>>        which I believe are not supported by the current
>>        Harbour infrastructure.
> [snip]
> 

What do you want to know? If it's the tables for converting from those
character sets to Unicode and back again, they can be found at
http://unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/
for 932, 936, 949 and 950 and at
http://unicode.org/Public/MAPPINGS/VENDORS/MICSFT/MAC/
for 10000 (for cp10000 aka MacRoman you need ROMAN.TXT)

The 9xx charsets are *MULTIBYTE* ... note the comment from vszakats:
"""Added missing codepages. Except for multi-byte ones,  which I believe are
not supported by the current  Harbour infrastructure."""

HTH

Cheers,
John

-- 
View this message in context: http://n2.nabble.com/SF.net-SVN%3A-harbour-project%3A-10288--trunk-harbour-tp2334401p2404328.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Sun Mar  1 07:53:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar  1 07:53:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10492] trunk/harbour
Message-ID: <E1LdlAS-0006ky-8A@dn4whf1.ch3.sourceforge.com>

Revision: 10492
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10492&view=rev
Author:   druzus
Date:     2009-03-01 12:53:15 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 13:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/include/hbstack.h
  * harbour/source/vm/hvm.c
  * harbour/source/vm/estack.c
  * harbour/source/vm/memvars.c
    ! fixed __M[V]CLEAR()/ __M[V]RESTORE() to be exactly Clipper compatible
      and do not release PUBLIC GetList value. Here it's small example
      which illustrates current behavior and exploits bug in previous
      version:
         memvar getlist
         proc main()
            getlist:="public:getlist"
            ? getlist
            private getlist:="private:getlist"
            ? getlist
            CLEAR MEMORY
            ? getlist
         return

  * harbour/source/compiler/gencc.c
    + added Harbour exception to the license - it's mine code with
      few lines added/modified by Ryszard and Viktor. I hope they do
      not have anything against.

  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/hbident.c
    * minor formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/source/compiler/gencc.c
    trunk/harbour/source/compiler/hbident.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/vm/estack.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Sun Mar  1 09:05:45 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Mar  1 09:09:09 2009
Subject: [Harbour] BCC32 build error: line is too long
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>

Using ChangeLog 2009-02-28 15:51 UTC-0800 Pritpal Bedi (rev 10491),
WinNT 4.0 and C++Builder 5.0 (my standard Harbour environment)

Everything works with the non-GNU make wich use make_b32.mak and common.mak,
but with the new make_b32.bat which uses the GNU make
(I put mingw32-make.exe 3.81 in the root of the Harbour source),
I get the following:

-----------------------------
The input line is too long.
mingw32-make.exe[3]: *** [hbrtl.lib] Error 255
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [rtl] Error 2
mingw32-make.exe: *** [source] Error 2
-----------------------------

The last lines in the log are:

-----------------------------
bcc32.exe -I. -I../../../../include -4 -O2 -OS -Ov -Oi -Oc -q -d -Q -w -w-sig- -tWM   -c wait.c -owait.obj
wait.c:
tlib.exe  "..\..\..\..\lib\win\bcc32\hbrtl.lib"  -+abs.obj  -+accept.obj  -+ampm.obj  -+at.obj  -+binnum.obj  -+binnumx.obj  -+box.obj  -+cdpapi.obj  -+chrasc.obj  -+colorind.obj  -+console.obj  -+copyfile.obj  -+datec.obj  -+dates.obj  -+dateshb.obj  -+datesx.obj  -+defpath.obj  -+defpathu.obj  -+descend.obj  -+dirdrive.obj  -+direct.obj  -+diskspac.obj  -+disksphb.obj  -+do.obj  -+empty.obj  -+errorapi.obj  -+errorapu.obj  -+errorint.obj  -+file.obj  -+filebuf.obj  -+filehb.obj  -+filesys.obj  -+fkmax.obj  -+fmhb.obj  -+fnsplit.obj  -+fscopy.obj  -+fserror.obj  -+fssize.obj  -+fstemp.obj  -+gete.obj  -+gt.obj  -+gtapi.obj  -+gtchrmap.obj  -+gtclip.obj  -+gtfunc.obj  -+gtkbstat.obj  -+gtkeycod.obj  -+gtsys.obj  -+gttone.obj  -+gx.obj  -+hardcr.obj  -+hbadler.obj  -+hbbit.obj  -+hbcrc.obj  -+hbhex.obj  -+hbmd5.obj  -+hbntos.obj  -+hbffind.obj  -+hbfile.obj  -+hbgtcore.obj  -+hbi18n1.obj  -+hbinet.obj  -+hbproces.obj  -+hbprocfn.obj  -+hbrandom.obj  -+hbregex.obj  -+hbregexc.obj  -+hbrunfun.obj  -+hbstrsh.obj  -+hbtoken.obj  -+hbzlib.obj  -+idle.obj  -+inkey.obj  -+inkeyapi.obj  -+is.obj  -+isprint.obj  -+itemseri.obj  -+langapi.obj  -+left.obj  -+len.obj  -+lennum.obj  -+math.obj  -+maxrow.obj  -+memofile.obj  -+minmax.obj  -+mlcfunc.obj  -+mod.obj  -+mouse53.obj  -+mouseapi.obj  -+mousehb.obj  -+mousex.obj  -+mtran.obj  -+natmsg.obj  -+natmsgu.obj  -+net.obj  -+oemansi.obj  -+oemansix.obj  -+oldbox.obj  -+oldclear.obj  -+pad.obj  -+padc.obj  -+padl.obj  -+padr.obj  -+philes.obj  -+philes53.obj  -+philesx.obj  -+rat.obj  -+replic.obj  -+right.obj  -+round.obj  -+run.obj  -+samples.obj  -+saverest.obj  -+scroll.obj  -+scrrow.obj  -+secondfs.obj  -+seconds.obj  -+setcolor.obj  -+setcurs.obj  -+setkey.obj  -+setpos.obj  -+setposbs.obj  -+shadow.obj  -+shadowu.obj  -+soundex.obj  -+space.obj  -+spfiles.obj  -+str.obj  -+strc.obj  -+strcase.obj  -+strmatch.obj  -+strpeek.obj  -+strtoexp.obj  -+strtran.obj  -+strxor.obj  -+strzero.obj  -+stuff.obj  -+substr.obj  -+tone.obj  -+trace.obj  -+transfrm.obj  -+trim.obj  -+tscalara.obj  -+tscalarb.obj  -+tscalarc.obj  -+tscalard.obj  -+tscalarh.obj  -+tscalarl.obj  -+tscalarn.obj  -+tscalarp.obj  -+tscalars.obj  -+tscalaru.obj  -+type.obj  -+val.obj  -+valtostr.obj  -+valtype.obj  -+version.obj  -+word.obj  -+xhelp.obj  -+xsavescr.obj  -+achoice.obj  -+adir.obj  -+alert.obj  -+altd.obj  -+browdb.obj  -+browdbx.obj  -+browse.obj  -+checkbox.obj  -+color53.obj  -+dbedit.obj  -+devoutp.obj  -+dircmd.obj  -+dirscan.obj  -+einstv52.obj  -+einstvar.obj  -+einstvau.obj  -+errorsys.obj  -+fieldbl.obj  -+getlist.obj  -+getsys.obj  -+getsys53.obj  -+gui.obj  -+hbi18n2.obj  -+hbini.obj  -+input.obj  -+listbox.obj  -+memoedit.obj  -+memvarbl.obj  -+menuto.obj  -+menusys.obj  -+objfunc.obj  -+perfuncs.obj  -+profiler.obj  -+pushbtn.obj  -+radiobtn.obj  -+radiogrp.obj  -+readkey.obj  -+readvar.obj  -+scrollbr.obj  -+setfunc.obj  -+setta.obj  -+tclass.obj  -+tbcolumn.obj  -+tbrowse.obj  -+tbrowsys.obj  -+teditor.obj  -+text.obj  -+tget.obj  -+tgetint.obj  -+tgetlist.obj  -+tgetx.obj  -+thfuncx.obj  -+tlabel.obj  -+tmenuitm.obj  -+tmenusys.obj  -+tobject.obj  -+tpersist.obj  -+tpopup.obj  -+treport.obj  -+tscalar.obj  -+tsymbol.obj  -+ttextlin.obj  -+tthreadx.obj  -+ttopbar.obj  -+typefile.obj  -+typefilx.obj  -+valtoexp.obj  -+wait.obj,,
mingw32-make.exe[3]: Leaving directory `E:/hrb/source/rtl/win/bcc32'
mingw32-make.exe[2]: Leaving directory `E:/hrb/source/rtl'
mingw32-make.exe[1]: Leaving directory `E:/hrb/source'
-----------------------------

tlib.exe is TLIB 4.5 from C++Builder 5.0 which is working just fine in the non-GNU batch.
Try it both from CMD.exe and Command.com the same error.

the non-GNU make create a temp file to store the obj files needed for the lib and not pass them
in one huge like:

 tlib.exe "lib\b32\hbrtl.lib" /P64 @MAKE0007.@@@


  Chen.
From vszakats at users.sourceforge.net  Sun Mar  1 09:32:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 09:32:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10493] trunk/harbour
Message-ID: <E1LdmiJ-0003d4-KM@d5vjzd1.ch3.sourceforge.com>

Revision: 10493
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10493&view=rev
Author:   vszakats
Date:     2009-03-01 14:32:18 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 15:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - contrib/hbct/ctflist.txt
  - contrib/hbodbc/odbc.txt
  - contrib/hbodbc/readme.txt
  - contrib/hbpgsql/readme.txt
  - contrib/hbgd/readme.txt
  * contrib/hbgd/tests/counter.prg
  * contrib/hbgd/Makefile
  - contrib/hbvpdf/readme.txt
  + contrib/hbvpdf/ChangeLog
    * Some cleanups.

  * doc/gmake.txt
    * '-r' requirement removed.

  * doc/codestyl.txt
    * Grammar.

  - doc/funclist.txt
  - doc/howtomak.txt
  - doc/hrb_faq.txt
  - doc/hbmake.txt
  - doc/lang_id.txt
    - Deleted obsolete files.

  * INSTALL
    + Added Bison version required.
    * Minor typo.

  * contrib/hbvpdf/tests/files/test.txt
    * Changed text to lorem ipsum.

  * utils/hbmk2/hbmk2.prg
    * Two line ending spaces removed from output.

  * mpkg_win.nsi
    ! Fixed to include subdir for doc dir.

  * config/global.cf
    + Added comment from doc file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbgd/tests/counter.prg
    trunk/harbour/contrib/hbvpdf/tests/files/test.txt
    trunk/harbour/doc/codestyl.txt
    trunk/harbour/doc/gmake.txt
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbvpdf/ChangeLog

Removed Paths:
-------------
    trunk/harbour/contrib/hbct/ctflist.txt
    trunk/harbour/contrib/hbgd/readme.txt
    trunk/harbour/contrib/hbodbc/odbc.txt
    trunk/harbour/contrib/hbodbc/readme.txt
    trunk/harbour/contrib/hbpgsql/readme.txt
    trunk/harbour/contrib/hbvpdf/readme.txt
    trunk/harbour/doc/funclist.txt
    trunk/harbour/doc/hbmake.txt
    trunk/harbour/doc/howtomak.txt
    trunk/harbour/doc/hrb_faq.txt
    trunk/harbour/doc/lang_id.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Mar  1 09:40:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  1 09:41:02 2009
Subject: [Harbour] No Generated HBVMMT.LIB with BCC32
In-Reply-To: <49AA7E09.3030809@gmail.com>
References: <49aa6062.1c0bca0a.2cdf.216dSMTPIN_ADDED@mx.google.com>
	<49AA7E09.3030809@gmail.com>
Message-ID: <18d502870903010640w11ce3274nef97badbac4fb197@mail.gmail.com>

Hi Mario,
Pls post your build log to see what went wrong.

Brgds,
Viktor

On Sun, Mar 1, 2009 at 1:22 PM, Mario H. Sabado <mhsabado@gmail.com> wrote:

> Hi,
>
> With the latest SVN, there is no generated HBVMMT.LIB using BCC32.  Any
> hint?
>
> Thanks,
> Mario
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/ffebad35/attachment.html
From harbour.01 at syenar.hu  Sun Mar  1 09:44:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  1 09:44:28 2009
Subject: [Harbour] About some readme.txt and tests dirs
In-Reply-To: <9257026e0903010359k6374684bg408dad35edf0f203@mail.gmail.com>
References: <9257026e0903010022j1a32d676h49e3e9cad935ec39@mail.gmail.com>
	<18d502870903010215l3964c4bbh7eb4f39827a19809@mail.gmail.com>
	<9257026e0903010359k6374684bg408dad35edf0f203@mail.gmail.com>
Message-ID: <18d502870903010644y6845ef93jb5b9f22e8d470d22@mail.gmail.com>

>
> > Yes, I agree. I can remove these (except test.txt
> > which is needed by the test program).
>
> Oops I didn't check it. I think it's better to use famous "Lorem
> Ipsum" for text samples.
> Actually it seems a "messy license" text.


I'll do that.


> > For the SVN that is, for a distributed binary package, it would
> > be indeed very good to provide a subdir with all the
> > samples in it:
> > /samples/tests/*.* (from /tests/)
> > /samples/<example dirs>/*.* (from contrib/examples/)
> > /samples/<contrib name>/*.prg (from contrib/*/tests/)
>
> I wouldn't mix binaries and sources.
> F.e. under *nix you normally don't have the rights to create files in
> the install dirs.
> It means that you can't compile there.
>
> I think it's better to provide a zip with all the samples inside.


Yes, probably this is the best.

For Windows installer it can also be made an install time option.


> > I don't know, but last time this file didn't work for me
> > on Windows either (it said it's corrupted). Since the test program
> > is expecting this file to exist, it would be good to change it to
> > create its own test files automatically (possibly a format which
> > is portable).
>
> Is there anyone in charge for odbc? If not I'll check it.


Antonio was, a long time ago.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/75d6b7d1/attachment-0001.html
From vszakats at users.sourceforge.net  Sun Mar  1 10:06:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 10:07:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10494] trunk/harbour
Message-ID: <E1LdnFq-0001dP-Df@dn4whf1.ch3.sourceforge.com>

Revision: 10494
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10494&view=rev
Author:   vszakats
Date:     2009-03-01 15:06:53 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 16:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/bcc32.cf
    ! Fixed to use response files with tlib, to avoid command line 
      length limits on some systems.

  - tests/run_prg.bat
  + tests/run.bat
  - tests/run_prg_all.bat
  + tests/run_all.bat
    * Renamed to short name.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc32.cf

Added Paths:
-----------
    trunk/harbour/tests/run.bat
    trunk/harbour/tests/run_all.bat

Removed Paths:
-------------
    trunk/harbour/tests/run_prg.bat
    trunk/harbour/tests/run_prg_all.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Mar  1 10:41:15 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  1 10:41:20 2009
Subject: [Harbour] Errors in latest SVN
Message-ID: <BA4170C4B056475CB8DCC6F406C209E8@emag>

Error: Unresolved external '_hb_strnicmp' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fsMaxFilesError' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_strRemEscSeq' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_strndup' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_stricmp' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fsFreeSearchPath' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fsAddSearchPath' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_verPlatform' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_dateToday' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_dateStrPut' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_dateTimeStr' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_szAscii' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_strupr' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_snprintf' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fsFileExists' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fopen' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_strncpy' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_strValInt' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_strdup' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_getenv' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fsFNameSplit' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ
Error: Unresolved external '_hb_fsFNameMerge' referenced from 
E:\HARBOUR_CVS\HARBOUR\SOURCE\PP\WIN\BCC32\HBPP.OBJ

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sun Mar  1 11:07:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 11:07:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10495] trunk/harbour
Message-ID: <E1LdoCJ-0005WG-UF@d5vjzd1.ch3.sourceforge.com>

Revision: 10495
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10495&view=rev
Author:   vszakats
Date:     2009-03-01 16:07:23 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 17:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/bcc32.cf
    ! Fix to prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc32.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar  1 11:32:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar  1 11:32:18 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22270970.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com>
Message-ID: <609353e70903010832u3aa07d39n346292b9c2097591@mail.gmail.com>

I am using only for bcc
can you share env for minigw,msvc when you found?
can i suggest to see xdevstudio (made by vailton renato)  as
replacement for xmate
 http://www.sqllib.com.br/v4/index.php?artigo=xDevStudio

2009/3/1 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Everybody
>
> Does anybody have xmate project .env file for MinGW ?
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22270970.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From bedipritpal at hotmail.com  Sun Mar  1 11:49:31 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  1 11:49:35 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <609353e70903010832u3aa07d39n346292b9c2097591@mail.gmail.com>
References: <22270970.post@talk.nabble.com>
	<609353e70903010832u3aa07d39n346292b9c2097591@mail.gmail.com>
Message-ID: <22274940.post@talk.nabble.com>


For Whom It May Concern
===================

Xmate's MSVC 2008 .Env


[Environment]
Description 1=
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=
Last update=02/23/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\hrb_dist\msvc2008
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc0 /w1 /es2
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\Program Files\Microsoft Visual Studio 9.0\VC
C_COMP_COMMAND=%C_BIN_INSTALL%\cl.exe /nologo -TP -W3 -c /GA
-I%HB_INC_INSTALL% -I"C:\Program Files\Microsoft SDKs\Windows\v6.0A\include"
-I%C_INC_INSTALL%  /Fo%OBJ% %C%%CRLF%
C_LIB_COMMAND=%C_BIN_INSTALL%\Lib.Exe /nologo /out:%LIB% @%RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\Link.Exe  @%LNK% /nologo /subsystem:windows
/force:multiple /NODEFAULTLIB:libc  /LIBPATH:%C_LIB_INSTALL%
/LIBPATH:"C:\Program Files\Microsoft SDKs\Windows\v6.0A\include" 
/NODEFAULTLIB:libc
C_RC_COMMAND=C:\Program Files\Microsoft SDKs\Windows\v6.0A\bin\rc.Exe -r
-d__FLAT__ -d__MSVC__ -i%HOME%\resource -i"C:\Program Files\Microsoft
SDKs\Windows\v6.0A\include" -i%C_INC_INSTALL% -fo%RES%  %RC%%CRLF%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvmmt.lib=3
%HB_LIB_INSTALL%\hblang.lib=4
%HB_LIB_INSTALL%\hbmacro.lib=5
%HB_LIB_INSTALL%\hbrdd.lib=6
%HB_LIB_INSTALL%\rddntx.lib=7
%HB_LIB_INSTALL%\rddcdx.lib=8
%HB_LIB_INSTALL%\rddfpt.lib=9
%HB_LIB_INSTALL%\hbcommon.lib=10
%HB_LIB_INSTALL%\hbpp.lib=11
%HB_LIB_INSTALL%\hbsix.lib=12
%HB_LIB_INSTALL%\gtwvg.Lib=13
%HB_LIB_INSTALL%\hbct.lib=14
%HB_LIB_INSTALL%\hbpcre.lib=15
%HB_LIB_INSTALL%\hbusrrdd.lib=16
%HB_LIB_INSTALL%\hbwin.lib=17
%HB_LIB_INSTALL%\hbtip.lib=18
%HB_LIB_INSTALL%\hbmzip.lib=19
%HB_LIB_INSTALL%\hbzlib.lib=20
%HB_LIB_INSTALL%\hbziparc.lib=21
%HB_LIB_INSTALL%\gtcgi.lib=25
%HB_LIB_INSTALL%\gtgui.lib=26
%HB_LIB_INSTALL%\gtwin.lib=27
%HB_LIB_INSTALL%\gtwvt.lib=28
%HB_LIB_INSTALL%\hbnf.lib=29
%HB_LIB_INSTALL%\xhb.lib=29
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38

[DLL Files]
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvm.lib=3
%HB_LIB_INSTALL%\gtwin.lib=4
%HB_LIB_INSTALL%\hblang.lib=5
%HB_LIB_INSTALL%\hbmacro.lib=6
%HB_LIB_INSTALL%\hbrdd.lib=7
%HB_LIB_INSTALL%\rddntx.lib=8
%HB_LIB_INSTALL%\rddcdx.lib=9
%HB_LIB_INSTALL%\hbdebug.lib=10
%HB_LIB_INSTALL%\hbcommon.lib=11
%HB_LIB_INSTALL%\hbpp.lib=12
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38



Provided by Francesco.


Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22274940.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Sun Mar  1 12:06:28 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  1 12:06:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10495] trunk/harbour
References: <E1LdoCJ-0005WG-UF@d5vjzd1.ch3.sourceforge.com>
Message-ID: <13B15428E8A24A1C86A89A5FED3AFEB8@emag>


-----Messaggio Originale----- 
Da: <vszakats@users.sourceforge.net>
A: <harbour@harbour-project.org>
Data invio: domenica 1 marzo 2009 17.07
Oggetto: [Harbour] SF.net SVN: harbour-project:[10495] trunk/harbour


> 2009-03-01 17:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * config/win/bcc32.cf
>    ! Fix to prev.

Thank you. It's ok now and much better than before because now we don't have 
all that tlib's warning anymore.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From abe.buch at att.net  Sun Mar  1 12:16:06 2009
From: abe.buch at att.net (AbeB)
Date: Sun Mar  1 12:16:09 2009
Subject: [Harbour] Windows & msys: make_gnu_xmingwce.sh
Message-ID: <1235927766015-2405121.post@n2.nabble.com>


getting these errors

ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3468/harbour.exe'
to `/local/harbour/bin/harbour': No such file or directory
ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3468/hbpp.exe' to
`/local/harbour/bin/hbpp': No such file or directory

it's trying to create a link to harbour instead of harbour.exe



-- 
View this message in context: http://n2.nabble.com/Windows---msys%3A-make_gnu_xmingwce.sh-tp2405121p2405121.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Mar  1 12:19:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 12:19:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10496] trunk/harbour
Message-ID: <E1LdpK7-0001xa-0U@74yxhf1.ch3.sourceforge.com>

Revision: 10496
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10496&view=rev
Author:   vszakats
Date:     2009-03-01 17:19:29 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 18:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * make_b32.bat
  * doc/gmake.txt
  * bin/postinst.bat
  * bin/hb-mkdyn.bat
  * make_gnu.bat
  * contrib/hbfimage/readme.txt
  * contrib/examples/uhttpd/modules/bldhrb.bat
  * source/vm/Makefile
  * source/rtl/console.c
  * source/compiler/gencobj.c
  * utils/hbmk2/hbmk2.prg
  * utils/hbmk2/examples/winapi.hbp
  - config/win/bcc32.cf
  + config/win/bcc.cf
    * Long time TODO done: Renamed bcc32 compiler name to bcc.
      bcc32 is still accepted by make_gnu.bat, but will be 
      removed in the future, so it's recommended to update 
      your local settings to use:
      set HB_COMPILER=bcc

  - config/dos/bcc16.cf
    - Deleted bcc16 compiler support. I didn't work since ages,
      and Harbour doesn't support 16-bit compilers anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/examples/uhttpd/modules/bldhrb.bat
    trunk/harbour/contrib/hbfimage/readme.txt
    trunk/harbour/doc/gmake.txt
    trunk/harbour/make_b32.bat
    trunk/harbour/make_gnu.bat
    trunk/harbour/source/compiler/gencobj.c
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/vm/Makefile
    trunk/harbour/utils/hbmk2/examples/winapi.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/bcc.cf

Removed Paths:
-------------
    trunk/harbour/config/dos/bcc16.cf
    trunk/harbour/config/win/bcc32.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marek.horodyski at interia.pl  Sun Mar  1 12:23:21 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sun Mar  1 12:23:28 2009
Subject: [Harbour] uHTTPD build.
Message-ID: <20090301172321.E4B603E88BE@f38.poczta.interia.pl>

I can correctly prepare DDEMOWVG. But when tru uHTTPD, i have this error :

D:\harbour\contrib\examples\uhttpd>hbmk2 -n uhttpd.hbm

and on screen :

D:\harbour\include\hbdefs.h(338): Warning! W583: col(33) redefinition of the typedef name 'INT32' ignored
D:\harbour\include\hbdefs.h(338): Note! N393: col(33) included from D:\harbour\include\hbvmpub.h(56)
D:\harbour\include\hbdefs.h(338): Note! N393: col(33) included from D:\harbour\include\hbapi.h(61)
D:\harbour\include\hbdefs.h(338): Note! N393: col(33) included from uhttpdc.c(62)
D:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
uhttpdc.c(75): Warning! W628: col(70) expression is not meaningful
uhttpdc.c(75): Warning! W628: col(74) expression is not meaningful
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
loading object files
searching libraries
Error! E2028: HB_FUN_SOCKET_CREATE_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_BIND_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_ERROR_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_LISTEN_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_SELECT_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_ACCEPT_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_CLOSE_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_SHUTDOWN_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_INIT_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_EXIT_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_RECV_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_SEND_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_GETPEERNAME_ is an undefined reference
Error! E2028: HB_FUN_SOCKET_GETSOCKNAME_ is an undefined reference
Error! E2028: HB_FUN_HB_GT_wvg_ is an undefined reference
creating a Windows NT character-mode executable
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_CREATE_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_BIND_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_ERROR_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_LISTEN_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_SELECT_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_ACCEPT_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_CLOSE_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_SHUTDOWN_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_INIT_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_EXIT_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_RECV_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_SEND_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_GETPEERNAME_
file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined symbol HB_FUN_SOCKET_GETSOCKNAME_
file hbrtl.lib(D:\harbour\source\rtl\gtsys.c): undefined symbol HB_FUN_HB_GT_wvg_

What is wrong ?

Regards,
Marek Horodyski

----------------------------------------------------------------------
Dodatkowy dzien wolny od pracy? Wypowiedz sie i wygraj nagrode!
Wejdz >>  http://link.interia.pl/f2077 

From harbour.01 at syenar.hu  Sun Mar  1 12:28:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  1 12:28:58 2009
Subject: [Harbour] uHTTPD build.
In-Reply-To: <20090301172321.E4B603E88BE@f38.poczta.interia.pl>
References: <20090301172321.E4B603E88BE@f38.poczta.interia.pl>
Message-ID: <18d502870903010928x17eb221dt8cbd93b008a10cc3@mail.gmail.com>

I'll do some minor cleanups to make it work without the hbmk.bat file, but
until then I suggest to use the hbmk.bat in uhttpd dir.

As for gtwvg, I'm not sure how it goes into the mix here.

Brgds,
Viktor

On Sun, Mar 1, 2009 at 6:23 PM, <marek.horodyski@interia.pl> wrote:

> I can correctly prepare DDEMOWVG. But when tru uHTTPD, i have this error :
>
> D:\harbour\contrib\examples\uhttpd>hbmk2 -n uhttpd.hbm
>
> and on screen :
>
> D:\harbour\include\hbdefs.h(338): Warning! W583: col(33) redefinition of
> the typedef name 'INT32' ignored
> D:\harbour\include\hbdefs.h(338): Note! N393: col(33) included from
> D:\harbour\include\hbvmpub.h(56)
> D:\harbour\include\hbdefs.h(338): Note! N393: col(33) included from
> D:\harbour\include\hbapi.h(61)
> D:\harbour\include\hbdefs.h(338): Note! N393: col(33) included from
> uhttpdc.c(62)
> D:\WATCOM\H\NT\basetsd.h(35): Note! N392: col(29) definition: 'INT32'
> uhttpdc.c(75): Warning! W628: col(70) expression is not meaningful
> uhttpdc.c(75): Warning! W628: col(74) expression is not meaningful
> Open Watcom Linker Version 1.8
> Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
> Source code is available under the Sybase Open Watcom Public License.
> See http://www.openwatcom.org/ for details.
> loading object files
> searching libraries
> Error! E2028: HB_FUN_SOCKET_CREATE_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_BIND_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_ERROR_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_LISTEN_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_SELECT_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_ACCEPT_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_CLOSE_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_SHUTDOWN_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_INIT_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_EXIT_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_RECV_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_SEND_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_GETPEERNAME_ is an undefined reference
> Error! E2028: HB_FUN_SOCKET_GETSOCKNAME_ is an undefined reference
> Error! E2028: HB_FUN_HB_GT_wvg_ is an undefined reference
> creating a Windows NT character-mode executable
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_CREATE_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_BIND_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_ERROR_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_LISTEN_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_SELECT_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_ACCEPT_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_CLOSE_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_SHUTDOWN_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_INIT_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_EXIT_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_RECV_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_SEND_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_GETPEERNAME_
> file uhttpd.obj(D:\harbour\contrib\examples\uhttpd\uhttpd.c): undefined
> symbol HB_FUN_SOCKET_GETSOCKNAME_
> file hbrtl.lib(D:\harbour\source\rtl\gtsys.c): undefined symbol
> HB_FUN_HB_GT_wvg_
>
> What is wrong ?
>
> Regards,
> Marek Horodyski
>
> ----------------------------------------------------------------------
> Dodatkowy dzien wolny od pracy? Wypowiedz sie i wygraj nagrode!
> Wejdz >>  http://link.interia.pl/f2077
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/3e45f27e/attachment.html
From vszakats at users.sourceforge.net  Sun Mar  1 12:39:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 12:39:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10497] trunk/harbour
Message-ID: <E1Ldpdd-0002dW-8A@74yxhf1.ch3.sourceforge.com>

Revision: 10497
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10497&view=rev
Author:   vszakats
Date:     2009-03-01 17:39:40 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 18:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/examples/uhttpd/hbmk.bat
  * contrib/examples/uhttpd/uhttpd.hbm
    * Changed to build without using hbmk.bat.
      (socket.c is now always linked)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat
    trunk/harbour/contrib/examples/uhttpd/uhttpd.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar  1 12:43:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar  1 12:43:55 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22274940.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com>
	<609353e70903010832u3aa07d39n346292b9c2097591@mail.gmail.com>
	<22274940.post@talk.nabble.com>
Message-ID: <609353e70903010943w7b3f46b1rc6aa874307f98aaf@mail.gmail.com>

why /gc0  istead /gc3?

2009/3/1 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> For Whom It May Concern
> ===================
>
> Xmate's MSVC 2008 .Env
>
>
> [Environment]
> Description 1=
> Description 2=
> Description 3=
> PRG Compiler ver=
> C compiler ver=
> Subsystem=
> Author=
> Last update=02/23/2009
>
> [Advanced]
> Command types=1,1,1,1,1,1,1,1,1
>
> [Harbour]
> HB_INSTALL=C:\hrb_dist\msvc2008
> HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc0 /w1 /es2
> /i%HB_INC_INSTALL%
> Option prefix=/
>
> [C]
> C_INSTALL=C:\Program Files\Microsoft Visual Studio 9.0\VC
> C_COMP_COMMAND=%C_BIN_INSTALL%\cl.exe /nologo -TP -W3 -c /GA
> -I%HB_INC_INSTALL% -I"C:\Program Files\Microsoft SDKs\Windows\v6.0A\include"
> -I%C_INC_INSTALL% ?/Fo%OBJ% %C%%CRLF%
> C_LIB_COMMAND=%C_BIN_INSTALL%\Lib.Exe /nologo /out:%LIB% @%RSP%
> C_LINK_COMMAND=%C_BIN_INSTALL%\Link.Exe ?@%LNK% /nologo /subsystem:windows
> /force:multiple /NODEFAULTLIB:libc ?/LIBPATH:%C_LIB_INSTALL%
> /LIBPATH:"C:\Program Files\Microsoft SDKs\Windows\v6.0A\include"
> /NODEFAULTLIB:libc
> C_RC_COMMAND=C:\Program Files\Microsoft SDKs\Windows\v6.0A\bin\rc.Exe -r
> -d__FLAT__ -d__MSVC__ -i%HOME%\resource -i"C:\Program Files\Microsoft
> SDKs\Windows\v6.0A\include" -i%C_INC_INSTALL% -fo%RES% ?%RC%%CRLF%
> C_DLL_COMMAND=
> Option prefix=-
>
> [User]
> POSTEXE_COMMAND=
> POSTLIB_COMMAND=
> POSTDLL_COMMAND=
>
> [Files]
> %HB_LIB_INSTALL%\hbrtl.lib=2
> %HB_LIB_INSTALL%\hbvmmt.lib=3
> %HB_LIB_INSTALL%\hblang.lib=4
> %HB_LIB_INSTALL%\hbmacro.lib=5
> %HB_LIB_INSTALL%\hbrdd.lib=6
> %HB_LIB_INSTALL%\rddntx.lib=7
> %HB_LIB_INSTALL%\rddcdx.lib=8
> %HB_LIB_INSTALL%\rddfpt.lib=9
> %HB_LIB_INSTALL%\hbcommon.lib=10
> %HB_LIB_INSTALL%\hbpp.lib=11
> %HB_LIB_INSTALL%\hbsix.lib=12
> %HB_LIB_INSTALL%\gtwvg.Lib=13
> %HB_LIB_INSTALL%\hbct.lib=14
> %HB_LIB_INSTALL%\hbpcre.lib=15
> %HB_LIB_INSTALL%\hbusrrdd.lib=16
> %HB_LIB_INSTALL%\hbwin.lib=17
> %HB_LIB_INSTALL%\hbtip.lib=18
> %HB_LIB_INSTALL%\hbmzip.lib=19
> %HB_LIB_INSTALL%\hbzlib.lib=20
> %HB_LIB_INSTALL%\hbziparc.lib=21
> %HB_LIB_INSTALL%\gtcgi.lib=25
> %HB_LIB_INSTALL%\gtgui.lib=26
> %HB_LIB_INSTALL%\gtwin.lib=27
> %HB_LIB_INSTALL%\gtwvt.lib=28
> %HB_LIB_INSTALL%\hbnf.lib=29
> %HB_LIB_INSTALL%\xhb.lib=29
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38
>
> [DLL Files]
> %HB_LIB_INSTALL%\hbrtl.lib=2
> %HB_LIB_INSTALL%\hbvm.lib=3
> %HB_LIB_INSTALL%\gtwin.lib=4
> %HB_LIB_INSTALL%\hblang.lib=5
> %HB_LIB_INSTALL%\hbmacro.lib=6
> %HB_LIB_INSTALL%\hbrdd.lib=7
> %HB_LIB_INSTALL%\rddntx.lib=8
> %HB_LIB_INSTALL%\rddcdx.lib=9
> %HB_LIB_INSTALL%\hbdebug.lib=10
> %HB_LIB_INSTALL%\hbcommon.lib=11
> %HB_LIB_INSTALL%\hbpp.lib=12
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
> C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38
>
>
>
> Provided by Francesco.
>
>
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22274940.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From e.m.giordano at emagsoftware.it  Sun Mar  1 13:10:32 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Mar  1 13:10:38 2009
Subject: [Harbour] Problem in latest SVN
Message-ID: <4159F7088CC4490689D9F2F4E056E8F7@emag>

Now I get only the following three libs:

HBCOMMON.LIB
HBPP.LIB
HBCPLR.LIB

This is my compile batch:

@ ECHO OFF
SET PATH=e:\bcc55\bin;%PATH%
SET HB_COMPILER=bcc
make_gnu clean install > make_gnu.log

Attached is my log.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MakeGnuLog.zip
Type: application/x-zip-compressed
Size: 10605 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/a9051d91/MakeGnuLog.bin
From mbelgrano at deltain.it  Sun Mar  1 14:30:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar  1 14:30:09 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <4159F7088CC4490689D9F2F4E056E8F7@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
Message-ID: <609353e70903011130j26855e07l8d8d14bf3e74784a@mail.gmail.com>

I add another question
which difference between
make clean
make install
and make_gnu clean install

2009/3/1 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
> Now I get only the following three libs:
>
> HBCOMMON.LIB
> HBPP.LIB
> HBCPLR.LIB
>
> This is my compile batch:
>
> @ ECHO OFF
> SET PATH=e:\bcc55\bin;%PATH%
> SET HB_COMPILER=bcc
> make_gnu clean install > make_gnu.log
>
> Attached is my log.
>
> EMG
>
> --
> EMAG Software Homepage: ? ? http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From lorenzo.fiorini at gmail.com  Sun Mar  1 15:27:20 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Mar  1 15:27:25 2009
Subject: [Harbour] Are there hbodbc and/or hbmysql users out there?
Message-ID: <9257026e0903011227n5dba8838j64a6541b4aadc740@mail.gmail.com>

Looking at hbodbc, I've just found that both hbodbc and hbmysql use
SQL... to prefix C funcs and f.e. both define HB_FUNC( SQLCONNECT ).
This means that hbodbc and hbmysql can't be used at the same time.

After 1.1 I would suggest to prefix hbmysql's C functions with MY...
and hbodbc with ODBC...

Comments?

best regards,
Lorenzo
From clipper5_y2d at versateladsl.be  Sun Mar  1 15:47:44 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Sun Mar  1 15:48:03 2009
Subject: [Harbour] Are there hbodbc and/or hbmysql users out there?
References: <9257026e0903011227n5dba8838j64a6541b4aadc740@mail.gmail.com>
Message-ID: <724BCC88E60446699BB6453FC2CB85C4@ara>

Wouldn't it be the right time to introduce the concept of (real) namespaces, 
if dev allows a timeframe for it?

frank

----- Original Message ----- 
From: "Lorenzo Fiorini" <lorenzo.fiorini@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Sunday, March 01, 2009 9:27 PM
Subject: [Harbour] Are there hbodbc and/or hbmysql users out there?


> Looking at hbodbc, I've just found that both hbodbc and hbmysql use
> SQL... to prefix C funcs and f.e. both define HB_FUNC( SQLCONNECT ).
> This means that hbodbc and hbmysql can't be used at the same time.
>
> After 1.1 I would suggest to prefix hbmysql's C functions with MY...
> and hbodbc with ODBC...
>
> Comments?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From harbour.01 at syenar.hu  Sun Mar  1 16:12:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  1 16:12:30 2009
Subject: [Harbour] Are there hbodbc and/or hbmysql users out there?
In-Reply-To: <9257026e0903011227n5dba8838j64a6541b4aadc740@mail.gmail.com>
References: <9257026e0903011227n5dba8838j64a6541b4aadc740@mail.gmail.com>
Message-ID: <18d502870903011312g41fc9fe2nffc6443e8a8e63ed@mail.gmail.com>

>
> Looking at hbodbc, I've just found that both hbodbc and hbmysql use
> SQL... to prefix C funcs and f.e. both define HB_FUNC( SQLCONNECT ).
> This means that hbodbc and hbmysql can't be used at the same time.
>
> After 1.1 I would suggest to prefix hbmysql's C functions with MY...
> and hbodbc with ODBC...
>
> Comments?


Yes, we definitely should.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/c508106f/attachment.html
From harbour.01 at syenar.hu  Sun Mar  1 16:36:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  1 16:36:44 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <4159F7088CC4490689D9F2F4E056E8F7@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
Message-ID: <18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>

Sorry, I cannot reproduce it.
Anyone else with similar problem?

Brgds,
Viktor

On Sun, Mar 1, 2009 at 7:10 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> Now I get only the following three libs:
>
> HBCOMMON.LIB
> HBPP.LIB
> HBCPLR.LIB
>
> This is my compile batch:
>
> @ ECHO OFF
> SET PATH=e:\bcc55\bin;%PATH%
> SET HB_COMPILER=bcc
> make_gnu clean install > make_gnu.log
>
> Attached is my log.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090301/9c368472/attachment-0001.html
From vszakats at users.sourceforge.net  Sun Mar  1 17:58:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 17:58:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10498] trunk/harbour
Message-ID: <E1Lduc9-00081T-Ul@c3vjzd1.ch3.sourceforge.com>

Revision: 10498
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10498&view=rev
Author:   vszakats
Date:     2009-03-01 22:58:28 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 23:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - contrib/examples/uhttpd/hbmk.bat
  + contrib/examples/uhttpd/uhttpdgd.hbm
  * contrib/examples/uhttpd/uhttpd.prg
  * contrib/examples/uhttpd/readme.txt
    * Added separate GD enabled .hbm file.
    * Remaining hbmk.bat features moved to .prg code and into readme.txt.

  * utils/hbmk2/hbmk2.prg
    + Added support for @ and .hbm parameters inside .hbm files.
      Currently three levels deep nesting in allowed.

  * contrib/xhb/Makefile
  + contrib/xhb/dbf2txt.c
    + Added DBF2TXT() function from xhb.
    ; TODO: RPC support and HB_SERVICE*() API ?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/readme.txt
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/examples/uhttpd/uhttpdgd.hbm
    trunk/harbour/contrib/xhb/dbf2txt.c

Removed Paths:
-------------
    trunk/harbour/contrib/examples/uhttpd/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  1 18:03:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  1 18:03:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10499] trunk/harbour
Message-ID: <E1Ldugo-00086Y-Pa@c3vjzd1.ch3.sourceforge.com>

Revision: 10499
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10499&view=rev
Author:   vszakats
Date:     2009-03-01 23:03:16 +0000 (Sun, 01 Mar 2009)

Log Message:
-----------
2009-03-01 23:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/xhb/regexrpl.prg
    + Added HB_REGEXREPLACE() from xhb. Work of Francesco.
      (missed from prev commit)

  * contrib/xhb/common.mak
    * Updated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/common.mak

Added Paths:
-----------
    trunk/harbour/contrib/xhb/regexrpl.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Sun Mar  1 21:19:40 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Sun Mar  1 21:19:54 2009
Subject: [Harbour] No Generated HBVMMT.LIB with BCC32
In-Reply-To: <49aa9f68.010bca0a.264c.62e6SMTPIN_ADDED@mx.google.com>
References: <49aa9f68.010bca0a.264c.62e6SMTPIN_ADDED@mx.google.com>
Message-ID: <49AB423C.1030000@gmail.com>

Hi Viktor, Below is the cut of the log. Thanks, Mario 
D:\harbour\source\vm>if not exist ..\..\lib\win\bcc\. md 
..\..\lib\win\bcc mingw32-make.exe[3]: Entering directory 
`D:/harbour/source/vm/win/bcc' mingw32-make.exe[3]: 
`../../../../lib/win/bcc/hbvm.lib' is up to date. mingw32-make.exe[3]: 
Leaving directory `D:/harbour/source/vm/win/bcc' mingw32-make.exe -C 
mainstd mingw32-make.exe[3]: Entering directory 
`D:/harbour/source/vm/mainstd' D:\harbour\source\vm\mainstd>if not exist 
win\. md win D:\harbour\source\vm\mainstd>if not exist win\bcc\. md 
win\bcc D:\harbour\source\vm\mainstd>if not exist ..\..\..\lib\win\. md 
..\..\..\lib\win D:\harbour\source\vm\mainstd>if not exist 
..\..\..\lib\win\bcc\. md ..\..\..\lib\win\bcc mingw32-make.exe[4]: 
Entering directory `D:/harbour/source/vm/mainstd/win/bcc' 
mingw32-make.exe[4]: `../../../../../lib/win/bcc/hbmainstd.lib' is up to 
date. mingw32-make.exe[4]: Leaving directory 
`D:/harbour/source/vm/mainstd/win/bcc' mingw32-make.exe[3]: Leaving 
directory `D:/harbour/source/vm/mainstd' mingw32-make.exe -C mainwin 
mingw32-make.exe[3]: Entering directory `D:/harbour/source/vm/mainwin'

> Date: Sun, 1 Mar 2009 15:40:58 +0100 From: Viktor Szak?ts 
> <harbour.01@syenar.hu> Subject: Re: [Harbour] No Generated HBVMMT.LIB 
> with BCC32 To: "Harbour Project Main Developer List." 
> <harbour@harbour-project.org> Message-ID: 
> <18d502870903010640w11ce3274nef97badbac4fb197@mail.gmail.com> 
> Content-Type: text/plain; charset="iso-8859-1" Hi Mario, Pls post your 
> build log to see what went wrong. Brgds, Viktor On Sun, Mar 1, 2009 at 
> 1:22 PM, Mario H. Sabado <mhsabado@gmail.com> wrote:
>> > Hi,
>> >
>> > With the latest SVN, there is no generated HBVMMT.LIB using BCC32.  Any
>> > hint?
>> >
>> > Thanks,
>> > Mario

From harbour.01 at syenar.hu  Mon Mar  2 02:21:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 02:21:22 2009
Subject: [Harbour] No Generated HBVMMT.LIB with BCC32
In-Reply-To: <49AB423C.1030000@gmail.com>
References: <49aa9f68.010bca0a.264c.62e6SMTPIN_ADDED@mx.google.com>
	<49AB423C.1030000@gmail.com>
Message-ID: <18d502870903012321q327b4b72i2018a9d7ff14b173@mail.gmail.com>

Can it be, that you have HB_MT envvar set to MT?

Brgds,
Viktor

On Mon, Mar 2, 2009 at 3:19 AM, Mario H. Sabado <mhsabado@gmail.com> wrote:

> Hi Viktor, Below is the cut of the log. Thanks, Mario
> D:\harbour\source\vm>if not exist ..\..\lib\win\bcc\. md ..\..\lib\win\bcc
> mingw32-make.exe[3]: Entering directory `D:/harbour/source/vm/win/bcc'
> mingw32-make.exe[3]: `../../../../lib/win/bcc/hbvm.lib' is up to date.
> mingw32-make.exe[3]: Leaving directory `D:/harbour/source/vm/win/bcc'
> mingw32-make.exe -C mainstd mingw32-make.exe[3]: Entering directory
> `D:/harbour/source/vm/mainstd' D:\harbour\source\vm\mainstd>if not exist
> win\. md win D:\harbour\source\vm\mainstd>if not exist win\bcc\. md win\bcc
> D:\harbour\source\vm\mainstd>if not exist ..\..\..\lib\win\. md
> ..\..\..\lib\win D:\harbour\source\vm\mainstd>if not exist
> ..\..\..\lib\win\bcc\. md ..\..\..\lib\win\bcc mingw32-make.exe[4]: Entering
> directory `D:/harbour/source/vm/mainstd/win/bcc' mingw32-make.exe[4]:
> `../../../../../lib/win/bcc/hbmainstd.lib' is up to date.
> mingw32-make.exe[4]: Leaving directory
> `D:/harbour/source/vm/mainstd/win/bcc' mingw32-make.exe[3]: Leaving
> directory `D:/harbour/source/vm/mainstd' mingw32-make.exe -C mainwin
> mingw32-make.exe[3]: Entering directory `D:/harbour/source/vm/mainwin'
>
>
>  Date: Sun, 1 Mar 2009 15:40:58 +0100 From: Viktor Szak?ts <
>> harbour.01@syenar.hu> Subject: Re: [Harbour] No Generated HBVMMT.LIB with
>> BCC32 To: "Harbour Project Main Developer List." <
>> harbour@harbour-project.org> Message-ID: <
>> 18d502870903010640w11ce3274nef97badbac4fb197@mail.gmail.com>
>> Content-Type: text/plain; charset="iso-8859-1" Hi Mario, Pls post your build
>> log to see what went wrong. Brgds, Viktor On Sun, Mar 1, 2009 at 1:22 PM,
>> Mario H. Sabado <mhsabado@gmail.com> wrote:
>>
>>> > Hi,
>>> >
>>> > With the latest SVN, there is no generated HBVMMT.LIB using BCC32.  Any
>>> > hint?
>>> >
>>> > Thanks,
>>> > Mario
>>>
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/465013c6/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  2 02:37:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 02:37:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10500] trunk/harbour
Message-ID: <E1Le2hx-0002fy-PN@c3vjzd1.ch3.sourceforge.com>

Revision: 10500
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10500&view=rev
Author:   vszakats
Date:     2009-03-02 07:36:57 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 08:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    * Updates.

  * source/vm/Makefile
    - Removed sensing HB_MT value and building pure MT version
      of Harbour. This is to avoid yet another unnecessary 
      variation of Harbour builds. For MT, just simply hbvmmt lib 
      should be linked.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/source/vm/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From philb at philb.us  Mon Mar  2 02:49:36 2009
From: philb at philb.us (Phil Barnett)
Date: Mon Mar  2 02:49:43 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>	<9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>	<18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>	<F9BF3AFED9C348309A235A5E6E39B4CE@emag>
	<18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>
Message-ID: <49AB8F90.9050905@philb.us>

Viktor Szak?ts wrote:
> Exactly, plus some more:
> - You often need to be admin to do it. (if you rename Harbour 
>   installer to setup.exe, it will ask for password, Windows does 
>   this "intelligently" by itself)
> - They sometimes fail if you change the default install path.
> - You cannot be sure you've installed for yourself or for all users.
>   Sometimes the programs aren't sure either, and some bits are 
>   here, some others there.
> - You install an upgrade and you don't know if it has overwritten 
>   the other package, or extended it, and many times you get 
>   an additional entry in the add/remove programs list.
> - If you uninstall, will it remove a) the upgrade only b) the 
>   whole last version c) all files belonging to this program.
>   Will any additional add/remove program list entries removed?
> - Will it need a reboot?
> - Many times the whole install package is archived in some 
>   buried OS directories, and it will never be deleted from there.
> - Many times it fails to remove its own temp files.
> - Sometime you need to unpack the install, _then_ be able to run it.
>   After that you need to clean up yourself, of course, sometimes 
>   as admin user.
> - You have to go get the install packages and go through all 
>   installs and updates _again_ if you change computer (or OS 
>   version).
> - And we didn't even touch dependencies and .dlls.
>
> Worst nightmare :) MS is strongly convinced that users like this 
> (they haven't seen better), so don't expect this to change anytime 
> soon.
Boy, isn't this the truth?

I have started using Inno installer on Windows. You can use it's built 
in scripting language to do whatever you want. It compiles the 
installation into a setup.exe for you. This contains all the files and 
the script to do whatever you want. I have even seen it detect missing 
.net versions and offer to go fetch and install them. As far as 
uninstall goes, you can tell it exactly what to do. It's similar to 
Installshield in many ways except the one I find most important... 
source code is available (not open source) and the price is right...  free.

This is a very nice installer for Windows.

http://www.innosetup.com/isinfo.php

And, there is a support community built up around it. This allows you to 
have an expert build you your first scripts and then you can expand them 
from there. Makes it a lot quicker to get a basic install working.
From mbelgrano at deltain.it  Mon Mar  2 03:05:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 03:05:45 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <49AB8F90.9050905@philb.us>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
	<18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>
	<F9BF3AFED9C348309A235A5E6E39B4CE@emag>
	<18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>
	<49AB8F90.9050905@philb.us>
Message-ID: <609353e70903020005o45f614c1q85c866e40a4435b2@mail.gmail.com>

I want also suggest see an open source installer http://www.installjammer.com/


2009/3/2 Phil Barnett <philb@philb.us>:
> Viktor Szak?ts wrote:
>>
>> Exactly, plus some more:
>> - You often need to be admin to do it. (if you rename Harbour ?installer
>> to setup.exe, it will ask for password, Windows does ?this "intelligently"
>> by itself)
>> - They sometimes fail if you change the default install path.
>> - You cannot be sure you've installed for yourself or for all users.
>> ?Sometimes the programs aren't sure either, and some bits are ?here, some
>> others there.
>> - You install an upgrade and you don't know if it has overwritten ?the
>> other package, or extended it, and many times you get ?an additional entry
>> in the add/remove programs list.
>> - If you uninstall, will it remove a) the upgrade only b) the ?whole last
>> version c) all files belonging to this program.
>> ?Will any additional add/remove program list entries removed?
>> - Will it need a reboot?
>> - Many times the whole install package is archived in some ?buried OS
>> directories, and it will never be deleted from there.
>> - Many times it fails to remove its own temp files.
>> - Sometime you need to unpack the install, _then_ be able to run it.
>> ?After that you need to clean up yourself, of course, sometimes ?as admin
>> user.
>> - You have to go get the install packages and go through all ?installs and
>> updates _again_ if you change computer (or OS ?version).
>> - And we didn't even touch dependencies and .dlls.
>>
>> Worst nightmare :) MS is strongly convinced that users like this (they
>> haven't seen better), so don't expect this to change anytime soon.
>
> Boy, isn't this the truth?
>
> I have started using Inno installer on Windows. You can use it's built in
> scripting language to do whatever you want. It compiles the installation
> into a setup.exe for you. This contains all the files and the script to do
> whatever you want. I have even seen it detect missing .net versions and
> offer to go fetch and install them. As far as uninstall goes, you can tell
> it exactly what to do. It's similar to Installshield in many ways except the
> one I find most important... source code is available (not open source) and
> the price is right... ?free.
>
> This is a very nice installer for Windows.
>
> http://www.innosetup.com/isinfo.php
>
> And, there is a support community built up around it. This allows you to
> have an expert build you your first scripts and then you can expand them
> from there. Makes it a lot quicker to get a basic install working.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar  2 03:16:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 03:16:55 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <49AB8F90.9050905@philb.us>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
	<18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>
	<F9BF3AFED9C348309A235A5E6E39B4CE@emag>
	<18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>
	<49AB8F90.9050905@philb.us>
Message-ID: <18d502870903020016t741bc8c8ja68c59e65811da09@mail.gmail.com>

I've been playing around with InnoSetup back then but finally I've settled
with NSIS for reasons I've forgotten.

There is also WIX which is an MS product, also OSS, and it
can produce those official looking sort of installs. Its configuration
is the same nightmare as the whole thing is, so I never bothered.

Brgds,
Viktor

On Mon, Mar 2, 2009 at 8:49 AM, Phil Barnett <philb@philb.us> wrote:

> Viktor Szak?ts wrote:
>
>> Exactly, plus some more:
>> - You often need to be admin to do it. (if you rename Harbour  installer
>> to setup.exe, it will ask for password, Windows does  this "intelligently"
>> by itself)
>> - They sometimes fail if you change the default install path.
>> - You cannot be sure you've installed for yourself or for all users.
>>  Sometimes the programs aren't sure either, and some bits are  here, some
>> others there.
>> - You install an upgrade and you don't know if it has overwritten  the
>> other package, or extended it, and many times you get  an additional entry
>> in the add/remove programs list.
>> - If you uninstall, will it remove a) the upgrade only b) the  whole last
>> version c) all files belonging to this program.
>>  Will any additional add/remove program list entries removed?
>> - Will it need a reboot?
>> - Many times the whole install package is archived in some  buried OS
>> directories, and it will never be deleted from there.
>> - Many times it fails to remove its own temp files.
>> - Sometime you need to unpack the install, _then_ be able to run it.
>>  After that you need to clean up yourself, of course, sometimes  as admin
>> user.
>> - You have to go get the install packages and go through all  installs and
>> updates _again_ if you change computer (or OS  version).
>> - And we didn't even touch dependencies and .dlls.
>>
>> Worst nightmare :) MS is strongly convinced that users like this (they
>> haven't seen better), so don't expect this to change anytime soon.
>>
> Boy, isn't this the truth?
>
> I have started using Inno installer on Windows. You can use it's built in
> scripting language to do whatever you want. It compiles the installation
> into a setup.exe for you. This contains all the files and the script to do
> whatever you want. I have even seen it detect missing .net versions and
> offer to go fetch and install them. As far as uninstall goes, you can tell
> it exactly what to do. It's similar to Installshield in many ways except the
> one I find most important... source code is available (not open source) and
> the price is right...  free.
>
> This is a very nice installer for Windows.
>
> http://www.innosetup.com/isinfo.php
>
> And, there is a support community built up around it. This allows you to
> have an expert build you your first scripts and then you can expand them
> from there. Makes it a lot quicker to get a basic install working.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/b3120f55/attachment-0001.html
From harbour.01 at syenar.hu  Mon Mar  2 03:17:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 03:17:39 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <609353e70903020005o45f614c1q85c866e40a4435b2@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280123n25c9355ap92af3f42f393174d@mail.gmail.com>
	<18d502870902280150i4efe11di8626ba25c6a17531@mail.gmail.com>
	<F9BF3AFED9C348309A235A5E6E39B4CE@emag>
	<18d502870902280453w6553fda3sdfd09125c6a7af2b@mail.gmail.com>
	<49AB8F90.9050905@philb.us>
	<609353e70903020005o45f614c1q85c866e40a4435b2@mail.gmail.com>
Message-ID: <18d502870903020017t299457a5y8d55b70a28fe40eb@mail.gmail.com>

Folks, so please creating those scripts for these tools and feel free to
change mpkg_win.nsi to anything you like, I honestly don't care...
Brgds,
Viktor

On Mon, Mar 2, 2009 at 9:05 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I want also suggest see an open source installer
> http://www.installjammer.com/
>
>
> 2009/3/2 Phil Barnett <philb@philb.us>:
> > Viktor Szak?ts wrote:
> >>
> >> Exactly, plus some more:
> >> - You often need to be admin to do it. (if you rename Harbour  installer
> >> to setup.exe, it will ask for password, Windows does  this
> "intelligently"
> >> by itself)
> >> - They sometimes fail if you change the default install path.
> >> - You cannot be sure you've installed for yourself or for all users.
> >>  Sometimes the programs aren't sure either, and some bits are  here,
> some
> >> others there.
> >> - You install an upgrade and you don't know if it has overwritten  the
> >> other package, or extended it, and many times you get  an additional
> entry
> >> in the add/remove programs list.
> >> - If you uninstall, will it remove a) the upgrade only b) the  whole
> last
> >> version c) all files belonging to this program.
> >>  Will any additional add/remove program list entries removed?
> >> - Will it need a reboot?
> >> - Many times the whole install package is archived in some  buried OS
> >> directories, and it will never be deleted from there.
> >> - Many times it fails to remove its own temp files.
> >> - Sometime you need to unpack the install, _then_ be able to run it.
> >>  After that you need to clean up yourself, of course, sometimes  as
> admin
> >> user.
> >> - You have to go get the install packages and go through all  installs
> and
> >> updates _again_ if you change computer (or OS  version).
> >> - And we didn't even touch dependencies and .dlls.
> >>
> >> Worst nightmare :) MS is strongly convinced that users like this (they
> >> haven't seen better), so don't expect this to change anytime soon.
> >
> > Boy, isn't this the truth?
> >
> > I have started using Inno installer on Windows. You can use it's built in
> > scripting language to do whatever you want. It compiles the installation
> > into a setup.exe for you. This contains all the files and the script to
> do
> > whatever you want. I have even seen it detect missing .net versions and
> > offer to go fetch and install them. As far as uninstall goes, you can
> tell
> > it exactly what to do. It's similar to Installshield in many ways except
> the
> > one I find most important... source code is available (not open source)
> and
> > the price is right...  free.
> >
> > This is a very nice installer for Windows.
> >
> > http://www.innosetup.com/isinfo.php
> >
> > And, there is a support community built up around it. This allows you to
> > have an expert build you your first scripts and then you can expand them
> > from there. Makes it a lot quicker to get a basic install working.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/619ab5b0/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  2 03:36:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 03:37:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10501] trunk/harbour
Message-ID: <E1Le3dw-00037R-Pl@d5vjzd1.ch3.sourceforge.com>

Revision: 10501
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10501&view=rev
Author:   vszakats
Date:     2009-03-02 08:36:55 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 09:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/Makefile
  * include/hbextern.ch
  + source/rtl/hbstrfmt.c
    + Added HB_STRFORMAT() sprintf()-like formatting.
    + Added hb_StrFormat() C level function.
    ; Work of Mindaugas sent to the list, with some minor 
      cleanups applied. Please test on your platform/compiler.

  * contrib/examples/uhttpd/uhttpd.prg
  * contrib/examples/uhttpd/cgifunc.prg
  * contrib/examples/uhttpd/session.prg
  * contrib/examples/uhttpd/uhttpd.hbm
    * xhb compatibility cleanups.
    - xhb lib and header dependency removed.

  * utils/hbmk2/hbmk2.prg
    * Changed so that libs won't inherit their .hbm file paths.
    + Embedded .hbm files will inherit their parents dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/cgifunc.prg
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.hbm
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/source/rtl/hbstrfmt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar  2 03:44:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 03:44:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10502] trunk/harbour
Message-ID: <E1Le3kn-0003EH-Ay@d5vjzd1.ch3.sourceforge.com>

Revision: 10502
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10502&view=rev
Author:   vszakats
Date:     2009-03-02 08:44:00 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 09:43 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapi.h
  * source/rtl/hbstrfmt.c
    * C level function renamed to hb_strFormat().
    + Added to headers, exported.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/source/rtl/hbstrfmt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar  2 04:09:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 04:09:18 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
Message-ID: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>

echo --harbour---------------
Folow are my batch for compiling & set enviroment for working
and error that i receive only mw and ow

@rem sow.bat
@rem i set envars each times that i start harbour session and make a
rebuild when neccessary

SET HB_ARCHITECTURE=win
SET HB_COMPILER=owatcom
SET WATCOM=c:\devl\watcom
SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
SET BEGINLIBPATH=%WATCOM%\BINP\DLL
SET EDPATH=%WATCOM%\EDDAT
SET HELP=%WATCOM%\BINP\HELP;%HELP%
SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\

SET LIB=%HB_INSTALL_PREFIX%LIB
SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=

@rem  -----------------rebuild
if not "%1%" == "rebuild" goto SKIP_rebuild
MD %HB_COMPILER%
md %HB_INSTALL_PREFIX%INCLUDE
MD %HB_INSTALL_PREFIX%LIB
MD %HB_INSTALL_PREFIX%BIN
MD %HB_INSTALL_PREFIX%OBJ
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log

:SKIP_REBUILD


mingw32-make.exe[3]: *** [expropt1.obj] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [common.inst] Error 2
mingw32-make.exe: *** [source.inst] Error 2




--------------------------sbc.bat----------------------
set HB_ARCHITECTURE=win
set HB_COMPILER=bcc32
set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
SET path=%HB_INSTALL_PREFIX%bin;%path%
set path=c:\devl\BCC55\BIN;%path%
set path=c:\devl\mingw32make;%path%
SET LIB=%HB_INSTALL_PREFIX%LIB
SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
@rem  -----------------rebuild
if not "%1%" == "rebuild" goto SKIP_rebuild
MD %HB_COMPILER%
md %HB_INSTALL_PREFIX%INCLUDE
MD %HB_INSTALL_PREFIX%LIB
MD %HB_INSTALL_PREFIX%BIN
MD %HB_INSTALL_PREFIX%OBJ
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log

compiling with No error

------------------------sv9.bat------------
set HB_ARCHITECTURE=win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
@rem set HB_INSTALL_PREFIX=%~dp0
SET path=%HB_INSTALL_PREFIX%bin;%path%
SET LIB=%HB_INSTALL_PREFIX%LIB
SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
set path=c:\devl\mingw32make;%path%
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
@rem  -----------------rebuild
if not "%1%" == "rebuild" goto SKIP_rebuild
MD %HB_COMPILER%
md %HB_INSTALL_PREFIX%INCLUDE
MD %HB_INSTALL_PREFIX%LIB
MD %HB_INSTALL_PREFIX%BIN
MD %HB_INSTALL_PREFIX%OBJ
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log


Compiling with No error

-------------------smw.bat--------------
set HB_ARCHITECTURE=win
set HB_COMPILER=mingw
set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
set HB_USER_LDFLAGS=-s
SET LIB=%HB_INSTALL_PREFIX%LIB
SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
set SHLVL=
@rem  -----------------rebuild
if not "%1%" == "rebuild" goto SKIP_rebuild
MD %HB_COMPILER%
md %HB_INSTALL_PREFIX%INCLUDE
MD %HB_INSTALL_PREFIX%LIB
MD %HB_INSTALL_PREFIX%BIN
MD %HB_INSTALL_PREFIX%OBJ
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
---------------------------------------------------
mingw32-make.exe[1]: [install] Error 258 (ignored)
/usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
/usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\. md %d'
mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
/usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
/usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win ..\..\lib\win\ming
w) do if not exist %d\. md %d'
mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [common.inst] Error 2
mingw32-make.exe: *** [source.inst] Error 2

C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
..\..\lib\win\owatcom
mingw32-make.exe[3]: Entering directory `C:/harbour/source/common/win/owatcom'
wpp386      ../../expropt1.c -fo=expropt1.obj
This is an OS/2 32-bit executable
mingw32-make.exe[3]: Leaving directory `C:/harbour/source/common/win/owatcom'
mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar  2 04:14:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 04:14:22 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
Message-ID: <18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>

Please read INSTALL on how to do a MinGW build.
Brgds,
Viktor

On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> echo --harbour---------------
> Folow are my batch for compiling & set enviroment for working
> and error that i receive only mw and ow
>
> @rem sow.bat
> @rem i set envars each times that i start harbour session and make a
> rebuild when neccessary
>
> SET HB_ARCHITECTURE=win
> SET HB_COMPILER=owatcom
> SET WATCOM=c:\devl\watcom
> SET
> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
> SET EDPATH=%WATCOM%\EDDAT
> SET HELP=%WATCOM%\BINP\HELP;%HELP%
> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>
> SET LIB=%HB_INSTALL_PREFIX%LIB
> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
>
> @rem  -----------------rebuild
> if not "%1%" == "rebuild" goto SKIP_rebuild
> MD %HB_COMPILER%
> md %HB_INSTALL_PREFIX%INCLUDE
> MD %HB_INSTALL_PREFIX%LIB
> MD %HB_INSTALL_PREFIX%BIN
> MD %HB_INSTALL_PREFIX%OBJ
> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>
> :SKIP_REBUILD
>
>
> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [common.inst] Error 2
> mingw32-make.exe: *** [source.inst] Error 2
>
>
>
>
> --------------------------sbc.bat----------------------
> set HB_ARCHITECTURE=win
> set HB_COMPILER=bcc32
> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> SET path=%HB_INSTALL_PREFIX%bin;%path%
> set path=c:\devl\BCC55\BIN;%path%
> set path=c:\devl\mingw32make;%path%
> SET LIB=%HB_INSTALL_PREFIX%LIB
> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> @rem  -----------------rebuild
> if not "%1%" == "rebuild" goto SKIP_rebuild
> MD %HB_COMPILER%
> md %HB_INSTALL_PREFIX%INCLUDE
> MD %HB_INSTALL_PREFIX%LIB
> MD %HB_INSTALL_PREFIX%BIN
> MD %HB_INSTALL_PREFIX%OBJ
> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>
> compiling with No error
>
> ------------------------sv9.bat------------
> set HB_ARCHITECTURE=win
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> @rem set HB_INSTALL_PREFIX=%~dp0
> SET path=%HB_INSTALL_PREFIX%bin;%path%
> SET LIB=%HB_INSTALL_PREFIX%LIB
> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> set path=c:\devl\mingw32make;%path%
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> @rem  -----------------rebuild
> if not "%1%" == "rebuild" goto SKIP_rebuild
> MD %HB_COMPILER%
> md %HB_INSTALL_PREFIX%INCLUDE
> MD %HB_INSTALL_PREFIX%LIB
> MD %HB_INSTALL_PREFIX%BIN
> MD %HB_INSTALL_PREFIX%OBJ
> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>
>
> Compiling with No error
>
> -------------------smw.bat--------------
> set HB_ARCHITECTURE=win
> set HB_COMPILER=mingw
> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> set HB_USER_LDFLAGS=-s
> SET LIB=%HB_INSTALL_PREFIX%LIB
> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> set SHLVL=
> @rem  -----------------rebuild
> if not "%1%" == "rebuild" goto SKIP_rebuild
> MD %HB_COMPILER%
> md %HB_INSTALL_PREFIX%INCLUDE
> MD %HB_INSTALL_PREFIX%LIB
> MD %HB_INSTALL_PREFIX%BIN
> MD %HB_INSTALL_PREFIX%OBJ
> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> ---------------------------------------------------
> mingw32-make.exe[1]: [install] Error 258 (ignored)
> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\. md
> %d'
> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
> ..\..\lib\win\ming
> w) do if not exist %d\. md %d'
> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [common.inst] Error 2
> mingw32-make.exe: *** [source.inst] Error 2
>
> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
> ..\..\lib\win\owatcom
> mingw32-make.exe[3]: Entering directory
> `C:/harbour/source/common/win/owatcom'
> wpp386      ../../expropt1.c -fo=expropt1.obj
> This is an OS/2 32-bit executable
> mingw32-make.exe[3]: Leaving directory
> `C:/harbour/source/common/win/owatcom'
> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/e2fa3d9c/attachment-0001.html
From lorenzo.fiorini at gmail.com  Mon Mar  2 04:14:23 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Mar  2 04:14:26 2009
Subject: [Harbour] Closing of 1.1?
Message-ID: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>

>From my side 1.1 seems in good shape now.

As far as I understood Viktor will clean old make system today and
since nobody replayed about doc/es I think we can also remove doc/es
and move doc/en at the doc level ( doc in the root is already en so I
don't see the reason to have an en subdir ).

Can we define a tag date for 1.1?

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Mon Mar  2 04:28:14 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 04:28:19 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
Message-ID: <9ACB8645C0CC4055AAE5044779B7AB3C@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 1 marzo 2009 22.36
Oggetto: Re: [Harbour] Problem in latest SVN


> Sorry, I cannot reproduce it.

What can I try? I really don't know where to look at.

> > Now I get only the following three libs:
> >
> > HBCOMMON.LIB
> > HBPP.LIB
> > HBCPLR.LIB

Isn't it strange that I get the three libs with uppercase names? Previously 
all the libs were in lowercase.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Mar  2 04:33:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 04:33:54 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
Message-ID: <18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>

Hi Lorenzo,
Here's my pending list (most of the minor of can be postponed,
the important ones marked with '(!)'):

- core: HB_MD5() incompatible modification.
- xhb: .prg level MT issues.
- gtwvg: AMD64 mode and WinCE.
- owatcom: warning in hb_snprintf() (posted to the list)
- wince: error in hbproces.c (build breaker, posted on the list) (!)
- core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
- core: hb_regexMatch()'s 3rd parameter has a double meaning. (!)
- hbct: SetFDaTi() duplicated logic.
- Platform builds and tests. (!)
- whatsnew.txt update. (!)
- hbmk2 green light from Przemek regarding *nixes. (!)
- djgpp: hb-mkslib link creation error (?)

Brgds,
Viktor

On Mon, Mar 2, 2009 at 10:14 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> >From my side 1.1 seems in good shape now.
>
> As far as I understood Viktor will clean old make system today and
> since nobody replayed about doc/es I think we can also remove doc/es
> and move doc/en at the doc level ( doc in the root is already en so I
> don't see the reason to have an en subdir ).
>
> Can we define a tag date for 1.1?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/1c2f1071/attachment.html
From harbour.01 at syenar.hu  Mon Mar  2 04:35:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 04:35:20 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <9ACB8645C0CC4055AAE5044779B7AB3C@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
Message-ID: <18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>

>
> Sorry, I cannot reproduce it.
>>
>
> What can I try? I really don't know where to look at.


I'd suggest to check PATH and tool versions.


> > Now I get only the following three libs:
>> >
>> > HBCOMMON.LIB
>> > HBPP.LIB
>> > HBCPLR.LIB
>>
>
> Isn't it strange that I get the three libs with uppercase names? Previously
> all the libs were in lowercase.


It is, but since nothing changed in this regard inside Harbour,
probably you have an old (DOS) tlib.exe hanging in the PATH.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/117f109d/attachment.html
From mbelgrano at deltain.it  Mon Mar  2 04:39:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 04:40:00 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
Message-ID: <609353e70903020139j13f153ean701a85de5f0fb25e@mail.gmail.com>

I will compile from bcc without error , (i have 57 lib) but i have a
different configuration
For example  staring my compilation from c:\harbour instead that from e:\harbour


2009/3/1 Viktor Szak?ts <harbour.01@syenar.hu>:
> Sorry, I cannot reproduce it.
> Anyone else with similar problem?
>
> Brgds,
> Viktor
>
> On Sun, Mar 1, 2009 at 7:10 PM, Enrico Maria Giordano
> <e.m.giordano@emagsoftware.it> wrote:
>>
>> Now I get only the following three libs:
>>
>> HBCOMMON.LIB
>> HBPP.LIB
>> HBCPLR.LIB
>>
>> This is my compile batch:
>>
>> @ ECHO OFF
>> SET PATH=e:\bcc55\bin;%PATH%
>> SET HB_COMPILER=bcc
>> make_gnu clean install > make_gnu.log
>>
>> Attached is my log.
>>
>> EMG
>>
>> --
>> EMAG Software Homepage: ? ? http://www.emagsoftware.it
>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Mar  2 04:55:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 04:55:08 2009
Subject: [Harbour] mpkg_win.nsi issue
In-Reply-To: <18d502870902280334x617c6861o88afd0a12dd4a762@mail.gmail.com>
References: <9257026e0902280056l364feb7cq6f3ee3d3fe136580@mail.gmail.com>
	<18d502870902280113v45f98d5ar1713a17eeb2f9ecd@mail.gmail.com>
	<9257026e0902280147g4b193b50rdd03e34ba18b4203@mail.gmail.com>
	<18d502870902280208s726612k4bce71573874959f@mail.gmail.com>
	<9257026e0902280248m3541beffq8676674d006c3d97@mail.gmail.com>
	<18d502870902280334x617c6861o88afd0a12dd4a762@mail.gmail.com>
Message-ID: <609353e70903020155q1870a0abk1d5aa95ba11b2822@mail.gmail.com>

i suggest also remove hbdoc
will be present an obsolete sourcedir with hbdoc source?


there is a good documentation for harbour almost ready is on vcs of
minigui (extended)
http://hmgs-minigui.cvs.sourceforge.net/viewvc/hmgs-minigui/minigui/DOC/
IMO we must add ti  to harbour.

2009/2/28 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > [ I'll add it to OS/2 cmd, and we could also add it to .sh ]
>>
>> Looking in the doc dir I wonder if the es doc dir is synced with en
>> and if both are updated enough.
>> Also I've seen that there are some readme.txt or hbdoc's txt files around.
>> I think that no doc is still better than wrong or outdated doc.
>> If there is no doc I ask instead I can by misleaded which is much more
>> irritating.
>> I have nothing againt es ( to be true I love spain, I'm studying
>> spanish and is one of the country I would like to live ) but I'm not
>> sure we've the resources to keep any doc in a language different from
>> en.
>
> Well, /doc could use a little cleanup that's for sure. We don't
> even have the resources to update the EN version.
> Maybe we should categorize them:
> 1.) user oriented
> 2.) developer oriented
> 3.) "white pages", specs
> As for Spanish translation, you have my vote to delete it
> (nothing against Spanish from here either, I wish I could
> speak it), this?could?make it easier to concentrate on the
> English version.
> We should gather more opinions.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From clipper5_y2d at versateladsl.be  Mon Mar  2 04:55:14 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Mon Mar  2 04:55:41 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
Message-ID: <97F046D92CDD4BDEB2F5AE80E775C876@ara>

Hi Enrico,

I cannot confirm; installing works alright (latest SVN; though there was a 
little msg onscreen; see below)

If you're using an install path other than the svnroot, try whether 
<svnroot>\lib is empty before building; it might be that dependencies don't 
trigger because of the availability of build libs in there (previously 
make_gnu clean left the libs in there if i'm correct); else, also erase your 
install path

Viktor, i have these messages when doing

set C_USR=-DHB_PP_STRICT_LINEINFO_TOKEN
set HB_ARCHITECTURE=win
set HB_COMPILER=bcc
set HB_INSTALL_PREFIX=p:\m\0\p\hb_bcc32
make_gnu.bat clean install >log.txt

$Id: ChangeLog 10502 2009-03-02 08:44:00Z vszakats $

../../../../source/main/win/bcc/harbour.exe 
../../regexrpl.prg -n1 -i../../../../include -q0 -w3 -es2 -km -l -gc3
../../regexrpl.prg(96) Warning W0032  Variable 'NEND' is assigned but not 
used in function 'HB_REGEXREPLACE(0)'

mingw32-make.exe[3]: *** [regexrpl.c] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [xhb.inst] Error 2
mingw32-make.exe: *** [contrib.inst] Error 2

kindly,

frank

----- Original Message ----- 
From: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Monday, March 02, 2009 10:28 AM
Subject: Re: [Harbour] Problem in latest SVN


>
> -----Messaggio Originale----- 
> Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: domenica 1 marzo 2009 22.36
> Oggetto: Re: [Harbour] Problem in latest SVN
>
>
>> Sorry, I cannot reproduce it.
>
> What can I try? I really don't know where to look at.
>
>> > Now I get only the following three libs:
>> >
>> > HBCOMMON.LIB
>> > HBPP.LIB
>> > HBCPLR.LIB
>
> Isn't it strange that I get the three libs with uppercase names? 
> Previously all the libs were in lowercase.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From e.m.giordano at emagsoftware.it  Mon Mar  2 04:56:03 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 04:56:10 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
Message-ID: <5D79D164475B459B9AECD458BE43F3BD@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 10.35
Oggetto: Re: [Harbour] Problem in latest SVN


> It is, but since nothing changed in this regard inside Harbour,
> probably you have an old (DOS) tlib.exe hanging in the PATH.

Yes, I have an old tlib.exe in the PATH but it was there since years without 
problems. It seems that the PATH order is not respected anymore. I specified

SET PATH=e:\bcc55\bin;%PATH%

and if I run

tlib

from the console I get the correct 32 bit one that is in e:\bcc55\bin while 
the new Harbour make system use the old one that is in e:\utl (it is in 
%PATH%). Why? Any ideas?

For now I've renamed the old tlib.exe in tlib16.exe but I don't think this 
is a proper fix. Isn't it?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 04:59:56 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:00:00 2009
Subject: [Harbour] tlib warnings
Message-ID: <C142B9FEA39540F9B2C1657F08D22A47@emag>

It would be possible to exclude from the output the unuseful tlib warnings 
like

Warning: 'expropt1' not found in library

? It is much more difficult now to find the real compiler warning.

Last minute notice: I can find the compiler warning searching for

"Warning W"

but anyway it would be better to remove the unuseful tlib warning from the 
output.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 05:00:26 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:00:31 2009
Subject: [Harbour] Warnings
Message-ID: <8B39B003F5084DEBB5EBD936BDC144B1@emag>

Warning W8084 ../../gtwvg.c 2369: Suggest parentheses to clarify precedence 
in function hb_gt_wvt_CreateWindow

./../regexrpl.prg(96) Warning W0032  Variable 'NEND' is assigned but not 
used in function 'HB_REGEXREPLACE(0)'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Mon Mar  2 05:02:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 05:02:23 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
Message-ID: <609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>

Can you point me where read?

2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> Please read INSTALL on how to do a MinGW build.
> Brgds,
> Viktor
>
> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> echo --harbour---------------
>> Folow are my batch for compiling & set enviroment for working
>> and error that i receive only mw and ow
>>
>> @rem sow.bat
>> @rem i set envars each times that i start harbour session and make a
>> rebuild when neccessary
>>
>> SET HB_ARCHITECTURE=win
>> SET HB_COMPILER=owatcom
>> SET WATCOM=c:\devl\watcom
>> SET
>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>> SET EDPATH=%WATCOM%\EDDAT
>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>
>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> set SHLVL=
>>
>> @rem ?-----------------rebuild
>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> MD %HB_COMPILER%
>> md %HB_INSTALL_PREFIX%INCLUDE
>> MD %HB_INSTALL_PREFIX%LIB
>> MD %HB_INSTALL_PREFIX%BIN
>> MD %HB_INSTALL_PREFIX%OBJ
>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>
>> :SKIP_REBUILD
>>
>>
>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>> mingw32-make.exe[2]: *** [descend] Error 2
>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> mingw32-make.exe: *** [source.inst] Error 2
>>
>>
>>
>>
>> --------------------------sbc.bat----------------------
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=bcc32
>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> set path=c:\devl\BCC55\BIN;%path%
>> set path=c:\devl\mingw32make;%path%
>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> set SHLVL=
>> @rem ?-----------------rebuild
>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> MD %HB_COMPILER%
>> md %HB_INSTALL_PREFIX%INCLUDE
>> MD %HB_INSTALL_PREFIX%LIB
>> MD %HB_INSTALL_PREFIX%BIN
>> MD %HB_INSTALL_PREFIX%OBJ
>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>
>> compiling with No error
>>
>> ------------------------sv9.bat------------
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=msvc
>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> @rem set HB_INSTALL_PREFIX=%~dp0
>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> set path=c:\devl\mingw32make;%path%
>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> set SHLVL=
>> @rem ?-----------------rebuild
>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> MD %HB_COMPILER%
>> md %HB_INSTALL_PREFIX%INCLUDE
>> MD %HB_INSTALL_PREFIX%LIB
>> MD %HB_INSTALL_PREFIX%BIN
>> MD %HB_INSTALL_PREFIX%OBJ
>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>
>>
>> Compiling with No error
>>
>> -------------------smw.bat--------------
>> set HB_ARCHITECTURE=win
>> set HB_COMPILER=mingw
>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> set HB_USER_LDFLAGS=-s
>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> set SHLVL=
>> @rem ?-----------------rebuild
>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> MD %HB_COMPILER%
>> md %HB_INSTALL_PREFIX%INCLUDE
>> MD %HB_INSTALL_PREFIX%LIB
>> MD %HB_INSTALL_PREFIX%BIN
>> MD %HB_INSTALL_PREFIX%OBJ
>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> ---------------------------------------------------
>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\.
>> md %d'
>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> ..\..\lib\win\ming
>> w) do if not exist %d\. md %d'
>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> mingw32-make.exe[2]: *** [descend] Error 2
>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> mingw32-make.exe: *** [source.inst] Error 2
>>
>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>> ..\..\lib\win\owatcom
>> mingw32-make.exe[3]: Entering directory
>> `C:/harbour/source/common/win/owatcom'
>> wpp386 ? ? ?../../expropt1.c -fo=expropt1.obj
>> This is an OS/2 32-bit executable
>> mingw32-make.exe[3]: Leaving directory
>> `C:/harbour/source/common/win/owatcom'
>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From niki at synel.co.il  Mon Mar  2 05:01:58 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar  2 05:05:36 2009
Subject: [Harbour] RE: BCC32 build error: line is too long
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>

<THANKS>
Testing again with 2009-03-01 23:56 UTC+0100 Viktor Szakats (rev 10499),
and now it built Ok, thanks Viktor.
</THANKS>
-----------------------------------------------------------------

There is one "[install] Error 1 (ignored)" during install (I install to the same source and
all the include files can't be copy into themselves, I guess its Ok).

I wonder if its possible to pacify all the "Warning: 'object' not found in library"
warnings by deleting the library if it already exists and using "+" instead of "-+"
to add the object files to the library (it was done this way in make_b32.mak
in the "LIBRARY Targets BUILDS rules" section).

-----------------------------------------------------------------
<MUMBLE>
non-GNU make "clean" delete the files created but not the directories,
the GNU make remove the whole "bcc" directory under "win".
When I compile with CodeGuard, I need the <exename>.cgi file to
exist in the same directory as the exe to control some of the log
features. Now, this file is deleted each time I do a clean.

Also, since all EXE used to created in one place, it was easy to copy
all the *.TDS files (debug information) from bin\b32 into bin, now I have
to copy each file.

Oh, well, have to live with progress. I'll modify my local files to copy the
harbour.cgi files to that directory before the build start, and then copy all
the TDS files to their location as needed.
</MUMBLE>


  Chen.
From harbour.01 at syenar.hu  Mon Mar  2 05:12:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:12:10 2009
Subject: [Harbour] tlib warnings
In-Reply-To: <C142B9FEA39540F9B2C1657F08D22A47@emag>
References: <C142B9FEA39540F9B2C1657F08D22A47@emag>
Message-ID: <18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com>

I'm not aware of any ways suppressing these, but if
anyone has any ideas (which would also keep useful
ones), I can commit it.

For similar reasons I'd like to rename a few filenames
which contain 'error' because they make it more difficult
to find real error messages. Only errorsys.prg should
remain intact.

Brgds,
Viktor

On Mon, Mar 2, 2009 at 10:59 AM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

> It would be possible to exclude from the output the unuseful tlib warnings
> like
>
> Warning: 'expropt1' not found in library
>
> ? It is much more difficult now to find the real compiler warning.
>
> Last minute notice: I can find the compiler warning searching for
>
> "Warning W"
>
> but anyway it would be better to remove the unuseful tlib warning from the
> output.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/1c17d4ff/attachment.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 05:14:47 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:14:51 2009
Subject: [Harbour] tlib warnings
References: <C142B9FEA39540F9B2C1657F08D22A47@emag>
	<18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com>
Message-ID: <89866B1DC6DE4940BC2B124802FAB87F@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.12
Oggetto: Re: [Harbour] tlib warnings


> I'm not aware of any ways suppressing these, but if
> anyone has any ideas (which would also keep useful
> ones), I can commit it.

What about Chen's idea? Delete the LIBs and use +.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Mon Mar  2 05:18:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 05:18:05 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <5D79D164475B459B9AECD458BE43F3BD@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
Message-ID: <609353e70903020218w1ada6b42g595a1c3e6a5106d2@mail.gmail.com>

If i can remember right
path orter to lan drive are postposted after path of local device

2009/3/2 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: luned? 2 marzo 2009 10.35
> Oggetto: Re: [Harbour] Problem in latest SVN
>
>
>> It is, but since nothing changed in this regard inside Harbour,
>> probably you have an old (DOS) tlib.exe hanging in the PATH.
>
> Yes, I have an old tlib.exe in the PATH but it was there since years without
> problems. It seems that the PATH order is not respected anymore. I specified
>
> SET PATH=e:\bcc55\bin;%PATH%
>
> and if I run
>
> tlib
>
> from the console I get the correct 32 bit one that is in e:\bcc55\bin while
> the new Harbour make system use the old one that is in e:\utl (it is in
> %PATH%). Why? Any ideas?
>
> For now I've renamed the old tlib.exe in tlib16.exe but I don't think this
> is a proper fix. Isn't it?
>
> EMG
>
> --
> EMAG Software Homepage: ? ? http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar  2 05:19:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:19:53 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <5D79D164475B459B9AECD458BE43F3BD@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
Message-ID: <18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>

>
> It is, but since nothing changed in this regard inside Harbour,
>> probably you have an old (DOS) tlib.exe hanging in the PATH.
>>
>
> Yes, I have an old tlib.exe in the PATH but it was there since years
> without problems. It seems that the PATH order is not respected anymore. I
> specified
>
> SET PATH=e:\bcc55\bin;%PATH%
>
> and if I run
>
> tlib
>
> from the console I get the correct 32 bit one that is in e:\bcc55\bin while
> the new Harbour make system use the old one that is in e:\utl (it is in
> %PATH%). Why? Any ideas?
>
> For now I've renamed the old tlib.exe in tlib16.exe but I don't think this
> is a proper fix. Isn't it?


Harbour make system isn't doing any magic with tlib. It's just running
tlib.exe and uses what's found by normal OS means.

Could be that own BCC make.exe was looking into its own dir first.

Mixing different compiler tools in PATH is never a good practice IMO.

There are several ways to avoid that, maybe the simplest is to
use 'mingw make dir', 'c compiler dir', '%PATH% or nothing' in
your PATH.

Your mileage may vary.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/4ade46ce/attachment-0001.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 05:28:20 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:28:24 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag>
	<609353e70903020218w1ada6b42g595a1c3e6a5106d2@mail.gmail.com>
Message-ID: <9C24B949A65D441989337A831D2F6D18@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.18
Oggetto: Re: [Harbour] Problem in latest SVN


> If i can remember right
> path orter to lan drive are postposted after path of local device

I'm not in a lan drive.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lorenzo.fiorini at gmail.com  Mon Mar  2 05:28:26 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Mar  2 05:28:31 2009
Subject: [Harbour] RE: BCC32 build error: line is too long
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <9257026e0903020228na0c1224qf820a3c0128852f3@mail.gmail.com>

On Mon, Mar 2, 2009 at 11:01 AM, Chen Kedem <niki@synel.co.il> wrote:

> non-GNU make "clean" delete the files created but not the directories,
> the GNU make remove the whole "bcc" directory under "win".
> When I compile with CodeGuard, I need the <exename>.cgi file to
> exist in the same directory as the exe to control some of the log
> features. Now, this file is deleted each time I do a clean.

Sorry, have you tried to use a different install dir ( outside the
source tree )?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Mar  2 05:30:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:30:28 2009
Subject: [Harbour] RE: BCC32 build error: line is too long
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903020230v1816d324jb70ed5046a5f2510@mail.gmail.com>

Hi Chen,


> There is one "[install] Error 1 (ignored)" during install (I install to the
> same source and
> all the include files can't be copy into themselves, I guess its Ok).
>
> I wonder if its possible to pacify all the "Warning: 'object' not found in
> library"
> warnings by deleting the library if it already exists and using "+" instead
> of "-+"
> to add the object files to the library (it was done this way in
> make_b32.mak
> in the "LIBRARY Targets BUILDS rules" section).


This would unfortunately break incremental builds.

--- using '+' only on existing .lib:
Warning: 'hbarch' already in LIB, not changed!
---

Maybe replacing 'define lib_object' in bcc.cf with this,
could solve the problem (with slight speed penalty),
but I didn't test:
---
define lib_object
if     exist $(subst /,\,$(LIB_DIR)/$@) echo -+$(subst /,\,$(file)) ^& >>
__lib__.tmp
if not exist $(subst /,\,$(LIB_DIR)/$@) echo +$(subst /,\,$(file)) ^& >>
__lib__.tmp

endef
---

-----------------------------------------------------------------
> <MUMBLE>
> Also, since all EXE used to created in one place, it was easy to copy
> all the *.TDS files (debug information) from bin\b32 into bin, now I have
> to copy each file.
>
> Oh, well, have to live with progress. I'll modify my local files to copy
> the
> harbour.cgi files to that directory before the build start, and then copy
> all
> the TDS files to their location as needed.
> </MUMBLE>


Just like Ryszard did it for libs, it would be probably possible to create
executables in bin/<arch>/<comp>/.

I hope someone can make this modification, as it would indeed make life
easier in certain situations.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/6df5ef2a/attachment.html
From harbour.01 at syenar.hu  Mon Mar  2 05:32:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:32:06 2009
Subject: [Harbour] tlib warnings
In-Reply-To: <89866B1DC6DE4940BC2B124802FAB87F@emag>
References: <C142B9FEA39540F9B2C1657F08D22A47@emag>
	<18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com>
	<89866B1DC6DE4940BC2B124802FAB87F@emag>
Message-ID: <18d502870903020232n3198645v20573ecf99bf61dd@mail.gmail.com>

See my answer to Chen just posted. It would be great if you could test my
posted modification, with fresh builds and also
incremental ones (without clean with changed source files).

Brgds,
Viktor

On Mon, Mar 2, 2009 at 11:14 AM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: luned? 2 marzo 2009 11.12
> Oggetto: Re: [Harbour] tlib warnings
>
>
>  I'm not aware of any ways suppressing these, but if
>> anyone has any ideas (which would also keep useful
>> ones), I can commit it.
>>
>
> What about Chen's idea? Delete the LIBs and use +.
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/b950b778/attachment.html
From harbour.01 at syenar.hu  Mon Mar  2 05:33:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:33:35 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <609353e70903020218w1ada6b42g595a1c3e6a5106d2@mail.gmail.com>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
	<609353e70903020218w1ada6b42g595a1c3e6a5106d2@mail.gmail.com>
Message-ID: <18d502870903020233w542ae9c3p32b8e949751c1727@mail.gmail.com>

AFAIK, there is no such difference. PATH items are just PATH items.
Brgds,
Viktor

On Mon, Mar 2, 2009 at 11:18 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> If i can remember right
> path orter to lan drive are postposted after path of local device
>
> 2009/3/2 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
> >
> > -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu
> >
> > A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> > Data invio: luned? 2 marzo 2009 10.35
> > Oggetto: Re: [Harbour] Problem in latest SVN
> >
> >
> >> It is, but since nothing changed in this regard inside Harbour,
> >> probably you have an old (DOS) tlib.exe hanging in the PATH.
> >
> > Yes, I have an old tlib.exe in the PATH but it was there since years
> without
> > problems. It seems that the PATH order is not respected anymore. I
> specified
> >
> > SET PATH=e:\bcc55\bin;%PATH%
> >
> > and if I run
> >
> > tlib
> >
> > from the console I get the correct 32 bit one that is in e:\bcc55\bin
> while
> > the new Harbour make system use the old one that is in e:\utl (it is in
> > %PATH%). Why? Any ideas?
> >
> > For now I've renamed the old tlib.exe in tlib16.exe but I don't think
> this
> > is a proper fix. Isn't it?
> >
> > EMG
> >
> > --
> > EMAG Software Homepage:     http://www.emagsoftware.it
> > The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> > The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> > The EMG Music page:         http://www.emagsoftware.it/emgmusic
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/04dc39db/attachment.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 05:35:18 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:35:23 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
Message-ID: <8F9F93399EDF41FDA967EF5B7CBDEF68@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.19
Oggetto: Re: [Harbour] Problem in latest SVN


> Harbour make system isn't doing any magic with tlib. It's just running
> tlib.exe and uses what's found by normal OS means.

It seems not as if I run

tlib

from the same console I get the correct 32 bit tlib.

Anyway, no problems for me as I renamed the old tlib.

> Could be that own BCC make.exe was looking into its own dir first.

No, it was working fine two days ago with the new make system.

> Mixing different compiler tools in PATH is never a good practice IMO.

Yes, but the problem must be elsewhere, in my opinion.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From niki at synel.co.il  Mon Mar  2 05:35:11 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar  2 05:38:34 2009
Subject: [Harbour] RE: BCC32 build error: line is too long
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B943@Mail-yoq.SYNEL-COMPANY.LTD>

Lorenzo,

>> non-GNU make "clean" delete the files created but not the directories,
>> the GNU make remove the whole "bcc" directory under "win".

> Sorry, have you tried to use a different install dir
> ( outside thesource tree )?

Actually, no. But to be able to get the CodeGuard logs while building
Harbour itself, I need for the file harbour.cgi (use by Borland's CodeGuard)
to be in the same location as the harbour.exe that is used while compiling
all the Harbour PRG files. This EXE is not on the final install directory, but
on the source\main\<arch>\<compiler>\ directory.

Compiling Harbour itself is a great test environment for the compiler, in the
past there were many problems reported, and now there are none. But I keep
testing it on every build just to make sure.

Anyway, this is a local problem I can handle in my local files, nothing to bother about.


  Chen.
From e.m.giordano at emagsoftware.it  Mon Mar  2 05:39:05 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:39:11 2009
Subject: [Harbour] RE: BCC32 build error: line is too long
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD><1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903020230v1816d324jb70ed5046a5f2510@mail.gmail.com>
Message-ID: <C08AFD230DEA403DA72FE78672240174@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.30
Oggetto: Re: [Harbour] RE: BCC32 build error: line is too long


> This would unfortunately break incremental builds.

I was not aware that the new build system featured the incremental build 
mode. Great! Is it activated by default? Does "clean" option deactivate it?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 05:40:25 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 05:40:35 2009
Subject: [Harbour] tlib warnings
References: <C142B9FEA39540F9B2C1657F08D22A47@emag><18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com><89866B1DC6DE4940BC2B124802FAB87F@emag>
	<18d502870903020232n3198645v20573ecf99bf61dd@mail.gmail.com>
Message-ID: <F3D8745DC03A4241BE6B82D18567D7E3@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.32
Oggetto: Re: [Harbour] tlib warnings


> See my answer to Chen just posted. It would be great if you could test my
> posted modification, with fresh builds and also
> incremental ones (without clean with changed source files).

Ok, I'm just doing the test...

And you already answer to my question regarding clean and incremental mode. 
:-)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Mar  2 05:43:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:43:09 2009
Subject: [Harbour] RE: BCC32 build error: line is too long
In-Reply-To: <C08AFD230DEA403DA72FE78672240174@emag>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B93A@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C0F3879B941@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903020230v1816d324jb70ed5046a5f2510@mail.gmail.com>
	<C08AFD230DEA403DA72FE78672240174@emag>
Message-ID: <18d502870903020243s12d8cd7bn75473d55ef3bb493@mail.gmail.com>

Incremental is the default mode. It will only compile what's changed and
rebuild only those libs and exes which had any
changed dependencies, that's all.

Yes, to activate it, just don't do a 'clean' first.

Brgds,
Viktor

On Mon, Mar 2, 2009 at 11:39 AM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: luned? 2 marzo 2009 11.30
> Oggetto: Re: [Harbour] RE: BCC32 build error: line is too long
>
>
>  This would unfortunately break incremental builds.
>>
>
> I was not aware that the new build system featured the incremental build
> mode. Great! Is it activated by default? Does "clean" option deactivate it?
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/e6265501/attachment.html
From niki at synel.co.il  Mon Mar  2 05:44:48 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar  2 05:48:10 2009
Subject: [Harbour] tlib warnings
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B944@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> For similar reasons I'd like to rename a few filenames
> which contain 'error' because they make it more difficult
> to find real error messages. Only errorsys.prg should
> remain intact.

It used to bother me each time I scanned the log files, then
I found I can do the following using grep.exe that came with BCB:

grep.exe -i "(error|warning|fatal|note|hint)[ :,!]" make_b32.log

(for some reason it refused to work with the -w option so I added the section)


  Chen.
From harbour.01 at syenar.hu  Mon Mar  2 05:48:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 05:48:26 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
Message-ID: <18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>

>
> Harbour make system isn't doing any magic with tlib. It's just running
>> tlib.exe and uses what's found by normal OS means.
>>
>
> It seems not as if I run
>
> tlib
>
> from the same console I get the correct 32 bit tlib.
>
> Anyway, no problems for me as I renamed the old tlib.
>
>  Could be that own BCC make.exe was looking into its own dir first.
>>
>
> No, it was working fine two days ago with the new make system.


Nothing changed in Harbour in this regard, you can verify the
commits on Trac.


> Yes, but the problem must be elsewhere, in my opinion.
>

Since everyone is tweaking their local environments lately
I rather suspect it caused by such thing. F.e you already
reported old tlib problem a few days ago, plus you've
changed your env after switching to mingw32-make.exe AFAIR.

I've just put TLIB.EXE (DOS) in my PATH after BCC and it
wasn't executed by MinGW make (v 3.81).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/d35c4cff/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  2 05:55:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 05:55:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10503] trunk/harbour
Message-ID: <E1Le5o8-0002pi-NC@dn4whf1.ch3.sourceforge.com>

Revision: 10503
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10503&view=rev
Author:   vszakats
Date:     2009-03-02 10:55:35 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 11:55 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/global.cf
    ! Corrected GNU Make doc link.

  * INSTALL
    * Updates.

  * contrib/xhb/regexrpl.prg
  * contrib/gtwvg/gtwvg.c
    ! Fixed warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/xhb/regexrpl.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Mon Mar  2 05:57:51 2009
From: jarabal at gmail.com (Xavi)
Date: Mon Mar  2 06:00:22 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
Message-ID: <49ABBBAF.6080405@gmail.com>

Viktor,
	
Sorry, I don't recall any incidence.	 	
What is "HB_MD5() incompatible modification", miscalculated?

Best regards,
Xavi

Viktor Szak?ts escribi?:
> Hi Lorenzo,
> 
> Here's my pending list (most of the minor of can be postponed, 
> the important ones marked with '(!)'):
> 
> - core: HB_MD5() incompatible modification.
> - xhb: .prg level MT issues.
> - gtwvg: AMD64 mode and WinCE.
> - owatcom: warning in hb_snprintf() (posted to the list)
> - wince: error in hbproces.c (build breaker, posted on the list) (!)
> - core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
> - core: hb_regexMatch()'s 3rd parameter has a double meaning. (!)
> - hbct: SetFDaTi() duplicated logic.
> - Platform builds and tests. (!)
> - whatsnew.txt update. (!)
> - hbmk2 green light from Przemek regarding *nixes. (!)
> - djgpp: hb-mkslib link creation error (?)
> 
> Brgds,
> Viktor
> 
> On Mon, Mar 2, 2009 at 10:14 AM, Lorenzo Fiorini 
> <lorenzo.fiorini@gmail.com <mailto:lorenzo.fiorini@gmail.com>> wrote:
> 
>      >From my side 1.1 seems in good shape now.
> 
>     As far as I understood Viktor will clean old make system today and
>     since nobody replayed about doc/es I think we can also remove doc/es
>     and move doc/en at the doc level ( doc in the root is already en so I
>     don't see the reason to have an en subdir ).
> 
>     Can we define a tag date for 1.1?
> 
>     best regards,
>     Lorenzo
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Mon Mar  2 06:09:34 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 06:09:40 2009
Subject: [Harbour] tlib warnings
References: <C142B9FEA39540F9B2C1657F08D22A47@emag><18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com><89866B1DC6DE4940BC2B124802FAB87F@emag>
	<18d502870903020232n3198645v20573ecf99bf61dd@mail.gmail.com>
Message-ID: <CD3E77BDE1E84F63845705DF79280A8E@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.32
Oggetto: Re: [Harbour] tlib warnings


> It would be great if you could test my
> posted modification, with fresh builds and also
> incremental ones (without clean with changed source files).

Done. This is what I read on the console:

mingw32-make.exe[1]: [install] Error 1 (ignored)
mingw32-make.exe[2]: [install] Error 1 (ignored)
mingw32-make.exe[2]: [install] Error 1 (ignored)
mingw32-make.exe[1]: [install] Error 1 (ignored)

No code generated.
mingw32-make.exe[3]: *** [regexrpl.c] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [xhb.inst] Error 2
mingw32-make.exe: *** [contrib.inst] Error 2

Attached is the log.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MakeGnuLog.zip
Type: application/x-zip-compressed
Size: 7510 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/64f4321e/MakeGnuLog-0001.bin
From harbour.01 at syenar.hu  Mon Mar  2 06:16:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 06:16:17 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <49ABBBAF.6080405@gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<49ABBBAF.6080405@gmail.com>
Message-ID: <18d502870903020316j510c00dey12005e4553fcc6a@mail.gmail.com>

Hi Xavi,

No, it's that it's returning the value as a hexadecimal string, instead of a
byte string. This is odd behaviour as we have
functions available to convert to hexa string from byte string,
so it's not necessary to hard-wire such feature into MD5 and
similar functions.

This would be a step towards integrating hbcrypt lib into core,
but maybe I'll do it anyway, as simple CRC and ADLER functions
already work the normal way, so MD5 is the exception already.

Brgds,
Viktor

On Mon, Mar 2, 2009 at 11:57 AM, Xavi <jarabal@gmail.com> wrote:

> Viktor,
>
> Sorry, I don't recall any incidence.
> What is "HB_MD5() incompatible modification", miscalculated?
>
> Best regards,
> Xavi
>
> Viktor Szak?ts escribi?:
>
>> Hi Lorenzo,
>>
>> Here's my pending list (most of the minor of can be postponed, the
>> important ones marked with '(!)'):
>>
>> - core: HB_MD5() incompatible modification.
>> - xhb: .prg level MT issues.
>> - gtwvg: AMD64 mode and WinCE.
>> - owatcom: warning in hb_snprintf() (posted to the list)
>> - wince: error in hbproces.c (build breaker, posted on the list) (!)
>> - core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().
>> - core: hb_regexMatch()'s 3rd parameter has a double meaning. (!)
>> - hbct: SetFDaTi() duplicated logic.
>> - Platform builds and tests. (!)
>> - whatsnew.txt update. (!)
>> - hbmk2 green light from Przemek regarding *nixes. (!)
>> - djgpp: hb-mkslib link creation error (?)
>>
>> Brgds,
>> Viktor
>>
>> On Mon, Mar 2, 2009 at 10:14 AM, Lorenzo Fiorini <
>> lorenzo.fiorini@gmail.com <mailto:lorenzo.fiorini@gmail.com>> wrote:
>>
>>     >From my side 1.1 seems in good shape now.
>>
>>    As far as I understood Viktor will clean old make system today and
>>    since nobody replayed about doc/es I think we can also remove doc/es
>>    and move doc/en at the doc level ( doc in the root is already en so I
>>    don't see the reason to have an en subdir ).
>>
>>    Can we define a tag date for 1.1?
>>
>>    best regards,
>>    Lorenzo
>>    _______________________________________________
>>    Harbour mailing list
>>    Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>>    http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/f3e5570d/attachment.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 06:18:27 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 06:18:31 2009
Subject: [Harbour] tlib warnings
References: <C142B9FEA39540F9B2C1657F08D22A47@emag><18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com><89866B1DC6DE4940BC2B124802FAB87F@emag>
	<18d502870903020232n3198645v20573ecf99bf61dd@mail.gmail.com>
Message-ID: <C92745CD785344B6BF8FDD7B49D4CB95@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.32
Oggetto: Re: [Harbour] tlib warnings

Oh, and the unuseful tlib warnings are not there anymore.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 06:25:01 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 06:25:06 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
Message-ID: <3F115E1E79D942D482E84F6BB236ED79@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 11.48
Oggetto: Re: [Harbour] Problem in latest SVN


> I've just put TLIB.EXE (DOS) in my PATH after BCC and it
> wasn't executed by MinGW make (v 3.81).

I have MinGW make and old tlib.exe in the same dir. Anyway, as I said, it 
was working fine a couple of days ago.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From niki at synel.co.il  Mon Mar  2 06:22:05 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar  2 06:25:28 2009
Subject: [Harbour] tlib warnings
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B946@Mail-yoq.SYNEL-COMPANY.LTD>

> Oh, and the unuseful tlib warnings are not there anymore

On the log you sent they were already up-to-date, did you try it also with clean build?
(this is good)

by the way, if you want that the make log file will contain both the STDOUT and STDERR,
(so you know where the error was) you can modify your batch from:

call make_gnu.bat > make_%_HB_CC_NAME%.log

into:

call make_gnu.bat 2>make_%_HB_CC_NAME%.log 1>&2

Used to work with OS/2 REXX, and still working on my WinNT :)


  Chen.
From harbour.01 at syenar.hu  Mon Mar  2 06:27:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 06:27:54 2009
Subject: [Harbour] tlib warnings
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B944@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B944@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903020327h74276bc0v3a25d55601a53d67@mail.gmail.com>

That's a good step, thanks. It would be great to have such a command to
cover all major compilers (MSVC, GCC, owatcom, pocc), using GNU grep.
>grep -inH "warning " make_msvc.log

Brgds,
Viktor

On Mon, Mar 2, 2009 at 11:44 AM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> > For similar reasons I'd like to rename a few filenames
> > which contain 'error' because they make it more difficult
> > to find real error messages. Only errorsys.prg should
> > remain intact.
>
> It used to bother me each time I scanned the log files, then
> I found I can do the following using grep.exe that came with BCB:
>
> grep.exe -i "(error|warning|fatal|note|hint)[ :,!]" make_b32.log
>
> (for some reason it refused to work with the -w option so I added the
> section)
>
>
>  Chen._______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/87e78953/attachment.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 06:29:05 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 06:29:10 2009
Subject: [Harbour] tlib warnings
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B946@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <A5E5E98DA1704C4E8C7D6A4BA79D6577@emag>


-----Messaggio Originale----- 
Da: "Chen Kedem" <niki@synel.co.il>
A: "Harbour mail-list" <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 12.22
Oggetto: Re: [Harbour] tlib warnings


> On the log you sent they were already up-to-date, did
> you try it also with clean build?

Yes already tried. There is no problem.

> call make_gnu.bat 2>make_%_HB_CC_NAME%.log 1>&2

Yes, I know, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From dbtopas at dbtopas.lt  Mon Mar  2 06:38:56 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Mar  2 06:36:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10501] trunk/harbour
In-Reply-To: <E1Le3dw-00037R-Pl@d5vjzd1.ch3.sourceforge.com>
References: <E1Le3dw-00037R-Pl@d5vjzd1.ch3.sourceforge.com>
Message-ID: <49ABC550.5050604@dbtopas.lt>

>   + source/rtl/hbstrfmt.c
>     + Added HB_STRFORMAT() sprintf()-like formatting.
>     + Added hb_StrFormat() C level function.
>     ; Work of Mindaugas sent to the list, with some minor 
>       cleanups applied. Please test on your platform/compiler.


Hi,



thank you for commit. I'm going to extend it using Prezemek's 
suggestions, but I do not find a spare time.

I also have some hbole code. I'm not sure should I commit it to 
contrib/hbole, or it is better to delete hbole at all. As you've said 
some time before, the have 3 ole implementations, this is too many.



Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Mar  2 06:42:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 06:42:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10501] trunk/harbour
In-Reply-To: <49ABC550.5050604@dbtopas.lt>
References: <E1Le3dw-00037R-Pl@d5vjzd1.ch3.sourceforge.com>
	<49ABC550.5050604@dbtopas.lt>
Message-ID: <18d502870903020342t44f0dd35v80accded65024406@mail.gmail.com>

Hi Mindaugas,

> thank you for commit. I'm going to extend it using Prezemek's suggestions,
> but I do not find a spare time.


No problem, thanks for contributing this important piece,
just take your time for the rest.


> I also have some hbole code. I'm not sure should I commit it to
> contrib/hbole, or it is better to delete hbole at all. As you've said some
> time before, the have 3 ole implementations, this is too many.


That's great news. The best would be to commit it in hbwin, but
until real users could make an educated decision, it's perfectly
safe IMO to commit it to hbole. I hope we will move it to hbwin
ASAP.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/e7d0fc2e/attachment-0001.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 06:47:00 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 06:47:04 2009
Subject: [Harbour] Errors
Message-ID: <21EE6793CC99494D8D4712F9EDC942CC@emag>

Here it is the errors position:

E:\HARBOUR_CVS\harbour\doc>copy windll.txt E:\HARBOUR_CVS\harbour\doc 
Impossibile copiare un file su se stesso.
        0 file copiati.
mingw32-make.exe[1]: [install] Error 1 (ignored)


E:\HARBOUR_CVS\harbour\doc\en>copy var.txt E:\HARBOUR_CVS\harbour\doc\en 
Impossibile copiare un file su se stesso.
        0 file copiati.
mingw32-make.exe[2]: [install] Error 1 (ignored)


E:\HARBOUR_CVS\harbour\doc\es>copy vm.txt E:\HARBOUR_CVS\harbour\doc\es 
Impossibile copiare un file su se stesso.
        0 file copiati.
mingw32-make.exe[2]: [install] Error 1 (ignored)


E:\HARBOUR_CVS\harbour\include>copy vm.api E:\HARBOUR_CVS\harbour\include 
Impossibile copiare un file su se stesso.
        0 file copiati.
mingw32-make.exe[1]: [install] Error 1 (ignored)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic

From mbelgrano at deltain.it  Mon Mar  2 06:54:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 06:54:17 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
Message-ID: <609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>

I add to lib and include mingw path but is not sufficent

SET HB_ARCHITECTURE=win
SET HB_COMPILER=mingw
SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
SET HB_USER_LDFLAGS=-s
SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
SET OBJ=%HB_INSTALL_PREFIX%OBJ
SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log



mingw32-make.exe[1]: [install] Error 258 (ignored)
/usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
/usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\. md %d'
mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
/usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
/usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win ..\..\lib\win\ming
w) do if not exist %d\. md %d'
mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [common.inst] Error 2
mingw32-make.exe: *** [source.inst] Error 2


2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
> Can you point me where read?
>
> 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Please read INSTALL on how to do a MinGW build.
>> Brgds,
>> Viktor
>>
>> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano <mbelgrano@deltain.it>
>> wrote:
>>>
>>> echo --harbour---------------
>>> Folow are my batch for compiling & set enviroment for working
>>> and error that i receive only mw and ow
>>>
>>> @rem sow.bat
>>> @rem i set envars each times that i start harbour session and make a
>>> rebuild when neccessary
>>>
>>> SET HB_ARCHITECTURE=win
>>> SET HB_COMPILER=owatcom
>>> SET WATCOM=c:\devl\watcom
>>> SET
>>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>>> SET EDPATH=%WATCOM%\EDDAT
>>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>
>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>> set SHLVL=
>>>
>>> @rem ?-----------------rebuild
>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>> MD %HB_COMPILER%
>>> md %HB_INSTALL_PREFIX%INCLUDE
>>> MD %HB_INSTALL_PREFIX%LIB
>>> MD %HB_INSTALL_PREFIX%BIN
>>> MD %HB_INSTALL_PREFIX%OBJ
>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>
>>> :SKIP_REBUILD
>>>
>>>
>>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>>> mingw32-make.exe[2]: *** [descend] Error 2
>>> mingw32-make.exe[1]: *** [common.inst] Error 2
>>> mingw32-make.exe: *** [source.inst] Error 2
>>>
>>>
>>>
>>>
>>> --------------------------sbc.bat----------------------
>>> set HB_ARCHITECTURE=win
>>> set HB_COMPILER=bcc32
>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>>> set path=c:\devl\BCC55\BIN;%path%
>>> set path=c:\devl\mingw32make;%path%
>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>> set SHLVL=
>>> @rem ?-----------------rebuild
>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>> MD %HB_COMPILER%
>>> md %HB_INSTALL_PREFIX%INCLUDE
>>> MD %HB_INSTALL_PREFIX%LIB
>>> MD %HB_INSTALL_PREFIX%BIN
>>> MD %HB_INSTALL_PREFIX%OBJ
>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>
>>> compiling with No error
>>>
>>> ------------------------sv9.bat------------
>>> set HB_ARCHITECTURE=win
>>> set HB_COMPILER=msvc
>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>> @rem set HB_INSTALL_PREFIX=%~dp0
>>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>>> set path=c:\devl\mingw32make;%path%
>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>> set SHLVL=
>>> @rem ?-----------------rebuild
>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>> MD %HB_COMPILER%
>>> md %HB_INSTALL_PREFIX%INCLUDE
>>> MD %HB_INSTALL_PREFIX%LIB
>>> MD %HB_INSTALL_PREFIX%BIN
>>> MD %HB_INSTALL_PREFIX%OBJ
>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>
>>>
>>> Compiling with No error
>>>
>>> -------------------smw.bat--------------
>>> set HB_ARCHITECTURE=win
>>> set HB_COMPILER=mingw
>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>>> set HB_USER_LDFLAGS=-s
>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>> set SHLVL=
>>> @rem ?-----------------rebuild
>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>> MD %HB_COMPILER%
>>> md %HB_INSTALL_PREFIX%INCLUDE
>>> MD %HB_INSTALL_PREFIX%LIB
>>> MD %HB_INSTALL_PREFIX%BIN
>>> MD %HB_INSTALL_PREFIX%OBJ
>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>> ---------------------------------------------------
>>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\.
>>> md %d'
>>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>>> ..\..\lib\win\ming
>>> w) do if not exist %d\. md %d'
>>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>>> mingw32-make.exe[2]: *** [descend] Error 2
>>> mingw32-make.exe[1]: *** [common.inst] Error 2
>>> mingw32-make.exe: *** [source.inst] Error 2
>>>
>>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>>> ..\..\lib\win\owatcom
>>> mingw32-make.exe[3]: Entering directory
>>> `C:/harbour/source/common/win/owatcom'
>>> wpp386 ? ? ?../../expropt1.c -fo=expropt1.obj
>>> This is an OS/2 32-bit executable
>>> mingw32-make.exe[3]: Leaving directory
>>> `C:/harbour/source/common/win/owatcom'
>>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
>
> --
> Massimo Belgrano
>
From harbour.01 at syenar.hu  Mon Mar  2 07:18:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 07:18:42 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
Message-ID: <18d502870903020418x454ba52bk304eca94aaf18cfe@mail.gmail.com>

I cannot be more specific: Read INSTALL, it's in the root of Harbour's
source repository. Read it carefully
and follow it. MinGW build examples were posted on
this list in the past.

Your owatcom init is also wrong, you should read the
readme of Open Watcom for the correct init script.
(but please don't ask me where you find the readme ;)

Brgds,
Viktor

On Mon, Mar 2, 2009 at 12:54 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I add to lib and include mingw path but is not sufficent
>
> SET HB_ARCHITECTURE=win
> SET HB_COMPILER=mingw
> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> SET HB_USER_LDFLAGS=-s
> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>
>
>
> mingw32-make.exe[1]: [install] Error 258 (ignored)
> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\. md
> %d'
> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
> ..\..\lib\win\ming
> w) do if not exist %d\. md %d'
> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [common.inst] Error 2
> mingw32-make.exe: *** [source.inst] Error 2
>
>
> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
> > Can you point me where read?
> >
> > 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> Please read INSTALL on how to do a MinGW build.
> >> Brgds,
> >> Viktor
> >>
> >> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano <mbelgrano@deltain.it
> >
> >> wrote:
> >>>
> >>> echo --harbour---------------
> >>> Folow are my batch for compiling & set enviroment for working
> >>> and error that i receive only mw and ow
> >>>
> >>> @rem sow.bat
> >>> @rem i set envars each times that i start harbour session and make a
> >>> rebuild when neccessary
> >>>
> >>> SET HB_ARCHITECTURE=win
> >>> SET HB_COMPILER=owatcom
> >>> SET WATCOM=c:\devl\watcom
> >>> SET
> >>>
> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
> >>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
> >>> SET EDPATH=%WATCOM%\EDDAT
> >>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
> >>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
> >>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >>>
> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >>> set SHLVL=
> >>>
> >>> @rem  -----------------rebuild
> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >>> MD %HB_COMPILER%
> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >>> MD %HB_INSTALL_PREFIX%LIB
> >>> MD %HB_INSTALL_PREFIX%BIN
> >>> MD %HB_INSTALL_PREFIX%OBJ
> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >>>
> >>> :SKIP_REBUILD
> >>>
> >>>
> >>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
> >>> mingw32-make.exe[2]: *** [descend] Error 2
> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
> >>> mingw32-make.exe: *** [source.inst] Error 2
> >>>
> >>>
> >>>
> >>>
> >>> --------------------------sbc.bat----------------------
> >>> set HB_ARCHITECTURE=win
> >>> set HB_COMPILER=bcc32
> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
> >>> set path=c:\devl\BCC55\BIN;%path%
> >>> set path=c:\devl\mingw32make;%path%
> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >>> set SHLVL=
> >>> @rem  -----------------rebuild
> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >>> MD %HB_COMPILER%
> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >>> MD %HB_INSTALL_PREFIX%LIB
> >>> MD %HB_INSTALL_PREFIX%BIN
> >>> MD %HB_INSTALL_PREFIX%OBJ
> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >>>
> >>> compiling with No error
> >>>
> >>> ------------------------sv9.bat------------
> >>> set HB_ARCHITECTURE=win
> >>> set HB_COMPILER=msvc
> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >>> @rem set HB_INSTALL_PREFIX=%~dp0
> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
> >>> set path=c:\devl\mingw32make;%path%
> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >>> set SHLVL=
> >>> @rem  -----------------rebuild
> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >>> MD %HB_COMPILER%
> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >>> MD %HB_INSTALL_PREFIX%LIB
> >>> MD %HB_INSTALL_PREFIX%BIN
> >>> MD %HB_INSTALL_PREFIX%OBJ
> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >>>
> >>>
> >>> Compiling with No error
> >>>
> >>> -------------------smw.bat--------------
> >>> set HB_ARCHITECTURE=win
> >>> set HB_COMPILER=mingw
> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> >>> set HB_USER_LDFLAGS=-s
> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >>> set SHLVL=
> >>> @rem  -----------------rebuild
> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >>> MD %HB_COMPILER%
> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >>> MD %HB_INSTALL_PREFIX%LIB
> >>> MD %HB_INSTALL_PREFIX%BIN
> >>> MD %HB_INSTALL_PREFIX%OBJ
> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >>> ---------------------------------------------------
> >>> mingw32-make.exe[1]: [install] Error 258 (ignored)
> >>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
> >>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
> %d\.
> >>> md %d'
> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> >>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
> >>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
> >>> ..\..\lib\win\ming
> >>> w) do if not exist %d\. md %d'
> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> >>> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
> >>> mingw32-make.exe[2]: *** [descend] Error 2
> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
> >>> mingw32-make.exe: *** [source.inst] Error 2
> >>>
> >>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
> >>> ..\..\lib\win\owatcom
> >>> mingw32-make.exe[3]: Entering directory
> >>> `C:/harbour/source/common/win/owatcom'
> >>> wpp386      ../../expropt1.c -fo=expropt1.obj
> >>> This is an OS/2 32-bit executable
> >>> mingw32-make.exe[3]: Leaving directory
> >>> `C:/harbour/source/common/win/owatcom'
> >>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
> >>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
> >>> --
> >>> Massimo Belgrano
> >>> _______________________________________________
> >>> Harbour mailing list
> >>> Harbour@harbour-project.org
> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >>
> >
> >
> >
> > --
> > Massimo Belgrano
> >
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/e1ce8e7d/attachment-0001.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 07:23:24 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 07:23:28 2009
Subject: [Harbour] tlib warnings
References: <C142B9FEA39540F9B2C1657F08D22A47@emag><18d502870903020212s68c7b1bcs4c08c18f2833f16c@mail.gmail.com><89866B1DC6DE4940BC2B124802FAB87F@emag><18d502870903020232n3198645v20573ecf99bf61dd@mail.gmail.com>
	<CD3E77BDE1E84F63845705DF79280A8E@emag>
Message-ID: <1B907ABAFE8248BB9D7B247EB9C53BBB@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 12.09
Oggetto: Re: [Harbour] tlib warnings


> No code generated.
> mingw32-make.exe[3]: *** [regexrpl.c] Error 1
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [xhb.inst] Error 2
> mingw32-make.exe: *** [contrib.inst] Error 2

I can't find the above errors anymore.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Mon Mar  2 07:33:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 07:33:51 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <18d502870903020418x454ba52bk304eca94aaf18cfe@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
	<18d502870903020418x454ba52bk304eca94aaf18cfe@mail.gmail.com>
Message-ID: <609353e70903020433wa13ef85p5b2526dfd00b85ec@mail.gmail.com>

Can you post(or send me by email)  your batch for  mingw,ow?

2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> I cannot be more specific: Read INSTALL, it's in the
> root of Harbour's source repository. Read it carefully
> and follow?it. MinGW build examples were posted on
> this list in the past.
> Your owatcom init is also wrong, you should read the
> readme of Open Watcom for the correct init script.
> (but please don't ask me where you find the readme ;)
> Brgds,
> Viktor
> On Mon, Mar 2, 2009 at 12:54 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> I add to lib and include mingw path but is not sufficent
>>
>> SET HB_ARCHITECTURE=win
>> SET HB_COMPILER=mingw
>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> SET HB_USER_LDFLAGS=-s
>> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>
>>
>>
>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\.
>> md %d'
>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> ..\..\lib\win\ming
>> w) do if not exist %d\. md %d'
>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> mingw32-make.exe[2]: *** [descend] Error 2
>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> mingw32-make.exe: *** [source.inst] Error 2
>>
>>
>> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
>> > Can you point me where read?
>> >
>> > 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> >> Please read INSTALL on how to do a MinGW build.
>> >> Brgds,
>> >> Viktor
>> >>
>> >> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano
>> >> <mbelgrano@deltain.it>
>> >> wrote:
>> >>>
>> >>> echo --harbour---------------
>> >>> Folow are my batch for compiling & set enviroment for working
>> >>> and error that i receive only mw and ow
>> >>>
>> >>> @rem sow.bat
>> >>> @rem i set envars each times that i start harbour session and make a
>> >>> rebuild when neccessary
>> >>>
>> >>> SET HB_ARCHITECTURE=win
>> >>> SET HB_COMPILER=owatcom
>> >>> SET WATCOM=c:\devl\watcom
>> >>> SET
>> >>>
>> >>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>> >>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>> >>> SET EDPATH=%WATCOM%\EDDAT
>> >>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>> >>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>> >>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >>>
>> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >>> set SHLVL=
>> >>>
>> >>> @rem ?-----------------rebuild
>> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >>> MD %HB_COMPILER%
>> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >>> MD %HB_INSTALL_PREFIX%LIB
>> >>> MD %HB_INSTALL_PREFIX%BIN
>> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >>>
>> >>> :SKIP_REBUILD
>> >>>
>> >>>
>> >>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>> >>> mingw32-make.exe[2]: *** [descend] Error 2
>> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >>> mingw32-make.exe: *** [source.inst] Error 2
>> >>>
>> >>>
>> >>>
>> >>>
>> >>> --------------------------sbc.bat----------------------
>> >>> set HB_ARCHITECTURE=win
>> >>> set HB_COMPILER=bcc32
>> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> >>> set path=c:\devl\BCC55\BIN;%path%
>> >>> set path=c:\devl\mingw32make;%path%
>> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >>> set SHLVL=
>> >>> @rem ?-----------------rebuild
>> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >>> MD %HB_COMPILER%
>> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >>> MD %HB_INSTALL_PREFIX%LIB
>> >>> MD %HB_INSTALL_PREFIX%BIN
>> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >>>
>> >>> compiling with No error
>> >>>
>> >>> ------------------------sv9.bat------------
>> >>> set HB_ARCHITECTURE=win
>> >>> set HB_COMPILER=msvc
>> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >>> @rem set HB_INSTALL_PREFIX=%~dp0
>> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>> >>> set path=c:\devl\mingw32make;%path%
>> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >>> set SHLVL=
>> >>> @rem ?-----------------rebuild
>> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >>> MD %HB_COMPILER%
>> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >>> MD %HB_INSTALL_PREFIX%LIB
>> >>> MD %HB_INSTALL_PREFIX%BIN
>> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >>>
>> >>>
>> >>> Compiling with No error
>> >>>
>> >>> -------------------smw.bat--------------
>> >>> set HB_ARCHITECTURE=win
>> >>> set HB_COMPILER=mingw
>> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> >>> set HB_USER_LDFLAGS=-s
>> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >>> set SHLVL=
>> >>> @rem ?-----------------rebuild
>> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >>> MD %HB_COMPILER%
>> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >>> MD %HB_INSTALL_PREFIX%LIB
>> >>> MD %HB_INSTALL_PREFIX%BIN
>> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >>> ---------------------------------------------------
>> >>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> >>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> >>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
>> >>> %d\.
>> >>> md %d'
>> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> >>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> >>> ..\..\lib\win\ming
>> >>> w) do if not exist %d\. md %d'
>> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> >>> mingw32-make.exe[2]: *** [descend] Error 2
>> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >>> mingw32-make.exe: *** [source.inst] Error 2
>> >>>
>> >>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>> >>> ..\..\lib\win\owatcom
>> >>> mingw32-make.exe[3]: Entering directory
>> >>> `C:/harbour/source/common/win/owatcom'
>> >>> wpp386 ? ? ?../../expropt1.c -fo=expropt1.obj
>> >>> This is an OS/2 32-bit executable
>> >>> mingw32-make.exe[3]: Leaving directory
>> >>> `C:/harbour/source/common/win/owatcom'
>> >>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>> >>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>> >>> --
>> >>> Massimo Belgrano
>> >>> _______________________________________________
>> >>> Harbour mailing list
>> >>> Harbour@harbour-project.org
>> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >>
>> >>
>> >> _______________________________________________
>> >> Harbour mailing list
>> >> Harbour@harbour-project.org
>> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >>
>> >>
>> >
>> >
>> >
>> > --
>> > Massimo Belgrano
>> >
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Mar  2 07:42:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 07:42:54 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <609353e70903020433wa13ef85p5b2526dfd00b85ec@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
	<18d502870903020418x454ba52bk304eca94aaf18cfe@mail.gmail.com>
	<609353e70903020433wa13ef85p5b2526dfd00b85ec@mail.gmail.com>
Message-ID: <18d502870903020442n62c24668w14a9611fcd7bff39@mail.gmail.com>

No sorry, I don't have any reduced scripts.
I'd like to know if ppl can work these out by themselves
from the docs. So please read them and report if you have
any specific problems or questions along the way, this way
everyone can benefit.

Brgds,
Viktor

On Mon, Mar 2, 2009 at 1:33 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Can you post(or send me by email)  your batch for  mingw,ow?
>
> 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> > I cannot be more specific: Read INSTALL, it's in the
> > root of Harbour's source repository. Read it carefully
> > and follow it. MinGW build examples were posted on
> > this list in the past.
> > Your owatcom init is also wrong, you should read the
> > readme of Open Watcom for the correct init script.
> > (but please don't ask me where you find the readme ;)
> > Brgds,
> > Viktor
> > On Mon, Mar 2, 2009 at 12:54 PM, Massimo Belgrano <mbelgrano@deltain.it>
> > wrote:
> >>
> >> I add to lib and include mingw path but is not sufficent
> >>
> >> SET HB_ARCHITECTURE=win
> >> SET HB_COMPILER=mingw
> >> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> >> SET HB_USER_LDFLAGS=-s
> >> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
> >> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
> >> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >>
> >>
> >>
> >> mingw32-make.exe[1]: [install] Error 258 (ignored)
> >> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
> >> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\.
> >> md %d'
> >> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> >> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
> >> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
> >> ..\..\lib\win\ming
> >> w) do if not exist %d\. md %d'
> >> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> >> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
> >> mingw32-make.exe[2]: *** [descend] Error 2
> >> mingw32-make.exe[1]: *** [common.inst] Error 2
> >> mingw32-make.exe: *** [source.inst] Error 2
> >>
> >>
> >> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
> >> > Can you point me where read?
> >> >
> >> > 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> >> Please read INSTALL on how to do a MinGW build.
> >> >> Brgds,
> >> >> Viktor
> >> >>
> >> >> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano
> >> >> <mbelgrano@deltain.it>
> >> >> wrote:
> >> >>>
> >> >>> echo --harbour---------------
> >> >>> Folow are my batch for compiling & set enviroment for working
> >> >>> and error that i receive only mw and ow
> >> >>>
> >> >>> @rem sow.bat
> >> >>> @rem i set envars each times that i start harbour session and make a
> >> >>> rebuild when neccessary
> >> >>>
> >> >>> SET HB_ARCHITECTURE=win
> >> >>> SET HB_COMPILER=owatcom
> >> >>> SET WATCOM=c:\devl\watcom
> >> >>> SET
> >> >>>
> >> >>>
> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
> >> >>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
> >> >>> SET EDPATH=%WATCOM%\EDDAT
> >> >>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
> >> >>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
> >> >>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >> >>>
> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >> >>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >> >>> set SHLVL=
> >> >>>
> >> >>> @rem  -----------------rebuild
> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >> >>> MD %HB_COMPILER%
> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >> >>> MD %HB_INSTALL_PREFIX%LIB
> >> >>> MD %HB_INSTALL_PREFIX%BIN
> >> >>> MD %HB_INSTALL_PREFIX%OBJ
> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >> >>>
> >> >>> :SKIP_REBUILD
> >> >>>
> >> >>>
> >> >>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
> >> >>> mingw32-make.exe[2]: *** [descend] Error 2
> >> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
> >> >>> mingw32-make.exe: *** [source.inst] Error 2
> >> >>>
> >> >>>
> >> >>>
> >> >>>
> >> >>> --------------------------sbc.bat----------------------
> >> >>> set HB_ARCHITECTURE=win
> >> >>> set HB_COMPILER=bcc32
> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
> >> >>> set path=c:\devl\BCC55\BIN;%path%
> >> >>> set path=c:\devl\mingw32make;%path%
> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >> >>> set SHLVL=
> >> >>> @rem  -----------------rebuild
> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >> >>> MD %HB_COMPILER%
> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >> >>> MD %HB_INSTALL_PREFIX%LIB
> >> >>> MD %HB_INSTALL_PREFIX%BIN
> >> >>> MD %HB_INSTALL_PREFIX%OBJ
> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >> >>>
> >> >>> compiling with No error
> >> >>>
> >> >>> ------------------------sv9.bat------------
> >> >>> set HB_ARCHITECTURE=win
> >> >>> set HB_COMPILER=msvc
> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >> >>> @rem set HB_INSTALL_PREFIX=%~dp0
> >> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >> >>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> x86
> >> >>> set path=c:\devl\mingw32make;%path%
> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >> >>> set SHLVL=
> >> >>> @rem  -----------------rebuild
> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >> >>> MD %HB_COMPILER%
> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >> >>> MD %HB_INSTALL_PREFIX%LIB
> >> >>> MD %HB_INSTALL_PREFIX%BIN
> >> >>> MD %HB_INSTALL_PREFIX%OBJ
> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >> >>>
> >> >>>
> >> >>> Compiling with No error
> >> >>>
> >> >>> -------------------smw.bat--------------
> >> >>> set HB_ARCHITECTURE=win
> >> >>> set HB_COMPILER=mingw
> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> >> >>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> >> >>> set HB_USER_LDFLAGS=-s
> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> >> >>> set SHLVL=
> >> >>> @rem  -----------------rebuild
> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
> >> >>> MD %HB_COMPILER%
> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
> >> >>> MD %HB_INSTALL_PREFIX%LIB
> >> >>> MD %HB_INSTALL_PREFIX%BIN
> >> >>> MD %HB_INSTALL_PREFIX%OBJ
> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
> >> >>> ---------------------------------------------------
> >> >>> mingw32-make.exe[1]: [install] Error 258 (ignored)
> >> >>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
> >> >>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
> >> >>> %d\.
> >> >>> md %d'
> >> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> >> >>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
> >> >>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
> >> >>> ..\..\lib\win\ming
> >> >>> w) do if not exist %d\. md %d'
> >> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> >> >>> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
> >> >>> mingw32-make.exe[2]: *** [descend] Error 2
> >> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
> >> >>> mingw32-make.exe: *** [source.inst] Error 2
> >> >>>
> >> >>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
> >> >>> ..\..\lib\win\owatcom
> >> >>> mingw32-make.exe[3]: Entering directory
> >> >>> `C:/harbour/source/common/win/owatcom'
> >> >>> wpp386      ../../expropt1.c -fo=expropt1.obj
> >> >>> This is an OS/2 32-bit executable
> >> >>> mingw32-make.exe[3]: Leaving directory
> >> >>> `C:/harbour/source/common/win/owatcom'
> >> >>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
> >> >>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
> >> >>> --
> >> >>> Massimo Belgrano
> >> >>> _______________________________________________
> >> >>> Harbour mailing list
> >> >>> Harbour@harbour-project.org
> >> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
> >> >>
> >> >>
> >> >> _______________________________________________
> >> >> Harbour mailing list
> >> >> Harbour@harbour-project.org
> >> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >> >>
> >> >>
> >> >
> >> >
> >> >
> >> > --
> >> > Massimo Belgrano
> >> >
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/a9fae083/attachment-0001.html
From kleyber at tkinformidia.net  Mon Mar  2 07:48:13 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Mon Mar  2 07:48:41 2009
Subject: [Harbour] Script
Message-ID: <BC9615B63B234B0AABDC572B8E1200D8@particular>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 2743 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/648ea264/attachment.jpe
From xmessoft at gmail.com  Mon Mar  2 07:59:22 2009
From: xmessoft at gmail.com (xMen)
Date: Mon Mar  2 07:56:32 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling
	with	ow and mw
In-Reply-To: <609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
Message-ID: <49ABD82A.4090705@gmail.com>

Massimo yo lo tengo as? y me compila perfectamente sin errores:

@echo off
echo 
--------------------------------------------------------------------------
echo -               Creacion de Harbour con Watcom 
C                         -
echo 
--------------------------------------------------------------------------

rem 
---------------------------------------------------------------------------
rem -                    PATH del compilador de C y 
utilidades                -
rem 
---------------------------------------------------------------------------

SET _PATH_OR=%PATH%
SET PATH=C:\BISON\BIN;C:\WATCOM\BINNT;C:\WATCOM\BINW;c:\MinGW\bin;%PATH%

rem 
---------------------------------------------------------------------------
rem -                    Opciones 
especiales                                  -
rem 
---------------------------------------------------------------------------

SET HB_REBUILD_PARSER=yes
SET HB_BUILD_DLL=yes
SET HB_ARCHITECTURE=win

rem 
---------------------------------------------------------------------------
rem -                    Constrcuccion de 
Harbour                             -
rem 
---------------------------------------------------------------------------

SET HB_COMPILER=owatcom

SET INCLUDE=C:\WATCOM\H;C:\WATCOM\H\NT;%INCLUDE%
SET LIB=C:\WATCOM\LIB386;C:\WATCOM\LIB386\NT;%LIB%
SET WATCOM=C:\WATCOM
SET EDPATH=C:\WATCOM\EDDAT

SET HB_INSTALL_PREFIX=c:\harbour\work\owatcom

call make_gnu install > msg_owatcom.log

rem 
---------------------------------------------------------------------------
rem -                    Restauracion PATH y entorno 
anterior                 -
rem 
---------------------------------------------------------------------------

SET PATH=%_PATH_OR%
SET BISON_SIMPLE=
SET HB_COMPILER=
SET INCLUDE=
SET LIB=
SET WATCOM=
SET EDPATH=
SET HB_INSTALL_PREFIX=

rem 
---------------------------------------------------------------------------



Massimo Belgrano escribi?:
> I add to lib and include mingw path but is not sufficent
>
> SET HB_ARCHITECTURE=win
> SET HB_COMPILER=mingw
> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
> SET HB_USER_LDFLAGS=-s
> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
> SET OBJ=%HB_INSTALL_PREFIX%OBJ
> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>
>
>
> mingw32-make.exe[1]: [install] Error 258 (ignored)
> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\. md %d'
> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win ..\..\lib\win\ming
> w) do if not exist %d\. md %d'
> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [common.inst] Error 2
> mingw32-make.exe: *** [source.inst] Error 2
>
>
> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
>   
>> Can you point me where read?
>>
>> 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>>     
>>> Please read INSTALL on how to do a MinGW build.
>>> Brgds,
>>> Viktor
>>>
>>> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano <mbelgrano@deltain.it>
>>> wrote:
>>>       
>>>> echo --harbour---------------
>>>> Folow are my batch for compiling & set enviroment for working
>>>> and error that i receive only mw and ow
>>>>
>>>> @rem sow.bat
>>>> @rem i set envars each times that i start harbour session and make a
>>>> rebuild when neccessary
>>>>
>>>> SET HB_ARCHITECTURE=win
>>>> SET HB_COMPILER=owatcom
>>>> SET WATCOM=c:\devl\watcom
>>>> SET
>>>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>>>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>>>> SET EDPATH=%WATCOM%\EDDAT
>>>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>>>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>>>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>>
>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>> set SHLVL=
>>>>
>>>> @rem  -----------------rebuild
>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>> MD %HB_COMPILER%
>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>> MD %HB_INSTALL_PREFIX%LIB
>>>> MD %HB_INSTALL_PREFIX%BIN
>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>
>>>> :SKIP_REBUILD
>>>>
>>>>
>>>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>>>> mingw32-make.exe[2]: *** [descend] Error 2
>>>> mingw32-make.exe[1]: *** [common.inst] Error 2
>>>> mingw32-make.exe: *** [source.inst] Error 2
>>>>
>>>>
>>>>
>>>>
>>>> --------------------------sbc.bat----------------------
>>>> set HB_ARCHITECTURE=win
>>>> set HB_COMPILER=bcc32
>>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>>>> set path=c:\devl\BCC55\BIN;%path%
>>>> set path=c:\devl\mingw32make;%path%
>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>> set SHLVL=
>>>> @rem  -----------------rebuild
>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>> MD %HB_COMPILER%
>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>> MD %HB_INSTALL_PREFIX%LIB
>>>> MD %HB_INSTALL_PREFIX%BIN
>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>
>>>> compiling with No error
>>>>
>>>> ------------------------sv9.bat------------
>>>> set HB_ARCHITECTURE=win
>>>> set HB_COMPILER=msvc
>>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>> @rem set HB_INSTALL_PREFIX=%~dp0
>>>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>>>> set path=c:\devl\mingw32make;%path%
>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>> set SHLVL=
>>>> @rem  -----------------rebuild
>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>> MD %HB_COMPILER%
>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>> MD %HB_INSTALL_PREFIX%LIB
>>>> MD %HB_INSTALL_PREFIX%BIN
>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>
>>>>
>>>> Compiling with No error
>>>>
>>>> -------------------smw.bat--------------
>>>> set HB_ARCHITECTURE=win
>>>> set HB_COMPILER=mingw
>>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>>>> set HB_USER_LDFLAGS=-s
>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>> set SHLVL=
>>>> @rem  -----------------rebuild
>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>> MD %HB_COMPILER%
>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>> MD %HB_INSTALL_PREFIX%LIB
>>>> MD %HB_INSTALL_PREFIX%BIN
>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>> ---------------------------------------------------
>>>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>>>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>>>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\.
>>>> md %d'
>>>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>>>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>>>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>>>> ..\..\lib\win\ming
>>>> w) do if not exist %d\. md %d'
>>>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>>>> mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
>>>> mingw32-make.exe[2]: *** [descend] Error 2
>>>> mingw32-make.exe[1]: *** [common.inst] Error 2
>>>> mingw32-make.exe: *** [source.inst] Error 2
>>>>
>>>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>>>> ..\..\lib\win\owatcom
>>>> mingw32-make.exe[3]: Entering directory
>>>> `C:/harbour/source/common/win/owatcom'
>>>> wpp386      ../../expropt1.c -fo=expropt1.obj
>>>> This is an OS/2 32-bit executable
>>>> mingw32-make.exe[3]: Leaving directory
>>>> `C:/harbour/source/common/win/owatcom'
>>>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>>>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>>>> --
>>>> Massimo Belgrano
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>         
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>>       
>>
>> --
>> Massimo Belgrano
>>
>>     
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

From jarabal at gmail.com  Mon Mar  2 07:58:07 2009
From: jarabal at gmail.com (Xavi)
Date: Mon Mar  2 08:00:34 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903020316j510c00dey12005e4553fcc6a@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>	<49ABBBAF.6080405@gmail.com>
	<18d502870903020316j510c00dey12005e4553fcc6a@mail.gmail.com>
Message-ID: <49ABD7DF.5040809@gmail.com>

Thanks Viktor.

Best regards,
Xavi

Viktor Szak?ts escribi?:
> Hi Xavi,
> 
> No, it's that it's returning the value as a hexadecimal string, 
> instead of a byte string. This is odd behaviour as we have 
> functions available to convert to hexa string from byte string, 
> so it's not necessary to hard-wire such feature into MD5 and 
> similar functions.
> 
> This would be a step towards integrating hbcrypt lib into core, 
> but maybe I'll do it anyway, as simple CRC and ADLER functions 
> already work the normal way, so MD5 is the exception already.
> 
> Brgds,
> Viktor
> 
> On Mon, Mar 2, 2009 at 11:57 AM, Xavi <jarabal@gmail.com 
> <mailto:jarabal@gmail.com>> wrote:
> 
>     Viktor,
>            
>     Sorry, I don't recall any incidence.            
>     What is "HB_MD5() incompatible modification", miscalculated?
> 
>     Best regards,
>     Xavi
> 

From mbelgrano at deltain.it  Mon Mar  2 08:09:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 08:09:18 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <18d502870903020442n62c24668w14a9611fcd7bff39@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
	<18d502870903020418x454ba52bk304eca94aaf18cfe@mail.gmail.com>
	<609353e70903020433wa13ef85p5b2526dfd00b85ec@mail.gmail.com>
	<18d502870903020442n62c24668w14a9611fcd7bff39@mail.gmail.com>
Message-ID: <609353e70903020509g46a51a8fw3947acd2cede0bf7@mail.gmail.com>

i have read harbour\install without read any useful information
I think that set path, lib,include must be corrected but i not able to found how
Probably solution cab be in page that i have read but i not able to understand
http://www.mingw.org/wiki/IncludePathHOWTO
http://www.cccp-project.net/wiki/index.php?title=Installing_MSYS-MinGW


2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> No sorry, I don't have any reduced scripts.
> I'd like to know if ppl can work these out by themselves
> from the docs. So please read them and report if you have
> any specific problems or questions along the way, this way
> everyone can benefit.
> Brgds,
> Viktor
>
> On Mon, Mar 2, 2009 at 1:33 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Can you post(or send me by email) ?your batch for ?mingw,ow?
>>
>> 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > I cannot be more specific: Read INSTALL, it's in the
>> > root of Harbour's source repository. Read it carefully
>> > and follow?it. MinGW build examples were posted on
>> > this list in the past.
>> > Your owatcom init is also wrong, you should read the
>> > readme of Open Watcom for the correct init script.
>> > (but please don't ask me where you find the readme ;)
>> > Brgds,
>> > Viktor
>> > On Mon, Mar 2, 2009 at 12:54 PM, Massimo Belgrano <mbelgrano@deltain.it>
>> > wrote:
>> >>
>> >> I add to lib and include mingw path but is not sufficent
>> >>
>> >> SET HB_ARCHITECTURE=win
>> >> SET HB_COMPILER=mingw
>> >> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> >> SET HB_USER_LDFLAGS=-s
>> >> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
>> >> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
>> >> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >>
>> >>
>> >>
>> >> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> >> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> >> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
>> >> %d\.
>> >> md %d'
>> >> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> >> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> >> ..\..\lib\win\ming
>> >> w) do if not exist %d\. md %d'
>> >> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> >> mingw32-make.exe[2]: *** [descend] Error 2
>> >> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >> mingw32-make.exe: *** [source.inst] Error 2
>> >>
>> >>
>> >> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
>> >> > Can you point me where read?
>> >> >
>> >> > 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> >> >> Please read INSTALL on how to do a MinGW build.
>> >> >> Brgds,
>> >> >> Viktor
>> >> >>
>> >> >> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano
>> >> >> <mbelgrano@deltain.it>
>> >> >> wrote:
>> >> >>>
>> >> >>> echo --harbour---------------
>> >> >>> Folow are my batch for compiling & set enviroment for working
>> >> >>> and error that i receive only mw and ow
>> >> >>>
>> >> >>> @rem sow.bat
>> >> >>> @rem i set envars each times that i start harbour session and make
>> >> >>> a
>> >> >>> rebuild when neccessary
>> >> >>>
>> >> >>> SET HB_ARCHITECTURE=win
>> >> >>> SET HB_COMPILER=owatcom
>> >> >>> SET WATCOM=c:\devl\watcom
>> >> >>> SET
>> >> >>>
>> >> >>>
>> >> >>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>> >> >>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>> >> >>> SET EDPATH=%WATCOM%\EDDAT
>> >> >>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>> >> >>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>> >> >>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>>
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>>
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>>
>> >> >>> :SKIP_REBUILD
>> >> >>>
>> >> >>>
>> >> >>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>> >> >>> mingw32-make.exe[2]: *** [descend] Error 2
>> >> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >> >>> mingw32-make.exe: *** [source.inst] Error 2
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --------------------------sbc.bat----------------------
>> >> >>> set HB_ARCHITECTURE=win
>> >> >>> set HB_COMPILER=bcc32
>> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> >> >>> set path=c:\devl\BCC55\BIN;%path%
>> >> >>> set path=c:\devl\mingw32make;%path%
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>>
>> >> >>> compiling with No error
>> >> >>>
>> >> >>> ------------------------sv9.bat------------
>> >> >>> set HB_ARCHITECTURE=win
>> >> >>> set HB_COMPILER=msvc
>> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>> @rem set HB_INSTALL_PREFIX=%~dp0
>> >> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
>> >> >>> x86
>> >> >>> set path=c:\devl\mingw32make;%path%
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>>
>> >> >>>
>> >> >>> Compiling with No error
>> >> >>>
>> >> >>> -------------------smw.bat--------------
>> >> >>> set HB_ARCHITECTURE=win
>> >> >>> set HB_COMPILER=mingw
>> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> >> >>> set HB_USER_LDFLAGS=-s
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>> ---------------------------------------------------
>> >> >>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> >> >>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> >> >>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
>> >> >>> %d\.
>> >> >>> md %d'
>> >> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> >>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> >> >>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> >> >>> ..\..\lib\win\ming
>> >> >>> w) do if not exist %d\. md %d'
>> >> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> >>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> >> >>> mingw32-make.exe[2]: *** [descend] Error 2
>> >> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >> >>> mingw32-make.exe: *** [source.inst] Error 2
>> >> >>>
>> >> >>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>> >> >>> ..\..\lib\win\owatcom
>> >> >>> mingw32-make.exe[3]: Entering directory
>> >> >>> `C:/harbour/source/common/win/owatcom'
>> >> >>> wpp386 ? ? ?../../expropt1.c -fo=expropt1.obj
>> >> >>> This is an OS/2 32-bit executable
>> >> >>> mingw32-make.exe[3]: Leaving directory
>> >> >>> `C:/harbour/source/common/win/owatcom'
>> >> >>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>> >> >>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>> >> >>> --
>> >> >>> Massimo Belgrano
>> >> >>> _______________________________________________
>> >> >>> Harbour mailing list
>> >> >>> Harbour@harbour-project.org
>> >> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >> >>
>> >> >>
>> >> >> _______________________________________________
>> >> >> Harbour mailing list
>> >> >> Harbour@harbour-project.org
>> >> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >> >>
>> >> >>
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > Massimo Belgrano
>> >> >
>> >> _______________________________________________
>> >> Harbour mailing list
>> >> Harbour@harbour-project.org
>> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l. ?http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From mbelgrano at deltain.it  Mon Mar  2 08:22:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 08:22:41 2009
Subject: [Harbour] Script
In-Reply-To: <BC9615B63B234B0AABDC572B8E1200D8@particular>
References: <BC9615B63B234B0AABDC572B8E1200D8@particular>
Message-ID: <609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>

Now i am able to compile with this script

SET HB_ARCHITECTURE=win
SET HB_COMPILER=msvc
SET HB_INSTALL_PREFIX=%~dp0
SET path=%HB_INSTALL_PREFIX%bin;%path%
SET LIB=%HB_INSTALL_PREFIX%LIB
SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
SET path=c:\devl\mingw32make;%path%
SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log


> CALL MAKE_VC INSTALL
> CD \HARBOUR\CONTRIB
> Echo ----------contrib---------
> CALL MAKE_VC_ALL CLEAN
> CALL MAKE_VC_ALL
> cd \harbour
> CALL MAKE_VC INSTALL
> cd \
>
> Best Regards,
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar  2 08:38:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 08:38:09 2009
Subject: [Harbour] Script
In-Reply-To: <609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>
References: <BC9615B63B234B0AABDC572B8E1200D8@particular>
	<609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>
Message-ID: <18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com>

Hi Kleyber,

This is all you need:
---
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
set PATH=C:\devl\make-3.81;%PATH%
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=C:\harbour
call make_gnu.bat clean install
---

You can extend, modify it with stuff detailed in INSTALL if needed.
Above example assumes you have GNU make in C:\devl\make-3.81,
but you can simply put mingw32-make.exe anywhere in the PATH.

[ I'd like to kindly ask other posters to not make it any more complicated,
than it really is. If you need more than 3-4 lines for Harbour setup you're
most probably on the wrong path. Too many misinformation is posted to
the list, too many times. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/1de55935/attachment.html
From mbelgrano at deltain.it  Mon Mar  2 09:14:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 09:14:43 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <49ABD82A.4090705@gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
	<49ABD82A.4090705@gmail.com>
Message-ID: <609353e70903020614s3073437bu76ca8475e1e0d3f3@mail.gmail.com>

Thanks!
After i reading your post i have modified in my script  SET PATH, LIB,INCLUDE
SET HB_ARCHITECTURE=win
SET HB_COMPILER=owatcom
SET WATCOM=c:\devl\watcom
SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
SET BEGINLIBPATH=%WATCOM%\BINP\DLL
SET EDPATH=%WATCOM%\EDDAT
SET HELP=%WATCOM%\BINP\HELP;%HELP%
SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
@rem set HB_INSTALL_PREFIX=%~dp0
SET LIB=%WATCOM%\LIB386;%WATCOM%\LIB386\NT;%HB_INSTALL_PREFIX%LIB
SET INCLUDE=%WATCOM%\H\nt;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log


Now i still receive an error but in only on  a building of contrib
mingw32-make.exe[3]: *** [regexrpl.c] Error 255
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [xhb.inst] Error 2
mingw32-make.exe: *** [contrib.inst] Error 2
mingw32-make.exe[3]: Entering directory `C:/harbour/contrib/xhb/win/owatcom'
../../../../source/main/win/owatcom/harbour.exe ../../regexrpl.prg -n1 -i../../.
./../include -q0 -w3 -es2 -km -l -gc3
../../regexrpl.prg(96) Warning W0032  Variable 'NEND' is assigned but not used i
n function 'HB_REGEXREPLACE(0)'



2009/3/2 xMen <xmessoft@gmail.com>:
> Massimo yo lo tengo as? y me compila perfectamente sin errores:
>
> @echo off
> echo
> --------------------------------------------------------------------------
> echo - ? ? ? ? ? ? ? Creacion de Harbour con Watcom C
> ? -
> echo
> --------------------------------------------------------------------------
>
> rem
> ---------------------------------------------------------------------------
> rem - ? ? ? ? ? ? ? ? ? ?PATH del compilador de C y utilidades
> ?-
> rem
> ---------------------------------------------------------------------------
>
> SET _PATH_OR=%PATH%
> SET PATH=C:\BISON\BIN;C:\WATCOM\BINNT;C:\WATCOM\BINW;c:\MinGW\bin;%PATH%
>
> rem
> ---------------------------------------------------------------------------
> rem - ? ? ? ? ? ? ? ? ? ?Opciones especiales
> ?-
> rem
> ---------------------------------------------------------------------------
>
> SET HB_REBUILD_PARSER=yes
> SET HB_BUILD_DLL=yes
> SET HB_ARCHITECTURE=win
>
> rem
> ---------------------------------------------------------------------------
> rem - ? ? ? ? ? ? ? ? ? ?Constrcuccion de Harbour
> ? -
> rem
> ---------------------------------------------------------------------------
>
> SET HB_COMPILER=owatcom
>
> SET INCLUDE=C:\WATCOM\H;C:\WATCOM\H\NT;%INCLUDE%
> SET LIB=C:\WATCOM\LIB386;C:\WATCOM\LIB386\NT;%LIB%
> SET WATCOM=C:\WATCOM
> SET EDPATH=C:\WATCOM\EDDAT
>
> SET HB_INSTALL_PREFIX=c:\harbour\work\owatcom
>
> call make_gnu install > msg_owatcom.log
>
> rem
> ---------------------------------------------------------------------------
> rem - ? ? ? ? ? ? ? ? ? ?Restauracion PATH y entorno anterior
> ? -
> rem
> ---------------------------------------------------------------------------
>
> SET PATH=%_PATH_OR%
> SET BISON_SIMPLE=
> SET HB_COMPILER=
> SET INCLUDE=
> SET LIB=
> SET WATCOM=
> SET EDPATH=
> SET HB_INSTALL_PREFIX=
>
> rem
> ---------------------------------------------------------------------------
>
>
>
> Massimo Belgrano escribi?:
>>
>> I add to lib and include mingw path but is not sufficent
>>
>> SET HB_ARCHITECTURE=win
>> SET HB_COMPILER=mingw
>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> SET HB_USER_LDFLAGS=-s
>> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>
>>
>>
>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\.
>> md %d'
>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> ..\..\lib\win\ming
>> w) do if not exist %d\. md %d'
>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> mingw32-make.exe[2]: *** [descend] Error 2
>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> mingw32-make.exe: *** [source.inst] Error 2
>>
>>
>> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
>>
>>>
>>> Can you point me where read?
>>>
>>> 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>
>>>>
>>>> Please read INSTALL on how to do a MinGW build.
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano <mbelgrano@deltain.it>
>>>> wrote:
>>>>
>>>>>
>>>>> echo --harbour---------------
>>>>> Folow are my batch for compiling & set enviroment for working
>>>>> and error that i receive only mw and ow
>>>>>
>>>>> @rem sow.bat
>>>>> @rem i set envars each times that i start harbour session and make a
>>>>> rebuild when neccessary
>>>>>
>>>>> SET HB_ARCHITECTURE=win
>>>>> SET HB_COMPILER=owatcom
>>>>> SET WATCOM=c:\devl\watcom
>>>>> SET
>>>>>
>>>>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>>>>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>>>>> SET EDPATH=%WATCOM%\EDDAT
>>>>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>>>>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>>>>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>>>
>>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>>> set SHLVL=
>>>>>
>>>>> @rem ?-----------------rebuild
>>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>>> MD %HB_COMPILER%
>>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>>> MD %HB_INSTALL_PREFIX%LIB
>>>>> MD %HB_INSTALL_PREFIX%BIN
>>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>>
>>>>> :SKIP_REBUILD
>>>>>
>>>>>
>>>>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>>>>> mingw32-make.exe[2]: *** [descend] Error 2
>>>>> mingw32-make.exe[1]: *** [common.inst] Error 2
>>>>> mingw32-make.exe: *** [source.inst] Error 2
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --------------------------sbc.bat----------------------
>>>>> set HB_ARCHITECTURE=win
>>>>> set HB_COMPILER=bcc32
>>>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>>>>> set path=c:\devl\BCC55\BIN;%path%
>>>>> set path=c:\devl\mingw32make;%path%
>>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>>> set SHLVL=
>>>>> @rem ?-----------------rebuild
>>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>>> MD %HB_COMPILER%
>>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>>> MD %HB_INSTALL_PREFIX%LIB
>>>>> MD %HB_INSTALL_PREFIX%BIN
>>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>>
>>>>> compiling with No error
>>>>>
>>>>> ------------------------sv9.bat------------
>>>>> set HB_ARCHITECTURE=win
>>>>> set HB_COMPILER=msvc
>>>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>>> @rem set HB_INSTALL_PREFIX=%~dp0
>>>>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
>>>>> set path=c:\devl\mingw32make;%path%
>>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>>> set SHLVL=
>>>>> @rem ?-----------------rebuild
>>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>>> MD %HB_COMPILER%
>>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>>> MD %HB_INSTALL_PREFIX%LIB
>>>>> MD %HB_INSTALL_PREFIX%BIN
>>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>>
>>>>>
>>>>> Compiling with No error
>>>>>
>>>>> -------------------smw.bat--------------
>>>>> set HB_ARCHITECTURE=win
>>>>> set HB_COMPILER=mingw
>>>>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>>>>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>>>>> set HB_USER_LDFLAGS=-s
>>>>> SET LIB=%HB_INSTALL_PREFIX%LIB
>>>>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>>>>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>>>>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>>>>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>>>>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>>>>> set SHLVL=
>>>>> @rem ?-----------------rebuild
>>>>> if not "%1%" == "rebuild" goto SKIP_rebuild
>>>>> MD %HB_COMPILER%
>>>>> md %HB_INSTALL_PREFIX%INCLUDE
>>>>> MD %HB_INSTALL_PREFIX%LIB
>>>>> MD %HB_INSTALL_PREFIX%BIN
>>>>> MD %HB_INSTALL_PREFIX%OBJ
>>>>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>>>>> ---------------------------------------------------
>>>>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>>>>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>>>>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
>>>>> %d\.
>>>>> md %d'
>>>>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>>>>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>>>>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>>>>> ..\..\lib\win\ming
>>>>> w) do if not exist %d\. md %d'
>>>>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>>>>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>>>>> mingw32-make.exe[2]: *** [descend] Error 2
>>>>> mingw32-make.exe[1]: *** [common.inst] Error 2
>>>>> mingw32-make.exe: *** [source.inst] Error 2
>>>>>
>>>>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>>>>> ..\..\lib\win\owatcom
>>>>> mingw32-make.exe[3]: Entering directory
>>>>> `C:/harbour/source/common/win/owatcom'
>>>>> wpp386 ? ? ?../../expropt1.c -fo=expropt1.obj
>>>>> This is an OS/2 32-bit executable
>>>>> mingw32-make.exe[3]: Leaving directory
>>>>> `C:/harbour/source/common/win/owatcom'
>>>>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>>>>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>>>>> --
>>>>> Massimo Belgrano
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>>>
>>>
>>> --
>>> Massimo Belgrano
>>>
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From kleyber at tkinformidia.net  Mon Mar  2 09:18:27 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Mon Mar  2 09:18:52 2009
Subject: [Harbour] Script
References: <BC9615B63B234B0AABDC572B8E1200D8@particular><609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>
	<18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com>
Message-ID: <BFD06C35977F42CF9264B37DF36DCC3F@particular>

Thank you Viktor.

Best Regards,

Kleyber Derick
  ----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Monday, March 02, 2009 10:38 AM
  Subject: Re: [Harbour] Script


  Hi Kleyber,


  This is all you need:

  ---

  call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"

  set PATH=C:\devl\make-3.81;%PATH%
  set HB_COMPILER=msvc
  set HB_INSTALL_PREFIX=C:\harbour
  call make_gnu.bat clean install
  ---



  You can extend, modify it with stuff detailed in INSTALL if needed.

  Above example assumes you have GNU make in C:\devl\make-3.81, 
  but you can simply put mingw32-make.exe anywhere in the PATH.


  [ I'd like to kindly ask other posters to not make it any more complicated, 
  than it really is. If you need more than 3-4 lines for Harbour setup you're 
  most probably on the wrong path. Too many misinformation is posted to 
  the list, too many times. ]


  Brgds,
  Viktor




------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/e5a98b66/attachment.html
From bedipritpal at hotmail.com  Mon Mar  2 09:36:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 09:36:22 2009
Subject: [Harbour] Warnings
In-Reply-To: <8B39B003F5084DEBB5EBD936BDC144B1@emag>
References: <8B39B003F5084DEBB5EBD936BDC144B1@emag>
Message-ID: <22289267.post@talk.nabble.com>


Hi


Enrico Maria Giordano wrote:
> 
> Warning W8084 ../../gtwvg.c 2369: Suggest parentheses to clarify
> precedence 
> in function hb_gt_wvt_CreateWindow
> 

Fixed. But not committed yet.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Warnings-tp22285307p22289267.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Mar  2 09:42:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 09:42:06 2009
Subject: [Harbour] hbmake deleted
In-Reply-To: <18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>
References: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>
	<18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>
Message-ID: <609353e70903020642s611a83d8p63c2de13f45e4ca4@mail.gmail.com>

Sorry i have still a problem with hbmake
in past i have  successful recompiled with
 hbmk2 hbmake hbmfrdln.c hbmgauge.c hbmlang.c
now if i recompile with same script but receive same warning and i
cant't start hbmake because it close immediately after start
hbmake.prg(5972) Warning W0001  Ambiguous reference 'S_LRECURSIVE'
hbmake.prg(5975) Warning W0001  Ambiguous reference 'S_LPRINT'
hbmake.prg(5982) Warning W0001  Ambiguous reference 'S_NLANG'
hbmake.prg(5985) Warning W0001  Ambiguous reference 'S_NLANG'
hbmake.prg(5988) Warning W0001  Ambiguous reference 'S_NLANG'
hbmake.prg(6020) Warning W0001  Ambiguous reference 'S_LFORCE'
Lines 7426, Functions/Procedures 62

Something will changes in hbmk2.prg?


2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> in last cvs i don't found ?utils/hbmake/ path
>>
>> is possible move in example dir?
>
> Nope, because it's not a good example IMO,
> and also very big for what it offers.
> You can take the .exe from 1.0.1 release,
> or get yesterday's sources from the repository
> by using -r <revision> option of Subversion.
>
>>
>> hmake Will be recompiled ?by hbmk.prg?
>
> hbmk hbmake?hbmfrdln.c?hbmgauge.c?hbmlang.c
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Mar  2 09:44:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 09:44:23 2009
Subject: [Harbour] Warnings
In-Reply-To: <22289267.post@talk.nabble.com>
References: <8B39B003F5084DEBB5EBD936BDC144B1@emag>
	<22289267.post@talk.nabble.com>
Message-ID: <18d502870903020644u13361dc4u7c9e45cda84e4115@mail.gmail.com>

I've committed it already, please verify it.
Brgds,
Viktor

On Mon, Mar 2, 2009 at 3:36 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> Enrico Maria Giordano wrote:
> >
> > Warning W8084 ../../gtwvg.c 2369: Suggest parentheses to clarify
> > precedence
> > in function hb_gt_wvt_CreateWindow
> >
>
> Fixed. But not committed yet.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Warnings-tp22285307p22289267.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/5e5b5a71/attachment.html
From harbour.01 at syenar.hu  Mon Mar  2 09:44:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 09:44:53 2009
Subject: [Harbour] hbmake deleted
In-Reply-To: <609353e70903020642s611a83d8p63c2de13f45e4ca4@mail.gmail.com>
References: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>
	<18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>
	<609353e70903020642s611a83d8p63c2de13f45e4ca4@mail.gmail.com>
Message-ID: <18d502870903020644k51d09332td6777b6c3e21b5@mail.gmail.com>

You miss the -n switch.
Brgds,
Viktor

On Mon, Mar 2, 2009 at 3:42 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Sorry i have still a problem with hbmake
> in past i have  successful recompiled with
>  hbmk2 hbmake hbmfrdln.c hbmgauge.c hbmlang.c
> now if i recompile with same script but receive same warning and i
> cant't start hbmake because it close immediately after start
> hbmake.prg(5972) Warning W0001  Ambiguous reference 'S_LRECURSIVE'
> hbmake.prg(5975) Warning W0001  Ambiguous reference 'S_LPRINT'
> hbmake.prg(5982) Warning W0001  Ambiguous reference 'S_NLANG'
> hbmake.prg(5985) Warning W0001  Ambiguous reference 'S_NLANG'
> hbmake.prg(5988) Warning W0001  Ambiguous reference 'S_NLANG'
> hbmake.prg(6020) Warning W0001  Ambiguous reference 'S_LFORCE'
> Lines 7426, Functions/Procedures 62
>
> Something will changes in hbmk2.prg?
>
>
> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> in last cvs i don't found  utils/hbmake/ path
> >>
> >> is possible move in example dir?
> >
> > Nope, because it's not a good example IMO,
> > and also very big for what it offers.
> > You can take the .exe from 1.0.1 release,
> > or get yesterday's sources from the repository
> > by using -r <revision> option of Subversion.
> >
> >>
> >> hmake Will be recompiled  by hbmk.prg?
> >
> > hbmk hbmake hbmfrdln.c hbmgauge.c hbmlang.c
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/17e9da90/attachment.html
From mbelgrano at deltain.it  Mon Mar  2 10:12:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 10:13:03 2009
Subject: [Harbour] hbmake deleted
In-Reply-To: <18d502870903020644k51d09332td6777b6c3e21b5@mail.gmail.com>
References: <609353e70902160102k79c7e7b7o1bbd63f23d8892d6@mail.gmail.com>
	<18d502870902160126i1e83d23esbca5ffca6342fc16@mail.gmail.com>
	<609353e70903020642s611a83d8p63c2de13f45e4ca4@mail.gmail.com>
	<18d502870903020644k51d09332td6777b6c3e21b5@mail.gmail.com>
Message-ID: <609353e70903020712h5b88d3c4ufe1eac53855829b8@mail.gmail.com>

Yes Thanks for clarification

2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> You miss the -n switch.
> Brgds,
> Viktor
> On Mon, Mar 2, 2009 at 3:42 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Sorry i have still a problem with hbmake
>> in past i have ?successful recompiled with
>> ?hbmk2 hbmake hbmfrdln.c hbmgauge.c hbmlang.c
>> now if i recompile with same script but receive same warning and i
>> cant't start hbmake because it close immediately after start
>> hbmake.prg(5972) Warning W0001 ?Ambiguous reference 'S_LRECURSIVE'
>> hbmake.prg(5975) Warning W0001 ?Ambiguous reference 'S_LPRINT'
>> hbmake.prg(5982) Warning W0001 ?Ambiguous reference 'S_NLANG'
>> hbmake.prg(5985) Warning W0001 ?Ambiguous reference 'S_NLANG'
>> hbmake.prg(5988) Warning W0001 ?Ambiguous reference 'S_NLANG'
>> hbmake.prg(6020) Warning W0001 ?Ambiguous reference 'S_LFORCE'
>> Lines 7426, Functions/Procedures 62
>>
>> Something will changes in hbmk2.prg?
>>
>>
>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>> >> in last cvs i don't found ?utils/hbmake/ path
>> >>
>> >> is possible move in example dir?
>> >
>> > Nope, because it's not a good example IMO,
>> > and also very big for what it offers.
>> > You can take the .exe from 1.0.1 release,
>> > or get yesterday's sources from the repository
>> > by using -r <revision> option of Subversion.
>> >
>> >>
>> >> hmake Will be recompiled ?by hbmk.prg?
>> >
>> > hbmk hbmake?hbmfrdln.c?hbmgauge.c?hbmlang.c
>> > Brgds,
>> > Viktor
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l. ?http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From gvarona at ec-red.com  Mon Mar  2 10:14:56 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Mar  2 10:15:18 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22270970.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com>
Message-ID: <49ABF7F0.4040006@ec-red.com>

Pritpal Bedi escribi?:
> Hello Everybody
> Does anybody have xmate project .env file for MinGW ?
>   
I am using this:

[Environment]
Description 1=Harbour + MinGW + DOS
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=GVS
Last update=12/05/2008

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\HarbourMinGW
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /es2 /a /b /i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\MinGW
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.Exe%CRLF% -I%HB_INC_INSTALL%%CRLF% -mno-cygwin -Wall -c %C% -o%OBJ%
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.Exe -M < %RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.Exe -o%EXE% -Wall -mno-cygwin  -mconsole %LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\libxhb.a=1
%HB_LIB_INSTALL%\libgtcgi.a=2
%HB_LIB_INSTALL%\libgtgui.a=3
%HB_LIB_INSTALL%\libgtpca.a=4
%HB_LIB_INSTALL%\libgtstd.a=5
%HB_LIB_INSTALL%\libgtwin.a=6
%HB_LIB_INSTALL%\libgtwvg.a=7
%HB_LIB_INSTALL%\libgtwvt.a=8
%HB_LIB_INSTALL%\libhbbmcdx.a=9
%HB_LIB_INSTALL%\libhbbtree.a=10
%HB_LIB_INSTALL%\libhbclipsm.a=11
%HB_LIB_INSTALL%\libhbcommon.a=12
%HB_LIB_INSTALL%\libhbcpage.a=13
%HB_LIB_INSTALL%\libhbcplr.a=14
%HB_LIB_INSTALL%\libhbct.a=15
%HB_LIB_INSTALL%\libhbdebug.a=16
%HB_LIB_INSTALL%\libhbgt.a=17
%HB_LIB_INSTALL%\libhbhsx.a=18
%HB_LIB_INSTALL%\libhblang.a=19
%HB_LIB_INSTALL%\libhbmacro.a=20
%HB_LIB_INSTALL%\libhbmainstd.a=21
%HB_LIB_INSTALL%\libhbmisc.a=22
%HB_LIB_INSTALL%\libhbnf.a=23
%HB_LIB_INSTALL%\libhbodbc.a=24
%HB_LIB_INSTALL%\libhbpcre.a=25
%HB_LIB_INSTALL%\libhbpp.a=26
%HB_LIB_INSTALL%\libhbrdd.a=27
%HB_LIB_INSTALL%\libhbrtl.a=28
%HB_LIB_INSTALL%\libhbsix.a=29
%HB_LIB_INSTALL%\libhbtip.a=30
%HB_LIB_INSTALL%\libhbusrrdd.a=31
%HB_LIB_INSTALL%\libhbvm.a=32
%HB_LIB_INSTALL%\libhbw32.a=33
%HB_LIB_INSTALL%\librddado.a=34
%HB_LIB_INSTALL%\librddcdx.a=35
%HB_LIB_INSTALL%\librddfpt.a=36
%HB_LIB_INSTALL%\librddntx.a=37
%HB_LIB_INSTALL%\LibAbraxasMinGW.A=38
%C_LIB_INSTALL%\libolesvr32.a=39
%C_LIB_INSTALL%\libole32.a=40
%C_LIB_INSTALL%\liboleacc.a=41
%C_LIB_INSTALL%\liboleaut32.a=42
%C_LIB_INSTALL%\libolecli32.a=43
%C_LIB_INSTALL%\liboledlg.a=44
%C_LIB_INSTALL%\libolepro32.a=45
%C_LIB_INSTALL%\libuuid.a=46
%C_LIB_INSTALL%\libwinspool.a=47
%HB_LIB_INSTALL%\libhbsqlit3.a=48


****************************

Best Regards
GVS



From vszakats at users.sourceforge.net  Mon Mar  2 10:27:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 10:27:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10504] trunk/harbour
Message-ID: <E1LeA3H-00055Z-AT@c3vjzd1.ch3.sourceforge.com>

Revision: 10504
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10504&view=rev
Author:   vszakats
Date:     2009-03-02 15:27:27 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 16:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * contrib/hbfbird/readme.txt
    * Updates.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbfbird/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar  2 11:43:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 11:43:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10505] trunk/harbour
Message-ID: <E1LeBF8-0002Dj-9o@3kljzd1.ch3.sourceforge.com>

Revision: 10505
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10505&view=rev
Author:   vszakats
Date:     2009-03-02 16:43:47 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 16:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - obj
  - make_b32.bat
  - make_b32.mak
  - make_gcc.sh
  - make_gcc.mak
  - make_vc.bat
  - make_vc.mak
  - common.mak
  - contrib/mtpl_b32.mak
  - contrib/mtpl_b32.bat
  - contrib/make_b32_all.bat
  - contrib/mtpl_gcc.mak
  - contrib/mtpl_gcc.sh
  - contrib/make_gcc_all.sh
  - contrib/mtpl_vc.mak
  - contrib/mtpl_vc.bat
  - contrib/make_vc_all.bat
  - contrib/hbmysql/common.mak
  - contrib/hbmysql/make_gcc.sh
  - contrib/hbmysql/make_b32.bat
  - contrib/hbmysql/make_vc.bat
  - contrib/gtalleg/common.mak
  - contrib/gtalleg/make_gcc.sh
  - contrib/gtalleg/make_b32.bat
  - contrib/gtalleg/make_vc.bat
  - contrib/hbct/make_b32.bat
  - contrib/hbct/make_gcc.sh
  - contrib/hbct/make_vc.bat
  - contrib/hbct/common.mak
  - contrib/hbodbc/common.mak
  - contrib/hbodbc/make_gcc.sh
  - contrib/hbodbc/make_b32.bat
  - contrib/hbodbc/make_vc.bat
  - contrib/xhb/make_b32.bat
  - contrib/xhb/make_gcc.sh
  - contrib/xhb/make_vc.bat
  - contrib/xhb/common.mak
  - contrib/hbtpathy/common.mak
  - contrib/hbtpathy/make_gcc.sh
  - contrib/hbtpathy/make_b32.bat
  - contrib/hbtpathy/make_vc.bat
  - contrib/hbgt/make_b32.bat
  - contrib/hbgt/common.mak
  - contrib/hbgt/make_gcc.sh
  - contrib/hbgt/make_vc.bat
  - contrib/hbmsql/common.mak
  - contrib/hbmsql/make_gcc.sh
  - contrib/hbmsql/make_b32.bat
  - contrib/hbmsql/make_vc.bat
  - contrib/hbsqlit3/common.mak
  - contrib/hbsqlit3/make_gcc.sh
  - contrib/hbsqlit3/make_b32.bat
  - contrib/hbsqlit3/make_vc.bat
  - contrib/hbole/common.mak
  - contrib/hbole/make_gcc.sh
  - contrib/hbole/make_b32.bat
  - contrib/hbole/make_vc.bat
  - contrib/hbmzip/make_b32.bat
  - contrib/hbmzip/common.mak
  - contrib/hbmzip/make_gcc.sh
  - contrib/hbmzip/make_vc.bat
  - contrib/hbblat/common.mak
  - contrib/hbblat/make_b32.bat
  - contrib/hbblat/make_vc.bat
  - contrib/hbfbird/common.mak
  - contrib/hbfbird/make_gcc.sh
  - contrib/hbfbird/make_b32.bat
  - contrib/hbfbird/make_vc.bat
  - contrib/hbapollo/common.mak
  - contrib/hbapollo/make_gcc.sh
  - contrib/hbapollo/make_b32.bat
  - contrib/hbapollo/make_vc.bat
  - contrib/hbziparc/common.mak
  - contrib/hbziparc/make_gcc.sh
  - contrib/hbziparc/make_b32.bat
  - contrib/hbziparc/make_vc.bat
  - contrib/hbnf/make_b32.bat
  - contrib/hbnf/make_gcc.sh
  - contrib/hbnf/make_vc.bat
  - contrib/hbnf/common.mak
  - contrib/hbcurl/common.mak
  - contrib/hbcurl/make_gcc.sh
  - contrib/hbcurl/make_b32.bat
  - contrib/hbcurl/make_vc.bat
  - contrib/rddsql/common.mak
  - contrib/rddsql/sddmy/common.mak
  - contrib/rddsql/sddmy/make_gcc.sh
  - contrib/rddsql/sddmy/make_b32.bat
  - contrib/rddsql/sddmy/make_vc.bat
  - contrib/rddsql/sddpg/common.mak
  - contrib/rddsql/sddpg/make_gcc.sh
  - contrib/rddsql/sddpg/make_b32.bat
  - contrib/rddsql/sddpg/make_vc.bat
  - contrib/rddsql/sddfb/common.mak
  - contrib/rddsql/sddfb/make_b32.bat
  - contrib/rddsql/sddfb/make_vc.bat
  - contrib/rddsql/make_gcc.sh
  - contrib/rddsql/make_b32.bat
  - contrib/rddsql/make_vc.bat
  - contrib/hbhpdf/common.mak
  - contrib/hbhpdf/make_gcc.sh
  - contrib/hbhpdf/make_b32.bat
  - contrib/hbhpdf/make_vc.bat
  - contrib/rddado/common.mak
  - contrib/rddado/make_gcc.sh
  - contrib/rddado/make_b32.bat
  - contrib/rddado/make_vc.bat
  - contrib/gtwvg/make_b32.bat
  - contrib/gtwvg/make_gcc.sh
  - contrib/gtwvg/make_vc.bat
  - contrib/gtwvg/common.mak
  - contrib/hbpgsql/common.mak
  - contrib/hbpgsql/make_gcc.sh
  - contrib/hbpgsql/make_b32.bat
  - contrib/hbpgsql/make_vc.bat
  - contrib/hbclipsm/make_b32.bat
  - contrib/hbclipsm/common.mak
  - contrib/hbclipsm/make_gcc.sh
  - contrib/hbclipsm/make_vc.bat
  - contrib/rddads/make_b32.bat
  - contrib/rddads/common.mak
  - contrib/rddads/make_gcc.sh
  - contrib/rddads/make_vc.bat
  - contrib/hbfimage/common.mak
  - contrib/hbfimage/make_gcc.sh
  - contrib/hbfimage/make_b32.bat
  - contrib/hbfimage/make_vc.bat
  - contrib/hbgd/make_b32.bat
  - contrib/hbgd/common.mak
  - contrib/hbgd/make_gcc.sh
  - contrib/hbgd/make_vc.bat
  - contrib/hbmisc/make_b32.bat
  - contrib/hbmisc/common.mak
  - contrib/hbmisc/make_gcc.sh
  - contrib/hbmisc/make_vc.bat
  - contrib/hbgf/hbgfwin/common.mak
  - contrib/hbgf/hbgfwin/make_b32.bat
  - contrib/hbgf/hbgfwin/make_vc.bat
  - contrib/hbtip/make_b32.bat
  - contrib/hbtip/common.mak
  - contrib/hbtip/make_gcc.sh
  - contrib/hbtip/make_vc.bat
  - contrib/hbwin/make_b32.bat
  - contrib/hbwin/common.mak
  - contrib/hbwin/make_gcc.sh
  - contrib/hbwin/make_vc.bat
  - contrib/hbbmcdx/common.mak
  - contrib/hbbmcdx/make_gcc.sh
  - contrib/hbbmcdx/make_b32.bat
  - contrib/hbbmcdx/make_vc.bat
  - contrib/hbvpdf/common.mak
  - contrib/hbvpdf/make_gcc.sh
  - contrib/hbvpdf/make_b32.bat
  - contrib/hbvpdf/make_vc.bat
  - contrib/hbssl/common.mak
  - contrib/hbssl/make_gcc.sh
  - contrib/hbssl/make_b32.bat
  - contrib/hbssl/make_vc.bat
  - contrib/hbbtree/common.mak
  - contrib/hbbtree/make_gcc.sh
  - contrib/hbbtree/make_b32.bat
  - contrib/hbbtree/make_vc.bat
  - contrib/hbcrypt/make_b32.bat
  - contrib/hbcrypt/common.mak
  - contrib/hbcrypt/make_gcc.sh
  - contrib/hbcrypt/make_vc.bat
  - contrib/hbwhat/make_b32.bat
  - contrib/hbwhat/make_gcc.sh
  - contrib/hbwhat/make_vc.bat
  - contrib/hbwhat/common.mak
  - contrib/examples/hbsqlit2/common.mak
  - contrib/examples/hbsqlit2/make_gcc.sh
  - contrib/examples/hbsqlit2/make_b32.bat
  - contrib/examples/hbsqlit2/make_vc.bat
    - Deleted components of "non-GNU" (MSVC, BCC and GCC
      specific) make systems. Leaving GNU Make as the
      unified make platform for Harbour.
      This also means that Harbour is now much portable
      in the sense that with a few rare exceptions all tasks should
      be carried exactly the same way across the OSes.
      Platform specific script file statistics before:
      - Bash          54  (end-user oriented: 49 - including package creation)
      - Windows/DOS  105  (end-user oriented: 90)
      - OS/2           2  (end-user oriented:  1)
      Platform specific script file statistics now:
      - Bash          14  (end-user oriented:  9 - including package creation)
      - Windows/DOS   19  (end-user oriented:  4)
      - OS/2           2  (end-user oriented:  1)
      Some of these will be further cleaned (hbdoc related: 5,
      hbmk compatibility: 2)

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/common.mak
    trunk/harbour/contrib/examples/hbsqlit2/common.mak
    trunk/harbour/contrib/examples/hbsqlit2/make_b32.bat
    trunk/harbour/contrib/examples/hbsqlit2/make_gcc.sh
    trunk/harbour/contrib/examples/hbsqlit2/make_vc.bat
    trunk/harbour/contrib/gtalleg/common.mak
    trunk/harbour/contrib/gtalleg/make_b32.bat
    trunk/harbour/contrib/gtalleg/make_gcc.sh
    trunk/harbour/contrib/gtalleg/make_vc.bat
    trunk/harbour/contrib/gtwvg/common.mak
    trunk/harbour/contrib/gtwvg/make_b32.bat
    trunk/harbour/contrib/gtwvg/make_gcc.sh
    trunk/harbour/contrib/gtwvg/make_vc.bat
    trunk/harbour/contrib/hbapollo/common.mak
    trunk/harbour/contrib/hbapollo/make_b32.bat
    trunk/harbour/contrib/hbapollo/make_gcc.sh
    trunk/harbour/contrib/hbapollo/make_vc.bat
    trunk/harbour/contrib/hbblat/common.mak
    trunk/harbour/contrib/hbblat/make_b32.bat
    trunk/harbour/contrib/hbblat/make_vc.bat
    trunk/harbour/contrib/hbbmcdx/common.mak
    trunk/harbour/contrib/hbbmcdx/make_b32.bat
    trunk/harbour/contrib/hbbmcdx/make_gcc.sh
    trunk/harbour/contrib/hbbmcdx/make_vc.bat
    trunk/harbour/contrib/hbbtree/common.mak
    trunk/harbour/contrib/hbbtree/make_b32.bat
    trunk/harbour/contrib/hbbtree/make_gcc.sh
    trunk/harbour/contrib/hbbtree/make_vc.bat
    trunk/harbour/contrib/hbclipsm/common.mak
    trunk/harbour/contrib/hbclipsm/make_b32.bat
    trunk/harbour/contrib/hbclipsm/make_gcc.sh
    trunk/harbour/contrib/hbclipsm/make_vc.bat
    trunk/harbour/contrib/hbcrypt/common.mak
    trunk/harbour/contrib/hbcrypt/make_b32.bat
    trunk/harbour/contrib/hbcrypt/make_gcc.sh
    trunk/harbour/contrib/hbcrypt/make_vc.bat
    trunk/harbour/contrib/hbct/common.mak
    trunk/harbour/contrib/hbct/make_b32.bat
    trunk/harbour/contrib/hbct/make_gcc.sh
    trunk/harbour/contrib/hbct/make_vc.bat
    trunk/harbour/contrib/hbcurl/common.mak
    trunk/harbour/contrib/hbcurl/make_b32.bat
    trunk/harbour/contrib/hbcurl/make_gcc.sh
    trunk/harbour/contrib/hbcurl/make_vc.bat
    trunk/harbour/contrib/hbfbird/common.mak
    trunk/harbour/contrib/hbfbird/make_b32.bat
    trunk/harbour/contrib/hbfbird/make_gcc.sh
    trunk/harbour/contrib/hbfbird/make_vc.bat
    trunk/harbour/contrib/hbfimage/common.mak
    trunk/harbour/contrib/hbfimage/make_b32.bat
    trunk/harbour/contrib/hbfimage/make_gcc.sh
    trunk/harbour/contrib/hbfimage/make_vc.bat
    trunk/harbour/contrib/hbgd/common.mak
    trunk/harbour/contrib/hbgd/make_b32.bat
    trunk/harbour/contrib/hbgd/make_gcc.sh
    trunk/harbour/contrib/hbgd/make_vc.bat
    trunk/harbour/contrib/hbgf/hbgfwin/common.mak
    trunk/harbour/contrib/hbgf/hbgfwin/make_b32.bat
    trunk/harbour/contrib/hbgf/hbgfwin/make_vc.bat
    trunk/harbour/contrib/hbgt/common.mak
    trunk/harbour/contrib/hbgt/make_b32.bat
    trunk/harbour/contrib/hbgt/make_gcc.sh
    trunk/harbour/contrib/hbgt/make_vc.bat
    trunk/harbour/contrib/hbhpdf/common.mak
    trunk/harbour/contrib/hbhpdf/make_b32.bat
    trunk/harbour/contrib/hbhpdf/make_gcc.sh
    trunk/harbour/contrib/hbhpdf/make_vc.bat
    trunk/harbour/contrib/hbmisc/common.mak
    trunk/harbour/contrib/hbmisc/make_b32.bat
    trunk/harbour/contrib/hbmisc/make_gcc.sh
    trunk/harbour/contrib/hbmisc/make_vc.bat
    trunk/harbour/contrib/hbmsql/common.mak
    trunk/harbour/contrib/hbmsql/make_b32.bat
    trunk/harbour/contrib/hbmsql/make_gcc.sh
    trunk/harbour/contrib/hbmsql/make_vc.bat
    trunk/harbour/contrib/hbmysql/common.mak
    trunk/harbour/contrib/hbmysql/make_b32.bat
    trunk/harbour/contrib/hbmysql/make_gcc.sh
    trunk/harbour/contrib/hbmysql/make_vc.bat
    trunk/harbour/contrib/hbmzip/common.mak
    trunk/harbour/contrib/hbmzip/make_b32.bat
    trunk/harbour/contrib/hbmzip/make_gcc.sh
    trunk/harbour/contrib/hbmzip/make_vc.bat
    trunk/harbour/contrib/hbnf/common.mak
    trunk/harbour/contrib/hbnf/make_b32.bat
    trunk/harbour/contrib/hbnf/make_gcc.sh
    trunk/harbour/contrib/hbnf/make_vc.bat
    trunk/harbour/contrib/hbodbc/common.mak
    trunk/harbour/contrib/hbodbc/make_b32.bat
    trunk/harbour/contrib/hbodbc/make_gcc.sh
    trunk/harbour/contrib/hbodbc/make_vc.bat
    trunk/harbour/contrib/hbole/common.mak
    trunk/harbour/contrib/hbole/make_b32.bat
    trunk/harbour/contrib/hbole/make_gcc.sh
    trunk/harbour/contrib/hbole/make_vc.bat
    trunk/harbour/contrib/hbpgsql/common.mak
    trunk/harbour/contrib/hbpgsql/make_b32.bat
    trunk/harbour/contrib/hbpgsql/make_gcc.sh
    trunk/harbour/contrib/hbpgsql/make_vc.bat
    trunk/harbour/contrib/hbsqlit3/common.mak
    trunk/harbour/contrib/hbsqlit3/make_b32.bat
    trunk/harbour/contrib/hbsqlit3/make_gcc.sh
    trunk/harbour/contrib/hbsqlit3/make_vc.bat
    trunk/harbour/contrib/hbssl/common.mak
    trunk/harbour/contrib/hbssl/make_b32.bat
    trunk/harbour/contrib/hbssl/make_gcc.sh
    trunk/harbour/contrib/hbssl/make_vc.bat
    trunk/harbour/contrib/hbtip/common.mak
    trunk/harbour/contrib/hbtip/make_b32.bat
    trunk/harbour/contrib/hbtip/make_gcc.sh
    trunk/harbour/contrib/hbtip/make_vc.bat
    trunk/harbour/contrib/hbtpathy/common.mak
    trunk/harbour/contrib/hbtpathy/make_b32.bat
    trunk/harbour/contrib/hbtpathy/make_gcc.sh
    trunk/harbour/contrib/hbtpathy/make_vc.bat
    trunk/harbour/contrib/hbvpdf/common.mak
    trunk/harbour/contrib/hbvpdf/make_b32.bat
    trunk/harbour/contrib/hbvpdf/make_gcc.sh
    trunk/harbour/contrib/hbvpdf/make_vc.bat
    trunk/harbour/contrib/hbwhat/common.mak
    trunk/harbour/contrib/hbwhat/make_b32.bat
    trunk/harbour/contrib/hbwhat/make_gcc.sh
    trunk/harbour/contrib/hbwhat/make_vc.bat
    trunk/harbour/contrib/hbwin/common.mak
    trunk/harbour/contrib/hbwin/make_b32.bat
    trunk/harbour/contrib/hbwin/make_gcc.sh
    trunk/harbour/contrib/hbwin/make_vc.bat
    trunk/harbour/contrib/hbziparc/common.mak
    trunk/harbour/contrib/hbziparc/make_b32.bat
    trunk/harbour/contrib/hbziparc/make_gcc.sh
    trunk/harbour/contrib/hbziparc/make_vc.bat
    trunk/harbour/contrib/make_b32_all.bat
    trunk/harbour/contrib/make_gcc_all.sh
    trunk/harbour/contrib/make_vc_all.bat
    trunk/harbour/contrib/mtpl_b32.bat
    trunk/harbour/contrib/mtpl_b32.mak
    trunk/harbour/contrib/mtpl_gcc.mak
    trunk/harbour/contrib/mtpl_gcc.sh
    trunk/harbour/contrib/mtpl_vc.bat
    trunk/harbour/contrib/mtpl_vc.mak
    trunk/harbour/contrib/rddado/common.mak
    trunk/harbour/contrib/rddado/make_b32.bat
    trunk/harbour/contrib/rddado/make_gcc.sh
    trunk/harbour/contrib/rddado/make_vc.bat
    trunk/harbour/contrib/rddads/common.mak
    trunk/harbour/contrib/rddads/make_b32.bat
    trunk/harbour/contrib/rddads/make_gcc.sh
    trunk/harbour/contrib/rddads/make_vc.bat
    trunk/harbour/contrib/rddsql/common.mak
    trunk/harbour/contrib/rddsql/make_b32.bat
    trunk/harbour/contrib/rddsql/make_gcc.sh
    trunk/harbour/contrib/rddsql/make_vc.bat
    trunk/harbour/contrib/rddsql/sddfb/common.mak
    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat
    trunk/harbour/contrib/rddsql/sddmy/common.mak
    trunk/harbour/contrib/rddsql/sddmy/make_b32.bat
    trunk/harbour/contrib/rddsql/sddmy/make_gcc.sh
    trunk/harbour/contrib/rddsql/sddmy/make_vc.bat
    trunk/harbour/contrib/rddsql/sddpg/common.mak
    trunk/harbour/contrib/rddsql/sddpg/make_b32.bat
    trunk/harbour/contrib/rddsql/sddpg/make_gcc.sh
    trunk/harbour/contrib/rddsql/sddpg/make_vc.bat
    trunk/harbour/contrib/xhb/common.mak
    trunk/harbour/contrib/xhb/make_b32.bat
    trunk/harbour/contrib/xhb/make_gcc.sh
    trunk/harbour/contrib/xhb/make_vc.bat
    trunk/harbour/make_b32.bat
    trunk/harbour/make_b32.mak
    trunk/harbour/make_gcc.mak
    trunk/harbour/make_gcc.sh
    trunk/harbour/make_vc.bat
    trunk/harbour/make_vc.mak
    trunk/harbour/obj/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Mon Mar  2 11:47:49 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  2 11:47:54 2009
Subject: [Harbour] About HRB
Message-ID: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>

Hello,

I am new in this list, and use xhb.com and I am currently migrating my
application to harbour + MSVC. Use in my system files. "HRB" and is
experiencing an error of execution in this example:

[CODE]

function main

CLS

CONTENT = hb_decrypt (memoread ( "myhrb.hrb), 123)

HANDLE_HRB: = HB_hrbload (content)

HB_HRBUNLOAD (HANDLE_HRB)

return NIL

[ENDCODE]

Error generated:

Error BASE/9998 Argument error: HB_HRBLOAD
Called from HB_HRBLOAD (0)
Called from MAIN (7)

This usually works with xhb.com. What is the correct way to do this, or
could do in this harbor?

Thank you,

Rossine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/471d6da6/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  2 11:53:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 11:53:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10506] trunk/harbour
Message-ID: <E1LeBOr-0002Op-TC@3kljzd1.ch3.sourceforge.com>

Revision: 10506
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10506&view=rev
Author:   vszakats
Date:     2009-03-02 16:53:53 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 17:53 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Automatically switching to -hbcmp mode if /gh switch is used.
    + In -hbcmp mode it will pass /o option directly to Harbour.

  - contrib/examples/uhttpd/modules/bldhrb.bat
  + contrib/examples/uhttpd/modules/allmod.hbm
    + Replaced batch file with hbmk2 make file. It will build 
      all .hrb files and place them to cgi-bin dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/examples/uhttpd/modules/allmod.hbm

Removed Paths:
-------------
    trunk/harbour/contrib/examples/uhttpd/modules/bldhrb.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar  2 11:55:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 11:55:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10505] trunk/harbour
In-Reply-To: <E1LeBF8-0002Dj-9o@3kljzd1.ch3.sourceforge.com>
References: <E1LeBF8-0002Dj-9o@3kljzd1.ch3.sourceforge.com>
Message-ID: <609353e70903020855p4a4c3adfn95bc46d30438bfcf@mail.gmail.com>

Still compliment!
Now harbour have more unified culture

2009/3/2  <vszakats@users.sourceforge.net>:
> Revision: 10505
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10505&view=rev
> Author: ? vszakats
> Date: ? ? 2009-03-02 16:43:47 +0000 (Mon, 02 Mar 2009)
> ? ?- Deleted components of "non-GNU" (MSVC, BCC and GCC
> ? ? ?specific) make systems. Leaving GNU Make as the
> ? ? ?unified make platform for Harbour.
> ? ? ?This also means that Harbour is now much portable
> ? ? ?in the sense that with a few rare exceptions all tasks should
> ? ? ?be carried exactly the same way across the OSes.
> ? ? ?Platform specific script file statistics before:
> ? ? ?- Bash ? ? ? ? ?54 ?(end-user oriented: 49 - including package creation)
> ? ? ?- Windows/DOS ?105 ?(end-user oriented: 90)
> ? ? ?- OS/2 ? ? ? ? ? 2 ?(end-user oriented: ?1)
> ? ? ?Platform specific script file statistics now:
> ? ? ?- Bash ? ? ? ? ?14 ?(end-user oriented: ?9 - including package creation)
> ? ? ?- Windows/DOS ? 19 ?(end-user oriented: ?4)
> ? ? ?- OS/2 ? ? ? ? ? 2 ?(end-user oriented: ?1)
> ? ? ?Some of these will be further cleaned (hbdoc related: 5,
> ? ? ?hbmk compatibility: 2)


-- 
Massimo Belgrano
From qiinfo at ig.com.br  Mon Mar  2 11:55:13 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  2 11:55:17 2009
Subject: [Harbour] Errors in xhb.lib
Message-ID: <b3b25b30903020855g572af872hc97cf7bb4d8c98ba@mail.gmail.com>

Hello,
  When using fivewin + xhb.lib, me is the errors below

 ..\include\FiveWin.ch(87) Warning W0001  Redefinition or duplicate
definition of #define HB_SYMBOL_UNUSED
\harbour\lib\xhb.lib(1) Error E0001  Statement not allowed outside of
procedure or function
\harbour\lib\xhb.lib(2) Error E0002  Unterminated string ''
\harbour\lib\xhb.lib(2) Error E0030  Syntax error "syntax error at '/'"
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x03'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x12'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x00'
\harbour\lib\xhb.lib(3) Error E0001  Illegal character '\x01'
* Compiling errors *
 You can fix this?

Regards,

Rossine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/f21f308a/attachment-0001.html
From bedipritpal at hotmail.com  Mon Mar  2 12:11:08 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 12:11:12 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <49ABF7F0.4040006@ec-red.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
Message-ID: <22292194.post@talk.nabble.com>


Hi Guillermo


Guillermo Varona wrote:
> 
> [Environment]
> Description 1=Harbour + MinGW + DOS
> Description 2=
> Description 3=
> PRG Compiler ver=
> C compiler ver=
> Subsystem=
> Author=GVS
> Last update=12/05/2008
> 
> [Advanced]
> Command types=1,1,1,1,1,1,1,1,1
> 
> [Harbour]
> HB_INSTALL=C:\HarbourMinGW
> HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /es2 /a /b
> /i%HB_INC_INSTALL%
> Option prefix=/
> 
> [C]
> C_INSTALL=C:\MinGW
> C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.Exe%CRLF% -I%HB_INC_INSTALL%%CRLF%
> -mno-cygwin -Wall -c %C% -o%OBJ%
> C_LIB_COMMAND=%C_BIN_INSTALL%\ar.Exe -M < %RSP%
> C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.Exe -o%EXE% -Wall -mno-cygwin 
> -mconsole %LNK%
> C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES%
> C_DLL_COMMAND=
> Option prefix=-
> 

Thanks for sharing. 
As I am compiling for Windows protocol for demowvg.prg, 
I have modified .env as 

[Harbour] 
HB_INSTALL=c:\hrb_dist\mingw
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.exe %PRG% /m /es2 /a /b /n /gc3 /w1
/i%HB_INC_INSTALL% 
Option prefix=/ 

[C] 
C_INSTALL=C:\MinGW 
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF% -Wall
-W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ% 
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.exe -M < %RSP% 
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3 -march=i586
-mtune=pentiumpro -mwindows %LNK% 
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES% 
C_DLL_COMMAND= 
Option prefix=- 

[Files]  
Changed
--------
%HB_LIB_INSTALL%\libhbmt.a=32   =>
   %HB_LIB_INSTALL%\libhbvmmt.a=32 
Added
------
%C_LIB_INSTALL%\libgdi32.a=47 
%C_LIB_INSTALL%\libcomctl32.a=47 
%C_LIB_INSTALL%\libcomdlg32.a=47 

The .exe is created and executs properly 
( I can see it in task manager ) but 
I do not see it on the screen. It just appears in task
manager and then terminates. It appears as if
it is honoring GTNUL.lib instead of GTWVG.
Can you guide which switches should be added/modified?

Regards
Pritpal Bedi





-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22292194.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Mar  2 12:13:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 12:13:34 2009
Subject: [Harbour] Errors in xhb.lib
In-Reply-To: <b3b25b30903020855g572af872hc97cf7bb4d8c98ba@mail.gmail.com>
References: <b3b25b30903020855g572af872hc97cf7bb4d8c98ba@mail.gmail.com>
Message-ID: <18d502870903020913vcb0e683k6394092390088a6@mail.gmail.com>

Hi Rossine,

 ..\include\FiveWin.ch(87) Warning W0001  Redefinition or duplicate
> definition of #define HB_SYMBOL_UNUSED
>

This should be fixed in FiveWin, it's a symbol in Harbour
namespace, so FW should either check if it isn't already defined,
or alternatively use FW_SYMBOL_UNUSED() for its own code.

\harbour\lib\xhb.lib(1) Error E0001  Statement not allowed outside of
> procedure or function
> \harbour\lib\xhb.lib(2) Error E0002  Unterminated string ''
>

You seem to try compiling a .lib file using the Harbour compiler.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/4997fc23/attachment.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 12:29:20 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 12:29:26 2009
Subject: [Harbour] Script
References: <BC9615B63B234B0AABDC572B8E1200D8@particular><609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>
	<18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com>
Message-ID: <40E5D7FE95F04F1BB1839EF5DFA7326F@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 14.38
Oggetto: Re: [Harbour] Script


> call make_gnu.bat clean install

Is "call" really needed? Or is it just in case there is a statement that 
follows?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 12:33:43 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 12:33:49 2009
Subject: [Harbour] Warnings
References: <8B39B003F5084DEBB5EBD936BDC144B1@emag>
	<22289267.post@talk.nabble.com>
Message-ID: <2F4A4F93A3344CB3AA16294A12E9E2D5@emag>


-----Messaggio Originale----- 
Da: "Pritpal Bedi" <bedipritpal@hotmail.com>
A: <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 15.36
Oggetto: Re: [Harbour] Warnings


> > Warning W8084 ../../gtwvg.c 2369: Suggest parentheses to clarify
> > precedence
> > in function hb_gt_wvt_CreateWindow
>
> Fixed. But not committed yet.

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Mon Mar  2 12:37:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 12:37:07 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22292194.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com>
Message-ID: <22292739.post@talk.nabble.com>


To continue

hb_out.log reports

Application Internal Error -
c:\hrb_dist\mingw\contrib\gtwvg\tests\demowvg.Exe
Terminated at: 2009.03.02 09:33:32
Unrecoverable error 10001: It's not a GUI program

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22292739.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Mar  2 12:39:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 12:39:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10505] trunk/harbour
In-Reply-To: <E1LeBF8-0002Dj-9o@3kljzd1.ch3.sourceforge.com>
References: <E1LeBF8-0002Dj-9o@3kljzd1.ch3.sourceforge.com>
Message-ID: <609353e70903020939p7c308b47hb0971f71807d0616@mail.gmail.com>

after this changelog the command that work prev
hbmk2 -n hbmake hbmfrdln.c hbmgauge.c hbmlang.c
now give this error
hbmk: Error: Compiler value unknown.
(This is under bcc)

2009/3/2  <vszakats@users.sourceforge.net>:
> Revision: 10505
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10505&view=rev
> Author: ? vszakats
> Date: ? ? 2009-03-02 16:43:47 +0000 (Mon, 02 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-02 16:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?- obj
> ?- make_b32.bat
> ?- make_b32.mak
> ?- make_gcc.sh
> ?- make_gcc.mak
> ?- make_vc.bat
> ?- make_vc.mak
> ?- common.mak
> ?- contrib/mtpl_b32.mak
> ?- contrib/mtpl_b32.bat
> ?- contrib/make_b32_all.bat
> ?- contrib/mtpl_gcc.mak
> ?- contrib/mtpl_gcc.sh
> ?- contrib/make_gcc_all.sh
> ?- contrib/mtpl_vc.mak
> ?- contrib/mtpl_vc.bat
> ?- contrib/make_vc_all.bat
> ?- contrib/hbmysql/common.mak
> ?- contrib/hbmysql/make_gcc.sh
> ?- contrib/hbmysql/make_b32.bat
> ?- contrib/hbmysql/make_vc.bat
> ?- contrib/gtalleg/common.mak
> ?- contrib/gtalleg/make_gcc.sh
> ?- contrib/gtalleg/make_b32.bat
> ?- contrib/gtalleg/make_vc.bat
> ?- contrib/hbct/make_b32.bat
> ?- contrib/hbct/make_gcc.sh
> ?- contrib/hbct/make_vc.bat
> ?- contrib/hbct/common.mak
> ?- contrib/hbodbc/common.mak
> ?- contrib/hbodbc/make_gcc.sh
> ?- contrib/hbodbc/make_b32.bat
> ?- contrib/hbodbc/make_vc.bat
> ?- contrib/xhb/make_b32.bat
> ?- contrib/xhb/make_gcc.sh
> ?- contrib/xhb/make_vc.bat
> ?- contrib/xhb/common.mak
> ?- contrib/hbtpathy/common.mak
> ?- contrib/hbtpathy/make_gcc.sh
> ?- contrib/hbtpathy/make_b32.bat
> ?- contrib/hbtpathy/make_vc.bat
> ?- contrib/hbgt/make_b32.bat
> ?- contrib/hbgt/common.mak
> ?- contrib/hbgt/make_gcc.sh
> ?- contrib/hbgt/make_vc.bat
> ?- contrib/hbmsql/common.mak
> ?- contrib/hbmsql/make_gcc.sh
> ?- contrib/hbmsql/make_b32.bat
> ?- contrib/hbmsql/make_vc.bat
> ?- contrib/hbsqlit3/common.mak
> ?- contrib/hbsqlit3/make_gcc.sh
> ?- contrib/hbsqlit3/make_b32.bat
> ?- contrib/hbsqlit3/make_vc.bat
> ?- contrib/hbole/common.mak
> ?- contrib/hbole/make_gcc.sh
> ?- contrib/hbole/make_b32.bat
> ?- contrib/hbole/make_vc.bat
> ?- contrib/hbmzip/make_b32.bat
> ?- contrib/hbmzip/common.mak
> ?- contrib/hbmzip/make_gcc.sh
> ?- contrib/hbmzip/make_vc.bat
> ?- contrib/hbblat/common.mak
> ?- contrib/hbblat/make_b32.bat
> ?- contrib/hbblat/make_vc.bat
> ?- contrib/hbfbird/common.mak
> ?- contrib/hbfbird/make_gcc.sh
> ?- contrib/hbfbird/make_b32.bat
> ?- contrib/hbfbird/make_vc.bat
> ?- contrib/hbapollo/common.mak
> ?- contrib/hbapollo/make_gcc.sh
> ?- contrib/hbapollo/make_b32.bat
> ?- contrib/hbapollo/make_vc.bat
> ?- contrib/hbziparc/common.mak
> ?- contrib/hbziparc/make_gcc.sh
> ?- contrib/hbziparc/make_b32.bat
> ?- contrib/hbziparc/make_vc.bat
> ?- contrib/hbnf/make_b32.bat
> ?- contrib/hbnf/make_gcc.sh
> ?- contrib/hbnf/make_vc.bat
> ?- contrib/hbnf/common.mak
> ?- contrib/hbcurl/common.mak
> ?- contrib/hbcurl/make_gcc.sh
> ?- contrib/hbcurl/make_b32.bat
> ?- contrib/hbcurl/make_vc.bat
> ?- contrib/rddsql/common.mak
> ?- contrib/rddsql/sddmy/common.mak
> ?- contrib/rddsql/sddmy/make_gcc.sh
> ?- contrib/rddsql/sddmy/make_b32.bat
> ?- contrib/rddsql/sddmy/make_vc.bat
> ?- contrib/rddsql/sddpg/common.mak
> ?- contrib/rddsql/sddpg/make_gcc.sh
> ?- contrib/rddsql/sddpg/make_b32.bat
> ?- contrib/rddsql/sddpg/make_vc.bat
> ?- contrib/rddsql/sddfb/common.mak
> ?- contrib/rddsql/sddfb/make_b32.bat
> ?- contrib/rddsql/sddfb/make_vc.bat
> ?- contrib/rddsql/make_gcc.sh
> ?- contrib/rddsql/make_b32.bat
> ?- contrib/rddsql/make_vc.bat
> ?- contrib/hbhpdf/common.mak
> ?- contrib/hbhpdf/make_gcc.sh
> ?- contrib/hbhpdf/make_b32.bat
> ?- contrib/hbhpdf/make_vc.bat
> ?- contrib/rddado/common.mak
> ?- contrib/rddado/make_gcc.sh
> ?- contrib/rddado/make_b32.bat
> ?- contrib/rddado/make_vc.bat
> ?- contrib/gtwvg/make_b32.bat
> ?- contrib/gtwvg/make_gcc.sh
> ?- contrib/gtwvg/make_vc.bat
> ?- contrib/gtwvg/common.mak
> ?- contrib/hbpgsql/common.mak
> ?- contrib/hbpgsql/make_gcc.sh
> ?- contrib/hbpgsql/make_b32.bat
> ?- contrib/hbpgsql/make_vc.bat
> ?- contrib/hbclipsm/make_b32.bat
> ?- contrib/hbclipsm/common.mak
> ?- contrib/hbclipsm/make_gcc.sh
> ?- contrib/hbclipsm/make_vc.bat
> ?- contrib/rddads/make_b32.bat
> ?- contrib/rddads/common.mak
> ?- contrib/rddads/make_gcc.sh
> ?- contrib/rddads/make_vc.bat
> ?- contrib/hbfimage/common.mak
> ?- contrib/hbfimage/make_gcc.sh
> ?- contrib/hbfimage/make_b32.bat
> ?- contrib/hbfimage/make_vc.bat
> ?- contrib/hbgd/make_b32.bat
> ?- contrib/hbgd/common.mak
> ?- contrib/hbgd/make_gcc.sh
> ?- contrib/hbgd/make_vc.bat
> ?- contrib/hbmisc/make_b32.bat
> ?- contrib/hbmisc/common.mak
> ?- contrib/hbmisc/make_gcc.sh
> ?- contrib/hbmisc/make_vc.bat
> ?- contrib/hbgf/hbgfwin/common.mak
> ?- contrib/hbgf/hbgfwin/make_b32.bat
> ?- contrib/hbgf/hbgfwin/make_vc.bat
> ?- contrib/hbtip/make_b32.bat
> ?- contrib/hbtip/common.mak
> ?- contrib/hbtip/make_gcc.sh
> ?- contrib/hbtip/make_vc.bat
> ?- contrib/hbwin/make_b32.bat
> ?- contrib/hbwin/common.mak
> ?- contrib/hbwin/make_gcc.sh
> ?- contrib/hbwin/make_vc.bat
> ?- contrib/hbbmcdx/common.mak
> ?- contrib/hbbmcdx/make_gcc.sh
> ?- contrib/hbbmcdx/make_b32.bat
> ?- contrib/hbbmcdx/make_vc.bat
> ?- contrib/hbvpdf/common.mak
> ?- contrib/hbvpdf/make_gcc.sh
> ?- contrib/hbvpdf/make_b32.bat
> ?- contrib/hbvpdf/make_vc.bat
> ?- contrib/hbssl/common.mak
> ?- contrib/hbssl/make_gcc.sh
> ?- contrib/hbssl/make_b32.bat
> ?- contrib/hbssl/make_vc.bat
> ?- contrib/hbbtree/common.mak
> ?- contrib/hbbtree/make_gcc.sh
> ?- contrib/hbbtree/make_b32.bat
> ?- contrib/hbbtree/make_vc.bat
> ?- contrib/hbcrypt/make_b32.bat
> ?- contrib/hbcrypt/common.mak
> ?- contrib/hbcrypt/make_gcc.sh
> ?- contrib/hbcrypt/make_vc.bat
> ?- contrib/hbwhat/make_b32.bat
> ?- contrib/hbwhat/make_gcc.sh
> ?- contrib/hbwhat/make_vc.bat
> ?- contrib/hbwhat/common.mak
> ?- contrib/examples/hbsqlit2/common.mak
> ?- contrib/examples/hbsqlit2/make_gcc.sh
> ?- contrib/examples/hbsqlit2/make_b32.bat
> ?- contrib/examples/hbsqlit2/make_vc.bat
> ? ?- Deleted components of "non-GNU" (MSVC, BCC and GCC
> ? ? ?specific) make systems. Leaving GNU Make as the
> ? ? ?unified make platform for Harbour.
> ? ? ?This also means that Harbour is now much portable
> ? ? ?in the sense that with a few rare exceptions all tasks should
> ? ? ?be carried exactly the same way across the OSes.
> ? ? ?Platform specific script file statistics before:
> ? ? ?- Bash ? ? ? ? ?54 ?(end-user oriented: 49 - including package creation)
> ? ? ?- Windows/DOS ?105 ?(end-user oriented: 90)
> ? ? ?- OS/2 ? ? ? ? ? 2 ?(end-user oriented: ?1)
> ? ? ?Platform specific script file statistics now:
> ? ? ?- Bash ? ? ? ? ?14 ?(end-user oriented: ?9 - including package creation)
> ? ? ?- Windows/DOS ? 19 ?(end-user oriented: ?4)
> ? ? ?- OS/2 ? ? ? ? ? 2 ?(end-user oriented: ?1)
> ? ? ?Some of these will be further cleaned (hbdoc related: 5,
> ? ? ?hbmk compatibility: 2)
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
>
> Removed Paths:
> -------------
> ? ?trunk/harbour/common.mak
> ? ?trunk/harbour/contrib/examples/hbsqlit2/common.mak
> ? ?trunk/harbour/contrib/examples/hbsqlit2/make_b32.bat
> ? ?trunk/harbour/contrib/examples/hbsqlit2/make_gcc.sh
> ? ?trunk/harbour/contrib/examples/hbsqlit2/make_vc.bat
> ? ?trunk/harbour/contrib/gtalleg/common.mak
> ? ?trunk/harbour/contrib/gtalleg/make_b32.bat
> ? ?trunk/harbour/contrib/gtalleg/make_gcc.sh
> ? ?trunk/harbour/contrib/gtalleg/make_vc.bat
> ? ?trunk/harbour/contrib/gtwvg/common.mak
> ? ?trunk/harbour/contrib/gtwvg/make_b32.bat
> ? ?trunk/harbour/contrib/gtwvg/make_gcc.sh
> ? ?trunk/harbour/contrib/gtwvg/make_vc.bat
> ? ?trunk/harbour/contrib/hbapollo/common.mak
> ? ?trunk/harbour/contrib/hbapollo/make_b32.bat
> ? ?trunk/harbour/contrib/hbapollo/make_gcc.sh
> ? ?trunk/harbour/contrib/hbapollo/make_vc.bat
> ? ?trunk/harbour/contrib/hbblat/common.mak
> ? ?trunk/harbour/contrib/hbblat/make_b32.bat
> ? ?trunk/harbour/contrib/hbblat/make_vc.bat
> ? ?trunk/harbour/contrib/hbbmcdx/common.mak
> ? ?trunk/harbour/contrib/hbbmcdx/make_b32.bat
> ? ?trunk/harbour/contrib/hbbmcdx/make_gcc.sh
> ? ?trunk/harbour/contrib/hbbmcdx/make_vc.bat
> ? ?trunk/harbour/contrib/hbbtree/common.mak
> ? ?trunk/harbour/contrib/hbbtree/make_b32.bat
> ? ?trunk/harbour/contrib/hbbtree/make_gcc.sh
> ? ?trunk/harbour/contrib/hbbtree/make_vc.bat
> ? ?trunk/harbour/contrib/hbclipsm/common.mak
> ? ?trunk/harbour/contrib/hbclipsm/make_b32.bat
> ? ?trunk/harbour/contrib/hbclipsm/make_gcc.sh
> ? ?trunk/harbour/contrib/hbclipsm/make_vc.bat
> ? ?trunk/harbour/contrib/hbcrypt/common.mak
> ? ?trunk/harbour/contrib/hbcrypt/make_b32.bat
> ? ?trunk/harbour/contrib/hbcrypt/make_gcc.sh
> ? ?trunk/harbour/contrib/hbcrypt/make_vc.bat
> ? ?trunk/harbour/contrib/hbct/common.mak
> ? ?trunk/harbour/contrib/hbct/make_b32.bat
> ? ?trunk/harbour/contrib/hbct/make_gcc.sh
> ? ?trunk/harbour/contrib/hbct/make_vc.bat
> ? ?trunk/harbour/contrib/hbcurl/common.mak
> ? ?trunk/harbour/contrib/hbcurl/make_b32.bat
> ? ?trunk/harbour/contrib/hbcurl/make_gcc.sh
> ? ?trunk/harbour/contrib/hbcurl/make_vc.bat
> ? ?trunk/harbour/contrib/hbfbird/common.mak
> ? ?trunk/harbour/contrib/hbfbird/make_b32.bat
> ? ?trunk/harbour/contrib/hbfbird/make_gcc.sh
> ? ?trunk/harbour/contrib/hbfbird/make_vc.bat
> ? ?trunk/harbour/contrib/hbfimage/common.mak
> ? ?trunk/harbour/contrib/hbfimage/make_b32.bat
> ? ?trunk/harbour/contrib/hbfimage/make_gcc.sh
> ? ?trunk/harbour/contrib/hbfimage/make_vc.bat
> ? ?trunk/harbour/contrib/hbgd/common.mak
> ? ?trunk/harbour/contrib/hbgd/make_b32.bat
> ? ?trunk/harbour/contrib/hbgd/make_gcc.sh
> ? ?trunk/harbour/contrib/hbgd/make_vc.bat
> ? ?trunk/harbour/contrib/hbgf/hbgfwin/common.mak
> ? ?trunk/harbour/contrib/hbgf/hbgfwin/make_b32.bat
> ? ?trunk/harbour/contrib/hbgf/hbgfwin/make_vc.bat
> ? ?trunk/harbour/contrib/hbgt/common.mak
> ? ?trunk/harbour/contrib/hbgt/make_b32.bat
> ? ?trunk/harbour/contrib/hbgt/make_gcc.sh
> ? ?trunk/harbour/contrib/hbgt/make_vc.bat
> ? ?trunk/harbour/contrib/hbhpdf/common.mak
> ? ?trunk/harbour/contrib/hbhpdf/make_b32.bat
> ? ?trunk/harbour/contrib/hbhpdf/make_gcc.sh
> ? ?trunk/harbour/contrib/hbhpdf/make_vc.bat
> ? ?trunk/harbour/contrib/hbmisc/common.mak
> ? ?trunk/harbour/contrib/hbmisc/make_b32.bat
> ? ?trunk/harbour/contrib/hbmisc/make_gcc.sh
> ? ?trunk/harbour/contrib/hbmisc/make_vc.bat
> ? ?trunk/harbour/contrib/hbmsql/common.mak
> ? ?trunk/harbour/contrib/hbmsql/make_b32.bat
> ? ?trunk/harbour/contrib/hbmsql/make_gcc.sh
> ? ?trunk/harbour/contrib/hbmsql/make_vc.bat
> ? ?trunk/harbour/contrib/hbmysql/common.mak
> ? ?trunk/harbour/contrib/hbmysql/make_b32.bat
> ? ?trunk/harbour/contrib/hbmysql/make_gcc.sh
> ? ?trunk/harbour/contrib/hbmysql/make_vc.bat
> ? ?trunk/harbour/contrib/hbmzip/common.mak
> ? ?trunk/harbour/contrib/hbmzip/make_b32.bat
> ? ?trunk/harbour/contrib/hbmzip/make_gcc.sh
> ? ?trunk/harbour/contrib/hbmzip/make_vc.bat
> ? ?trunk/harbour/contrib/hbnf/common.mak
> ? ?trunk/harbour/contrib/hbnf/make_b32.bat
> ? ?trunk/harbour/contrib/hbnf/make_gcc.sh
> ? ?trunk/harbour/contrib/hbnf/make_vc.bat
> ? ?trunk/harbour/contrib/hbodbc/common.mak
> ? ?trunk/harbour/contrib/hbodbc/make_b32.bat
> ? ?trunk/harbour/contrib/hbodbc/make_gcc.sh
> ? ?trunk/harbour/contrib/hbodbc/make_vc.bat
> ? ?trunk/harbour/contrib/hbole/common.mak
> ? ?trunk/harbour/contrib/hbole/make_b32.bat
> ? ?trunk/harbour/contrib/hbole/make_gcc.sh
> ? ?trunk/harbour/contrib/hbole/make_vc.bat
> ? ?trunk/harbour/contrib/hbpgsql/common.mak
> ? ?trunk/harbour/contrib/hbpgsql/make_b32.bat
> ? ?trunk/harbour/contrib/hbpgsql/make_gcc.sh
> ? ?trunk/harbour/contrib/hbpgsql/make_vc.bat
> ? ?trunk/harbour/contrib/hbsqlit3/common.mak
> ? ?trunk/harbour/contrib/hbsqlit3/make_b32.bat
> ? ?trunk/harbour/contrib/hbsqlit3/make_gcc.sh
> ? ?trunk/harbour/contrib/hbsqlit3/make_vc.bat
> ? ?trunk/harbour/contrib/hbssl/common.mak
> ? ?trunk/harbour/contrib/hbssl/make_b32.bat
> ? ?trunk/harbour/contrib/hbssl/make_gcc.sh
> ? ?trunk/harbour/contrib/hbssl/make_vc.bat
> ? ?trunk/harbour/contrib/hbtip/common.mak
> ? ?trunk/harbour/contrib/hbtip/make_b32.bat
> ? ?trunk/harbour/contrib/hbtip/make_gcc.sh
> ? ?trunk/harbour/contrib/hbtip/make_vc.bat
> ? ?trunk/harbour/contrib/hbtpathy/common.mak
> ? ?trunk/harbour/contrib/hbtpathy/make_b32.bat
> ? ?trunk/harbour/contrib/hbtpathy/make_gcc.sh
> ? ?trunk/harbour/contrib/hbtpathy/make_vc.bat
> ? ?trunk/harbour/contrib/hbvpdf/common.mak
> ? ?trunk/harbour/contrib/hbvpdf/make_b32.bat
> ? ?trunk/harbour/contrib/hbvpdf/make_gcc.sh
> ? ?trunk/harbour/contrib/hbvpdf/make_vc.bat
> ? ?trunk/harbour/contrib/hbwhat/common.mak
> ? ?trunk/harbour/contrib/hbwhat/make_b32.bat
> ? ?trunk/harbour/contrib/hbwhat/make_gcc.sh
> ? ?trunk/harbour/contrib/hbwhat/make_vc.bat
> ? ?trunk/harbour/contrib/hbwin/common.mak
> ? ?trunk/harbour/contrib/hbwin/make_b32.bat
> ? ?trunk/harbour/contrib/hbwin/make_gcc.sh
> ? ?trunk/harbour/contrib/hbwin/make_vc.bat
> ? ?trunk/harbour/contrib/hbziparc/common.mak
> ? ?trunk/harbour/contrib/hbziparc/make_b32.bat
> ? ?trunk/harbour/contrib/hbziparc/make_gcc.sh
> ? ?trunk/harbour/contrib/hbziparc/make_vc.bat
> ? ?trunk/harbour/contrib/make_b32_all.bat
> ? ?trunk/harbour/contrib/make_gcc_all.sh
> ? ?trunk/harbour/contrib/make_vc_all.bat
> ? ?trunk/harbour/contrib/mtpl_b32.bat
> ? ?trunk/harbour/contrib/mtpl_b32.mak
> ? ?trunk/harbour/contrib/mtpl_gcc.mak
> ? ?trunk/harbour/contrib/mtpl_gcc.sh
> ? ?trunk/harbour/contrib/mtpl_vc.bat
> ? ?trunk/harbour/contrib/mtpl_vc.mak
> ? ?trunk/harbour/contrib/rddado/common.mak
> ? ?trunk/harbour/contrib/rddado/make_b32.bat
> ? ?trunk/harbour/contrib/rddado/make_gcc.sh
> ? ?trunk/harbour/contrib/rddado/make_vc.bat
> ? ?trunk/harbour/contrib/rddads/common.mak
> ? ?trunk/harbour/contrib/rddads/make_b32.bat
> ? ?trunk/harbour/contrib/rddads/make_gcc.sh
> ? ?trunk/harbour/contrib/rddads/make_vc.bat
> ? ?trunk/harbour/contrib/rddsql/common.mak
> ? ?trunk/harbour/contrib/rddsql/make_b32.bat
> ? ?trunk/harbour/contrib/rddsql/make_gcc.sh
> ? ?trunk/harbour/contrib/rddsql/make_vc.bat
> ? ?trunk/harbour/contrib/rddsql/sddfb/common.mak
> ? ?trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
> ? ?trunk/harbour/contrib/rddsql/sddfb/make_vc.bat
> ? ?trunk/harbour/contrib/rddsql/sddmy/common.mak
> ? ?trunk/harbour/contrib/rddsql/sddmy/make_b32.bat
> ? ?trunk/harbour/contrib/rddsql/sddmy/make_gcc.sh
> ? ?trunk/harbour/contrib/rddsql/sddmy/make_vc.bat
> ? ?trunk/harbour/contrib/rddsql/sddpg/common.mak
> ? ?trunk/harbour/contrib/rddsql/sddpg/make_b32.bat
> ? ?trunk/harbour/contrib/rddsql/sddpg/make_gcc.sh
> ? ?trunk/harbour/contrib/rddsql/sddpg/make_vc.bat
> ? ?trunk/harbour/contrib/xhb/common.mak
> ? ?trunk/harbour/contrib/xhb/make_b32.bat
> ? ?trunk/harbour/contrib/xhb/make_gcc.sh
> ? ?trunk/harbour/contrib/xhb/make_vc.bat
> ? ?trunk/harbour/make_b32.bat
> ? ?trunk/harbour/make_b32.mak
> ? ?trunk/harbour/make_gcc.mak
> ? ?trunk/harbour/make_gcc.sh
> ? ?trunk/harbour/make_vc.bat
> ? ?trunk/harbour/make_vc.mak
> ? ?trunk/harbour/obj/
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Mar  2 12:42:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 12:42:57 2009
Subject: [Harbour] Script
In-Reply-To: <40E5D7FE95F04F1BB1839EF5DFA7326F@emag>
References: <BC9615B63B234B0AABDC572B8E1200D8@particular>
	<609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>
	<18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com>
	<40E5D7FE95F04F1BB1839EF5DFA7326F@emag>
Message-ID: <18d502870903020942q559c4bc0m639cb739a781bca6@mail.gmail.com>

>
> call make_gnu.bat clean install
>>
>
> Is "call" really needed? Or is it just in case there is a statement that
> follows?


It has the advantage that the caller batch file gets
back control after make_gnu.bat has finished.

I call batch files like this all the time, and couldn't
spot any disadvantages. It can be deleted anyhow
if someone doesn't need its feature.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/6ddd970a/attachment.html
From mbelgrano at deltain.it  Mon Mar  2 12:43:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 12:43:22 2009
Subject: [Harbour] Script
In-Reply-To: <40E5D7FE95F04F1BB1839EF5DFA7326F@emag>
References: <BC9615B63B234B0AABDC572B8E1200D8@particular>
	<609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com>
	<18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com>
	<40E5D7FE95F04F1BB1839EF5DFA7326F@emag>
Message-ID: <609353e70903020943jc2f825fjc173dc01615d9c5a@mail.gmail.com>

Whithout call it not return control to main program
if is last command in your batch you can also not use call

2009/3/2 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: luned? 2 marzo 2009 14.38
> Oggetto: Re: [Harbour] Script
>
>
>> call make_gnu.bat clean install
>
> Is "call" really needed? Or is it just in case there is a statement that
> follows?
>
> EMG
>
> --
> EMAG Software Homepage: ? ? http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Mar  2 12:49:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 12:49:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10507] trunk/harbour
Message-ID: <E1LeCGu-0007q3-Pz@d5vjzd1.ch3.sourceforge.com>

Revision: 10507
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10507&view=rev
Author:   vszakats
Date:     2009-03-02 17:49:33 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Compiler value unknown message now shows the actual value.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar  2 12:52:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 12:52:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10505] trunk/harbour
In-Reply-To: <609353e70903020939p7c308b47hb0971f71807d0616@mail.gmail.com>
References: <E1LeBF8-0002Dj-9o@3kljzd1.ch3.sourceforge.com>
	<609353e70903020939p7c308b47hb0971f71807d0616@mail.gmail.com>
Message-ID: <18d502870903020952v6435b55eg8ca2dc1953a479ca@mail.gmail.com>

Pls recheck this message after r10507, but I suspect you have a
HB_COMPILER=bcc32 somewhere in your environment, and this
should be changed to 'bcc'. Pls read this:
2009-03-01 18:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)

[ And in general pls read the ChangeLog, as I use it to describe
every changes quite precisely. ]

Brgds,
Viktor

On Mon, Mar 2, 2009 at 6:39 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> after this changelog the command that work prev
> hbmk2 -n hbmake hbmfrdln.c hbmgauge.c hbmlang.c
> now give this error
> hbmk: Error: Compiler value unknown.
> (This is under bcc)
>
> 2009/3/2  <vszakats@users.sourceforge.net>:
> > Revision: 10505
> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10505&view=rev
> > Author:   vszakats
> > Date:     2009-03-02 16:43:47 +0000 (Mon, 02 Mar 2009)
> >
> > Log Message:
> > -----------
> > 2009-03-02 16:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >  - obj
> >  - make_b32.bat
> >  - make_b32.mak
> >  - make_gcc.sh
> >  - make_gcc.mak
> >  - make_vc.bat
> >  - make_vc.mak
> >  - common.mak
> >  - contrib/mtpl_b32.mak
> >  - contrib/mtpl_b32.bat
> >  - contrib/make_b32_all.bat
> >  - contrib/mtpl_gcc.mak
> >  - contrib/mtpl_gcc.sh
> >  - contrib/make_gcc_all.sh
> >  - contrib/mtpl_vc.mak
> >  - contrib/mtpl_vc.bat
> >  - contrib/make_vc_all.bat
> >  - contrib/hbmysql/common.mak
> >  - contrib/hbmysql/make_gcc.sh
> >  - contrib/hbmysql/make_b32.bat
> >  - contrib/hbmysql/make_vc.bat
> >  - contrib/gtalleg/common.mak
> >  - contrib/gtalleg/make_gcc.sh
> >  - contrib/gtalleg/make_b32.bat
> >  - contrib/gtalleg/make_vc.bat
> >  - contrib/hbct/make_b32.bat
> >  - contrib/hbct/make_gcc.sh
> >  - contrib/hbct/make_vc.bat
> >  - contrib/hbct/common.mak
> >  - contrib/hbodbc/common.mak
> >  - contrib/hbodbc/make_gcc.sh
> >  - contrib/hbodbc/make_b32.bat
> >  - contrib/hbodbc/make_vc.bat
> >  - contrib/xhb/make_b32.bat
> >  - contrib/xhb/make_gcc.sh
> >  - contrib/xhb/make_vc.bat
> >  - contrib/xhb/common.mak
> >  - contrib/hbtpathy/common.mak
> >  - contrib/hbtpathy/make_gcc.sh
> >  - contrib/hbtpathy/make_b32.bat
> >  - contrib/hbtpathy/make_vc.bat
> >  - contrib/hbgt/make_b32.bat
> >  - contrib/hbgt/common.mak
> >  - contrib/hbgt/make_gcc.sh
> >  - contrib/hbgt/make_vc.bat
> >  - contrib/hbmsql/common.mak
> >  - contrib/hbmsql/make_gcc.sh
> >  - contrib/hbmsql/make_b32.bat
> >  - contrib/hbmsql/make_vc.bat
> >  - contrib/hbsqlit3/common.mak
> >  - contrib/hbsqlit3/make_gcc.sh
> >  - contrib/hbsqlit3/make_b32.bat
> >  - contrib/hbsqlit3/make_vc.bat
> >  - contrib/hbole/common.mak
> >  - contrib/hbole/make_gcc.sh
> >  - contrib/hbole/make_b32.bat
> >  - contrib/hbole/make_vc.bat
> >  - contrib/hbmzip/make_b32.bat
> >  - contrib/hbmzip/common.mak
> >  - contrib/hbmzip/make_gcc.sh
> >  - contrib/hbmzip/make_vc.bat
> >  - contrib/hbblat/common.mak
> >  - contrib/hbblat/make_b32.bat
> >  - contrib/hbblat/make_vc.bat
> >  - contrib/hbfbird/common.mak
> >  - contrib/hbfbird/make_gcc.sh
> >  - contrib/hbfbird/make_b32.bat
> >  - contrib/hbfbird/make_vc.bat
> >  - contrib/hbapollo/common.mak
> >  - contrib/hbapollo/make_gcc.sh
> >  - contrib/hbapollo/make_b32.bat
> >  - contrib/hbapollo/make_vc.bat
> >  - contrib/hbziparc/common.mak
> >  - contrib/hbziparc/make_gcc.sh
> >  - contrib/hbziparc/make_b32.bat
> >  - contrib/hbziparc/make_vc.bat
> >  - contrib/hbnf/make_b32.bat
> >  - contrib/hbnf/make_gcc.sh
> >  - contrib/hbnf/make_vc.bat
> >  - contrib/hbnf/common.mak
> >  - contrib/hbcurl/common.mak
> >  - contrib/hbcurl/make_gcc.sh
> >  - contrib/hbcurl/make_b32.bat
> >  - contrib/hbcurl/make_vc.bat
> >  - contrib/rddsql/common.mak
> >  - contrib/rddsql/sddmy/common.mak
> >  - contrib/rddsql/sddmy/make_gcc.sh
> >  - contrib/rddsql/sddmy/make_b32.bat
> >  - contrib/rddsql/sddmy/make_vc.bat
> >  - contrib/rddsql/sddpg/common.mak
> >  - contrib/rddsql/sddpg/make_gcc.sh
> >  - contrib/rddsql/sddpg/make_b32.bat
> >  - contrib/rddsql/sddpg/make_vc.bat
> >  - contrib/rddsql/sddfb/common.mak
> >  - contrib/rddsql/sddfb/make_b32.bat
> >  - contrib/rddsql/sddfb/make_vc.bat
> >  - contrib/rddsql/make_gcc.sh
> >  - contrib/rddsql/make_b32.bat
> >  - contrib/rddsql/make_vc.bat
> >  - contrib/hbhpdf/common.mak
> >  - contrib/hbhpdf/make_gcc.sh
> >  - contrib/hbhpdf/make_b32.bat
> >  - contrib/hbhpdf/make_vc.bat
> >  - contrib/rddado/common.mak
> >  - contrib/rddado/make_gcc.sh
> >  - contrib/rddado/make_b32.bat
> >  - contrib/rddado/make_vc.bat
> >  - contrib/gtwvg/make_b32.bat
> >  - contrib/gtwvg/make_gcc.sh
> >  - contrib/gtwvg/make_vc.bat
> >  - contrib/gtwvg/common.mak
> >  - contrib/hbpgsql/common.mak
> >  - contrib/hbpgsql/make_gcc.sh
> >  - contrib/hbpgsql/make_b32.bat
> >  - contrib/hbpgsql/make_vc.bat
> >  - contrib/hbclipsm/make_b32.bat
> >  - contrib/hbclipsm/common.mak
> >  - contrib/hbclipsm/make_gcc.sh
> >  - contrib/hbclipsm/make_vc.bat
> >  - contrib/rddads/make_b32.bat
> >  - contrib/rddads/common.mak
> >  - contrib/rddads/make_gcc.sh
> >  - contrib/rddads/make_vc.bat
> >  - contrib/hbfimage/common.mak
> >  - contrib/hbfimage/make_gcc.sh
> >  - contrib/hbfimage/make_b32.bat
> >  - contrib/hbfimage/make_vc.bat
> >  - contrib/hbgd/make_b32.bat
> >  - contrib/hbgd/common.mak
> >  - contrib/hbgd/make_gcc.sh
> >  - contrib/hbgd/make_vc.bat
> >  - contrib/hbmisc/make_b32.bat
> >  - contrib/hbmisc/common.mak
> >  - contrib/hbmisc/make_gcc.sh
> >  - contrib/hbmisc/make_vc.bat
> >  - contrib/hbgf/hbgfwin/common.mak
> >  - contrib/hbgf/hbgfwin/make_b32.bat
> >  - contrib/hbgf/hbgfwin/make_vc.bat
> >  - contrib/hbtip/make_b32.bat
> >  - contrib/hbtip/common.mak
> >  - contrib/hbtip/make_gcc.sh
> >  - contrib/hbtip/make_vc.bat
> >  - contrib/hbwin/make_b32.bat
> >  - contrib/hbwin/common.mak
> >  - contrib/hbwin/make_gcc.sh
> >  - contrib/hbwin/make_vc.bat
> >  - contrib/hbbmcdx/common.mak
> >  - contrib/hbbmcdx/make_gcc.sh
> >  - contrib/hbbmcdx/make_b32.bat
> >  - contrib/hbbmcdx/make_vc.bat
> >  - contrib/hbvpdf/common.mak
> >  - contrib/hbvpdf/make_gcc.sh
> >  - contrib/hbvpdf/make_b32.bat
> >  - contrib/hbvpdf/make_vc.bat
> >  - contrib/hbssl/common.mak
> >  - contrib/hbssl/make_gcc.sh
> >  - contrib/hbssl/make_b32.bat
> >  - contrib/hbssl/make_vc.bat
> >  - contrib/hbbtree/common.mak
> >  - contrib/hbbtree/make_gcc.sh
> >  - contrib/hbbtree/make_b32.bat
> >  - contrib/hbbtree/make_vc.bat
> >  - contrib/hbcrypt/make_b32.bat
> >  - contrib/hbcrypt/common.mak
> >  - contrib/hbcrypt/make_gcc.sh
> >  - contrib/hbcrypt/make_vc.bat
> >  - contrib/hbwhat/make_b32.bat
> >  - contrib/hbwhat/make_gcc.sh
> >  - contrib/hbwhat/make_vc.bat
> >  - contrib/hbwhat/common.mak
> >  - contrib/examples/hbsqlit2/common.mak
> >  - contrib/examples/hbsqlit2/make_gcc.sh
> >  - contrib/examples/hbsqlit2/make_b32.bat
> >  - contrib/examples/hbsqlit2/make_vc.bat
> >    - Deleted components of "non-GNU" (MSVC, BCC and GCC
> >      specific) make systems. Leaving GNU Make as the
> >      unified make platform for Harbour.
> >      This also means that Harbour is now much portable
> >      in the sense that with a few rare exceptions all tasks should
> >      be carried exactly the same way across the OSes.
> >      Platform specific script file statistics before:
> >      - Bash          54  (end-user oriented: 49 - including package
> creation)
> >      - Windows/DOS  105  (end-user oriented: 90)
> >      - OS/2           2  (end-user oriented:  1)
> >      Platform specific script file statistics now:
> >      - Bash          14  (end-user oriented:  9 - including package
> creation)
> >      - Windows/DOS   19  (end-user oriented:  4)
> >      - OS/2           2  (end-user oriented:  1)
> >      Some of these will be further cleaned (hbdoc related: 5,
> >      hbmk compatibility: 2)
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >
> > Removed Paths:
> > -------------
> >    trunk/harbour/common.mak
> >    trunk/harbour/contrib/examples/hbsqlit2/common.mak
> >    trunk/harbour/contrib/examples/hbsqlit2/make_b32.bat
> >    trunk/harbour/contrib/examples/hbsqlit2/make_gcc.sh
> >    trunk/harbour/contrib/examples/hbsqlit2/make_vc.bat
> >    trunk/harbour/contrib/gtalleg/common.mak
> >    trunk/harbour/contrib/gtalleg/make_b32.bat
> >    trunk/harbour/contrib/gtalleg/make_gcc.sh
> >    trunk/harbour/contrib/gtalleg/make_vc.bat
> >    trunk/harbour/contrib/gtwvg/common.mak
> >    trunk/harbour/contrib/gtwvg/make_b32.bat
> >    trunk/harbour/contrib/gtwvg/make_gcc.sh
> >    trunk/harbour/contrib/gtwvg/make_vc.bat
> >    trunk/harbour/contrib/hbapollo/common.mak
> >    trunk/harbour/contrib/hbapollo/make_b32.bat
> >    trunk/harbour/contrib/hbapollo/make_gcc.sh
> >    trunk/harbour/contrib/hbapollo/make_vc.bat
> >    trunk/harbour/contrib/hbblat/common.mak
> >    trunk/harbour/contrib/hbblat/make_b32.bat
> >    trunk/harbour/contrib/hbblat/make_vc.bat
> >    trunk/harbour/contrib/hbbmcdx/common.mak
> >    trunk/harbour/contrib/hbbmcdx/make_b32.bat
> >    trunk/harbour/contrib/hbbmcdx/make_gcc.sh
> >    trunk/harbour/contrib/hbbmcdx/make_vc.bat
> >    trunk/harbour/contrib/hbbtree/common.mak
> >    trunk/harbour/contrib/hbbtree/make_b32.bat
> >    trunk/harbour/contrib/hbbtree/make_gcc.sh
> >    trunk/harbour/contrib/hbbtree/make_vc.bat
> >    trunk/harbour/contrib/hbclipsm/common.mak
> >    trunk/harbour/contrib/hbclipsm/make_b32.bat
> >    trunk/harbour/contrib/hbclipsm/make_gcc.sh
> >    trunk/harbour/contrib/hbclipsm/make_vc.bat
> >    trunk/harbour/contrib/hbcrypt/common.mak
> >    trunk/harbour/contrib/hbcrypt/make_b32.bat
> >    trunk/harbour/contrib/hbcrypt/make_gcc.sh
> >    trunk/harbour/contrib/hbcrypt/make_vc.bat
> >    trunk/harbour/contrib/hbct/common.mak
> >    trunk/harbour/contrib/hbct/make_b32.bat
> >    trunk/harbour/contrib/hbct/make_gcc.sh
> >    trunk/harbour/contrib/hbct/make_vc.bat
> >    trunk/harbour/contrib/hbcurl/common.mak
> >    trunk/harbour/contrib/hbcurl/make_b32.bat
> >    trunk/harbour/contrib/hbcurl/make_gcc.sh
> >    trunk/harbour/contrib/hbcurl/make_vc.bat
> >    trunk/harbour/contrib/hbfbird/common.mak
> >    trunk/harbour/contrib/hbfbird/make_b32.bat
> >    trunk/harbour/contrib/hbfbird/make_gcc.sh
> >    trunk/harbour/contrib/hbfbird/make_vc.bat
> >    trunk/harbour/contrib/hbfimage/common.mak
> >    trunk/harbour/contrib/hbfimage/make_b32.bat
> >    trunk/harbour/contrib/hbfimage/make_gcc.sh
> >    trunk/harbour/contrib/hbfimage/make_vc.bat
> >    trunk/harbour/contrib/hbgd/common.mak
> >    trunk/harbour/contrib/hbgd/make_b32.bat
> >    trunk/harbour/contrib/hbgd/make_gcc.sh
> >    trunk/harbour/contrib/hbgd/make_vc.bat
> >    trunk/harbour/contrib/hbgf/hbgfwin/common.mak
> >    trunk/harbour/contrib/hbgf/hbgfwin/make_b32.bat
> >    trunk/harbour/contrib/hbgf/hbgfwin/make_vc.bat
> >    trunk/harbour/contrib/hbgt/common.mak
> >    trunk/harbour/contrib/hbgt/make_b32.bat
> >    trunk/harbour/contrib/hbgt/make_gcc.sh
> >    trunk/harbour/contrib/hbgt/make_vc.bat
> >    trunk/harbour/contrib/hbhpdf/common.mak
> >    trunk/harbour/contrib/hbhpdf/make_b32.bat
> >    trunk/harbour/contrib/hbhpdf/make_gcc.sh
> >    trunk/harbour/contrib/hbhpdf/make_vc.bat
> >    trunk/harbour/contrib/hbmisc/common.mak
> >    trunk/harbour/contrib/hbmisc/make_b32.bat
> >    trunk/harbour/contrib/hbmisc/make_gcc.sh
> >    trunk/harbour/contrib/hbmisc/make_vc.bat
> >    trunk/harbour/contrib/hbmsql/common.mak
> >    trunk/harbour/contrib/hbmsql/make_b32.bat
> >    trunk/harbour/contrib/hbmsql/make_gcc.sh
> >    trunk/harbour/contrib/hbmsql/make_vc.bat
> >    trunk/harbour/contrib/hbmysql/common.mak
> >    trunk/harbour/contrib/hbmysql/make_b32.bat
> >    trunk/harbour/contrib/hbmysql/make_gcc.sh
> >    trunk/harbour/contrib/hbmysql/make_vc.bat
> >    trunk/harbour/contrib/hbmzip/common.mak
> >    trunk/harbour/contrib/hbmzip/make_b32.bat
> >    trunk/harbour/contrib/hbmzip/make_gcc.sh
> >    trunk/harbour/contrib/hbmzip/make_vc.bat
> >    trunk/harbour/contrib/hbnf/common.mak
> >    trunk/harbour/contrib/hbnf/make_b32.bat
> >    trunk/harbour/contrib/hbnf/make_gcc.sh
> >    trunk/harbour/contrib/hbnf/make_vc.bat
> >    trunk/harbour/contrib/hbodbc/common.mak
> >    trunk/harbour/contrib/hbodbc/make_b32.bat
> >    trunk/harbour/contrib/hbodbc/make_gcc.sh
> >    trunk/harbour/contrib/hbodbc/make_vc.bat
> >    trunk/harbour/contrib/hbole/common.mak
> >    trunk/harbour/contrib/hbole/make_b32.bat
> >    trunk/harbour/contrib/hbole/make_gcc.sh
> >    trunk/harbour/contrib/hbole/make_vc.bat
> >    trunk/harbour/contrib/hbpgsql/common.mak
> >    trunk/harbour/contrib/hbpgsql/make_b32.bat
> >    trunk/harbour/contrib/hbpgsql/make_gcc.sh
> >    trunk/harbour/contrib/hbpgsql/make_vc.bat
> >    trunk/harbour/contrib/hbsqlit3/common.mak
> >    trunk/harbour/contrib/hbsqlit3/make_b32.bat
> >    trunk/harbour/contrib/hbsqlit3/make_gcc.sh
> >    trunk/harbour/contrib/hbsqlit3/make_vc.bat
> >    trunk/harbour/contrib/hbssl/common.mak
> >    trunk/harbour/contrib/hbssl/make_b32.bat
> >    trunk/harbour/contrib/hbssl/make_gcc.sh
> >    trunk/harbour/contrib/hbssl/make_vc.bat
> >    trunk/harbour/contrib/hbtip/common.mak
> >    trunk/harbour/contrib/hbtip/make_b32.bat
> >    trunk/harbour/contrib/hbtip/make_gcc.sh
> >    trunk/harbour/contrib/hbtip/make_vc.bat
> >    trunk/harbour/contrib/hbtpathy/common.mak
> >    trunk/harbour/contrib/hbtpathy/make_b32.bat
> >    trunk/harbour/contrib/hbtpathy/make_gcc.sh
> >    trunk/harbour/contrib/hbtpathy/make_vc.bat
> >    trunk/harbour/contrib/hbvpdf/common.mak
> >    trunk/harbour/contrib/hbvpdf/make_b32.bat
> >    trunk/harbour/contrib/hbvpdf/make_gcc.sh
> >    trunk/harbour/contrib/hbvpdf/make_vc.bat
> >    trunk/harbour/contrib/hbwhat/common.mak
> >    trunk/harbour/contrib/hbwhat/make_b32.bat
> >    trunk/harbour/contrib/hbwhat/make_gcc.sh
> >    trunk/harbour/contrib/hbwhat/make_vc.bat
> >    trunk/harbour/contrib/hbwin/common.mak
> >    trunk/harbour/contrib/hbwin/make_b32.bat
> >    trunk/harbour/contrib/hbwin/make_gcc.sh
> >    trunk/harbour/contrib/hbwin/make_vc.bat
> >    trunk/harbour/contrib/hbziparc/common.mak
> >    trunk/harbour/contrib/hbziparc/make_b32.bat
> >    trunk/harbour/contrib/hbziparc/make_gcc.sh
> >    trunk/harbour/contrib/hbziparc/make_vc.bat
> >    trunk/harbour/contrib/make_b32_all.bat
> >    trunk/harbour/contrib/make_gcc_all.sh
> >    trunk/harbour/contrib/make_vc_all.bat
> >    trunk/harbour/contrib/mtpl_b32.bat
> >    trunk/harbour/contrib/mtpl_b32.mak
> >    trunk/harbour/contrib/mtpl_gcc.mak
> >    trunk/harbour/contrib/mtpl_gcc.sh
> >    trunk/harbour/contrib/mtpl_vc.bat
> >    trunk/harbour/contrib/mtpl_vc.mak
> >    trunk/harbour/contrib/rddado/common.mak
> >    trunk/harbour/contrib/rddado/make_b32.bat
> >    trunk/harbour/contrib/rddado/make_gcc.sh
> >    trunk/harbour/contrib/rddado/make_vc.bat
> >    trunk/harbour/contrib/rddads/common.mak
> >    trunk/harbour/contrib/rddads/make_b32.bat
> >    trunk/harbour/contrib/rddads/make_gcc.sh
> >    trunk/harbour/contrib/rddads/make_vc.bat
> >    trunk/harbour/contrib/rddsql/common.mak
> >    trunk/harbour/contrib/rddsql/make_b32.bat
> >    trunk/harbour/contrib/rddsql/make_gcc.sh
> >    trunk/harbour/contrib/rddsql/make_vc.bat
> >    trunk/harbour/contrib/rddsql/sddfb/common.mak
> >    trunk/harbour/contrib/rddsql/sddfb/make_b32.bat
> >    trunk/harbour/contrib/rddsql/sddfb/make_vc.bat
> >    trunk/harbour/contrib/rddsql/sddmy/common.mak
> >    trunk/harbour/contrib/rddsql/sddmy/make_b32.bat
> >    trunk/harbour/contrib/rddsql/sddmy/make_gcc.sh
> >    trunk/harbour/contrib/rddsql/sddmy/make_vc.bat
> >    trunk/harbour/contrib/rddsql/sddpg/common.mak
> >    trunk/harbour/contrib/rddsql/sddpg/make_b32.bat
> >    trunk/harbour/contrib/rddsql/sddpg/make_gcc.sh
> >    trunk/harbour/contrib/rddsql/sddpg/make_vc.bat
> >    trunk/harbour/contrib/xhb/common.mak
> >    trunk/harbour/contrib/xhb/make_b32.bat
> >    trunk/harbour/contrib/xhb/make_gcc.sh
> >    trunk/harbour/contrib/xhb/make_vc.bat
> >    trunk/harbour/make_b32.bat
> >    trunk/harbour/make_b32.mak
> >    trunk/harbour/make_gcc.mak
> >    trunk/harbour/make_gcc.sh
> >    trunk/harbour/make_vc.bat
> >    trunk/harbour/make_vc.mak
> >    trunk/harbour/obj/
> >
> >
> > This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/207c6797/attachment-0001.html
From e.m.giordano at emagsoftware.it  Mon Mar  2 13:39:27 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 13:39:32 2009
Subject: [Harbour] Warnings
References: <8B39B003F5084DEBB5EBD936BDC144B1@emag><22289267.post@talk.nabble.com>
	<18d502870903020644u13361dc4u7c9e45cda84e4115@mail.gmail.com>
Message-ID: <F7E4A134D03046AEA0F1A3BA76DA8D88@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 15.44
Oggetto: Re: [Harbour] Warnings


> I've committed it already, please verify it.

Yes, all warnings fixed, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 14:02:24 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 14:02:31 2009
Subject: [Harbour] Script
References: <BC9615B63B234B0AABDC572B8E1200D8@particular><609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com><18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com><40E5D7FE95F04F1BB1839EF5DFA7326F@emag>
	<18d502870903020942q559c4bc0m639cb739a781bca6@mail.gmail.com>
Message-ID: <8BA9A494F13A4F2BB3B9DE2BB279930B@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 18.42
Oggetto: Re: [Harbour] Script


> It has the advantage that the caller batch file gets
> back control after make_gnu.bat has finished.
>
> I call batch files like this all the time, and couldn't
> spot any disadvantages. It can be deleted anyhow
> if someone doesn't need its feature.

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Mon Mar  2 14:02:57 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Mar  2 14:03:02 2009
Subject: [Harbour] Script
References: <BC9615B63B234B0AABDC572B8E1200D8@particular><609353e70903020522x76087e23j60f34e37f7f375ee@mail.gmail.com><18d502870903020538m10f44718yd8e6799d5a238a56@mail.gmail.com><40E5D7FE95F04F1BB1839EF5DFA7326F@emag>
	<609353e70903020943jc2f825fjc173dc01615d9c5a@mail.gmail.com>
Message-ID: <5902B7B9AB794B47B41E5C58D42A4BE8@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 2 marzo 2009 18.43
Oggetto: Re: [Harbour] Script


> Whithout call it not return control to main program
> if is last command in your batch you can also not use call

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Mon Mar  2 15:23:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar  2 15:23:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10508] trunk/harbour
Message-ID: <E1LeEfm-0008DF-Js@3kljzd1.ch3.sourceforge.com>

Revision: 10508
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10508&view=rev
Author:   druzus
Date:     2009-03-02 20:23:33 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 21:28 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcomp.h
  * harbour/include/hbcompdf.h
  * harbour/include/hbexpra.c
  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/cmdcheck.c
  * harbour/source/compiler/hbcomp.c
  * harbour/source/compiler/genc.c
  * harbour/source/compiler/harbour.yyc
  * harbour/source/compiler/harbour.y
  * harbour/source/compiler/harbour.yyh
  * harbour/source/compiler/ppcomp.c
  * harbour/source/compiler/hbdbginf.c
  * harbour/source/compiler/genhrb.c
  * harbour/source/compiler/hbusage.c
    ! fixed static variables indexes in the generated PCODE when static
      variables are declared inside extended codeblocks - in some cases
      wrong PCODE was generated
    ! fixed initialization PCODE for thread static variables declared
      inside extended codeblocks
    ! fixed modulename generated for debugger to always contain function name
      part for extended codeblock declared as file wide static variables.
      In such case "(_INITSTATICS)" is used as function name.
      Without it debugger does not register entering such codeblocks and
      GPFs.
    + added support for automatic adding 1-st function with the same name
      as compiled .prg file if some code statements are used before 1-st
      function/procedure declared explicitly in .prg file. Such mode can
      be enabled by -n2 new harbour compiler switch.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbexpra.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/genc.c
    trunk/harbour/source/compiler/genhrb.c
    trunk/harbour/source/compiler/harbour.y
    trunk/harbour/source/compiler/harbour.yyc
    trunk/harbour/source/compiler/harbour.yyh
    trunk/harbour/source/compiler/hbcomp.c
    trunk/harbour/source/compiler/hbdbginf.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/source/compiler/ppcomp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Mon Mar  2 15:26:14 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Mar  2 15:26:35 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22292194.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com>
Message-ID: <49AC40E6.6060803@ec-red.com>

Pritpal Bedi escribi?:
> . . .
> [Harbour] 
> HB_INSTALL=c:\hrb_dist\mingw
> HB_COMMAND=%HB_BIN_INSTALL%\Harbour.exe %PRG% /m /es2 /a /b /n /gc3 /w1
> /i%HB_INC_INSTALL% 
> Option prefix=/ 
>
> [C] 
> C_INSTALL=C:\MinGW 
> C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF% -Wall
> -W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ% 
> C_LIB_COMMAND=%C_BIN_INSTALL%\ar.exe -M < %RSP% 
> C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3 -march=i586
> -mtune=pentiumpro -mwindows %LNK% 
> C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES% 
> C_DLL_COMMAND= 
> Option prefix=- 
>
> [Files]  
> Changed
> --------
> %HB_LIB_INSTALL%\libhbmt.a=32   =>
>    %HB_LIB_INSTALL%\libhbvmmt.a=32 
> Added
> ------
> %C_LIB_INSTALL%\libgdi32.a=47 
> %C_LIB_INSTALL%\libcomctl32.a=47 
> %C_LIB_INSTALL%\libcomdlg32.a=47 
>
> The .exe is created and executs properly 
> ( I can see it in task manager ) but 
> I do not see it on the screen. It just appears in task
> manager and then terminates. It appears as if
> it is honoring GTNUL.lib instead of GTWVG.
> Can you guide which switches should be added/modified?
>   
Hi Pritpal, I've done the modifications, but i got this:
*************************************
Proyecto: Tests, Entorno: Hb_MinGW_WVG:
[1]:gcc.exe -oTests.Exe -Wall -W -O3 -march=i586-mtune=pentiumpro 
-mwindows Tests.gcl
D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d48): undefined 
reference to `HB_FUN_WVG_BOXGET'
D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d58): undefined 
reference to `HB_FUN_WVG_BOXRAISED'
D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d68): undefined 
reference to `HB_FUN_WVG_BOXRECESSED'
D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d78): undefined 
reference to `HB_FUN_WVG_BOXGROUPRAISED'
D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1dc8): undefined 
reference to `HB_FUN_HB_GT_WVT'
C:\HarbourMinGW\Lib/libgtwvg.a(wvgwin.o):wvgwin.c:(.text+0x2a9b): 
undefined reference to `SetDCBrushColor'
C:\HarbourMinGW\Lib/libgtwvg.a(wvgwin.o):wvgwin.c:(.text+0x2acb): 
undefined reference to `SetDCPenColor'
collect2: ld returned 1 exit status
***************************************

My new .env it's this:

[Environment]
Description 1=Harbour + MinGW + DOS
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=GVS
Last update=03/02/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\HarbourMinGW
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc3 /w1 /es2 /a /b 
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\MinGW
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF% 
-Wall%CRLF%-W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ%
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.Exe -M < %RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3 
-march=i586%CRLF%-mtune=pentiumpro -mwindows %LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\libxhb.a=1
%HB_LIB_INSTALL%\libgtcgi.a=2
%HB_LIB_INSTALL%\libgtgui.a=3
%HB_LIB_INSTALL%\libgtpca.a=4
%HB_LIB_INSTALL%\libgtstd.a=5
%HB_LIB_INSTALL%\libhbbmcdx.a=6
%HB_LIB_INSTALL%\libhbbtree.a=7
%HB_LIB_INSTALL%\libhbclipsm.a=8
%HB_LIB_INSTALL%\libhbcommon.a=9
%HB_LIB_INSTALL%\libhbcpage.a=10
%HB_LIB_INSTALL%\libhbcplr.a=11
%HB_LIB_INSTALL%\libhbct.a=12
%HB_LIB_INSTALL%\libhbdebug.a=13
%HB_LIB_INSTALL%\libhbgt.a=14
%HB_LIB_INSTALL%\libhbhsx.a=15
%HB_LIB_INSTALL%\libhblang.a=16
%HB_LIB_INSTALL%\libhbmacro.a=17
%HB_LIB_INSTALL%\libhbmainstd.a=18
%HB_LIB_INSTALL%\libhbmisc.a=19
%HB_LIB_INSTALL%\libhbnf.a=20
%HB_LIB_INSTALL%\libhbodbc.a=21
%HB_LIB_INSTALL%\libhbpcre.a=22
%HB_LIB_INSTALL%\libhbpp.a=23
%HB_LIB_INSTALL%\libhbrdd.a=24
%HB_LIB_INSTALL%\libhbrtl.a=25
%HB_LIB_INSTALL%\libhbsix.a=26
%HB_LIB_INSTALL%\libhbtip.a=27
%HB_LIB_INSTALL%\libhbusrrdd.a=28
%HB_LIB_INSTALL%\libhbvmmt.a=29
%HB_LIB_INSTALL%\libhbwin.a=30
%HB_LIB_INSTALL%\librddado.a=31
%HB_LIB_INSTALL%\librddcdx.a=32
%HB_LIB_INSTALL%\librddfpt.a=33
%HB_LIB_INSTALL%\librddntx.a=34
%HB_LIB_INSTALL%\LibAbraxasMinGW.A=35
%C_LIB_INSTALL%\libolesvr32.a=36
%C_LIB_INSTALL%\libole32.a=37
%C_LIB_INSTALL%\liboleacc.a=38
%C_LIB_INSTALL%\liboleaut32.a=39
%C_LIB_INSTALL%\libolecli32.a=40
%C_LIB_INSTALL%\liboledlg.a=41
%C_LIB_INSTALL%\libolepro32.a=42
%C_LIB_INSTALL%\libuuid.a=43
%C_LIB_INSTALL%\libwinspool.a=44
%HB_LIB_INSTALL%\libhbsqlit3.a=45
%HB_LIB_INSTALL%\libgtwvg.a=46
%C_LIB_INSTALL%\libgdi32.a=47
%C_LIB_INSTALL%\libcomctl32.a=48
%C_LIB_INSTALL%\libcomdlg32.a=49

BestRegards
GVS


-------------- next part --------------

[Environment]
Description 1=Harbour + MinGW + DOS
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=GVS
Last update=03/02/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\HarbourMinGW
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc3 /w1 /es2 /a /b /i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\MinGW
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF% -Wall%CRLF%-W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ%
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.Exe -M < %RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3 -march=i586%CRLF%-mtune=pentiumpro -mwindows %LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\libxhb.a=1
%HB_LIB_INSTALL%\libgtcgi.a=2
%HB_LIB_INSTALL%\libgtgui.a=3
%HB_LIB_INSTALL%\libgtpca.a=4
%HB_LIB_INSTALL%\libgtstd.a=5
%HB_LIB_INSTALL%\libhbbmcdx.a=6
%HB_LIB_INSTALL%\libhbbtree.a=7
%HB_LIB_INSTALL%\libhbclipsm.a=8
%HB_LIB_INSTALL%\libhbcommon.a=9
%HB_LIB_INSTALL%\libhbcpage.a=10
%HB_LIB_INSTALL%\libhbcplr.a=11
%HB_LIB_INSTALL%\libhbct.a=12
%HB_LIB_INSTALL%\libhbdebug.a=13
%HB_LIB_INSTALL%\libhbgt.a=14
%HB_LIB_INSTALL%\libhbhsx.a=15
%HB_LIB_INSTALL%\libhblang.a=16
%HB_LIB_INSTALL%\libhbmacro.a=17
%HB_LIB_INSTALL%\libhbmainstd.a=18
%HB_LIB_INSTALL%\libhbmisc.a=19
%HB_LIB_INSTALL%\libhbnf.a=20
%HB_LIB_INSTALL%\libhbodbc.a=21
%HB_LIB_INSTALL%\libhbpcre.a=22
%HB_LIB_INSTALL%\libhbpp.a=23
%HB_LIB_INSTALL%\libhbrdd.a=24
%HB_LIB_INSTALL%\libhbrtl.a=25
%HB_LIB_INSTALL%\libhbsix.a=26
%HB_LIB_INSTALL%\libhbtip.a=27
%HB_LIB_INSTALL%\libhbusrrdd.a=28
%HB_LIB_INSTALL%\libhbvmmt.a=29
%HB_LIB_INSTALL%\libhbwin.a=30
%HB_LIB_INSTALL%\librddado.a=31
%HB_LIB_INSTALL%\librddcdx.a=32
%HB_LIB_INSTALL%\librddfpt.a=33
%HB_LIB_INSTALL%\librddntx.a=34
%HB_LIB_INSTALL%\LibAbraxasMinGW.A=35
%C_LIB_INSTALL%\libolesvr32.a=36
%C_LIB_INSTALL%\libole32.a=37
%C_LIB_INSTALL%\liboleacc.a=38
%C_LIB_INSTALL%\liboleaut32.a=39
%C_LIB_INSTALL%\libolecli32.a=40
%C_LIB_INSTALL%\liboledlg.a=41
%C_LIB_INSTALL%\libolepro32.a=42
%C_LIB_INSTALL%\libuuid.a=43
%C_LIB_INSTALL%\libwinspool.a=44
%HB_LIB_INSTALL%\libhbsqlit3.a=45
%HB_LIB_INSTALL%\libgtwvg.a=46
%C_LIB_INSTALL%\libgdi32.a=47
%C_LIB_INSTALL%\libcomctl32.a=48
%C_LIB_INSTALL%\libcomdlg32.a=49
From mbelgrano at deltain.it  Mon Mar  2 15:36:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 15:36:36 2009
Subject: [Harbour] MinGW Build Process - Few Clarifications
In-Reply-To: <20081119192616.GA23930@34-mo7-2.acn.waw.pl>
References: <20583844.post@talk.nabble.com>
	<20081119192616.GA23930@34-mo7-2.acn.waw.pl>
Message-ID: <609353e70903021236n62a6eff1ia3b8e51b1cdc75c4@mail.gmail.com>

Very good description
can be addedd to Victor's install?

2008/11/19 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Wed, 19 Nov 2008, Pritpal Bedi wrote:
>
> Hi Pritpal,
>
>> I am playing with MinGW with MSYS.
>> Everything is fine except few points below which
>> I suspect more belongs to my poor general-knowledge
>> and IQ.
>> 1) ./make_gnu.sh install creates hbmk.sh in bin folder, <hbwin> is not
>> ? ? included in the default library list. ?I tried to locate where I have
>> to
>> ? ?update this information but am at a loss. It is important for
>> demowvg.prg
>> ? ?to convert to executable. What I do that I change the lib list in
>> hbmk.sh
>> ? ?manually after each build.
>
> Looks that not all Harbour parts were updated for modifications
> in environment variables and library names.
> Look at function mk_hbgetlibsctb() in bin/hb-func.sh
> It has list of contrib libraries. hbw32 should be changed to hbwin.
>
>> 2) What is the rule/procedure to build only a single contrib library?
>> ? ?Now I have to issue from the /c/harbour ./make_gnu.sh install everytime
>> ? ?I make a change to the source. Then I change hbmk.sh in bin folder.
>> Then
>> I ?compile demowvg.prg. A long edit/compile/link/execute cycle.
>
> It's very easy. In GNU make you can work with single library only.
> It's one of the most important functionality for me which does not
> exists in other make files. Just simply set two environment variables:
> ? export HB_ARCHITECTURE=w32
> ? export HB_COMPILER=mingw
>
> When they are set you can execute in each directory make command
> and modified files will be recompiled and new libraries will be
> created in harbour/lib/$HB_ARCHITECTURE/$HB_COMPILER without
> touching any other things. If you want to rebuild whole library
> then you can simply execute:
> ? make clean
> it will erase (clean) on files related to library in the directory
> you are working on without touch other code.
> If you want to also install new library in given place then you should
> set additional environment variable HB_LIB_INSTALL. If this variable
> has some header files then you should also set HB_INC_INSTALL and if
> some executable are also created and you want to install them then
> HB_BIN_INSTALL is necessary. Yo can simply set all 3 variables, f.e.:
> ? export HB_BIN_INSTALL="/c/harbour/mingw/bin"
> ? export HB_INC_INSTALL="/c/harbour/mingw/include"
> ? export HB_LIB_INSTALL="/c/harbour/mingw/lib"
>
> and then
> ? make install
> will work for any type of Harbour code.
> When you executed make command then it works for given directory and all
> subdirectoried. So when you execute it in harbour/source/rtl then he will
> operate on rtl library and all GTs libraries which are in
> harbour/source/rtl/gt* directoris, f.e.:
> ? make clean
> will clean rtl and all core GTs. make clean does not remove files
> from final destination directories pointed by HB_*_INSTALL envvars
> but only from Harbour source tree.
> You can put all these environment variables in single script which
> you may use to set you environment, f.e. in myhbsets.sh
> ? #!/bin/sh
> ? export HB_ARCHITECTURE=w32
> ? export HB_COMPILER=mingw
> ? export HB_BIN_INSTALL="/c/harbour/mingw/bin"
> ? export HB_INC_INSTALL="/c/harbour/mingw/include"
> ? export HB_LIB_INSTALL="/c/harbour/mingw/lib"
>
> but please remember about one thing. In *nix like shells each
> script operates on its own environment inherited from parent
> process. It means that executing such scripts directly:
> ? ./myhbsets.sh
> will not change your environment variables. You have to "include"
> it to current shell. It can be done by adding dot (.) and space
> before script name, f.e.:
> ? . ./myhbsets.sh
>
> In such form the variables will be set in current shell instance.
> You can check it using simple 'set' command without parameters.
> People who used to work with DOS/Windows very often forget about
> the fact that *nix shells looks for programs to execute _ONLY_ in
> directories which are in PATH envvar. It's the reason why simply
> ? my_prog
> does not work when my_prog is located in current directory. If you
> do not like it then you can add current directory '.' to PATH envvar.
> It's not set by default for important security reasons so it's not
> good practice. For sure it should never be done in production environment
> on machine with multiuser access. If you want to make it for you own
> use then please add '.' at the end of path so programs in local directory
> will not have higher priority then system ones. You can make it by:
> ? export PATH="$PATH:."
> In *nixes path delimiter is ":" not ";" like in DOS/Windows.
>
> I hope that above information will help you to start working
> with *nix like shells and Harbour. There are also many other
> possibilities but too much information at once can cause that
> it may look more complicated then it really is.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From toninhofwi at yahoo.com.br  Mon Mar  2 15:47:06 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Mon Mar  2 15:47:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10508] trunk/harbour
In-Reply-To: <E1LeEfm-0008DF-Js@3kljzd1.ch3.sourceforge.com>
References: <E1LeEfm-0008DF-Js@3kljzd1.ch3.sourceforge.com>
Message-ID: <q8hoq4p9fp9c3cq7o8g9ckueifiid1tss3@4ax.com>

>    + added support for automatic adding 1-st function with the same name
>      as compiled .prg file if some code statements are used before 1-st
>      function/procedure declared explicitly in .prg file. Such mode can
>      be enabled by -n2 new harbour compiler switch.

Hi Przemek,

Sorry for my ignorance but I don't understand this feature.  If I have
a file test.prg and I use -n2 I'll have an internal function called
test() ?

TIA and best regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From bedipritpal at hotmail.com  Mon Mar  2 15:57:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 15:57:19 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <49AC40E6.6060803@ec-red.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
Message-ID: <22296547.post@talk.nabble.com>


Hi


Guillermo Varona wrote:
> 
> Hi Pritpal, I've done the modifications, but i got this:
> 
> *************************************
> Proyecto: Tests, Entorno: Hb_MinGW_WVG:
> [1]:gcc.exe -oTests.Exe -Wall -W -O3 -march=i586-mtune=pentiumpro 
> -mwindows Tests.gcl
> D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d48): undefined 
> reference to `HB_FUN_WVG_BOXGET'
> D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d58): undefined 
> reference to `HB_FUN_WVG_BOXRAISED'
> D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d68): undefined 
> reference to `HB_FUN_WVG_BOXRECESSED'
> D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1d78): undefined 
> reference to `HB_FUN_WVG_BOXGROUPRAISED'
> D:\SyS_GVS\Stk\CIPSA\Obj\demowvg.o:demowvg.c:(.data+0x1dc8): undefined 
> reference to `HB_FUN_HB_GT_WVT'
> C:\HarbourMinGW\Lib/libgtwvg.a(wvgwin.o):wvgwin.c:(.text+0x2a9b): 
> undefined reference to `SetDCBrushColor'
> C:\HarbourMinGW\Lib/libgtwvg.a(wvgwin.o):wvgwin.c:(.text+0x2acb): 
> undefined reference to `SetDCPenColor'
> collect2: ld returned 1 exit status
> ***************************************
> 

You are to rebuild gtwvg.lib afresh with latest SVN.


Guillermo Varona wrote:
> 
> My new .env it's this:
> 
> HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc3 /w1 /es2 /a /b
> /i%HB_INC_INSTALL%
> 
> [C]
> C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF% 
> -Wall -W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ%
> C_LIB_COMMAND=%C_BIN_INSTALL%\ar.Exe -M < %RSP%
> C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3 -march=i586
> -mtune=pentiumpro -mwindows %LNK%
> 
> 

So what exactly did you change ? 

I see no change in the switches. Even after your new script 
exe is build properly and appears to be executed but nothing
comes up on screen.


Further investigations suggest that 'void hb_winmainArgInit()' in
harbour/source/vm/cmdarg.c is not being executed and hence 
'BOOL hb_winmainArgGet()' always return FALSE. So the GT 
initialization is failing somewhere.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22296547.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Mon Mar  2 16:28:18 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Mar  2 16:28:33 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22296547.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com>
	<49ABF7F0.4040006@ec-red.com>	<22292194.post@talk.nabble.com>
	<49AC40E6.6060803@ec-red.com> <22296547.post@talk.nabble.com>
Message-ID: <49AC4F72.10501@ec-red.com>

Pritpal Bedi escribi?:
> . . .
> You are to rebuild gtwvg.lib afresh with latest SVN.
>   
Yes, it's harbour.exe:
D:\SyS_GVS\Stk\CIPSA>c:\harbourmingw\bin\harbour
Harbour 1.1.0dev (Rev. 10507)
Copyright (c) 1999-2009, http://www.harbour-project.org/

/*
 * $Id: ChangeLog 10507 2009-03-02 17:49:33Z vszakats $
 */

> So what exactly did you change ? 
> I see no change in the switches. Even after your new script 
> exe is build properly and appears to be executed but nothing
> comes up on screen.
In fact, I have not made any changes, just wanted to get to the point it 
has reached you, from there for testing, but even I make EXE

> Further investigations suggest that 'void hb_winmainArgInit()' in
> harbour/source/vm/cmdarg.c is not being executed and hence 
> 'BOOL hb_winmainArgGet()' always return FALSE. So the GT 
> initialization is failing somewhere.
>   
Ups!!!, These things are already older :-), I am a simple user Harbour :-(

Best Regards
GVS



From druzus at acn.waw.pl  Mon Mar  2 16:53:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 16:47:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10508] trunk/harbour
In-Reply-To: <q8hoq4p9fp9c3cq7o8g9ckueifiid1tss3@4ax.com>
References: <E1LeEfm-0008DF-Js@3kljzd1.ch3.sourceforge.com>
	<q8hoq4p9fp9c3cq7o8g9ckueifiid1tss3@4ax.com>
Message-ID: <20090302215319.GA27031@uran.home.aster.pl>

On Mon, 02 Mar 2009, Toninho@fwi wrote:

Hi,

> >    + added support for automatic adding 1-st function with the same name
> >      as compiled .prg file if some code statements are used before 1-st
> >      function/procedure declared explicitly in .prg file. Such mode can
> >      be enabled by -n2 new harbour compiler switch.
> Sorry for my ignorance but I don't understand this feature.  If I have
> a file test.prg and I use -n2 I'll have an internal function called
> test() ?

Do you know what -n switch does in Clipper and harbour?
It disables adding implicit function with the same name as .prg
file name to generate code.
F.e. such code:

   /*** t1.prg ***/
   ? "Hello World!!!"
   /*** t1.prg ***/

can be compiled only without -n switch.
But such code:
   /*** t2.prg ***/
   proc start()
   ? "Hello World!!!"
   /*** t2.prg ***/

should be compiled with -n otherwise compiler adds new function T2() at the
beginning of generate code and you have the same results as compiling this
code with -n:
   /*** t3.prg ***/
   proc t2
   return
   proc start()
   ? "Hello World!!!"
   /*** t3.prg ***/
and when you try to execute final binaries then t2() is run which exits
immediately so nothing appears on the screen.

As we can see on the list 90% or more Harbour/Clipper users used to
forget that -n switch exists in this compilers and reports that after:
   hbmk2 something.prg
nothing appears on the screen.
Viktor cannot add -n as default hbmk2 switch because in such case hbmk2
cannot be used to compile t1.prg. If we want to used hbmk2 as universal
harbour compiler wrapper then it should be able to compile any valid
Clipper code respecting Clipper switches as close as possible.
So I added -n2 switch which be default works like -n but if compiler
finds any code before the 1-st function/procedure in compiled .prg file
which is not file wide variable declarations then it disables -n switch
and adds the implicit function with the same name as file name so it can
be used as default hbmk2 switch if user does not use any other -n* switches.
In such case hbmk2 can compile t1.prg and t2.prg above without any additional
switches. Just make some tests now using -n2 explicitly, f.e.:
   hbmk2 -n2 t1.prg
and
   hbmk2 -n2 t2.prg

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  2 17:00:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 16:55:04 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22296547.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
Message-ID: <20090302220042.GB27031@uran.home.aster.pl>

On Mon, 02 Mar 2009, Pritpal Bedi wrote:

Hi

> Further investigations suggest that 'void hb_winmainArgInit()' in
> harbour/source/vm/cmdarg.c is not being executed and hence 
> 'BOOL hb_winmainArgGet()' always return FALSE. So the GT 
> initialization is failing somewhere.

For GUI applications use -mwindows MinGW GCC link time switch and
never link libhbmainstd.a which contains main() function. You also
need libhbmainwin.a (lhbmainwin).
For CUI applications just simply add libhbmainstd.a to linked
library list by -lhbmainstd. You can also use -mconsole switch
but for MinGW linker the highest priority is main() function
in one of linked objects or libraries.
That's all.

Anyhow I suggest to create for xMate new configuration which will
use only hbmk2 instead of calling harbour and/or C compilers.
Such configuration will work for any C compiler supported by
Harbour and hbmk2.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  2 17:07:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 17:01:23 2009
Subject: [Harbour] About HRB
In-Reply-To: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
Message-ID: <20090302220701.GC27031@uran.home.aster.pl>

On Mon, 02 Mar 2009, Rossine wrote:

Hi,

> I am new in this list, and use xhb.com and I am currently migrating my
> application to harbour + MSVC. Use in my system files. "HRB" and is
> experiencing an error of execution in this example:
> [CODE]
> function main
> CLS
> CONTENT = hb_decrypt (memoread ( "myhrb.hrb), 123)
> HANDLE_HRB: = HB_hrbload (content)
> HB_HRBUNLOAD (HANDLE_HRB)
> return NIL
> [ENDCODE]
> Error generated:
> Error BASE/9998 Argument error: HB_HRBLOAD
> Called from HB_HRBLOAD (0)
> Called from MAIN (7)
> This usually works with xhb.com. What is the correct way to do this, or
> could do in this harbor?

In Harbour it will work in the same way. Below is code example.
But I see one problem in above code.
hb_crypt()/hb_decrypt() are xHarbour functions which in Harbour
exists in XHB library. They are copied from xHarbour as is also
with bugs. One of such bugs is passing non string or empty string
as the encryption key. In such case hb_crypt() access uninitialized
memory and can create random results though it's possible that
they will be repeatable with single binaries. It's very serious bug.
Always use some nonempty string keys if you want to use these functions
or use some other ones, f.e. sx_encrypt()/sx_decrypt() in example below.

best regards,
Przemek


#define EOL chr(10)
proc main
   local CONTENT, HANDLE_HRB, PRG, HRBCODE

   PRG := ;
      "proc p()" + EOL + ;
      "   ? 'Hello World'" + EOL + ;
      "   alert( 'Hello World' )" + EOL + ;
      "return"
   HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2", "-q0" )
   memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) )

   CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" )
   HANDLE_HRB := hb_hrbload( CONTENT )
   hb_hrbDo( HANDLE_HRB )
   hb_hrbunload( HANDLE_HRB )
   WAIT
return
From harbour.01 at syenar.hu  Mon Mar  2 17:21:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 17:21:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10508] trunk/harbour
In-Reply-To: <20090302215319.GA27031@uran.home.aster.pl>
References: <E1LeEfm-0008DF-Js@3kljzd1.ch3.sourceforge.com>
	<q8hoq4p9fp9c3cq7o8g9ckueifiid1tss3@4ax.com>
	<20090302215319.GA27031@uran.home.aster.pl>
Message-ID: <18d502870903021421p6c60221dmcf8896cad37b096c@mail.gmail.com>

Hi Przemek,

I've already added the switch to hbmk2 and will commit ASAP.
(Thanks for the extra information)

Brgds,
Viktor

On Mon, Mar 2, 2009 at 10:53 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 02 Mar 2009, Toninho@fwi wrote:
>
> Hi,
>
> > >    + added support for automatic adding 1-st function with the same
> name
> > >      as compiled .prg file if some code statements are used before 1-st
> > >      function/procedure declared explicitly in .prg file. Such mode can
> > >      be enabled by -n2 new harbour compiler switch.
> > Sorry for my ignorance but I don't understand this feature.  If I have
> > a file test.prg and I use -n2 I'll have an internal function called
> > test() ?
>
> Do you know what -n switch does in Clipper and harbour?
> It disables adding implicit function with the same name as .prg
> file name to generate code.
> F.e. such code:
>
>   /*** t1.prg ***/
>   ? "Hello World!!!"
>   /*** t1.prg ***/
>
> can be compiled only without -n switch.
> But such code:
>   /*** t2.prg ***/
>   proc start()
>   ? "Hello World!!!"
>   /*** t2.prg ***/
>
> should be compiled with -n otherwise compiler adds new function T2() at the
> beginning of generate code and you have the same results as compiling this
> code with -n:
>   /*** t3.prg ***/
>   proc t2
>   return
>   proc start()
>   ? "Hello World!!!"
>   /*** t3.prg ***/
> and when you try to execute final binaries then t2() is run which exits
> immediately so nothing appears on the screen.
>
> As we can see on the list 90% or more Harbour/Clipper users used to
> forget that -n switch exists in this compilers and reports that after:
>   hbmk2 something.prg
> nothing appears on the screen.
> Viktor cannot add -n as default hbmk2 switch because in such case hbmk2
> cannot be used to compile t1.prg. If we want to used hbmk2 as universal
> harbour compiler wrapper then it should be able to compile any valid
> Clipper code respecting Clipper switches as close as possible.
> So I added -n2 switch which be default works like -n but if compiler
> finds any code before the 1-st function/procedure in compiled .prg file
> which is not file wide variable declarations then it disables -n switch
> and adds the implicit function with the same name as file name so it can
> be used as default hbmk2 switch if user does not use any other -n*
> switches.
> In such case hbmk2 can compile t1.prg and t2.prg above without any
> additional
> switches. Just make some tests now using -n2 explicitly, f.e.:
>   hbmk2 -n2 t1.prg
> and
>   hbmk2 -n2 t2.prg
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/219aef58/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  2 17:28:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 17:29:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
Message-ID: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>

Revision: 10509
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10509&view=rev
Author:   vszakats
Date:     2009-03-02 22:28:58 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 23:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    - Removed HB, HBPP envvars as cross-compilation requirements.

  * make_gnu_os2.cmd
    + Now honors HB_USER_MAKEFLAGS setting.

  * utils/hbmk2/hbmk2.prg
    + Added -n2 Harbour switch as default.
    ; TODO: If this works out well, we can remove explicit
            -n switches from .hbm files.

  * config/win/bcc.cf
    + Suppressing some OS commands to not pollute output.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Mar  2 17:29:39 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 17:29:42 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <20090302220042.GB27031@uran.home.aster.pl>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
	<20090302220042.GB27031@uran.home.aster.pl>
Message-ID: <22298304.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> For GUI applications use -mwindows MinGW GCC link time switch and
> never link libhbmainstd.a which contains main() function. You also
> need libhbmainwin.a (lhbmainwin).
> For CUI applications just simply add libhbmainstd.a to linked
> library list by -lhbmainstd. You can also use -mconsole switch
> but for MinGW linker the highest priority is main() function
> in one of linked objects or libraries.
> 

Thanks for explanation.
libhbmainwin.a (lhbmainwin) is not built by current command
"sh make_gnu.sh install". I cannot find it in  HB_LIB_INSTALL 
folder. libhbmainstd.a is present.

For bcc55/58/msvc2008 I can see hbmainstd.lib and hbmainwin.lib.

I think some define is missing from default build : 
may be __MINGW32__ ? Viktor ?


Przemyslaw Czerpak-2 wrote:
> 
> Anyhow I suggest to create for xMate new configuration which will
> use only hbmk2 instead of calling harbour and/or C compilers.
> Such configuration will work for any C compiler supported by
> Harbour and hbmk2.
> 

This is even better. I will experiment. Can you show the switches 
I should use with hbmk2?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22298304.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Mar  2 17:34:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 17:34:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10510] trunk/harbour
Message-ID: <E1LeGic-0003Ep-Pg@dn4whf1.ch3.sourceforge.com>

Revision: 10510
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10510&view=rev
Author:   vszakats
Date:     2009-03-02 22:34:38 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 23:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/Makefile
  - contrib/hbwhat
  + contrib/examples/hbwhat
  * contrib/examples/hbwhat/Makefile
    * Moved hbwhat to contrib/examples.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/examples/hbwhat/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/examples/hbwhat/

Removed Paths:
-------------
    trunk/harbour/contrib/hbwhat/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Mar  2 17:36:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 17:36:14 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <20090302220042.GB27031@uran.home.aster.pl>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
	<20090302220042.GB27031@uran.home.aster.pl>
Message-ID: <22298429.post@talk.nabble.com>


Hi

Just removing libhbmainstd.a from the script 
has buld the executable properly. 
libhbmainwin.a is not needed.

Thanks.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22298429.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Mar  2 17:38:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 17:38:33 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22298429.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
	<20090302220042.GB27031@uran.home.aster.pl>
	<22298429.post@talk.nabble.com>
Message-ID: <609353e70903021438u58de77f0p2f09e922d48b84e6@mail.gmail.com>

Please can you repost last env?

2009/3/2 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
> Just removing libhbmainstd.a from the script
> has buld the executable properly.
> libhbmainwin.a is not needed.
>
> Thanks.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Xmate-and-MinGW-Env-for-Applns-tp22270970p22298429.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar  2 17:40:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 17:40:10 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <22298304.post@talk.nabble.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
	<20090302220042.GB27031@uran.home.aster.pl>
	<22298304.post@talk.nabble.com>
Message-ID: <18d502870903021440q41475c46o8a736058f819c30f@mail.gmail.com>

>
> Thanks for explanation.
> libhbmainwin.a (lhbmainwin) is not built by current command
> "sh make_gnu.sh install". I cannot find it in  HB_LIB_INSTALL
> folder. libhbmainstd.a is present.
>
> For bcc55/58/msvc2008 I can see hbmainstd.lib and hbmainwin.lib.
>
> I think some define is missing from default build :
> may be __MINGW32__ ? Viktor ?


In source/vm/Makefile there is a great deal of trickery
done regarding this area. I have no idea what's the
reasoning behind it, but for sure it creates some lib
differences between compilers.

Probably it wouldn't hurt to enable hbmainwin.a
for MinGW. If there is no objection I can do it, but it'd
be good to hear some educated opinions, as I don't like
to act blindly.

BTW, mainwin.o is built into hbvm.a, so maybe it's not
needed at all. Przemek?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090302/15961eea/attachment.html
From bedipritpal at hotmail.com  Mon Mar  2 18:00:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 18:00:42 2009
Subject: [Harbour] MinGW License Clarification
Message-ID: <22298833.post@talk.nabble.com>


Hello Everybody

As I have been able to build my executables 
with MinGW and xMate, I think it is viable to offer
ready-to-use distribution ( as I had posted earlier
with BCC and removed afterwards due to 
Borland's licensing restrictions ) with MinGW as 
compiler. This distribution will aim at
newbies and can be used for ad-hoc testing
of complex as well as few liners projects.

Before I go in this direction I need to know 
I am not violating MinGW licensing by packaging 
it into a Harbour distribution.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/MinGW-License-Clarification-tp22298833p22298833.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Mar  2 18:02:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  2 18:02:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10511] trunk/harbour
Message-ID: <E1LeH9a-0008GS-64@c3vjzd1.ch3.sourceforge.com>

Revision: 10511
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10511&view=rev
Author:   vszakats
Date:     2009-03-02 23:02:26 +0000 (Mon, 02 Mar 2009)

Log Message:
-----------
2009-03-02 23:59 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * debian/rules
  + doc/man/hbmk.1
  - doc/man/hbmake.1
    - Removed hbmake doc.
    + Added hbmk doc. (bare one)

  - doc/genhtm.rsp
  - doc/genhtm.lnk
  - doc/genhtm.bat
  - doc/genhtm.sh
  + doc/en/genhtm.lnk
  + doc/en/genhtm.sh
  + doc/en/genhtm.rsp
  + doc/en/genhtm.bat
    * Moved.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/rules

Added Paths:
-----------
    trunk/harbour/doc/en/genhtm.bat
    trunk/harbour/doc/en/genhtm.lnk
    trunk/harbour/doc/en/genhtm.rsp
    trunk/harbour/doc/en/genhtm.sh
    trunk/harbour/doc/man/hbmk.1

Removed Paths:
-------------
    trunk/harbour/doc/genhtm.bat
    trunk/harbour/doc/genhtm.lnk
    trunk/harbour/doc/genhtm.rsp
    trunk/harbour/doc/genhtm.sh
    trunk/harbour/doc/man/hbmake.1


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar  2 18:04:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 18:05:03 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
Message-ID: <18d502870903021504s7cf3a9ag958905019bf8cc50@mail.gmail.com>

Hi Lorenzo,


> As far as I understood Viktor will clean old make system today and
> since nobody replayed about doc/es I think we can also remove doc/es
> and move doc/en at the doc level ( doc in the root is already en so I
> don't see the reason to have an en subdir ).


Just one comment on this, maybe we should still keep it
separate as docs inside the 'en' dir are "nanfor doc" formatted,
while the rest is just misc docs. Maybe a separate 'manual'
dir would be the solution.

Something like this:
/man/manpage <- /doc/man
/man/nfdoc <- /doc/en + doc/genhtm.*
/doc (would hold current stuff without above stuff)

[ What is the official name of the "nanfor doc" format? ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/957b7e12/attachment.html
From bedipritpal at hotmail.com  Mon Mar  2 18:08:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar  2 18:08:55 2009
Subject: [Harbour] xMate .ENV files for BCC, MinGW, MSVC
Message-ID: <22298978.post@talk.nabble.com>


Hello Everybody

Here are the .ENV files which can be used
to create executables with BCC, MINGW and MSVC 
compiled Harbour binaries. This env compiles 
harbour/contrib/gtwvg/tests/demowvg.prg 
successfully.

You need to tweak HB_INSTALL and C_INSTALL paths.

I am NOT been able to create MinGWCE Harbour binaries yet.

I will apprciate if someone posts other ENVs too.

TODO: Club this functionality through hbmk2.exe.



BCC
---

[Environment]
Description 1=
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=
Last update=02/23/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\HARBOUR
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc0 /w1 /es2
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\BCC55
C_COMP_COMMAND=%C_BIN_INSTALL%\Bcc32.Exe  %CRLF%-M -c -O2 -e  -tWM 
%CRLF%-I%HB_INC_INSTALL%;%C_INC_INSTALL%   %CRLF%-n%HOME%\Obj %C%
C_LIB_COMMAND=%C_BIN_INSTALL%\TLib.Exe %LIB% /P512 @%RSP% , %LST%
C_LINK_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -Gn -aa -Tpe -s -v
-L%C_LIB_INSTALL% @%LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\Brc32.Exe -r  -fo%RES%  %RC%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%C_LIB_INSTALL%\C0W32.OBJ=1
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvmmt.lib=3
%HB_LIB_INSTALL%\hblang.lib=4
%HB_LIB_INSTALL%\hbmacro.lib=5
%HB_LIB_INSTALL%\hbrdd.lib=6
%HB_LIB_INSTALL%\rddntx.lib=7
%HB_LIB_INSTALL%\rddcdx.lib=8
%HB_LIB_INSTALL%\rddfpt.lib=9
%HB_LIB_INSTALL%\hbcommon.lib=10
%HB_LIB_INSTALL%\hbpp.lib=11
%HB_LIB_INSTALL%\hbsix.lib=12
%HB_LIB_INSTALL%\gtwvg.Lib=13
%HB_LIB_INSTALL%\hbct.lib=14
%HB_LIB_INSTALL%\hbpcre.lib=15
%HB_LIB_INSTALL%\hbusrrdd.lib=16
%HB_LIB_INSTALL%\hbwin.lib=17
%HB_LIB_INSTALL%\hbtip.lib=18
%HB_LIB_INSTALL%\hbmzip.lib=19
%HB_LIB_INSTALL%\hbzlib.lib=20
%HB_LIB_INSTALL%\hbziparc.lib=21
%C_LIB_INSTALL%\ws2_32.lib=22
%C_LIB_INSTALL%\IMPORT32.LIB=23
%C_LIB_INSTALL%\cw32mt.lib=24
%HB_LIB_INSTALL%\gtcgi.lib=25
%HB_LIB_INSTALL%\gtgui.lib=26
%HB_LIB_INSTALL%\gtwin.lib=27
%HB_LIB_INSTALL%\gtwvt.lib=28
%HB_LIB_INSTALL%\hbnf.lib=29

[DLL Files]
%C_LIB_INSTALL%\C0W32.OBJ=1
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvm.lib=3
%HB_LIB_INSTALL%\gtwin.lib=4
%HB_LIB_INSTALL%\hblang.lib=5
%HB_LIB_INSTALL%\hbmacro.lib=6
%HB_LIB_INSTALL%\hbrdd.lib=7
%HB_LIB_INSTALL%\rddntx.lib=8
%HB_LIB_INSTALL%\rddcdx.lib=9
%HB_LIB_INSTALL%\hbdebug.lib=10
%HB_LIB_INSTALL%\hbcommon.lib=11
%HB_LIB_INSTALL%\hbpp.lib=12
%C_LIB_INSTALL%\CW32.LIB=13
%C_LIB_INSTALL%\IMPORT32.LIB=14


MINGW
------
[Environment] 
Description 1=Harbour + MinGW 
Description 2= 
Description 3= 
PRG Compiler ver= 
C compiler ver= 
Subsystem= 
Author=GVS 
Last update=12/05/2008 

[Advanced] 
Command types=1,1,1,1,1,1,1,1,1 

[Harbour] 
HB_INSTALL=c:\hrb_dist\mingw
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.exe %PRG% /a /m /n /w1 /es2 /gc3
/i%HB_INC_INSTALL% 
Option prefix=/ 

[C] 
C_INSTALL=C:\MinGW 
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF% -Wall
-W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ% 
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.exe -M < %RSP% 
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3 -march=i586
-mtune=pentiumpro -mwindows %LNK% 
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES% 
C_DLL_COMMAND= 
Option prefix=- 

[User] 
POSTEXE_COMMAND= 
POSTLIB_COMMAND= 
POSTDLL_COMMAND= 

[Files] 
%HB_LIB_INSTALL%\libxhb.a=1 
%HB_LIB_INSTALL%\libgtcgi.a=2 
%HB_LIB_INSTALL%\libgtgui.a=3 
%HB_LIB_INSTALL%\libgtpca.a=4 
%HB_LIB_INSTALL%\libgtstd.a=5 
%HB_LIB_INSTALL%\libgtwin.a=6 
%HB_LIB_INSTALL%\libgtwvg.a=7 
%HB_LIB_INSTALL%\libgtwvt.a=8 
%HB_LIB_INSTALL%\libhbbmcdx.a=9 
%HB_LIB_INSTALL%\libhbbtree.a=10 
%HB_LIB_INSTALL%\libhbclipsm.a=11 
%HB_LIB_INSTALL%\libhbcommon.a=12 
%HB_LIB_INSTALL%\libhbcpage.a=13 
%HB_LIB_INSTALL%\libhbcplr.a=14 
%HB_LIB_INSTALL%\libhbct.a=15 
%HB_LIB_INSTALL%\libhbdebug.a=16 
%HB_LIB_INSTALL%\libhbgt.a=17 
%HB_LIB_INSTALL%\libhbhsx.a=18 
%HB_LIB_INSTALL%\libhblang.a=19 
%HB_LIB_INSTALL%\libhbmacro.a=20 

%HB_LIB_INSTALL%\libhbmisc.a=22 
%HB_LIB_INSTALL%\libhbnf.a=23 
%HB_LIB_INSTALL%\libhbodbc.a=24 
%HB_LIB_INSTALL%\libhbpcre.a=25 
%HB_LIB_INSTALL%\libhbpp.a=26 
%HB_LIB_INSTALL%\libhbrdd.a=27 
%HB_LIB_INSTALL%\libhbrtl.a=28 
%HB_LIB_INSTALL%\libhbsix.a=29 
%HB_LIB_INSTALL%\libhbtip.a=30 
%HB_LIB_INSTALL%\libhbusrrdd.a=31 
%HB_LIB_INSTALL%\libhbvmmt.a=32 
%HB_LIB_INSTALL%\libhbwin.a=33 
%HB_LIB_INSTALL%\librddado.a=34 
%HB_LIB_INSTALL%\librddcdx.a=35 
%HB_LIB_INSTALL%\librddfpt.a=36 
%HB_LIB_INSTALL%\librddntx.a=37 
%HB_LIB_INSTALL%\libhbsqlit3.a=48 

%C_LIB_INSTALL%\libolesvr32.a=39 
%C_LIB_INSTALL%\libole32.a=40 
%C_LIB_INSTALL%\liboleacc.a=41 
%C_LIB_INSTALL%\liboleaut32.a=42 
%C_LIB_INSTALL%\libolecli32.a=43 
%C_LIB_INSTALL%\liboledlg.a=44 
%C_LIB_INSTALL%\libolepro32.a=45 
%C_LIB_INSTALL%\libuuid.a=46 
%C_LIB_INSTALL%\libwinspool.a=47 
%C_LIB_INSTALL%\libgdi32.a=47 
%C_LIB_INSTALL%\libcomctl32.a=47 
%C_LIB_INSTALL%\libcomdlg32.a=47 

MSVC
-----

[Environment]
Description 1=
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=
Last update=02/23/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\hrb_dist\msvc2008
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc0 /w1 /es2
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\Program Files\Microsoft Visual Studio 9.0\VC
C_COMP_COMMAND=%C_BIN_INSTALL%\cl.exe /nologo -TP -W3 -c /GA
-I%HB_INC_INSTALL% -I"C:\Program Files\Microsoft SDKs\Windows\v6.0A\include"
-I%C_INC_INSTALL%  /Fo%OBJ% %C%%CRLF%
C_LIB_COMMAND=%C_BIN_INSTALL%\Lib.Exe /nologo /out:%LIB% @%RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\Link.Exe  @%LNK% /nologo /subsystem:windows
/force:multiple /NODEFAULTLIB:libc  /LIBPATH:%C_LIB_INSTALL%
/LIBPATH:"C:\Program Files\Microsoft SDKs\Windows\v6.0A\include" 
/NODEFAULTLIB:libc
C_RC_COMMAND=C:\Program Files\Microsoft SDKs\Windows\v6.0A\bin\rc.Exe -r
-d__FLAT__ -d__MSVC__ -i%HOME%\resource -i"C:\Program Files\Microsoft
SDKs\Windows\v6.0A\include" -i%C_INC_INSTALL% -fo%RES%  %RC%%CRLF%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvmmt.lib=3
%HB_LIB_INSTALL%\hblang.lib=4
%HB_LIB_INSTALL%\hbmacro.lib=5
%HB_LIB_INSTALL%\hbrdd.lib=6
%HB_LIB_INSTALL%\rddntx.lib=7
%HB_LIB_INSTALL%\rddcdx.lib=8
%HB_LIB_INSTALL%\rddfpt.lib=9
%HB_LIB_INSTALL%\hbcommon.lib=10
%HB_LIB_INSTALL%\hbpp.lib=11
%HB_LIB_INSTALL%\hbsix.lib=12
%HB_LIB_INSTALL%\gtwvg.Lib=13
%HB_LIB_INSTALL%\hbct.lib=14
%HB_LIB_INSTALL%\hbpcre.lib=15
%HB_LIB_INSTALL%\hbusrrdd.lib=16
%HB_LIB_INSTALL%\hbwin.lib=17
%HB_LIB_INSTALL%\hbtip.lib=18
%HB_LIB_INSTALL%\hbmzip.lib=19
%HB_LIB_INSTALL%\hbzlib.lib=20
%HB_LIB_INSTALL%\hbziparc.lib=21
%HB_LIB_INSTALL%\gtcgi.lib=25
%HB_LIB_INSTALL%\gtgui.lib=26
%HB_LIB_INSTALL%\gtwin.lib=27
%HB_LIB_INSTALL%\gtwvt.lib=28
%HB_LIB_INSTALL%\hbnf.lib=29
%HB_LIB_INSTALL%\xhb.lib=29
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38

[DLL Files]
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvm.lib=3
%HB_LIB_INSTALL%\gtwin.lib=4
%HB_LIB_INSTALL%\hblang.lib=5
%HB_LIB_INSTALL%\hbmacro.lib=6
%HB_LIB_INSTALL%\hbrdd.lib=7
%HB_LIB_INSTALL%\rddntx.lib=8
%HB_LIB_INSTALL%\rddcdx.lib=9
%HB_LIB_INSTALL%\hbdebug.lib=10
%HB_LIB_INSTALL%\hbcommon.lib=11
%HB_LIB_INSTALL%\hbpp.lib=12
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
C:\Program Files\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/xMate-.ENV-files-for-BCC%2C-MinGW%2C-MSVC-tp22298978p22298978.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Mar  2 18:19:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 18:13:41 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <18d502870903021440q41475c46o8a736058f819c30f@mail.gmail.com>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
	<20090302220042.GB27031@uran.home.aster.pl>
	<22298304.post@talk.nabble.com>
	<18d502870903021440q41475c46o8a736058f819c30f@mail.gmail.com>
Message-ID: <20090302231917.GA7646@uran.home.aster.pl>

On Mon, 02 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > Thanks for explanation.
> > libhbmainwin.a (lhbmainwin) is not built by current command
> > "sh make_gnu.sh install". I cannot find it in  HB_LIB_INSTALL
> > folder. libhbmainstd.a is present.
> > I think some define is missing from default build :
> > may be __MINGW32__ ? Viktor ?
> Probably it wouldn't hurt to enable hbmainwin.a
> for MinGW. If there is no objection I can do it, but it'd
> be good to hear some educated opinions, as I don't like
> to act blindly.
> BTW, mainwin.o is built into hbvm.a, so maybe it's not
> needed at all. Przemek?

hbwinmain library is necessary only for MinGW WinCE shared linking.
Is not necessary for MinGW/WinX86 builds.
The LD from pure MinGW can use WinMain() function from harbour.dll
so it's not necessary to repeat its code in static part of application.
I do not know if other Windows C compilers support such functionality.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  2 18:26:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 18:21:17 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <22298833.post@talk.nabble.com>
References: <22298833.post@talk.nabble.com>
Message-ID: <20090302232654.GA17305@uran.home.aster.pl>

On Mon, 02 Mar 2009, Pritpal Bedi wrote:

Hi,

> As I have been able to build my executables 
> with MinGW and xMate, I think it is viable to offer
> ready-to-use distribution ( as I had posted earlier
> with BCC and removed afterwards due to 
> Borland's licensing restrictions ) with MinGW as 
> compiler. This distribution will aim at
> newbies and can be used for ad-hoc testing
> of complex as well as few liners projects.

Please remember that Harbour does not need bison for
compilation so you do not have to include it.
It's necessary only for developers who want to create
new Harbour grammar rules. AFAIK only few persons here
tried to ever make any modifications in grammar files.

> Before I go in this direction I need to know 
> I am not violating MinGW licensing by packaging 
> it into a Harbour distribution.

It should not cause any problems but MinGW has automatic
installer which also can make updates. IMHO attaching
such installer with small instruction: "confirm default
settings" to Harbour compiler configured to use with default
MinGW paths should be enough.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Mar  2 18:29:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  2 18:30:01 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <22298833.post@talk.nabble.com>
References: <22298833.post@talk.nabble.com>
Message-ID: <609353e70903021529m3c3139fo2b74db367e935658@mail.gmail.com>

A ready to use distribution is made by minigui that include:
harbour/mingw/minigui library

I suggest also to you use from minigui the documentation for harbour
This doc is on vcs of minigui (extended)
http://hmgs-minigui.cvs.sourceforge.net/viewvc/hmgs-minigui/minigui/DOC/



2009/3/3 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Everybody
>
> As I have been able to build my executables
> with MinGW and xMate, I think it is viable to offer
> ready-to-use distribution ( as I had posted earlier
> with BCC and removed afterwards due to
> Borland's licensing restrictions ) with MinGW as
> compiler. This distribution will aim at
> newbies and can be used for ad-hoc testing
> of complex as well as few liners projects.
>
> Before I go in this direction I need to know
> I am not violating MinGW licensing by packaging
> it into a Harbour distribution.
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/MinGW-License-Clarification-tp22298833p22298833.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Mon Mar  2 18:30:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 18:31:02 2009
Subject: [Harbour] Xmate and MinGW Env for Applns
In-Reply-To: <20090302231917.GA7646@uran.home.aster.pl>
References: <22270970.post@talk.nabble.com> <49ABF7F0.4040006@ec-red.com>
	<22292194.post@talk.nabble.com> <49AC40E6.6060803@ec-red.com>
	<22296547.post@talk.nabble.com>
	<20090302220042.GB27031@uran.home.aster.pl>
	<22298304.post@talk.nabble.com>
	<18d502870903021440q41475c46o8a736058f819c30f@mail.gmail.com>
	<20090302231917.GA7646@uran.home.aster.pl>
Message-ID: <18d502870903021530w7f5dc3f8m798f0831cf48d77e@mail.gmail.com>

Thanks for the info. I'm thinking of syncing libs so maybe I'll add it
anyway, if
it doesn't make any harm. I'd like to first understand all the details here,
and possibly pack it with some efforts trying
to sync .dll formats across compilers. At least for MSVC, MinGW
and Open Watcom, as Borland seems to be a different animal.

I'd be great if real .dll users could contribute in this area.

Brgds,
Viktor

On Tue, Mar 3, 2009 at 12:19 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 02 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > > Thanks for explanation.
> > > libhbmainwin.a (lhbmainwin) is not built by current command
> > > "sh make_gnu.sh install". I cannot find it in  HB_LIB_INSTALL
> > > folder. libhbmainstd.a is present.
> > > I think some define is missing from default build :
> > > may be __MINGW32__ ? Viktor ?
> > Probably it wouldn't hurt to enable hbmainwin.a
> > for MinGW. If there is no objection I can do it, but it'd
> > be good to hear some educated opinions, as I don't like
> > to act blindly.
> > BTW, mainwin.o is built into hbvm.a, so maybe it's not
> > needed at all. Przemek?
>
> hbwinmain library is necessary only for MinGW WinCE shared linking.
> Is not necessary for MinGW/WinX86 builds.
> The LD from pure MinGW can use WinMain() function from harbour.dll
> so it's not necessary to repeat its code in static part of application.
> I do not know if other Windows C compilers support such functionality.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/1ae4c28b/attachment.html
From harbour.01 at syenar.hu  Mon Mar  2 18:34:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  2 18:34:45 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <609353e70903021529m3c3139fo2b74db367e935658@mail.gmail.com>
References: <22298833.post@talk.nabble.com>
	<609353e70903021529m3c3139fo2b74db367e935658@mail.gmail.com>
Message-ID: <18d502870903021534q43fbbc9co61221341aef28a0a@mail.gmail.com>

Hi Massimo, could you turn off the large signature in your e-mails?
---
Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
---

Brgds,
Viktor

On Tue, Mar 3, 2009 at 12:29 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> A ready to use distribution is made by minigui that include:
> harbour/mingw/minigui library
>
> I suggest also to you use from minigui the documentation for harbour
> This doc is on vcs of minigui (extended)
> http://hmgs-minigui.cvs.sourceforge.net/viewvc/hmgs-minigui/minigui/DOC/
>
>
>
> 2009/3/3 Pritpal Bedi <bedipritpal@hotmail.com>:
> >
> > Hello Everybody
> >
> > As I have been able to build my executables
> > with MinGW and xMate, I think it is viable to offer
> > ready-to-use distribution ( as I had posted earlier
> > with BCC and removed afterwards due to
> > Borland's licensing restrictions ) with MinGW as
> > compiler. This distribution will aim at
> > newbies and can be used for ad-hoc testing
> > of complex as well as few liners projects.
> >
> > Before I go in this direction I need to know
> > I am not violating MinGW licensing by packaging
> > it into a Harbour distribution.
> >
> > Regards
> > Pritpal Bedi
> > --
> > View this message in context:
> http://www.nabble.com/MinGW-License-Clarification-tp22298833p22298833.html
> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/ee3591eb/attachment.html
From vailtom at gmail.com  Mon Mar  2 19:17:43 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar  2 19:17:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
Message-ID: <531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>

>
> ?* utils/hbmk2/hbmk2.prg
> ? ?+ Added -n2 Harbour switch as default.
> ? ?; TODO: If this works out well, we can remove explicit
> ? ? ? ? ? ?-n switches from .hbm files.
>

Hello Viktor,

One important behavior common among the make tools is the fact them
make a compilation of only a few modules that have changed. From what
I read recently in this  list hbmk2 tool not have this behavior and
you do not want to implement this feature, am I right?

If this is true, I would like to know if you can at least include a
parameter in hbmk2 to prevent he from deleting the temporary files in
the output of the program.

Explain: I am outlining an auxiliary tool that will work with the
hbmk2 to compile only the changed files, but I can not use it because
these files are always deleted.

If .C  / .O[BJ] / .RES are not erased, then I could compile only the
changed files...

what do you think of this idea?

[ I even did a function that detects when a file needs to be or not
compiled into hbmk2 ... so then I believe that one tool can be more
useful.]

Vailton Renato
From druzus at acn.waw.pl  Mon Mar  2 19:38:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 19:33:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
Message-ID: <20090303003841.GA22555@uran.home.aster.pl>

On Mon, 02 Mar 2009, Vailton Renato wrote:

Hi,

> Explain: I am outlining an auxiliary tool that will work with the
> hbmk2 to compile only the changed files, but I can not use it because
> these files are always deleted.
> If .C  / .O[BJ] / .RES are not erased, then I could compile only the
> changed files...

You do not need temporary .c files at all. The final result of
pure .prg file compilation is .o[bj] and it's enough to compare
dates of .prg and .o[bj] files.
If you run hbmk2 with -hbcmp parameter then it should not try create
final executable file but only compile give files what I guess is
sth what you are looking for.
Anyhow looks that in current SVN

   hbmk2 -hbcmp -n -w -es2 test.prg

stop to generate test.o[bj] but creates test.c
It's sth new. This functionality was working few days ago.
Viktor?

best regards,
Przemek
From vailtom at gmail.com  Mon Mar  2 20:03:40 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar  2 20:03:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <20090303003841.GA22555@uran.home.aster.pl>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
Message-ID: <531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>

My reasoning is that if all files were available, I could build one
.hbm only temporary with the names of source files that have not
changed, adding the files .O[BJ] / .RES which were unchanged and thus
could have hbmk2 a single call to conclude that the compilation /
linking - avoiding multiple calls to him and thus streamlining the
process.

Vailton Renato

2009/3/2 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Mon, 02 Mar 2009, Vailton Renato wrote:
>
> Hi,
>
>> Explain: I am outlining an auxiliary tool that will work with the
>> hbmk2 to compile only the changed files, but I can not use it because
>> these files are always deleted.
>> If .C ?/ .O[BJ] / .RES are not erased, then I could compile only the
>> changed files...
>
> You do not need temporary .c files at all. The final result of
> pure .prg file compilation is .o[bj] and it's enough to compare
> dates of .prg and .o[bj] files.
> If you run hbmk2 with -hbcmp parameter then it should not try create
> final executable file but only compile give files what I guess is
> sth what you are looking for.
> Anyhow looks that in current SVN
>
> ? hbmk2 -hbcmp -n -w -es2 test.prg
>
> stop to generate test.o[bj] but creates test.c
> It's sth new. This functionality was working few days ago.
> Viktor?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vailtom at gmail.com  Mon Mar  2 20:05:46 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar  2 20:05:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
Message-ID: <531d7a750903021705g3ce34674y23c3ac06b2399899@mail.gmail.com>

oops .. the right would say:
"I could build one .hbm only temporary with the names of source files
that HAVE CHANGED, adding the files .O[BJ] / .RES which were
unchanged..."

Vailton Renato
From druzus at acn.waw.pl  Mon Mar  2 20:28:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  2 20:23:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
Message-ID: <20090303012848.GA23025@uran.home.aster.pl>

On Mon, 02 Mar 2009, Vailton Renato wrote:

Hi,

> My reasoning is that if all files were available, I could build one
> .hbm only temporary with the names of source files that have not
> changed, adding the files .O[BJ] / .RES which were unchanged and thus
> could have hbmk2 a single call to conclude that the compilation /
> linking - avoiding multiple calls to him and thus streamlining the
> process.

That's fine. But for any of such things you do not have to even
know that harbour creates any different *.xyz temporary files.
You only have to know that result of .prg compilation is .o[bj]
file. One of the very important hbmk2 functionality should be
direct support for harbour compiler and linker which can hide
any platform differences so you can use it in other make files
for your favorite make system, f.e. in GNU make:

   %.obj : %.prg
   hbmk2 -hbcmp -n -w -es2 -gc2 -o $@ $<

   %.exe : %.obj
   hbmk2 -hblnk -o $@ $<

Of course you can also try to collect the list of files in some
.hbp/.hbm script if you think it will be better for some reasons,
f.e. due to command line size limitation but I cannot say too much
about their syntax.

best regards,
Przemek
From vailtom at gmail.com  Mon Mar  2 20:26:44 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar  2 20:26:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <20090303012848.GA23025@uran.home.aster.pl>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
Message-ID: <531d7a750903021726s5ae89b91x2579d25f69d548d@mail.gmail.com>

Yes, this is a good idea. Use it today with Borland Make and has
worked properly ...

Vailton Renato

2009/3/2 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Mon, 02 Mar 2009, Vailton Renato wrote:
>
> Hi,
>
>> My reasoning is that if all files were available, I could build one
>> .hbm only temporary with the names of source files that have not
>> changed, adding the files .O[BJ] / .RES which were unchanged and thus
>> could have hbmk2 a single call to conclude that the compilation /
>> linking - avoiding multiple calls to him and thus streamlining the
>> process.
>
> That's fine. But for any of such things you do not have to even
> know that harbour creates any different *.xyz temporary files.
> You only have to know that result of .prg compilation is .o[bj]
> file. One of the very important hbmk2 functionality should be
> direct support for harbour compiler and linker which can hide
> any platform differences so you can use it in other make files
> for your favorite make system, f.e. in GNU make:
>
> ? %.obj : %.prg
> ? hbmk2 -hbcmp -n -w -es2 -gc2 -o $@ $<
>
> ? %.exe : %.obj
> ? hbmk2 -hblnk -o $@ $<
>
> Of course you can also try to collect the list of files in some
> .hbp/.hbm script if you think it will be better for some reasons,
> f.e. due to command line size limitation but I cannot say too much
> about their syntax.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From qiinfo at ig.com.br  Mon Mar  2 23:39:49 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  2 23:39:54 2009
Subject: [Harbour] About Error E0030
Message-ID: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>

Hello,

Because this line:

   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
                     If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
                     If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
                     If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
                     If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
                     If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
                     If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
                     If( lDesign, WS_CLIPSIBLINGS, 0 ) )

generates this error:

Error E0030  Syntax error "syntax error at 'L'"

Regards,

Rossine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/0db2d1ad/attachment.html
From qiinfo at ig.com.br  Tue Mar  3 00:16:20 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 00:35:41 2009
Subject: [Harbour] About HRB
Message-ID: <467ABDFAD0DE499990C167B4D0BC0A7F@brutus>


Hi Przemek,

Now this works fine. This wonderful example. 

Regards, 

Rossine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/96d93cfc/attachment.html
From qiinfo at ig.com.br  Mon Mar  2 23:36:59 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 00:35:42 2009
Subject: [Harbour] About Error E0030
Message-ID: <293F283B3CDB47E9AA7699CFD96E6E10@brutus>

Hello,

Because this line:


   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
                     If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
                     If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
                     If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
                     If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
                     If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
                     If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
                     If( lDesign, WS_CLIPSIBLINGS, 0 ) )



generates this error: 

Error E0030  Syntax error "syntax error at 'L'"

Regards,

Rossine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/c768d1b5/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 02:01:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 02:01:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
Message-ID: <18d502870903022301h5e1ac869ie98bf76f3d162c@mail.gmail.com>

Hi Renato,

One important behavior common among the make tools is the fact them
> make a compilation of only a few modules that have changed. From what
> I read recently in this  list hbmk2 tool not have this behavior and
> you do not want to implement this feature, am I right?


Yes, this is right.


> If this is true, I would like to know if you can at least include a
> parameter in hbmk2 to prevent he from deleting the temporary files in
> the output of the program.
>
> Explain: I am outlining an auxiliary tool that will work with the
> hbmk2 to compile only the changed files, but I can not use it because
> these files are always deleted.
>
> If .C  / .O[BJ] / .RES are not erased, then I could compile only the
> changed files...
>
> what do you think of this idea?


hbmk2 implements -hbcmp and -hbcc switches which you may find useful
for this purpose:

'-hbcmp' will stop after calling Harbour compiler, so it will produce .c
files.
(but you probably don't need this for an incremental make to work).
'-hbcc' will stop after calling C and resource compilers, so it will
produce .o / .res files.
hbmk2 will also accept .o, .res files as inputs. With these capabilities
you
can use it with incremental make tools.


> [ I even did a function that detects when a file needs to be or not
> compiled into hbmk2 ... so then I believe that one tool can be more
> useful.]


Useful, no question about it, but this would mean replicating the
job existing tools, and probably a lot more time investment that
it first seems. We will see, maybe this can be done cleanly and
simply and someone will do it, but by now I'd like to test hbmk2
to be stable with current features.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/307c7c48/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 02:06:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 02:06:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <20090303003841.GA22555@uran.home.aster.pl>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
Message-ID: <18d502870903022306i142956d1l4c4656eae31843f9@mail.gmail.com>

Hi Przemek,

On Tue, Mar 3, 2009 at 1:38 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> If you run hbmk2 with -hbcmp parameter then it should not try create
> final executable file but only compile give files what I guess is
> sth what you are looking for.
> Anyhow looks that in current SVN
>
>   hbmk2 -hbcmp -n -w -es2 test.prg
>
> stop to generate test.o[bj] but creates test.c
> It's sth new. This functionality was working few days ago.
> Viktor?


Please tell me what these switches are exactly supposed
to do, I've reversed the meaning of -hbcmp and -hbcc to your
bug report (first few points) a few days ago ;)

-hbcmp will create .c files.
-hbcc will create object / .res files.

[ Until your bug report it was the opposite. I've even speculated
about it in my answer, but got no clarification. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/9bb571c1/attachment-0001.html
From mbelgrano at deltain.it  Tue Mar  3 02:23:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 02:23:24 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <18d502870903021534q43fbbc9co61221341aef28a0a@mail.gmail.com>
References: <22298833.post@talk.nabble.com>
	<609353e70903021529m3c3139fo2b74db367e935658@mail.gmail.com>
	<18d502870903021534q43fbbc9co61221341aef28a0a@mail.gmail.com>
Message-ID: <609353e70903022323g3a4b9b79y5a377a62a2ad9c8d@mail.gmail.com>

Very sorry,
I am using gmail app for business. Anybody know a way for automatic
Removing  signature using certain email in to ?
I search a way for do Conditional signature or something of similar

2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Massimo, could you turn off the large signature in your e-mails?
> ---
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l. ?http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> ---
> Brgds,
> Viktor
>
> On Tue, Mar 3, 2009 at 12:29 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> A ready to use distribution is made by minigui that include:
>> harbour/mingw/minigui library
>>
>> I suggest also to you use from minigui the documentation for harbour
>> This doc is on vcs of minigui (extended)
>> http://hmgs-minigui.cvs.sourceforge.net/viewvc/hmgs-minigui/minigui/DOC/
>>
>>
>>
>> 2009/3/3 Pritpal Bedi <bedipritpal@hotmail.com>:
>> >
>> > Hello Everybody
>> >
>> > As I have been able to build my executables
>> > with MinGW and xMate, I think it is viable to offer
>> > ready-to-use distribution ( as I had posted earlier
>> > with BCC and removed afterwards due to
>> > Borland's licensing restrictions ) with MinGW as
>> > compiler. This distribution will aim at
>> > newbies and can be used for ad-hoc testing
>> > of complex as well as few liners projects.
>> >
>> > Before I go in this direction I need to know
>> > I am not violating MinGW licensing by packaging
>> > it into a Harbour distribution.
>> >
>> > Regards
>> > Pritpal Bedi
>> > --
>> > View this message in context:
>> > http://www.nabble.com/MinGW-License-Clarification-tp22298833p22298833.html
>> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l. ?http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Mar  3 02:46:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 02:46:09 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <609353e70903022323g3a4b9b79y5a377a62a2ad9c8d@mail.gmail.com>
References: <22298833.post@talk.nabble.com>
	<609353e70903021529m3c3139fo2b74db367e935658@mail.gmail.com>
	<18d502870903021534q43fbbc9co61221341aef28a0a@mail.gmail.com>
	<609353e70903022323g3a4b9b79y5a377a62a2ad9c8d@mail.gmail.com>
Message-ID: <18d502870903022346y4374a4c3t84791ece8cca6462@mail.gmail.com>

I'm using a separate mailbox for Harbour, but I don't a signature for
business either.
8 lines of advertising in all your messages is simply too much, please
remove it
somehow. It's distracting and unnecessary for Harbour.

Brgds,
Viktor

On Tue, Mar 3, 2009 at 8:23 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Very sorry,
> I am using gmail app for business. Anybody know a way for automatic
> Removing  signature using certain email in to ?
> I search a way for do Conditional signature or something of similar
>
> 2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi Massimo, could you turn off the large signature in your e-mails?
> > ---
> > Albo Nazionale Informatici Professionisti 2620
> > Socio 2843 Associazione Informatici prof.
> >
> > Analisi e sviluppo software per Lan e Web
> > Consulenza informatica - Formazione
> > Delta Informatica S.r.l.  http://www.deltain.it
> > Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> > ---
> > Brgds,
> > Viktor
> >
> > On Tue, Mar 3, 2009 at 12:29 AM, Massimo Belgrano <mbelgrano@deltain.it>
> > wrote:
> >>
> >> A ready to use distribution is made by minigui that include:
> >> harbour/mingw/minigui library
> >>
> >> I suggest also to you use from minigui the documentation for harbour
> >> This doc is on vcs of minigui (extended)
> >>
> http://hmgs-minigui.cvs.sourceforge.net/viewvc/hmgs-minigui/minigui/DOC/
> >>
> >>
> >>
> >> 2009/3/3 Pritpal Bedi <bedipritpal@hotmail.com>:
> >> >
> >> > Hello Everybody
> >> >
> >> > As I have been able to build my executables
> >> > with MinGW and xMate, I think it is viable to offer
> >> > ready-to-use distribution ( as I had posted earlier
> >> > with BCC and removed afterwards due to
> >> > Borland's licensing restrictions ) with MinGW as
> >> > compiler. This distribution will aim at
> >> > newbies and can be used for ad-hoc testing
> >> > of complex as well as few liners projects.
> >> >
> >> > Before I go in this direction I need to know
> >> > I am not violating MinGW licensing by packaging
> >> > it into a Harbour distribution.
> >> >
> >> > Regards
> >> > Pritpal Bedi
> >> > --
> >> > View this message in context:
> >> >
> http://www.nabble.com/MinGW-License-Clarification-tp22298833p22298833.html
> >> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
> >> >
> >> > _______________________________________________
> >> > Harbour mailing list
> >> > Harbour@harbour-project.org
> >> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >> >
> >>
> >>
> >>
> >> --
> >> Massimo Belgrano
> >>
> >> Albo Nazionale Informatici Professionisti 2620
> >> Socio 2843 Associazione Informatici prof.
> >>
> >> Analisi e sviluppo software per Lan e Web
> >> Consulenza informatica - Formazione
> >> Delta Informatica S.r.l.  http://www.deltain.it
> >> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/5bfa6d42/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 02:52:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 02:52:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <20090303012848.GA23025@uran.home.aster.pl>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
Message-ID: <18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>

Hi Przemek,

I've checked the source of hbmk script and hbmk2 was right the first time, so
I will change it back, but in this case I don't understand point 1. and 2.
of your bug report.

BTW, why hbcc for Harbour compiler? 'hbcc' seems to imply "Harbour
C Compiler", while 'hbcmp' seems to mean 'Harbour Compiler'.

What are the reasons behind the names?

Brgds,
Viktor

On Tue, Mar 3, 2009 at 2:28 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 02 Mar 2009, Vailton Renato wrote:
>
> Hi,
>
> > My reasoning is that if all files were available, I could build one
> > .hbm only temporary with the names of source files that have not
> > changed, adding the files .O[BJ] / .RES which were unchanged and thus
> > could have hbmk2 a single call to conclude that the compilation /
> > linking - avoiding multiple calls to him and thus streamlining the
> > process.
>
> That's fine. But for any of such things you do not have to even
> know that harbour creates any different *.xyz temporary files.
> You only have to know that result of .prg compilation is .o[bj]
> file. One of the very important hbmk2 functionality should be
> direct support for harbour compiler and linker which can hide
> any platform differences so you can use it in other make files
> for your favorite make system, f.e. in GNU make:
>
>   %.obj : %.prg
>   hbmk2 -hbcmp -n -w -es2 -gc2 -o $@ $<
>
>   %.exe : %.obj
>   hbmk2 -hblnk -o $@ $<
>
> Of course you can also try to collect the list of files in some
> .hbp/.hbm script if you think it will be better for some reasons,
> f.e. due to command line size limitation but I cannot say too much
> about their syntax.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/c36695b5/attachment.html
From lorenzo.fiorini at gmail.com  Tue Mar  3 03:05:18 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar  3 03:05:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <18d502870903022306i142956d1l4c4656eae31843f9@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<18d502870903022306i142956d1l4c4656eae31843f9@mail.gmail.com>
Message-ID: <9257026e0903030005m26780829w1bc083a7dda45776@mail.gmail.com>

On Tue, Mar 3, 2009 at 8:06 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> -hbcmp will create .c files.
> -hbcc will create object / .res files.

These are the basic rules I use:

%.o: $(ROOT)%.prg
	hbcmp -km -w3 -es0 -q0 -n $?

%.o: $(ROOT)%.c
	hbcc -Wall -c $?

%.hrb: $(ROOT)%.prg
	hbcmp -km -w3 -es0 -q0 -gh -n $?

$(LIB_NAME) : $(OBJFILES) $(OBJCFILES)
	ar crs $(LIB_NAME) $?

$(EXE_NAME) : $(OBJFILES) $(LIBFILES)
	hblnk -o $(EXE_NAME) -shared $(GT_LIST) -gd -pgsql $(OBJFILES)


hbcmp = prg -> obj

hbcmp /gh = prg -> hrb

hbcc = c -> obj

hblnk = obj+lib -> exe

hbmk = prg -> exe

best regards,
Lorenzo
From niki at synel.co.il  Tue Mar  3 03:03:54 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar  3 03:07:18 2009
Subject: [Harbour] MinGW License Clarification
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B948@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor wrote:
> ...8 lines of advertising in all your messages is simply too much,
> please remove it somehow. It's distracting and unnecessary for Harbour.

And if we are on email ethics:
Please people, try to avoid auto-quoting entire threads, there is no real point
to quote over 100 lines of changlog or errlog, just to add one line of comment
at the beginning of the post.

Thanks,

  Chen.
From lorenzo.fiorini at gmail.com  Tue Mar  3 03:24:09 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar  3 03:24:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
Message-ID: <9257026e0903030024q7ae8c31bsc2319c56bff5b4f0@mail.gmail.com>

On Tue, Mar 3, 2009 at 8:52 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> BTW, why hbcc for Harbour compiler? 'hbcc' seems to imply "Harbour
> C Compiler", while 'hbcmp' seems to mean 'Harbour Compiler'.
> What are the reasons behind the names?

The job of hbcc is to hide the c compiler so you don't have to change
your makefiles if you change it.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Mar  3 03:28:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 03:28:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <9257026e0903030024q7ae8c31bsc2319c56bff5b4f0@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
	<9257026e0903030024q7ae8c31bsc2319c56bff5b4f0@mail.gmail.com>
Message-ID: <18d502870903030028p1875470cv2b8ae57039474abf@mail.gmail.com>

>
> > BTW, why hbcc for Harbour compiler? 'hbcc' seems to imply "Harbour
> > C Compiler", while 'hbcmp' seems to mean 'Harbour Compiler'.
> > What are the reasons behind the names?
>
> The job of hbcc is to hide the c compiler so you don't have to change
> your makefiles if you change it.


I think I understood it from your previous message, the
right answer is that both -hbcc and -hbcmp should do
_exactly the same_ in hbmk2. (produce object output).

[ hbmk2 handles .c .prg, etc inputs automatically and
calls Harbour only if needed. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/707ddd8e/attachment.html
From vailtom at gmail.com  Tue Mar  3 04:25:01 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Mar  3 04:25:05 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <293F283B3CDB47E9AA7699CFD96E6E10@brutus>
References: <293F283B3CDB47E9AA7699CFD96E6E10@brutus>
Message-ID: <531d7a750903030125h5a94b87hf2fdbb51e4c7ef3d@mail.gmail.com>

I dont see any error ... sure that the line of the error is this?

Vailton Renato

2009/3/3 Rossine <qiinfo@ig.com.br>:
> Hello,
>
> Because this line:
>
> ?? ::nStyle??? = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
> ???????????????????? If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
> ???????????????????? If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
> ???????????????????? If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
> ???????????????????? If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
> ???????????????????? If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
> ???????????????????? If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
> ???????????????????? If( lDesign, WS_CLIPSIBLINGS, 0 ) )
>
>
>
> generates this error:
>
> Error E0030? Syntax error "syntax error at 'L'"
>
> Regards,
>
> Rossine.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From vszakats at users.sourceforge.net  Tue Mar  3 04:27:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 04:27:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10512] trunk/harbour
Message-ID: <E1LeQuF-0005Py-9f@d5vjzd1.ch3.sourceforge.com>

Revision: 10512
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10512&view=rev
Author:   vszakats
Date:     2009-03-03 09:27:13 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 10:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    - Bison requirement moved next to the parser related option, 
      to not cause any unnecessary confusion.

  * utils/hbmk2/hbmk2.prg
    * Made -hbcc and -hbcmp to behave the same. They'll no both 
      generate objects.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  3 04:44:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 04:44:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10513] trunk/harbour
Message-ID: <E1LeRAf-0005ik-8Y@d5vjzd1.ch3.sourceforge.com>

Revision: 10513
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10513&view=rev
Author:   vszakats
Date:     2009-03-03 09:44:16 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 10:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Now hbmk will show the filename of each processed .hbp file.
    * Changed -quiet meaning: it will now suppress above messages.

  * ChangeLog
    + Added new line for previous entry about new --version option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar  3 06:02:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 06:03:02 2009
Subject: [Harbour] How to build Demoxbp.prg ?
In-Reply-To: <22267338.post@talk.nabble.com>
References: <000001c999bc$b9957150$2cc053f0$@com>
	<22264029.post@talk.nabble.com> <002301c999d8$451fafe0$cf5f0fa0$@com>
	<22267338.post@talk.nabble.com>
Message-ID: <609353e70903030302y2b91c81jf328ce8b047bddc1@mail.gmail.com>

Hi Pritpal
Is is a very Good news see that In near future you have more spare
time for XbpParts!.
Here my dreamlist in order of importance

-Implement support for relative and absolute coordinate  by wvw_setmaincoord
 with with function most gtwvw user/application will migrate to gtwvg
@ 5,5 box 7,40
@ 6,6 SAY "Number" get number
read

will be converted
wvw_setmaincoord(.t.)
WINDO=WVW_nOpenWindow("", 5, 5, 7, 40)
@ 5,5 box 7,40  // 5 can be 5 column from last windows or from  main
screen and this is goog for easy converting existing program
@ 6,6 SAY "Number" get number
read
WVW_lCloseWindow(WINDO)

WVW_nOpenWindow and WVW_lCloseWindow can be easy wrappered i have
already made something
see \xharbour\contrib\gtwvw\doc\funclist for documented function


-Implement in  gtwvg capabilty to mix gui and cui in same screen
integrating GUI with CUI
 Afaik similar feature is implemented in clip2win using oohg and in
xbase 1.9 SL1
xbase++ 1.9 sl1 you can still mix traditional SAY/GET or TBrowse()
with Graphical User Interface elements
The SL1 provides a 2nd parameter to Thread():New() to give a thread a name.
This is verry helpfull in debugging, and error logs.


Best Regard
2009/2/28 Pritpal Bedi <bedipritpal@hotmail.com>:

> In this demo all those XbpParts are implemented which
> are developed to a reasonable extent. The demo itself has
> a list of them. In near future I have more spare time to
> devote to develop remaining parts.
>
> Regards
> Pritpal Bedi, INDIA

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Mar  3 06:05:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 06:05:23 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
Message-ID: <609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>

Will be same thinkg #defined missed by #include
try generate ppo

2009/3/3 Rossine <qiinfo@ig.com.br>:
> Hello,
>
> Because this line:
>
> ?? ::nStyle??? = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
> ???????????????????? If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
> ???????????????????? If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
> ???????????????????? If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
> ???????????????????? If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
> ???????????????????? If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
> ???????????????????? If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
> ???????????????????? If( lDesign, WS_CLIPSIBLINGS, 0 ) )
>
> generates this error:
>
> Error E0030? Syntax error "syntax error at 'L'"
>
> Regards,
>
> Rossine.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From toninhofwi at yahoo.com.br  Tue Mar  3 06:16:28 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Mar  3 06:13:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10508] trunk/harbour
In-Reply-To: <20090302215319.GA27031@uran.home.aster.pl>
References: <E1LeEfm-0008DF-Js@3kljzd1.ch3.sourceforge.com>
	<q8hoq4p9fp9c3cq7o8g9ckueifiid1tss3@4ax.com>
	<20090302215319.GA27031@uran.home.aster.pl>
Message-ID: <c74qq4dsg4vjo8ia3mcur47pt0a80vi0ck@4ax.com>

Hi Przemek,

>Do you know what -n switch does in Clipper and harbour?
Yes, I use it, I?m only confused about -n2.

Thank you for this great explanation.

Regards,

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From druzus at acn.waw.pl  Tue Mar  3 06:39:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar  3 06:34:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
Message-ID: <20090303113939.GA9063@uran.home.aster.pl>

On Tue, 03 Mar 2009, Szak?ts Viktor wrote:

Hi,

> I've checked the source of hbmk script and hbmk2 was right the first time, so
> I will change it back, but in this case I don't understand point 1. and 2.
> of your bug report.

I was looking for the form to create t1.o file from t1.prg and t2.o file
from t2.c so I tried different combinations to check what hbmk2 does.
Any of them made what I needed. That's all.

> BTW, why hbcc for Harbour compiler? 'hbcc' seems to imply "Harbour
> C Compiler", while 'hbcmp' seems to mean 'Harbour Compiler'.
> What are the reasons behind the names?

Exactly the same as in doc/howtobld.txt:

   "hbcc" is a wrapper to the C compiler only. It sets all flags
   and paths necessary to compile .c files which include Harbour header
   files. The result of its work is an object file.

   Use "hbcmp" exactly as you would use the harbour compiler itself.
   The main difference with hbcmp is that it results in an object file,
   not a C file that needs compiling down to an object. hbcmp also
   ensures that the harbour include directory is seen by the harbour compiler.

   "hblnk" simply takes a list of object files and links them together
   with the harbour virtual machine and run-time library to produce an
   executable. The executable will be given the basename of the first object
   file if not directly set by the "-o" command line switch.

hbcc as script cannot be used for .prg files so here you can extend it
and add such support generating .c file as result of Harbour compiler
execution but this will be an hbmk2 extension.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Mar  3 06:42:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar  3 06:36:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <18d502870903030028p1875470cv2b8ae57039474abf@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
	<9257026e0903030024q7ae8c31bsc2319c56bff5b4f0@mail.gmail.com>
	<18d502870903030028p1875470cv2b8ae57039474abf@mail.gmail.com>
Message-ID: <20090303114211.GB9063@uran.home.aster.pl>

On Tue, 03 Mar 2009, Szak?ts Viktor wrote:

Hi,

> I think I understood it from your previous message, the
> right answer is that both -hbcc and -hbcmp should do
> _exactly the same_ in hbmk2. (produce object output).

Not exactly.
hbcc should call C compiler for but the result will depend on
used switches. It can be .o file, library or final executable.
It doesn't matter for you and hbmk2 code.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Mar  3 06:49:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 06:49:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <20090303113939.GA9063@uran.home.aster.pl>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
	<20090303113939.GA9063@uran.home.aster.pl>
Message-ID: <609353e70903030349w4c49ce28m72a7f46366a75ca5@mail.gmail.com>

Using this wrapper is easy usable for universal interface for xmate
(hbmk) C_COMP,C_LINK,C_DLL but not have a wrapper for  C_LIB_ & C_RC_
I hope that i  have understand correctly
Have same you a suggestion Przemyslaw ?

---------------C section of  Borland c env ------------------------------------
C_COMP_COMMAND=%C_BIN_INSTALL%\Bcc32.Exe %CRLF% -c -O2 -OS -d -5 -6
-a8 %CRLF% -I%HB_INC_INSTALL%;%C_INC_INSTALL% %CRLF% -n%OBJDIR% %C%
C_LINK_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -ap -Tpe /I%DBGDIR%
/L%HB_LIB_INSTALL% %CRLF%@%LNK%
C_DLL_COMMAND=%C_BIN_INSTALL%\iLink32.Exe -Gn -aa -Tpd -M
-L%C_LIB_INSTALL% @%LNK%

C_LIB_COMMAND=%C_BIN_INSTALL%\TLib.Exe %LIB% /P512 @%RSP% , %LST%
C_RC_COMMAND=%C_BIN_INSTALL%\Brc32.Exe -r  -fo%RES%  %RC%

2009/3/3 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Tue, 03 Mar 2009, Szak?ts Viktor wrote:
>
>
> ? "hbcc" is a wrapper to the C compiler only. It sets all flags
> ? and paths necessary to compile .c files which include Harbour header
> ? files. The result of its work is an object file.
>
> ? Use "hbcmp" exactly as you would use the harbour compiler itself.
> ? The main difference with hbcmp is that it results in an object file,
> ? not a C file that needs compiling down to an object. hbcmp also
> ? ensures that the harbour include directory is seen by the harbour compiler.
>
> ? "hblnk" simply takes a list of object files and links them together
> ? with the harbour virtual machine and run-time library to produce an
> ? executable. The executable will be given the basename of the first object
> ? file if not directly set by the "-o" command line switch.
>
> hbcc as script cannot be used for .prg files so here you can extend it
> and add such support generating .c file as result of Harbour compiler
> execution but this will be an hbmk2 extension.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Mar  3 06:55:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 06:55:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <20090303113939.GA9063@uran.home.aster.pl>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
	<20090303113939.GA9063@uran.home.aster.pl>
Message-ID: <18d502870903030355x6881410bp72e3a6bfee835bb7@mail.gmail.com>

>
> hbcc as script cannot be used for .prg files so here you can extend it
> and add such support generating .c file as result of Harbour compiler
> execution but this will be an hbmk2 extension.


I was thinking adding a new modifier flag to produce .c output from .prg.
Using hbcc is confusing IMO.

I've been using this feature for debugging, and sometimes it might be
useful for users. Dunno what name to use though. -hbcmp and -hblnk is
redundant now, so -hbcmp would be an obvious choice, but this breaks
full script compatibility, so maybe in next version. But in any case I'd
like
to see first how things will look after replacing current hbmk script with
hbmk2.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/2a9fb903/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 07:39:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 07:39:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <609353e70903030349w4c49ce28m72a7f46366a75ca5@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
	<20090303113939.GA9063@uran.home.aster.pl>
	<609353e70903030349w4c49ce28m72a7f46366a75ca5@mail.gmail.com>
Message-ID: <18d502870903030439uec81e96k799e9b19162790e3@mail.gmail.com>

On Tue, Mar 3, 2009 at 12:49 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Using this wrapper is easy usable for universal interface for xmate
> (hbmk) C_COMP,C_LINK,C_DLL but not have a wrapper for  C_LIB_ & C_RC_
> I hope that i  have understand correctly
> Have same you a suggestion Przemyslaw ?


Sorry I don't use xMate.


> C_LIB_COMMAND=%C_BIN_INSTALL%\TLib.Exe %LIB% /P512 @%RSP% , %LST%
>

Lib (and dll) creation aren't yet supported in hbmk2, as you may already
know. Although if it's urgent, anybody just feel free to implement
it. For me
it's much more important to have 1.1 released with a stable hbmk.

C_RC_COMMAND=%C_BIN_INSTALL%\Brc32.Exe -r  -fo%RES%  %RC%
>

Resources are compiled into .res if you use -hbcc option, and .res files
will be linked to executable if you pass them to hbmk in default mode.
Please test it this way and report your results.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/c52f5445/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 08:27:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 08:27:22 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <3F115E1E79D942D482E84F6BB236ED79@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
Message-ID: <18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>

Well, it happened here just now, it's found the TLIB.EXE I've placed in PATH
after BCC.

Anyone with an idea?

Brgds,
Viktor

On Mon, Mar 2, 2009 at 12:25 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: luned? 2 marzo 2009 11.48
> Oggetto: Re: [Harbour] Problem in latest SVN
>
>
>  I've just put TLIB.EXE (DOS) in my PATH after BCC and it
>> wasn't executed by MinGW make (v 3.81).
>>
>
> I have MinGW make and old tlib.exe in the same dir. Anyway, as I said, it
> was working fine a couple of days ago.
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/e87d3b34/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 08:29:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 08:29:25 2009
Subject: [Harbour] patch to create executables under bin/<arch>/<com>/
Message-ID: <18d502870903030529x28f746bcr716ceded8d8f9281@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: bindir.dif
Type: application/octet-stream
Size: 3942 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/03ec98a4/bindir.obj
From maurilio.longo at libero.it  Tue Mar  3 08:40:47 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  3 08:40:56 2009
Subject: [Harbour] hbmk2 without extension
Message-ID: <49AD335F.7020006@libero.it>

Hi Viktor,

latest cvs, os/2 gcc, I issue:

hbmk2 vidtest

this is what I get:

(E:\REPOSITORY\harbour\tests)hbmk2 vidtest
hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
Harbour 1.1.0dev (Rev. 10513)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'vidtest.prg'...
Lines 299, Functions/Procedures 6
Generating C source output to 'vidtest.c'... Done.
E:\SVILUPPO\GCC\V3.3.5\USR\i386-pc-os2-emx\bin\nm.exe: vidtest: No such file or
directory

But, If I issue:

hbmk2 vidtest.prg

it works ok and builds the executable.

Any idea? Do I have to dig deeper?

Best regards.

Maurilio.

PS. I don't know what is that 'nm.exe' which gets called.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From qiinfo at ig.com.br  Tue Mar  3 08:48:56 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 08:49:01 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
Message-ID: <22308935.post@talk.nabble.com>


Hello Massimo,

Here you have a complete example:

[CODE]
#include "FiveWin.ch"
#include "hbclass.ch"
#include "Constant.ch"
#include "Set.ch"
#include "wcolors.ch"
#include "fget.ch"

#ifdef __HARBOUR__
#ifndef __XHARBOUR__

   #include "\harbour\contrib\xhb\xhbcls.ch"  

#endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

*******************
function MY_CLASSES
*******************

override method New in class TButton with TButtonNew

return NIL

#define BS_LEFT         0x00000100L
#define BS_RIGHT        0x00000200L
#define BS_TOP          0x00000400L
#define BS_BOTTOM       0x00000800L
#define BS_CENTER       0x00000300L
#define BS_VCENTER      0x00000C00L
#define BS_MULTILINE    0x00002000L

******************************* TButton
static function TButtonNew( nRow, nCol, cCaption, oWnd, bAction, nWidth,
nHeight, ;
                            nHelpId, oFont, lDefault, lPixel, lDesign,
cMsg,;
                            lUpdate, bWhen, bValid, lCancel, cPosText )
*******************************

   local Self  := HB_QSelf()

   #ifndef FWPLUS
      local nFntWidth, nFntHeight
   #endif

   DEFAULT nRow     := 0, nCol := 0,;
           cCaption := "&Button",;
           oWnd     := GetWndDefault(),;
           oFont    := oWnd:oFont,;
           nHelpId  := 100,;
           lDefault := .f., lPixel := .f., lDesign := .f., lUpdate := .f.,;
           lCancel  := .f., cPosText := ""

   #ifndef FWPLUS
      DEFAULT nWidth   := Max( Len( cCaption ) * BTN_CHARPIX_W, 30 ),;
              nHeight  := BTN_CHARPIX_H - 5
   #endif

   ::cCaption := If( cPosText == "TEXTRIGHT", strtran( cCaption + " ", CRLF,
" " + CRLF ), cCaption )

   #ifdef FWPLUS
      x2RowCol(@nRow, @nCol, @nHeight, @nWidth, lPixel, Self, oWnd)

      ::nTop      = nRow
      ::nLeft     = nCol
      ::nBottom   = ::nTop  + nHeight - 1
      ::nRight    = ::nLeft + nWidth  - 1
   #else
      ::nTop      = nRow * If( ! lPixel, BTN_CHARPIX_H, 1 )
      ::nLeft     = nCol * If( ! lPixel, BTN_CHARPIX_W, 1 )
      ::nBottom   = ::nTop  + nHeight
      ::nRight    = ::nLeft + nWidth
   #endif

   ::nHelpId   = nHelpId
   ::bAction   = bAction
   ::oWnd      = oWnd
   ::oFont     = oFont

   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
                     If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
                     If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
                     If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
                     If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
                     If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
                     If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
                     If( lDesign, WS_CLIPSIBLINGS, 0 ) )

   ::nId       = ::GetNewId()
   ::lDrag     = lDesign
   ::lCaptured = .f.
   ::cMsg      = cMsg
   ::lUpdate   = lUpdate
   ::bWhen     = bWhen
   ::bValid    = bValid
   ::lDefault  = lDefault
   ::lCancel   = lCancel
   ::lProcessing = .f.

   if ! Empty( oWnd:hWnd )
      ::Create( "BUTTON" )
      oWnd:AddControl( Self )
      if oFont != nil
         ::SetFont( oFont )
      endif
   else
      oWnd:DefControl( Self )
   endif

   if lDesign
      ::CheckDots()
   endif

return Self

&&----------------------------------------------------------------------------&&
[/CODE]


...and generate this error:

Harbour 1.1.0dev (Rev. 10507)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'myc.prg'...
myc.prg(85) Error E0030  Syntax error "syntax error at 'L'"
1 error

No code generated

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-Error-E0030-tp22302416p22308935.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Mar  3 09:03:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 09:03:45 2009
Subject: [Harbour] hbmk2 without extension
In-Reply-To: <49AD335F.7020006@libero.it>
References: <49AD335F.7020006@libero.it>
Message-ID: <18d502870903030603h48d45b42v4c017de332c62d99@mail.gmail.com>

Hi Maurilio,
Could you post your output using -trace switch?

Brgds,
Viktor

On Tue, Mar 3, 2009 at 2:40 PM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Hi Viktor,
>
> latest cvs, os/2 gcc, I issue:
>
> hbmk2 vidtest
>
> this is what I get:
>
> (E:\REPOSITORY\harbour\tests)hbmk2 vidtest
> hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
> Harbour 1.1.0dev (Rev. 10513)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'vidtest.prg'...
> Lines 299, Functions/Procedures 6
> Generating C source output to 'vidtest.c'... Done.
> E:\SVILUPPO\GCC\V3.3.5\USR\i386-pc-os2-emx\bin\nm.exe: vidtest: No such
> file or
> directory
>
> But, If I issue:
>
> hbmk2 vidtest.prg
>
> it works ok and builds the executable.
>
> Any idea? Do I have to dig deeper?
>
> Best regards.
>
> Maurilio.
>
> PS. I don't know what is that 'nm.exe' which gets called.
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/9df55cce/attachment.html
From qiinfo at ig.com.br  Tue Mar  3 09:15:18 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 09:15:23 2009
Subject: [Harbour] Errors in xhb.lib
In-Reply-To: <18d502870903020913vcb0e683k6394092390088a6@mail.gmail.com>
References: <b3b25b30903020855g572af872hc97cf7bb4d8c98ba@mail.gmail.com>
	<18d502870903020913vcb0e683k6394092390088a6@mail.gmail.com>
Message-ID: <22309374.post@talk.nabble.com>


Hello Viktor, 

The problem was in charge of compilation. I was doing this 

my_bat TEST \harbour\lib\xhb.lib 

... and the truth is "\harbour\lib\xhb.lib" stay within my_bat.bat 

With this, now this error no longer occurs.

Regards,

Rossine.


Viktor Szak?ts wrote:
> 
> Hi Rossine,
> 
>  ..\include\FiveWin.ch(87) Warning W0001  Redefinition or duplicate
>> definition of #define HB_SYMBOL_UNUSED
>>
> 
> This should be fixed in FiveWin, it's a symbol in Harbour
> namespace, so FW should either check if it isn't already defined,
> or alternatively use FW_SYMBOL_UNUSED() for its own code.
> 
> \harbour\lib\xhb.lib(1) Error E0001  Statement not allowed outside of
>> procedure or function
>> \harbour\lib\xhb.lib(2) Error E0002  Unterminated string ''
>>
> 
> You seem to try compiling a .lib file using the Harbour compiler.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Errors-in-xhb.lib-tp22292130p22309374.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Tue Mar  3 09:17:24 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 09:17:27 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090302220701.GC27031@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
Message-ID: <22309407.post@talk.nabble.com>


Hi Przemek,

Now this works fine. This wonderful example. 

Regards, 

Rossine.


Przemyslaw Czerpak-2 wrote:
> 
> On Mon, 02 Mar 2009, Rossine wrote:
> 
> Hi,
> 
>> I am new in this list, and use xhb.com and I am currently migrating my
>> application to harbour + MSVC. Use in my system files. "HRB" and is
>> experiencing an error of execution in this example:
>> [CODE]
>> function main
>> CLS
>> CONTENT = hb_decrypt (memoread ( "myhrb.hrb), 123)
>> HANDLE_HRB: = HB_hrbload (content)
>> HB_HRBUNLOAD (HANDLE_HRB)
>> return NIL
>> [ENDCODE]
>> Error generated:
>> Error BASE/9998 Argument error: HB_HRBLOAD
>> Called from HB_HRBLOAD (0)
>> Called from MAIN (7)
>> This usually works with xhb.com. What is the correct way to do this, or
>> could do in this harbor?
> 
> In Harbour it will work in the same way. Below is code example.
> But I see one problem in above code.
> hb_crypt()/hb_decrypt() are xHarbour functions which in Harbour
> exists in XHB library. They are copied from xHarbour as is also
> with bugs. One of such bugs is passing non string or empty string
> as the encryption key. In such case hb_crypt() access uninitialized
> memory and can create random results though it's possible that
> they will be repeatable with single binaries. It's very serious bug.
> Always use some nonempty string keys if you want to use these functions
> or use some other ones, f.e. sx_encrypt()/sx_decrypt() in example below.
> 
> best regards,
> Przemek
> 
> 
> #define EOL chr(10)
> proc main
>    local CONTENT, HANDLE_HRB, PRG, HRBCODE
> 
>    PRG := ;
>       "proc p()" + EOL + ;
>       "   ? 'Hello World'" + EOL + ;
>       "   alert( 'Hello World' )" + EOL + ;
>       "return"
>    HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2",
> "-q0" )
>    memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) )
> 
>    CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" )
>    HANDLE_HRB := hb_hrbload( CONTENT )
>    hb_hrbDo( HANDLE_HRB )
>    hb_hrbunload( HANDLE_HRB )
>    WAIT
> return
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22309407.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Tue Mar  3 09:17:45 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Mar  3 09:17:55 2009
Subject: [Harbour] hbmk2 without extension
In-Reply-To: <18d502870903030603h48d45b42v4c017de332c62d99@mail.gmail.com>
References: <49AD335F.7020006@libero.it>
	<18d502870903030603h48d45b42v4c017de332c62d99@mail.gmail.com>
Message-ID: <49AD3C09.5090708@libero.it>

Viktor,

I had not noticed that it did build vidtest.exe even in the first case!? :)
Anyway, here with trace:

--------------8<------------------
(E:\REPOSITORY\harbour\tests)hbmk2 -trace vidtest
hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
hbmk: Harbour compiler command:
e:\harbour\bin\harbour.exe -n2 vidtest -ie:\harbour\include
Harbour 1.1.0dev (Rev. 10513)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'vidtest.prg'...
Lines 299, Functions/Procedures 6
Generating C source output to 'vidtest.c'... Done.
E:\SVILUPPO\GCC\V3.3.5\USR\i386-pc-os2-emx\bin\nm.exe: vidtest: No such file or
directory
hbmk: C compiler command:
gcc.exe vidtest.c  -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -o vidtest.exe -Ie:\h
arbour\include -Le:\harbour\lib -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug
 -lhbvm -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx
 -lrddfpt -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtos2 -l
hbcommon -lhbrtl -lhbvm -lhbpcre -lhbzlib -lsocket
------------->8-----------------

So it seems that without extension it simply calls a program that does nothing
apart from spitting an error message :)

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Could you post your output using -trace switch?
> 
> Brgds,
> Viktor
> 
> On Tue, Mar 3, 2009 at 2:40 PM, Maurilio Longo <maurilio.longo@libero.it
> <mailto:maurilio.longo@libero.it>> wrote:
> 
>     Hi Viktor,
> 
>     latest cvs, os/2 gcc, I issue:
> 
>     hbmk2 vidtest
> 
>     this is what I get:
> 
>     (E:\REPOSITORY\harbour\tests)hbmk2 vidtest
>     hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
>     Harbour 1.1.0dev (Rev. 10513)
>     Copyright (c) 1999-2009, http://www.harbour-project.org/
>     Compiling 'vidtest.prg'...
>     Lines 299, Functions/Procedures 6
>     Generating C source output to 'vidtest.c'... Done.
>     E:\SVILUPPO\GCC\V3.3.5\USR\i386-pc-os2-emx\bin\nm.exe: vidtest: No
>     such file or
>     directory
> 
>     But, If I issue:
> 
>     hbmk2 vidtest.prg
> 
>     it works ok and builds the executable.
> 
>     Any idea? Do I have to dig deeper?
> 
>     Best regards.
> 
>     Maurilio.
> 
>     PS. I don't know what is that 'nm.exe' which gets called.
> 
>     --
>      __________
>     |  |  | |__| Maurilio Longo
>     |_|_|_|____| farmaconsult s.r.l.
> 
> 
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Tue Mar  3 09:24:42 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 09:24:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10509] trunk/harbour
In-Reply-To: <18d502870903030439uec81e96k799e9b19162790e3@mail.gmail.com>
References: <E1LeGd9-000396-Py@dn4whf1.ch3.sourceforge.com>
	<531d7a750903021617l1730100dk8ef8d7c7de26c4d0@mail.gmail.com>
	<20090303003841.GA22555@uran.home.aster.pl>
	<531d7a750903021703p687ed0e7gc4aad2b3af085e73@mail.gmail.com>
	<20090303012848.GA23025@uran.home.aster.pl>
	<18d502870903022352g22b77490m83da2c1592557a60@mail.gmail.com>
	<20090303113939.GA9063@uran.home.aster.pl>
	<609353e70903030349w4c49ce28m72a7f46366a75ca5@mail.gmail.com>
	<18d502870903030439uec81e96k799e9b19162790e3@mail.gmail.com>
Message-ID: <609353e70903030624xc3f03cbp7476a7926b56d6f@mail.gmail.com>

2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:

> Lib (and dll) creation aren't yet supported in hbmk2, as you may already
> know.?Although if it's urgent, anybody just feel free to implement
> it.?For?me
> it's?much more important to have 1.1 released with a stable hbmk.

Totally agree
I am thinking for a 1.2 version, or for samebody know same unknow
universal tools who can be used for now

> Resources are compiled into .res if you use -hbcc option, and .res?files
> will be linked to executable if you pass them to hbmk in default?mode.
> Please test it this way and report your results.

Thanks for info
is possible having a sample in tests who use res so i can made same test

-- 
Massimo Belgrano
From niki at synel.co.il  Tue Mar  3 09:25:02 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar  3 09:28:28 2009
Subject: [Harbour] About Error E0030
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B94A@Mail-yoq.SYNEL-COMPANY.LTD>

Rossine,

> Here you have a complete example:
> :
> ...and generate this error:
> Harbour 1.1.0dev (Rev. 10507)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'myc.prg'...
> myc.prg(85) Error E0030  Syntax error "syntax error at 'L'"

Maybe one of the include files you are using try to pre-process "lDefault" as "Default".
Might be a mix-up between #define / #xtranslate / #xcommand

Try to compile your program with: harbour myc.prg /n /p
and look at the myc.ppo created.


  Chen.
From qiinfo at ig.com.br  Tue Mar  3 09:28:52 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 09:28:56 2009
Subject: [Harbour] about "extend class"
Message-ID: <22309603.post@talk.nabble.com>


Hi,

Using "Extend class", I came across an error. Using this: 

extend class TCombobox message with GETDROPPEDWIDTH (n)   Inline:: SendMsg
(CB_GETDROPPEDWIDTH, 0, 0) 

... works, but I do see that this "GETDROPPEDWIDTH (n)", and not use "n"
anywhere. This command should accept "GETDROPPEDWIDTH ()". See the complete
code: 

[CODE]
#include "FiveWin.ch"

#ifdef __HARBOUR__
#ifndef __XHARBOUR__

   #include "\harbour\contrib\xhb\xhbcls.ch"

#endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

#define COMBO_BASE             WM_USER
#define CB_GETDROPPEDWIDTH     ( COMBO_BASE + 25 )  && 339

*******************
function MY_CLASSES
*******************

extend   class  TCombobox with message GETDROPPEDWIDTH( n )           
inline ::SendMsg( CB_GETDROPPEDWIDTH, 0, 0 )    && This works

*extend   class  TCombobox with message GETDROPPEDWIDTH()            inline
::SendMsg( CB_GETDROPPEDWIDTH, 0, 0 )    && This not works

return NIL
[ENDCODE]


...and generate this error:

Harbour 1.1.0dev (Rev. 10507)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'myc1.prg'...
myc1.prg(19) Error E0030  Syntax error "syntax error at 'CLASS'"
1 error

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/about-%22extend-class%22-tp22309603p22309603.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Mar  3 09:29:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 09:29:05 2009
Subject: [Harbour] hbmk2 without extension
In-Reply-To: <49AD3C09.5090708@libero.it>
References: <49AD335F.7020006@libero.it>
	<18d502870903030603h48d45b42v4c017de332c62d99@mail.gmail.com>
	<49AD3C09.5090708@libero.it>
Message-ID: <18d502870903030629i1369dcc8xcd8d09e414e5920b@mail.gmail.com>

>
> I had not noticed that it did build vidtest.exe even in the first case!? :)
> Anyway, here with trace:


Thank you. Yes, this is the MAIN entry detection code kicking in,
but I missed the case when no extension is given and the filename
gets passed to the detection routine as is, without .c extension.

Pls change line 1538 from this:
         tmp := iif( Lower( FN_ExtGet( s_cFIRST ) ) == ".prg", FN_ExtSet(
s_cFIRST, ".c" ), s_cFIRST )
to this:
         tmp := iif( Lower( FN_ExtGet( s_cFIRST ) ) == ".prg" .OR. Empty(
FN_ExtGet( s_cFIRST ) ), FN_ExtSet( s_cFIRST, ".c" ), s_cFIRST )

I'll commit a fix after getting some feedback on pending make file patch.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/c8b15f8d/attachment.html
From abe.buch at att.net  Tue Mar  3 09:43:03 2009
From: abe.buch at att.net (AbeB)
Date: Tue Mar  3 09:43:07 2009
Subject: [Harbour] latest SVN: can't get rddads to build
Message-ID: <1236091383150-2415540.post@n2.nabble.com>


i'v set HB_CONTRIBLIBS=rddads
but still get
"The 'rddads' library ignored."
-- 
View this message in context: http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2415540.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Tue Mar  3 09:44:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 09:44:22 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <22308935.post@talk.nabble.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
	<22308935.post@talk.nabble.com>
Message-ID: <609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>

Sorry but i  not have fiwewin
Can you post ppo or row adjacent to  myc.prg(85) ?
Can you remove fivewin from your test so i can try?

2009/3/3 Rossine <qiinfo@ig.com.br>:
>
> Hello Massimo,
>
> Here you have a complete example:
>
> [CODE]
> #include "FiveWin.ch"
> #include "hbclass.ch"
> #include "Constant.ch"
> #include "Set.ch"
> #include "wcolors.ch"
> #include "fget.ch"
>
> #ifdef __HARBOUR__
> #ifndef __XHARBOUR__
>
> ? #include "\harbour\contrib\xhb\xhbcls.ch"
>
> #endif /* __XHARBOUR__ */
> #endif /* __HARBOUR__ */
>
> *******************
> function MY_CLASSES
> *******************
>
> override method New in class TButton with TButtonNew
>
> return NIL
>
> #define BS_LEFT ? ? ? ? 0x00000100L
> #define BS_RIGHT ? ? ? ?0x00000200L
> #define BS_TOP ? ? ? ? ?0x00000400L
> #define BS_BOTTOM ? ? ? 0x00000800L
> #define BS_CENTER ? ? ? 0x00000300L
> #define BS_VCENTER ? ? ?0x00000C00L
> #define BS_MULTILINE ? ?0x00002000L
>
> ******************************* TButton
> static function TButtonNew( nRow, nCol, cCaption, oWnd, bAction, nWidth,
> nHeight, ;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ?nHelpId, oFont, lDefault, lPixel, lDesign,
> cMsg,;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ?lUpdate, bWhen, bValid, lCancel, cPosText )
> *******************************
>
> ? local Self ?:= HB_QSelf()
>
> ? #ifndef FWPLUS
> ? ? ?local nFntWidth, nFntHeight
> ? #endif
>
> ? DEFAULT nRow ? ? := 0, nCol := 0,;
> ? ? ? ? ? cCaption := "&Button",;
> ? ? ? ? ? oWnd ? ? := GetWndDefault(),;
> ? ? ? ? ? oFont ? ?:= oWnd:oFont,;
> ? ? ? ? ? nHelpId ?:= 100,;
> ? ? ? ? ? lDefault := .f., lPixel := .f., lDesign := .f., lUpdate := .f.,;
> ? ? ? ? ? lCancel ?:= .f., cPosText := ""
>
> ? #ifndef FWPLUS
> ? ? ?DEFAULT nWidth ? := Max( Len( cCaption ) * BTN_CHARPIX_W, 30 ),;
> ? ? ? ? ? ? ?nHeight ?:= BTN_CHARPIX_H - 5
> ? #endif
>
> ? ::cCaption := If( cPosText == "TEXTRIGHT", strtran( cCaption + " ", CRLF,
> " " + CRLF ), cCaption )
>
> ? #ifdef FWPLUS
> ? ? ?x2RowCol(@nRow, @nCol, @nHeight, @nWidth, lPixel, Self, oWnd)
>
> ? ? ?::nTop ? ? ?= nRow
> ? ? ?::nLeft ? ? = nCol
> ? ? ?::nBottom ? = ::nTop ?+ nHeight - 1
> ? ? ?::nRight ? ?= ::nLeft + nWidth ?- 1
> ? #else
> ? ? ?::nTop ? ? ?= nRow * If( ! lPixel, BTN_CHARPIX_H, 1 )
> ? ? ?::nLeft ? ? = nCol * If( ! lPixel, BTN_CHARPIX_W, 1 )
> ? ? ?::nBottom ? = ::nTop ?+ nHeight
> ? ? ?::nRight ? ?= ::nLeft + nWidth
> ? #endif
>
> ? ::nHelpId ? = nHelpId
> ? ::bAction ? = bAction
> ? ::oWnd ? ? ?= oWnd
> ? ::oFont ? ? = oFont
>
> ? ::nStyle ? ?= nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
> ? ? ? ? ? ? ? ? ? ? If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
> ? ? ? ? ? ? ? ? ? ? If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
> ? ? ? ? ? ? ? ? ? ? If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
> ? ? ? ? ? ? ? ? ? ? If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
> ? ? ? ? ? ? ? ? ? ? If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
> ? ? ? ? ? ? ? ? ? ? If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
> ? ? ? ? ? ? ? ? ? ? If( lDesign, WS_CLIPSIBLINGS, 0 ) )
>
> ? ::nId ? ? ? = ::GetNewId()
> ? ::lDrag ? ? = lDesign
> ? ::lCaptured = .f.
> ? ::cMsg ? ? ?= cMsg
> ? ::lUpdate ? = lUpdate
> ? ::bWhen ? ? = bWhen
> ? ::bValid ? ?= bValid
> ? ::lDefault ?= lDefault
> ? ::lCancel ? = lCancel
> ? ::lProcessing = .f.
>
> ? if ! Empty( oWnd:hWnd )
> ? ? ?::Create( "BUTTON" )
> ? ? ?oWnd:AddControl( Self )
> ? ? ?if oFont != nil
> ? ? ? ? ::SetFont( oFont )
> ? ? ?endif
> ? else
> ? ? ?oWnd:DefControl( Self )
> ? endif
>
> ? if lDesign
> ? ? ?::CheckDots()
> ? endif
>
> return Self
>
> &&----------------------------------------------------------------------------&&
> [/CODE]
>
>
> ...and generate this error:
>
> Harbour 1.1.0dev (Rev. 10507)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'myc.prg'...
> myc.prg(85) Error E0030 ?Syntax error "syntax error at 'L'"
> 1 error
>
> No code generated
>
> Regards,
>
> Rossine.
>
> --
> View this message in context: http://www.nabble.com/About-Error-E0030-tp22302416p22308935.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From lorenzo.fiorini at gmail.com  Tue Mar  3 09:47:45 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar  3 09:47:50 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <1236091383150-2415540.post@n2.nabble.com>
References: <1236091383150-2415540.post@n2.nabble.com>
Message-ID: <9257026e0903030647p6aabac44h98ad379dbb5c50e6@mail.gmail.com>

On Tue, Mar 3, 2009 at 3:43 PM, AbeB <abe.buch@att.net> wrote:

> i'v set HB_CONTRIBLIBS=rddads
> but still get
> "The 'rddads' library ignored."

>From the INSTALL:

...
HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD
==============================================
...
   You can set these environment variables before starting
   the build. Make sure to adjust them to your own dirs:

   HB_INC_ADS=C:\ads\acesdk
...

Probably it helps.

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Tue Mar  3 09:55:37 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar  3 09:55:42 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
Message-ID: <61F5E9E44FBE45B3A8C0E81718E61C7D@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 3 marzo 2009 14.27
Oggetto: Re: [Harbour] Problem in latest SVN


> Well, it happened here just now, it's found the TLIB.EXE I've placed in 
> PATH
> after BCC.
>
> Anyone with an idea?

Sorry, no... :-(

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Mar  3 09:59:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 10:00:05 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <1236091383150-2415540.post@n2.nabble.com>
References: <1236091383150-2415540.post@n2.nabble.com>
Message-ID: <18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>

Hi,
set HB_INC_ADS=C:\ads\acesdk

Pls check "HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD" inside /INSTALL.

Brgds,
Viktor

On Tue, Mar 3, 2009 at 3:43 PM, AbeB <abe.buch@att.net> wrote:

>
> i'v set HB_CONTRIBLIBS=rddads
> but still get
> "The 'rddads' library ignored."
> --
> View this message in context:
> http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2415540.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/b880b5d7/attachment.html
From mbelgrano at deltain.it  Tue Mar  3 10:07:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 10:07:49 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <1236091383150-2415540.post@n2.nabble.com>
References: <1236091383150-2415540.post@n2.nabble.com>
Message-ID: <609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>

i am using this
 set HB_DIR_IMPLIB=yes
SET HB_DIR_ADS=%"ProgramFiles%\Extended Systems\Advantage 8.1\acesdk"
and compile harbour with new make system
"call make_gnu.bat clean install"

This is from changelog
   + Added option to copy import libs belonging to
     external tools for msvc and bcc32 to HB_LIB_INSTALL.
     This is to keep this debated, but convenient feature
     for the GNU-make world, until we find some better way
     to deal with it. Now it's self contained, detached from
     all important Harbour parts. And most importantly:
     You don't have to use it, if you don't want to.
     Now, if you want, set HB_DIR_IMPLIB to "yes" and
     setup your HB_DIR_* dirs to the roots of the external
     tool dirs, like this (adjust to your environment):
     ---
     set HB_DIR_IMPLIB=yes
     set HB_DIR_ADS=C:\devl\ADS910\ACESDK
     set HB_DIR_ALLEGRO=C:\devl\allegro-4.2.2
     set HB_DIR_APOLLO=C:\devl\Apollo-6.1.0.4
     set HB_DIR_BLAT=C:\devl\blat-2.6.2
     set HB_DIR_CURL=C:\devl\curl-7.19.0
     set HB_DIR_FIREBIRD=C:\devl\Firebird-2.1.1
     set HB_DIR_FREEIMAGE=C:\devl\FreeImage-3.11.0
     set HB_DIR_GD=C:\devl\gd-2.0.34
     set HB_DIR_LIBHARU=C:\devl\libharu-2.1.0
     set HB_DIR_MYSQL=C:\devl\mysql-5.0.67
     set HB_DIR_OPENSSL=C:\devl\openssl-0.9.8j
     set HB_DIR_PGSQL=C:\devl\pgsql-8.3.3
     ---
     (This may be tweaked in the future, so I don't
     guarantee any compatibility for this stuff)


2009/3/3 AbeB <abe.buch@att.net>:
>
> i'v set HB_CONTRIBLIBS=rddads
> but still get
> "The 'rddads' library ignored."
> --
> View this message in context: http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2415540.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mbelgrano at deltain.it  Tue Mar  3 10:18:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 10:18:45 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com>
	<9ACB8645C0CC4055AAE5044779B7AB3C@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
Message-ID: <609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>

Can we discover Which is current directory when start tlib?
I have experiences of irregular not respecting path order on a lan drive
(it was in novel age)
Have you in path something of different from path on drive c:\ ?


2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> Well, it happened here just now, it's found the TLIB.EXE I've placed
> in PATH after BCC.
> Anyone with an idea?
> Brgds,
> Viktor
>
> On Mon, Mar 2, 2009 at 12:25 PM, Enrico Maria Giordano
> <e.m.giordano@emagsoftware.it> wrote:
>>
>> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
>> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
>> Data invio: luned? 2 marzo 2009 11.48
>> Oggetto: Re: [Harbour] Problem in latest SVN
>>
>>
>>> I've just put TLIB.EXE (DOS) in my PATH after BCC and it
>>> wasn't executed by MinGW make (v 3.81).
>>
>> I have MinGW make and old tlib.exe in the same dir. Anyway, as I said, it
>> was working fine a couple of days ago.
>>
>> EMG
>>
>> --
>> EMAG Software Homepage: ? ? http://www.emagsoftware.it
>> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
>> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
>> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Mar  3 10:22:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 10:22:07 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>
Message-ID: <18d502870903030722j2cb0bef3i4461114a6ddabf2e@mail.gmail.com>

Yes, that's also needed if someone wants to get the 3rd party import
.lib files installed in HB_LIB_INSTALL.
To get the libs built though, one must use HB_INC_* envvars.

Brgds,
Viktor


On Tue, Mar 3, 2009 at 4:07 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> i am using this
>  set HB_DIR_IMPLIB=yes
> SET HB_DIR_ADS=%"ProgramFiles%\Extended Systems\Advantage 8.1\acesdk"
> and compile harbour with new make system
> "call make_gnu.bat clean install"
>
> This is from changelog
>   + Added option to copy import libs belonging to
>     external tools for msvc and bcc32 to HB_LIB_INSTALL.
>     This is to keep this debated, but convenient feature
>     for the GNU-make world, until we find some better way
>     to deal with it. Now it's self contained, detached from
>     all important Harbour parts. And most importantly:
>     You don't have to use it, if you don't want to.
>     Now, if you want, set HB_DIR_IMPLIB to "yes" and
>     setup your HB_DIR_* dirs to the roots of the external
>     tool dirs, like this (adjust to your environment):
>     ---
>     set HB_DIR_IMPLIB=yes
>     set HB_DIR_ADS=C:\devl\ADS910\ACESDK
>     set HB_DIR_ALLEGRO=C:\devl\allegro-4.2.2
>     set HB_DIR_APOLLO=C:\devl\Apollo-6.1.0.4
>     set HB_DIR_BLAT=C:\devl\blat-2.6.2
>     set HB_DIR_CURL=C:\devl\curl-7.19.0
>     set HB_DIR_FIREBIRD=C:\devl\Firebird-2.1.1
>     set HB_DIR_FREEIMAGE=C:\devl\FreeImage-3.11.0
>     set HB_DIR_GD=C:\devl\gd-2.0.34
>     set HB_DIR_LIBHARU=C:\devl\libharu-2.1.0
>     set HB_DIR_MYSQL=C:\devl\mysql-5.0.67
>     set HB_DIR_OPENSSL=C:\devl\openssl-0.9.8j
>     set HB_DIR_PGSQL=C:\devl\pgsql-8.3.3
>     ---
>     (This may be tweaked in the future, so I don't
>     guarantee any compatibility for this stuff)
>
>
> 2009/3/3 AbeB <abe.buch@att.net>:
> - Show quoted text -
> >
> > i'v set HB_CONTRIBLIBS=rddads
> > but still get
> > "The 'rddads' library ignored."
> > --
> > View this message in context:
> http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2415540.html
> > Sent from the harbour-devel mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/0274782f/attachment-0001.html
From druzus at users.sourceforge.net  Tue Mar  3 10:34:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  3 10:35:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10514] trunk/harbour
Message-ID: <E1LeWe2-0005JB-W5@c3vjzd1.ch3.sourceforge.com>

Revision: 10514
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10514&view=rev
Author:   druzus
Date:     2009-03-03 15:34:58 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 16:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/Makefile
    ! fixed compilation with C compilers which does not support MT mode
      (HB_MT=no) - it's seldom situation but may exists on some platforms,
      f.e. in *nixes when PTHREADS is not available

  * harbour/config/win/bcc.cf
    ! fixed compilation in SHELL environment
      (if exists ... del ...  is COMMAND.COM/CMD.EXE only command)

  * harbour/source/rtl/hbstrfmt.c
    ! casting for C++ compilation

  * harbour/contrib/xhb/dbf2txt.c
    ! casting for C++ compilation
    ! fixed two bad bugs which can cause GPF or some other bad results
      I'd seen after short check. I haven't analyzed this code carefully
      for others.

  * harbour/bin/postinst.sh
    ! fixed hb*-mkslib link in cross builds (MinGW/MinGWCE)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/contrib/xhb/dbf2txt.c
    trunk/harbour/source/rtl/hbstrfmt.c
    trunk/harbour/source/vm/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Mar  3 11:08:43 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar  3 11:08:47 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <22298833.post@talk.nabble.com>
References: <22298833.post@talk.nabble.com>
Message-ID: <22311693.post@talk.nabble.com>


In Continuation


Pritpal Bedi wrote:
> 
> As I have been able to build my executables 
> with MinGW and xMate, I think it is viable to offer
> ready-to-use distribution ( as I had posted earlier
> with BCC and removed afterwards due to 
> Borland's licensing restrictions ) with MinGW as 
> compiler. This distribution will aim at
> newbies and can be used for ad-hoc testing
> of complex as well as few liners projects.
> 
> Before I go in this direction I need to know 
> I am not violating MinGW licensing by packaging 
> it into a Harbour distribution.
> 

I am done with Open Watcom script also.
Can I include OW distro with Harbour distro ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/MinGW-License-Clarification-tp22298833p22311693.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Tue Mar  3 11:10:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 11:10:33 2009
Subject: [Harbour] Batch for compiling harbour and an error compiling with
	ow and mw
In-Reply-To: <18d502870903020442n62c24668w14a9611fcd7bff39@mail.gmail.com>
References: <609353e70903020109r22f7c777h94fdcf7e738992f0@mail.gmail.com>
	<18d502870903020114u5a5b5116me3e5c138318bb13e@mail.gmail.com>
	<609353e70903020202r7aca4258i8b36a6c783797a65@mail.gmail.com>
	<609353e70903020354v1e9ba3f5q42e963c28db7f155@mail.gmail.com>
	<18d502870903020418x454ba52bk304eca94aaf18cfe@mail.gmail.com>
	<609353e70903020433wa13ef85p5b2526dfd00b85ec@mail.gmail.com>
	<18d502870903020442n62c24668w14a9611fcd7bff39@mail.gmail.com>
Message-ID: <609353e70903030810o60651776jd73f4ce7b17b6e48@mail.gmail.com>

I hope that  somebody  can benefit from my error
Here the operation made for installing msys (no success)
Installed Mingw (current,Complete in c:\devl\mingw) from
http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=240780&release_id=595197
Installed msys from
http://sourceforge.net/project/downloading.php?groupname=mingw&filename=MSYS-1.0.10.exe&use_mirror=garr

in the post installation of msys i reply yes that i have mingw and
then point to mingw directory

SET HB_ARCHITECTURE=win
SET HB_COMPILER=mingw
SET HB_INSTALL_PREFIX=%~dp0
SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
SET HB_USER_LDFLAGS=-s
SET LIB=c:\devl\mingw\lib
SET INCLUDE=c:\devl\mingw\include
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log

I receive this error

mingw32-make.exe[1]: [install] Error 258 (ignored)
/usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
/usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist %d\. md %d'
mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
/usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
/usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win ..\..\lib\win\ming
w) do if not exist %d\. md %d'
mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
mingw32-make.exe: *** win/mingw: No such file or directory.  Stop.
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [common.inst] Error 2
mingw32-make.exe: *** [source.inst] Error 2



2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> No sorry, I don't have any reduced scripts.
> I'd like to know if ppl can work these out by themselves
> from the docs. So please read them and report if you have
> any specific problems or questions along the way, this way
> everyone can benefit.
> Brgds,
> Viktor
>
> On Mon, Mar 2, 2009 at 1:33 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Can you post(or send me by email) ?your batch for ?mingw,ow?
>>
>> 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > I cannot be more specific: Read INSTALL, it's in the
>> > root of Harbour's source repository. Read it carefully
>> > and follow?it. MinGW build examples were posted on
>> > this list in the past.
>> > Your owatcom init is also wrong, you should read the
>> > readme of Open Watcom for the correct init script.
>> > (but please don't ask me where you find the readme ;)
>> > Brgds,
>> > Viktor
>> > On Mon, Mar 2, 2009 at 12:54 PM, Massimo Belgrano <mbelgrano@deltain.it>
>> > wrote:
>> >>
>> >> I add to lib and include mingw path but is not sufficent
>> >>
>> >> SET HB_ARCHITECTURE=win
>> >> SET HB_COMPILER=mingw
>> >> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> SET PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> >> SET HB_USER_LDFLAGS=-s
>> >> SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\mingw\lib
>> >> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\mingw\include
>> >> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >>
>> >>
>> >>
>> >> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> >> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> >> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
>> >> %d\.
>> >> md %d'
>> >> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> >> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> >> ..\..\lib\win\ming
>> >> w) do if not exist %d\. md %d'
>> >> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> >> mingw32-make.exe[2]: *** [descend] Error 2
>> >> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >> mingw32-make.exe: *** [source.inst] Error 2
>> >>
>> >>
>> >> 2009/3/2 Massimo Belgrano <mbelgrano@deltain.it>:
>> >> > Can you point me where read?
>> >> >
>> >> > 2009/3/2 Viktor Szak?ts <harbour.01@syenar.hu>:
>> >> >> Please read INSTALL on how to do a MinGW build.
>> >> >> Brgds,
>> >> >> Viktor
>> >> >>
>> >> >> On Mon, Mar 2, 2009 at 10:09 AM, Massimo Belgrano
>> >> >> <mbelgrano@deltain.it>
>> >> >> wrote:
>> >> >>>
>> >> >>> echo --harbour---------------
>> >> >>> Folow are my batch for compiling & set enviroment for working
>> >> >>> and error that i receive only mw and ow
>> >> >>>
>> >> >>> @rem sow.bat
>> >> >>> @rem i set envars each times that i start harbour session and make
>> >> >>> a
>> >> >>> rebuild when neccessary
>> >> >>>
>> >> >>> SET HB_ARCHITECTURE=win
>> >> >>> SET HB_COMPILER=owatcom
>> >> >>> SET WATCOM=c:\devl\watcom
>> >> >>> SET
>> >> >>>
>> >> >>>
>> >> >>> PATH=%WATCOM%\BINP;%WATCOM%\BINW;C:\devl\mingw32make;%HB_INSTALL_PREFIX%bin;%PATH%
>> >> >>> SET BEGINLIBPATH=%WATCOM%\BINP\DLL
>> >> >>> SET EDPATH=%WATCOM%\EDDAT
>> >> >>> SET HELP=%WATCOM%\BINP\HELP;%HELP%
>> >> >>> SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%
>> >> >>> SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>>
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE==%WATCOM%\H\OS2;%WATCOM%\H;%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>>
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>>
>> >> >>> :SKIP_REBUILD
>> >> >>>
>> >> >>>
>> >> >>> mingw32-make.exe[3]: *** [expropt1.obj] Error 1
>> >> >>> mingw32-make.exe[2]: *** [descend] Error 2
>> >> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >> >>> mingw32-make.exe: *** [source.inst] Error 2
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> --------------------------sbc.bat----------------------
>> >> >>> set HB_ARCHITECTURE=win
>> >> >>> set HB_COMPILER=bcc32
>> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> >> >>> set path=c:\devl\BCC55\BIN;%path%
>> >> >>> set path=c:\devl\mingw32make;%path%
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>>
>> >> >>> compiling with No error
>> >> >>>
>> >> >>> ------------------------sv9.bat------------
>> >> >>> set HB_ARCHITECTURE=win
>> >> >>> set HB_COMPILER=msvc
>> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>> @rem set HB_INSTALL_PREFIX=%~dp0
>> >> >>> SET path=%HB_INSTALL_PREFIX%bin;%path%
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
>> >> >>> x86
>> >> >>> set path=c:\devl\mingw32make;%path%
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>>
>> >> >>>
>> >> >>> Compiling with No error
>> >> >>>
>> >> >>> -------------------smw.bat--------------
>> >> >>> set HB_ARCHITECTURE=win
>> >> >>> set HB_COMPILER=mingw
>> >> >>> set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
>> >> >>> set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;%PATH%
>> >> >>> set HB_USER_LDFLAGS=-s
>> >> >>> SET LIB=%HB_INSTALL_PREFIX%LIB
>> >> >>> SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE
>> >> >>> SET OBJ=%HB_INSTALL_PREFIX%OBJ
>> >> >>> set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
>> >> >>> set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
>> >> >>> set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
>> >> >>> set SHLVL=
>> >> >>> @rem ?-----------------rebuild
>> >> >>> if not "%1%" == "rebuild" goto SKIP_rebuild
>> >> >>> MD %HB_COMPILER%
>> >> >>> md %HB_INSTALL_PREFIX%INCLUDE
>> >> >>> MD %HB_INSTALL_PREFIX%LIB
>> >> >>> MD %HB_INSTALL_PREFIX%BIN
>> >> >>> MD %HB_INSTALL_PREFIX%OBJ
>> >> >>> call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log
>> >> >>> ---------------------------------------------------
>> >> >>> mingw32-make.exe[1]: [install] Error 258 (ignored)
>> >> >>> /usr/bin/sh: -c: line 2: syntax error near unexpected token `(w'
>> >> >>> /usr/bin/sh: -c: line 2: `for %d in (win win\mingw) do if not exist
>> >> >>> %d\.
>> >> >>> md %d'
>> >> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> >>> /usr/bin/sh: -c: line 1: syntax error near unexpected token `(.'
>> >> >>> /usr/bin/sh: -c: line 1: `cmd.exe /c for %d in (..\..\lib\win
>> >> >>> ..\..\lib\win\ming
>> >> >>> w) do if not exist %d\. md %d'
>> >> >>> mingw32-make.exe[2]: [dirbase] Error 258 (ignored)
>> >> >>> mingw32-make.exe: *** win/mingw: No such file or directory. ?Stop.
>> >> >>> mingw32-make.exe[2]: *** [descend] Error 2
>> >> >>> mingw32-make.exe[1]: *** [common.inst] Error 2
>> >> >>> mingw32-make.exe: *** [source.inst] Error 2
>> >> >>>
>> >> >>> C:\harbour\source\common>if not exist ..\..\lib\win\owatcom\. md
>> >> >>> ..\..\lib\win\owatcom
>> >> >>> mingw32-make.exe[3]: Entering directory
>> >> >>> `C:/harbour/source/common/win/owatcom'
>> >> >>> wpp386 ? ? ?../../expropt1.c -fo=expropt1.obj
>> >> >>> This is an OS/2 32-bit executable
>> >> >>> mingw32-make.exe[3]: Leaving directory
>> >> >>> `C:/harbour/source/common/win/owatcom'
>> >> >>> mingw32-make.exe[2]: Leaving directory `C:/harbour/source/common'
>> >> >>> mingw32-make.exe[1]: Leaving directory `C:/harbour/source'
>> >> >>> --
>> >> >>> Massimo Belgrano
>> >> >>> _______________________________________________
>> >> >>> Harbour mailing list
>> >> >>> Harbour@harbour-project.org
>> >> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >> >>
>> >> >>
>> >> >> _______________________________________________
>> >> >> Harbour mailing list
>> >> >> Harbour@harbour-project.org
>> >> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >> >>
>> >> >>
>> >> >
>> >> >
>> >> >
>> >> > --
>> >> > Massimo Belgrano
>> >> >
>> >> _______________________________________________
>> >> Harbour mailing list
>> >> Harbour@harbour-project.org
>> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l. ?http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From yamamoto at rocketmail.com  Tue Mar  3 11:22:28 2009
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Tue Mar  3 11:22:32 2009
Subject: [Harbour] Install error: _HB_FUN_HB_SYMBOL_UNUSED
Message-ID: <604478.23491.qm@web30706.mail.mud.yahoo.com>


When running make_gnu install on xp/bcc32 platform the make aborts at:

mingw32-make.exe[3]: Entering directory `D:/Harbour/utils/hbtest/win/bcc'
bcc32.exe -4 -O2 -OS -Ov -Oi -Oc -q -d -Q -w -w-sig- -tWM -ehbtest.exe ...
...

Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from D:\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tbcolumn

regards, Mitja


      
From qiinfo at ig.com.br  Tue Mar  3 11:34:17 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 11:34:21 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
	<22308935.post@talk.nabble.com>
	<609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>
Message-ID: <22312308.post@talk.nabble.com>


Hello Massimo,

> Can you remove fivewin from your test so i can try?
> Can you post ppo or row adjacent to  myc.prg(85) ?

Fivewin is not include:

<<< MYC.PPO >>>

[CODE_PPO]
#line 17 "myc.prg"
function MY_CLASSES


__clsModMsg( TButton():classH, "New", @TButtonNew() )

return NIL












static function TButtonNew( nRow, nCol, cCaption, oWnd, bAction, nWidth,
nHeight,  nHelpId, oFont, lDefault, lPixel, lDesign, cMsg, lUpdate, bWhen,
bValid, lCancel, cPosText )


   local Self  := HB_QSelf()


      local nFntWidth, nFntHeight








   DEFAULT nRow     := 0, nCol := 0, cCaption := "&Button", oWnd     :=
GetWndDefault(), oFont    := oWnd:oFont, nHelpId  := 100, lDefault := .F.,
lPixel := .F., lDesign := .F., lUpdate := .F., lCancel  := .F., cPosText :=
""



      DEFAULT nWidth   := Max( Len( cCaption ) * 6, 30 ), nHeight  := 18 - 5


   ::cCaption := If( cPosText == "TEXTRIGHT", strtran( cCaption + " ", CRLF,
" " + CRLF ), cCaption )









      ::nTop      = nRow * If( ! lPixel, 18, 1 )
      ::nLeft     = nCol * If( ! lPixel, 6, 1 )
      ::nBottom   = ::nTop  + nHeight
      ::nRight    = ::nLeft + nWidth


   ::nHelpId   = nHelpId
   ::bAction   = bAction
   ::oWnd      = oWnd
   ::oFont     = oFont








   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP, If( lDefault,
BS_DEFPUSHBUTTON, 0 ), If( at( CRLF, cCaption ) > 0, 0x00002000L, 0 ),  If(
cPosText == "TEXTTOP", 0x00000400L, 0 ), If( cPosText == "TEXTBOTTOM",
0x00000800L, 0 ), If( cPosText == "TEXTLEFT", 0x00000100L, 0 ), If( cPosText
== "TEXTRIGHT", 0x00000200L, 0 ), If( lDesign, WS_CLIPSIBLINGS, 0 ) )

   ::nId       = ::GetNewId()
   ::lDrag     = lDesign
   ::lCaptured = .F.
   ::cMsg      = cMsg
   ::lUpdate   = lUpdate
   ::bWhen     = bWhen
   ::bValid    = bValid
   ::lDefault  = lDefault
   ::lCancel   = lCancel
   ::lProcessing = .F.

   if ! Empty( oWnd:hWnd )
      ::Create( "BUTTON" )
      oWnd:AddControl( Self )
      if oFont <> nil
         ::SetFont( oFont )
      endif
   else
      oWnd:DefControl( Self )
   endif

   if lDesign
      ::CheckDots()
   endif

return Self

[ENDCODE_PPO]

...and MYC.PRG

[CODE]

*#include "FiveWin.ch"
*#include "hbclass.ch"
*#include "Constant.ch"
*#include "Set.ch"
*#include "wcolors.ch"
*#include "fget.ch"

#ifdef __HARBOUR__
#ifndef __XHARBOUR__

   #include "\harbour\contrib\xhb\xhbcls.ch"

#endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

*******************
function MY_CLASSES
*******************

override method New in class TButton with TButtonNew

return NIL

#define BS_LEFT         0x00000100L
#define BS_RIGHT        0x00000200L
#define BS_TOP          0x00000400L
#define BS_BOTTOM       0x00000800L
#define BS_CENTER       0x00000300L
#define BS_VCENTER      0x00000C00L
#define BS_MULTILINE    0x00002000L

******************************* TButton
static function TButtonNew( nRow, nCol, cCaption, oWnd, bAction, nWidth,
nHeight, ;
                            nHelpId, oFont, lDefault, lPixel, lDesign,
cMsg,;
                            lUpdate, bWhen, bValid, lCancel, cPosText )
*******************************

   local Self  := HB_QSelf()

   #ifndef FWPLUS
      local nFntWidth, nFntHeight
   #endif

   DEFAULT nRow     := 0, nCol := 0,;
           cCaption := "&Button",;
           oWnd     := GetWndDefault(),;
           oFont    := oWnd:oFont,;
           nHelpId  := 100,;
           lDefault := .f., lPixel := .f., lDesign := .f., lUpdate := .f.,;
           lCancel  := .f., cPosText := ""

   #ifndef FWPLUS
      DEFAULT nWidth   := Max( Len( cCaption ) * BTN_CHARPIX_W, 30 ),;
              nHeight  := BTN_CHARPIX_H - 5
   #endif

   ::cCaption := If( cPosText == "TEXTRIGHT", strtran( cCaption + " ", CRLF,
" " + CRLF ), cCaption )

   #ifdef FWPLUS
      x2RowCol(@nRow, @nCol, @nHeight, @nWidth, lPixel, Self, oWnd)

      ::nTop      = nRow
      ::nLeft     = nCol
      ::nBottom   = ::nTop  + nHeight - 1
      ::nRight    = ::nLeft + nWidth  - 1
   #else
      ::nTop      = nRow * If( ! lPixel, BTN_CHARPIX_H, 1 )
      ::nLeft     = nCol * If( ! lPixel, BTN_CHARPIX_W, 1 )
      ::nBottom   = ::nTop  + nHeight
      ::nRight    = ::nLeft + nWidth
   #endif

   ::nHelpId   = nHelpId
   ::bAction   = bAction
   ::oWnd      = oWnd
   ::oFont     = oFont

   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
                     If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
                     If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
                     If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
                     If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
                     If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
                     If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
                     If( lDesign, WS_CLIPSIBLINGS, 0 ) )

   ::nId       = ::GetNewId()
   ::lDrag     = lDesign
   ::lCaptured = .f.
   ::cMsg      = cMsg
   ::lUpdate   = lUpdate
   ::bWhen     = bWhen
   ::bValid    = bValid
   ::lDefault  = lDefault
   ::lCancel   = lCancel
   ::lProcessing = .f.

   if ! Empty( oWnd:hWnd )
      ::Create( "BUTTON" )
      oWnd:AddControl( Self )
      if oFont != nil
         ::SetFont( oFont )
      endif
   else
      oWnd:DefControl( Self )
   endif

   if lDesign
      ::CheckDots()
   endif

return Self

&&----------------------------------------------------------------------------&&

[ENDCODE]

> ...and generate this error:

Harbour 1.1.0dev (Rev. 10507)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'myc.prg' and generating preprocessed output to 'myc.ppo'...
myc.prg(50) Error E0030  Syntax error "syntax error at 'NROW'"
myc.prg(54) Error E0030  Syntax error "syntax error at 'NWIDTH'"
myc.prg(85) Error E0030  Syntax error "syntax error at 'L'"
3 errors

See that the error persists on line 85.

Regards,

Rossine.


-- 
View this message in context: http://www.nabble.com/About-Error-E0030-tp22302416p22312308.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Tue Mar  3 11:46:34 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar  3 11:46:40 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag><18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
Message-ID: <CAE06646161F460FBA4C9E7C7C23B2BF@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 3 marzo 2009 16.18
Oggetto: Re: [Harbour] Problem in latest SVN


> Have you in path something of different from path on drive c:\ ?

Only E:\UTL

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Tue Mar  3 11:56:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 11:56:39 2009
Subject: [Harbour] MinGW License Clarification
In-Reply-To: <22311693.post@talk.nabble.com>
References: <22298833.post@talk.nabble.com> <22311693.post@talk.nabble.com>
Message-ID: <609353e70903030856k597c26a5t2e3a102a4ac03bb1@mail.gmail.com>

You plan done Either on only Open Watcom?

I erroneous was think that you can also made a distribution that
automatically install microsoft visual c 2008 express edition
here the SOFTWARE LICENSE TERMS
http://download.microsoft.com/documents/useterms/Visual%20C++_2008%20Express%20Edition_English_4981cd44-b7b7-423c-abb4-e5a5a0dc2ce2.pdf
You are able to distribute only redistritutable code.

2009/3/3 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> In Continuation
>
>
> Pritpal Bedi wrote:
>>
>> As I have been able to build my executables
>> with MinGW and xMate, I think it is viable to offer
>> ready-to-use distribution ( as I had posted earlier
>> with BCC and removed afterwards due to
>> Borland's licensing restrictions ) with MinGW as
>> compiler. This distribution will aim at
>> newbies and can be used for ad-hoc testing
>> of complex as well as few liners projects.
>>
>> Before I go in this direction I need to know
>> I am not violating MinGW licensing by packaging
>> it into a Harbour distribution.
>>
>
> I am done with Open Watcom script also.
> Can I include OW distro with Harbour distro ?
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/MinGW-License-Clarification-tp22298833p22311693.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From zen25000 at zen.co.uk  Tue Mar  3 12:23:34 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Mar  3 12:23:29 2009
Subject: [Harbour] libslang.so.2 required ?
Message-ID: <49AD6796.9060207@zen.co.uk>

I have a new clean compact (ICEWM) install of Mandriva 2009 on a machine 
without Harbour.
To run a Harbour built application on it, I installed 
harbour-lib-1.1.0-devmdv20090.i586.rpm and 
xhgtk-0.1.0-0mdv20090.i586.rpm both built from SVN on 24/2/2009 with
env vars:-
HB_GT_LIB=gttrm
HB_MULTI_GT=NO
When I try to run my GUI application compiled with -gtnul
it fails looking for libslang.so.2.
With libslang installed it runs fine.
Is this correct ?
From mbelgrano at deltain.it  Tue Mar  3 12:24:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 12:24:22 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <CAE06646161F460FBA4C9E7C7C23B2BF@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>
Message-ID: <609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>

That is different from c:

2009/3/3 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
>
> -----Messaggio Originale----- Da: "Massimo Belgrano" <mbelgrano@deltain.it>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: marted? 3 marzo 2009 16.18
> Oggetto: Re: [Harbour] Problem in latest SVN
>
>
>> Have you in path something of different from path on drive c:\ ?
>
> Only E:\UTL
>
> EMG
>
> --
> EMAG Software Homepage: ? ? http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Mar  3 12:27:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 12:27:22 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <22312308.post@talk.nabble.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
	<22308935.post@talk.nabble.com>
	<609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>
	<22312308.post@talk.nabble.com>
Message-ID: <18d502870903030927n7c35f03bt116812f613f100e7@mail.gmail.com>

Hi Rossine,

'0x00000200L' isn't a valid hexa value in Harbour, use simple '0x00000200'
form instead.

Brgds,
Viktor

On Tue, Mar 3, 2009 at 5:34 PM, Rossine <qiinfo@ig.com.br> wrote:

>
> Hello Massimo,
>
> > Can you remove fivewin from your test so i can try?
> > Can you post ppo or row adjacent to  myc.prg(85) ?
>
> Fivewin is not include:
>
> <<< MYC.PPO >>>
>
> [CODE_PPO]
> #line 17 "myc.prg"
> function MY_CLASSES
>
>
> __clsModMsg( TButton():classH, "New", @TButtonNew() )
>
> return NIL
>
>
>
>
>
>
>
>
>
>
>
>
> static function TButtonNew( nRow, nCol, cCaption, oWnd, bAction, nWidth,
> nHeight,  nHelpId, oFont, lDefault, lPixel, lDesign, cMsg, lUpdate, bWhen,
> bValid, lCancel, cPosText )
>
>
>   local Self  := HB_QSelf()
>
>
>       local nFntWidth, nFntHeight
>
>
>
>
>
>
>
>
>   DEFAULT nRow     := 0, nCol := 0, cCaption := "&Button", oWnd     :=
> GetWndDefault(), oFont    := oWnd:oFont, nHelpId  := 100, lDefault := .F.,
> lPixel := .F., lDesign := .F., lUpdate := .F., lCancel  := .F., cPosText :=
> ""
>
>
>
>      DEFAULT nWidth   := Max( Len( cCaption ) * 6, 30 ), nHeight  := 18 - 5
>
>
>   ::cCaption := If( cPosText == "TEXTRIGHT", strtran( cCaption + " ", CRLF,
> " " + CRLF ), cCaption )
>
>
>
>
>
>
>
>
>
>       ::nTop      = nRow * If( ! lPixel, 18, 1 )
>      ::nLeft     = nCol * If( ! lPixel, 6, 1 )
>       ::nBottom   = ::nTop  + nHeight
>      ::nRight    = ::nLeft + nWidth
>
>
>    ::nHelpId   = nHelpId
>   ::bAction   = bAction
>   ::oWnd      = oWnd
>   ::oFont     = oFont
>
>
>
>
>
>
>
>
>   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP, If( lDefault,
> BS_DEFPUSHBUTTON, 0 ), If( at( CRLF, cCaption ) > 0, 0x00002000L, 0 ),  If(
> cPosText == "TEXTTOP", 0x00000400L, 0 ), If( cPosText == "TEXTBOTTOM",
> 0x00000800L, 0 ), If( cPosText == "TEXTLEFT", 0x00000100L, 0 ), If(
> cPosText
> == "TEXTRIGHT", 0x00000200L, 0 ), If( lDesign, WS_CLIPSIBLINGS, 0 ) )
>
>   ::nId       = ::GetNewId()
>   ::lDrag     = lDesign
>   ::lCaptured = .F.
>    ::cMsg      = cMsg
>   ::lUpdate   = lUpdate
>   ::bWhen     = bWhen
>   ::bValid    = bValid
>   ::lDefault  = lDefault
>   ::lCancel   = lCancel
>    ::lProcessing = .F.
>
>   if ! Empty( oWnd:hWnd )
>      ::Create( "BUTTON" )
>      oWnd:AddControl( Self )
>      if oFont <> nil
>         ::SetFont( oFont )
>      endif
>   else
>      oWnd:DefControl( Self )
>   endif
>
>   if lDesign
>      ::CheckDots()
>   endif
>
> return Self
>
> [ENDCODE_PPO]
>
> ...and MYC.PRG
>
> [CODE]
>
> *#include "FiveWin.ch"
> *#include "hbclass.ch"
> *#include "Constant.ch"
> *#include "Set.ch"
> *#include "wcolors.ch"
> *#include "fget.ch"
>
> #ifdef __HARBOUR__
> #ifndef __XHARBOUR__
>
>   #include "\harbour\contrib\xhb\xhbcls.ch"
>
> #endif /* __XHARBOUR__ */
> #endif /* __HARBOUR__ */
>
> *******************
> function MY_CLASSES
> *******************
>
> override method New in class TButton with TButtonNew
>
> return NIL
>
> #define BS_LEFT         0x00000100L
> #define BS_RIGHT        0x00000200L
> #define BS_TOP          0x00000400L
> #define BS_BOTTOM       0x00000800L
> #define BS_CENTER       0x00000300L
> #define BS_VCENTER      0x00000C00L
> #define BS_MULTILINE    0x00002000L
>
> ******************************* TButton
> static function TButtonNew( nRow, nCol, cCaption, oWnd, bAction, nWidth,
> nHeight, ;
>                            nHelpId, oFont, lDefault, lPixel, lDesign,
> cMsg,;
>                            lUpdate, bWhen, bValid, lCancel, cPosText )
> *******************************
>
>   local Self  := HB_QSelf()
>
>   #ifndef FWPLUS
>      local nFntWidth, nFntHeight
>   #endif
>
>   DEFAULT nRow     := 0, nCol := 0,;
>           cCaption := "&Button",;
>           oWnd     := GetWndDefault(),;
>           oFont    := oWnd:oFont,;
>           nHelpId  := 100,;
>           lDefault := .f., lPixel := .f., lDesign := .f., lUpdate := .f.,;
>           lCancel  := .f., cPosText := ""
>
>   #ifndef FWPLUS
>      DEFAULT nWidth   := Max( Len( cCaption ) * BTN_CHARPIX_W, 30 ),;
>              nHeight  := BTN_CHARPIX_H - 5
>   #endif
>
>   ::cCaption := If( cPosText == "TEXTRIGHT", strtran( cCaption + " ", CRLF,
> " " + CRLF ), cCaption )
>
>   #ifdef FWPLUS
>      x2RowCol(@nRow, @nCol, @nHeight, @nWidth, lPixel, Self, oWnd)
>
>      ::nTop      = nRow
>      ::nLeft     = nCol
>      ::nBottom   = ::nTop  + nHeight - 1
>      ::nRight    = ::nLeft + nWidth  - 1
>   #else
>      ::nTop      = nRow * If( ! lPixel, BTN_CHARPIX_H, 1 )
>      ::nLeft     = nCol * If( ! lPixel, BTN_CHARPIX_W, 1 )
>      ::nBottom   = ::nTop  + nHeight
>      ::nRight    = ::nLeft + nWidth
>   #endif
>
>   ::nHelpId   = nHelpId
>   ::bAction   = bAction
>   ::oWnd      = oWnd
>   ::oFont     = oFont
>
>   ::nStyle    = nOR( WS_CHILD, WS_VISIBLE, WS_TABSTOP,;
>                     If( lDefault, BS_DEFPUSHBUTTON, 0 ),;
>                     If( at( CRLF, cCaption ) > 0, BS_MULTILINE, 0 ), ;
>                     If( cPosText == "TEXTTOP", BS_TOP, 0 ),;
>                     If( cPosText == "TEXTBOTTOM", BS_BOTTOM, 0 ),;
>                     If( cPosText == "TEXTLEFT", BS_LEFT, 0 ),;
>                     If( cPosText == "TEXTRIGHT", BS_RIGHT, 0 ),;
>                     If( lDesign, WS_CLIPSIBLINGS, 0 ) )
>
>   ::nId       = ::GetNewId()
>   ::lDrag     = lDesign
>   ::lCaptured = .f.
>   ::cMsg      = cMsg
>   ::lUpdate   = lUpdate
>   ::bWhen     = bWhen
>   ::bValid    = bValid
>   ::lDefault  = lDefault
>   ::lCancel   = lCancel
>   ::lProcessing = .f.
>
>   if ! Empty( oWnd:hWnd )
>      ::Create( "BUTTON" )
>      oWnd:AddControl( Self )
>      if oFont != nil
>         ::SetFont( oFont )
>      endif
>   else
>      oWnd:DefControl( Self )
>   endif
>
>   if lDesign
>      ::CheckDots()
>   endif
>
> return Self
>
>
> &&----------------------------------------------------------------------------&&
>
> [ENDCODE]
>
> > ...and generate this error:
>
> Harbour 1.1.0dev (Rev. 10507)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'myc.prg' and generating preprocessed output to 'myc.ppo'...
> myc.prg(50) Error E0030  Syntax error "syntax error at 'NROW'"
> myc.prg(54) Error E0030  Syntax error "syntax error at 'NWIDTH'"
> myc.prg(85) Error E0030  Syntax error "syntax error at 'L'"
> 3 errors
>
> See that the error persists on line 85.
>
> Regards,
>
> Rossine.
>
>
> --
> View this message in context:
> http://www.nabble.com/About-Error-E0030-tp22302416p22312308.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/6b183950/attachment.html
From mbelgrano at deltain.it  Tue Mar  3 12:30:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 12:30:36 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <22312308.post@talk.nabble.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
	<22308935.post@talk.nabble.com>
	<609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>
	<22312308.post@talk.nabble.com>
Message-ID: <609353e70903030930t5bed538exc071127992a5e7b9@mail.gmail.com>

2009/3/3 Rossine <qiinfo@ig.com.br>:
>
> Hello Massimo,
>
>> Can you remove fivewin from your test so i can try?
>> Can you post ppo or row adjacent to ?myc.prg(85) ?
>
> Fivewin is not include:

I have reduced your error to this sample
#define BS_TOP          0x00000400L
function main
  cPosText = "TEXTTOP"
  ?? If( cPosText == "TEXTTOP", BS_TOP, 0 )
  return
From harbour.01 at syenar.hu  Tue Mar  3 12:31:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 12:31:47 2009
Subject: [Harbour] libslang.so.2 required ?
In-Reply-To: <49AD6796.9060207@zen.co.uk>
References: <49AD6796.9060207@zen.co.uk>
Message-ID: <18d502870903030931u1fe3e7e0i820ccfed70e8b53e@mail.gmail.com>

Hi Barry,

On Tue, Mar 3, 2009 at 6:23 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

> I have a new clean compact (ICEWM) install of Mandriva 2009 on a machine
> without Harbour.
> To run a Harbour built application on it, I installed
> harbour-lib-1.1.0-devmdv20090.i586.rpm and xhgtk-0.1.0-0mdv20090.i586.rpm
> both built from SVN on 24/2/2009 with
> env vars:-
> HB_GT_LIB=gttrm
> HB_MULTI_GT=NO
> When I try to run my GUI application compiled with -gtnul
> it fails looking for libslang.so.2.
> With libslang installed it runs fine.
> Is this correct ?


Probably not. I suggest not to use HB_GT_LIB=gttrm as it's the
default, and HB_MULTI_GT isn't needed (or supported) either.

If you've been using hbmk2, please show -trace results for both
cases you mention.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/31bcd24a/attachment-0001.html
From harbour.01 at syenar.hu  Tue Mar  3 12:33:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 12:33:11 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<5D79D164475B459B9AECD458BE43F3BD@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>
	<609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>
Message-ID: <18d502870903030933g11e9592bo2c364cb276898307@mail.gmail.com>

No, all PATH dirs begin with C:\.
Brgds,
Viktor

On Tue, Mar 3, 2009 at 6:24 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> That is different from c:
>
> 2009/3/3 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
> >
> > -----Messaggio Originale----- Da: "Massimo Belgrano" <
> mbelgrano@deltain.it>
> > A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> > Data invio: marted? 3 marzo 2009 16.18
> > Oggetto: Re: [Harbour] Problem in latest SVN
> >
> >
> >> Have you in path something of different from path on drive c:\ ?
> >
> > Only E:\UTL
> >
> > EMG
> >
> > --
> > EMAG Software Homepage:     http://www.emagsoftware.it
> > The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> > The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> > The EMG Music page:         http://www.emagsoftware.it/emgmusic
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/7a43b84d/attachment.html
From info at fsgiudice.com  Tue Mar  3 12:33:54 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar  3 12:34:02 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <CAE06646161F460FBA4C9E7C7C23B2BF@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag><18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>
Message-ID: <49AD6A02.70609@fsgiudice.com>

Hi Enrico,

Il 03/03/2009 17.46, Enrico Maria Giordano ha scritto:
>> Have you in path something of different from path on drive c:\ ?
> 
> Only E:\UTL

try to download gnuwin32 which from this link
http://sourceforge.net/project/downloading.php?groupname=gnuwin32&filename=which-2.20-bin.zip&use_mirror=garr

and give
which tlib
which bcc32
to see where system get files.

Best regards

Francesco
From abe.buch at att.net  Tue Mar  3 12:35:21 2009
From: abe.buch at att.net (AbeB)
Date: Tue Mar  3 12:35:24 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <18d502870903030722j2cb0bef3i4461114a6ddabf2e@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>
	<18d502870903030722j2cb0bef3i4461114a6ddabf2e@mail.gmail.com>
Message-ID: <1236101721504-2416707.post@n2.nabble.com>


this is a copy/past from my envinroment (set hb_  output) 

HB_ARCHITECTURE=win
HB_BIN_INSTALL=C:\Harbour\Dev\bin
HB_COMPILER=bcc
HB_CONTRIBLIBS=rddads
hb_dir=C:\Harbour\Dev
HB_DIR_ADS=c:\Program Files\Extended Systems\Advantage\ACESDK
HB_DIR_GD=C:\gdWin32
HB_DIR_IMPLIB=yes
HB_DOC_INSTALL=C:\Harbour\Dev\doc
HB_INC_INSTALL=C:\Harbour\Dev\include
HB_INSTALL_PREFIX=C:\Harbour\Dev
HB_LIB_INSTALL=C:\Harbour\Dev\lib


but still get this
...
...
mingw32-make.exe -C contrib
mingw32-make.exe[1]: Entering directory
`C:/Harbour/HARBOU~2/trunk/harbour/contrib'
mingw32-make.exe -C rddads
mingw32-make.exe[2]: Entering directory
`C:/Harbour/HARBOU~2/trunk/harbour/contrib/rddads'
"The 'rddads' library ignored."
mingw32-make.exe[2]: Leaving directory
`C:/Harbour/HARBOU~2/trunk/harbour/contrib/rddads'
mingw32-make.exe[1]: Leaving directory
`C:/Harbour/HARBOU~2/trunk/harbour/contrib'
...
...




Viktor Szak?ts wrote:
> 
> Yes, that's also needed if someone wants to get the 3rd party import
> .lib files installed in HB_LIB_INSTALL.
> To get the libs built though, one must use HB_INC_* envvars.
> 
> Brgds,
> Viktor
> 
> 
> On Tue, Mar 3, 2009 at 4:07 PM, Massimo Belgrano
> <mbelgrano@deltain.it>wrote:
> 
>> i am using this
>>  set HB_DIR_IMPLIB=yes
>> SET HB_DIR_ADS=%"ProgramFiles%\Extended Systems\Advantage 8.1\acesdk"
>> and compile harbour with new make system
>> "call make_gnu.bat clean install"
>>
>> This is from changelog
>>   + Added option to copy import libs belonging to
>>     external tools for msvc and bcc32 to HB_LIB_INSTALL.
>>     This is to keep this debated, but convenient feature
>>     for the GNU-make world, until we find some better way
>>     to deal with it. Now it's self contained, detached from
>>     all important Harbour parts. And most importantly:
>>     You don't have to use it, if you don't want to.
>>     Now, if you want, set HB_DIR_IMPLIB to "yes" and
>>     setup your HB_DIR_* dirs to the roots of the external
>>     tool dirs, like this (adjust to your environment):
>>     ---
>>     set HB_DIR_IMPLIB=yes
>>     set HB_DIR_ADS=C:\devl\ADS910\ACESDK
>>     set HB_DIR_ALLEGRO=C:\devl\allegro-4.2.2
>>     set HB_DIR_APOLLO=C:\devl\Apollo-6.1.0.4
>>     set HB_DIR_BLAT=C:\devl\blat-2.6.2
>>     set HB_DIR_CURL=C:\devl\curl-7.19.0
>>     set HB_DIR_FIREBIRD=C:\devl\Firebird-2.1.1
>>     set HB_DIR_FREEIMAGE=C:\devl\FreeImage-3.11.0
>>     set HB_DIR_GD=C:\devl\gd-2.0.34
>>     set HB_DIR_LIBHARU=C:\devl\libharu-2.1.0
>>     set HB_DIR_MYSQL=C:\devl\mysql-5.0.67
>>     set HB_DIR_OPENSSL=C:\devl\openssl-0.9.8j
>>     set HB_DIR_PGSQL=C:\devl\pgsql-8.3.3
>>     ---
>>     (This may be tweaked in the future, so I don't
>>     guarantee any compatibility for this stuff)
>>
>>
>> 2009/3/3 AbeB <abe.buch@att.net>:
>> - Show quoted text -
>> >
>> > i'v set HB_CONTRIBLIBS=rddads
>> > but still get
>> > "The 'rddads' library ignored."
>> > --
>> > View this message in context:
>> http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2415540.html
>> > Sent from the harbour-devel mailing list archive at Nabble.com.
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2416707.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Mar  3 12:41:40 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar  3 12:36:01 2009
Subject: [Harbour] libslang.so.2 required ?
In-Reply-To: <49AD6796.9060207@zen.co.uk>
References: <49AD6796.9060207@zen.co.uk>
Message-ID: <20090303174140.GA23632@uran.home.aster.pl>

On Tue, 03 Mar 2009, Barry Jackson wrote:

Hi,

> I have a new clean compact (ICEWM) install of Mandriva 2009 on a machine 
> without Harbour.
> To run a Harbour built application on it, I installed 
> harbour-lib-1.1.0-devmdv20090.i586.rpm and xhgtk-0.1.0-0mdv20090.i586.rpm 
> both built from SVN on 24/2/2009 with
> env vars:-
> HB_GT_LIB=gttrm
> HB_MULTI_GT=NO

Both are not necessary. Please remove them.
Setting such envvars can only cause troubles, f.e.
the problem you had after HB_GT_LIB=gtsln in GUI
application executed without pseudo terminal.

> When I try to run my GUI application compiled with -gtnul
> it fails looking for libslang.so.2.
> With libslang installed it runs fine.
> Is this correct ?

You created harbour shared library with gtlsn so it's necessary.
When you were installing harbour-lib RPM then it should inform you
that slang is missing. Such dependencies should be automatically
detected by RPM.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar  3 12:36:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 12:36:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10514] trunk/harbour
In-Reply-To: <E1LeWe2-0005JB-W5@c3vjzd1.ch3.sourceforge.com>
References: <E1LeWe2-0005JB-W5@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870903030936r3c39ee81v3203543639419fdc@mail.gmail.com>

Thanks a lot Przemek.
Brgds,
Viktor

2009-03-03 16:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/vm/Makefile
>    ! fixed compilation with C compilers which does not support MT mode
>      (HB_MT=no) - it's seldom situation but may exists on some platforms,
>      f.e. in *nixes when PTHREADS is not available
>
>  * harbour/config/win/bcc.cf
>    ! fixed compilation in SHELL environment
>      (if exists ... del ...  is COMMAND.COM/CMD.EXE only command)
>
>  * harbour/source/rtl/hbstrfmt.c
>    ! casting for C++ compilation
>
>  * harbour/contrib/xhb/dbf2txt.c
>    ! casting for C++ compilation
>    ! fixed two bad bugs which can cause GPF or some other bad results
>      I'd seen after short check. I haven't analyzed this code carefully
>      for others.
>
>  * harbour/bin/postinst.sh
>    ! fixed hb*-mkslib link in cross builds (MinGW/MinGWCE)
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/b62329fd/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 12:41:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 12:41:12 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <1236101721504-2416707.post@n2.nabble.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>
	<18d502870903030722j2cb0bef3i4461114a6ddabf2e@mail.gmail.com>
	<1236101721504-2416707.post@n2.nabble.com>
Message-ID: <18d502870903030941t527c991apae372bd142b8ead7@mail.gmail.com>

>
> this is a copy/past from my envinroment (set hb_  output)
>
> HB_ARCHITECTURE=win
> HB_BIN_INSTALL=C:\Harbour\Dev\bin
> HB_COMPILER=bcc
> HB_CONTRIBLIBS=rddads
> hb_dir=C:\Harbour\Dev
> HB_DIR_ADS=c:\Program Files\Extended Systems\Advantage\ACESDK
> HB_DIR_GD=C:\gdWin32
> HB_DIR_IMPLIB=yes
> HB_DOC_INSTALL=C:\Harbour\Dev\doc
> HB_INC_INSTALL=C:\Harbour\Dev\include
> HB_INSTALL_PREFIX=C:\Harbour\Dev
> HB_LIB_INSTALL=C:\Harbour\Dev\lib


Please listen to Lorenzo's (and my) instructions again,
(and use HB_INC_* in the first place as per INSTALL doc).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/ca20fbc7/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 13:08:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 13:08:26 2009
Subject: [Harbour] Install error: _HB_FUN_HB_SYMBOL_UNUSED
In-Reply-To: <604478.23491.qm@web30706.mail.mud.yahoo.com>
References: <604478.23491.qm@web30706.mail.mud.yahoo.com>
Message-ID: <18d502870903031008m43f57e1dr788759759a1ee19@mail.gmail.com>

Hi Mitja,
Pls try again after a fresh checkout.

Brgds,
Viktor

On Tue, Mar 3, 2009 at 5:22 PM, Mitja Podgornik <yamamoto@rocketmail.com>wrote:

>
> When running make_gnu install on xp/bcc32 platform the make aborts at:
>
> mingw32-make.exe[3]: Entering directory `D:/Harbour/utils/hbtest/win/bcc'
> bcc32.exe -4 -O2 -OS -Ov -Oi -Oc -q -d -Q -w -w-sig- -tWM -ehbtest.exe ...
> ...
>
> Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from
> D:\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tbcolumn
>
> regards, Mitja
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/8b2af64a/attachment.html
From e.m.giordano at emagsoftware.it  Tue Mar  3 13:23:26 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar  3 13:23:31 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag><18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com><609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com><CAE06646161F460FBA4C9E7C7C23B2BF@emag>
	<609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>
Message-ID: <AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 3 marzo 2009 18.24
Oggetto: Re: [Harbour] Problem in latest SVN


> That is different from c:

And what is the problem?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Tue Mar  3 13:28:49 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar  3 13:28:54 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903011336h302218d2u188bd7b910955ed4@mail.gmail.com><9ACB8645C0CC4055AAE5044779B7AB3C@emag><18d502870903020135n31fdab77o38daf52dbe8cee5@mail.gmail.com><5D79D164475B459B9AECD458BE43F3BD@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag><18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com><CAE06646161F460FBA4C9E7C7C23B2BF@emag>
	<49AD6A02.70609@fsgiudice.com>
Message-ID: <E258106E8E0B49C4A9016B854BC0FE89@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 3 marzo 2009 18.33
Oggetto: Re: [Harbour] Problem in latest SVN


> try to download gnuwin32 which from this link
> http://sourceforge.net/project/downloading.php?groupname=gnuwin32&filename=which-2.20-bin.zip&use_mirror=garr
>
> and give
> which tlib
> which bcc32
> to see where system get files.

I get (after renamed back tlib16.exe to tlib.exe in e:\utl):

e:\bcc55\bin\tlib.EXE
e:\bcc55\bin\bcc32.EXE

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Tue Mar  3 13:29:52 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  3 13:29:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10515] trunk/harbour
Message-ID: <E1LeZNI-0005c3-6h@dn4whf1.ch3.sourceforge.com>

Revision: 10515
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10515&view=rev
Author:   druzus
Date:     2009-03-03 18:29:39 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 19:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/dir.cf
    * disabled parallel execution rules for make 3.79.1

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dir.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar  3 13:30:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 13:30:14 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>
	<609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>
	<AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>
Message-ID: <609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com>

I think that path will be skipped if drive will response slow (like a
lan drive) but if is same disk this is not case

2009/3/3 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
>
> -----Messaggio Originale----- Da: "Massimo Belgrano" <mbelgrano@deltain.it>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: marted? 3 marzo 2009 18.24
> Oggetto: Re: [Harbour] Problem in latest SVN
>
>
>> That is different from c:
>
> And what is the problem?
>
> EMG
>
> --
> EMAG Software Homepage: ? ? http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Tue Mar  3 13:40:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 13:40:41 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>
	<609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>
	<AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>
	<609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com>
Message-ID: <18d502870903031040o3bf78d3ne8220f4fedf53707@mail.gmail.com>

Yes, maybe some of my C:\ dirs are slower than others :)

Brgds,
Viktor

On Tue, Mar 3, 2009 at 7:30 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I think that path will be skipped if drive will response slow (like a
> lan drive) but if is same disk this is not case
>
> 2009/3/3 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>:
> >
> > -----Messaggio Originale----- Da: "Massimo Belgrano" <
> mbelgrano@deltain.it>
> > A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> > Data invio: marted? 3 marzo 2009 18.24
> > Oggetto: Re: [Harbour] Problem in latest SVN
> >
> >
> >> That is different from c:
> >
> > And what is the problem?
> >
> > EMG
> >
> > --
> > EMAG Software Homepage:     http://www.emagsoftware.it
> > The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> > The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> > The EMG Music page:         http://www.emagsoftware.it/emgmusic
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/6f2d6ce4/attachment.html
From info at fsgiudice.com  Tue Mar  3 13:43:42 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar  3 13:43:49 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <18d502870903031040o3bf78d3ne8220f4fedf53707@mail.gmail.com>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>	<8F9F93399EDF41FDA967EF5B7CBDEF68@emag>	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>	<3F115E1E79D942D482E84F6BB236ED79@emag>	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>	<609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>	<AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>	<609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com>
	<18d502870903031040o3bf78d3ne8220f4fedf53707@mail.gmail.com>
Message-ID: <49AD7A5E.5000804@fsgiudice.com>



Il 03/03/2009 19.40, Viktor Szak?ts ha scritto:
> Yes, maybe some of my C:\ dirs are slower than others :)
:-D
Best regards,
Francesco
From Istvan.Bisz at t-online.hu  Tue Mar  3 13:45:08 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-2?Q?Bisz_Istv=E1n?=)
Date: Tue Mar  3 13:45:20 2009
Subject: [Harbour] undefined reference to `_imp__hb_gtSetDefault'
Message-ID: <002601c99c30$2dab3cd0$8901b670$@Bisz@t-online.hu>

Hi Viktor,

 

The commands sequence:

 

set PATH=C:\MinGW-5.1.4\bin;c:\MinGW-5.1.4\mingw32\bin

c:\harbour\mingw\bin\hbmk2 -info -trace -oc:\harbour\mingw\demowvg.exe
c:\Downloads\harbour\contrib\gtwvg\tests\gtwvg.hbp
c:\Downloads\harbour\contrib\gtwvg\tests\demowvg.prg

 

generates the error:

 

C:\Users\ISTVN~1\AppData\Local\Temp/cc0zxsaV.o:hbmk_zg6n02.c:(.text+0x2f):
undefined reference to `_imp__hb_gtSetDefault'

 

after changing the line 1562 in hbmk2.prg:

 

            CASE t_cCOMP $ "gcc|mingw"    ; tmp := "__attribute__ ((
dllimport ))"



into the lines:

 

            CASE t_cCOMP == "gcc"         ; tmp := "__attribute__ ((
dllimport ))"
            CASE t_cCOMP == "mingw"       ; tmp := ""



the error disappears .

 

Best regards and congratulations,

Istv?n

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/4aa68503/attachment.html
From e.m.giordano at emagsoftware.it  Tue Mar  3 13:48:04 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar  3 13:48:08 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903020219n19e466e3q7932bc5eb3b68445@mail.gmail.com><8F9F93399EDF41FDA967EF5B7CBDEF68@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag><18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com><609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com><CAE06646161F460FBA4C9E7C7C23B2BF@emag><609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com><AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>
	<609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com>
Message-ID: <418FE06982BC41EE8AB15A889EFF8BDF@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 3 marzo 2009 19.30
Oggetto: Re: [Harbour] Problem in latest SVN


> I think that path will be skipped if drive will response slow (like a
> lan drive) but if is same disk this is not case

Ok, but my drive e: is a physical hard drive.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Tue Mar  3 13:49:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  3 13:49:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10516] trunk/harbour
Message-ID: <E1LeZgQ-0005vp-Fs@dn4whf1.ch3.sourceforge.com>

Revision: 10516
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10516&view=rev
Author:   druzus
Date:     2009-03-03 18:49:36 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 19:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbproces.c
    * check if some define constants exists before use - it should
      fix compilation in some WinCE builds, f.e. with MSVC

  * harbour/source/common/hbprintf.c
    * disabled _LIB_VERSION setting in DJGPP builds - if we need it
      for some reasons then it should be done in different which does
      not create multiple instances of this variable

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/source/rtl/hbproces.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar  3 14:10:32 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 14:10:36 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <18d502870903030941t527c991apae372bd142b8ead7@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>
	<18d502870903030722j2cb0bef3i4461114a6ddabf2e@mail.gmail.com>
	<1236101721504-2416707.post@n2.nabble.com>
	<18d502870903030941t527c991apae372bd142b8ead7@mail.gmail.com>
Message-ID: <609353e70903031110h2ab8c858g1dceab0d8d12d026@mail.gmail.com>

Using follow batch  i am not able to create rddads.lib
SET HB_INC_ADS="%ProgramFiles%\Extended Systems\Advantage 8.1\acesdk"
SET HB_ARCHITECTURE=win
SET HB_COMPILER=bcc32
SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
SET path=%HB_INSTALL_PREFIX%bin;%path%
SET path=c:\devl\BCC55\BIN;%path%
SET path=c:\devl\mingw32make;%path%
SET LIB=%HB_INSTALL_PREFIX%LIB;c:\devl\BCC55\lib;c:\devl\BCC55\lib\PSDK;
SET INCLUDE=%HB_INSTALL_PREFIX%INCLUDE;c:\devl\BCC55\INCLUDE
SET OBJ=%HB_INSTALL_PREFIX%OBJ
SET HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
SET HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
SET HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
call make_gnu.bat clean install> makegnu_%HB_COMPILER%.log


2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:
>> this is a copy/past from my envinroment (set hb_ ?output)
>>
>> HB_ARCHITECTURE=win
>> HB_BIN_INSTALL=C:\Harbour\Dev\bin
>> HB_COMPILER=bcc
>> HB_CONTRIBLIBS=rddads
>> hb_dir=C:\Harbour\Dev
>> HB_DIR_ADS=c:\Program Files\Extended Systems\Advantage\ACESDK
>> HB_DIR_GD=C:\gdWin32
>> HB_DIR_IMPLIB=yes
>> HB_DOC_INSTALL=C:\Harbour\Dev\doc
>> HB_INC_INSTALL=C:\Harbour\Dev\include
>> HB_INSTALL_PREFIX=C:\Harbour\Dev
>> HB_LIB_INSTALL=C:\Harbour\Dev\lib
>
> Please listen to Lorenzo's (and my) instructions again,
> (and use HB_INC_* in the first place as per INSTALL doc).
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Mar  3 14:18:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 14:18:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10517] trunk/harbour
Message-ID: <E1Lea80-0006ql-Us@dn4whf1.ch3.sourceforge.com>

Revision: 10517
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10517&view=rev
Author:   vszakats
Date:     2009-03-03 19:18:03 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 20:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Extended 'HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD'
      section a bit. (HB_DIR_* stuff still not included as it's
      early to document it yet, refer to the ChangeLog for info
      on it).

  * bin/hbmk.bat
    - Removed -n switch.

  + mpkg_win.bat
    + Added Windows installer creator script.
    ; TODO: Move all mpkg_*.* and related files to new /package dir.

  * mpkg_win.nsi
    + Changed to use HB_*_INSTALL envvars for source file locations.
    ! Fixed to exclude .tds files.
    + Will now will include version number, architecture and compiler
      in installer .exe name.
    + Default install destination will now include compiler name.

  * source/compiler/hbmain.c
  * source/compiler/cmdcheck.c
  * source/compiler/gencobj.c
  * source/compiler/hbusage.c
    + Marked -go option as HB_LEGACY_LEVEL2. Deprecated text
      shown on help screen.

  * utils/hbmk2/hbmk2.prg
    ! Fixed entry func autodetection problem with gcc when
      source file is passed without .prg extension.
      Reported by Maurilio.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hbmk.bat
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/gencobj.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kleyber at tkinformidia.net  Tue Mar  3 14:21:49 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Tue Mar  3 14:22:17 2009
Subject: [Harbour] Harbour+FWH
Message-ID: <4B08DF59EBAF4E03AED090D3DEE4D27E@particular>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 2743 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/ba5ae16e/attachment.jpe
From harbour.01 at syenar.hu  Tue Mar  3 14:25:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 14:25:13 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <609353e70903031110h2ab8c858g1dceab0d8d12d026@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<609353e70903030707w4a6b7079he66441472f17e234@mail.gmail.com>
	<18d502870903030722j2cb0bef3i4461114a6ddabf2e@mail.gmail.com>
	<1236101721504-2416707.post@n2.nabble.com>
	<18d502870903030941t527c991apae372bd142b8ead7@mail.gmail.com>
	<609353e70903031110h2ab8c858g1dceab0d8d12d026@mail.gmail.com>
Message-ID: <18d502870903031125s7f470a3aw398534e00280d7a4@mail.gmail.com>

Massimo, please stop spreading this setup sequence, it has some misleading
and even wrong parts (bcc32!!),
anyhow it seems to reappear however many times I
correct it here publicly.

Please try to provide the _minimum_ amount of correct
settings, otherwise it will just confuse everyone and/or give
place to misunderstandings and mistakes, which is very
difficult to correct each time. I'm trying to keep it simple,
please support this effort.

Simplified and fixed version below, please distribute this one:
---
set HB_INC_ADS="%ProgramFiles%\Extended Systems\Advantage 8.1\acesdk"
set HB_COMPILER=bcc
set HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
set PATH=c:\devl\BCC55\BIN;%PATH%
set PATH=c:\devl\mingw32make;%PATH%
call make_gnu.bat clean install> make_gnu_%HB_COMPILER%.log
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/69aa16a0/attachment.html
From kleyber at tkinformidia.net  Tue Mar  3 14:25:26 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Tue Mar  3 14:25:59 2009
Subject: [Harbour] Harbour+FWH
Message-ID: <B451EDEB7CBE4F94AE353C8396D12760@particular>

GeleiraHi,

Have some of you tested Harbour+MSVC+FWH? I saw here a little problem: When 
I use the mouse wheel, the program freezes. Testing with xHarbour this 
problem does not appears...

Regards,

Kleyber Derick 

From qiinfo at ig.com.br  Tue Mar  3 14:26:53 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 14:26:56 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <18d502870903030927n7c35f03bt116812f613f100e7@mail.gmail.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
	<22308935.post@talk.nabble.com>
	<609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>
	<22312308.post@talk.nabble.com>
	<18d502870903030927n7c35f03bt116812f613f100e7@mail.gmail.com>
Message-ID: <22315941.post@talk.nabble.com>


Hello Viktor,


Viktor Szak?ts wrote:
> 
> '0x00000200L' isn't a valid hexa value in Harbour, use simple '0x00000200'
> form instead.
> 

The problem was exactly this.

Thank you very much,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-Error-E0030-tp22302416p22315941.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Tue Mar  3 14:29:08 2009
From: abe.buch at att.net (AbeB)
Date: Tue Mar  3 14:29:11 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>
Message-ID: <1236108548907-2417384.post@n2.nabble.com>


ok I think the problem is the SPACE

I had it as: set HB_INC_ADS=c:\Program Files\Extended
Systems\Advantage\ACESDK

changed ith to :

set HB_INC_ADS=c:\harbour\ACESDK   (of course I copied the ace file there)
and it works now. (still trying to make it create ace32.dll)

Thanks,
Abe




Viktor Szak?ts wrote:
> 
> Hi,
> set HB_INC_ADS=C:\ads\acesdk
> 
> Pls check "HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD" inside
> /INSTALL.
> 
> Brgds,
> Viktor
> 
> On Tue, Mar 3, 2009 at 3:43 PM, AbeB <abe.buch@att.net> wrote:
> 
>>
>> i'v set HB_CONTRIBLIBS=rddads
>> but still get
>> "The 'rddads' library ignored."
>> --
>> View this message in context:
>> http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2415540.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/latest-SVN%3A-can%27t-get-rddads-to-build-tp2415540p2417384.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Tue Mar  3 14:32:46 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 14:32:49 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <609353e70903030930t5bed538exc071127992a5e7b9@mail.gmail.com>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<609353e70903030305q5df227e2v644020a18656daab@mail.gmail.com>
	<22308935.post@talk.nabble.com>
	<609353e70903030644k1f57144co3cae5cb6fed27be6@mail.gmail.com>
	<22312308.post@talk.nabble.com>
	<609353e70903030930t5bed538exc071127992a5e7b9@mail.gmail.com>
Message-ID: <22316056.post@talk.nabble.com>


Hello Massimo,

Viktor solved the problem.


Viktor Szak?ts wrote:
> 
> '0x00000200L' isn't a valid hexa value in Harbour, use simple '0x00000200'
> form instead.
> 

>> I have reduced your error to this sample
>> #define BS_TOP          0x00000400L
>> function main
>>   cPosText = "TEXTTOP"
>>   ?? If( cPosText == "TEXTTOP", BS_TOP, 0 )
>>   return

Thank?s for the sample,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-Error-E0030-tp22302416p22316056.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Tue Mar  3 14:34:33 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 14:34:36 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B94A@Mail-yoq.SYNEL-COMPANY.LTD>
References: <b3b25b30903022039h15bcb808s1c0f1d9d1db5b842@mail.gmail.com>
	<1A07FEDC778C3E4AA417F089511F859C0F3879B94A@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <22316085.post@talk.nabble.com>


Hello Chen Kedem,

Viktor Szak?ts wrote:
'0x00000200L' isn't a valid hexa value in Harbour, use simple '0x00000200' 
form instead. 

The problem was exactly this. 

Regards,

Rossine. 

-- 
View this message in context: http://www.nabble.com/About-Error-E0030-tp22302416p22316085.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Mar  3 14:35:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 14:35:26 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <1236108548907-2417384.post@n2.nabble.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>
	<1236108548907-2417384.post@n2.nabble.com>
Message-ID: <18d502870903031135o1cab7576k639e9deb01adf47@mail.gmail.com>

>
> ok I think the problem is the SPACE
>
> I had it as: set HB_INC_ADS=c:\Program Files\Extended
> Systems\Advantage\ACESDK
>
> changed ith to :
>
> set HB_INC_ADS=c:\harbour\ACESDK   (of course I copied the ace file there)


Could be, thanks, old make system was prepared to handle spaces
for these settings, GNU make may need patches to support it.


> and it works now. (still trying to make it create ace32.dll)


You need these additionally:

set HB_DIR_IMPLIB=yes
set HB_DIR_ADS=C:\devl\ADS910\ACESDK

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/b4862d91/attachment.html
From harbour.01 at syenar.hu  Tue Mar  3 14:37:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 14:37:32 2009
Subject: [Harbour] undefined reference to `_imp__hb_gtSetDefault'
In-Reply-To: <-6367250561301593481@unknownmsgid>
References: <-6367250561301593481@unknownmsgid>
Message-ID: <18d502870903031137o7ee3c45cpdbbd63cd4ee9462c@mail.gmail.com>

Hi Istvan,
Many thanks for the patch. I'll do some local tests with MinGW,
and commit the results ASAP. (Probably Cygwin/gcc should also
be modified along with mingw.)

Brgds,
Viktor

2009/3/3 Bisz Istv?n <Istvan.Bisz@t-online.hu>

>  Hi Viktor,
>
>
>
> The commands sequence:
>
>
>
> set PATH=C:\MinGW-5.1.4\bin;c:\MinGW-5.1.4\mingw32\bin
>
> c:\harbour\mingw\bin\hbmk2 -info -trace -oc:\harbour\mingw\demowvg.exe
> c:\Downloads\harbour\contrib\gtwvg\tests\gtwvg.hbp
> c:\Downloads\harbour\contrib\gtwvg\tests\demowvg.prg
>
>
>
> generates the error:
>
>
>
> C:\Users\ISTVN~1\AppData\Local\Temp/cc0zxsaV.o:hbmk_zg6n02.c:(.text+0x2f):
> undefined reference to `_imp__hb_gtSetDefault'
>
>
>
> after changing the line 1562 in hbmk2.prg:
>
>
>
>             *CASE* t_cCOMP $ "gcc|mingw"    ; tmp :*=* "__attribute__ ((
> dllimport ))"
>
>  into the lines:
>
>
>
>             *CASE* t_cCOMP *==* "gcc"         ; tmp :*=* "__attribute__ ((
> dllimport ))"
>             *CASE* t_cCOMP *==* "mingw"       ; tmp :*=* ""
>
>  the error disappears .
>
>
>
> Best regards and congratulations,
>
> Istv?n
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/1c49e276/attachment.html
From qiinfo at ig.com.br  Tue Mar  3 14:45:43 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar  3 14:45:46 2009
Subject: [Harbour] About Error E0030
In-Reply-To: <531d7a750903030125h5a94b87hf2fdbb51e4c7ef3d@mail.gmail.com>
References: <293F283B3CDB47E9AA7699CFD96E6E10@brutus>
	<531d7a750903030125h5a94b87hf2fdbb51e4c7ef3d@mail.gmail.com>
Message-ID: <22316325.post@talk.nabble.com>


Hello Vailton,

Viktor solved the problem. 

Viktor Szak?ts wrote:
'0x00000200L' isn't a valid hexa value in Harbour, use simple '0x00000200' 
form instead. 

Thank?s brother,

Rossine. 

-- 
View this message in context: http://www.nabble.com/About-Error-E0030-tp22302777p22316325.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kleyber at tkinformidia.net  Tue Mar  3 14:50:30 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Tue Mar  3 14:50:58 2009
Subject: [Harbour] I am not receiving emails in my Outlook
Message-ID: <5383120D80CD46748A7A36BFC9EF24A8@particular>

Hi,

    As the subject. I can see all the emails in the link http://lists.harbour-project.org/pipermail/harbour/2009-March/date.html#16390 but I am not receiving in my Outlook Express. It was working until this morning but from a couple of hours ago it has stopped receiving. Has someone a clue to solve this?

Best Regards,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090303/51f2bba7/attachment.html
From a.jurkiewicz at abix.info.pl  Tue Mar  3 15:20:33 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Tue Mar  3 15:20:41 2009
Subject: [Harbour] I am not receiving emails in my Outlook
In-Reply-To: <5383120D80CD46748A7A36BFC9EF24A8@particular>
References: <5383120D80CD46748A7A36BFC9EF24A8@particular>
Message-ID: <49AD9111.1070907@abix.info.pl>

Kleyber Derick pisze:
> morning but from a couple of hours ago it has stopped receiving. Has
> someone a clue to solve this?

Drop OE, use Mozilla Thunderbird ;-)

Adam
-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From zen25000 at zen.co.uk  Tue Mar  3 16:25:12 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Mar  3 17:14:46 2009
Subject: [Harbour] libslang.so.2 required ?
In-Reply-To: <20090303174140.GA23632@uran.home.aster.pl>
References: <49AD6796.9060207@zen.co.uk>
	<20090303174140.GA23632@uran.home.aster.pl>
Message-ID: <49ADA038.2010701@zen.co.uk>

Hi Przemek
Thanks

> Both are not necessary. Please remove them.
OK I will remove all env vars for Harbour and re-build.

> You created harbour shared library with gtlsn so it's necessary.
Not intentionally - that was why I had HB_GT_LIB=gttrm - I don't 
understand where gtsln came from.

> When you were installing harbour-lib RPM then it should inform you
> that slang is missing. Such dependencies should be automatically
> detected by RPM.
I agree but it installed without error. That is why I posted as it 
seemed odd.

Regards, Barry
From druzus at users.sourceforge.net  Tue Mar  3 16:17:12 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar  3 17:22:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10518] trunk/harbour
Message-ID: <E1LebzE-0006FW-Dm@d5vjzd1.ch3.sourceforge.com>

Revision: 10518
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10518&view=rev
Author:   druzus
Date:     2009-03-03 21:17:04 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 22:22 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    * updated to work with CA-Cl*pper

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar  3 17:28:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar  3 17:23:18 2009
Subject: [Harbour] libslang.so.2 required ?
In-Reply-To: <49ADA038.2010701@zen.co.uk>
References: <49AD6796.9060207@zen.co.uk>
	<20090303174140.GA23632@uran.home.aster.pl>
	<49ADA038.2010701@zen.co.uk>
Message-ID: <20090303222858.GA21899@uran.home.aster.pl>

On Tue, 03 Mar 2009, Barry Jackson wrote:

Hi,

>> You created harbour shared library with gtlsn so it's necessary.
> Not intentionally - that was why I had HB_GT_LIB=gttrm - I don't understand 
> where gtsln came from.

It's created automatically when you compile Harbour and slang-devel
is installed.

>> When you were installing harbour-lib RPM then it should inform you
>> that slang is missing. Such dependencies should be automatically
>> detected by RPM.
> I agree but it installed without error. That is why I posted as it seemed 
> odd.

Looks that it needs explicit bindings in harbour shared library.
I'll add them.
BTW what did you used to compile and link your application?

best regards,
Przemek
From fsgiudice at users.sourceforge.net  Tue Mar  3 17:58:10 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Tue Mar  3 17:58:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10519] trunk/harbour
Message-ID: <E1LedYw-0003xh-Be@74yxhf1.ch3.sourceforge.com>

Revision: 10519
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10519&view=rev
Author:   fsgiudice
Date:     2009-03-03 22:58:09 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-03 23:56 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    * Updated uHTTPD (Work in progress)
      ! Fixing memory usage attempt.
        Set PRIVATE vars to NIL when not more used and force
        collect memory with hb_GCAll( .T. )
      * Set Service Threads initial value to 0
      + Added support for directory index files
      + Added support for filters (WIP)
      * Added creation of error.log file in case of error
      * Minor changes
  * harbour/contrib/examples/uhttpd/cgifunc.prg
    * Fixed comment
  * harbour/contrib/examples/uhttpd/uhttpd.ini
    + DirectoryIndex entry
  ; NOTE: Please check me for memory usage. I have added a comment
          // FSG - memory check
          to interested lines. But I'm not sure if this solves the
          problem.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/cgifunc.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.ini
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  3 18:00:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 18:00:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10520] trunk/harbour
Message-ID: <E1LedbI-00077o-JJ@c3vjzd1.ch3.sourceforge.com>

Revision: 10520
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10520&view=rev
Author:   vszakats
Date:     2009-03-03 23:00:35 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------

2009-03-03 23:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * mpkg_win.bat
    ! Not polluting caller environment vars.
    * Changed to always override HB_INSTALL_PREFIX to a local temp dir.
      (to avoid picking up any other misc files accidentally present
      in a user supplied directory)
    + Added --deltemp option which will delete the temp install dir.
    + Completed requirement list.

  * mpkg_win.nsi
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/mpkg_win.bat
    trunk/harbour/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Tue Mar  3 18:01:24 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar  3 18:01:32 2009
Subject: [Harbour] uhttpd
In-Reply-To: <49A2551C.7000402@libero.it>
References: <499D84F3.40100@libero.it> <499DD95A.1050000@fsgiudice.com>
	<49A2551C.7000402@libero.it>
Message-ID: <49ADB6C4.8040301@fsgiudice.com>

Maurilio,

Il 23/02/2009 8.49, Maurilio Longo ha scritto:
> can you build it using socket instead of inet, so that we can at least say
> that the problem is not inside inet?
> 

Could you kindly check after:
2009-03-03 23:56 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)

I'm not sure that it solves the problem, but after some test it seems 
that now it goes better.

Best regards
Francesco

From mbelgrano at deltain.it  Tue Mar  3 18:10:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 18:10:45 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <18d502870903031135o1cab7576k639e9deb01adf47@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>
	<1236108548907-2417384.post@n2.nabble.com>
	<18d502870903031135o1cab7576k639e9deb01adf47@mail.gmail.com>
Message-ID: <609353e70903031510q41b92996i534a933e59253e15@mail.gmail.com>

after
SET HB_INC_ADS="c:\devl\acesdk"
set HB_DIR_IMPLIB=yes
set HB_DIR_ADS="c:\devl\acesdk"
SET HB_ARCHITECTURE=win
SET HB_COMPILER=msvc
make_gnu.bat clean install

in my final dir (c:\harbour\bcc32\lib) rddads.lib is not present but
ace32 is present


2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:
>> ok I think the problem is the SPACE
>>
>> I had it as: set HB_INC_ADS=c:\Program Files\Extended
>> Systems\Advantage\ACESDK
>>
>> changed ith to :
>>
>> set HB_INC_ADS=c:\harbour\ACESDK ? (of course I copied the ace file there)
>
> Could be, thanks, old make system was prepared to handle spaces
> for these settings, GNU make may need patches to support it.
>
>>
>> and it works now. (still trying to make it create ace32.dll)
>
> You need these additionally:
> set HB_DIR_IMPLIB=yes
> set HB_DIR_ADS=C:\devl\ADS910\ACESDK
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Tue Mar  3 18:16:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar  3 18:16:40 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <609353e70903031510q41b92996i534a933e59253e15@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>
	<1236108548907-2417384.post@n2.nabble.com>
	<18d502870903031135o1cab7576k639e9deb01adf47@mail.gmail.com>
	<609353e70903031510q41b92996i534a933e59253e15@mail.gmail.com>
Message-ID: <18d502870903031516y4e02826bpa49ffe4e7b40f501@mail.gmail.com>

Try not adding quotes. If in doubt pls just simply _copy_ my examples.
BTW you're setting 'msvc' while you expect your results in a bcc dir.

Brgds,
Viktor

On Wed, Mar 4, 2009 at 12:10 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> after
> SET HB_INC_ADS="c:\devl\acesdk"
> set HB_DIR_IMPLIB=yes
> set HB_DIR_ADS="c:\devl\acesdk"
> SET HB_ARCHITECTURE=win
> SET HB_COMPILER=msvc
> make_gnu.bat clean install
>
> in my final dir (c:\harbour\bcc32\lib) rddads.lib is not present but
> ace32 is present
>
>
> 2009/3/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> ok I think the problem is the SPACE
> >>
> >> I had it as: set HB_INC_ADS=c:\Program Files\Extended
> >> Systems\Advantage\ACESDK
> >>
> >> changed ith to :
> >>
> >> set HB_INC_ADS=c:\harbour\ACESDK   (of course I copied the ace file
> there)
> >
> > Could be, thanks, old make system was prepared to handle spaces
> > for these settings, GNU make may need patches to support it.
> >
> >>
> >> and it works now. (still trying to make it create ace32.dll)
> >
> > You need these additionally:
> > set HB_DIR_IMPLIB=yes
> > set HB_DIR_ADS=C:\devl\ADS910\ACESDK
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/c59e8e02/attachment.html
From mbelgrano at deltain.it  Tue Mar  3 18:42:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar  3 18:42:47 2009
Subject: [Harbour] latest SVN: can't get rddads to build
In-Reply-To: <18d502870903031516y4e02826bpa49ffe4e7b40f501@mail.gmail.com>
References: <1236091383150-2415540.post@n2.nabble.com>
	<18d502870903030659v18d0902bg150feb60fe9fecf8@mail.gmail.com>
	<1236108548907-2417384.post@n2.nabble.com>
	<18d502870903031135o1cab7576k639e9deb01adf47@mail.gmail.com>
	<609353e70903031510q41b92996i534a933e59253e15@mail.gmail.com>
	<18d502870903031516y4e02826bpa49ffe4e7b40f501@mail.gmail.com>
Message-ID: <609353e70903031542o276e37fj1332ae8844c91868@mail.gmail.com>

You are right as usual
Now all run fine!


2009/3/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> Try not adding quotes. If in doubt pls just simply _copy_ my examples.
> BTW you're setting 'msvc' while you expect your results?in a bcc dir.
> Brgds,
> Viktor
>
> On Wed, Mar 4, 2009 at 12:10 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> after
>> SET HB_INC_ADS="c:\devl\acesdk"
>> set HB_DIR_IMPLIB=yes
>> set HB_DIR_ADS="c:\devl\acesdk"
>> SET HB_ARCHITECTURE=win
>> SET HB_COMPILER=msvc
>> make_gnu.bat clean install
>>

-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Tue Mar  3 18:54:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 18:54:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10521] trunk/harbour
Message-ID: <E1LeeRX-0005Ze-8N@74yxhf1.ch3.sourceforge.com>

Revision: 10521
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10521&view=rev
Author:   vszakats
Date:     2009-03-03 23:54:34 +0000 (Tue, 03 Mar 2009)

Log Message:
-----------
2009-03-04 00:53 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed problem reported by Istvan Bisz.
      Wrong function declarations were used in static mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Tue Mar  3 19:03:24 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Mar  3 19:03:19 2009
Subject: [Harbour] libslang.so.2 required ?
In-Reply-To: <20090303222858.GA21899@uran.home.aster.pl>
References: <49AD6796.9060207@zen.co.uk>
	<20090303174140.GA23632@uran.home.aster.pl>
	<49ADA038.2010701@zen.co.uk>
	<20090303222858.GA21899@uran.home.aster.pl>
Message-ID: <49ADC54C.8010908@zen.co.uk>



Przemyslaw Czerpak wrote:

> It's created automatically when you compile Harbour and slang-devel
> is installed.

OK thanks, it's a dependency for some debug packs I need.

> BTW what did you used to compile and link your application?

hbmk hdvr -lhbtpathy -xhgtk -gtnul
Which works fine.

However it upsets hbmk2

[baz@jackodesktop hdvr]$ hbmk2 hdvr -lhbtpathy -xhgtk -gtnul
hbmk: Processing configuration: /usr/bin/hbmk.cfg
Harbour 1.1.0dev (Rev. 10520)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hdvr.prg'...
Lines 6399, Functions/Procedures 10
Generating C source output to 'hdvr.c'... Done.
/usr/bin/ld: cannot find -lgtnul
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 256:
gcc hdvr.c /home/baz/tmp/hbmk_dupcdh.c   -O3  -ohdvr 
-I/usr/include/harbour -L/usr/lib/harbour -L/usr/X11R6/lib 
-Wl,--start-group /usr/lib/harbour/libharbour.so -lhbcplr 
-lhbdebug-lhbtpathy -lgtnul -lm -ldl -lrt -lncurses -lslang -lX11 
-Wl,--end-group


Regards, Barry







From vszakats at users.sourceforge.net  Tue Mar  3 20:05:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 20:05:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10522] trunk/harbour
Message-ID: <E1LefXx-0001Qm-54@c3vjzd1.ch3.sourceforge.com>

Revision: 10522
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10522&view=rev
Author:   vszakats
Date:     2009-03-04 01:05:16 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 01:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * make_gnu.bat
    - 'msvc' is no longer the default choice for win.
      HB_COMPILER must always be specified.

  * mpkg_win.bat
    + Removes tmp install dir before creating the build.
    + Added support for MinGW.
    + Added creation of .zip packages. (Info-ZIP zip.exe
      is required).

  * make_gnu.sh
  * INSTALL
    + on win/dos/os2 systems it will create HB_*_INSTALL dirs
      automatically (sync with make_gnu.bat).
    + on dos/os2 it will also automatically set HB_DOC_INSTALL.
    + on win/dos/os2 it will automatically convert
      HB_INSTALL_PREFIX and HB_*_INSTALL to use forward slashes.

  * utils/hbmk2/hbmk2.prg
    + Added gtnul to standard list of GTs.
      Attempt to solve the problem reported by Barry Jackson.
      Please test if this solves anything.

  * doc/Makefile
    ! Deleted files removed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/doc/Makefile
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/mpkg_win.bat
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar  3 20:18:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar  3 20:18:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10523] trunk/harbour
Message-ID: <E1LefkQ-0001aV-Jt@c3vjzd1.ch3.sourceforge.com>

Revision: 10523
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10523&view=rev
Author:   vszakats
Date:     2009-03-04 01:18:07 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 02:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * mpkg_win.bat
    ! Fixed dirs inside the .zip file.
    * Missing 'clean' added.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Tue Mar  3 21:44:44 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Tue Mar  3 21:45:00 2009
Subject: [Harbour] GTNUL.LIB included by hbmk2
In-Reply-To: <49adb80b.120bca0a.38fe.ffffb2e5SMTPIN_ADDED@mx.google.com>
References: <49adb80b.120bca0a.38fe.ffffb2e5SMTPIN_ADDED@mx.google.com>
Message-ID: <49ADEB1C.9090302@gmail.com>

Hi Viktor,

GTNUL.LIB is being included by hbmk2 but it does not exist from lib 
folder.  I'm using BCC.

Thanks,
Mario
From harbour.01 at syenar.hu  Wed Mar  4 01:56:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 01:56:27 2009
Subject: [Harbour] Cygwin errors/warnings (GTWVG and threads.c)
Message-ID: <18d502870903032256t61347144l2261431468882193@mail.gmail.com>

Hi all,

Issues when using Cygwin:
---
../../../thread.c: In function `hb_threadCreate':
../../../thread.c:608: warning: implicit declaration of function
`_beginthreadex'
../../../thread.c: In function `hb_threadStartVM':
../../../thread.c:795: warning: implicit declaration of function
`_endthreadex'

../../wvgsink.c: In function `Release':
../../wvgsink.c:379: warning: comparison of unsigned expression < 0 is
always false
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/d11722fb/attachment.html
From vszakats at users.sourceforge.net  Wed Mar  4 02:00:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 02:00:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10524] trunk/harbour
Message-ID: <E1Lel5i-0005VG-LD@dn4whf1.ch3.sourceforge.com>

Revision: 10524
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10524&view=rev
Author:   vszakats
Date:     2009-03-04 07:00:29 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 08:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    * HB_INC_OPENSSL sample corrected to point to real-life header dir.
    + Added cygwin compiler. gcc temply removed from doc list.
    % Removed unnecessary -n hbmk2 switches.
    + Added cygwin section.

  * utils/hbmk2/hbmk2.prg
    + Don't add gtnul as a real library.
      Please test, I've never used GTNUL.
    + Added support for cygwin compiler value.
      (works the same as current 'win/gcc' combination)
    ! Typo in rare error messages.
    ! Removed -no-cygwin option from cygwin gcc command line.

  * source/common/hbprintf.c
  * contrib/hbssl/sslrand.c
    ! Fixed to compile with cygwin.
    ; TOFIX:
      when running hbtest.exe:
      Error DBFNTX/1011  Write error: _hbtmp_.dbf
      Called from DBCREATE(0)
      Called from TEST_BEGIN(0)
      Called from MAIN(0)

  * make_gnu.sh
    + Added cygwin detection.

  * config/win/gcc.cf
  + config/win/cygwin.cf
    + Added separate cygwin make config.
      gcc is now just a map to cygwin.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/gcc.cf
    trunk/harbour/contrib/hbssl/sslrand.c
    trunk/harbour/make_gnu.sh
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/cygwin.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar  4 02:28:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 02:28:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10525] trunk/harbour
Message-ID: <E1LelWs-0003j8-53@3kljzd1.ch3.sourceforge.com>

Revision: 10525
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10525&view=rev
Author:   vszakats
Date:     2009-03-04 07:28:33 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 08:28 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * mpkg_win.bat
    + Added cygwin support.

  * utils/hbmk2/hbmk2.prg
    * Updated some details on the help screen.
    - Removed gcc as a valid win target.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/mpkg_win.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar  4 02:57:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 02:57:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10526] trunk/harbour
Message-ID: <E1Lelyo-0001Xa-Au@c3vjzd1.ch3.sourceforge.com>

Revision: 10526
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10526&view=rev
Author:   vszakats
Date:     2009-03-04 07:57:25 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 08:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added few NOTEs on HB_INC_* usage.
    * Other minor clarifications and cleanups.

  * mpkg_win.bat
    ! Forces import lib generation off.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Wed Mar  4 02:58:45 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar  4 02:58:56 2009
Subject: [Harbour] uhttpd
In-Reply-To: <49ADB6C4.8040301@fsgiudice.com>
References: <499D84F3.40100@libero.it>
	<499DD95A.1050000@fsgiudice.com>	<49A2551C.7000402@libero.it>
	<49ADB6C4.8040301@fsgiudice.com>
Message-ID: <49AE34B5.7070606@libero.it>

Hi Francesco,

I did a full rebuild of harbour and uhttpd with current cvs, the problem is
still there, maybe it uses a little less, I'm not sure I did not keep a
precise count, anyway it uses some memory for each call and does not release
it even after a few minutes of idleness.

Best regards.

Maurilio.


Francesco Saverio Giudice wrote:
> Maurilio,
> 
> Il 23/02/2009 8.49, Maurilio Longo ha scritto:
>> can you build it using socket instead of inet, so that we can at least
>> say
>> that the problem is not inside inet?
>>
> 
> Could you kindly check after:
> 2009-03-03 23:56 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
> 
> I'm not sure that it solves the problem, but after some test it seems
> that now it goes better.
> 
> Best regards
> Francesco
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Wed Mar  4 03:09:16 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Mar  4 03:09:26 2009
Subject: [Harbour] hbmk2 without extension
In-Reply-To: <18d502870903030629i1369dcc8xcd8d09e414e5920b@mail.gmail.com>
References: <49AD335F.7020006@libero.it>	<18d502870903030603h48d45b42v4c017de332c62d99@mail.gmail.com>	<49AD3C09.5090708@libero.it>
	<18d502870903030629i1369dcc8xcd8d09e414e5920b@mail.gmail.com>
Message-ID: <49AE372C.6010606@libero.it>

Viktor,

with latest code I have a new error either when using an extension or when not
using it:

---------8<--------------
(E:\REPOSITORY\harbour\tests)hbmk2 vidtest
hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
Harbour 1.1.0dev (Rev. 10524)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'vidtest.prg'...
Lines 299, Functions/Procedures 6
Generating C source output to 'vidtest.c'... Done.
E:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory
 for gtnul
hbmk: Error: Running C compiler. 1:
gcc.exe vidtest.c E:\TMP\hbmk_qfa2yd.c  -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
-o vidtest.exe -Ie:\harbour\include -Le:\harbour\lib -lhbcpage -lhblang -lhbcomm
on -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrdd
ntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtnul -lgtc
gi -lgtpca -lgtstd -lgtos2 -lhbcommon -lhbrtl -lhbvm -lhbpcre -lhbzlib -lsocket
--------->8--------------


---------8<--------------
(E:\REPOSITORY\harbour\tests)hbmk2 vidtest.prg
hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
Harbour 1.1.0dev (Rev. 10524)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'vidtest.prg'...
Lines 299, Functions/Procedures 6
Generating C source output to 'vidtest.c'... Done.
E:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory
 for gtnul
hbmk: Error: Running C compiler. 1:
gcc.exe vidtest.c E:\TMP\hbmk_nnxekl.c  -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
-o vidtest.exe -Ie:\harbour\include -Le:\harbour\lib -lhbcpage -lhblang -lhbcomm
on -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrdd
ntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtnul -lgtc
gi -lgtpca -lgtstd -lgtos2 -lhbcommon -lhbrtl -lhbvm -lhbpcre -lhbzlib -lsocket
--------->8--------------

Best regards.

Maurilio.


Viktor Szak?ts wrote:
>     I had not noticed that it did build vidtest.exe even in the first
>     case!? :)
>     Anyway, here with trace:
> 
> 
> Thank you. Yes, this is the MAIN entry detection code kicking in, 
> but I missed the case when no extension is given and the filename 
> gets passed to the detection routine as is, without .c extension.
> 
> Pls change line 1538 from this:
>          tmp := iif( Lower( FN_ExtGet( s_cFIRST ) ) == ".prg",
> FN_ExtSet( s_cFIRST, ".c" ), s_cFIRST )
> to this:
>          tmp := iif( Lower( FN_ExtGet( s_cFIRST ) ) == ".prg" .OR.
> Empty( FN_ExtGet( s_cFIRST ) ), FN_ExtSet( s_cFIRST, ".c" ), s_cFIRST )
> 
> I'll commit a fix after getting some feedback on pending make file patch.
> 
> Brgds,
> Viktor
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From info at fsgiudice.com  Wed Mar  4 03:11:54 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar  4 03:12:11 2009
Subject: [Harbour] uhttpd
In-Reply-To: <49AE34B5.7070606@libero.it>
References: <499D84F3.40100@libero.it>	<499DD95A.1050000@fsgiudice.com>	<49A2551C.7000402@libero.it>	<49ADB6C4.8040301@fsgiudice.com>
	<49AE34B5.7070606@libero.it>
Message-ID: <49AE37CA.3000303@fsgiudice.com>

Hi Maurilio,


Il 04/03/2009 8.58, Maurilio Longo ha scritto:
> I did a full rebuild of harbour and uhttpd with current cvs, the problem is
> still there, maybe it uses a little less, I'm not sure I did not keep a
> precise count, anyway it uses some memory for each call and does not release
> it even after a few minutes of idleness.
> 
Thank you.
Could you add two others hb_GCAll( .t. ) at lines 800 and 932 as in 
attached patch and test it again ?

TIA
Best regards,
Francesco

-------------- next part --------------
Index: uhttpd.prg
===================================================================
--- uhttpd.prg	(revision 10520)
+++ uhttpd.prg	(working copy)
@@ -797,6 +797,9 @@
          hb_mutexUnlock( s_hmtxBusy )
       ENDIF
 
+      // Memory release
+      hb_GCAll( TRUE )  // FSG - memory check
+
    ENDDO
 
    WriteToConsole( "Quitting ProcessConnections() " + hb_CStr( nThreadId ) )
@@ -926,6 +929,9 @@
          hb_mutexUnlock( s_hmtxBusy )
       ENDIF
 
+      // Memory release
+      hb_GCAll( TRUE )  // FSG - memory check
+
    ENDDO
 
    WriteToConsole( "Quitting ServiceConnections() " + hb_CStr( nThreadId ) )
From vszakats at users.sourceforge.net  Wed Mar  4 03:13:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 03:13:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10527] trunk/harbour
Message-ID: <E1LemEE-0001ke-Ob@c3vjzd1.ch3.sourceforge.com>

Revision: 10527
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10527&view=rev
Author:   vszakats
Date:     2009-03-04 08:13:22 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 09:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! gtnul removed from gt list. It's probably enough to 
      not add it to liblist when passing -gtnul.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar  4 03:14:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 03:14:50 2009
Subject: [Harbour] hbmk2 without extension
In-Reply-To: <49AE372C.6010606@libero.it>
References: <49AD335F.7020006@libero.it>
	<18d502870903030603h48d45b42v4c017de332c62d99@mail.gmail.com>
	<49AD3C09.5090708@libero.it>
	<18d502870903030629i1369dcc8xcd8d09e414e5920b@mail.gmail.com>
	<49AE372C.6010606@libero.it>
Message-ID: <18d502870903040014t44d9a797r1bde06f3afaef351@mail.gmail.com>

Thanks Maurilio, I've committed a fix. The two issues were unrelated, gtnul
was a (bad) attempt to fix some problems with it. Entry detection
seems to be okay now.

Brgds,
Viktor

On Wed, Mar 4, 2009 at 9:09 AM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Viktor,
>
> with latest code I have a new error either when using an extension or when
> not
> using it:
>
> ---------8<--------------
> (E:\REPOSITORY\harbour\tests)hbmk2 vidtest
> hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
> Harbour 1.1.0dev (Rev. 10524)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'vidtest.prg'...
> Lines 299, Functions/Procedures 6
> Generating C source output to 'vidtest.c'... Done.
> E:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/bin/ld.exe: No such file or
> directory
>  for gtnul
> hbmk: Error: Running C compiler. 1:
> gcc.exe vidtest.c E:\TMP\hbmk_qfa2yd.c  -O3 -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF
> -o vidtest.exe -Ie:\harbour\include -Le:\harbour\lib -lhbcpage -lhblang
> -lhbcomm
> on -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix
> -lrdd
> ntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtnul
> -lgtc
> gi -lgtpca -lgtstd -lgtos2 -lhbcommon -lhbrtl -lhbvm -lhbpcre -lhbzlib
> -lsocket
> --------->8--------------
>
>
> ---------8<--------------
> (E:\REPOSITORY\harbour\tests)hbmk2 vidtest.prg
> hbmk: Processing configuration: E:\harbour\bin\hbmk.cfg
> Harbour 1.1.0dev (Rev. 10524)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'vidtest.prg'...
> Lines 299, Functions/Procedures 6
> Generating C source output to 'vidtest.c'... Done.
> E:/Sviluppo/gcc/v3.3.5/usr/i386-pc-os2-emx/bin/ld.exe: No such file or
> directory
>  for gtnul
> hbmk: Error: Running C compiler. 1:
> gcc.exe vidtest.c E:\TMP\hbmk_nnxekl.c  -O3 -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF
> -o vidtest.exe -Ie:\harbour\include -Le:\harbour\lib -lhbcpage -lhblang
> -lhbcomm
> on -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix
> -lrdd
> ntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtnul
> -lgtc
> gi -lgtpca -lgtstd -lgtos2 -lhbcommon -lhbrtl -lhbvm -lhbpcre -lhbzlib
> -lsocket
> --------->8--------------
>
> Best regards.
>
> Maurilio.
>
>
> Viktor Szak?ts wrote:
> >     I had not noticed that it did build vidtest.exe even in the first
> >     case!? :)
> >     Anyway, here with trace:
> >
> >
> > Thank you. Yes, this is the MAIN entry detection code kicking in,
> > but I missed the case when no extension is given and the filename
> > gets passed to the detection routine as is, without .c extension.
> >
> > Pls change line 1538 from this:
> >          tmp := iif( Lower( FN_ExtGet( s_cFIRST ) ) == ".prg",
> > FN_ExtSet( s_cFIRST, ".c" ), s_cFIRST )
> > to this:
> >          tmp := iif( Lower( FN_ExtGet( s_cFIRST ) ) == ".prg" .OR.
> > Empty( FN_ExtGet( s_cFIRST ) ), FN_ExtSet( s_cFIRST, ".c" ), s_cFIRST )
> >
> > I'll commit a fix after getting some feedback on pending make file patch.
> >
> > Brgds,
> > Viktor
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/80c9913c/attachment-0001.html
From vouchcac at users.sourceforge.net  Wed Mar  4 03:40:31 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Mar  4 03:40:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10528] trunk/harbour
Message-ID: <E1LemeV-00052P-Nv@3kljzd1.ch3.sourceforge.com>

Revision: 10528
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10528&view=rev
Author:   vouchcac
Date:     2009-03-04 08:40:30 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 00:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgsink.c
    ! Pacified long-standing warning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar  4 03:52:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 03:52:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10528] trunk/harbour
In-Reply-To: <E1LemeV-00052P-Nv@3kljzd1.ch3.sourceforge.com>
References: <E1LemeV-00052P-Nv@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903040052m1249689cmdc5c38bd321f6c70@mail.gmail.com>

Thanks Pritpal, the warning is gone.
Brgds,
Viktor

On Wed, Mar 4, 2009 at 9:40 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10528
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10528&view=rev
> Author:   vouchcac
> Date:     2009-03-04 08:40:30 +0000 (Wed, 04 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-04 00:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/gtwvg/wvgsink.c
>    ! Pacified long-standing warning.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvgsink.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/e68418b1/attachment.html
From bedipritpal at hotmail.com  Wed Mar  4 03:59:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  4 03:59:24 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
Message-ID: <22326050.post@talk.nabble.com>


WELCOME

http://www.vouch.info/downloads/HarbourDev_10523_2009-03-04.exe

This is Harbour's ready-to-use distibution
planned to be released once in a month including
the changes committed to SVN till the date of 
release. This is not the rule. I may post
more than once in a month if there are major
commits and/or some important feature is 
added/modified.

This distro is aimed at newbies who find it 
difficult to start with Harbour though everybody
can take advantage to the maximum.

Please note that this is not an official release.
So you may expect bumps here-and-there. My 
efforts will focus on the facts that release 
maintain a standard to let the applns compile
properly.

Every release will bear the "Revision No" and 
"Date" in its setup name as - 
HarbourDev_10523_2009-03-04.exe
which will facilitate to identify upto which
commit this release contain.

The tree structure ( outlined below ) can be 
used for production level development scenario.
It contains batch files to get Harbour binaries
from SVN tree for four compilers. As you can now
compile your applns with different compilers, 
this enhances your productivity level to judge
which compiler is giving you the fastest and 
optimum appln.

To keep the tasks simple, I am assuming drive "C"
the development drive where Harbour SVN tree and 
"harbour_dev" tree is hosted. All paths in the
batch files and xMate project files points to 
c:\harbour and c:\harbour_dev.

This distribution includes only binaries. Please
download SVN tree if you need sources or want to 
play with the latest commits. It is not necessary
for your applications.

In case you decide to have latest SVN binaries
then host it on drive C as module name "harbour".
Then invoke one of the makegnu_*.bat, depending
on the compiler of your choice. It will place
harbour binaries in respective subfolder of 
"c:\harbour_dev".

This distribution includes MINGW compiler under
c:\harbour_dev\mingw folder as its root. So 
one is able to build appln for this compiler 
without any extra effort. You can download other
compilers and place them in respective folders
in c:\harbour_dev, i.e., Borland's BCC under 
c:\harbour_dev\bcc ( no suffix after bcc ), Sybase's
Open Watcom under c:\harbour_dev\watcom, Microsoft's
Visual C++ under c:\harbour_dev\msvc. 
Once installed, just invole respective makegnu_*.bat.
Harbour binaries will be in place.

As I has been working with xMate since its birth way
back in 2004, I have choosen it to be Project Builder
for this distribution. You are free to deploy 
whatever you are accustomed to.

As a demo appln I have selected 
harbour/contrib/gtwvg/tests/demowvg.prg. This 
demo unfolds Harbour power in depth plus different
ways one can employ to migrate his/her Clipper 
applications to GUI world strating with 
intermediatery semi GUI proto and culminating to 
pure GUI proto. This demo also deploys the 
in-development Xbase++ Parts clone whaich may 
attract your attention. Moreoever, this demo 
demonstrates MT ( multi-threading ) and multi-window 
GT which can be a big productivity boost right 
from the begining.


Following is the tree structure this disto contains.


c:\harbour_dev\

   harbour\
      bcc\
         bin
         include
         lib
      msvc\
         bin
         include 
         lib
      mingw\ 
         bin
         include
         lib
      watcom\
         bin
         include
         lib


   bcc\
      * distro tree 
   msvc\
      * tree
   mingw\
      * tree
   watcom\  
      * tree        
     


   xmate\
      *.files | folders
      /
      wvgBCC.env         ( tied with demowvgBCC.xhp )
      wvgMSVC.env        ( tied with demowvgMSVC.xhp )
      wvgMINGW.env       ( tied with demowvgMINGW.xhp )
      wvgWATCOM.env      ( tied with demowvgWATCOM.xhp )


   dev_projects\
      demowvg\
         demowvgBCC.xhp
         demowvgMSVC.xhp
         demowvgMINGW.xhp
         demowvgWATCOM.xhp

      demoxbp\
         demoxbp.xhp
         * folders
      developers_own_folders\
         developer_project.xhp



   dev_sources\
      demowvg\
         *.files
      tests\
         *.files 

      
   dev_libs\        
      # All together - it is a better design


   dev_exes\
      # All together of by project
        May be it is dependant on other resource files
           


   ChangeLog   ( Harbour SVN ChangeLog : Binaries Upto : Top Few Lines ) 

   make.exe    ( mingw32-make.exe )

   bcc32.cfg   ( Bcc Compiler Confuration : bcc\bin )
   tlink32.cfg ( BCC Linker Configuration : bcc\bin )
   wlink.lnk   ( Watcom Linker Configuration : watcom\binnt )

   [ invoke it to get latest Harbour SVN binaries ]
   /
   makegnu_BCC.bat    
   makegnu_MSVC.bat
   makegnu_MINGW.bat
   makegnu_WATCOM.bat


Enjoy

Pritpal Bedi, a student of software analysis and design

http://www.vouch.in  | Vouch, the software that GROWS with you
http://www.vouch32.com  |  Home of Vouch32 ActiveX Server
http://www.vouchcac.com/vouch32/vouch32.htm   |   A Free Windows Extended
           Utilities Library for Clipper, Xbase++ and (x)Harbour
http://www.help.vouch.info | Online Vouch Help
http://www.harbour.vouch.info | Online Harbour Help


    
-- 
View this message in context: http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22326050.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Mar  4 04:06:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 04:06:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10529] trunk/harbour
Message-ID: <E1Len3n-0003Id-Q2@74yxhf1.ch3.sourceforge.com>

Revision: 10529
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10529&view=rev
Author:   vszakats
Date:     2009-03-04 09:06:38 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 10:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.sh
  * bin/postinst.sh
    + Added some level of cygwin support.
    ; TOFIX: .dlls are not generated.

  * make_gnu.sh
    * Change recently added '==' operators to '='.
    + Added link to GNU bash and POSIX shell docs.
      For Harbour we need to comply with the latter
      (at least for OS neutral script parts).

  * INSTALL
  * mpkg_win.bat
  * config/global.cf
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/global.cf
    trunk/harbour/make_gnu.sh
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar  4 04:16:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 04:16:40 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <22326050.post@talk.nabble.com>
References: <22326050.post@talk.nabble.com>
Message-ID: <18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>

Hi Pritpal,
Many thanks for your efforts providing this distro.

Just one small note: To keep total consistency,
maybe it'd be even better to change 'watcom' to
'owatcom' in your tree and filenames.

Another choice is that we rename owatcom to
watcom, which seems okay for me, but I'd like
to hear other opinions before doing it.

Brgds,
Viktor

On Wed, Mar 4, 2009 at 9:59 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> WELCOME
>
> http://www.vouch.info/downloads/HarbourDev_10523_2009-03-04.exe
>
> This is Harbour's ready-to-use distibution
> planned to be released once in a month including
> the changes committed to SVN till the date of
> release. This is not the rule. I may post
> more than once in a month if there are major
> commits and/or some important feature is
> added/modified.
>
> This distro is aimed at newbies who find it
> difficult to start with Harbour though everybody
> can take advantage to the maximum.
>
> Please note that this is not an official release.
> So you may expect bumps here-and-there. My
> efforts will focus on the facts that release
> maintain a standard to let the applns compile
> properly.
>
> Every release will bear the "Revision No" and
> "Date" in its setup name as -
> HarbourDev_10523_2009-03-04.exe
> which will facilitate to identify upto which
> commit this release contain.
>
> The tree structure ( outlined below ) can be
> used for production level development scenario.
> It contains batch files to get Harbour binaries
> from SVN tree for four compilers. As you can now
> compile your applns with different compilers,
> this enhances your productivity level to judge
> which compiler is giving you the fastest and
> optimum appln.
>
> To keep the tasks simple, I am assuming drive "C"
> the development drive where Harbour SVN tree and
> "harbour_dev" tree is hosted. All paths in the
> batch files and xMate project files points to
> c:\harbour and c:\harbour_dev.
>
> This distribution includes only binaries. Please
> download SVN tree if you need sources or want to
> play with the latest commits. It is not necessary
> for your applications.
>
> In case you decide to have latest SVN binaries
> then host it on drive C as module name "harbour".
> Then invoke one of the makegnu_*.bat, depending
> on the compiler of your choice. It will place
> harbour binaries in respective subfolder of
> "c:\harbour_dev".
>
> This distribution includes MINGW compiler under
> c:\harbour_dev\mingw folder as its root. So
> one is able to build appln for this compiler
> without any extra effort. You can download other
> compilers and place them in respective folders
> in c:\harbour_dev, i.e., Borland's BCC under
> c:\harbour_dev\bcc ( no suffix after bcc ), Sybase's
> Open Watcom under c:\harbour_dev\watcom, Microsoft's
> Visual C++ under c:\harbour_dev\msvc.
> Once installed, just invole respective makegnu_*.bat.
> Harbour binaries will be in place.
>
> As I has been working with xMate since its birth way
> back in 2004, I have choosen it to be Project Builder
> for this distribution. You are free to deploy
> whatever you are accustomed to.
>
> As a demo appln I have selected
> harbour/contrib/gtwvg/tests/demowvg.prg. This
> demo unfolds Harbour power in depth plus different
> ways one can employ to migrate his/her Clipper
> applications to GUI world strating with
> intermediatery semi GUI proto and culminating to
> pure GUI proto. This demo also deploys the
> in-development Xbase++ Parts clone whaich may
> attract your attention. Moreoever, this demo
> demonstrates MT ( multi-threading ) and multi-window
> GT which can be a big productivity boost right
> from the begining.
>
>
> Following is the tree structure this disto contains.
>
>
> c:\harbour_dev\
>
>   harbour\
>      bcc\
>         bin
>         include
>         lib
>      msvc\
>         bin
>         include
>         lib
>      mingw\
>         bin
>         include
>         lib
>      watcom\
>         bin
>         include
>         lib
>
>
>   bcc\
>      * distro tree
>   msvc\
>      * tree
>   mingw\
>      * tree
>   watcom\
>      * tree
>
>
>
>   xmate\
>      *.files | folders
>      /
>      wvgBCC.env         ( tied with demowvgBCC.xhp )
>      wvgMSVC.env        ( tied with demowvgMSVC.xhp )
>      wvgMINGW.env       ( tied with demowvgMINGW.xhp )
>      wvgWATCOM.env      ( tied with demowvgWATCOM.xhp )
>
>
>   dev_projects\
>      demowvg\
>         demowvgBCC.xhp
>         demowvgMSVC.xhp
>         demowvgMINGW.xhp
>         demowvgWATCOM.xhp
>
>      demoxbp\
>         demoxbp.xhp
>         * folders
>      developers_own_folders\
>         developer_project.xhp
>
>
>
>   dev_sources\
>      demowvg\
>         *.files
>      tests\
>         *.files
>
>
>   dev_libs\
>      # All together - it is a better design
>
>
>   dev_exes\
>      # All together of by project
>        May be it is dependant on other resource files
>
>
>
>   ChangeLog   ( Harbour SVN ChangeLog : Binaries Upto : Top Few Lines )
>
>   make.exe    ( mingw32-make.exe )
>
>   bcc32.cfg   ( Bcc Compiler Confuration : bcc\bin )
>   tlink32.cfg ( BCC Linker Configuration : bcc\bin )
>   wlink.lnk   ( Watcom Linker Configuration : watcom\binnt )
>
>   [ invoke it to get latest Harbour SVN binaries ]
>   /
>   makegnu_BCC.bat
>   makegnu_MSVC.bat
>   makegnu_MINGW.bat
>   makegnu_WATCOM.bat
>
>
> Enjoy
>
> Pritpal Bedi, a student of software analysis and design
>
> http://www.vouch.in  | Vouch, the software that GROWS with you
> http://www.vouch32.com  |  Home of Vouch32 ActiveX Server
> http://www.vouchcac.com/vouch32/vouch32.htm   |   A Free Windows Extended
>           Utilities Library for Clipper, Xbase++ and (x)Harbour
> http://www.help.vouch.info | Online Vouch Help
> http://www.harbour.vouch.info | Online Harbour Help
>
>
>
> --
> View this message in context:
> http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22326050.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/8a9c7eb2/attachment-0001.html
From mbelgrano at deltain.it  Wed Mar  4 04:19:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 04:19:56 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
Message-ID: <609353e70903040119w67b9c310l1ebf283fa11fa436@mail.gmail.com>

Also for me the word "o" is important
Open Watcom is the evolution of Watcom C
owatcom+1

2009/3/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Pritpal,
> Many thanks for your efforts providing this distro.
> Just one small note: To keep total consistency,
> maybe it'd be even better to change 'watcom' to
> 'owatcom'?in your tree and filenames.
> Another choice is that we rename owatcom to
> watcom, which seems okay for me, but I'd like
> to hear other opinions before doing it.
> Brgds,
> Viktor
>
From mbelgrano at deltain.it  Wed Mar  4 04:27:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 04:27:05 2009
Subject: [Harbour] A dream for future harbour version: CUI-GUI-WWW
Message-ID: <609353e70903040127m1e5d26f9hefdbcd77f707e70b@mail.gmail.com>

Hi hope that i like a lot  then Przemyslaw Czerpak's word about
CUI-GUI-WWW without source code modification .
Harbour  implementation now will grow [x]harbour and give new live to
a lot of clipper application but is interesting also for non clipper
developer
I Thanks to all (particular Przemyslaw & Viktor ) for the work done in
last years  Harbour now gets High reliability but with something like
CUI,GUI,WWW
Harbour can be in the future a very important language.

Today an Harbour application can easy be multi-threaded, multi-window,
hibrid GUI,
Using some more Future Harbour capabilities will be possible  made a
Remote terminal and A GUI (alsso good for web, maybe GTK), SQL
integration
Today we are  developing desktop  application, but, if  the
application must be accessible via the web, we must change way using
HTML+PHP+MYSQL

Is which way will Be  possible objective the "Replaceable User
Interface" defined by Przemyslaw Czerpak?
THis are my ideas

-Organise  harbour runtime  with a standard server side distribution
like php capable of execute standard precompiled module
Something like hbrun with  dynamic linking of remote GT loaded remotly

- transform harbour to  be capable of create JavaScript-php code. A
way similar to Google web toolkit. It translates Java to JavaScript to
create web
applications.

-consider  each browser  as operating systems (or platforms) by itself
and that Harbour should be capable of creating 'executables' for such
platforms.
Ron Pinkas in past have worked on idea of GTIexplorer. we can serch in
firefox community a collaboration for made this works

In each case Regarding GUI, interface objects defined via the Clipper
5.3 syntax should be enough to satisfy most of usual needs on web
development, so old code i hope could be reused with few changes


Any Further Comments is welcome

-- 
Massimo Belgrano
Harbour Dreamer



>8-3-2007
>A library which I can use with CUI, GUI and WWW Browsers without source
>code modification.
>Porting application to GUI only mode is a waste of time.
>We will need interface which will allow to run application remotely in
>CUI mode and when user turn off his terminal in scale register ;-)
>without closing application on the server and reconnect from office
>using desktop computer he should continue his job in GUI mode in the
>same instance of application and finally if he will want then we will
>have to allow him to finish the job using PDA and WWW browser when
>he will return to home.
>I plan to work on such library in the future.
>Przemyslaw Czerpak

>We have to stop thinking in desktop and in web development as different
>entities. We need a common interface for all our developments.
>That would be the most important target for Harbour 2.0 :-)
> - GT graphic "layer" on top of GT
> the web has changed everything. In the mid 90's the programs needed to
> be exactly like Office while today users switch from our apps to
> gmail, to bank online accounts, to "tax administration" sites so they
> use many differnt interfaces every day. This means that a "strictly"
> native interface is not "critical" as in the past.
> If only we could have some graphic on top of GT we could probably save
> much of our code, give a "decent" UI to our apps and keep the speed of
> text for remote access.
>
> Comments?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Mar  4 04:54:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 04:54:10 2009
Subject: [Harbour] Problem in latest SVN
In-Reply-To: <418FE06982BC41EE8AB15A889EFF8BDF@emag>
References: <4159F7088CC4490689D9F2F4E056E8F7@emag>
	<18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com>
	<3F115E1E79D942D482E84F6BB236ED79@emag>
	<18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com>
	<609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com>
	<CAE06646161F460FBA4C9E7C7C23B2BF@emag>
	<609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com>
	<AB7BBC5DBCFF4637BD9A46CCA81A0186@emag>
	<609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com>
	<418FE06982BC41EE8AB15A889EFF8BDF@emag>
Message-ID: <18d502870903040154j4edb49ddy509f489e4571ab1d@mail.gmail.com>

I've found the solution:
mingw32-make.exe will first - before the PATH - search its
own host directory, so if you store it in the same dir with some
old tools (TLIB.EXE for DOS f.e.), it will pick them first.

As a general advise it's good to store mingw32-make.exe in
its own dir and add that dir to the PATH to avoid such problems.

Brgds,
Viktor

On Tue, Mar 3, 2009 at 7:48 PM, Enrico Maria Giordano <
e.m.giordano@emagsoftware.it> wrote:

>
> -----Messaggio Originale----- Da: "Massimo Belgrano" <mbelgrano@deltain.it
> >
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: marted? 3 marzo 2009 19.30
> Oggetto: Re: [Harbour] Problem in latest SVN
>
>
>  I think that path will be skipped if drive will response slow (like a
>> lan drive) but if is same disk this is not case
>>
>
> Ok, but my drive e: is a physical hard drive.
>
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/891bf41d/attachment.html
From harbour.01 at syenar.hu  Wed Mar  4 04:56:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 04:56:15 2009
Subject: [Harbour] Sample make scripts
Message-ID: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>

Hi all,

To clear some misconceptions, here are a couple of sample make scripts
for Windows. Notice that it's impossible to list all combinations, so I hope
these are good to give an idea, and everyone can modify them to the local
needs. See INSTALL for reference, and if something still isn't clear, please
ask on the list. If you find any typos with these scripts, please also
report it, and I'll send updated versions.

NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your system.
         Don't use space in dirs.
NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
         depending on what you want to do.
NOTE #3: msvc/bcc implib creation is tentative, so I haven't included it
yet.

--- MSVC 2008 + SDK
set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2008
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2008 x64
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86_amd64
rem
set HB_COMPILER=msvc64
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2005
call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC .NET 2003 (untested)
call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
rem
set HB_COMPILER=msvc
set HB_VISUALC_VER_PRE80=yes
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Open Watcom C++
SET WATCOM=C:\devl\owatcom-1.8
SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
SET EDPATH=%WATCOM%\EDDAT
SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
rem
set HB_COMPILER=owatcom
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Borland/CodeGear C++
set PATH=C:\devl\bcc55\bin;%PATH%
rem
set HB_COMPILER=bcc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C
set PATH=C:\devl\PellesC-501\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
rem
set HB_COMPILER=pocc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C x64
set PATH=C:\devl\PellesC-501-64\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
rem
set HB_COMPILER=pocc64
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C CE/ARM
set PATH=C:\devl\PellesC-501\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
rem
set HB_COMPILER=poccce
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MinGW GCC
set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
rem
set HB_COMPILER=mingw
rem
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Cygwin GCC
set PATH=C:\devl\cygwin\bin;%PATH%
set
C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
set
LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
rem
set HB_COMPILER=cygwin
rem
set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--8<--
rem ; Add these _before_ above sample scripts to configure 3rd party
dependencies.
rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
rem   also cygwin drive notation for cygwin.
set HB_INC_ADS=C:\devl\ads\acesdk
set HB_INC_ALLEGRO=C:\devl\allegro\include
set HB_INC_APOLLO=C:\devl\Apollo\include
set HB_INC_BLAT=C:\devl\blat\full\source
set HB_INC_CURL=C:\devl\curl\include
set HB_INC_FIREBIRD=C:\devl\Firebird\include
set HB_INC_FREEIMAGE=C:\devl\FreeImage\Dist
set HB_INC_GD=C:\devl\gd\include
set HB_INC_LIBHARU=C:\devl\libharu\include
set HB_INC_MYSQL=C:\devl\mysql\include
set HB_INC_OPENSSL=C:\devl\openssl
set HB_INC_PGSQL=C:\devl\pgsql\include
-->8--

--8<--
rem ; To create installation packages (.exe + .zip),
rem   replace last lines (calling make_gnu.*) with these two:
set PATH=C:\devl\NSIS-2.44;%PATH%
call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
-->8--

Brgds.
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/5ec0fae4/attachment.html
From e.m.giordano at emagsoftware.it  Wed Mar  4 05:01:12 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Mar  4 05:01:18 2009
Subject: [Harbour] Problem in latest SVN
References: <4159F7088CC4490689D9F2F4E056E8F7@emag><18d502870903020248h2a34bfa1qc592806d438411d1@mail.gmail.com><3F115E1E79D942D482E84F6BB236ED79@emag><18d502870903030527o1e179983s64689ca3f22b48d4@mail.gmail.com><609353e70903030718x53c425bo6a51812ea887aa5a@mail.gmail.com><CAE06646161F460FBA4C9E7C7C23B2BF@emag><609353e70903030924i520d798bn81e0d67b08ea2ed2@mail.gmail.com><AB7BBC5DBCFF4637BD9A46CCA81A0186@emag><609353e70903031030m5f1535e9yadb00720bf6864cb@mail.gmail.com><418FE06982BC41EE8AB15A889EFF8BDF@emag>
	<18d502870903040154j4edb49ddy509f489e4571ab1d@mail.gmail.com>
Message-ID: <17FE5E79FE85429D966228EABCC98D14@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 4 marzo 2009 10.54
Oggetto: Re: [Harbour] Problem in latest SVN


> I've found the solution:
> mingw32-make.exe will first - before the PATH - search its
> own host directory, so if you store it in the same dir with some
> old tools (TLIB.EXE for DOS f.e.), it will pick them first.
>
> As a general advise it's good to store mingw32-make.exe in
> its own dir and add that dir to the PATH to avoid such problems.

Ok, many thanks.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Wed Mar  4 05:09:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  4 05:09:22 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
Message-ID: <22327034.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Many thanks for your efforts providing this distro.
> 
> Just one small note: To keep total consistency,
> maybe it'd be even better to change 'watcom' to
> 'owatcom' in your tree and filenames.
> 
> Another choice is that we rename owatcom to
> watcom, which seems okay for me, but I'd like
> to hear other opinions before doing it.
> 

Whatever way you decide.
Open Watcom distro's tree structure is under WATCOM 
so I decided this way. Let me know what is better.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22327034.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From toninhofwi at yahoo.com.br  Wed Mar  4 05:22:15 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Mar  4 05:18:54 2009
Subject: [Harbour] Harbour+FWH
In-Reply-To: <B451EDEB7CBE4F94AE353C8396D12760@particular>
References: <B451EDEB7CBE4F94AE353C8396D12760@particular>
Message-ID: <ndlsq4136ok81lc3o03n7qjj3f6ibvm0r9@4ax.com>

>Have some of you tested Harbour+MSVC+FWH? I saw here a little problem: When 
>I use the mouse wheel, the program freezes. Testing with xHarbour this 
>problem does not appears...

Hi Kleyber,

My FWH is working just fine but with BCC. Can you test with bcc to see
if the same issue appear please ?

Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From mbelgrano at deltain.it  Wed Mar  4 05:20:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 05:20:21 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
Message-ID: <609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>

Thanks
Can be added to install doc?
if authorised i can do.


only a little question
why  difference from sh make_gnu.s and call make_gnu.bat?

2009/3/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi all,
> To clear some misconceptions, here are a couple of sample make scripts
> for Windows. Notice that it's impossible to list all combinations, so I hope
> these are good to give an idea, and everyone can modify them to the local
> needs. See INSTALL for reference, and if something still isn't clear, please
> ask on the list. If you find any typos with these scripts, please also
> report it, and I'll send updated versions.
> NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your system.
> ?? ? ? ? Don't use space in dirs.
> NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
> ?? ? ? ? depending on what you want to do.
> NOTE #3: msvc/bcc implib creation is tentative, so I haven't included it
> yet.
> --- MSVC 2008 + SDK
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- MSVC 2008
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- MSVC 2008 x64
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86_amd64
> rem
> set HB_COMPILER=msvc64
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- MSVC 2005
> call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- MSVC .NET 2003 (untested)
> call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> set HB_VISUALC_VER_PRE80=yes
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- Open Watcom C++
> SET WATCOM=C:\devl\owatcom-1.8
> SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
> SET EDPATH=%WATCOM%\EDDAT
> SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
> rem
> set HB_COMPILER=owatcom
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- Borland/CodeGear C++
> set PATH=C:\devl\bcc55\bin;%PATH%
> rem
> set HB_COMPILER=bcc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- Pelles C
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
> rem
> set HB_COMPILER=pocc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- Pelles C x64
> set PATH=C:\devl\PellesC-501-64\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
> set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
> rem
> set HB_COMPILER=pocc64
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- Pelles C CE/ARM
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
> rem
> set HB_COMPILER=poccce
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- MinGW GCC
> set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
> rem
> set HB_COMPILER=mingw
> rem
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --- Cygwin GCC
> set PATH=C:\devl\cygwin\bin;%PATH%
> set
> C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
> set
> LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
> rem
> set HB_COMPILER=cygwin
> rem
> set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> --8<--
> rem ; Add these _before_ above sample scripts to configure 3rd party
> dependencies.
> rem ? For 'mingw' and 'cygwin' you'll have to use forward slashes and
> rem ? also cygwin drive notation for cygwin.
> set HB_INC_ADS=C:\devl\ads\acesdk
> set HB_INC_ALLEGRO=C:\devl\allegro\include
> set HB_INC_APOLLO=C:\devl\Apollo\include
> set HB_INC_BLAT=C:\devl\blat\full\source
> set HB_INC_CURL=C:\devl\curl\include
> set HB_INC_FIREBIRD=C:\devl\Firebird\include
> set HB_INC_FREEIMAGE=C:\devl\FreeImage\Dist
> set HB_INC_GD=C:\devl\gd\include
> set HB_INC_LIBHARU=C:\devl\libharu\include
> set HB_INC_MYSQL=C:\devl\mysql\include
> set HB_INC_OPENSSL=C:\devl\openssl
> set HB_INC_PGSQL=C:\devl\pgsql\include
> -->8--
> --8<--
> rem ; To create installation packages (.exe + .zip),
> rem ? replace last lines (calling make_gnu.*) with these two:
> set PATH=C:\devl\NSIS-2.44;%PATH%
> call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
> -->8--
> Brgds.
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Mar  4 05:34:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 05:34:17 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
	<609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>
Message-ID: <18d502870903040234w30ff0cffy4a3bbcabc3abe20b@mail.gmail.com>

>
> Can be added to install doc?
>
if authorised i can do.
>

No, please. I intentionally didn't add it, because it's not Harbour's job to
maintain information about 3rd party compiler setup details.
Maybe I'm wrong, but I assume any developer seriously considering software
development on his own, _can_ read a readme and setup
a compiler adequately. If not, much worse problems will arise pretty
quickly along the development process.

I may add it to wiki maybe.

> only a little question
> why  difference from sh make_gnu.s and call make_gnu.bat?

Because MinGW and Cygwin need bash shell to have the best results.
Had you read INSTALL, you could have found it out by yourself ;)

They could also work with normal command shell, but some
features won't be available, plus some complications need to
be solved, so I opted to completely leave that road for clarity.

Brgds,
Viktor

On Wed, Mar 4, 2009 at 11:20 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Thanks
> Can be added to install doc?
> if authorised i can do.
>
>
> only a little question
> why  difference from sh make_gnu.s and call make_gnu.bat?
>
> 2009/3/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi all,
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/e1525a04/attachment.html
From miguelangel at marchuet.net  Wed Mar  4 05:50:21 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Wed Mar  4 05:44:22 2009
Subject: [Harbour] problems building with last changes
Message-ID: <49AE5CED.8010308@marchuet.net>

error with last changes trying to build

config/dir.cf:55: *** missing `endif'.  Stop.
From mbelgrano at deltain.it  Wed Mar  4 06:08:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 06:08:19 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <18d502870903040234w30ff0cffy4a3bbcabc3abe20b@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
	<609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>
	<18d502870903040234w30ff0cffy4a3bbcabc3abe20b@mail.gmail.com>
Message-ID: <609353e70903040308n49072ddate367a503cbebde43@mail.gmail.com>

Add to wiki is very good choice so we not lost intresting information
i suggest also add address of wiki in "FOR MORE INFORMATION" section

I think that now thirty party lib like hwgui,minigui,oog,xhgtk,letodb
seem little obsolete with old make_b32 batch structure
I made an invitation to integrate in multiple compiler distribution so
we can easy made the recompilation for  multiple platform & compiler

2009/3/4 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Can be added to install doc?
>>
>> if authorised i can do.
>
> No, please. I intentionally didn't add it, because it's?not Harbour's
> job to maintain information about 3rd?party compiler setup details.
> Maybe I'm wrong, but?I assume any developer?seriously considering
> software development on his own, _can_?read a readme?and setup
> a compiler adequately. If not, much worse?problems will arise pretty
> quickly along the development process.
> I may add it to wiki maybe.
>> only a little question
>> why ?difference from sh make_gnu.s and call make_gnu.bat?
>
> Because MinGW and Cygwin need bash shell to have?the best results.
> Had you read INSTALL, you could have?found?it out by yourself ;)
> They could also work with normal command shell, but some
> features won't be available, plus some complications need to
> be solved, so I opted to completely leave that road for clarity.
> Brgds,
> Viktor
>
> On Wed, Mar 4, 2009 at 11:20 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Thanks
>> Can be added to install doc?
>> if authorised i can do.
>>
>>
From harbour.01 at syenar.hu  Wed Mar  4 06:15:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 06:15:36 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
Message-ID: <18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>

Updated list:

- core: hb_regexMatch()'s 3rd parameter has a double meaning.
  Anybody on this one, am I overlooking something?
- hbmk2 green light from Przemek regarding *nixes.
- core: HB_MD5() incompatible modification.
- Platform builds and tests.
- whatsnew.txt update.

NON-CRITICAL (for me) LIST:

- hbct: SetFDaTi() duplicated logic.
- core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().

POSTPONED:

- xhb: .prg level MT issues.
- gtwvg: AMD64 mode and WinCE.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/f12a7027/attachment.html
From harbour.01 at syenar.hu  Wed Mar  4 06:29:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 06:29:09 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <609353e70903040308n49072ddate367a503cbebde43@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
	<609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>
	<18d502870903040234w30ff0cffy4a3bbcabc3abe20b@mail.gmail.com>
	<609353e70903040308n49072ddate367a503cbebde43@mail.gmail.com>
Message-ID: <18d502870903040329m2eaa258aodc73aeefa638ab3@mail.gmail.com>

>
> Add to wiki is very good choice so we not lost intresting information
> i suggest also add address of wiki in "FOR MORE INFORMATION" section


Yeah, but currently there is NO information on the wiki ;)


> I think that now thirty party lib like hwgui,minigui,oog,xhgtk,letodb
> seem little obsolete with old make_b32 batch structure
> I made an invitation to integrate in multiple compiler distribution so
> we can easy made the recompilation for  multiple platform & compiler


I don't know these projects' priorities and concerns, of course
it would great if they'd integrate well and support similar set of
compiler tools.

>From 3rd parties it would be great if they could provide .hbp files
with the required libs and maybe other settings.

Here are a few (probably outdated) examples to give an idea:
/utils/hbmk2/examples/*.hbp

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/06c5e5eb/attachment-0001.html
From lorenzo.fiorini at gmail.com  Wed Mar  4 06:29:32 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  4 06:29:36 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
Message-ID: <9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>

On Wed, Mar 4, 2009 at 12:15 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> - core: hb_regexMatch()'s 3rd parameter has a double meaning.
> ??Anybody on this one, am I overlooking something?
> - hbmk2 green light from Przemek regarding *nixes.

Which one hb_regexMatch or hbmk2?

When you say green light do you mean to "replace" actual hb* bash scripts?

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Mar  4 06:31:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 06:31:11 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <609353e70903040308n49072ddate367a503cbebde43@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
	<609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>
	<18d502870903040234w30ff0cffy4a3bbcabc3abe20b@mail.gmail.com>
	<609353e70903040308n49072ddate367a503cbebde43@mail.gmail.com>
Message-ID: <609353e70903040331o7becfh1196d86aa8fd7218@mail.gmail.com>

Other little suggestion is  remove from wiki
https://apps.sourceforge.net/trac/harbour-project/wiki the track guide
that we can found at http://trac.edgewall.org/
Best regard

2009/3/4 Massimo Belgrano <mbelgrano@deltain.it>:
> Add to wiki is very good choice so we not lost intresting information
> i suggest also add address of wiki in "FOR MORE INFORMATION" section

Massimo Belgrano
From mbelgrano at deltain.it  Wed Mar  4 06:39:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 06:39:34 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <609353e70903040331o7becfh1196d86aa8fd7218@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
	<609353e70903040220t1e9be194lcc342053334e9b59@mail.gmail.com>
	<18d502870903040234w30ff0cffy4a3bbcabc3abe20b@mail.gmail.com>
	<609353e70903040308n49072ddate367a503cbebde43@mail.gmail.com>
	<609353e70903040331o7becfh1196d86aa8fd7218@mail.gmail.com>
Message-ID: <609353e70903040339l6b6a661fg6d62e3844892e368@mail.gmail.com>

I suggest Starting wiki from scratch and invite everybody post - share
documentation
Start simply
"Welcome to the Harbour Open Source Project"
I can have for example same doc (collected here )  regarding multi
thread & hbmk that can share here
Other user will have similar material?


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Mar  4 06:41:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 06:41:33 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
Message-ID: <18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>

>
> > - core: hb_regexMatch()'s 3rd parameter has a double meaning.
> >   Anybody on this one, am I overlooking something?
> > - hbmk2 green light from Przemek regarding *nixes.
>
> Which one hb_regexMatch or hbmk2?


hb_regexMatch()


> When you say green light do you mean to "replace" actual hb* bash scripts?


yes.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/1bb28061/attachment.html
From mbelgrano at deltain.it  Wed Mar  4 06:44:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 06:45:01 2009
Subject: [Harbour] problems building with last changes
In-Reply-To: <49AE5CED.8010308@marchuet.net>
References: <49AE5CED.8010308@marchuet.net>
Message-ID: <609353e70903040344x32542e75r32d4367b81d5a35@mail.gmail.com>

Hi Miguel
I have tried recompilation with bcc without error
I have used sample script posted by Viktor

--- Borland/CodeGear C++
set PATH=C:\devl\bcc55\bin;%PATH%
rem
set HB_COMPILER=bcc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1



2009/3/4 Miguel Angel Marchuet <miguelangel@marchuet.net>:
> error with last changes trying to build
>
> config/dir.cf:55: *** missing `endif'. ?Stop.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From druzus at users.sourceforge.net  Wed Mar  4 06:50:36 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar  4 06:50:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10530] trunk/harbour
Message-ID: <E1LepcS-0006Ue-El@c3vjzd1.ch3.sourceforge.com>

Revision: 10530
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10530&view=rev
Author:   druzus
Date:     2009-03-04 11:50:35 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 12:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * explicitly bind system libraries with harbour shared library.
      RPM/DEB packages should automatically detect these dependencies.
      Viktor, now you do not have to pass system libraries like
      m, dl, rt, pthread, socket, nsl, resolv, curses, slang, x11,
      wininet, ws2, commdlg, commctrl, uuid, ole32 ... when you create
      shared binaries by hbmk2 - all bindings are in harbour shared
      library. They are necessary only for static builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Mar  4 07:27:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 07:21:51 2009
Subject: [Harbour] hbmk2 - notes2
Message-ID: <20090304122733.GA15521@uran.home.aster.pl>

Hi Viktor,

Next notes to current hbmk2:

1. gtcrs and gtsln are not in the list of linked libraries, gtxwc is
   but see below.
   hbmk should have list of all core libraries and verify which ones
   exist in the lib dir.
2. hbmk2 does not add GT releated system libraries for static builds
   if -gt<name> switch is not used. It means that
      REQUEST HB_GT_<name>
   in source code does not work.
   For shared builds it should not be necessary for current SVN.
3. The logic for link time settings (GTs, fmstat, main func) is enabled also
   for -hbcmp and -hbcc what breaks these options. Try to make:
      hbmk2 -hbcmp t.prg
   with GCC.
4. /usr/lib/harbour/libharbour.so is still passed explicitly with the path
   to linked library list and hardcoded in final binaries. IMHO it should
   never happen. I think about the logic of detecting system library list
   but even if I implement it then hbmk2 will still create problems.
   Just simply such binaries cannot be used on other computers. In most
   of cases I have different local Harbour builds for production environment
   and I need distributable binaries as result of compilation not local only
   toys ;-) For local usage I can set any environment I want so I do not find
   it as a problem but I cannot say the same about destination computers.
   If you think it's usable for some reasons then please add new switch
   like -fullpath or -share[path] which will store paths to shared libraries
   in final binaries. But in such case please remember that you should not
   pass <path>/libharbour.{so,sl,dyn,dll,...} to GCC parameters when -c
   which is used in -hbcc or -hbcmp. In such form (not passed as -lharbour)
   it's only link time GCC parameter and should not be used to compile
   time phase.

best regards,
Przemek
From kadziola at tlen.pl  Wed Mar  4 07:29:31 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Mar  4 07:29:37 2009
Subject: [Harbour] WinCE app
Message-ID: <1767728304.20090304132931@tlen.pl>

Hi all,

Is anybody who made application with Harbour worked on palmtop with
Windows Mobile/CE ? I'm using clipper + PocketDos and i want to change
it.
How to do it - step by step ?

-- 
Best regards,
Jaroslaw Kadziola

From harbour.01 at syenar.hu  Wed Mar  4 07:41:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 07:41:51 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304122733.GA15521@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
Message-ID: <18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>

Hi Przemek,


> 1. gtcrs and gtsln are not in the list of linked libraries, gtxwc is
>   but see below.
>   hbmk should have list of all core libraries and verify which ones
>   exist in the lib dir.


I'd like to avoid the kind of parsing like that. Such information
should be passed through hbmk.cfg if needed for hbmk2 workings.

gtcrs and gtsln should also be picked up from hbmk.cfg.

Please provide some example I can do testing on, because
it was very difficult to decipher the original logic of these, and
it's possible that I didn't test some scenarios, or missed some
things.


> 2. hbmk2 does not add GT releated system libraries for static builds
>   if -gt<name> switch is not used. It means that
>      REQUEST HB_GT_<name>
>   in source code does not work.
>   For shared builds it should not be necessary for current SVN.


I'll try to check.

Could you pass me an example?


> 3. The logic for link time settings (GTs, fmstat, main func) is enabled
> also
>   for -hbcmp and -hbcc what breaks these options. Try to make:
>      hbmk2 -hbcmp t.prg
>   with GCC.


I'll fix this ASAP.


> 4. /usr/lib/harbour/libharbour.so is still passed explicitly with the path
>   to linked library list and hardcoded in final binaries. IMHO it should
>   never happen. I think about the logic of detecting system library list
>   but even if I implement it then hbmk2 will still create problems.
>   Just simply such binaries cannot be used on other computers. In most
>   of cases I have different local Harbour builds for production environment
>   and I need distributable binaries as result of compilation not local only
>   toys ;-) For local usage I can set any environment I want so I do not
> find
>   it as a problem but I cannot say the same about destination computers.
>   If you think it's usable for some reasons then please add new switch
>   like -fullpath or -share[path] which will store paths to shared libraries
>   in final binaries. But in such case please remember that you should not
>   pass <path>/libharbour.{so,sl,dyn,dll,...} to GCC parameters when -c
>   which is used in -hbcc or -hbcmp. In such form (not passed as -lharbour)
>   it's only link time GCC parameter and should not be used to compile
>   time phase.


Please provide some details of your environment and hbmk2 cmd-line
+ -trace result when this happens, there are numerous factors and without
more information I cannot refine it.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/8aca03ec/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Mar  4 08:13:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 08:13:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10531] trunk/harbour
Message-ID: <E1LequP-0000YY-7C@74yxhf1.ch3.sourceforge.com>

Revision: 10531
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10531&view=rev
Author:   vszakats
Date:     2009-03-04 13:13:12 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 14:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/man/hbmk.1
    * Updated. Blindly.
      Do someone know a tool which can render man pages and show
      it without having to install this file first?

  * utils/hbmk2/hbmk2.prg
    ! Fixed to not create .c stub if only C compilation is requested.
      In this case it won't do any entry function detection either.
    ! Attempt to fix core GT dependencies not automatically linked
      with gcc/*nix for gtsln/gtcrs/gtxwc (in static mode).
    % Not adding some (now unnecessary) system libraries when in
      shared mode for gcc family compilers on all platforms.
      See: 2009-03-04 12:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
    ; Please test above changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar  4 08:19:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 08:19:29 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304122733.GA15521@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
Message-ID: <18d502870903040519u45e6f5fax344233f49adb22a6@mail.gmail.com>

Hi Przemek,


> 1. gtcrs and gtsln are not in the list of linked libraries, gtxwc is
>   but see below.
>   hbmk should have list of all core libraries and verify which ones
>   exist in the lib dir.
> 2. hbmk2 does not add GT releated system libraries for static builds
>   if -gt<name> switch is not used. It means that
>      REQUEST HB_GT_<name>
>   in source code does not work.
>   For shared builds it should not be necessary for current SVN.
> 3. The logic for link time settings (GTs, fmstat, main func) is enabled
> also
>   for -hbcmp and -hbcc what breaks these options. Try to make:
>      hbmk2 -hbcmp t.prg
>   with GCC.


Please recheck after r10531.


> 4. /usr/lib/harbour/libharbour.so is still passed explicitly with the path
>   to linked library list and hardcoded in final binaries. IMHO it should
>   never happen. I think about the logic of detecting system library list
>   but even if I implement it then hbmk2 will still create problems.
>   Just simply such binaries cannot be used on other computers. In most
>   of cases I have different local Harbour builds for production environment
>   and I need distributable binaries as result of compilation not local only
>   toys ;-) For local usage I can set any environment I want so I do not
> find
>   it as a problem but I cannot say the same about destination computers.
>   If you think it's usable for some reasons then please add new switch
>   like -fullpath or -share[path] which will store paths to shared libraries
>   in final binaries. But in such case please remember that you should not
>   pass <path>/libharbour.{so,sl,dyn,dll,...} to GCC parameters when -c
>   which is used in -hbcc or -hbcmp. In such form (not passed as -lharbour)
>   it's only link time GCC parameter and should not be used to compile
>   time phase.


Waiting for more information here.

If you want to play with it, this is the part that selects to include or
not to include shared lib dir:

--- hbmk2.prg, line 951-955
      IF lSysLoc
         cPrefix := PathNormalize( s_cHB_LIB_INSTALL, .T. )
      ELSE
         cPrefix := ""
      ENDIF
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/fb7410a6/attachment.html
From amigosam at adinet.com.uy  Wed Mar  4 08:25:48 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Mar  4 08:26:10 2009
Subject: [Harbour] Re: A dream for future harbour version: CUI-GUI-WWW
In-Reply-To: <609353e70903040127m1e5d26f9hefdbcd77f707e70b@mail.gmail.com>
References: <609353e70903040127m1e5d26f9hefdbcd77f707e70b@mail.gmail.com>
Message-ID: <golvgu$bti$1@ger.gmane.org>

Would it be possible to create a reduced harbour VM in javascript 
instead of C ?
How would it perform ?
advantaje: you dont have to give your source code and know how to the 
end user
disadvantaje: no access to local resources would require something 
similar to leto-db for dbf/sql/wathever management (some people might 
name AJAX )
THAT would be a killing tool for cloud computing.

Just an opinion...
Angel Pais



Massimo Belgrano escribi?:
> Hi hope that i like a lot  then Przemyslaw Czerpak's word about
> CUI-GUI-WWW without source code modification .
> 
> 
> Any Further Comments is welcome
> 

From druzus at acn.waw.pl  Wed Mar  4 08:34:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 08:28:31 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
Message-ID: <20090304133412.GA18030@uran.home.aster.pl>

On Wed, 04 Mar 2009, Szak?ts Viktor wrote:

Hi,

> I'd like to avoid the kind of parsing like that. Such information
> should be passed through hbmk.cfg if needed for hbmk2 workings.
> gtcrs and gtsln should also be picked up from hbmk.cfg.

But they aren't so please fix it.
I also do not understand this logic. So why GTXWC is in the linked
library list?

> Please provide some example I can do testing on, because
> it was very difficult to decipher the original logic of these, and
> it's possible that I didn't test some scenarios, or missed some
> things.

1-st the very basic functionality. We will talk about other features
when this part will be ready:

1. hbcmp -> create .o file from given .prg ones
2. hbcc -> C wrapper which set -I, -L paths and -l libraries.
3. hblnk -> C link time wrapper. It should respect link time hbmk2
   parameters like -gt*, -main=*

Basic test.
   echo "? 'hello'" > t.prg
   harbour t.prg -o tc.c -I<hbincdir>

   hbmk t               # result t[.<exeext>]
   hbcmp t              # result t.<objext>
   hblnk t.<objext>     # result t[.<exeext>]
   hbcc -c t.c          # result t.<objext>

When it will work you can try to compile XHGTK.
Just simply create hbcmp and hbcc links to hbmk2 and check if it works.

> > 2. hbmk2 does not add GT releated system libraries for static builds
> >   if -gt<name> switch is not used. It means that
> >      REQUEST HB_GT_<name>
> >   in source code does not work.
> >   For shared builds it should not be necessary for current SVN.
> I'll try to check.
> Could you pass me an example?

   /* t2.prg */
   REQUEST HB_GT_CRS_DEFAULT
   proc main()
      ? "Hello"
   return

   hbmk2 -n -w -es2 -static t2

> > 3. The logic for link time settings (GTs, fmstat, main func) is enabled
> > also
> >   for -hbcmp and -hbcc what breaks these options. Try to make:
> >      hbmk2 -hbcmp t.prg
> >   with GCC.
> I'll fix this ASAP.

Thank you.

> > 4. /usr/lib/harbour/libharbour.so is still passed explicitly with the path
> >   to linked library list and hardcoded in final binaries. IMHO it should
> >   never happen. I think about the logic of detecting system library list
> >   but even if I implement it then hbmk2 will still create problems.
> >   Just simply such binaries cannot be used on other computers. In most
> >   of cases I have different local Harbour builds for production environment
> >   and I need distributable binaries as result of compilation not local only
> >   toys ;-) For local usage I can set any environment I want so I do not
> > find
> >   it as a problem but I cannot say the same about destination computers.
> >   If you think it's usable for some reasons then please add new switch
> >   like -fullpath or -share[path] which will store paths to shared libraries
> >   in final binaries. But in such case please remember that you should not
> >   pass <path>/libharbour.{so,sl,dyn,dll,...} to GCC parameters when -c
> >   which is used in -hbcc or -hbcmp. In such form (not passed as -lharbour)
> >   it's only link time GCC parameter and should not be used to compile
> >   time phase.
> Please provide some details of your environment and hbmk2 cmd-line
> + -trace result when this happens, there are numerous factors and without
> more information I cannot refine it.

I do not understand why you need all these information. Simple test:

   druzus:/tmp/18# hbmk2 -n -w -es2 -trace t
   hbmk: Processing configuration: /etc/harbour/hbmk.cfg
   hbmk: Harbour compiler command:
   /usr/bin/harbour -n2 t -i/usr/include/harbour -n -w -es2
   Harbour 1.1.0dev (Rev. 10523)
   Copyright (c) 1999-2009, http://www.harbour-project.org/
   Compiling 't.prg'...
   Lines 4, Functions/Procedures 1
   Generating C source output to 't.c'... Done.
   hbmk: C compiler command:
   gcc t.c /tmp/hbmk_aisbmo.c   -O3  -ot -I/usr/include/harbour -L/usr/lib/harbour -L/usr/X11R6/lib -Wl,--start-group /usr/lib/harbour/libharbour.so -lhbcplr -lhbdebug -lm -ldl -lrt -lncurses -lslang -lX11 -Wl,--end-group

/usr/lib/harbour/libharbour.so is passed explicitly not as -lharbour.
Result: final binaries have the hardcoded path:
   druzus:/tmp/18# ldd t
        linux-gate.so.1 =>  (0xffffe000)
        /usr/lib/harbour/libharbour.so (0xb7c65000)
        libm.so.6 => /lib/libm.so.6 (0xb7c17000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7c13000)
        librt.so.1 => /lib/librt.so.1 (0xb7c0a000)
        libncurses.so.5 => /lib/libncurses.so.5 (0xb7bd3000)
        libslang.so.2 => /usr/lib/libslang.so.2 (0xb7b04000)
        libX11.so.6 => /usr/lib/libX11.so.6 (0xb79e2000)
        libc.so.6 => /lib/libc.so.6 (0xb789f000)
        /lib/ld-linux.so.2 (0xb80e0000)
        libpthread.so.0 => /lib/libpthread.so.0 (0xb7887000)
        libxcb-xlib.so.0 => /usr/lib/libxcb-xlib.so.0 (0xb7884000)
        libxcb.so.1 => /usr/lib/libxcb.so.1 (0xb786b000)
        libXau.so.6 => /usr/lib/libXau.so.6 (0xb7866000)

See:
        /usr/lib/harbour/libharbour.so (0xb7c65000)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

It means that this binaries will not work with any other libharbour.so
location so I cannot distribute them.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar  4 08:55:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 08:49:50 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304133412.GA18030@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
Message-ID: <20090304135530.GA22605@uran.home.aster.pl>

On Wed, 04 Mar 2009, Przemyslaw Czerpak wrote:

Hi,

> Basic test.
>    echo "? 'hello'" > t.prg
>    harbour t.prg -o tc.c -I<hbincdir>
> 
>    hbmk t               # result t[.<exeext>]
>    hbcmp t              # result t.<objext>
>    hblnk t.<objext>     # result t[.<exeext>]
>    hbcc -c t.c          # result t.<objext>

And the last one I forgot:
   hbcc t.c             # result t[.<exeext>]

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar  4 08:52:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 08:52:24 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304133412.GA18030@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
Message-ID: <18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>

>
> > I'd like to avoid the kind of parsing like that. Such information
> > should be passed through hbmk.cfg if needed for hbmk2 workings.
> > gtcrs and gtsln should also be picked up from hbmk.cfg.
>
> But they aren't so please fix it.
> I also do not understand this logic. So why GTXWC is in the linked
> library list?


It's there by default, but it probably shouldn't, so I'll remove it. (line
397)

Can you please post the content of your hbmk.cfg file, and also
tell whether it's picked by hbmk2? There should now be a screen
message about this, unless you use -quiet.

Installation should put these lines in hbmk2.cfg, when these GTs are
built (respectively):
libdynhas=gtxwc
libdynhas=gtcrs
libdynhas=gtsln


> > Please provide some example I can do testing on, because
> > it was very difficult to decipher the original logic of these, and
> > it's possible that I didn't test some scenarios, or missed some
> > things.
>
> 1-st the very basic functionality. We will talk about other features
> when this part will be ready:
>
> 1. hbcmp -> create .o file from given .prg ones
> 2. hbcc -> C wrapper which set -I, -L paths and -l libraries.
> 3. hblnk -> C link time wrapper. It should respect link time hbmk2
>   parameters like -gt*, -main=*
>
> Basic test.
>   echo "? 'hello'" > t.prg
>   harbour t.prg -o tc.c -I<hbincdir>
>
>   hbmk t               # result t[.<exeext>]


OK


>   hbcmp t              # result t.<objext>


OK (== hbmk2 -hbcmp t)


>   hblnk t.<objext>     # result t[.<exeext>]


OK (== hbmk2 t.<objext>)


>   hbcc -c t.c          # result t.<objext>


OK (== hbmk2 -hbcc t.c)


> When it will work you can try to compile XHGTK.
> Just simply create hbcmp and hbcc links to hbmk2 and check if it works.


So, none of these work for you?

I don't understand -c option as it's not documented
in hbmk script help, nor is it a Harbour option.

It means that this binaries will not work with any other libharbour.so
> location so I cannot distribute them.


Okay, thanks, it seems like a typo, can you
please retry after changing line 951 to 955 from this:
---
      IF lSysLoc
         cPrefix := PathNormalize( s_cHB_LIB_INSTALL, .T. )
      ELSE
         cPrefix := ""
      ENDIF
---
to this:
---
      IF lSysLoc
         cPrefix := ""
      ELSE
         cPrefix := PathNormalize( s_cHB_LIB_INSTALL, .T. )
      ENDIF
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/a5e7c9d1/attachment-0001.html
From druzus at users.sourceforge.net  Wed Mar  4 08:56:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar  4 08:56:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10532] trunk/harbour
Message-ID: <E1LeraH-0001es-Py@74yxhf1.ch3.sourceforge.com>

Revision: 10532
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10532&view=rev
Author:   druzus
Date:     2009-03-04 13:56:29 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 15:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_gnu.sh
    * small cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar  4 09:30:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 09:30:24 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304135530.GA22605@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<20090304135530.GA22605@uran.home.aster.pl>
Message-ID: <18d502870903040630x77fb7252m287ccb3f078c0473@mail.gmail.com>

>
> >    hbmk t               # result t[.<exeext>]
> >    hbcmp t              # result t.<objext>
> >    hblnk t.<objext>     # result t[.<exeext>]
> >    hbcc -c t.c          # result t.<objext>
>
> And the last one I forgot:
>   hbcc t.c             # result t[.<exeext>]


Okay, so we have three real modes:
-hbcmp    -> input to .c
-hbcc -c   -> input to object
-hbcc       -> input to executable
-hblnk      -> input to executable

I'll implement this for compatibility, but in essence this
seem to be a much more confusing variation of having
three clear modes (unless I'm still missing some subtle detail):
-stopafterharbour     -> hbcmp
-stopafterccompiler  -> hbcc -c
(default)                  -> hbmk, hbcc, hblnk

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/45454a6c/attachment.html
From lorenzo.fiorini at gmail.com  Wed Mar  4 09:37:44 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar  4 09:37:49 2009
Subject: [Harbour] I add mapi32.dll and mpr.dll to the win syslib list
Message-ID: <9257026e0903040637v36cc9c75q6a9265afe064b6b2@mail.gmail.com>

In my local tree, I've always added -lmapi32 and -lmpr:

...
HB_SYS_LIBS="${HB_SYS_LIBS} -luser32 -lwinspool -lgdi32 -lcomctl32
-lcomdlg32 -lole32 -loleaut32 -luuid -lwsock32 -lws2_32 -lmapi32
-lmpr"
...

- mapi32 is used for mapisendmail which is a quite common way to send
emails from Win apps
- mpr is necessary for hbct net* functions.

Adding them to the list will not hurt anyone and will make life easier
when hbct is used.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Mar  4 09:44:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 09:38:31 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903040630x77fb7252m287ccb3f078c0473@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<20090304135530.GA22605@uran.home.aster.pl>
	<18d502870903040630x77fb7252m287ccb3f078c0473@mail.gmail.com>
Message-ID: <20090304144412.GA1485@uran.home.aster.pl>

On Wed, 04 Mar 2009, Szak?ts Viktor wrote:
> Okay, so we have three real modes:
> -hbcmp    -> input to .c
> -hbcc -c   -> input to object
> -hbcc       -> input to executable
> -hblnk      -> input to executable
> I'll implement this for compatibility, but in essence this
> seem to be a much more confusing variation of having
> three clear modes (unless I'm still missing some subtle detail):
> -stopafterharbour     -> hbcmp
> -stopafterccompiler  -> hbcc -c
> (default)                  -> hbmk, hbcc, hblnk

These are free modes only.
hbcc is simple C compiler wrapper. Nothing more nothing less.
I add hbcc -c only to help you because I expected that it will
not work in hbmk2.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar  4 09:50:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 09:44:22 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
Message-ID: <20090304145004.GB1485@uran.home.aster.pl>

On Wed, 04 Mar 2009, Szak?ts Viktor wrote:
> I don't understand -c option as it's not documented
> in hbmk script help, nor is it a Harbour option.

-c is C compiler option. Not hb* script.
hbcc doen not have assume any result of final build.
If this is a problem for you to separate internal hbmk2
compile time and link time logic then look of -c C compiler
switch. If it's not a problem then forget about -c and simply
make it working.
I only want to have working hbcc which can be used to compile
or link .c/.o/.a files just like C compiler.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar  4 09:50:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 09:50:23 2009
Subject: [Harbour] I add mapi32.dll and mpr.dll to the win syslib list
In-Reply-To: <9257026e0903040637v36cc9c75q6a9265afe064b6b2@mail.gmail.com>
References: <9257026e0903040637v36cc9c75q6a9265afe064b6b2@mail.gmail.com>
Message-ID: <18d502870903040650k79cc02abtbdcd4fcf4f74296c@mail.gmail.com>

Yes, we could do some streamlining here, as most compilers
and hbmk/hbmk2/gnu-make will use slightly different win syslib list.

gnu-make should use the minimum required to build Harbour libs
and binaries. This should still be cleaned.

hbmk2 could get a wider list, although I'm unsure where to draw
the line. Listing all libs is pbly a performance killer.

Anyhow there is utils/hbmk2/examples/winapi.hbp which has a
quite generic set of common libs. It can be used even now, it
include the two you've just said.

Brgds,
Viktor

On Wed, Mar 4, 2009 at 3:37 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> In my local tree, I've always added -lmapi32 and -lmpr:
>
> ...
> HB_SYS_LIBS="${HB_SYS_LIBS} -luser32 -lwinspool -lgdi32 -lcomctl32
> -lcomdlg32 -lole32 -loleaut32 -luuid -lwsock32 -lws2_32 -lmapi32
> -lmpr"
> ...
>
> - mapi32 is used for mapisendmail which is a quite common way to send
> emails from Win apps
> - mpr is necessary for hbct net* functions.
>
> Adding them to the list will not hurt anyone and will make life easier
> when hbct is used.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/c8e7ecdc/attachment.html
From harbour.01 at syenar.hu  Wed Mar  4 09:59:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 10:00:04 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304145004.GB1485@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
Message-ID: <18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>

>
> -c is C compiler option. Not hb* script.
> hbcc doen not have assume any result of final build.
> If this is a problem for you to separate internal hbmk2
> compile time and link time logic then look of -c C compiler
> switch. If it's not a problem then forget about -c and simply


No, it's already separated. This (-c) functionality was originally
covered by -hbcc switch, and the one with linking is the default
(still is).


> make it working.
> I only want to have working hbcc which can be used to compile
> or link .c/.o/.a files just like C compiler.


See my more recent reply on this. I have a patch pending (attached)
which accepts -c in -hbcc mode to create the "stopafterccompiler"
effect. I'm thinking of adding some cleaner (non-compatibility)
switches to achieve these effects, but this isn't urgent.

Brgds,
Viktor

--------------------------------------------------
Index: hbmk2.prg
===================================================================
--- hbmk2.prg (revision 10532)
+++ hbmk2.prg (working copy)
@@ -264,6 +264,7 @@

    LOCAL lStopAfterHarbour := .F.
    LOCAL lStopAfterCComp := .F.
+   LOCAL lAcceptCFlag := .F.

    LOCAL aParams
    LOCAL aParam
@@ -302,8 +303,8 @@
       CASE cParamL            == "-quiet" ; t_lQuiet := .T. ; t_lInfo :=
.F.
       CASE Left( cParamL, 6 ) == "-comp=" ; t_cCOMP := SubStr( cParam, 7 )
       CASE Left( cParamL, 6 ) == "-arch=" ; t_cARCH := SubStr( cParam, 7 )
-      CASE cParamL            == "-hbcmp" ; t_lInfo := .F. ;
lStopAfterHarbour := .F. ; lStopAfterCComp := .T.
-      CASE cParamL            == "-hbcc"  ; t_lInfo := .F. ;
lStopAfterHarbour := .F. ; lStopAfterCComp := .T.
+      CASE cParamL            == "-hbcmp" ; t_lInfo := .F. ;
lStopAfterHarbour := .F. ; lStopAfterCComp := .T. ; lAcceptCFlag := .F.
+      CASE cParamL            == "-hbcc"  ; t_lInfo := .F. ;
lStopAfterHarbour := .F. ; lStopAfterCComp := .F. ; lAcceptCFlag := .T.
       CASE cParamL            == "-hblnk" ; t_lInfo := .F.
       CASE cParamL            == "-info"  ; t_lInfo := .T.
       CASE cParamL == "-help" .OR. ;
@@ -327,13 +328,13 @@
    DO CASE
    CASE Right( tmp, 5 ) == "hbcmp" .OR. ;
         Left(  tmp, 5 ) == "hbcmp"
-      t_lInfo := .F. ; lStopAfterHarbour := .F. ; lStopAfterCComp := .T.
+      t_lInfo := .F. ; lStopAfterHarbour := .F. ; lStopAfterCComp := .T. ;
lAcceptCFlag := .F.
       IF t_lInfo
          OutStd( "hbmk: Enabled -hbcmp option." + hb_osNewLine() )
       ENDIF
    CASE Right( tmp, 4 ) == "hbcc" .OR. ;
         Left(  tmp, 4 ) == "hbcc"
-      t_lInfo := .F. ; lStopAfterHarbour := .F. ; lStopAfterCComp := .T.
+      t_lInfo := .F. ; lStopAfterHarbour := .F. ; lStopAfterCComp := .F. ;
lAcceptCFlag := .T.
       IF t_lInfo
          OutStd( "hbmk: Enabled -hbcc option." + hb_osNewLine() )
       ENDIF
@@ -394,7 +395,7 @@
          aCOMPSUP := { "gcc" }
       ENDIF
       cBin_CompPRG := "harbour"
-      s_aLIBHBGT := { "gttrm", "gtxwc" }
+      s_aLIBHBGT := { "gttrm" }
       t_cGTDEFAULT := "gttrm"
       cDynLibNamePrefix := "lib"
       cBinExt := NIL
@@ -703,6 +704,10 @@
          /* Swallow this switch. We don't pass it to Harbour, as it may
badly
             interact with hbmk. */

+      CASE lAcceptCFlag .AND. Left( cParamL, 2 ) == "-c"
+
+         lStopAfterCComp := .T
+
       CASE cParamL == "-gui" .OR. ;
            cParamL == "-mwindows"        ; s_lGUI      := .T. /*
Compatibility */
       CASE cParamL == "-std" .OR. ;
@@ -949,9 +954,9 @@
       ENDIF

       IF lSysLoc
+         cPrefix := ""
+      ELSE
          cPrefix := PathNormalize( s_cHB_LIB_INSTALL, .T. )
-      ELSE
-         cPrefix := ""
       ENDIF
 #if 1
       cPostfix := ""
--------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/207f9de8/attachment-0001.html
From mbelgrano at deltain.it  Wed Mar  4 10:05:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 10:05:23 2009
Subject: [Harbour] Re: Plase Share here Info about speed of c compiler
In-Reply-To: <609353e70902180521g3fa47cb6w920707fe0330654f@mail.gmail.com>
References: <609353e70902180521g3fa47cb6w920707fe0330654f@mail.gmail.com>
Message-ID: <609353e70903040705q3356eca9y41a010cbd9b2fbcb@mail.gmail.com>

Here i found Simple execution speed test for c compilers
wich result for ,pellesc,bcc
http://freevryheid.x10hosting.com/drupal/?q=node/51


2009/2/18 Massimo Belgrano <mbelgrano@deltain.it>:
> Interesting article also if a Little old (2004)
> http://www.ddj.com/showArticle.jhtml?documentID=ddj0405a&pgno=12
>
>
>
From mbelgrano at deltain.it  Wed Mar  4 10:41:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 10:41:27 2009
Subject: [Harbour] Sample make scripts
In-Reply-To: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
References: <18d502870903040156m190a297ao562247691230a74b@mail.gmail.com>
Message-ID: <609353e70903040741l53dac3f3j34375b47a2e101f8@mail.gmail.com>

Using Pelles C CE/ARM without modification with parameter clean install

mingw32-make.exe[3]: Entering directory `c:/harbour/source/pp/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE -DHB_NO_WIN_CONSOLE -
I../../../../include    -c ../../hbpp.c -Fohbpp.obj
polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce coredll.l
ib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
POLINK: error: Unresolved external symbol 'modfl'.
POLINK: fatal error: 1 unresolved external(s).
mingw32-make.exe[3]: *** [hbpp.exe] Error 1
rm hbpp.obj


2009/3/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> --- Pelles C CE/ARM
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
> rem
> set HB_COMPILER=poccce
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
From mbelgrano at deltain.it  Wed Mar  4 11:29:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar  4 11:29:23 2009
Subject: [Harbour] harbour project program
In-Reply-To: <531d7a750902230407g3258f728t222ef8c9a9c2d762@mail.gmail.com>
References: <609353e70902160040w2c49d144pcfb4301a8abb67c2@mail.gmail.com>
	<18d502870902160118t30ce9d37se5df694cc6e6f152@mail.gmail.com>
	<609353e70902160151h651b86b7l5bacb2cb08b01b78@mail.gmail.com>
	<18d502870902160222wde62456j201146c3f27eb6cc@mail.gmail.com>
	<609353e70902221051n59caa36ctae51652504f1ef8f@mail.gmail.com>
	<531d7a750902221557hdeddd6dof70bc7da601377f6@mail.gmail.com>
	<609353e70902230021k795a3237v1ba4101f1fce1bb4@mail.gmail.com>
	<531d7a750902230407g3258f728t222ef8c9a9c2d762@mail.gmail.com>
Message-ID: <609353e70903040829o60274378k7bb8684d2a0c2f1b@mail.gmail.com>

Qt multi platform environment at http://www.qtsoftware.com ,Used in
google Earth!!!
Qt look more cool but Afaik is not present any kind of wrapper library
For Harbour
this is point of view of google trend http://www.google.com/trends?q=Qt,gtk
http://theunixgeek.blogspot.com/2007/10/gtk-vs-qt.html


2009/2/23 Vailton Renato <vailtom@gmail.com>:
> Maybe, if using GTK ... but I like how Qt multi platform environment.
> I have not decided about this.
>
> 2009/2/23 Massimo Belgrano <mbelgrano@deltain.it>:
>> Look very good
>> Wich path do you think is possible for made simular tool in harbour in
>> multiplatform?
>>
>> 2009/2/23 Vailton Renato <vailtom@gmail.com>:
>>> About GUI Wrapper, look at mymake and see if he can inspire you or
>>> even help in some part on screenshots, options, etc.
>>>
>>> This tool was developed in Delphi and supports Harbor & xHarbour with
>>> BCC. Has translated into Portuguese, English, Spanish and Italian...
>>> The download link is http://sqllib.com.br/v4/index.php?artigo=MyMake
>>>
>>> 2009/2/22 Massimo Belgrano <mbelgrano@deltain.it>:
>>>> Here is my first template for a UI version console
>>>> Select one on more prg with enter and compile and run with f5
>>>> Particular useful running in harbour\test
>>>> It Generate also project file for xmate
>>>> now i want :
>>>> -support also hrb
>>>> -Manage also ?-GUI,-MT
>>>> -Give Capability to edit source selected with parametrised editor
>>>> -support more than 15 character in file name
>>>> - try linux
>>>> -Not exit but remain in memory after running the sample
>>>> - Give capability compile a source from clibpoard useful for compile
>>>> sample found in web
>>>>
>>>>
>>>>
>>>> Can my little work be part of harbour (example)?
>>>> This use on old path based on achoice emulating norton commanter look and feel
>>>> Have any other multiplatform suggestion for make a Multiple FIle
>>>> Select on a file system?
>>>>
>>>>
>>>>
>>>> /*
>>>> ?* $Id: hbm.prg
>>>> ?*/
>>>>
>>>> /*
>>>> ?* xHarbour Project source code:
>>>> ?* xHarbour Template for hbmk 2
>>>> ?*
>>>> ?* Copyright 2000 Massimo Belgrano
>>>> ?* www - http://www.xharbour.org
>>>> */
>>>> #include 'DIRECTRY.CH'
>>>> #include "INKEY.CH"
>>>>
>>>> function main
>>>> ? LOCAL qualedir ,QUALEPROG:=1
>>>> ?LOCAL FILECHOICE:={}
>>>> ?set func 2 to CHR(K_CTRL_W)
>>>> ?SET func 5 TO CHR(K_LEFT)
>>>> ?CLS
>>>> ?QUALEDIR="\"+CURDIR()
>>>> ?DO WHILE .T.
>>>> ? ? ?@ 0,54 CLEAR TO 23,79
>>>> ? ? ?@ 0,54 ?TO 23,79
>>>> ? ? ?FOR A=1 TO LEN(FILECHOICE)
>>>> ? ? ? ?@ 0+A,55 SAY RIGHT(FILECHOICE[A],20)
>>>> ? ? ?NEXT A
>>>> ? ? ?QUALEPROG=SELECT_FILE(filechoice,@QUALEDIR,"*.PRG",1,1,22,50)
>>>> ? ? ?@ 4,5 say qualedir
>>>> ? ? ?IF EMPTY(QUALEPROG)
>>>> ? ? ? ? IF LASTKEY()=K_RIGHT
>>>> ? ? ? ? ? ?SELECT_ELEMENT(FILECHOICE,1,55,22,78)
>>>> ? ? ? ? ELSE
>>>> ? ? ? ? ? ?EXIT
>>>> ? ? ? ? ENDIF
>>>> ? ? ? ENDIF
>>>> ? ? ?AADD(FILECHOICE,CURDRIVE()+":"+QUALEDIR+"\"+QUALEPROG)
>>>> ? ENDDO
>>>> ? if lastkey()<>27
>>>> ? ? IF LEN(FILECHOICE)>0
>>>> ? ? ? ? cls
>>>> ? ? ? ?CREA_XMATE(filechoice)
>>>> ? ? ? ? X_SHELL="HBMK2 "
>>>> ? ? ? ? FOR A=1 TO LEN(FILECHOICE)
>>>> ? ? ? ? ? ? X_SHELL=X_SHELL+FILECHOICE[A] ? +" "
>>>> ? ? ? ?NEXT A
>>>> ? ? ? ?X_SHELL=X_SHELL+"-RUN"
>>>> ? ? ? ?RUN(X_SHELL)
>>>> ? ? ENDIF
>>>> ? ?ENDIF
>>>> return
>>>>
>>>> FUNCTION SELECT_ELEMENT(FILECHOICE,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>>> ? LOCAL X_POS
>>>> ? if len(filechoice)=0
>>>> ? ? ?return
>>>> ? endif
>>>> ? do while .t.
>>>> ? ? ?@ x_BASSO+2,1 SAY "Press enter to remove element to list"
>>>> ? ? ?@ X_ALTO-1, X_SINISTRA -1 ?CLEAR to ?X_BASSO +1, X_DESTRA +1
>>>> ? ? ?@ X_ALTO-1, X_SINISTRA -1 ?to ?X_BASSO +1, X_DESTRA +1
>>>> ? ? ?X_POS=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,FILECHOICE,.T.)
>>>> ? ? ?IF X_POS>1
>>>> ? ? ? ? ADEL(FILECHOICE,X_POS)
>>>> ? ? ?else
>>>> ? ? ? ? exit
>>>> ? ? ?ENDIF
>>>> ? ?enddo
>>>> ? RETURN
>>>>
>>>> FUNCTION SELECT_FILE(filechoice,X_DIRSPEC,X_WILCARD,X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA)
>>>> ? LOCAL ADIRECTORY := {}, NITEM := 0, X_RET_VAL := .T.
>>>> ? LOCAL NUM_ARGOMENTI := 0, CFILESTRING := ""
>>>> ? LOCAL WIN_SELEZ
>>>> ? LOCAL X_ELEM_SEL:=0
>>>> ? SAVE SCREEN TO WIN_SELEZ
>>>> ? X_DIRSPEC=IIF(VALTYPE(X_DIRSPEC)="C",X_DIRSPEC,"\"+CURDIR())
>>>> ? X_ALTO=IIF(VALTYPE(X_ALTO)="N",X_ALTO,5)
>>>> ? X_SINISTRA=IIF(VALTYPE(X_SINISTRA)="N",X_SINISTRA,5)
>>>> ? X_BASSO=IIF(VALTYPE(X_BASSO)="N",X_BASSO,22)
>>>> ? X_DESTRA=IIF(VALTYPE(X_DESTRA)="N",X_DESTRA,40)
>>>> ? DO WHILE .T.
>>>> ? ? ? @ X_BASSO+2,1 say "Press Enter add program to compile
>>>> "+iif(len(filechoice)>0,"F5 compile and run ?Left Modify ?","") +"Esc
>>>> to Exit"
>>>> ? ? ?@ X_ALTO-1, X_SINISTRA -1 ?CLEAR to ?X_BASSO +1, X_DESTRA +1
>>>> ? ? ? @ X_ALTO-1, X_SINISTRA -1 ?to ?X_BASSO +1, X_DESTRA +1
>>>> ? ? ?X_DIRECTORY=X_DIRSPEC+"\*.*"
>>>> ? ? ?// carica una file list con le informazioni della directory
>>>> ? ? ?ADIRECTORY := DIRECTORY( x_directory, "D" )
>>>> ? ? ?NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>>> ? ? ?aFileList := {} ? ? ? ? ? ? ? ? ?// Cancella la vecchia lista
>>>> ? ? ?ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>>> // ORDINO LA DIRECTORY
>>>> ? ? ?// X[F_NAME],"B"+X[F_NAME]) <
>>>> IIF(Y[F_ATTR]="D","A"+Y[F_NAME],"B"+Y[F_NAME]) } )
>>>> ? ? ?// COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>>> ? ? ?FOR NITEM := 1 TO NUM_ARGOMENTI
>>>> ? ? ? ? IF ADIRECTORY[NITEM,F_ATTR ]=="D"
>>>> ? ? ? ? ? ?AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>>> ? ? ? ? ? ? ? ? ? " ? <dir>"+ " ?" + ;
>>>> ? ? ? ? ? ? ? ? ? DTOC( aDirectory[ nItem, F_DATE ] ) + " ?" + ;
>>>> ? ? ? ? ? ? ? ? ? SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + " ?" + ;
>>>> ? ? ? ? ? ? ? ? ? SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + " ?" )
>>>> ? ? ? ? ? ?ENDIF
>>>> ? ? ?NEXT
>>>> ? ? ?X_DIRECTORY=X_DIRSPEC+"\"+X_WILCARD
>>>> ? ? ADIRECTORY := DIRECTORY( x_directory, "D" )
>>>> ? ? NUM_ARGOMENTI := IF( VALTYPE( aDirectory ) != "A", 0, LEN( aDirectory ) )
>>>> ? ? ?ASORT( aDirectory,,, { | x, y | X[F_NAME] < Y[F_NAME] } )
>>>> ? ? ?// COMPONGO LA STRINGA CHE VERRA VISUALIZZATA NELLA ACHOICE
>>>> ? ? ?FOR NITEM := 1 TO NUM_ARGOMENTI
>>>> ? ? ? ? IF ADIRECTORY[NITEM,F_ATTR ]<>"D"
>>>> ? ? ? ? ? ?AADD( AFILELIST, PADR( ADIRECTORY[ NITEM, F_NAME ], 15 ) + ;
>>>> ? ? ? ? ? ? ? ? ? STR( aDirectory[ nItem, F_SIZE ], 8 )+ " ?" + ;
>>>> ? ? ? ? ? ? ? ? ? DTOC( aDirectory[ nItem, F_DATE ] ) + " ?" + ;
>>>> ? ? ? ? ? ? ? ? ? SUBSTR( aDirectory[ nItem, F_TIME ], 1, 5) + " ?" + ;
>>>> ? ? ? ? ? ? ? ? ? SUBSTR( aDirectory[ nItem, F_ATTR ], 1, 4 ) + " ?" )
>>>> ? ? ? ? ENDIF
>>>> ? ? ?NEXT
>>>> ? ? ? ?X_ELEM_SEL=ACHOICE(X_ALTO,X_SINISTRA,X_BASSO,X_DESTRA,AFILELIST,.T.,,X_ELEM_SEL)
>>>> ? ? ?IF X_ELEM_SEL=0
>>>> ? ? ? ? X_RET_VAL=""
>>>> ? ? ? ? EXIT
>>>> ? ? ?ENDIF
>>>> ? ? ?X_FILE_SEL=AFILELIST[X_ELEM_SEL]
>>>> ? ? ?IF SUBSTR(X_FILE_SEL,16,8)<>" ? <dir>"
>>>> ? ? ? ? X_RET_VAL=SUBSTR(X_FILE_SEL,1,15)
>>>> ? ? ? ? EXIT
>>>> ? ? ? ? ELSE
>>>> ? ? ? ? IF SUBSTR(X_FILE_SEL,1,1)="." ? && SALGO DI UNA DIRECTORY
>>>> ? ? ? ? ? ?X_DIRSPEC=SUBSTR(X_DIRSPEC,1,RAT("\",X_DIRSPEC)-1)
>>>> ? ? ? ? ? ?ELSE
>>>> ? ? ? ? ? ?X_DIRSPEC=X_DIRSPEC+"\"+ALLTRIM(SUBSTR(X_FILE_SEL,1,15))
>>>> ? ? ? ? ENDIF
>>>> ? ? ?ENDIF
>>>> ? ENDDO
>>>> ? RESTORE SCREEN FROM WIN_SELEZ
>>>> ? RETURN(X_RET_VAL)
>>>>
>>>> FUNCTION CREA_XMATE(filechoice)
>>>> ? local a_xmate:={},A
>>>> ? LOCAL X_LOG,X_MATE
>>>> ? AADD(A_XMATE,"[Version]")
>>>> ? AADD(A_XMATE,"Type=xMate")
>>>> ? AADD(A_XMATE,"Number=1.15")
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"[Info]")
>>>> ? AADD(A_XMATE,"Type=Executable")
>>>> ? AADD(A_XMATE,"Architecture=harbour")
>>>> ? AADD(A_XMATE,"Include=")
>>>> ? AADD(A_XMATE,"Define=")
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"[xMate]")
>>>> ? AADD(A_XMATE,"Create Map/List File=No")
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"[Project]")
>>>> ? AADD(A_XMATE,"Run=")
>>>> ? AADD(A_XMATE,"Params=")
>>>> ? AADD(A_XMATE,"Final Path=%HOME%")
>>>> ? AADD(A_XMATE,"Maintain LNK=Yes")
>>>> ? AADD(A_XMATE,"Default Type=1")
>>>> ? AADD(A_XMATE,"Error log=")
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"[Data Path]")
>>>> ? AADD(A_XMATE,"Dbf=")
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"[Editor]")
>>>> ? FOR A=1 TO LEN(FILECHOICE)
>>>> ? ? ?AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
>>>> ? NEXT
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"")
>>>> ? AADD(A_XMATE,"[Files]")
>>>> ? FOR A=1 TO LEN(FILECHOICE)
>>>> ? ? ?AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
>>>> ? NEXT
>>>> ? xprjmate=aLltrim(filechoice[1])
>>>> ? xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
>>>> ? if .not. file(XPRJMATE)
>>>> ? ? ?X_LOG=FCREATE(XPRJMATE)
>>>> ? ? ?FOR a=1 to len(A_XMATE)
>>>> ? ? ? ? FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
>>>> ? ? ?NEXT
>>>>
>>>> ? ? ?FCLOSE(X_LOG)
>>>> ? ENDIF
>>>> * ?returm
>>>>
>>>> ?*/
>>>>
>>>>
>>>>
>>>> 2009/2/16 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>>> I have still one suggestion
>>>>>> Having a simple interactive mode
>>>>>> launching hbmk without parameter see a list of prg,hbp,c,rc
>>>>>> select with space one or more and press button compile
>>>>>> Simple and easy but will be a bridge between people command line
>>>>>> driven and gui driven
>>>>>
>>>>> Nope sorry, I've meant this is a pure command line tool.
>>>>> In fact all our supplied tools are command line only, and
>>>>> this shouldn't be an exception.
>>>>> If you want CUI/GUI, a wrapper program is the best solution. This
>>>>> could simply create a hbmk command line after presenting
>>>>> all the options on the screen for the user and either launch it
>>>>> or save it as .hbm (similar to hbmake). Can be independently
>>>>> developed from hbmk, and if it's good and portable (which now
>>>>> means CUI), we can also include it as part of the Harbour package.
>>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>>
>>>
>>> --
>>> Vailton Renato
>>> SQL LIB, MyMake & xDev Developer
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From abe.buch at att.net  Wed Mar  4 11:30:12 2009
From: abe.buch at att.net (AbeB)
Date: Wed Mar  4 11:30:16 2009
Subject: [Harbour] poccce POLINK: error: Unresolved external symbol 'modfl'.
Message-ID: <1236184212474-2423893.post@n2.nabble.com>


cut from log
-----
C:\Harbour\HARBOU~2\trunk\harbour\source\pp>if not exist
..\..\lib\win\poccce\. md ..\..\lib\win\poccce mingw32-make.exe[3]: Entering
directory `C:/Harbour/HARBOU~2/trunk/harbour/source/pp/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbpp.c -Fohbpp.obj
polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce
coredll.lib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
POLINK: error: Unresolved external symbol 'modfl'.
POLINK: fatal error: 1 unresolved external(s).

---------
HB_ARCHITECTURE=win
HB_BIN_INSTALL=C:\hb-poccce\bin
HB_COMPILER=poccce
HB_DOC_INSTALL=C:\hb-poccce\doc
HB_INC_INSTALL=C:\hb-poccce\include
HB_INSTALL_PREFIX=C:\hb-poccce
HB_LIB_INSTALL=C:\hb-poccce\lib
----------------------
Path=C:\devl\make-3.81;c:\progra~1\PellesC\bin
INCLUDE=c:\progra~1\PellesC\include\wince;c:\progra~1\PellesC\include;
LIB=c:\progra~1\PellesC\lib;c:\progra~1\PellesC\lib\wince;c:\progra~1\PellesC\include\wince;c:\progra~1\PellesC\include;


-- 
View this message in context: http://n2.nabble.com/poccce-POLINK%3A-error%3A-Unresolved-external-symbol-%27modfl%27.-tp2423893p2423893.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Mar  4 11:59:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 12:00:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10533] trunk/harbour
Message-ID: <E1LeuRn-00005y-TZ@3kljzd1.ch3.sourceforge.com>

Revision: 10533
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10533&view=rev
Author:   vszakats
Date:     2009-03-04 16:59:55 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 17:59 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/man/hbmk.1
    * Updates. Work in progress.

  * utils/hbmk2/hbmk2.prg
    + Added man page, troff/groff links.
    ! Reversed the logic shared lib paths were included by.
    * Changed the meaning -hbcc again. Now it will switch hbmk2
      to a mode where it accept -c option. If -c is sensed, it
      will stop after calling the C compiler.
    ! gtwxc removed from default GT list for *nix systems.
      It should be added there by hbmk.cfg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Wed Mar  4 12:06:37 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Wed Mar  4 12:06:42 2009
Subject: [Harbour] poccce POLINK: error: Unresolved external symbol
	'modfl'.
In-Reply-To: <1236184212474-2423893.post@n2.nabble.com>
References: <1236184212474-2423893.post@n2.nabble.com>
Message-ID: <49AEB51D.8010709@teledetection.fr>

Hi,

Same error as the one i reported the 2009/02/25 when i try to compile
harbour under cygwin ...

Guy

AbeB a ?crit :
> cut from log
> -----
> C:\Harbour\HARBOU~2\trunk\harbour\source\pp>if not exist
> ..\..\lib\win\poccce\. md ..\..\lib\win\poccce mingw32-make.exe[3]: Entering
> directory `C:/Harbour/HARBOU~2/trunk/harbour/source/pp/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbpp.c -Fohbpp.obj
> polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce
> coredll.lib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
> POLINK: error: Unresolved external symbol 'modfl'.
> POLINK: fatal error: 1 unresolved external(s).
>
> ---------
> HB_ARCHITECTURE=win
> HB_BIN_INSTALL=C:\hb-poccce\bin
> HB_COMPILER=poccce
> HB_DOC_INSTALL=C:\hb-poccce\doc
> HB_INC_INSTALL=C:\hb-poccce\include
> HB_INSTALL_PREFIX=C:\hb-poccce
> HB_LIB_INSTALL=C:\hb-poccce\lib
> ----------------------
> Path=C:\devl\make-3.81;c:\progra~1\PellesC\bin
> INCLUDE=c:\progra~1\PellesC\include\wince;c:\progra~1\PellesC\include;
> LIB=c:\progra~1\PellesC\lib;c:\progra~1\PellesC\lib\wince;c:\progra~1\PellesC\include\wince;c:\progra~1\PellesC\include;
>
>
>   


-- 
Guy Roussin

UMR TETIS "Territoires, Environnement, Teledetection et Information  Spatiale" 

Maison de la T?l?d?tection en Languedoc Roussillon
500, rue J.F. Breton
34093 MONTPELLIER Cedex 5

t?l: 04.67.54.87.46 fax: 04.67.54.87.00
mailto:guy.roussin@teledetection.fr

From harbour.01 at syenar.hu  Wed Mar  4 12:13:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 12:13:37 2009
Subject: [Harbour] poccce POLINK: error: Unresolved external symbol 
	'modfl'.
In-Reply-To: <49AEB51D.8010709@teledetection.fr>
References: <1236184212474-2423893.post@n2.nabble.com>
	<49AEB51D.8010709@teledetection.fr>
Message-ID: <18d502870903040913h14dbe9e8yc147d5e0104449ea@mail.gmail.com>

I'd be great to hear from POCC testers whether this problem
is also present with POCC x86 ('pocc') and POCC x64 ('pocc64')
builds. It could be fixed then with more confidence.

BTW, I've fixed the Cygwin one. There is one error still remaining though in
threading code.
Brgds,
Viktor

On Wed, Mar 4, 2009 at 6:06 PM, Guy Roussin <guy.roussin@teledetection.fr>wrote:

> Hi,
>
> Same error as the one i reported the 2009/02/25 when i try to compile
> harbour under cygwin ...
>
> Guy
>
> AbeB a ?crit :
>
>> cut from log
>> -----
>> C:\Harbour\HARBOU~2\trunk\harbour\source\pp>if not exist
>> ..\..\lib\win\poccce\. md ..\..\lib\win\poccce mingw32-make.exe[3]:
>> Entering
>> directory `C:/Harbour/HARBOU~2/trunk/harbour/source/pp/win/poccce'
>> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
>> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbpp.c -Fohbpp.obj
>> polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce
>> coredll.lib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
>> POLINK: error: Unresolved external symbol 'modfl'.
>> POLINK: fatal error: 1 unresolved external(s).
>>
>> ---------
>> HB_ARCHITECTURE=win
>> HB_BIN_INSTALL=C:\hb-poccce\bin
>> HB_COMPILER=poccce
>> HB_DOC_INSTALL=C:\hb-poccce\doc
>> HB_INC_INSTALL=C:\hb-poccce\include
>> HB_INSTALL_PREFIX=C:\hb-poccce
>> HB_LIB_INSTALL=C:\hb-poccce\lib
>> ----------------------
>> Path=C:\devl\make-3.81;c:\progra~1\PellesC\bin
>> INCLUDE=c:\progra~1\PellesC\include\wince;c:\progra~1\PellesC\include;
>>
>> LIB=c:\progra~1\PellesC\lib;c:\progra~1\PellesC\lib\wince;c:\progra~1\PellesC\include\wince;c:\progra~1\PellesC\include;
>>
>>
>>
>>
>
>
> --
> Guy Roussin
>
> UMR TETIS "Territoires, Environnement, Teledetection et Information
>  Spatiale"
> Maison de la T?l?d?tection en Languedoc Roussillon
> 500, rue J.F. Breton
> 34093 MONTPELLIER Cedex 5
>
> t?l: 04.67.54.87.46 fax: 04.67.54.87.00
> mailto:guy.roussin@teledetection.fr
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/65f47218/attachment.html
From alcisoft at arrakis.es  Wed Mar  4 12:13:55 2009
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Wed Mar  4 12:16:24 2009
Subject: [Harbour] Re: WinCE app
References: <1767728304.20090304132931@tlen.pl>
Message-ID: <gomd0o$46f$1@ger.gmane.org>

Try FwPPC


Jaroslaw Kadziola escribi en mensaje <1767728304.20090304132931@tlen.pl>...
>Hi all,
>
>Is anybody who made application with Harbour worked on palmtop with
>Windows Mobile/CE ? I'm using clipper + PocketDos and i want to change
>it.
>How to do it - step by step ?
>
>--
>Best regards,
>Jaroslaw Kadziola
>



From dbtopas at dbtopas.lt  Wed Mar  4 12:22:01 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  4 12:19:55 2009
Subject: [Harbour] -km
Message-ID: <49AEB8B9.5090900@dbtopas.lt>

Hi,


is there a way to define -km switch inside source code? Ex.
   #pragma -km
or we have some restrictions on dynamic -km flag switching inside source 
and this could not be implemented.


Regards,
Mindaugas


P.S. it would greatly help writing: url + "&bbb=ccc" + ...




From druzus at acn.waw.pl  Wed Mar  4 12:26:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 12:21:13 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
Message-ID: <20090304172654.GA27854@uran.home.aster.pl>

On Wed, 04 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > -c is C compiler option. Not hb* script.
> > hbcc doen not have assume any result of final build.
> > If this is a problem for you to separate internal hbmk2
> > compile time and link time logic then look of -c C compiler
> > switch. If it's not a problem then forget about -c and simply
> No, it's already separated. This (-c) functionality was originally
> covered by -hbcc switch, and the one with linking is the default
> (still is).
> > make it working.
> > I only want to have working hbcc which can be used to compile
> > or link .c/.o/.a files just like C compiler.
> See my more recent reply on this. I have a patch pending (attached)
> which accepts -c in -hbcc mode to create the "stopafterccompiler"
> effect. I'm thinking of adding some cleaner (non-compatibility)
> switches to achieve these effects, but this isn't urgent.

I do not know the details of hbmk2 and what how you want to
implement it internally. I do not want to force any internal
solution for you. Just simply I do not have enough time and
possibilities to make tests with different windows compilers
and it's the reason I haven't committed my .prg replacement
to hb* scripts to SVN.
hb* scripts works only with GCC based compilers so it was quite
easy job to have hbcc working. I understand to things are much
more complicated when other compilers are also supported and you
may need to make it in different way. How is your choice.
When the basic hb* script functionality will be replicated then
the next step is support for cross compilation.
Now hbmk2 for compilers shows:
   linux  : gcc, gpp, owatcom, icc, mingw, mingwce
mingw and mingwce are not Linux. It's only one of posisble cross
compilation. Create Windows or WindowsCE binaries in Linux if
MinGW* environment is installed. There are different ports of
MinGW*, f.e. for BSD or Darwin so it should not be bound with
Linux directly though if for some reasons its easier for your
then we can keep it in such way but it should be added also to
other *nix based builds.
I think that it will be better to implement some more general
solution which will have:
   1. support for C compiler prefix
   2. PATH expansion (HB_SETENV())
   3. default harbour compiler switches like:
      -D__PLATFORM__WINCE
      -D__PLATFORM__WINDOWS
      -undef:__PLATFORM__UNIX
      -undef:__PLATFORM__LINUX

It will be nice if all such settings for different cross compilations
can be grouped in single hbmk.cfg file, f.e. sth like:

   [mingw]
      ARCH=win
      CCPREFIX=i386-mingw32-
      PATH=/opt/xmingw/bin
      HB_OPT=-undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX
      HB_OPT+=-D__PLATFORM__WINDOWS
      LIBDIR=/usr/lib/harbour-win
      HARBOUR=/usr/bin/harbour

   [mingwce]
      ARCH=win
      CCPREFIX=arm-wince-mingw32ce-
      PATH=/opt/mingw32ce/bin
      HB_OPT=-undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX
      HB_OPT+=-D__PLATFORM__WINCE -D__PLATFORM__WINDOWS
      LIBDIR=/usr/lib/harbour-wce
      HARBOUR=/usr/bin/harbour

and accessed by single hbmk2 parameter, f.e.:
   hbmk2 -comp=mingwce ...

It should help to set different cross compilation environment for GCC
based compilers without updating hbmk2.prg code. I haven't look deeper
at OpenWatcom cross compilation but seems that it should be also possible
to configure it in such way.

The next thing which should also be addressed is support for .clp files
in Harbour compiler. Now it partially works as hbmk2 scripts but here
one thing should be changed. hbmk2 should always add en extension if
not given to @script. Otherwise on platforms which does not use .exe
extension it begins to read final binary application as scripts if it
has the same name. I hope it's a minor problem and can be easy fixed.
The bigger problem is support for .clp files in compiler which is not
Clipper compatible and should be fixed but this needs serious modifications
in generated .c and .hrb files. I hope it will be fixed later so now
we can leave it as is.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar  4 12:44:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 12:38:51 2009
Subject: [Harbour] -km
In-Reply-To: <49AEB8B9.5090900@dbtopas.lt>
References: <49AEB8B9.5090900@dbtopas.lt>
Message-ID: <20090304174433.GA14511@uran.home.aster.pl>

On Wed, 04 Mar 2009, Mindaugas Kavaliauskas wrote:

Hi,

> is there a way to define -km switch inside source code? Ex.
>   #pragma -km
> or we have some restrictions on dynamic -km flag switching inside source 
> and this could not be implemented.

   proc main()
      memvar var
      private var := "{Hello}"
      ? "This is &var.text"
      #pragma -kM+
      ? "This is &var.text"
      #pragma -kM-
      ? "This is &var.text"
   return

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Mar  4 12:43:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 12:43:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10534] trunk/harbour
Message-ID: <E1Lev83-0002Nh-QB@d5vjzd1.ch3.sourceforge.com>

Revision: 10534
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10534&view=rev
Author:   vszakats
Date:     2009-03-04 17:43:33 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 18:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added warning msg if referenced .hbm file cannot be found.
    + filename without extension referenced with @ prefix
      will get an .hbm extension added automatically.
    ! Typo in prev fixed.
    * Filename updated in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Mar  4 12:46:51 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar  4 12:44:40 2009
Subject: [Harbour] -km
In-Reply-To: <20090304174433.GA14511@uran.home.aster.pl>
References: <49AEB8B9.5090900@dbtopas.lt>
	<20090304174433.GA14511@uran.home.aster.pl>
Message-ID: <49AEBE8B.7010804@dbtopas.lt>

>>   #pragma -km
>       #pragma -kM+


Thanks a lot! I forgot this switch is uppercase...


Regards,
Mindaugas

From druzus at acn.waw.pl  Wed Mar  4 13:14:36 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 13:08:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10534] trunk/harbour
In-Reply-To: <E1Lev83-0002Nh-QB@d5vjzd1.ch3.sourceforge.com>
References: <E1Lev83-0002Nh-QB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090304181436.GA10870@uran.home.aster.pl>

On Wed, 04 Mar 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-03-04 18:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * utils/hbmk2/hbmk2.prg
>     + Added warning msg if referenced .hbm file cannot be found.
>     + filename without extension referenced with @ prefix
>       will get an .hbm extension added automatically.
>     ! Typo in prev fixed.
>     * Filename updated in comment.

Thank you very much. It's much better.
The next problem is with parameters passed to hbcc:
   hbmk2 -trace -hbcmp -Iinclude -W -Wall -Os -c t.c
gives:
   hbmk: Processing configuration: /etc/harbour/hbmk.cfg
   hbmk: C compiler command:
   gcc t.c   -O3  -c -ot.o -I/usr/include/harbour -L/usr/lib/harbour -Wl,--start-group -lharbour -lhbcplr -lhbdebug -Wl,--end-group

all C parameters are stripped.
The same is for -hblnk

All parameters not recognized by hbmk2 should be passed to executed C
compiler/linker.

There is also minor problem with -o <filename>.
It does not accept space after -o. It's not a big problem for me
but on some platforms the space is required and it may confuse
user who replace 'gcc' calls with 'hbmk2 -hbcc'

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar  4 13:11:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 13:11:22 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304172654.GA27854@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
Message-ID: <18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>

Hi Przemek,

It would be nice to hear some comments on my fixes,
I'm not sure what silence means :) But after like 30-40 fixes
with no positive (or any) feedback it's really difficult to know
where we stand. I hope we're advancing.


> I do not know the details of hbmk2 and what how you want to
> implement it internally. I do not want to force any internal
> solution for you. Just simply I do not have enough time and
> possibilities to make tests with different windows compilers
> and it's the reason I haven't committed my .prg replacement
> to hb* scripts to SVN.


After 3-4 weeks of 24/7 dedication I'm running out of free
time myself, too.

I'd like to close existing features.


> hb* scripts works only with GCC based compilers so it was quite
> easy job to have hbcc working. I understand to things are much
> more complicated when other compilers are also supported and you
> may need to make it in different way. How is your choice.


Yes, exactly. That's why I told in the beginning that hbmk2
can never be a 100% copy of hbmk, the scope is wider, problems
are different. We should cover what's important, and let those
which are really problematic or against the concept. One of
these is passing down C options through hbmk command line
to the C compiler f.e..


> When the basic hb* script functionality will be replicated then
> the next step is support for cross compilation.
> Now hbmk2 for compilers shows:
>   linux  : gcc, gpp, owatcom, icc, mingw, mingwce
> mingw and mingwce are not Linux. It's only one of posisble cross
> compilation. Create Windows or WindowsCE binaries in Linux if
> MinGW* environment is installed. There are different ports of
> MinGW*, f.e. for BSD or Darwin so it should not be bound with
> Linux directly though if for some reasons its easier for your
> then we can keep it in such way but it should be added also to
> other *nix based builds.
> I think that it will be better to implement some more general
> solution which will have:
>   1. support for C compiler prefix
>   2. PATH expansion (HB_SETENV())
>   3. default harbour compiler switches like:
>      -D__PLATFORM__WINCE
>      -D__PLATFORM__WINDOWS
>      -undef:__PLATFORM__UNIX
>      -undef:__PLATFORM__LINUX
>
> It will be nice if all such settings for different cross compilations
> can be grouped in single hbmk.cfg file, f.e. sth like:
>
>   [mingw]
>      ARCH=win
>      CCPREFIX=i386-mingw32-
>      PATH=/opt/xmingw/bin
>      HB_OPT=-undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX
>      HB_OPT+=-D__PLATFORM__WINDOWS
>      LIBDIR=/usr/lib/harbour-win
>      HARBOUR=/usr/bin/harbour
>
>   [mingwce]
>      ARCH=win
>      CCPREFIX=arm-wince-mingw32ce-
>      PATH=/opt/mingw32ce/bin
>      HB_OPT=-undef:__PLATFORM__UNIX -undef:__PLATFORM__LINUX
>      HB_OPT+=-D__PLATFORM__WINCE -D__PLATFORM__WINDOWS
>      LIBDIR=/usr/lib/harbour-wce
>      HARBOUR=/usr/bin/harbour


I'd try getting closer (or be similar) to the config requirements of the
builds (which also needs some cleaning BTW).

CCPATH and CCPREFIX are already supported by hbmk2,
LIBDIR is HB_LIB_INSTALL, HARBOUR ~is HB_BIN_INSTALL.
The rest can be passed as .hbp configuration (PRGFLAGS=).
I don't want to develop an .ini engine, and the one in core is
very weak, so maybe using simple .hbp files for this purpose
could help (or some other flat format), with some new values
are added.

I have to think about it, but only after closing all current
features. I'm waaay over all my time/energy budget right now.

The next thing which should also be addressed is support for .clp files
> in Harbour compiler. Now it partially works as hbmk2 scripts but here
> one thing should be changed. hbmk2 should always add en extension if
> not given to @script. Otherwise on platforms which does not use .exe
> extension it begins to read final binary application as scripts if it
> has the same name. I hope it's a minor problem and can be easy fixed.


I've committed a patch to add extension .hbm to extension-less
@ filenames.

The bigger problem is support for .clp files in compiler which is not
> Clipper compatible and should be fixed but this needs serious modifications
> in generated .c and .hrb files. I hope it will be fixed later so now
> we can leave it as is.


As for .clp, I don't know, never used them, couldn't find docs about the
format or details about it. So we can do two things: Either drop it for
hbmk and offer .hbm as a superior replacement, or (if we get to know
the format details), we may write a parser for .clp files. Here the problem
we have is that hbmk2 doesn't know if a @ option refers to an .hbm or
a .clp if no extension is passed.

Finally, maybe .clp is already parsable by .hbm parser... For the basic
case it seems to be, but I don't know the .clp format enough to tell
precisely.

Since you say "serious modifications in compiler", maybe it's more than
just parsing. Again, never used .clps (or at least I cannot remember when
;).

So, I'm not sure that precise .clp support is very important for hbmk,
maybe not even for Harbour.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/8fbf8b76/attachment.html
From harbour.01 at syenar.hu  Wed Mar  4 13:12:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 13:12:13 2009
Subject: [Harbour] -km
In-Reply-To: <49AEBE8B.7010804@dbtopas.lt>
References: <49AEB8B9.5090900@dbtopas.lt>
	<20090304174433.GA14511@uran.home.aster.pl>
	<49AEBE8B.7010804@dbtopas.lt>
Message-ID: <18d502870903041012g477b4088kf4acbe64cf350b3f@mail.gmail.com>

I think we should make it case-insensitive, just like the -km cmd line
switches. Seems like a bug to me.

Brgds,
Viktor

On Wed, Mar 4, 2009 at 6:46 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt>wrote:

>  #pragma -km
>>>
>>      #pragma -kM+
>>
>
>
> Thanks a lot! I forgot this switch is uppercase...
>
>
> Regards,
> Mindaugas
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/6f16a310/attachment.html
From harbour.01 at syenar.hu  Wed Mar  4 13:26:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar  4 13:26:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10534] trunk/harbour
In-Reply-To: <20090304181436.GA10870@uran.home.aster.pl>
References: <E1Lev83-0002Nh-QB@d5vjzd1.ch3.sourceforge.com>
	<20090304181436.GA10870@uran.home.aster.pl>
Message-ID: <18d502870903041026q7b595d9cr15332ef790d3b986@mail.gmail.com>

>
> all C parameters are stripped.
> The same is for -hblnk
>
> All parameters not recognized by hbmk2 should be passed to executed C
> compiler/linker.


Yeah, and this is the point where I feel I cannot help without
turning hbmk2 into something which I didn't plan. It was a
big surprise for me today to realize in xhgtk, that hbcc/hblnk
is accepting _plain raw compiler/linker (?) options_. Besides creating
a big maintainability problem (all the possible clashes with hbmk
options), and an easy way to mess up an internal assumptions
about the compiler / linker state or executed command line
(quite huge problem by itself), it ruins the whole concept of hbmk2,
since instead of giving an abstract interface to the user, it aids
non-portable usage. Even basic C switches aren't compatible
accross compilers, like -I, maybe -D is portable but I'd not be
surprised to find differences. Concept is also ruined because
any kind of source file is currently supported, so what exactly
should happen when using: hbmk2 hello.prg myfunc.c -DMYDEFINE.
Pass -DMYDEFINE to C also? What if we pass some other
misc option: hbmk hello.prg myfunc.c -W4? Linker options are
even scarier.

With hbmk script this of course wasn't a big problem, as it only
had to support gcc.

.hbp files are meant to store such compiler specific options in
cflags=, with filters.

So, I really don't know what to do here... Maybe we should
support a few generic ones, like -D... I have no idea. Sorry.


> There is also minor problem with -o <filename>.
> It does not accept space after -o. It's not a big problem for me
> but on some platforms the space is required and it may confuse
> user who replace 'gcc' calls with 'hbmk2 -hbcc'


I'd like to keep it that way for now, hbmk2 isn't gcc, so I hope
ppl will read the help :) I'd like to resemble to Harbour, which
doesn't need (or accept) the space.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/2e6a9557/attachment.html
From vszakats at users.sourceforge.net  Wed Mar  4 13:36:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar  4 13:36:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10535] trunk/harbour
Message-ID: <E1Levx2-0005gW-5L@dn4whf1.ch3.sourceforge.com>

Revision: 10535
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10535&view=rev
Author:   vszakats
Date:     2009-03-04 18:36:10 +0000 (Wed, 04 Mar 2009)

Log Message:
-----------
2009-03-04 19:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/compiler/ppcomp.c
    ! #pragma -k? options are now case-insensitive like all
      other Harbour options.
      This completes this change:
      2008-08-06 22:18 UTC+0200 Viktor Szakats (harbour.01 syenar hu)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/compiler/ppcomp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From yamamoto at rocketmail.com  Wed Mar  4 13:58:24 2009
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Wed Mar  4 13:58:28 2009
Subject: [Harbour] _HB_FUN_HB_SYMBOL_UNUSED unresolved external
Message-ID: <128965.87146.qm@web30701.mail.mud.yahoo.com>


No change, the error persists.

When running 'make_gnu install' on xp/bcc32 platform the make aborts at:

mingw32-make.exe[3]: Entering directory `D:/Harbour/utils/hbtest/win/bcc'
bcc32.exe -4 -O2 -OS -Ov -Oi -Oc -q -d -Q -w -w-sig- -tWM -ehbtest.exe ...
...

Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from D:\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tbcolumn

regards, Mitja


      
From druzus at acn.waw.pl  Wed Mar  4 14:06:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 14:01:08 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
Message-ID: <20090304190651.GA21892@uran.home.aster.pl>

On Wed, 04 Mar 2009, Szak?ts Viktor wrote:

Hi,

> It would be nice to hear some comments on my fixes,
> I'm not sure what silence means :) But after like 30-40 fixes
> with no positive (or any) feedback it's really difficult to know
> where we stand. I hope we're advancing.

I'm trying but so far I cannot use hbmk2 even in basic
real life tests as hb* script replacement so I do not know
what to comment in in commits. I do not know what it the
work in progress and what is the final version. hbmk2 has
a lot of extenssions I do not know. I believe you that they
give very powerful functionality but 1-st I have to be able
to use hbmk2. In next steps I will have some wish lists.
F.e. I think that with small cost we can add support for
two modes: CLIPPER and RTLINK so new user can simply copy
hbmk2.exe as clipper.exe and rtlink.exe and then set PATH
to Harbour installation make some tests with his existing
Clipper projects without touching even single line in his
build scripts. But this are features which we can add later.

> > I do not know the details of hbmk2 and what how you want to
> > implement it internally. I do not want to force any internal
> > solution for you. Just simply I do not have enough time and
> > possibilities to make tests with different windows compilers
> > and it's the reason I haven't committed my .prg replacement
> > to hb* scripts to SVN.
> After 3-4 weeks of 24/7 dedication I'm running out of free
> time myself, too.
> I'd like to close existing features.

welcome in the team :-)
Maybe my ChangeLog descriptions are often short end enigmatic
but believe me that the whole weekend I was thinking how the resolve
some very serious problems with static variables in core compiler code
without rewriting a lot of code.

> > hb* scripts works only with GCC based compilers so it was quite
> > easy job to have hbcc working. I understand to things are much
> > more complicated when other compilers are also supported and you
> > may need to make it in different way. How is your choice.
> Yes, exactly. That's why I told in the beginning that hbmk2
> can never be a 100% copy of hbmk, the scope is wider, problems
> are different. We should cover what's important, and let those
> which are really problematic or against the concept. One of
> these is passing down C options through hbmk command line
> to the C compiler f.e..

OK. But if it will not cover existing hb* scripts functionality then
we will have no choice then they will have to stay in SVN as alternative
version.

> I'd try getting closer (or be similar) to the config requirements of the
> builds (which also needs some cleaning BTW).

Yes, but I do not know what information you want to store for hbmk2.
Probably full list of libraries used to create harbour shared library
   libdynhas=hbextern hbvm hbpp hbrtl hbrdd rddfpt rddcdx rddnsx ...
will be better then separated entries like:
   libdynhas=gtxwc
   libdynhas=gtcrs
   libdynhas=gtsln
maybe also it's good to set default system libraries in hbmk.cfg, f.e.
sth like
   syslibs=...

You can also think about keeping all build time settings in separate
section like [default] or [build], f.e.:

   # Harbour Make configuration
   # Generated by Harbour build process
   [default]
   arch=linux
   comp=gcc
   gtdef=gttrm

It will be easier to add other sections for cross compilation.

> CCPATH and CCPREFIX are already supported by hbmk2,
> LIBDIR is HB_LIB_INSTALL, HARBOUR ~is HB_BIN_INSTALL.
> The rest can be passed as .hbp configuration (PRGFLAGS=).
> I don't want to develop an .ini engine, and the one in core is
> very weak, so maybe using simple .hbp files for this purpose
> could help (or some other flat format), with some new values
> are added.
> I have to think about it, but only after closing all current
> features. I'm waaay over all my time/energy budget right now.

Closing the basic functionality as the main goal is very reasonable
for me. I'm also waiting for it to start some real life tests.

> The next thing which should also be addressed is support for .clp files
> > in Harbour compiler. Now it partially works as hbmk2 scripts but here
> > one thing should be changed. hbmk2 should always add en extension if
> > not given to @script. Otherwise on platforms which does not use .exe
> > extension it begins to read final binary application as scripts if it
> > has the same name. I hope it's a minor problem and can be easy fixed.
> I've committed a patch to add extension .hbm to extension-less
> @ filenames.

Thank you. Let's leave it in this form now.

> The bigger problem is support for .clp files in compiler which is not
> > Clipper compatible and should be fixed but this needs serious modifications
> > in generated .c and .hrb files. I hope it will be fixed later so now
> > we can leave it as is.
> As for .clp, I don't know, never used them, couldn't find docs about the
> format or details about it. So we can do two things: Either drop it for
> hbmk and offer .hbm as a superior replacement, or (if we get to know
> the format details), we may write a parser for .clp files. Here the problem
> we have is that hbmk2 doesn't know if a @ option refers to an .hbm or
> a .clp if no extension is passed.
> Finally, maybe .clp is already parsable by .hbm parser... For the basic
> case it seems to be, but I don't know the .clp format enough to tell
> precisely.
> Since you say "serious modifications in compiler", maybe it's more than
> just parsing. Again, never used .clps (or at least I cannot remember when
> ;).
> So, I'm not sure that precise .clp support is very important for hbmk,
> maybe not even for Harbour.

The main problem with .clp files is the fact that clipper compiles
all defined .prg files separately but result it single .obj file.
The .clp functionality can be also accessed from pure .prg code by:
   DO <filename> [WITH <args,...>]
statement or:
   _PROCREQ_( <filename> )
or:
   _PROCREQ_( <filepart1> + <filepart2> )
It's standard Clipper behavior.
In all cases Harbour does not support it well. The main problem
is the fact that static functions with the same name can exists
in different files and should not cause any conflicts. To resolve
this we will have to intorduce to C files new static function declaration,
f.e.:
   #define HB_FUNC_STATIC_V( funcname, module )  \
               static HARBOUR HB_FUN_##funcname##v##module( void )
of course the internal compiler logic should also be updated to play
well with different functions using the same name. Additionally we
should also resolve the problem with multiple file wide declarations
because when -n option is used then each compiled file has it's own
file wide variables.
This functionality was never implemented neither in Harbour nor in
xHarbour. I wanted to make sth with few times and in the last weekend
I even started but when I begin to check the code I've found some very
serious problems with statics and I had to invest time to resolve it.
To make it well it's necesary to change internal format of .c files
(it's minor problem for users) but also binary format used for .hrb
what will force also HVM modifications. I keep in mind that we should
add new .hrl/.hre files so probably I should join the modifications
but I do not know when :-(

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar  4 14:20:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 14:15:11 2009
Subject: [Harbour] _HB_FUN_HB_SYMBOL_UNUSED unresolved external
In-Reply-To: <128965.87146.qm@web30701.mail.mud.yahoo.com>
References: <128965.87146.qm@web30701.mail.mud.yahoo.com>
Message-ID: <20090304192053.GA31851@uran.home.aster.pl>

On Wed, 04 Mar 2009, Mitja Podgornik wrote:

Hi,

> No change, the error persists.
> When running 'make_gnu install' on xp/bcc32 platform the make aborts at:
> mingw32-make.exe[3]: Entering directory `D:/Harbour/utils/hbtest/win/bcc'
> bcc32.exe -4 -O2 -OS -Ov -Oi -Oc -q -d -Q -w -w-sig- -tWM -ehbtest.exe ...
> ...
> Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from D:\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tbcolumn

HB_SYMBOL_UNUSED() is defined inside std.ch
I can only guess that you have some local std.ch replacement which is
used instead of the original Harbour version when you recompile Harbour
code. It may happen if you have HARBOUR or CLIPPER environment variable
with /u switch, f.e.:
   SET CLIPPER=/umystd.ch
check your environment for HARBOUR, CLIPPER, HB_USER_PRGFLAGS and clean it.

best regards,
Przemek
From abe.buch at att.net  Wed Mar  4 14:31:42 2009
From: abe.buch at att.net (AbeB)
Date: Wed Mar  4 14:31:46 2009
Subject: [Harbour] WinCE app
In-Reply-To: <1767728304.20090304132931@tlen.pl>
References: <1767728304.20090304132931@tlen.pl>
Message-ID: <1236195102387-2424967.post@n2.nabble.com>


same situation over here. It should be doable, but currently I'm trying to
build Harbour for Wince, but it has an error. I just left a message here.
Lets wait and see. I'm sure one the these great folks will fix it soon.




Jaroslaw Kadziola wrote:
> 
> Hi all,
> 
> Is anybody who made application with Harbour worked on palmtop with
> Windows Mobile/CE ? I'm using clipper + PocketDos and i want to change
> it.
> How to do it - step by step ?
> 
> -- 
> Best regards,
> Jaroslaw Kadziola
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/WinCE-app-tp2422509p2424967.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Mar  4 14:38:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 14:32:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10534] trunk/harbour
In-Reply-To: <18d502870903041026q7b595d9cr15332ef790d3b986@mail.gmail.com>
References: <E1Lev83-0002Nh-QB@d5vjzd1.ch3.sourceforge.com>
	<20090304181436.GA10870@uran.home.aster.pl>
	<18d502870903041026q7b595d9cr15332ef790d3b986@mail.gmail.com>
Message-ID: <20090304193831.GB31851@uran.home.aster.pl>

On Wed, 04 Mar 2009, Szak?ts Viktor wrote:

Hi,


> > all C parameters are stripped.
> > The same is for -hblnk
> > All parameters not recognized by hbmk2 should be passed to executed C
> > compiler/linker.
> Yeah, and this is the point where I feel I cannot help without
> turning hbmk2 into something which I didn't plan. It was a
> big surprise for me today to realize in xhgtk, that hbcc/hblnk
> is accepting _plain raw compiler/linker (?) options_. Besides creating
> a big maintainability problem (all the possible clashes with hbmk
> options), and an easy way to mess up an internal assumptions
> about the compiler / linker state or executed command line
> (quite huge problem by itself), it ruins the whole concept of hbmk2,
> since instead of giving an abstract interface to the user, it aids
> non-portable usage. Even basic C switches aren't compatible
> accross compilers, like -I, maybe -D is portable but I'd not be
> surprised to find differences. Concept is also ruined because
> any kind of source file is currently supported, so what exactly
> should happen when using: hbmk2 hello.prg myfunc.c -DMYDEFINE.
> Pass -DMYDEFINE to C also? What if we pass some other
> misc option: hbmk hello.prg myfunc.c -W4? Linker options are
> even scarier.
> With hbmk script this of course wasn't a big problem, as it only
> had to support gcc.
> .hbp files are meant to store such compiler specific options in
> cflags=, with filters.

I think that now you begin to understand what hb* scripts do and
why separation by links was very usable. hbcmp/hbcc/hblnk defines
what should be done with parameters.

> So, I really don't know what to do here... Maybe we should
> support a few generic ones, like -D... I have no idea. Sorry.

In the future we may think about cross compiler C settings.
I'm finding it very interesting.
But now the only one thing which is necessary is simple coping
given parameters which are not hbmk2 parameters to executed C
compiler or Harbour compiler in -hbcmp mode without guessing what
they do. AFAIK hbmk2 does not try to decode all Harbour parameters
but simply pass them to Harbour compiler.
So why it cannot make the same with C compiler in hbcc and hblnk
modes?
For sure it will be much better then current silent stripping them.
I know about possible name conflicts and that not all parameters
can be passed to C compiler because some of them are used as hbmk2
parameters. But if it will be necessary then we can simply add
   -hbparams=<params>
switch.

> > There is also minor problem with -o <filename>.
> > It does not accept space after -o. It's not a big problem for me
> > but on some platforms the space is required and it may confuse
> > user who replace 'gcc' calls with 'hbmk2 -hbcc'
> I'd like to keep it that way for now, hbmk2 isn't gcc, so I hope
> ppl will read the help :) I'd like to resemble to Harbour, which
> doesn't need (or accept) the space.

As I said it's minor problem.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar  4 14:51:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 14:45:49 2009
Subject: [Harbour] WinCE app
In-Reply-To: <1767728304.20090304132931@tlen.pl>
References: <1767728304.20090304132931@tlen.pl>
Message-ID: <20090304195131.GA22024@uran.home.aster.pl>

[roda, 04 marzec 2009], Jaroslaw Kadziola napisa(a):
> Hi all,
> Is anybody who made application with Harbour worked on palmtop with
> Windows Mobile/CE ? I'm using clipper + PocketDos and i want to change
> it.
> How to do it - step by step ?

I sent such message twice in the past. Look in the archive.
If you are using Linux RPM based distribution then simple
create harbour RPMs by mpkg_rpm.sh and install them then
install mingwce RPM from sourceforge, build Harbour for
WinCE using mpkg_rpm_wce.sh and install it.

Then you can compile and link WinCE applications using
hbce* scripts, f.e.
   hbcemk -n -w -es2 wcecon.prg

wcecon.prg is in tests/ harbour directory.
hbcecmp - compile .prg code to .o object file
hbcelnk - link given .o object files and .a libraries into final
          executable application.

I do not know what it the status of WinCE build created by other
compilers (PellesC or MSVC). MinGWCE can be also used in MS-Windows.

best regards,
Przemek
From kleyber at tkinformidia.net  Wed Mar  4 15:10:07 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Wed Mar  4 15:10:40 2009
Subject: [Harbour] Compiling C sources
Message-ID: <57EE0EEA59724C8DA835248454D57C47@particular>

Hi,

    I am trying to migrate my own libs to Harbour+msvc, but in some cases, I have some C sources which show me some errors in compilation time. Any of you have made some migration of libs created in xharbour+bcc+fwh to harbour+msvc+fwh and can show me way?

Best Regards,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090304/a14ca4bb/attachment.html
From info at fsgiudice.com  Wed Mar  4 15:45:18 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar  4 15:45:28 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304190651.GA21892@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
	<20090304190651.GA21892@uran.home.aster.pl>
Message-ID: <49AEE85E.3030007@fsgiudice.com>

Hi Przemek,

Il 04/03/2009 20.06, Przemyslaw Czerpak ha scritto:
> Maybe my ChangeLog descriptions are often short end enigmatic
> but believe me that the whole weekend I was thinking how the resolve
> some very serious problems with static variables in core compiler code
> without rewriting a lot of code.
> 
do you think that this problem is related to memory consumption in 
uhttpd ? I'm struggling doing tests and I was thinking that the problem 
was related to PRIVATE variables. But now I have an uhttpd version that 
uses only STATIC / THREAD STATIC variables and if I don't use hb_GCAll() 
memory grows with 4kb/8kb steps, also using a single page view, 
continuously. Instead using hb_GCAll() after initial growing it stops to 
grow around 10MB of memory (starting from 7MB), but randomly, 
application GPFs without any report (once after ~60 connections, another 
after ~8000 connections, up to 15 concurrent threads).
Actually I have tested with defaults C flags (without memory allocation 
flags) and using msvc, but previous tests (with current version on SVN) 
I did with all combinations you wrote to Pritpal and using either msvc 
than bcc.

Best regards
Francesco
From info at fsgiudice.com  Wed Mar  4 16:07:15 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar  4 16:07:22 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <49AEE85E.3030007@fsgiudice.com>
References: <20090304122733.GA15521@uran.home.aster.pl>	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>
	<49AEE85E.3030007@fsgiudice.com>
Message-ID: <49AEED83.6010703@fsgiudice.com>

Hi Przemek,

Il 04/03/2009 21.45, Francesco Saverio Giudice ha scritto:
> Actually I have tested with defaults C flags (without memory allocation 
> flags) and using msvc
One note more, same tests and results done using either Inet than 
Mindaugas' socket.

Best regards,
Francesco
From druzus at acn.waw.pl  Wed Mar  4 18:25:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 18:19:34 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <49AEE85E.3030007@fsgiudice.com>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
	<20090304190651.GA21892@uran.home.aster.pl>
	<49AEE85E.3030007@fsgiudice.com>
Message-ID: <20090304232516.GA11402@uran.home.aster.pl>

On Wed, 04 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

> do you think that this problem is related to memory consumption in uhttpd ? 

No. I do not see such possibilities.

> I'm struggling doing tests and I was thinking that the problem was related 
> to PRIVATE variables. But now I have an uhttpd version that uses only 
> STATIC / THREAD STATIC variables and if I don't use hb_GCAll() memory grows 
> with 4kb/8kb steps, also using a single page view, continuously. Instead 
> using hb_GCAll() after initial growing it stops to grow around 10MB of 
> memory (starting from 7MB), but randomly, application GPFs without any 
> report (once after ~60 connections, another after ~8000 connections, up to 
> 15 concurrent threads).
> Actually I have tested with defaults C flags (without memory allocation 
> flags) and using msvc, but previous tests (with current version on SVN) I 
> did with all combinations you wrote to Pritpal and using either msvc than 
> bcc.

Replacing privates with statics is rather bad idea. Privates are
automatically dealocated when they are out of scope. statics exist
for the whole application life so when they are not longer necessary
and you want to clear the items inside you have to make it yourself.
Of course it depends on application context. But to clarify before
other people begin to change his code. There is nothing technically
wrong in using memvars (private and publics). If you want and like
them then use them. For sure it will be many times faster and consume
less resources then emulating memvar behavior at .prg level using
statics or locals what IMHO is technical nonsense.

I can try to look at uhttpd but it will have to be updated to work
in Linux. At least in some special test mode. Can you update it?
I tried to compile it with INET support and the following functions
are missed:
   WIN_SYSREFRESH(), WIN_TIMEZONEBIAS(), WIN_SETENV(), FILEDATE()
The last one is from hbct and can be easy replaced by:
   HB_FGETDATETIME( <cFile>, [ @<dDate> ] [, @<cTime> ] ) -> <lOK>
Please use it if possible instead FILEDATE(). It will reduce dependencies
list.
I'll add hb_setenv() function which can be used to replace WIN_SETENV().
I can also add hb_utcoffset() which will return difference to UTC+0000
in minutes which you can used instead of WIN_TIMEZONEBIAS().
How to replace WIN_SYSREFRESH() is your decision.
But maybe it will be good to add some compile time switch like USE_HB_INET
to disable all above WIN_*() functions. In such version we can test this
code using current core Harbour libs only without any additional C stuff.
If you can update it so it can be executed as simple console application
in Linux then I'll try to locate what's the reason of problems.

BTW, Viktor I tried to compile it using hbmk2 uhttpd.hbm and -gui
switch is translated to -Wl,-mwindows. It's wrong even also in
real MinGW. -mwindows/-mconsole are GCC not LD only switches. If you
do not inform GCC about them then it's possible that you exploit
some problems just like with -Wl,-static.
Only MS-Windows GCC builds support these switches. For sure MinGW.
I do not know if CygWin does. For sure they should not be enabled
in other GCC ports, f.e. in Linux in this case.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Mar  4 20:24:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar  4 20:19:10 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304232516.GA11402@uran.home.aster.pl>
References: <18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
	<20090304190651.GA21892@uran.home.aster.pl>
	<49AEE85E.3030007@fsgiudice.com>
	<20090304232516.GA11402@uran.home.aster.pl>
Message-ID: <20090305012452.GA13580@uran.home.aster.pl>

On Thu, 05 Mar 2009, Przemyslaw Czerpak wrote:

Hi,

> Replacing privates with statics is rather bad idea. Privates are
> automatically dealocated when they are out of scope. statics exist
> for the whole application life so when they are not longer necessary
> and you want to clear the items inside you have to make it yourself.
> Of course it depends on application context. But to clarify before
> other people begin to change his code. There is nothing technically
> wrong in using memvars (private and publics). If you want and like
> them then use them. For sure it will be many times faster and consume
> less resources then emulating memvar behavior at .prg level using
> statics or locals what IMHO is technical nonsense.

I'm really sorry. I was wrong.
PRIVATE declaration can be used in any place of code and it was
beyond my and other [x]Harbour developers imagination ;-) that user
may want to create code like:
   while .t.
      private var := <something>
      ...
   enddo
so each private declaration creates new private variable which is
pushed on private stack and is cleared on function exit. I'll add
RT protection against such code to HVM (check if function already
declared private with given name and ignore declaration in such
case) but meanwhile please move private declaration out of the loop.
   PRIVATE _SERVER, _GET, _POST, _COOKIE, _SESSION
   PRIVATE _REQUEST, _HTTP_REQUEST, m_cPost

and inside the loop only assign these values:

   _SERVER := HB_IHASH(); _GET := HB_IHASH(); _POST := HB_IHASH()
   _COOKIE := HB_IHASH(); _SESSION := HB_IHASH()
   _REQUEST := HB_IHASH(); _HTTP_REQUEST := HB_IHASH()
   m_cPost := NIL

and memory "leaks" will gone ;-)

BTW:
      hb_DispOutAt( 10, 40, "memory: " + hb_ntos( memory( HB_MEM_USED ) ) )
in show application info should help you in watching memory consumption
when you link your application with fmstat module (-fmstat hbmk2 parameter).

Please also check the access to some variables, f.e. s_aRunningThreads
seems to be unprotected at all and is resized by different threads.
In code like:

   FOR n := 1 TO s_nStartThreads
       pThread := hb_threadStart( @ProcessConnection(), @nThreadID )
       AADD( s_aRunningThreads, { pThread, nThreadID } )
   NEXT

you have classic race condition. nThreadID may not be assigned by
the new thread before you add it to s_aRunningThreads.
BTW why do you need it and do not use pThread only? f.e.:
      AADD( s_aRunningThreads, pThread )
You can extract thread number at any moment using:
      hb_threadId( [ <pThID> ] ) -> <nThNo>
but you can also use directly <pThID> in == or = comparisons or in
ascan().

best regards,
Przemek
From bedipritpal at hotmail.com  Wed Mar  4 21:21:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  4 21:21:54 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
Message-ID: <22344045.post@talk.nabble.com>


Hello Przemek

I have made this change in hbgtcore.c

PHB_GT hb_gt_ItemBase( PHB_ITEM pItemGT )
{
   if( pItemGT )
   {
      void ** gtHolder = ( void ** ) hb_itemGetPtrGC( pItemGT,
hb_gt_Destructor );
      PHB_GT pGT = NULL;

      if( gtHolder )
         pGT = ( PHB_GT ) *gtHolder;

      if( pGT && HB_GTSELF_LOCK( pGT ) )
         return pGT;
      else
         return NULL;
   }
   else
   {
      return NULL;
   }
}

Can you review and commit. 
All other compilers do not produce any errors
while PellesC x86 GPF's if <pItemGT == NULL>.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/hb_gt_ItemBase%28%29-and-PellesC-tp22344045p22344045.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Mar  4 21:27:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar  4 21:27:30 2009
Subject: [Harbour] WinCE app
In-Reply-To: <20090304195131.GA22024@uran.home.aster.pl>
References: <1767728304.20090304132931@tlen.pl>
	<20090304195131.GA22024@uran.home.aster.pl>
Message-ID: <22344093.post@talk.nabble.com>


Hello

<<<
Then you can compile and link WinCE applications using
hbce* scripts, f.e.
   hbcemk -n -w -es2 wcecon.prg
>>>

As I remember it worked and must be working today also.

Przemek, the error reported by POCCCE as:
POLINK: error: Unresolved external symbol 'modfl'.

'modfl' function is a part of libc.lib with _ (underscore).
May be this is sufficient info for you to investigate
what may be the reason.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/WinCE-app-tp22329099p22344093.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From elart at elart.it  Wed Mar  4 23:16:11 2009
From: elart at elart.it (elart)
Date: Wed Mar  4 23:16:20 2009
Subject: [Harbour] Register Harbour project  on the Launchpad platform
Message-ID: <49AF520B.4080107@elart.it>

I want ask you, if you agree, can can register Harbour project on the 
powerful Launchpad platform...?

http://launchpad.net

Here the page to register a project
https://launchpad.net/projects/+new-guided

Here an example of query and answer on Ubuntu project...

https://launchpad.net/ubuntu

https://answers.launchpad.net/ubuntu

Thank you
From philb at philb.us  Thu Mar  5 01:28:04 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Mar  5 01:28:11 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
Message-ID: <49AF70F4.9040601@philb.us>

Viktor Szak?ts wrote:
>
> One of 
> these is passing down C options through hbmk command line 
> to the C compiler f.e..

If I recall correctly, I solved this problem in PBMake by creating a 
link script preprocessor that was able to manipulate the link script 
based on various external influences.

This also gave me the ability to have conditional sections inside that 
link script that were resolved before the actual link.

Basically, this added #ifdef capabilities to the link scripts at the 
same time at no cost.
From miguelangel at marchuet.net  Thu Mar  5 03:59:31 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Thu Mar  5 03:53:38 2009
Subject: [Harbour] error with new build system
Message-ID: <49AF9473.5030102@marchuet.net>

WITH THIS BUILD.BAT

------------------------------------------------------------------
set PATH=C:\UTL\bcc58\bin;%PATH%
rem
set HB_COMPILER=bcc
set HB_ARCHITECTURE=win
set HB_USER_PRGFLAGS=-l
rem
set PATH=C:\UTL\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\UTL\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
------------------------------------------------------------------

IT DOESN'T BUILD, the error is:

config/dir.cf:55: *** missing `endif'.  Stop.
From M.Horodyski at pzuzycie.com.pl  Thu Mar  5 04:44:29 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar  5 04:44:37 2009
Subject: [Harbour] Raport from build
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F00B80@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F7AB64@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Friday, February 27, 2009 5:07 PM
>To: Harbour Project Main Developer List.
>Subject: RE: RE: [Harbour] Raport from build
>
> 
>
>>-----Original Message-----
>>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com]
>>Sent: Friday, February 27, 2009 4:21 PM
>>To: harbour@harbour-project.org
>>Subject: RE: RE: [Harbour] Raport from build

[...]

>See attachment.
>In 84kb jpg attachment file is screenschot.
>I have too terminal window, and when I close subwindow, on 
>terminal window I have these alerts.

This image is slightly out of date.
For advice Pripitals I changed in C:\WATCOM\binnt\wlink.lnk to :

>>>
system begin 386
    # option osname='Windows NT character-mode'
    option osname=WIN386
    libpath %WATCOM%/lib386
    libpath %WATCOM%/lib386/nt
    library
kernel32,user32,gdi32,advapi32,comdlg32,ole32,oleaut32,winspool,shell32,
uuid,comctl32
    format windows nt ^
    # runtime console=4.0
end
>>>>

and now I have only one window.
Thanks Pripital :)


Regards,
Marek Horodyski
From niki at synel.co.il  Thu Mar  5 04:47:05 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Mar  5 04:50:32 2009
Subject: [Harbour] hbmk2: EOF char in hbm file
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B954@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

If the hbm file is terminated with CHR(26), the program try to process file CHR(26)+".prg"
Can you set hbmk2 to stop processing (or at least skip) when getting a line starting with CHR(26)?

(There are DOS editors that add these EOF chars automatically to each file edited)


  Chen.
From mbelgrano at deltain.it  Thu Mar  5 05:25:22 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 05:25:26 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
In-Reply-To: <49AF520B.4080107@elart.it>
References: <49AF520B.4080107@elart.it>
Message-ID: <609353e70903050225p466adeddr4fb387dbf5b2fcc7@mail.gmail.com>

Launchpad is a web application and web site supporting software
development, particularly that of free software.
Will be also a replacement for sourceforge because it can do source
code hosting,bug tracker, tracking Specifications ,Translations:
,Answers:.
Imo we can use for something
i vote for subscribe
2009/3/5 elart <elart@elart.it>:
> I want ask you, if you agree, can can register Harbour project on the
> powerful Launchpad platform...?
>
> http://launchpad.net
>
> Here the page to register a project
> https://launchpad.net/projects/+new-guided
>
> Here an example of query and answer on Ubuntu project...
>
> https://launchpad.net/ubuntu
>
> https://answers.launchpad.net/ubuntu
>
> Thank you
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Thu Mar  5 05:52:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 05:52:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10536] trunk/harbour
Message-ID: <E1LfBBm-00056e-DJ@c3vjzd1.ch3.sourceforge.com>

Revision: 10536
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10536&view=rev
Author:   vszakats
Date:     2009-03-05 10:52:16 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 11:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added -prgflag:, -cflag:, -ldflag: options.
      To lessen the chance to mess up hbmk and underlying
      tools, only "-" and (on non-*nix) "/" prefixed values
      are accepted. Values are slash corrected by hbmk and
      filters can also be used.
    + -hbcc and -hblnk will now consider raw (unrecognized and
      prefixed) options as C/linker flags respectively. Values
      are slash corrected and filters can also be used.
    ; NOTE: Passing C/linker flags directly to underlying
            tools isn't a very good idea if you want to stay
            portable across tools and OSes. The only exception
            is the '-D' C flag which seems universally available
            on all C compilers.
    * "/" prefixed Harbour options will now be recognized
      in normal mode on non-*nix systems.
    ! DOS EOL char is now ignored in .hbp/.hbm files.
    + Added -bm owatcom C compiler switch in -mt mode for win/os2/linux.
      Pls test on os2/linux.
    * TOFIX: Attempted to add -gui support for win/owatcom. Harbour
             still complains about "It's not a GUI app". This compiler
             is a real bitch with tons of similarly looking options
             and no adequate online docs, so if someone feels like
             it, pls correct the TOFIX section in source.
             Until then GTWVT and GTWVG won't work with owatcom.
    ; NOTE: Most probably not, but I hope hbmk2 now qualifies for
            "basic functionality".

  * mpkg_win.nsi
    ! Fixed to not include some more unnecessary files generated
      by certain linkers along the build process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Mar  5 05:57:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar  5 05:57:11 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090305012452.GA13580@uran.home.aster.pl>
References: <18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>	<20090304232516.GA11402@uran.home.aster.pl>
	<20090305012452.GA13580@uran.home.aster.pl>
Message-ID: <49AFB002.5000009@dbtopas.lt>

Hi,


> PRIVATE declaration can be used in any place of code and it was
> beyond my and other [x]Harbour developers imagination ;-) that user
> may want to create code like:
>    while .t.
>       private var := <something>
>       ...
>    enddo

Usually do not use PRIVATE variables in single thread applications. I 
wanted to avoid STATIC or THREAD STATIC here, so, I've used PRIVATE and 
had enough imagination to declare it in a loop :)


> I can try to look at uhttpd but it will have to be updated to work
> in Linux. At least in some special test mode. Can you update it?
> I tried to compile it with INET support and the following functions
> are missed:

I've almost finished with new ideas for uhttpd. I hope to send sample 
code to mailing list next week. I've fixed socket.c using your 
suggestions, and I can successfully compile and run uhttpd under linux.



Regards,
Mindaugas
From druzus at users.sourceforge.net  Thu Mar  5 05:59:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 05:59:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10537] trunk/harbour
Message-ID: <E1LfBIX-00016I-Hg@d5vjzd1.ch3.sourceforge.com>

Revision: 10537
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10537&view=rev
Author:   druzus
Date:     2009-03-05 10:59:23 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 12:04 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/memvars.c
    ! added protection against pushing new private variable on HVM stack
      if such private variable is already created by the same function.
      Clipper also has such protection. This code illustrates it:
         proc main()
            memvar var1, var2, var3
            private var1 := "a", var2 := "b", var3 := "c"
            ? var1, var2, var3
            private var1 := "A", var2, var3 := "C"
            ? var1, var2, var3
            private var1 := NIL, var2, var3
            ? var1, var2, var3
         return
      compare Clipper and current Harbour results with old Harbour ones or
      with xHarbour results.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar  5 06:02:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 06:02:34 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
In-Reply-To: <49AF520B.4080107@elart.it>
References: <49AF520B.4080107@elart.it>
Message-ID: <18d502870903050302sf6f2cf4lecd8e56dc1109fc6@mail.gmail.com>

Hi Elart,
I'm not sure what you have in mind as possible benefits.

Registering is no problem for me, but we already have
bug tracking on sf.net (in fact even two of them, because
Trac also has one integrated), so having another one
on another site would split the information, which isn't
very good IMO.

If it's only registering, it looks okay. Any other opinion?

Brgds,
Viktor

On Thu, Mar 5, 2009 at 5:16 AM, elart <elart@elart.it> wrote:

> I want ask you, if you agree, can can register Harbour project on the
> powerful Launchpad platform...?
>
> http://launchpad.net
>
> Here the page to register a project
> https://launchpad.net/projects/+new-guided
>
> Here an example of query and answer on Ubuntu project...
>
> https://launchpad.net/ubuntu
>
> https://answers.launchpad.net/ubuntu
>
> Thank you
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/d31ea0b1/attachment.html
From dbtopas at dbtopas.lt  Thu Mar  5 06:14:58 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar  5 06:15:03 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
References: <20090304122733.GA15521@uran.home.aster.pl>	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
Message-ID: <49AFB432.3060003@dbtopas.lt>

Hi, Viktor,


> It would be nice to hear some comments on my fixes, 
> I'm not sure what silence means :) But after like 30-40 fixes 
> with no positive (or any) feedback it's really difficult to know 
> where we stand.

I'm not the makefile guru, I've never used hbmake or another harbour 
scripts tools to compile my harbour application. I use my own .mak 
files. So, it's difficult for me to write any comment on the job you are 
doing. I see a lot of hbmk related commits. I understand it is still in 
active development phase. Since I do not know makefiles very well, I 
want to wait a little and test a "final" version.


Thanks, for your job,
Mindaugas

From toninhofwi at yahoo.com.br  Thu Mar  5 06:30:04 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Mar  5 06:26:39 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <57EE0EEA59724C8DA835248454D57C47@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
Message-ID: <kndvq4dl8op60kdooptcgk6ip80qemct6l@4ax.com>

>  I am trying to migrate my own libs to Harbour+msvc, but in some cases, I have some C sources which show me some errors in compilation time. 
> Any of you have made some migration of libs created in xharbour+bcc+fwh to harbour+msvc+fwh and can show me way?

Hi Kleyber,

You are trying to do two jobs at the same time: move to Harbour and
move to MSVC.

IMHO you need first move to Harbour with BCC, so, when your app is
running fine with Harbour+BCC, move to MSVC.

It is my oppinion.

Regards,

Toninho.


		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opo para voc! 
Experimente j e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From niki at synel.co.il  Thu Mar  5 06:24:04 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Mar  5 06:27:32 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B955@Mail-yoq.SYNEL-COMPANY.LTD>

> If it's only registering, it looks okay. Any other opinion?

For dev resource, we have SF which so far give us all we need
(and the rest are generously hosted on Phill's server).

As for public relations, well, it Ok to register, the problem is that no one
later bother to maintain and update the initial information. Here is a mail
I sent to this list on 2006-06-27, I wonder how many of these are updated
by now:

--------------------------------------------------
Hi,
With some Googleing around (Ok, so I don't feel like working right now)
I found these links, which point to some old builds:
---
FSF (Build 0.44)
http://directory.fsf.org/devel/compilers/harbour.html
Debian (Build 0.41, 0.45)
http://packages.qa.debian.org/h/harbour.html
http://packages.debian.org/stable/devel/harbour
freshmeat (Build 0.38)
http://freshmeat.net/projects/theharbourproject/
FreeBSD (Build 0.44)
http://www.freebsd.org/cgi/ports.cgi?query=harbour
rpmseek (Build 0.35, 0.44)
http://rpmseek.com/rpm-pl/harbour.html?hl=en
SAL (Build 0.33)
http://ceu.fi.udc.es/SAL/F/1/HARBOUR.html
FreshPorts (Build 0.44)
http://www.freshports.org/lang/harbour
---
I wonder if some on is interested in update these contacts?
--------------------------------------------------

Sent it twice in the past, but never got a reply,
so I guess no one feel the urge to update these sites.

You can register and add one more site to the above list.


  Chen.
From druzus at acn.waw.pl  Thu Mar  5 06:46:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 06:40:49 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <22344045.post@talk.nabble.com>
References: <22344045.post@talk.nabble.com>
Message-ID: <20090305114633.GA32132@uran.home.aster.pl>

On Wed, 04 Mar 2009, Pritpal Bedi wrote:

Hi,

> I have made this change in hbgtcore.c
> PHB_GT hb_gt_ItemBase( PHB_ITEM pItemGT )
> {
>    if( pItemGT )
>    {
>       void ** gtHolder = ( void ** ) hb_itemGetPtrGC( pItemGT, hb_gt_Destructor );
>       PHB_GT pGT = NULL;
>       if( gtHolder )
>          pGT = ( PHB_GT ) *gtHolder;
>       if( pGT && HB_GTSELF_LOCK( pGT ) )
>          return pGT;
>       else
>          return NULL;
>    }
>    else
>    {
>       return NULL;
>    }
> }
> Can you review and commit. 
> All other compilers do not produce any errors
> while PellesC x86 GPF's if <pItemGT == NULL>.

I've just verified with PellesC 4.50.15 and it generates wrong code
for above function. I'll change the order of instruction in this function
as some type of workaround for it but it should be reported to POCC author.
It's serious bug.
Please be careful with this compiler. It's not the 1-st and probably not
the last bug found in this compiler during work on [x]Harbour code.
Which version do you use?

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Mar  5 06:43:24 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 06:43:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10538] trunk/harbour
Message-ID: <E1LfBz2-0004AW-1C@dn4whf1.ch3.sourceforge.com>

Revision: 10538
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10538&view=rev
Author:   druzus
Date:     2009-03-05 11:43:16 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 12:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbgtcore.c
    * small modification in instruction order as workaround for PellesC bug

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbgtcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Mar  5 06:45:40 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Mar  5 06:45:45 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
In-Reply-To: <18d502870903050302sf6f2cf4lecd8e56dc1109fc6@mail.gmail.com>
References: <49AF520B.4080107@elart.it>
	<18d502870903050302sf6f2cf4lecd8e56dc1109fc6@mail.gmail.com>
Message-ID: <9257026e0903050345o385c14d2yc04f8b77489f3a9b@mail.gmail.com>

On Thu, Mar 5, 2009 at 12:02 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I'm not sure what you have in mind as possible benefits.
> Registering is no problem for me, but we already have
> bug tracking on sf.net (in fact even two of them, because
> Trac also has one integrated), so having another one
> on another site?would split the information, which isn't
> very good IMO.
> If it's only registering, it looks okay. Any other opinion?

IMHO these"activities" are useless, dangerous and disturbing.
Who will be in charge to update these sites, wikis, bugtracks and so on?
And what will be written there? In which languages?

There is nothing more "sad" than a not updated site or than a bug
report without reply, or than an empty "social page".

Just my personal opinion of course.

best regards,
Lorenzo
From M.Horodyski at pzuzycie.com.pl  Thu Mar  5 06:46:47 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar  5 06:46:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10537] trunk/harbour
In-Reply-To: <E1LfBIX-00016I-Hg@d5vjzd1.ch3.sourceforge.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501F7AC7A@PINK.zycie.pzu>

>-----Original Message-----
>From: druzus@users.sourceforge.net 
>[mailto:druzus@users.sourceforge.net] 
>Sent: Thursday, March 05, 2009 11:59 AM
>To: harbour@harbour-project.org
>Subject: [Harbour] SF.net SVN: harbour-project:[10537] trunk/harbour
>
>Revision: 10537

[...]

>  compare Clipper and current Harbour results with old Harbour ones or
>  with xHarbour results.

Harbour from 3.03.2009 :

a b c
A NIL C
NIL NIL NIL

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Thu Mar  5 06:58:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 06:52:29 2009
Subject: [Harbour] error with new build system
In-Reply-To: <49AF9473.5030102@marchuet.net>
References: <49AF9473.5030102@marchuet.net>
Message-ID: <20090305115813.GA22323@uran.home.aster.pl>

On Thu, 05 Mar 2009, Miguel Angel Marchuet wrote:

Hi,

> WITH THIS BUILD.BAT
> ------------------------------------------------------------------
> set PATH=C:\UTL\bcc58\bin;%PATH%
> rem
> set HB_COMPILER=bcc
> set HB_ARCHITECTURE=win
> set HB_USER_PRGFLAGS=-l
> rem
> set PATH=C:\UTL\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\UTL\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ------------------------------------------------------------------
> IT DOESN'T BUILD, the error is:
> config/dir.cf:55: *** missing `endif'.  Stop.

What GNU make vaerion do you use?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Mar  5 07:05:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 06:59:47 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <49AFB002.5000009@dbtopas.lt>
References: <18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
	<20090304190651.GA21892@uran.home.aster.pl>
	<49AEE85E.3030007@fsgiudice.com>
	<20090304232516.GA11402@uran.home.aster.pl>
	<20090305012452.GA13580@uran.home.aster.pl>
	<49AFB002.5000009@dbtopas.lt>
Message-ID: <20090305120531.GA31355@uran.home.aster.pl>

On Thu, 05 Mar 2009, Mindaugas Kavaliauskas wrote:

Hi,

>> PRIVATE declaration can be used in any place of code and it was
>> beyond my and other [x]Harbour developers imagination ;-) that user
>> may want to create code like:
>>    while .t.
>>       private var := <something>
>>       ...
>>    enddo
> Usually do not use PRIVATE variables in single thread applications. I 
> wanted to avoid STATIC or THREAD STATIC here, so, I've used PRIVATE and had 
> enough imagination to declare it in a loop :)

Just for information.
What was expected results of above code for you?
Now I added the protection so repeated declarations in the same function
are ignored (try the test code from ChangeLog) but in the previous version
each call to PRIVATE always put previous PRIVATE variable on private stack.
These variables were restored in the reverse order on function exit.
This function never end so the stack was only growing.

>> I can try to look at uhttpd but it will have to be updated to work
>> in Linux. At least in some special test mode. Can you update it?
>> I tried to compile it with INET support and the following functions
>> are missed:
> I've almost finished with new ideas for uhttpd. I hope to send sample code 
> to mailing list next week. I've fixed socket.c using your suggestions, and 
> I can successfully compile and run uhttpd under linux.

Thank you very much.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Mar  5 07:13:27 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar  5 07:13:30 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090305120531.GA31355@uran.home.aster.pl>
References: <18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>	<20090304232516.GA11402@uran.home.aster.pl>	<20090305012452.GA13580@uran.home.aster.pl>	<49AFB002.5000009@dbtopas.lt>
	<20090305120531.GA31355@uran.home.aster.pl>
Message-ID: <49AFC1E7.8020103@dbtopas.lt>

Hi,


>> Usually do not use PRIVATE variables in single thread applications. I 
>> wanted to avoid STATIC or THREAD STATIC here, so, I've used PRIVATE and had 
>> enough imagination to declare it in a loop :)
> 
> Just for information.
> What was expected results of above code for you?

I just wanted to have a private variable. Since I did not know the 
details, I just wrote:
    PRIVATE var := value


Regards,
Mindaugas

From harbour.01 at syenar.hu  Thu Mar  5 07:16:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 07:16:51 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
In-Reply-To: <9257026e0903050345o385c14d2yc04f8b77489f3a9b@mail.gmail.com>
References: <49AF520B.4080107@elart.it>
	<18d502870903050302sf6f2cf4lecd8e56dc1109fc6@mail.gmail.com>
	<9257026e0903050345o385c14d2yc04f8b77489f3a9b@mail.gmail.com>
Message-ID: <18d502870903050416u68d2afd8rd659675668fedf1c@mail.gmail.com>

In defence of Trac: It's the _only_ wiki we have.Trac is extremely useful to
track changes and
events and integrate it with ticket tracking. Latter
is for internal usage only, not for the public.

For the public we have the only one on sf.net.

I agree with the rest.

Brgds,
Viktor

On Thu, Mar 5, 2009 at 12:45 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> On Thu, Mar 5, 2009 at 12:02 PM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>
> > I'm not sure what you have in mind as possible benefits.
> > Registering is no problem for me, but we already have
> > bug tracking on sf.net (in fact even two of them, because
> > Trac also has one integrated), so having another one
> > on another site would split the information, which isn't
> > very good IMO.
> > If it's only registering, it looks okay. Any other opinion?
>
> IMHO these"activities" are useless, dangerous and disturbing.
> Who will be in charge to update these sites, wikis, bugtracks and so on?
> And what will be written there? In which languages?
>
> There is nothing more "sad" than a not updated site or than a bug
> report without reply, or than an empty "social page".
>
> Just my personal opinion of course.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/299628cd/attachment.html
From niki at synel.co.il  Thu Mar  5 07:15:43 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Mar  5 07:19:08 2009
Subject: [Harbour] make_gnu clean
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F3879B956@Mail-yoq.SYNEL-COMPANY.LTD>

WinNT, mingw32-makwe.exe v3.81, ChangeLog rev.10538

set HB_ARCHITECTURE=win
set HB_COMPILER=bcc
make_gnu clean

source\main\win\bcc is totally removed with any file that was there
(source\main\win is now empty). It seems that this is the standard
behavior with the rest of the build.

There is an exception:

lib\win\bcc is cleaned from harbour library names, but not their bak version
(created when an obj is replaced in an existing library), random files I put there
did not get deleted. Is that an expected behavior?


  Chen.
From druzus at acn.waw.pl  Thu Mar  5 07:27:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 07:21:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10536] trunk/harbour
In-Reply-To: <E1LfBBm-00056e-DJ@c3vjzd1.ch3.sourceforge.com>
References: <E1LfBBm-00056e-DJ@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20090305122709.GA22172@uran.home.aster.pl>

On Thu, 05 Mar 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-03-05 11:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>     ; NOTE: Most probably not, but I hope hbmk2 now qualifies for
>             "basic functionality".

Yes, thank you very much.
I've just recompiled xhgtk using hbmk2.
I'm beginning to make some real tests with my code.

BTW what is the logic to show this message?
   hbmk: Processing configuration: /etc/harbour/hbmk.cfg
can we hide it and show only in some verbose/trace mode?

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  5 07:26:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 07:26:12 2009
Subject: [Harbour] make_gnu clean
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F3879B956@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F3879B956@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903050426v3bcce9c0g4c72af0a7ae62f3e@mail.gmail.com>

No, this should be fixed. Probably in config/win/global.cf, but I have no
idea why.

BTW, command.com specific stuff could be removed from
config/win to simplify things, as Win9x isn't supported to
create builds.

Brgds,
Viktor

On Thu, Mar 5, 2009 at 1:15 PM, Chen Kedem <niki@synel.co.il> wrote:

> WinNT, mingw32-makwe.exe v3.81, ChangeLog rev.10538
>
> set HB_ARCHITECTURE=win
> set HB_COMPILER=bcc
> make_gnu clean
>
> source\main\win\bcc is totally removed with any file that was there
> (source\main\win is now empty). It seems that this is the standard
> behavior with the rest of the build.
>
> There is an exception:
>
> lib\win\bcc is cleaned from harbour library names, but not their bak
> version
> (created when an obj is replaced in an existing library), random files I
> put there
> did not get deleted. Is that an expected behavior?
>
>
>  Chen._______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/f3220dae/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 07:28:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 07:29:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10536] trunk/harbour
In-Reply-To: <20090305122709.GA22172@uran.home.aster.pl>
References: <E1LfBBm-00056e-DJ@c3vjzd1.ch3.sourceforge.com>
	<20090305122709.GA22172@uran.home.aster.pl>
Message-ID: <18d502870903050428l3fa12757la84aa4b41c1a871d@mail.gmail.com>

>
> > 2009-03-05 11:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >     ; NOTE: Most probably not, but I hope hbmk2 now qualifies for
> >             "basic functionality".
>
> Yes, thank you very much.
> I've just recompiled xhgtk using hbmk2.
> I'm beginning to make some real tests with my code.
>
> BTW what is the logic to show this message?
>   hbmk: Processing configuration: /etc/harbour/hbmk.cfg
> can we hide it and show only in some verbose/trace mode?


You can use -quiet to suppress it. I've just recently added it,
because these files can completely modify behaviour, so it's
important to be informed about them. This is the only informational
message which is shown by default.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/6bb87cda/attachment.html
From miguelangel at marchuet.net  Thu Mar  5 07:41:11 2009
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Thu Mar  5 07:35:15 2009
Subject: [Harbour] error with new build system
In-Reply-To: <20090305115813.GA22323@uran.home.aster.pl>
References: <49AF9473.5030102@marchuet.net>
	<20090305115813.GA22323@uran.home.aster.pl>
Message-ID: <49AFC867.3060600@marchuet.net>

This one:

C:\UTL\make-3.81>GNUMAKE -v
GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for Windows32


Best regards,
Miguel Angel Marchuet

Przemyslaw Czerpak escribi?:
> On Thu, 05 Mar 2009, Miguel Angel Marchuet wrote:
> 
> Hi,
> 
>> WITH THIS BUILD.BAT
>> ------------------------------------------------------------------
>> set PATH=C:\UTL\bcc58\bin;%PATH%
>> rem
>> set HB_COMPILER=bcc
>> set HB_ARCHITECTURE=win
>> set HB_USER_PRGFLAGS=-l
>> rem
>> set PATH=C:\UTL\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\UTL\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ------------------------------------------------------------------
>> IT DOESN'T BUILD, the error is:
>> config/dir.cf:55: *** missing `endif'.  Stop.
> 
> What GNU make vaerion do you use?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________ Informaci?n de ESET NOD32 Antivirus, versi?n de la base de firmas de virus 3910 (20090305) __________
> 
> ESET NOD32 Antivirus ha comprobado este mensaje.
> 
> http://www.eset.com
> 
> 
> 
> 

From harbour.01 at syenar.hu  Thu Mar  5 07:39:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 07:39:43 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
In-Reply-To: <18d502870903050416u68d2afd8rd659675668fedf1c@mail.gmail.com>
References: <49AF520B.4080107@elart.it>
	<18d502870903050302sf6f2cf4lecd8e56dc1109fc6@mail.gmail.com>
	<9257026e0903050345o385c14d2yc04f8b77489f3a9b@mail.gmail.com>
	<18d502870903050416u68d2afd8rd659675668fedf1c@mail.gmail.com>
Message-ID: <18d502870903050439k13a6980fh21595bd40cdb6196@mail.gmail.com>

BTW we had two homepages, too (one of them is sf.net stub), so I've
configured the sf.net one to redirect to our regular one.
Brgds,
Viktor

On Thu, Mar 5, 2009 at 1:16 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> In defence of Trac: It's the _only_ wiki we have.Trac is extremely useful
> to track changes and
> events and integrate it with ticket tracking. Latter
> is for internal usage only, not for the public.
>
> For the public we have the only one on sf.net.
>
> I agree with the rest.
>
> Brgds,
> Viktor
>
> On Thu, Mar 5, 2009 at 12:45 PM, Lorenzo Fiorini <
> lorenzo.fiorini@gmail.com> wrote:
>
>> On Thu, Mar 5, 2009 at 12:02 PM, Viktor Szak?ts <harbour.01@syenar.hu>
>> wrote:
>>
>> > I'm not sure what you have in mind as possible benefits.
>> > Registering is no problem for me, but we already have
>> > bug tracking on sf.net (in fact even two of them, because
>> > Trac also has one integrated), so having another one
>> > on another site would split the information, which isn't
>> > very good IMO.
>> > If it's only registering, it looks okay. Any other opinion?
>>
>> IMHO these"activities" are useless, dangerous and disturbing.
>> Who will be in charge to update these sites, wikis, bugtracks and so on?
>> And what will be written there? In which languages?
>>
>> There is nothing more "sad" than a not updated site or than a bug
>> report without reply, or than an empty "social page".
>>
>> Just my personal opinion of course.
>>
>> best regards,
>> Lorenzo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/256a7ce4/attachment.html
From druzus at acn.waw.pl  Thu Mar  5 07:54:45 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 07:49:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10536] trunk/harbour
In-Reply-To: <18d502870903050428l3fa12757la84aa4b41c1a871d@mail.gmail.com>
References: <E1LfBBm-00056e-DJ@c3vjzd1.ch3.sourceforge.com>
	<20090305122709.GA22172@uran.home.aster.pl>
	<18d502870903050428l3fa12757la84aa4b41c1a871d@mail.gmail.com>
Message-ID: <20090305125445.GA9554@uran.home.aster.pl>

On Thu, 05 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > BTW what is the logic to show this message?
> >   hbmk: Processing configuration: /etc/harbour/hbmk.cfg
> > can we hide it and show only in some verbose/trace mode?
> You can use -quiet to suppress it. I've just recently added it,
> because these files can completely modify behaviour, so it's
> important to be informed about them. This is the only informational
> message which is shown by default.

As far as I know to use hbmk2 we need hbmk.cfg created at Harbour
compile time so where this file should be located to not show this
message?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Mar  5 08:01:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 07:55:40 2009
Subject: [Harbour] error with new build system
In-Reply-To: <49AFC867.3060600@marchuet.net>
References: <49AF9473.5030102@marchuet.net>
	<20090305115813.GA22323@uran.home.aster.pl>
	<49AFC867.3060600@marchuet.net>
Message-ID: <20090305130124.GA18684@uran.home.aster.pl>

On Thu, 05 Mar 2009, Miguel Angel Marchuet wrote:
> This one:
> C:\UTL\make-3.81>GNUMAKE -v
> GNU Make 3.81
> Copyright (C) 2006  Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.
> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
> PARTICULAR PURPOSE.
> This program built for Windows32

So please check if you use clean SVN files without any modifications.
AFAIK other windows users use the same make version.
And please check the name. Harbour does not look for 'GNUMAKAE.EXE'
but only for mingw32-make.exe and make.exe.
So please check the version of above make systems.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  5 08:08:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 08:08:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10536] trunk/harbour
In-Reply-To: <20090305125445.GA9554@uran.home.aster.pl>
References: <E1LfBBm-00056e-DJ@c3vjzd1.ch3.sourceforge.com>
	<20090305122709.GA22172@uran.home.aster.pl>
	<18d502870903050428l3fa12757la84aa4b41c1a871d@mail.gmail.com>
	<20090305125445.GA9554@uran.home.aster.pl>
Message-ID: <18d502870903050508v7a9891bauba400aea0f3ec119@mail.gmail.com>

>
> > because these files can completely modify behaviour, so it's
> > important to be informed about them. This is the only informational
> > message which is shown by default.
>
> As far as I know to use hbmk2 we need hbmk.cfg created at Harbour
> compile time so where this file should be located to not show this
> message?


Since it can be located at several different places, the message
is always shown to inform exactly which one was picked up.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/7eb83c75/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 08:15:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 08:15:36 2009
Subject: [Harbour] error with new build system
In-Reply-To: <20090305130124.GA18684@uran.home.aster.pl>
References: <49AF9473.5030102@marchuet.net>
	<20090305115813.GA22323@uran.home.aster.pl>
	<49AFC867.3060600@marchuet.net>
	<20090305130124.GA18684@uran.home.aster.pl>
Message-ID: <18d502870903050515x13ce0548ua7aee15407fbb9b7@mail.gmail.com>

This seems a different build than the recommended one, which is the MinGW
build is showing:
"This program built for i686-pc-mingw32".

This is supposed to work anyway. Even if renamed to gnumake.exe, but
in this case make_gnu.bat will not pick it up so it should be started
manually
(and thus losing the services of make_gnu.bat). Probably easier to go the
recommended way. [ See this and more in INSTALL, oh well. ]

Brgds,
Viktor

On Thu, Mar 5, 2009 at 2:01 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 05 Mar 2009, Miguel Angel Marchuet wrote:
> > This one:
> > C:\UTL\make-3.81>GNUMAKE -v
> > GNU Make 3.81
> > Copyright (C) 2006  Free Software Foundation, Inc.
> > This is free software; see the source for copying conditions.
> > There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
> > PARTICULAR PURPOSE.
> > This program built for Windows32
>
> So please check if you use clean SVN files without any modifications.
> AFAIK other windows users use the same make version.
> And please check the name. Harbour does not look for 'GNUMAKAE.EXE'
> but only for mingw32-make.exe and make.exe.
> So please check the version of above make systems.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/cebb5bc6/attachment-0001.html
From kadziola at tlen.pl  Thu Mar  5 08:20:00 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Mar  5 08:20:05 2009
Subject: [Harbour] error with new build system
In-Reply-To: <49AF9473.5030102@marchuet.net>
References: <49AF9473.5030102@marchuet.net>
Message-ID: <45392714.20090305142000@tlen.pl>

Witam,

W li?cie datowanym 5 marca 2009 (09:59:31) mo?na przeczyta?:

MAM> WITH THIS BUILD.BAT

MAM> ------------------------------------------------------------------
MAM> set PATH=C:\UTL\bcc58\bin;%PATH%
MAM> rem
MAM> set HB_COMPILER=bcc
MAM> set HB_ARCHITECTURE=win
MAM> set HB_USER_PRGFLAGS=-l
MAM> rem
MAM> set PATH=C:\UTL\make-3.81;%PATH%
MAM> set HB_INSTALL_PREFIX=C:\UTL\hb-%HB_COMPILER%
MAM> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
MAM> ------------------------------------------------------------------

MAM> IT DOESN'T BUILD, the error is:

MAM> config/dir.cf:55: *** missing `endif'.  Stop.
MAM> _______________________________________________
MAM> Harbour mailing list
MAM> Harbour@harbour-project.org
MAM> http://lists.harbour-project.org/mailman/listinfo/harbour



-- 
Pozdrowienia,
 Jaros?aw K?dzio?a
 504 575 451

From druzus at users.sourceforge.net  Thu Mar  5 08:29:11 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 08:29:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10539] trunk/harbour
Message-ID: <E1LfDdP-000374-HD@3kljzd1.ch3.sourceforge.com>

Revision: 10539
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10539&view=rev
Author:   druzus
Date:     2009-03-05 13:29:10 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 14:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
  * harbour/source/vm/hvm.c
    * respect HB_START_PROCEDURE in all builds if such public
      function/procedure exists.
      Now whole Harbour code can be compiled with -n1 in all builds.
      Warning for Windows/DOS users:
         if you have main() function in your .prg code then it will be
         automatically detected as application startup entry just like
         in other systems.
         Otherwise the 1-st linked function will be used like so far.
    + added HB_START_PROC_STRICT macro which causes that HVM ignores
      HB_FS_FIRST attribute. Before this modification HB_START_PROCEDURE
      has such meaning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/source/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Thu Mar  5 08:31:24 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Mar  5 08:31:43 2009
Subject: [Harbour] error with new build system
In-Reply-To: <45392714.20090305142000@tlen.pl>
References: <49AF9473.5030102@marchuet.net> <45392714.20090305142000@tlen.pl>
Message-ID: <6010179428.20090305143124@tlen.pl>

Hello,

Sorry for previous message - my mistake !


-- 
Regards
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Thu Mar  5 08:49:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 08:44:12 2009
Subject: [Harbour] error with new build system
In-Reply-To: <18d502870903050515x13ce0548ua7aee15407fbb9b7@mail.gmail.com>
References: <49AF9473.5030102@marchuet.net>
	<20090305115813.GA22323@uran.home.aster.pl>
	<49AFC867.3060600@marchuet.net>
	<20090305130124.GA18684@uran.home.aster.pl>
	<18d502870903050515x13ce0548ua7aee15407fbb9b7@mail.gmail.com>
Message-ID: <20090305134954.GA27097@uran.home.aster.pl>

On Thu, 05 Mar 2009, Szak?ts Viktor wrote:

Hi,

> This seems a different build than the recommended one, which is the MinGW
> build is showing:
> "This program built for i686-pc-mingw32".
> This is supposed to work anyway. Even if renamed to gnumake.exe, but
> in this case make_gnu.bat will not pick it up so it should be started
> manually
> (and thus losing the services of make_gnu.bat). Probably easier to go the
> recommended way. [ See this and more in INSTALL, oh well. ]

Or maybe we should extend make_gnu.bat to look for gnumake and gmake
(gmake is official name of GNU make used in different systems which
has its own make program)

If the GNU Win port of GNU make can be used (we should check it) then
it allows to build Harbour without installing MSys environment.
I think that after dropping support for native C compilers makes
it's good idea to support also GNU Win ports of GNU make not only
MSys ones.

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Mar  5 08:45:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 08:45:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
Message-ID: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>

Revision: 10540
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10540&view=rev
Author:   vszakats
Date:     2009-03-05 13:45:42 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 14:38 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/man/hbmk.1
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  * config/dos/global.cf
  - config/dos/rsx32.cf
  - config/win/rsxnt.cf
    - Pruned rsx32 and rsxnt compiler support. Both are dead
      product since long years. Their successor is MinGW on win,
      and DJGPP on dos.
    ; NOTE: More candidates for such pruning are:
            - dmc (buggy and compiler not updated)
            - xcc (based on very old version of pocc)
            Any opinions?

  * config/dos/global.cf
    - Cleaned emx, watcom, rsx, bcc16 related branches.

  * mpkg_win.bat
  * mpkg_win.nsi
    ! Exclusion of junk files is now done in batch, so
      the .zip is now also free from them.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/dos/global.cf
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/mpkg_win.bat
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/config/dos/rsx32.cf
    trunk/harbour/config/win/rsxnt.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar  5 09:09:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 09:09:42 2009
Subject: [Harbour] error with new build system
In-Reply-To: <20090305134954.GA27097@uran.home.aster.pl>
References: <49AF9473.5030102@marchuet.net>
	<20090305115813.GA22323@uran.home.aster.pl>
	<49AFC867.3060600@marchuet.net>
	<20090305130124.GA18684@uran.home.aster.pl>
	<18d502870903050515x13ce0548ua7aee15407fbb9b7@mail.gmail.com>
	<20090305134954.GA27097@uran.home.aster.pl>
Message-ID: <18d502870903050609i3874157ds3fe6de0a702f71d4@mail.gmail.com>

Yes, I have just downloaded the GNU version for a check, and for me it
worked, but it's also compiled with MinGW:
"This program built for i386-pc-mingw32"

>From link: http://gnuwin32.sourceforge.net/packages/make.htm

As for the MinGW version: only 'mingw32-make.exe' is needed,
not the whole msys packages. It's available as a separate
download even. I'll modify the link to point there directly.

I'd like to keep variations the less possible, as it impossible
to support, test and maintain a gazillion of different options,
and it just confuses users. I've checked, and I won't add even
this new link, because I'd have to rephrase the whole thing
to make it true for all combinations, and at the end it would
be even less clear than it is now. Someone with good teaching
and writing skills could give it a go though.

I've found a 3.75 version on the first page of Google search
for "gnu make windows", plus a 3.78.1 in unxtools. Didn't test
them, but they aren't the one Miguel is trying to use. Maybe
he should post where did he get his.

Brgds,
Viktor

On Thu, Mar 5, 2009 at 2:49 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 05 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > This seems a different build than the recommended one, which is the MinGW
> > build is showing:
> > "This program built for i686-pc-mingw32".
> > This is supposed to work anyway. Even if renamed to gnumake.exe, but
> > in this case make_gnu.bat will not pick it up so it should be started
> > manually
> > (and thus losing the services of make_gnu.bat). Probably easier to go the
> > recommended way. [ See this and more in INSTALL, oh well. ]
>
> Or maybe we should extend make_gnu.bat to look for gnumake and gmake
> (gmake is official name of GNU make used in different systems which
> has its own make program)
>
> If the GNU Win port of GNU make can be used (we should check it) then
> it allows to build Harbour without installing MSys environment.
> I think that after dropping support for native C compilers makes
> it's good idea to support also GNU Win ports of GNU make not only
> MSys ones.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/bcc630bc/attachment.html
From vszakats at users.sourceforge.net  Thu Mar  5 09:10:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 09:10:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10541] trunk/harbour
Message-ID: <E1LfEHm-0003p7-Cw@3kljzd1.ch3.sourceforge.com>

Revision: 10541
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10541&view=rev
Author:   vszakats
Date:     2009-03-05 14:10:53 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 15:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    * Deeper link to MinGW GNU Make download.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar  5 09:23:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 09:23:09 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <20090305114633.GA32132@uran.home.aster.pl>
References: <22344045.post@talk.nabble.com>
	<20090305114633.GA32132@uran.home.aster.pl>
Message-ID: <22352553.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> I've just verified with PellesC 4.50.15 and it generates wrong code
> for above function. I'll change the order of instruction in this function
> as some type of workaround for it but it should be reported to POCC
> author.
> It's serious bug.
> Please be careful with this compiler. It's not the 1-st and probably not
> the last bug found in this compiler during work on [x]Harbour code.
> Which version do you use?
> 

PellesC is not my production compiler. I was just testing it for 
ready-to-use distribution only. If you can explain what bug this
compiler has which should be reported to its author, I will send 
this report to Pelle. I downloaded the latest 5.0.1.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/hb_gt_ItemBase%28%29-and-PellesC-tp22344045p22352553.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar  5 09:32:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 09:32:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10539] trunk/harbour
In-Reply-To: <E1LfDdP-000374-HD@3kljzd1.ch3.sourceforge.com>
References: <E1LfDdP-000374-HD@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903050632r4733703au986ccec9cf41fe52@mail.gmail.com>

Looks great, many thanks.
Brgds,
Viktor

On Thu, Mar 5, 2009 at 2:29 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10539
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10539&view=rev
> Author:   druzus
> Date:     2009-03-05 13:29:10 +0000 (Thu, 05 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-05 14:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbdefs.h
>  * harbour/source/vm/hvm.c
>    * respect HB_START_PROCEDURE in all builds if such public
>      function/procedure exists.
>      Now whole Harbour code can be compiled with -n1 in all builds.
>      Warning for Windows/DOS users:
>         if you have main() function in your .prg code then it will be
>         automatically detected as application startup entry just like
>         in other systems.
>         Otherwise the 1-st linked function will be used like so far.
>    + added HB_START_PROC_STRICT macro which causes that HVM ignores
>      HB_FS_FIRST attribute. Before this modification HB_START_PROCEDURE
>      has such meaning.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbdefs.h
>    trunk/harbour/source/vm/hvm.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/f5c46e65/attachment-0001.html
From lorenzo.fiorini at gmail.com  Thu Mar  5 09:45:04 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Mar  5 09:45:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>

On Thu, Mar 5, 2009 at 2:45 PM,  <vszakats@users.sourceforge.net> wrote:

> ? ?; NOTE: More candidates for such pruning are:
> ? ? ? ? ? ?- dmc (buggy and compiler not updated)
> ? ? ? ? ? ?- xcc (based on very old version of pocc)
> ? ? ? ? ? ?Any opinions?

I would keep only mingw, msvc, bcc for Win and gcc for all the rest.

Just my opinion of course.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Thu Mar  5 09:56:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 09:56:30 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's
	Ready-to-use Distro
Message-ID: <22353245.post@talk.nabble.com>


Hello Everybody

I really thanks Pelle for permitting to include it in the distro.

Below is his reply to my request.

<<<
Hello, 

> I am looking forward to a positive response if you allow me to include 
> your works as a part of it. It will be a great boost for Harbour to 
> present to newbies in a comfortable environments. 

Sure - go ahead and include Pelles C - but please include a note somewhere 
that it is a separate package, and where it can be found 
(http://www.smorgasbordet.com/pellesc). 

Pelle 
>>>

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22353245.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar  5 10:08:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 10:08:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>
Message-ID: <18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>

owatcom seems also okay, and pocc is nice for some free x64/ARM platform
testing, otherwise I agree.
Let me extend the question.

Does anyone have any objection to remove this list
from our supported compiler list:

- win/dmc (buggy and compiler not updated)
- win/xcc (based on very old version of pocc, propriatery)
- win/icc (IBM VisualAge, not available for Windows anymore, and it was
never tested with Harbour)

IOW, can I delete these?

Brgds,
Viktor

On Thu, Mar 5, 2009 at 3:45 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> On Thu, Mar 5, 2009 at 2:45 PM,  <vszakats@users.sourceforge.net> wrote:
>
> >    ; NOTE: More candidates for such pruning are:
> >            - dmc (buggy and compiler not updated)
> >            - xcc (based on very old version of pocc)
> >            Any opinions?
>
> I would keep only mingw, msvc, bcc for Win and gcc for all the rest.
>
> Just my opinion of course.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/8d82f4e4/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 10:12:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 10:12:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>
	<18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>
Message-ID: <18d502870903050712u7fddfb59ubc0907a95db8d9d3@mail.gmail.com>

And also OS/2 / icc (IBM Visual Age C++ 3.0).
Brgds,
Viktor

On Thu, Mar 5, 2009 at 4:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> owatcom seems also okay, and pocc is nice for some free x64/ARM platform
> testing, otherwise I agree.
> Let me extend the question.
>
> Does anyone have any objection to remove this list
> from our supported compiler list:
>
> - win/dmc (buggy and compiler not updated)
> - win/xcc (based on very old version of pocc, propriatery)
> - win/icc (IBM VisualAge, not available for Windows anymore, and it was
> never tested with Harbour)
>
> IOW, can I delete these?
>
> Brgds,
> Viktor
>
> On Thu, Mar 5, 2009 at 3:45 PM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> > wrote:
>
>> On Thu, Mar 5, 2009 at 2:45 PM,  <vszakats@users.sourceforge.net> wrote:
>>
>> >    ; NOTE: More candidates for such pruning are:
>> >            - dmc (buggy and compiler not updated)
>> >            - xcc (based on very old version of pocc)
>> >            Any opinions?
>>
>> I would keep only mingw, msvc, bcc for Win and gcc for all the rest.
>>
>> Just my opinion of course.
>>
>> best regards,
>> Lorenzo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/6b522f6c/attachment.html
From vszakats at users.sourceforge.net  Thu Mar  5 10:19:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 10:19:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10542] trunk/harbour
Message-ID: <E1LfFMI-0002RY-Mb@c3vjzd1.ch3.sourceforge.com>

Revision: 10542
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10542&view=rev
Author:   vszakats
Date:     2009-03-05 15:19:28 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 16:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/man/hbmk.1
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  - config/win/icc.cf
    - Deleted win/icc from supported compiler list. This was
      never working and the compiler isn't available anymore
      for Windows. For AIX we could support it though.

  * INSTALL
    * Minor typos.

  * mpkg_win.bat
    + Added zip link. Made NSIS link more direct.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/mpkg_win.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/config/win/icc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Thu Mar  5 10:31:29 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Mar  5 10:31:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <18d502870903050712u7fddfb59ubc0907a95db8d9d3@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>	<9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>	<18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>
	<18d502870903050712u7fddfb59ubc0907a95db8d9d3@mail.gmail.com>
Message-ID: <49AFF051.9030001@libero.it>

Viktor,

I don't think there is anyone left using VAC++ on OS/2 to build harbour.

Maurilio.

Viktor Szak?ts wrote:
> And also OS/2 / icc (IBM Visual Age C++ 3.0).
> 
> Brgds,
> Viktor
> 
> On Thu, Mar 5, 2009 at 4:08 PM, Viktor Szak?ts <harbour.01@syenar.hu
> <mailto:harbour.01@syenar.hu>> wrote:
> 
>     owatcom seems also okay, and pocc is nice for some free 
>     x64/ARM platform testing, otherwise I agree.
> 
>     Let me extend the question.
> 
>     Does anyone have any objection to remove this list 
>     from our supported compiler list:
> 
>     - win/dmc (buggy and compiler not updated)
>     - win/xcc (based on very old version of pocc, propriatery)
>     - win/icc (IBM VisualAge, not available for Windows anymore, and it
>     was never tested with Harbour)
> 
>     IOW, can I delete these?
> 
>     Brgds,
>     Viktor
> 
>     On Thu, Mar 5, 2009 at 3:45 PM, Lorenzo Fiorini
>     <lorenzo.fiorini@gmail.com <mailto:lorenzo.fiorini@gmail.com>> wrote:
> 
>         On Thu, Mar 5, 2009 at 2:45 PM,  <vszakats@users.sourceforge.net
>         <mailto:vszakats@users.sourceforge.net>> wrote:
> 
>         >    ; NOTE: More candidates for such pruning are:
>         >            - dmc (buggy and compiler not updated)
>         >            - xcc (based on very old version of pocc)
>         >            Any opinions?
> 
>         I would keep only mingw, msvc, bcc for Win and gcc for all the rest.
> 
>         Just my opinion of course.
> 
>         best regards,
>         Lorenzo
>         _______________________________________________
>         Harbour mailing list
>         Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>         http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Mar  5 10:32:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 10:32:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <49AFF051.9030001@libero.it>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>
	<18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>
	<18d502870903050712u7fddfb59ubc0907a95db8d9d3@mail.gmail.com>
	<49AFF051.9030001@libero.it>
Message-ID: <18d502870903050732l76dd5995s830b67ebc166a20a@mail.gmail.com>

Thank you!
Brgds,
Viktor

On Thu, Mar 5, 2009 at 4:31 PM, Maurilio Longo <maurilio.longo@libero.it>wrote:

> Viktor,
>
> I don't think there is anyone left using VAC++ on OS/2 to build harbour.
>
> Maurilio.
>
> Viktor Szak?ts wrote:
> > And also OS/2 / icc (IBM Visual Age C++ 3.0).
> >
> > Brgds,
> > Viktor
> >
> > On Thu, Mar 5, 2009 at 4:08 PM, Viktor Szak?ts <harbour.01@syenar.hu
> > <mailto:harbour.01@syenar.hu>> wrote:
> >
> >     owatcom seems also okay, and pocc is nice for some free
> >     x64/ARM platform testing, otherwise I agree.
> >
> >     Let me extend the question.
> >
> >     Does anyone have any objection to remove this list
> >     from our supported compiler list:
> >
> >     - win/dmc (buggy and compiler not updated)
> >     - win/xcc (based on very old version of pocc, propriatery)
> >     - win/icc (IBM VisualAge, not available for Windows anymore, and it
> >     was never tested with Harbour)
> >
> >     IOW, can I delete these?
> >
> >     Brgds,
> >     Viktor
> >
> >     On Thu, Mar 5, 2009 at 3:45 PM, Lorenzo Fiorini
> >     <lorenzo.fiorini@gmail.com <mailto:lorenzo.fiorini@gmail.com>>
> wrote:
> >
> >         On Thu, Mar 5, 2009 at 2:45 PM,  <vszakats@users.sourceforge.net
> >         <mailto:vszakats@users.sourceforge.net>> wrote:
> >
> >         >    ; NOTE: More candidates for such pruning are:
> >         >            - dmc (buggy and compiler not updated)
> >         >            - xcc (based on very old version of pocc)
> >         >            Any opinions?
> >
> >         I would keep only mingw, msvc, bcc for Win and gcc for all the
> rest.
> >
> >         Just my opinion of course.
> >
> >         best regards,
> >         Lorenzo
> >         _______________________________________________
> >         Harbour mailing list
> >         Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
> >         http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> --
>  __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/09d1d1a3/attachment-0001.html
From druzus at acn.waw.pl  Thu Mar  5 10:44:41 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 10:38:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090305154441.GA5809@uran.home.aster.pl>

On Thu, 05 Mar 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     ; NOTE: More candidates for such pruning are:
>             - dmc (buggy and compiler not updated)
>             - xcc (based on very old version of pocc)
>             Any opinions?

XCC is native xHarbour.com compiler. I do not use it but from time
to time I have to make some tests with this compiler, f.e. to check
if sth is a compiler problem or bug in the code. I do not use xHarbour
so support for XCC is very usable for me.
DMC has a know bug in INT64 integers but it can be defined on the same
level as some PellesC problems. Just simply here I was not interested
in looking for workaround. I do not think we should remove it.
Current SVN code needs some cleanups for DMC builds but it seems to be
rather easy job.
Of course I understand that support for large set of C compilers in
hbmk2 is problematic and you do not want to add all possible compilers.
It's reasonable for me. We do not have to support in hbmk2 all exotic
C compilers people may want to use.
Anyhow I think that in the future we should think about defining support
for new C compiler only in hbmk.cfg. Of course it may not be easy but such
functionality can greatly help when Harbour is ported to new platform.
F.e. I will add support for SunOS and native C compiler. It will be nice
if I can also add support for this compiler without touching hbmk2.prg
code but only adding some definitions to hbmk.cfg in postinst.sh.
Probably in similar way to defining cross build environment.
Please think about it. It's not urgent. IMHO it's even better to well
test current hbmk2 in different environments to catch some missing
functionality before we define some universal rules for all compilers.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  5 10:56:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 10:56:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <20090305154441.GA5809@uran.home.aster.pl>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<20090305154441.GA5809@uran.home.aster.pl>
Message-ID: <18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>

Thanks for your comments.
It's not just hbmk2.

The real problem is that each of these compilers need to be
tested, documented, builds done, waiting for green lights,
spending time of workarounds... with no real value. We have
limited time, and there are much more important areas to
spend it on. We have quite many compilers so adding a few
buggy ones really doesn't enhance our code quality to a great
deal, on the contrary it just makes it more complicated.

Let's leave XCC, if you need it for testing.

Specifically for DMC, I think it added no value since adding
it last year, but I've alone spent a few days on it so far.

I'm half way into deleting it, but I can start over if you need this
compiler, just send me a short confirmation please.

As for moving the logic inside hbmk2 to external templates,
it would surely be nice, but I envision it as a huge amount of
work, it needs to be designed well, flexible, yet comprehensible.
We will see, first I'd like to wait until we finish and test internal
support for the full line of our compilers. If this is done, it's much
easier/safer to compose a picture about a fitting template system.

Brgds,
Viktor

On Thu, Mar 5, 2009 at 4:44 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 05 Mar 2009, vszakats@users.sourceforge.net wrote:
>
> Hi,
>
> >     ; NOTE: More candidates for such pruning are:
> >             - dmc (buggy and compiler not updated)
> >             - xcc (based on very old version of pocc)
> >             Any opinions?
>
> XCC is native xHarbour.com compiler. I do not use it but from time
> to time I have to make some tests with this compiler, f.e. to check
> if sth is a compiler problem or bug in the code. I do not use xHarbour
> so support for XCC is very usable for me.
> DMC has a know bug in INT64 integers but it can be defined on the same
> level as some PellesC problems. Just simply here I was not interested
> in looking for workaround. I do not think we should remove it.
> Current SVN code needs some cleanups for DMC builds but it seems to be
> rather easy job.
> Of course I understand that support for large set of C compilers in
> hbmk2 is problematic and you do not want to add all possible compilers.
> It's reasonable for me. We do not have to support in hbmk2 all exotic
> C compilers people may want to use.
> Anyhow I think that in the future we should think about defining support
> for new C compiler only in hbmk.cfg. Of course it may not be easy but such
> functionality can greatly help when Harbour is ported to new platform.
> F.e. I will add support for SunOS and native C compiler. It will be nice
> if I can also add support for this compiler without touching hbmk2.prg
> code but only adding some definitions to hbmk.cfg in postinst.sh.
> Probably in similar way to defining cross build environment.
> Please think about it. It's not urgent. IMHO it's even better to well
> test current hbmk2 in different environments to catch some missing
> functionality before we define some universal rules for all compilers.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/6400b46d/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 10:58:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 10:58:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<20090305154441.GA5809@uran.home.aster.pl>
	<18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>
Message-ID: <18d502870903050758ied9e37ai6faca9f90b29b76b@mail.gmail.com>

and more thing: What about Cygwin?
It seems it doesn't work currently (hbtest fails instantly).

Delete or fix?

Brgds,
Viktor

On Thu, Mar 5, 2009 at 4:56 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Thanks for your comments.
> It's not just hbmk2.
>
> The real problem is that each of these compilers need to be
> tested, documented, builds done, waiting for green lights,
> spending time of workarounds... with no real value. We have
> limited time, and there are much more important areas to
> spend it on. We have quite many compilers so adding a few
> buggy ones really doesn't enhance our code quality to a great
> deal, on the contrary it just makes it more complicated.
>
> Let's leave XCC, if you need it for testing.
>
> Specifically for DMC, I think it added no value since adding
> it last year, but I've alone spent a few days on it so far.
>
> I'm half way into deleting it, but I can start over if you need this
> compiler, just send me a short confirmation please.
>
> As for moving the logic inside hbmk2 to external templates,
> it would surely be nice, but I envision it as a huge amount of
> work, it needs to be designed well, flexible, yet comprehensible.
> We will see, first I'd like to wait until we finish and test internal
> support for the full line of our compilers. If this is done, it's much
> easier/safer to compose a picture about a fitting template system.
>
> Brgds,
> Viktor
>
> On Thu, Mar 5, 2009 at 4:44 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:
>
>> On Thu, 05 Mar 2009, vszakats@users.sourceforge.net wrote:
>>
>> Hi,
>>
>> >     ; NOTE: More candidates for such pruning are:
>> >             - dmc (buggy and compiler not updated)
>> >             - xcc (based on very old version of pocc)
>> >             Any opinions?
>>
>> XCC is native xHarbour.com compiler. I do not use it but from time
>> to time I have to make some tests with this compiler, f.e. to check
>> if sth is a compiler problem or bug in the code. I do not use xHarbour
>> so support for XCC is very usable for me.
>> DMC has a know bug in INT64 integers but it can be defined on the same
>> level as some PellesC problems. Just simply here I was not interested
>> in looking for workaround. I do not think we should remove it.
>> Current SVN code needs some cleanups for DMC builds but it seems to be
>> rather easy job.
>> Of course I understand that support for large set of C compilers in
>> hbmk2 is problematic and you do not want to add all possible compilers.
>> It's reasonable for me. We do not have to support in hbmk2 all exotic
>> C compilers people may want to use.
>> Anyhow I think that in the future we should think about defining support
>> for new C compiler only in hbmk.cfg. Of course it may not be easy but such
>> functionality can greatly help when Harbour is ported to new platform.
>> F.e. I will add support for SunOS and native C compiler. It will be nice
>> if I can also add support for this compiler without touching hbmk2.prg
>> code but only adding some definitions to hbmk.cfg in postinst.sh.
>> Probably in similar way to defining cross build environment.
>> Please think about it. It's not urgent. IMHO it's even better to well
>> test current hbmk2 in different environments to catch some missing
>> functionality before we define some universal rules for all compilers.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/ad8994d3/attachment.html
From druzus at acn.waw.pl  Thu Mar  5 11:25:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 11:19:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<20090305154441.GA5809@uran.home.aster.pl>
	<18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>
Message-ID: <20090305162513.GA31934@uran.home.aster.pl>

On Thu, 05 Mar 2009, Szak?ts Viktor wrote:

Hi,

> The real problem is that each of these compilers need to be
> tested, documented, builds done, waiting for green lights,
> spending time of workarounds... with no real value. We have
> limited time, and there are much more important areas to
> spend it on. We have quite many compilers so adding a few
> buggy ones really doesn't enhance our code quality to a great
> deal, on the contrary it just makes it more complicated.

This is true.

> Let's leave XCC, if you need it for testing.

Thanks,

> Specifically for DMC, I think it added no value since adding
> it last year, but I've alone spent a few days on it so far.
> I'm half way into deleting it, but I can start over if you need this
> compiler, just send me a short confirmation please.

I do not need it.

> As for moving the logic inside hbmk2 to external templates,
> it would surely be nice, but I envision it as a huge amount of
> work, it needs to be designed well, flexible, yet comprehensible.
> We will see, first I'd like to wait until we finish and test internal
> support for the full line of our compilers. If this is done, it's much
> easier/safer to compose a picture about a fitting template system.

I fully agree here. We have to see the whole picture 1-st.

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Mar  5 11:30:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 11:30:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10543] trunk/harbour
Message-ID: <E1LfGSb-00035P-Vb@dn4whf1.ch3.sourceforge.com>

Revision: 10543
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10543&view=rev
Author:   vszakats
Date:     2009-03-05 16:30:13 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 16:39 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/man/hbmk.1
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  - config/win/dmc.cf
  - config/os2/icc.cf
    - Removed win/dmc (Digital Marc C) C compiler from supported
      compiler list. The compiler was added last year, but
      it turned out to be too buggy for any kind of production
      work, and the compiler's development seem to have been
      stalled year ago.
      This is part of the pruning effort to leave here what's
      really needed and beneficiary for users. This will
      reduce the test matrix and give way to more important
      things.
    - Removed os2/icc. IBM Visual Age isn't available for OS/2
      since very long, and no one seems to use this compiler
      on this platform. Harbour support also wasn't tested
      since long.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/config/os2/icc.cf
    trunk/harbour/config/win/dmc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar  5 11:37:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 11:31:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <18d502870903050758ied9e37ai6faca9f90b29b76b@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<20090305154441.GA5809@uran.home.aster.pl>
	<18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>
	<18d502870903050758ied9e37ai6faca9f90b29b76b@mail.gmail.com>
Message-ID: <20090305163702.GB31934@uran.home.aster.pl>

On Thu, 05 Mar 2009, Szak?ts Viktor wrote:
> and more thing: What about Cygwin?
> It seems it doesn't work currently (hbtest fails instantly).
> Delete or fix?

Hard to say for me.
In the past I was using CygWin though to be honest CygWin
was always a problem itself and was never stable enough.
I do not know current status of CygWin project. In Harbour
probably it can be used as test layer for some Windows builds
which does not use windows API. F.e. there is CEGCC for WinCE
which gives some POSIX layer for pure console application.
I even created such build for tests. Most of code we keep
for CygWin is also necessary for CEGCC.
But the question what to do with CygWin port should be addressed
to Windows users not to me. Does anyone use here use CygWin and
maybe also tried to create CygWin builds.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  5 11:50:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 11:50:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <20090305163702.GB31934@uran.home.aster.pl>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<20090305154441.GA5809@uran.home.aster.pl>
	<18d502870903050756k1e09a238t151158e91a5e8185@mail.gmail.com>
	<18d502870903050758ied9e37ai6faca9f90b29b76b@mail.gmail.com>
	<20090305163702.GB31934@uran.home.aster.pl>
Message-ID: <18d502870903050850m5bd31b4al759514ffaf12c5f1@mail.gmail.com>

Guy tried it recently, and failed.
Here the problem is that even it compiles (which currently
it isn't due to some errors in thread code), there are more
problems which need to be fixed. Probably we don't even
know what (hbtest fails that's for sure).

Difficult to judge Cygwin's position, now it's part of Red Hat,
my personal opinion is that I've always felt the whole
concept very odd and every time I hear about a product that
can run under Cygwin only, that product is written off as
a no-option for me. Probably all the bad experiences and
failed attempts from the past plus the strange mixed world
of win+*nix which isn't a very clean concept.

There is also cygwin1.dll, which is a perfect showcase for
the .dll hell problem.

I use a few cmdline tools which still need Cygwin, but I only
do this if there is no better option available. In the case of
Harbour we compile cleanly and natively on Windows, so
there is no need for such hack.

The other aspect, is that by now the preferred, clean and
easy to go way of running *nix stuff on Windows, is simple
OS virtualization. It doesn't solve all the problems, that's for
sure, but at least it works, and now it can even be done
with purely free tools.

So, I think the future of Cygwin is either fading or uncertain.

What Red Hat is doing with it? Maybe helping the integration
of not-yet-natively-ported Linux apps/tools with Windows for
corporate customers? Hard to tell.

For Harbour it doesn't have much point, and we only have it
because when we started the project, MinGW didn't exist
yet (it started to exist as -mno-cygwin option inside Cygwin.)

So my vote to delete it.

Brgds,
Viktor

On Thu, Mar 5, 2009 at 5:37 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 05 Mar 2009, Szak?ts Viktor wrote:
> > and more thing: What about Cygwin?
> > It seems it doesn't work currently (hbtest fails instantly).
> > Delete or fix?
>
> Hard to say for me.
> In the past I was using CygWin though to be honest CygWin
> was always a problem itself and was never stable enough.
> I do not know current status of CygWin project. In Harbour
> probably it can be used as test layer for some Windows builds
> which does not use windows API. F.e. there is CEGCC for WinCE
> which gives some POSIX layer for pure console application.
> I even created such build for tests. Most of code we keep
> for CygWin is also necessary for CEGCC.
> But the question what to do with CygWin port should be addressed
> to Windows users not to me. Does anyone use here use CygWin and
> maybe also tried to create CygWin builds.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/70e01f8f/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 11:54:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 11:54:45 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <kndvq4dl8op60kdooptcgk6ip80qemct6l@4ax.com>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<kndvq4dl8op60kdooptcgk6ip80qemct6l@4ax.com>
Message-ID: <609353e70903050854i2469c480q6c59a8883976c5f2@mail.gmail.com>

Absolutely Agree
Each steep of migration will be also reversible if you use  #ifdef
Harbour to Xharbour is easy steep using xhb.lib that is  a library
made for port xharbour application to harbour
In harbour you can recompile your application using simply hbmk2 (same
tools works also in linux)
hbmk2 myprg1 myprg2 mysamplec.c xhb.lib mylib.lib

hbmk link harbour standard library and library required by your
compiler so will be easy moving to msvc

using hbmk all is Simply and clean as crystal, I still thanks to ViKtor

I



2009/3/5 Toninho@fwi <toninhofwi@yahoo.com.br>:
>> ?I am trying to migrate my own libs to Harbour+msvc, but in some cases, I have some C sources which show me some errors in compilation time.
>> Any of you have made some migration of libs created in xharbour+bcc+fwh to harbour+msvc+fwh and can show me way?
>
> Hi Kleyber,
>
> You are trying to do two jobs at the same time: move to Harbour and
> move to MSVC.
>
> IMHO you need first move to Harbour with BCC, so, when your app is
> running fine with Harbour+BCC, move to MSVC.
>
> It is my oppinion.
>
> Regards,
>
> Toninho.
>
>
>
> _______________________________________________________
> Yahoo! Mail - Sempre a melhor op??o para voc?!
> Experimente j? e veja as novidades.
> http://br.yahoo.com/mailbeta/tudonovo/
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Thu Mar  5 12:05:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 12:05:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10544] trunk/harbour
Message-ID: <E1LfH0N-000515-R0@c3vjzd1.ch3.sourceforge.com>

Revision: 10544
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10544&view=rev
Author:   druzus
Date:     2009-03-05 17:05:04 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 18:10 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbprintf.c
    * do not use modfl() in WinCE POCC builds. If MSVC also does not
      support if in WinCE builds then please change the condition to
      global HB_OS_WIN_CE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbprintf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Mar  5 12:06:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 12:06:41 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <22353245.post@talk.nabble.com>
References: <22353245.post@talk.nabble.com>
Message-ID: <609353e70903050906i20fa3fbfxf922bd014993c7a7@mail.gmail.com>

Good news
Pelles it light and It can made also Windows Ce Arm tools, it I not
know how much is fast in execution
I suggest you evaluate xdev if xmate is a dead way
http://sqllib.com.br/blog/index.php?blog=5
is made by our webmaster Renato Vailton and look very good and similar to Xmate

2009/3/5 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Everybody
>
> I really thanks Pelle for permitting to include it in the distro.
>
> Below is his reply to my request.
>
> <<<
> Hello,
>
>> I am looking forward to a positive response if you allow me to include
>> your works as a part of it. It will be a great boost for Harbour to
>> present to newbies in a comfortable environments.
>
> Sure - go ahead and include Pelles C - but please include a note somewhere
> that it is a separate package, and where it can be found
> (http://www.smorgasbordet.com/pellesc).
>
> Pelle
>>>>
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22353245.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Thu Mar  5 12:19:27 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 12:19:32 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's
	Ready-to-use Distro
In-Reply-To: <609353e70903050906i20fa3fbfxf922bd014993c7a7@mail.gmail.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903050906i20fa3fbfxf922bd014993c7a7@mail.gmail.com>
Message-ID: <22356186.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> I suggest you evaluate xdev if xmate is a dead way
> http://sqllib.com.br/blog/index.php?blog=5
> is made by our webmaster Renato Vailton and look very good and similar to
> Xmate
> 

I can not understand the language. It seems there is no page in English.

Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22356186.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Mar  5 12:23:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 12:23:51 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <49AFB432.3060003@dbtopas.lt>
References: <20090304122733.GA15521@uran.home.aster.pl>
	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>
	<20090304133412.GA18030@uran.home.aster.pl>
	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>
	<20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
	<49AFB432.3060003@dbtopas.lt>
Message-ID: <609353e70903050923pc4ba1c2n932a4f3f91a89801@mail.gmail.com>

I have used is past hbmake and Now u  use  hbmk is power full and easy
I'm working on my application compiled with different os and c compiler
In hbmake each project file was for a specified compiler,Platform
You change compiler you must rewrite all project  file
With hbmk is simple to use
you simply pass as parameter your prg,c,rc,lib and you have your exe
First you must load different library if you use a compiler and if you
use multithread, now all

Also linux version of harbour is very simple to use for a newbies like me.
Harbour itself is more consistent to the user

I think that all update in hbmk are made to follow a rafinated and
evolute request of Przemek for implement a complete replaceable with
prev hbmk.sh. I think that is very good having easy to use tool , now
the evolution transform also in Ultra Powerfull for evoluted user



2009/3/5 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi, Viktor,
>
>
>> It would be nice to hear some comments on my fixes, I'm not sure what
>> silence means :) But after like 30-40 fixes with no positive (or any)
>> feedback it's really difficult to know where we stand.
>
> I'm not the makefile guru, I've never used hbmake or another harbour scripts
> tools to compile my harbour application. I use my own .mak files. So, it's
> difficult for me to write any comment on the job you are doing. I see a lot
> of hbmk related commits. I understand it is still in active development
> phase. Since I do not know makefiles very well, I want to wait a little and
> test a "final" version.
>
>
> Thanks, for your job,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



--
From mbelgrano at deltain.it  Thu Mar  5 12:32:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 12:32:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10540] trunk/harbour
In-Reply-To: <18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>
References: <E1LfDtR-0004v6-GB@d5vjzd1.ch3.sourceforge.com>
	<9257026e0903050645o457c2980x3f99ab6234024338@mail.gmail.com>
	<18d502870903050708m4fbc05c1gfcdf2351da772f8f@mail.gmail.com>
Message-ID: <609353e70903050932y6d6da127v2d604fb910459bba@mail.gmail.com>

Yes Delete
Obsolete

2009/3/5 Viktor Szak?ts <harbour.01@syenar.hu>:
> owatcom seems also okay, and pocc is nice?for some free
> x64/ARM platform testing, otherwise I agree.
> Let me extend the question.
> Does anyone have any objection to remove this list
> from our supported compiler list:
> - win/dmc (buggy and compiler not updated)
> - win/xcc (based on very old version of pocc, propriatery)
> - win/icc (IBM VisualAge, not available for Windows anymore, and it was
> never tested with Harbour)
> IOW, can I delete these?
> Brgds,
> Viktor
> On Thu, Mar 5, 2009 at 3:45 PM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com>
From mbelgrano at deltain.it  Thu Mar  5 12:34:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 12:34:25 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <22356186.post@talk.nabble.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903050906i20fa3fbfxf922bd014993c7a7@mail.gmail.com>
	<22356186.post@talk.nabble.com>
Message-ID: <609353e70903050934w2355aae2g6a8092eba00b28c9@mail.gmail.com>

Afaik the english version in in preparation
I have tried this product and is very good


2009/3/5 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Massimo Belgrano-3 wrote:
>>
>> I suggest you evaluate xdev if xmate is a dead way
>> http://sqllib.com.br/blog/index.php?blog=5
>> is made by our webmaster Renato Vailton and look very good and similar to
>> Xmate
>>
>
> I can not understand the language. It seems there is no page in English.
>
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22356186.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From jlcapel2 at gmail.com  Thu Mar  5 13:20:52 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Thu Mar  5 13:20:57 2009
Subject: [Harbour] Round function
Message-ID: <ab2a7b4c0903051020ma60b6d0y42114e874539463d@mail.gmail.com>

Hi,
Round function seems that works like this:

Round(0.14,1) // 0.1
Round(0.15,1) // 0.2
Round(0.16,1) // 0.2

Is there any way to configure (if possible) to work like this:

Round(0.14,1) // -> 0.1
Round(0.15,1) // -> 0.1
Round(0.16,1) // -> 0.2

That is, from 1 to 5 no change, from 6 to 0 plus 1.

Is it possible ?

Do I have to write my own round function ??


Thanks and regards,
Jos? Luis Capel
PS: it is needed for an special case.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/ade78328/attachment.html
From druzus at users.sourceforge.net  Thu Mar  5 13:38:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 13:38:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10545] trunk/harbour
Message-ID: <E1LfISo-0001wi-8M@3kljzd1.ch3.sourceforge.com>

Revision: 10545
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10545&view=rev
Author:   druzus
Date:     2009-03-05 18:38:33 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 19:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/include/hbwince.h
  * harbour/source/common/hbgete.c
  * harbour/source/common/hbwince.c
    + added BOOL hb_setenv( const char * szName, const char * szValue )
      It sets or deletes (szValue==NULL) environment variable.
      Please add support for other compilers/OS-es or define
      unsupported platforms to eliminate TODO warning.
      For sure OS2 version have to be updated.

  * harbour/source/rtl/gete.c
    + added .prg function:
         HB_SETENV( <cEnvName>, [<cNewVal>] [, <lOsCP>] ) -> <lOK>
      which sets or deletes (when <cNewVal> is NIL) process environment
      variable <cEnvName>. <lOsCP> controls character translation to
      OS encoding. By default is enabled.
      TOFIX: <cEnvName> OS character encoding is missing in [HB_]_GETENV()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/source/common/hbgete.c
    trunk/harbour/source/common/hbwince.c
    trunk/harbour/source/rtl/gete.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar  5 13:59:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 13:59:21 2009
Subject: [Harbour] GTWVG and wincallb.c + WAPI
Message-ID: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>

Hi Pritpal,
What is the situation with wincallb.c in GTWVG,
I've seen you've added clean callback support to GTWVG, so
the question is whether we can now remove the old one
in wincallb.c? The old one still seem to be used from some
places so I couldn't do it.

[ The old one is non-portable, x86 CPU specific ASM/binary
code. Generating lots of valid warnings, too. ]

There are also a few functions declared in GTWVG
in the WAPI_* namespace, I think they should be
renamed to some local names.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/00b21c05/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 14:06:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 14:06:49 2009
Subject: [Harbour] Round function
In-Reply-To: <ab2a7b4c0903051020ma60b6d0y42114e874539463d@mail.gmail.com>
References: <ab2a7b4c0903051020ma60b6d0y42114e874539463d@mail.gmail.com>
Message-ID: <609353e70903051106r763f91c6x10df7e55de4e7e91@mail.gmail.com>

Substract .1 can be a solution?
ROUND(X-0.1,1)
.15 = 0.1You can also using int(x*10)/10 e cint(x*10)/10

2009/3/5 Jos? Luis Capel <jlcapel2@gmail.com>

> Hi,
> Round function seems that works like this:
>
> Round(0.14,1) // 0.1
> Round(0.15,1) // 0.2
> Round(0.16,1) // 0.2
>
> Is there any way to configure (if possible) to work like this:
>
> Round(0.14,1) // -> 0.1
> Round(0.15,1) // -> 0.1
> Round(0.16,1) // -> 0.2
>
> That is, from 1 to 5 no change, from 6 to 0 plus 1.
>
>  Is it possible ?
>
> Do I have to write my own round function ??
>
>
> Thanks and regards,
> Jos? Luis Capel
> PS: it is needed for an special case.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/8fa1aa4a/attachment-0001.html
From bedipritpal at hotmail.com  Thu Mar  5 14:13:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 14:13:48 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <20090305114633.GA32132@uran.home.aster.pl>
References: <22344045.post@talk.nabble.com>
	<20090305114633.GA32132@uran.home.aster.pl>
Message-ID: <22358456.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> I've just verified with PellesC 4.50.15 and it generates wrong code
> for above function. I'll change the order of instruction in this function
> as some type of workaround for it but it should be reported to POCC
> author.
> It's serious bug.
> 

Can you show what should I report to Pelle?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/hb_gt_ItemBase%28%29-and-PellesC-tp22344045p22358456.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar  5 14:17:30 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 14:17:34 2009
Subject: [Harbour] GTWVG and wincallb.c + WAPI
In-Reply-To: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>
References: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>
Message-ID: <22358543.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> What is the situation with wincallb.c in GTWVG,
> I've seen you've added clean callback support to GTWVG, so
> the question is whether we can now remove the old one
> in wincallb.c? The old one still seem to be used from some
> places so I couldn't do it.
> 
> [ The old one is non-portable, x86 CPU specific ASM/binary
> code. Generating lots of valid warnings, too. ]
> 
> There are also a few functions declared in GTWVG
> in the WAPI_* namespace, I think they should be
> renamed to some local names.
> 

I will be cleaning parts probably today.

Which functions in WAPI_* namespace you are referring to ?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GTWVG-and-wincallb.c-%2B-WAPI-tp22358281p22358543.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Thu Mar  5 14:12:24 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar  5 14:19:25 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090305012452.GA13580@uran.home.aster.pl>
References: <18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>	<20090304232516.GA11402@uran.home.aster.pl>
	<20090305012452.GA13580@uran.home.aster.pl>
Message-ID: <49B02418.9070305@fsgiudice.com>

Hi Przemek,

Il 05/03/2009 2.24, Przemyslaw Czerpak ha scritto:

> and memory "leaks" will gone ;-)
> 

I will do, as per other suggestions in your previous email.
I also already seen you upload for hb_SetEnv(), and PRIVATE changes.

> BTW:
>       hb_DispOutAt( 10, 40, "memory: " + hb_ntos( memory( HB_MEM_USED ) ) )
> 
done

> Please also check the access to some variables, f.e. s_aRunningThreads
> seems to be unprotected at all and is resized by different threads.

done

> BTW why do you need it and do not use pThread only? f.e.:
> 
done
I'm testing, I will upload in few minutes.

Thank you

Best regards
Francesco

From info at fsgiudice.com  Thu Mar  5 14:19:23 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar  5 14:19:30 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090304232516.GA11402@uran.home.aster.pl>
References: <20090304122733.GA15521@uran.home.aster.pl>	<18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>
	<20090304232516.GA11402@uran.home.aster.pl>
Message-ID: <49B025BB.5040806@fsgiudice.com>



Il 05/03/2009 0.25, Przemyslaw Czerpak ha scritto:
> I can try to look at uhttpd but it will have to be updated to work
> in Linux. At least in some special test mode. Can you update it?
> I tried to compile it with INET support and the following functions
> are missed:
>    WIN_SYSREFRESH(), WIN_TIMEZONEBIAS(), WIN_SETENV(), FILEDATE()
> The last one is from hbct and can be easy replaced by:
>    HB_FGETDATETIME( <cFile>, [ @<dDate> ] [, @<cTime> ] ) -> <lOK>
> Please use it if possible instead FILEDATE(). It will reduce dependencies
> list.
> I'll add hb_setenv() function which can be used to replace WIN_SETENV().
> I can also add hb_utcoffset() which will return difference to UTC+0000
> in minutes which you can used instead of WIN_TIMEZONEBIAS().
> How to replace WIN_SYSREFRESH() is your decision.
> But maybe it will be good to add some compile time switch like USE_HB_INET
> to disable all above WIN_*() functions. In such version we can test this
> code using current core Harbour libs only without any additional C stuff.
> If you can update it so it can be executed as simple console application
> in Linux then I'll try to locate what's the reason of problems.

I'm doing, about WIN_SYSREFRESH() I have added because I have noticed 
that Windows use more CPU time with threads and not updates well other 
windows. Maybe this will be useful to add in internal core to release 
resources to OS.
I will do some tests again.
In meanwhile I will add a compiler switch to exclude it from non windows 
builds.
About WIN_TIMEZONEBIAS() there is already a function in hbtip, but IMO 
it's wrong. But I will check it again.
I will try to build in Linux to see if I can make uhttpd portable.

Best regards

Francesco
From harbour.01 at syenar.hu  Thu Mar  5 14:23:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 14:23:11 2009
Subject: [Harbour] GTWVG and wincallb.c + WAPI
In-Reply-To: <22358543.post@talk.nabble.com>
References: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>
	<22358543.post@talk.nabble.com>
Message-ID: <18d502870903051123s2d867831m34a438ca5f3b916@mail.gmail.com>

>
> > There are also a few functions declared in GTWVG
> > in the WAPI_* namespace, I think they should be
> > renamed to some local names.
> >
>
> I will be cleaning parts probably today.


Thank you.


> Which functions in WAPI_* namespace you are referring to ?


These three:

WAPI_STRUCT_OSVERSIONINFO
WAPI_GETVERSIONEX
WAPI_MEMBER_OSVERSIONINFO

I see they are work in progress, but until they get their
final shape I think they should be named differently.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/e71c4a06/attachment.html
From kleyber at tkinformidia.net  Thu Mar  5 14:29:20 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Mar  5 14:29:37 2009
Subject: [Harbour] Compiling C sources
References: <57EE0EEA59724C8DA835248454D57C47@particular>
Message-ID: <A24BEB15303543A6A0C2E75E5FF1BDE4@particular>

Toninho and Massimo,

    I could go for this way you have pointed me, but don't you think it is a very long way to migrate everything? Can you imagine if I have to regenerate all own libs with Harbour+BCC+FWH and after all to migrate again to Harbour+MSVC+FWH and besides to discover all the problems involving Harbour+BCC and after Harbour+MSVC? Sincerely, I don't want spend time to do these 2 steps. My main problem now is how to convert some C sources that run ok with BCC but with MSVC don't. Logically I don't know C, so I ask for your help. But if I'm wrong, please tell me.

Regards,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/d6159bd0/attachment.html
From bedipritpal at hotmail.com  Thu Mar  5 14:32:29 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 14:32:33 2009
Subject: [Harbour] GTWVG and wincallb.c + WAPI
In-Reply-To: <18d502870903051123s2d867831m34a438ca5f3b916@mail.gmail.com>
References: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>
	<22358543.post@talk.nabble.com>
	<18d502870903051123s2d867831m34a438ca5f3b916@mail.gmail.com>
Message-ID: <22358845.post@talk.nabble.com>


Ok., I got it


Viktor Szak?ts wrote:
> 
>> Which functions in WAPI_* namespace you are referring to ?
> 
> 
> These three:
> 
> WAPI_STRUCT_OSVERSIONINFO
> WAPI_GETVERSIONEX
> WAPI_MEMBER_OSVERSIONINFO
> 
> I see they are work in progress, but until they get their
> final shape I think they should be named differently.
> 
> 

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GTWVG-and-wincallb.c-%2B-WAPI-tp22358281p22358845.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar  5 14:36:57 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 14:37:02 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <A24BEB15303543A6A0C2E75E5FF1BDE4@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<A24BEB15303543A6A0C2E75E5FF1BDE4@particular>
Message-ID: <22358927.post@talk.nabble.com>


Kleber


Kleyber Derick wrote:
> 
>     I could go for this way you have pointed me, but don't you think it is
> a very long way to migrate everything? Can you imagine if I have to
> regenerate all own libs with Harbour+BCC+FWH and after all to migrate
> again to Harbour+MSVC+FWH and besides to discover all the problems
> involving Harbour+BCC and after Harbour+MSVC? Sincerely, I don't want
> spend time to do these 2 steps. My main problem now is how to convert some
> C sources that run ok with BCC but with MSVC don't. Logically I don't know
> C, so I ask for your help. But if I'm wrong, please tell me.
> 

Technically there must never be a problem unless ...

Try Harbour Distro I have uploaded recently. It has all the slots
ready to be used. Just rearrange your projects and sources and
you will be able to compile your projects on either platform 
side by side. Rather on multiple compilers simultaneously.

How do you feel it is a problem?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Compiling-C-sources-tp22338265p22358927.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Thu Mar  5 15:02:10 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar  5 15:02:18 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <49B02418.9070305@fsgiudice.com>
References: <18d502870903040441l473099d1scbf61cf5de8e8a61@mail.gmail.com>	<20090304133412.GA18030@uran.home.aster.pl>	<18d502870903040552o409b6c90wfe08f1bd160b2524@mail.gmail.com>	<20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>	<20090304232516.GA11402@uran.home.aster.pl>	<20090305012452.GA13580@uran.home.aster.pl>
	<49B02418.9070305@fsgiudice.com>
Message-ID: <49B02FC2.6090500@fsgiudice.com>

Hi Przemek,

Il 05/03/2009 20.12, Francesco Saverio Giudice ha scritto:
>> and memory "leaks" will gone ;-)
>>
> 
The problem is still there :-(
This happens with uhttpd in current SVN version *without* hb_GCAll() calls.
Only if I add hb_GCAll() it will works without growing continuously, but:
- I got (one time at the moment) that application random freeze
- Memory used (when new threads is added/released) it is not released

I'm doing other tests, also with (unpublished) version that uses only 
STATIC / THREAD STATIC vars. But yesterday tests show that memory grows 
as in default version.

Now I will try to make it working in Linux so you can will test by yourself.

Best regards

Francesco
From vszakats at users.sourceforge.net  Thu Mar  5 15:12:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 15:12:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10546] trunk/harbour
Message-ID: <E1LfJw0-0000j2-82@dn4whf1.ch3.sourceforge.com>

Revision: 10546
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10546&view=rev
Author:   vszakats
Date:     2009-03-05 20:12:47 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 21:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbextern.ch
    + Added HB_SETENV()

  * utils/hbmk2/hbmk2.prg
    * Minor cleanups.

  * contrib/examples/uhttpd/uhttpd.hbm
    - Removed -n. It's now automatic.
    ; TODO: Remove the rest.

  * INSTALL
  * doc/man/hbmk.1
  + config/win/icc.cf
  * utils/hbmk2/hbmk2.prg
    + Added Intel(R) C++ compiler support for Windows.
    + Added initial support also in hbmk2.
    ; This compile is actively developed and its famous of
      generating the fastest running code of all C compilers.
      It also outputs an extremely detailed warning list.
      And the best thing: It compiled Harbour without a single
      hitch. hbtest is also running fine. hbmk2 is able to
      create executables.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/examples/uhttpd/uhttpd.hbm
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/include/hbextern.ch
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/icc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar  5 15:15:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 15:15:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10545] trunk/harbour
In-Reply-To: <E1LfISo-0001wi-8M@3kljzd1.ch3.sourceforge.com>
References: <E1LfISo-0001wi-8M@3kljzd1.ch3.sourceforge.com>
Message-ID: <22359667.post@talk.nabble.com>


Hi


druzus wrote:
> 
> 2009-03-05 19:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/include/hbapi.h
>   * harbour/include/hbwince.h
>   * harbour/source/common/hbgete.c
>   * harbour/source/common/hbwince.c
>     + added BOOL hb_setenv( const char * szName, const char * szValue )
>       It sets or deletes (szValue==NULL) environment variable.
>       Please add support for other compilers/OS-es or define
>       unsupported platforms to eliminate TODO warning.
>       For sure OS2 version have to be updated.
> 
> 

Now I get this error:

make.exe[3]: Entering directory `C:/harbour/source/pp/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbpp.c -Fohbpp.obj
polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce
coredll.lib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
POLINK: warning: Multiple '.rdata' sections found with different flags
(0x40000040 and 0xc0000040).
./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
-v../../../../include/hbverbld.h
process_begin: CreateProcess(C:\harbour\source\pp\win\poccce\hbpp.exe,
./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
-v../../../../include/hbverbld.h, ...) failed.
make (e=193): Error 193


Plus : 
BOOL WINAPI SetEnvironmentVariableA( LPCSTR name, LPCSTR value )
{
   HB_SYMBOL_UNUSED( name );
   HB_SYMBOL_UNUSED( value );

   /* TODO: */
   return 0;                   // without this I get warning
}

PellesCCE 5.0.1

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10545--trunk-harbour-tp22357784p22359667.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kleyber at tkinformidia.net  Thu Mar  5 15:16:24 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Mar  5 15:16:37 2009
Subject: [Harbour] Compiling C sources
References: <57EE0EEA59724C8DA835248454D57C47@particular>
Message-ID: <2DCEB6384BBE4B26A93036F8076C72ED@particular>

Hi Pritpal,

    Well, sorry for answer my own message... I can send you messages but I do not see it instantly... I have to access the website to see the new messages... Even using OE ou Thunderbird, but anyway... here we go..

>Technically there must never be a problem unless ...

>Try Harbour Distro I have uploaded recently. It has all the slots
>ready to be used. Just rearrange your projects and sources and
>you will be able to compile your projects on either platform 
>side by side. Rather on multiple compilers simultaneously.

Thanks, I'll try to do it.


>How do you feel it is a problem?

Well I can show a problem I have here at the moment. In a C source I have this function:

HB_FUNC( BOXEX )
{

   HDC hDC     = (HDC) hb_parnl( 1 );
   RECT rc;
   HBRUSH hOldBrush;
   HPEN hPen = NULL;
   HPEN hOldPen;

   rc.top    = hb_parni( 2, 1);
   rc.left   = hb_parni( 2, 2);
   rc.bottom = hb_parni( 2, 3);
   rc.right  = hb_parni( 2, 4);

   if( hb_pcount() > 2 )
   {
        hPen = CreatePen( PS_SOLID, 1, hb_parnl( 3 ) );
        hOldPen = SelectObject( hDC, (HPEN) hPen );              // Here in this line, occurs a C2440 error 
   }


   hOldBrush =  SelectObject( hDC, (HBRUSH) GetStockObject( NULL_BRUSH ) );   // Here in this line, occurs a C2440 error too

   Rectangle( hDC, rc.left, rc.top, rc.right, rc.bottom );

   SelectObject( hDC, (HBRUSH) hOldBrush );

   if( hPen != NULL )
   {
       SelectObject( hDC, (HPEN) hOldPen );
       DeleteObject( hPen );
   }


    hb_ret();
}


So, this source can be compiled with BCC without problems, but with MSVC I have the C2440 error. Considering that I don't know the differences between BCC and MSVC, that is my problem.

Regards,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/dce4e9ae/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 15:18:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 15:18:13 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <A24BEB15303543A6A0C2E75E5FF1BDE4@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<A24BEB15303543A6A0C2E75E5FF1BDE4@particular>
Message-ID: <609353e70903051218t5bd9be40tb7a6dbf3ad74c386@mail.gmail.com>

IMo is the most logical way.You not double effort. You made half
effort first end half after
Naturally i don't not kwow your c source,May be that are msvc
compatible, or may be that are difficult to convert
Please try and repost more specific problem if exist

2009/3/5 Kleyber Derick <kleyber@tkinformidia.net>:
> Toninho and Massimo,
>
> ??? I could go for this way you have pointed me, but don't you think it is a
> very long way to migrate everything? Can you imagine if I have to regenerate
> all own libs with Harbour+BCC+FWH and after all to migrate again to
> Harbour+MSVC+FWH?and besides?to discover all the problems involving
> Harbour+BCC and after Harbour+MSVC? Sincerely, I don't want spend time to do
> these 2 steps. My main problem now is how to convert some C sources that run
> ok with BCC but with MSVC don't. Logically I don't know C, so I ask for your
> help. But if I'm wrong, please tell me.
>
> Regards,
>
> Kleyber Derick
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Thu Mar  5 15:19:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 15:19:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10545] trunk/harbour
In-Reply-To: <22359667.post@talk.nabble.com>
References: <E1LfISo-0001wi-8M@3kljzd1.ch3.sourceforge.com>
	<22359667.post@talk.nabble.com>
Message-ID: <18d502870903051219x3ce7cca2w30c80b142a7ccb72@mail.gmail.com>

Sorry to all, but I've missed two important settings from cross-build
samples. I'll post an updated version
soon.

Brgds,
Viktor

On Thu, Mar 5, 2009 at 9:15 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> druzus wrote:
> >
> > 2009-03-05 19:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >   * harbour/include/hbapi.h
> >   * harbour/include/hbwince.h
> >   * harbour/source/common/hbgete.c
> >   * harbour/source/common/hbwince.c
> >     + added BOOL hb_setenv( const char * szName, const char * szValue )
> >       It sets or deletes (szValue==NULL) environment variable.
> >       Please add support for other compilers/OS-es or define
> >       unsupported platforms to eliminate TODO warning.
> >       For sure OS2 version have to be updated.
> >
> >
>
> Now I get this error:
>
> make.exe[3]: Entering directory `C:/harbour/source/pp/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbpp.c -Fohbpp.obj
> polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce
> coredll.lib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
> POLINK: warning: Multiple '.rdata' sections found with different flags
> (0x40000040 and 0xc0000040).
> ./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
> -v../../../../include/hbverbld.h
> process_begin: CreateProcess(C:\harbour\source\pp\win\poccce\hbpp.exe,
> ./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
> -v../../../../include/hbverbld.h, ...) failed.
> make (e=193): Error 193
>
>
> Plus :
> BOOL WINAPI SetEnvironmentVariableA( LPCSTR name, LPCSTR value )
> {
>   HB_SYMBOL_UNUSED( name );
>   HB_SYMBOL_UNUSED( value );
>
>   /* TODO: */
>    return 0;                   // without this I get warning
> }
>
> PellesCCE 5.0.1
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10545--trunk-harbour-tp22357784p22359667.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/93b693a6/attachment.html
From druzus at acn.waw.pl  Thu Mar  5 15:25:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 15:20:08 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <22358456.post@talk.nabble.com>
References: <22344045.post@talk.nabble.com>
	<20090305114633.GA32132@uran.home.aster.pl>
	<22358456.post@talk.nabble.com>
Message-ID: <20090305202553.GA17784@uran.home.aster.pl>

On Thu, 05 Mar 2009, Pritpal Bedi wrote:

Hi,

> > I've just verified with PellesC 4.50.15 and it generates wrong code
> > for above function. I'll change the order of instruction in this function
> > as some type of workaround for it but it should be reported to POCC
> > author.
> > It's serious bug.
> Can you show what should I report to Pelle?

below is self contained example:

best regards,
Przemek


/* compiled and linked by PellesC 4.50.15:
 *    pocc.exe -Ox test.c && polink.exe t.obj
 */

void * somefunc( void ) { return 0; }

void * func_ok( void )
{
   void ** gtHolder = ( void ** ) somefunc();

   if( gtHolder )
      return *gtHolder;
   else
      return 0;
}

void * func_gpf( void )
{
   void ** gtHolder = ( void ** ) somefunc();
   void * pGT = 0;

   if( gtHolder )
      pGT = *gtHolder;
   return pGT;
}

int main( void )
{
   func_ok();
   func_gpf();

   return 0;
}
From harbour.01 at syenar.hu  Thu Mar  5 15:22:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 15:22:24 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <2DCEB6384BBE4B26A93036F8076C72ED@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<2DCEB6384BBE4B26A93036F8076C72ED@particular>
Message-ID: <18d502870903051222w52d78aaei533b1b12b89133e5@mail.gmail.com>

Hi Kleyber,
And what is error C2440?

Usually BCC is a very forgiving compiler, MSVC is a bit stricter,
but most of these are usually just cast problems.

[ Massimo, your signature is back :(( ]

Brgds,
Viktor

On Thu, Mar 5, 2009 at 9:16 PM, Kleyber Derick <kleyber@tkinformidia.net>wrote:

>  Hi Pritpal,
>
>     Well, sorry for answer my own message... I can send you messages but I
> do not see it instantly... I have to access the website to see the new
> messages... Even using OE ou Thunderbird, but anyway... here we go..
>
> >Technically there must never be a problem unless ...
>
> >Try Harbour Distro I have uploaded recently. It has all the slots
> >ready to be used. Just rearrange your projects and sources and
> >you will be able to compile your projects on either platform
> >side by side. Rather on multiple compilers simultaneously.
> Thanks, I'll try to do it.
>
>
> >How do you feel it is a problem?
> Well I can show a problem I have here at the moment. In a C source I have
> this function:
>
> HB_FUNC( BOXEX )
> {
>
>    HDC hDC     = (HDC) hb_parnl( 1 );
>    RECT rc;
>    HBRUSH hOldBrush;
>    HPEN hPen = NULL;
>    HPEN hOldPen;
>
>    rc.top    = hb_parni( 2, 1);
>    rc.left   = hb_parni( 2, 2);
>    rc.bottom = hb_parni( 2, 3);
>    rc.right  = hb_parni( 2, 4);
>
>    if( hb_pcount() > 2 )
>    {
>         hPen = CreatePen( PS_SOLID, 1, hb_parnl( 3 ) );
>         hOldPen = SelectObject( hDC, (HPEN) hPen );              // Here in
> this line, occurs a C2440 error
>    }
>
>
>    hOldBrush =  SelectObject( hDC, (HBRUSH) GetStockObject( NULL_BRUSH )
> );   // Here in this line, occurs a C2440 error too
>
>    Rectangle( hDC, rc.left, rc.top, rc.right, rc.bottom );
>
>    SelectObject( hDC, (HBRUSH) hOldBrush );
>
>    if( hPen != NULL )
>    {
>        SelectObject( hDC, (HPEN) hOldPen );
>        DeleteObject( hPen );
>    }
>
>
>     hb_ret();
> }
>
>
> So, this source can be compiled with BCC without problems, but with MSVC I
> have the C2440 error. Considering that I don't know the differences between
> BCC and MSVC, that is my problem.
>
> Regards,
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/d854e03d/attachment-0001.html
From vszakats at users.sourceforge.net  Thu Mar  5 15:25:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar  5 15:25:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10547] trunk/harbour
Message-ID: <E1LfK8X-0000wg-W7@dn4whf1.ch3.sourceforge.com>

Revision: 10547
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10547&view=rev
Author:   vszakats
Date:     2009-03-05 20:25:42 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 21:24 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbbtree/tests/test.hbm
  * contrib/examples/guestbk/guestbk.hbm
  * contrib/examples/pe/pe.hbm
  * contrib/examples/dbu/dbu.hbm
  * contrib/examples/terminal/terminal.hbp
  * contrib/examples/hscript/hscript.hbm
  * contrib/examples/uhttpd/modules/allmod.hbm
  * contrib/examples/rl/rl.hbm
  * utils/hbdoc/hbdoc.hbm
  * utils/hbmk2/hbmk2.hbm
  * utils/hbtest/hbtest.hbm
  * utils/hbrun/hbrun.hbm
    - Removed -n switches no longer necessary.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/dbu/dbu.hbm
    trunk/harbour/contrib/examples/guestbk/guestbk.hbm
    trunk/harbour/contrib/examples/hscript/hscript.hbm
    trunk/harbour/contrib/examples/pe/pe.hbm
    trunk/harbour/contrib/examples/rl/rl.hbm
    trunk/harbour/contrib/examples/terminal/terminal.hbp
    trunk/harbour/contrib/examples/uhttpd/modules/allmod.hbm
    trunk/harbour/contrib/hbbtree/tests/test.hbm
    trunk/harbour/utils/hbdoc/hbdoc.hbm
    trunk/harbour/utils/hbmk2/hbmk2.hbm
    trunk/harbour/utils/hbrun/hbrun.hbm
    trunk/harbour/utils/hbtest/hbtest.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kleyber at tkinformidia.net  Thu Mar  5 15:30:13 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Mar  5 15:30:24 2009
Subject: [Harbour] Compiling C sources
References: <57EE0EEA59724C8DA835248454D57C47@particular>
Message-ID: <54238DC5046D4C1DB305974E6F8EE648@particular>

Hi Viktor,

Here is the description from MSDN:

Error Message 
'conversion' : cannot convert from 'type1' to 'type2'


The compiler cannot cast from 'type1' to 'type2'.

And the exact error here is:

error C2440: '=' cannot convert from 'HGDIOBJ' to 'HPEN' 

error C2440: '=' cannot convert from 'HGDIOBJ' to 'HBRUSH' 

Thanks for your help.

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/e81eacfd/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 15:33:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 15:33:36 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <54238DC5046D4C1DB305974E6F8EE648@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<54238DC5046D4C1DB305974E6F8EE648@particular>
Message-ID: <18d502870903051233x7bad8728udef0e0cfce4673d7@mail.gmail.com>

You'll need to add a few explicit casts, like this:
hOldPen = SelectObject( hDC, (HPEN) hPen );
=>
hOldPen = ( HPEN ) SelectObject( hDC, (HPEN) hPen );

Brgds,
Viktor

On Thu, Mar 5, 2009 at 9:30 PM, Kleyber Derick <kleyber@tkinformidia.net>wrote:

>  Hi Viktor,
>
> Here is the description from MSDN:
>
>  Error Message 'conversion' : cannot convert from 'type1' to 'type2'
>
> The compiler cannot cast from '*type1*' to '*type2*'.
>
> And the exact error here is:
>
> error C2440: '=' cannot convert from 'HGDIOBJ' to 'HPEN'
>
> error C2440: '=' cannot convert from 'HGDIOBJ' to 'HBRUSH'
>
> Thanks for your help.
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/2643841a/attachment.html
From bedipritpal at hotmail.com  Thu Mar  5 15:36:06 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 15:36:09 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <2DCEB6384BBE4B26A93036F8076C72ED@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<2DCEB6384BBE4B26A93036F8076C72ED@particular>
Message-ID: <22360095.post@talk.nabble.com>


Hello

I put your function in wapi_commcgtrl.c and compiled it with 
MSVC 2008 and got only this warning:

c:\harbour\contrib\hbwin\wapi_commctrl.c(820) : warning C4701: potentially
uninitialized local variable 'hOldPen' used

Rest it got compiled properly.

Are you saying that you receive run/time error ?
And what is C2440 error ?

So to refine your code:

HB_FUNC( BOXEX )
{

   HDC hDC     = (HDC) hb_parnl( 1 );
   RECT rc;
   HBRUSH hOldBrush = NULL;
   HPEN hPen = NULL;
   HPEN hOldPen = NULL;

   rc.top    = hb_parni( 2, 1);
   rc.left   = hb_parni( 2, 2);
   rc.bottom = hb_parni( 2, 3);
   rc.right  = hb_parni( 2, 4);

   if( hb_pcount() > 2 )
   {
        hPen = CreatePen( PS_SOLID, 1, hb_parnl( 3 ) );
        hOldPen = SelectObject( hDC, (HPEN) hPen );              // Here in
this line, occurs a C2440 error 
   }


   hOldBrush =  SelectObject( hDC, (HBRUSH) GetStockObject( NULL_BRUSH ) ); 

   Rectangle( hDC, rc.left, rc.top, rc.right, rc.bottom );

   SelectObject( hDC, (HBRUSH) hOldBrush );

   if( hPen != NULL )
   {
       SelectObject( hDC, (HPEN) hOldPen );
       DeleteObject( hPen );
   }


    hb_ret();
}

Try above and please report back the results. You are using uniitialized
variables 
which are not acceptable to MSVC.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Compiling-C-sources-tp22338265p22360095.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Mar  5 15:46:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 15:40:35 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <49B02FC2.6090500@fsgiudice.com>
References: <20090304145004.GB1485@uran.home.aster.pl>
	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>
	<20090304172654.GA27854@uran.home.aster.pl>
	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>
	<20090304190651.GA21892@uran.home.aster.pl>
	<49AEE85E.3030007@fsgiudice.com>
	<20090304232516.GA11402@uran.home.aster.pl>
	<20090305012452.GA13580@uran.home.aster.pl>
	<49B02418.9070305@fsgiudice.com> <49B02FC2.6090500@fsgiudice.com>
Message-ID: <20090305204619.GA16224@uran.home.aster.pl>

On Thu, 05 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

> The problem is still there :-(

Not this one.

> This happens with uhttpd in current SVN version *without* hb_GCAll() calls.

You are using complex items with cyclic references. Only GC can free them
so it's always necessary to execute it. If you are using such structures
then GC call is a must for you.

> Only if I add hb_GCAll() it will works without growing continuously, but:
> - I got (one time at the moment) that application random freeze

The socket.c module does not unlock HVM before waiting on socket function
and can cause such effects. Try with hb_inet*() functions.
Probably you should also update your win main loop to call
hb_vmUnlock() / hb_vmLock() before and after the sleep.

> - Memory used (when new threads is added/released) it is not released

Which memory?
Harbour does not use any thread local memory at all.
You store in this code a lot of different items which are never cleared
but only overwritten by subsequent call. It's not a problem but as long
as all of them will not be assigned then memory usage will growing up
to some limit. Then they will be overwritten so nothing wrong will happen.
It's not a bug. Just simply result of your code.

> I'm doing other tests, also with (unpublished) version that uses only 
> STATIC / THREAD STATIC vars. But yesterday tests show that memory grows as 
> in default version.

I would be extremely surprised if it will not.
As I said moving to static you are increasing number of items you
assign and never clear. And now you are asking why the memory usage
is bigger. Yes it is. It has to be bigger.
But it's not a problem as long as it's not result of some infinite
growing.

> Now I will try to make it working in Linux so you can will test by yourself.

I ported it last night. Except some problems with MT safe code and
the PRIVATE usage inside the loop I do not see any problems with
memory usage. The memory usage was as it should be though I only
make some simple tests.
Anyhow if you can update this code so it can be compiled for *nixes
then it will be very nice.

One note you should remember. Each .hrb module loaded 1-st time
allocates symbol table which is never freed but only marked as
free when module is unloaded. It' later reused when .hrb module
is loaded next times. Maybe you are watching at memory usage caused
by this.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar  5 15:41:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 15:41:23 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <54238DC5046D4C1DB305974E6F8EE648@particular>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<54238DC5046D4C1DB305974E6F8EE648@particular>
Message-ID: <18d502870903051241n4b2bc0c0q45a0757a8bfabe8c@mail.gmail.com>

I didn't check, but can it happen that you're trying to compile in C++ mode?
C++ is much more strict than plain C, and may
generate an error which would otherwise be a warning.

The default is C for .c files, and C++ for .cpp files,
but it can be overridden by these switches:

-TP -> C++
-TC -> C

Brgds,
Viktor

On Thu, Mar 5, 2009 at 9:30 PM, Kleyber Derick <kleyber@tkinformidia.net>wrote:

>  Hi Viktor,
>
> Here is the description from MSDN:
>
>  Error Message 'conversion' : cannot convert from 'type1' to 'type2'
>
> The compiler cannot cast from '*type1*' to '*type2*'.
>
> And the exact error here is:
>
> error C2440: '=' cannot convert from 'HGDIOBJ' to 'HPEN'
>
> error C2440: '=' cannot convert from 'HGDIOBJ' to 'HBRUSH'
>
> Thanks for your help.
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/c36dd628/attachment.html
From druzus at users.sourceforge.net  Thu Mar  5 15:47:10 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 15:47:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10548] trunk/harbour
Message-ID: <E1LfKTG-0001Lq-OL@dn4whf1.ch3.sourceforge.com>

Revision: 10548
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10548&view=rev
Author:   druzus
Date:     2009-03-05 20:47:10 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-05 21:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbwince.c
    ! added missing return statement

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbwince.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar  5 15:53:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar  5 15:47:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10545] trunk/harbour
In-Reply-To: <22359667.post@talk.nabble.com>
References: <E1LfISo-0001wi-8M@3kljzd1.ch3.sourceforge.com>
	<22359667.post@talk.nabble.com>
Message-ID: <20090305205303.GB16224@uran.home.aster.pl>

On Thu, 05 Mar 2009, Pritpal Bedi wrote:

Hi,


> Now I get this error:
> make.exe[3]: Entering directory `C:/harbour/source/pp/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbpp.c -Fohbpp.obj
> polink.exe  -OUT:hbpp.exe hbpp.obj -LIBPATH:../../../../lib/win/poccce
> coredll.lib corelibc.lib winsock.lib ws2.lib    hbcommon.lib
> POLINK: warning: Multiple '.rdata' sections found with different flags
> (0x40000040 and 0xc0000040).
> ./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
> -v../../../../include/hbverbld.h
> process_begin: CreateProcess(C:\harbour\source\pp\win\poccce\hbpp.exe,
> ./hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
> -v../../../../include/hbverbld.h, ...) failed.
> make (e=193): Error 193

You cannot compile WinCE build in such way. Just simply generated
hbpp.exe is for WinCE not for WinX86. You have to set environemnt
variables which will point to your platform native harbour.exe
and hbpp.exe

> Plus : 
> BOOL WINAPI SetEnvironmentVariableA( LPCSTR name, LPCSTR value )
> {
>    HB_SYMBOL_UNUSED( name );
>    HB_SYMBOL_UNUSED( value );
> 
>    /* TODO: */
>    return 0;                   // without this I get warning
> }

Thanks for this.
I'll commit fix ASAP.

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Mar  5 15:47:30 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 15:47:33 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <20090305202553.GA17784@uran.home.aster.pl>
References: <22344045.post@talk.nabble.com>
	<20090305114633.GA32132@uran.home.aster.pl>
	<22358456.post@talk.nabble.com>
	<20090305202553.GA17784@uran.home.aster.pl>
Message-ID: <22360289.post@talk.nabble.com>


Thanks Przemek

I am snding it to Pelles


Przemyslaw Czerpak-2 wrote:
> 
> /* compiled and linked by PellesC 4.50.15:
>  *    pocc.exe -Ox test.c && polink.exe t.obj
>  */
> 
> void * somefunc( void ) { return 0; }
> 
> void * func_ok( void )
> {
>    void ** gtHolder = ( void ** ) somefunc();
> 
>    if( gtHolder )
>       return *gtHolder;
>    else
>       return 0;
> }
> 
> void * func_gpf( void )
> {
>    void ** gtHolder = ( void ** ) somefunc();
>    void * pGT = 0;
> 
>    if( gtHolder )
>       pGT = *gtHolder;
>    return pGT;
> }
> 
> int main( void )
> {
>    func_ok();
>    func_gpf();
> 
>    return 0;
> }
> 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/hb_gt_ItemBase%28%29-and-PellesC-tp22344045p22360289.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kleyber at tkinformidia.net  Thu Mar  5 15:49:50 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Mar  5 15:50:07 2009
Subject: [Harbour] Compiling C sources
References: <57EE0EEA59724C8DA835248454D57C47@particular>
Message-ID: <EE6199B9A17C4980A84CC026CCEDBD4A@particular>

Hi Viktor,

// -------------
I didn't check, but can it happen that you're trying to compile in C++ mode?
C++ is much more strict than plain C, and may
generate an error which would otherwise be a warning.

The default is C for .c files, and C++ for .cpp files,
but it can be overridden by these switches:

-TP -> C++
-TC -> C

Brgds,
Viktor
//--------------


Fantastic!!! That was the point. It was compiling with -TP instead of  -TC. Thanks a lot to you and to Pritpal.

Best Regards,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/faee1ba8/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 16:10:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 16:10:32 2009
Subject: [Harbour] Sample make scripts #2
Message-ID: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>

Hi all,

Fixed/Added: HB_INC_OPENSSL dir, cross compilation settings, icc.

To clear some misconceptions, here are a couple of sample make scripts
for Windows. Notice that it's impossible to list all combinations, so I hope
these are good to give an idea, and everyone can modify them to the local
needs. See INSTALL for reference, and if something still isn't clear, please
ask on the list. If you find any typos with these scripts, please also
report it, and I'll send updated versions.

NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your system.
         Don't use space in dirs.
NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
         depending on what you want to do.
NOTE #3: msvc/bcc implib creation is tentative, so I haven't included it
yet.
NOTE #4: Cross compile setup (HB_BIN_COMPILE, HB_PPGEN_PATH) may change in
         the future.

--8<--
rem ; To create installation packages (.exe + .zip),
rem   replace last lines (calling make_gnu.*) with these two:
set PATH=C:\devl\NSIS-2.44;%PATH%
call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
-->8--

--- MSVC 2008 + SDK
set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2008
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2008 x64 (requires native x86 Harbour binaries)
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86_amd64
rem
set HB_COMPILER=msvc64
set HB_BIN_COMPILE=C:\hb-msvc\bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2005
call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC .NET 2003 (untested)
call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
rem
set HB_COMPILER=msvc
set HB_VISUALC_VER_PRE80=yes
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Intel(R) C++
call "%ProgramFiles%\Intel\Compiler\C++\10.1.014\IA32\Bin\iclvars.bat"
rem
set HB_COMPILER=icc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Open Watcom C++
SET WATCOM=C:\devl\owatcom-1.8
SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
SET EDPATH=%WATCOM%\EDDAT
SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
rem
set HB_COMPILER=owatcom
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Borland/CodeGear C++
set PATH=C:\devl\bcc55\bin;%PATH%
rem
set HB_COMPILER=bcc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C
set PATH=C:\devl\PellesC-501\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
rem
set HB_COMPILER=pocc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C x64
set PATH=C:\devl\PellesC-501-64\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
rem
set HB_COMPILER=pocc64
set HB_BIN_COMPILE=C:\hb-pocc\bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C CE/ARM
set PATH=C:\devl\PellesC-501\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
rem
set HB_COMPILER=poccce
set HB_BIN_COMPILE=C:\hb-pocc\bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MinGW GCC
set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
rem
set HB_COMPILER=mingw
rem
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Cygwin GCC
set PATH=C:\devl\cygwin\bin;%PATH%
set
C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
set
LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
rem
set HB_COMPILER=cygwin
rem
set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--8<--
rem ; Add these _before_ above sample scripts to configure 3rd party
dependencies.
rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
rem   also cygwin drive notation for 'cygwin'.
set HB_INC_ADS=C:\devl\ads\acesdk
set HB_INC_ALLEGRO=C:\devl\allegro\include
set HB_INC_APOLLO=C:\devl\Apollo\include
set HB_INC_BLAT=C:\devl\blat\full\source
set HB_INC_CURL=C:\devl\curl\include
set HB_INC_FIREBIRD=C:\devl\Firebird\include
set HB_INC_FREEIMAGE=C:\devl\FreeImage\Dist
set HB_INC_GD=C:\devl\gd\include
set HB_INC_LIBHARU=C:\devl\libharu\include
set HB_INC_MYSQL=C:\devl\mysql\include
set HB_INC_OPENSSL=C:\devl\openssl\inc32
set HB_INC_PGSQL=C:\devl\pgsql\include
-->8--

Brgds.
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/42a441bf/attachment.html
From info at fsgiudice.com  Thu Mar  5 16:45:13 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar  5 16:45:23 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090305204619.GA16224@uran.home.aster.pl>
References: <20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>	<20090304232516.GA11402@uran.home.aster.pl>	<20090305012452.GA13580@uran.home.aster.pl>	<49B02418.9070305@fsgiudice.com>
	<49B02FC2.6090500@fsgiudice.com>
	<20090305204619.GA16224@uran.home.aster.pl>
Message-ID: <49B047E9.6030206@fsgiudice.com>

Hi Przemek,

Il 05/03/2009 21.46, Przemyslaw Czerpak ha scritto:
> 
>> The problem is still there :-(
> 
> Not this one.
> 
Surely not PRIVATE, I was meaning the "memory consumption problem".

>> This happens with uhttpd in current SVN version *without* hb_GCAll() calls.
> 
> You are using complex items with cyclic references. Only GC can free them
> so it's always necessary to execute it. If you are using such structures
> then GC call is a must for you.

Ok, I will consider this.

> 
>> Only if I add hb_GCAll() it will works without growing continuously, but:
>> - I got (one time at the moment) that application random freeze
> 
> The socket.c module does not unlock HVM before waiting on socket function
> and can cause such effects. Try with hb_inet*() functions.

Already tested with both and with same results (OS memory consumption).

> Probably you should also update your win main loop to call
> hb_vmUnlock() / hb_vmLock() before and after the sleep.
> 
Ok

>> - Memory used (when new threads is added/released) it is not released
> 
> Which memory?

Working memory as reported from Task Manager, not internal harbour memory.

> Harbour does not use any thread local memory at all.
> You store in this code a lot of different items which are never cleared
> but only overwritten by subsequent call. It's not a problem but as long
> as all of them will not be assigned then memory usage will growing up
> to some limit. Then they will be overwritten so nothing wrong will happen.
> It's not a bug. Just simply result of your code.
> 

Ok, I will try to make it better, and suggestions will always well accepted.

>> I'm doing other tests, also with (unpublished) version that uses only 
>> STATIC / THREAD STATIC vars. But yesterday tests show that memory grows as 
>> in default version.
> 
> I would be extremely surprised if it will not.
> As I said moving to static you are increasing number of items you
> assign and never clear. And now you are asking why the memory usage
> is bigger. Yes it is. It has to be bigger.
> But it's not a problem as long as it's not result of some infinite
> growing.
> 
I know that you are right, this is my knowledge limit.
I will test for curiosity where is the memory limit.

>> Now I will try to make it working in Linux so you can will test by yourself.
> 
> I ported it last night. Except some problems with MT safe code and
> the PRIVATE usage inside the loop I do not see any problems with
> memory usage. The memory usage was as it should be though I only
> make some simple tests.
> Anyhow if you can update this code so it can be compiled for *nixes
> then it will be very nice.
> 
Ok

> One note you should remember. Each .hrb module loaded 1-st time
> allocates symbol table which is never freed but only marked as
> free when module is unloaded. It' later reused when .hrb module
> is loaded next times. Maybe you are watching at memory usage caused
> by this.
> 
Actually I have used only two tests:
1st is a single html file that does a simple page refresh every 1 
second, so no HRB module is loaded, called many times using more tabs 
from browsers (Chrome, Opera, IE, FF).
2nd is /testxmldb.html that has inside a sleep that permits to add 
threads with repeated calls and this uses HRB, but it is always the same.

Thank you for your time.

Best regards,
Francesco

From qiinfo at ig.com.br  Thu Mar  5 17:09:29 2009
From: qiinfo at ig.com.br (Rossine)
Date: Thu Mar  5 17:09:33 2009
Subject: [Harbour] How to fix this ?
Message-ID: <22361860.post@talk.nabble.com>


Hello, 

When compiling this program: 

[CODE]
#pragma BEGINDUMP

#include "windows.h"
#include "hbapi.h"
/*
typedef struct tagLASTINPUTINFO {
    UINT cbSize;
    DWORD dwTime;
} LASTINPUTINFO, *PLASTINPUTINFO;
*/

WINUSERAPI BOOL WINAPI GetLastInputInfo(PLASTINPUTINFO);
typedef  BOOL (WINAPI * GETLASTINPUTINFO_)(PLASTINPUTINFO);

HB_FUNC( SYSIDLESECS ) 
{
   HINSTANCE handle= LoadLibrary("user32.dll");
   if ( handle)
   {
      GETLASTINPUTINFO_ pFunc;
      pFunc = GetProcAddress( handle,"GetLastInputInfo" );
      if (pFunc)
      {
         LASTINPUTINFO lpi;
    
         lpi.cbSize = sizeof(LASTINPUTINFO);

         if (!pFunc(&lpi))
         {
            hb_retni(0);
         }
         else
         {
            hb_retnd( ( DOUBLE ) ( GetTickCount() - lpi.dwTime ) * 0.001 ); 
         }
      }
   else
      {
         hb_retni(0);
      }
   }

   if (handle)
      {
         FreeLibrary( handle);
      }
}
#pragma ENDDUMP

**----------------------------------------------------------------------
[ENDCODE]

I generated this error:

teste.c
teste.prg(20) : error C2440: '=' : cannot convert from 'FARPROC' to
'GETLASTINPUTINFO_'
        This conversion requires a reinterpret_cast, a C-style cast or
function-style cast

How to fix this ?

PS: I use harbour + msvc 2008

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/How-to-fix-this---tp22361860p22361860.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar  5 17:19:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 17:19:39 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <22361860.post@talk.nabble.com>
References: <22361860.post@talk.nabble.com>
Message-ID: <22362048.post@talk.nabble.com>


Hi

HB_FUNC( SYSIDLESECS ) 
{
   HINSTANCE handle= LoadLibrary("user32.dll");
   if ( handle)
   {
      GETLASTINPUTINFO_ pFunc;
      pFunc = GetProcAddress( handle,"GetLastInputInfo" );
...


      GETLASTINPUTINFO  pFunc;


Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/How-to-fix-this---tp22361860p22362048.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar  5 17:23:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 17:23:15 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <22361860.post@talk.nabble.com>
References: <22361860.post@talk.nabble.com>
Message-ID: <18d502870903051423lfd6d4fbh59c983bf47f65451@mail.gmail.com>

Hi Rossine,
Change this:
pFunc = GetProcAddress( handle,"GetLastInputInfo" );
to this:
pFunc = ( GETLASTINPUTINFO_ ) GetProcAddress( handle,"GetLastInputInfo" );

or turn off C++ mode (remove -TP C compiler switch) if this is plain C code.

[ Why is -TP active for everyone today? :) ]

Brgds,
Viktor

On Thu, Mar 5, 2009 at 11:09 PM, Rossine <qiinfo@ig.com.br> wrote:

>
> Hello,
>
> When compiling this program:
>
> [CODE]
> #pragma BEGINDUMP
>
> #include "windows.h"
> #include "hbapi.h"
> /*
> typedef struct tagLASTINPUTINFO {
>    UINT cbSize;
>    DWORD dwTime;
> } LASTINPUTINFO, *PLASTINPUTINFO;
> */
>
> WINUSERAPI BOOL WINAPI GetLastInputInfo(PLASTINPUTINFO);
> typedef  BOOL (WINAPI * GETLASTINPUTINFO_)(PLASTINPUTINFO);
>
> HB_FUNC( SYSIDLESECS )
> {
>   HINSTANCE handle= LoadLibrary("user32.dll");
>   if ( handle)
>   {
>      GETLASTINPUTINFO_ pFunc;
>      pFunc = GetProcAddress( handle,"GetLastInputInfo" );
>      if (pFunc)
>      {
>         LASTINPUTINFO lpi;
>
>         lpi.cbSize = sizeof(LASTINPUTINFO);
>
>         if (!pFunc(&lpi))
>         {
>            hb_retni(0);
>         }
>         else
>         {
>            hb_retnd( ( DOUBLE ) ( GetTickCount() - lpi.dwTime ) * 0.001 );
>         }
>      }
>   else
>      {
>         hb_retni(0);
>      }
>   }
>
>   if (handle)
>      {
>         FreeLibrary( handle);
>      }
> }
> #pragma ENDDUMP
>
> **----------------------------------------------------------------------
> [ENDCODE]
>
> I generated this error:
>
> teste.c
> teste.prg(20) : error C2440: '=' : cannot convert from 'FARPROC' to
> 'GETLASTINPUTINFO_'
>        This conversion requires a reinterpret_cast, a C-style cast or
> function-style cast
>
> How to fix this ?
>
> PS: I use harbour + msvc 2008
>
> Regards,
>
> Rossine.
>
> --
> View this message in context:
> http://www.nabble.com/How-to-fix-this---tp22361860p22361860.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/9dc67935/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 17:29:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 17:29:22 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <22362048.post@talk.nabble.com>
References: <22361860.post@talk.nabble.com> <22362048.post@talk.nabble.com>
Message-ID: <18d502870903051429u1c3971cbo2c6c9c9ac46c6563@mail.gmail.com>

Hi Pritpal,
I'd suggest removing -TP option from your preconfigured xMate setup:
---
C_COMP_COMMAND=%C_BIN_INSTALL%\cl.exe /nologo -TP -W3 -c /GA
---

It's not necessary, and just makes life complicated for those who
aren't interested in strict warnings. It's best to remove it, and use
the default.

[ BTW, your .exe package cannot be installed on any new
dirs (like the default) in the root of my C: drive as non-admin.
Says it has no permission, while it has. Probably an installer bug. ]

Brgds,
Viktor

On Thu, Mar 5, 2009 at 11:19 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
> HB_FUNC( SYSIDLESECS )
> {
>   HINSTANCE handle= LoadLibrary("user32.dll");
>   if ( handle)
>   {
>      GETLASTINPUTINFO_ pFunc;
>      pFunc = GetProcAddress( handle,"GetLastInputInfo" );
> ...
>
>
>      GETLASTINPUTINFO  pFunc;
>
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context:
> http://www.nabble.com/How-to-fix-this---tp22361860p22362048.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/ea2428b9/attachment.html
From bedipritpal at hotmail.com  Thu Mar  5 17:37:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 17:38:02 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <18d502870903051429u1c3971cbo2c6c9c9ac46c6563@mail.gmail.com>
References: <22361860.post@talk.nabble.com> <22362048.post@talk.nabble.com>
	<18d502870903051429u1c3971cbo2c6c9c9ac46c6563@mail.gmail.com>
Message-ID: <22362315.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> I'd suggest removing -TP option from your preconfigured xMate setup:
> ---
> C_COMP_COMMAND=%C_BIN_INSTALL%\cl.exe /nologo -TP -W3 -c /GA
> ---
> 
> It's not necessary, and just makes life complicated for those who
> aren't interested in strict warnings. It's best to remove it, and use
> the default.
> 

Done.


Viktor Szak?ts wrote:
> 
> [ BTW, your .exe package cannot be installed on any new
> dirs (like the default) in the root of my C: drive as non-admin.
> Says it has no permission, while it has. Probably an installer bug. ]
> 

I did use JammerInstall first time as it gave me more 
packaging options. Usually I use inno. May be I missed 
something.

But for keeping things simple, I hardcoded the c:\harbour_dev 
as the default path. May be it has something to do with this problem.
I will investigate further. More suggesstions, other installer, etc 
is welcome.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/How-to-fix-this---tp22361860p22362315.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar  5 17:42:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 17:42:12 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <22362315.post@talk.nabble.com>
References: <22361860.post@talk.nabble.com> <22362048.post@talk.nabble.com>
	<18d502870903051429u1c3971cbo2c6c9c9ac46c6563@mail.gmail.com>
	<22362315.post@talk.nabble.com>
Message-ID: <18d502870903051442i261decaata02e711e360f4bc6@mail.gmail.com>

>
> > It's not necessary, and just makes life complicated for those who
> > aren't interested in strict warnings. It's best to remove it, and use
> > the default.
> >
>
> Done.


Thanks.


> I did use JammerInstall first time as it gave me more
> packaging options. Usually I use inno. May be I missed
> something.
>
> But for keeping things simple, I hardcoded the c:\harbour_dev
> as the default path. May be it has something to do with this problem.


It lets me overriding it, but still gives the same error.


> I will investigate further. More suggesstions, other installer, etc
> is welcome.


NSIS or Inno.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/4eedd989/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 17:50:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 17:50:38 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <609353e70903050934w2355aae2g6a8092eba00b28c9@mail.gmail.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903050906i20fa3fbfxf922bd014993c7a7@mail.gmail.com>
	<22356186.post@talk.nabble.com>
	<609353e70903050934w2355aae2g6a8092eba00b28c9@mail.gmail.com>
Message-ID: <609353e70903051450l5a808d20oc663d69d2d95b4f@mail.gmail.com>

Vailton Renato Have tell me:
I'm working on a version in English will soon be released.


2009/3/5 Massimo Belgrano <mbelgrano@deltain.it>:
> Afaik the english version in in preparation
> I have tried this product and is very good
>
>
> 2009/3/5 Pritpal Bedi <bedipritpal@hotmail.com>:
>>
>> Hi
>>
>>
>> Massimo Belgrano-3 wrote:
>>>
>>> I suggest you evaluate xdev if xmate is a dead way
>>> http://sqllib.com.br/blog/index.php?blog=5
>>> is made by our webmaster Renato Vailton and look very good and similar to
>>> Xmate
>>>
>>
>> I can not understand the language. It seems there is no page in English.
>>
>> Pritpal Bedi
>>
>> --
>> View this message in context: http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22356186.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Thu Mar  5 18:04:19 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 18:04:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10549] trunk/harbour
Message-ID: <E1LfMbz-0005EJ-5u@dn4whf1.ch3.sourceforge.com>

Revision: 10549
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10549&view=rev
Author:   druzus
Date:     2009-03-05 23:04:08 +0000 (Thu, 05 Mar 2009)

Log Message:
-----------
2009-03-06 00:09 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbsqlit3/sqlite3/sqlite3.c
    * pacified one optimization warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/sqlite3/sqlite3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Mar  5 18:13:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 18:13:55 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <18d502870903051222w52d78aaei533b1b12b89133e5@mail.gmail.com>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<2DCEB6384BBE4B26A93036F8076C72ED@particular>
	<18d502870903051222w52d78aaei533b1b12b89133e5@mail.gmail.com>
Message-ID: <609353e70903051513g39fd6195nda07ccc4a015b948@mail.gmail.com>

Sorry not wantNow i have changed my signature
More small
so will be more accepted?


2009/3/5 Viktor Szak?ts <harbour.01@syenar.hu>

>
>
> [ Massimo, your signature is back :(( ]
>
> Brgds,
> Viktor
>
>
>
-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/75e74a68/attachment-0001.html
From mbelgrano at deltain.it  Thu Mar  5 18:21:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 18:21:07 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <22353245.post@talk.nabble.com>
References: <22353245.post@talk.nabble.com>
Message-ID: <609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>

I propose upload "Harbour's Ready-to-use Distro" on sourceforge so we can
count download
a direct link can be used
http://sourceforge.net/project/downloading.php?group_id=681&use_mirror=ovh&filename=harbour-1.0.1-win32-bcc551.zip&a=6084401

2009/3/5 Pritpal Bedi <bedipritpal@hotmail.com>
>
> Hello Everybody
>
> I really thanks Pelle for permitting to include it in the distro.
>
> Below is his reply to my request.
>
> <<<
> Hello,
>
> > I am looking forward to a positive response if you allow me to include
> > your works as a part of it. It will be a great boost for Harbour to
> > present to newbies in a comfortable environments.
>
> Sure - go ahead and include Pelles C - but please include a note somewhere
> that it is a separate package, and where it can be found
> (http://www.smorgasbordet.com/pellesc).
>
> Pelle
> >>>
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22353245.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



--
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/8bf33220/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 18:22:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 18:22:18 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <609353e70903051513g39fd6195nda07ccc4a015b948@mail.gmail.com>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<2DCEB6384BBE4B26A93036F8076C72ED@particular>
	<18d502870903051222w52d78aaei533b1b12b89133e5@mail.gmail.com>
	<609353e70903051513g39fd6195nda07ccc4a015b948@mail.gmail.com>
Message-ID: <18d502870903051522re94532bs7d8f279f73ca96eb@mail.gmail.com>

It's getting better, but IMO still too long.
Your page link contains everything, why an advert line here?

Brgds,
Viktor

On Fri, Mar 6, 2009 at 12:13 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Sorry not wantNow i have changed my signature
> More small
> so will be more accepted?
>
>
> 2009/3/5 Viktor Szak?ts <harbour.01@syenar.hu>
>
>>
>>
>> [ Massimo, your signature is back :(( ]
>>
>> Brgds,
>> Viktor
>>
>>
>>
> --
> Massimo Belgrano
> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
> Formazione
> Delta Informatica S.r.l. http://www.deltain.it/
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/3aa05c09/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 18:23:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 18:23:25 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
Message-ID: <18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>

sf.net should host official releases only.
Brgds,
Viktor

On Fri, Mar 6, 2009 at 12:21 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I propose upload "Harbour's Ready-to-use Distro" on sourceforge so we can
> count download
> a direct link can be used
> http://sourceforge.net/project/downloading.php?group_id=681&use_mirror=ovh&filename=harbour-1.0.1-win32-bcc551.zip&a=6084401
>
> 2009/3/5 Pritpal Bedi <bedipritpal@hotmail.com>
> >
> > Hello Everybody
> >
> > I really thanks Pelle for permitting to include it in the distro.
> >
> > Below is his reply to my request.
> >
> > <<<
> > Hello,
> >
> > > I am looking forward to a positive response if you allow me to include
> > > your works as a part of it. It will be a great boost for Harbour to
> > > present to newbies in a comfortable environments.
> >
> > Sure - go ahead and include Pelles C - but please include a note
> somewhere
> > that it is a separate package, and where it can be found
> > (http://www.smorgasbordet.com/pellesc).
> >
> > Pelle
> > >>>
> >
> > Regards
> > Pritpal Bedi
> > --
> > View this message in context:
> http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22353245.html
> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> --
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/4014af7d/attachment.html
From bedipritpal at hotmail.com  Thu Mar  5 18:28:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 18:28:28 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <18d502870903051442i261decaata02e711e360f4bc6@mail.gmail.com>
References: <22361860.post@talk.nabble.com> <22362048.post@talk.nabble.com>
	<18d502870903051429u1c3971cbo2c6c9c9ac46c6563@mail.gmail.com>
	<22362315.post@talk.nabble.com>
	<18d502870903051442i261decaata02e711e360f4bc6@mail.gmail.com>
Message-ID: <22363161.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> NSIS or Inno.
> 

I have looked into NSIS and its addons.
What I could figure out, rather quickly, is that it
is primarily script oriented. I want something to
drag and drop as far as files are concerned.

Digging deep more.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/How-to-fix-this---tp22361860p22363161.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Mar  5 18:31:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 18:31:33 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
	<18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>
Message-ID: <609353e70903051531t466d252fu48152e909562248f@mail.gmail.com>

Yes but for example we can release
1.1.0rc1<http://sourceforge.net/project/showfiles.php?group_id=681&package_id=192309&release_id=608445>
for
sync with "Harbour ready to use win edition"?
But it is only a proposal for having a counting of effective download of
harbour distribution where possibleWhat do you think ?

2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>

> sf.net should host official releases only.
> Brgds,
> Viktor
>
>
> On Fri, Mar 6, 2009 at 12:21 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> I propose upload "Harbour's Ready-to-use Distro" on sourceforge so we can
>> count download
>> a direct link can be used
>> http://sourceforge.net/project/downloading.php?group_id=681&use_mirror=ovh&filename=harbour-1.0.1-win32-bcc551.zip&a=6084401
>>
>> 2009/3/5 Pritpal Bedi <bedipritpal@hotmail.com>
>> >
>> > Hello Everybody
>> >
>> > I really thanks Pelle for permitting to include it in the distro.
>> >
>> > Below is his reply to my request.
>> >
>> > <<<
>> > Hello,
>> >
>> > > I am looking forward to a positive response if you allow me to include
>> > > your works as a part of it. It will be a great boost for Harbour to
>> > > present to newbies in a comfortable environments.
>> >
>> > Sure - go ahead and include Pelles C - but please include a note
>> somewhere
>> > that it is a separate package, and where it can be found
>> > (http://www.smorgasbordet.com/pellesc).
>> >
>> > Pelle
>> > >>>
>> >
>> > Regards
>> > Pritpal Bedi
>> > --
>> > View this message in context:
>> http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22353245.html
>> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/ff1624e4/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 18:35:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 18:35:31 2009
Subject: [Harbour] Compiling C sources
In-Reply-To: <18d502870903051522re94532bs7d8f279f73ca96eb@mail.gmail.com>
References: <57EE0EEA59724C8DA835248454D57C47@particular>
	<2DCEB6384BBE4B26A93036F8076C72ED@particular>
	<18d502870903051222w52d78aaei533b1b12b89133e5@mail.gmail.com>
	<609353e70903051513g39fd6195nda07ccc4a015b948@mail.gmail.com>
	<18d502870903051522re94532bs7d8f279f73ca96eb@mail.gmail.com>
Message-ID: <609353e70903051535i28570142p6ca5b8800953347d@mail.gmail.com>

I don't want post here so i delete every times that i remember
If some body suggest an automatic way (exclude when used same email address)
for gmail apps for domain i thanks first

2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>

> It's getting better, but IMO still too long.
> Your page link contains everything, why an advert line here?
>
> Brgds,
> Viktor
>
> On Fri, Mar 6, 2009 at 12:13 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> Sorry not wantNow i have changed my signature
>> More small
>> so will be more accepted?
>>
>>
>> 2009/3/5 Viktor Szak?ts <harbour.01@syenar.hu>
>>
>>>
>>>
>>> [ Massimo, your signature is back :(( ]
>>>
>>> Brgds,
>>> Viktor
>>>
>>>
>>>
>> --
>> Massimo Belgrano
>> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
>> Formazione
>> Delta Informatica S.r.l. http://www.deltain.it/
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/e22f8849/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar  5 18:45:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 18:45:34 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <609353e70903051531t466d252fu48152e909562248f@mail.gmail.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
	<18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>
	<609353e70903051531t466d252fu48152e909562248f@mail.gmail.com>
Message-ID: <18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com>

On Fri, Mar 6, 2009 at 12:31 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Yes but for example we can release 1.1.0rc1<http://sourceforge.net/project/showfiles.php?group_id=681&package_id=192309&release_id=608445> for
> sync with "Harbour ready to use win edition"?
> But it is only a proposal for having a counting of effective download of
> harbour distribution where possibleWhat do you think ?
>

We should do a proper release.

Probably everyone agrees one that, but that's completely
independent of any unofficial release cycles. The point of
unofficial releases is that they are independent.

As for download counting, I'm sure Pritpal would share those
numbers with the public if he has them.

BTW I had 60 downloads for my sample msvc installer :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/f5c8fec0/attachment.html
From kleyber at tkinformidia.net  Thu Mar  5 19:00:05 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Mar  5 19:00:20 2009
Subject: [Harbour] Errors in C compilation
Message-ID: <B851C3E4874B4F6EA9A4BA06F73539D0@particular>

Hi,

I have this C routine declared in my prg:

#ifndef __XHARBOUR__
 #ifdef __HARBOUR__
    #pragma BEGINDUMP
       static void hb_retnl( LONG l )
       {
          hb_itemPutNL( &hb_stack.Return, l );         // Here generates the errors
       }
    #pragma ENDDUMP
 #EndIf
#EndIf

But it gives a compilation error:

errsysw.prg(730) : error C2065: 'hb_stack' : identifier not declared
errsysw.prg(730) : error C2224: left operator of '.Return' must be struct/union

How can I solve this?

Thanks in advance,


Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/047952e6/attachment.html
From bedipritpal at hotmail.com  Thu Mar  5 19:16:56 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 19:17:01 2009
Subject: [Harbour] GTWVG and wincallb.c + WAPI
In-Reply-To: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>
References: <18d502870903051059i2d98619dt7a78fa65923d196f@mail.gmail.com>
Message-ID: <22363784.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> What is the situation with wincallb.c in GTWVG,
> I've seen you've added clean callback support to GTWVG, so
> the question is whether we can now remove the old one
> in wincallb.c? The old one still seem to be used from some
> places so I couldn't do it.
> 

Digging deep I find that wincallb.c cannot be removed.
The problem is that few other classes need this functionality
until I find a way how to bind a class object and its method
as a WINAPI callbck window procedure. Those objects are
windows own dialog boxes and I need to hook a wndproc 
onto them.

I know how to do so with a function name.

Any clues?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GTWVG-and-wincallb.c-%2B-WAPI-tp22358281p22363784.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Mar  5 19:17:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 19:17:45 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
Message-ID: <609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>

I have tried pelles c but receive error  with parameter clean install from
c:\harbour  but receive follow error


mingw32-make.exe[3]: Entering directory `c:/harbour/source/pp/win/poccce'
C:\hb-pocc\bin/hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
-v../
./../../include/hbverbld.h
process_begin: CreateProcess(NULL, C:\hb-pocc\bin/hbpp.exe
../../../../include/
bstdgen.ch -opptable.c -q -c -v../../../../include/hbverbld.h, ...) failed.
make (e=3): Impossibile trovare il percorso specificato.
mingw32-make.exe[3]: *** [pptable.c] Error 3
mingw32-make.exe[3]: Leaving directory `c:/harbour/source/pp/win/poccce'
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[2]: Leaving directory `c:/harbour/source/pp'
mingw32-make.exe[1]: *** [pp] Error 2
mingw32-make.exe[1]: Leaving directory `c:/harbour/source'
mingw32-make.exe: *** [source] Error 2




2009/3/5 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi all,
>
> Fixed/Added: HB_INC_OPENSSL dir, cross compilation settings, icc.
>
> To clear some misconceptions, here are a couple of sample make scripts
> for Windows. Notice that it's impossible to list all combinations, so I
> hope
> these are good to give an idea, and everyone can modify them to the local
> needs. See INSTALL for reference, and if something still isn't clear,
> please
> ask on the list. If you find any typos with these scripts, please also
> report it, and I'll send updated versions.
>
> NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your system.
>          Don't use space in dirs.
> NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
>          depending on what you want to do.
> NOTE #3: msvc/bcc implib creation is tentative, so I haven't included it
> yet.
> NOTE #4: Cross compile setup (HB_BIN_COMPILE, HB_PPGEN_PATH) may change in
>          the future.
>
> --8<--
> rem ; To create installation packages (.exe + .zip),
> rem   replace last lines (calling make_gnu.*) with these two:
> set PATH=C:\devl\NSIS-2.44;%PATH%
> call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
> -->8--
>
> --- MSVC 2008 + SDK
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- MSVC 2008
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- MSVC 2008 x64 (requires native x86 Harbour binaries)
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> x86_amd64
> rem
> set HB_COMPILER=msvc64
> set HB_BIN_COMPILE=C:\hb-msvc\bin
> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- MSVC 2005
> call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- MSVC .NET 2003 (untested)
> call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> set HB_VISUALC_VER_PRE80=yes
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Intel(R) C++
> call "%ProgramFiles%\Intel\Compiler\C++\10.1.014\IA32\Bin\iclvars.bat"
> rem
> set HB_COMPILER=icc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Open Watcom C++
> SET WATCOM=C:\devl\owatcom-1.8
> SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
> SET EDPATH=%WATCOM%\EDDAT
> SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
> rem
> set HB_COMPILER=owatcom
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Borland/CodeGear C++
> set PATH=C:\devl\bcc55\bin;%PATH%
> rem
> set HB_COMPILER=bcc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Pelles C
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
> rem
> set HB_COMPILER=pocc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Pelles C x64
> set PATH=C:\devl\PellesC-501-64\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
> set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
> rem
> set HB_COMPILER=pocc64
> set HB_BIN_COMPILE=C:\hb-pocc\bin
> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Pelles C CE/ARM
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
> rem
> set HB_COMPILER=poccce
> set HB_BIN_COMPILE=C:\hb-pocc\bin
> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- MinGW GCC
> set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
> rem
> set HB_COMPILER=mingw
> rem
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --- Cygwin GCC
> set PATH=C:\devl\cygwin\bin;%PATH%
> set
> C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
> set
> LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
> rem
> set HB_COMPILER=cygwin
> rem
> set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
>
> --8<--
> rem ; Add these _before_ above sample scripts to configure 3rd party
> dependencies.
> rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
> rem   also cygwin drive notation for 'cygwin'.
> set HB_INC_ADS=C:\devl\ads\acesdk
> set HB_INC_ALLEGRO=C:\devl\allegro\include
> set HB_INC_APOLLO=C:\devl\Apollo\include
> set HB_INC_BLAT=C:\devl\blat\full\source
> set HB_INC_CURL=C:\devl\curl\include
> set HB_INC_FIREBIRD=C:\devl\Firebird\include
> set HB_INC_FREEIMAGE=C:\devl\FreeImage\Dist
> set HB_INC_GD=C:\devl\gd\include
> set HB_INC_LIBHARU=C:\devl\libharu\include
> set HB_INC_MYSQL=C:\devl\mysql\include
> set HB_INC_OPENSSL=C:\devl\openssl\inc32
> set HB_INC_PGSQL=C:\devl\pgsql\include
> -->8--
>
> Brgds.
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/5a8a6af9/attachment-0001.html
From bedipritpal at hotmail.com  Thu Mar  5 19:22:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 19:22:18 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's
	Ready-to-use Distro
In-Reply-To: <18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
	<18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>
	<609353e70903051531t466d252fu48152e909562248f@mail.gmail.com>
	<18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com>
Message-ID: <22363864.post@talk.nabble.com>


Yes sure


Viktor Szak?ts wrote:
> 
> As for download counting, I'm sure Pritpal would share those
> numbers with the public if he has them.
> 

as of 07:50 pacific time 05Mar2009:
106 hits 2,483,168,000,000 bytes transfers.

Probably it amounts to 45 downloads as distro is about 57 mb.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22363864.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar  5 19:27:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 19:27:41 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
Message-ID: <18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>

Pls read:- INSTALL
  - OPTIONS AVAILABLE WHEN BUILDING HARBOUR
    - Cross building

On Fri, Mar 6, 2009 at 1:17 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I have tried pelles c but receive error  with parameter clean install from
> c:\harbour  but receive follow error
>
>
> mingw32-make.exe[3]: Entering directory `c:/harbour/source/pp/win/poccce'
>  C:\hb-pocc\bin/hbpp.exe ../../../../include/hbstdgen.ch -opptable.c -q -c
> -v../
> ./../../include/hbverbld.h
> process_begin: CreateProcess(NULL, C:\hb-pocc\bin/hbpp.exe
> ../../../../include/
> bstdgen.ch -opptable.c -q -c -v../../../../include/hbverbld.h, ...) failed.
> make (e=3): Impossibile trovare il percorso specificato.
> mingw32-make.exe[3]: *** [pptable.c] Error 3
> mingw32-make.exe[3]: Leaving directory `c:/harbour/source/pp/win/poccce'
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[2]: Leaving directory `c:/harbour/source/pp'
> mingw32-make.exe[1]: *** [pp] Error 2
> mingw32-make.exe[1]: Leaving directory `c:/harbour/source'
> mingw32-make.exe: *** [source] Error 2
>
>
>
>
> 2009/3/5 Viktor Szak?ts <harbour.01@syenar.hu>
>
>> Hi all,
>>
>> Fixed/Added: HB_INC_OPENSSL dir, cross compilation settings, icc.
>>
>> To clear some misconceptions, here are a couple of sample make scripts
>> for Windows. Notice that it's impossible to list all combinations, so I
>> hope
>> these are good to give an idea, and everyone can modify them to the local
>> needs. See INSTALL for reference, and if something still isn't clear,
>> please
>> ask on the list. If you find any typos with these scripts, please also
>> report it, and I'll send updated versions.
>>
>> NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your
>> system.
>>          Don't use space in dirs.
>> NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
>>          depending on what you want to do.
>> NOTE #3: msvc/bcc implib creation is tentative, so I haven't included it
>> yet.
>> NOTE #4: Cross compile setup (HB_BIN_COMPILE, HB_PPGEN_PATH) may change in
>>          the future.
>>
>> --8<--
>> rem ; To create installation packages (.exe + .zip),
>> rem   replace last lines (calling make_gnu.*) with these two:
>> set PATH=C:\devl\NSIS-2.44;%PATH%
>> call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
>> -->8--
>>
>> --- MSVC 2008 + SDK
>> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
>> rem
>> set HB_COMPILER=msvc
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- MSVC 2008
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
>> rem
>> set HB_COMPILER=msvc
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- MSVC 2008 x64 (requires native x86 Harbour binaries)
>> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
>> x86_amd64
>> rem
>> set HB_COMPILER=msvc64
>> set HB_BIN_COMPILE=C:\hb-msvc\bin
>> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- MSVC 2005
>> call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
>> rem
>> set HB_COMPILER=msvc
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- MSVC .NET 2003 (untested)
>> call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
>> rem
>> set HB_COMPILER=msvc
>> set HB_VISUALC_VER_PRE80=yes
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Intel(R) C++
>> call "%ProgramFiles%\Intel\Compiler\C++\10.1.014\IA32\Bin\iclvars.bat"
>> rem
>> set HB_COMPILER=icc
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Open Watcom C++
>> SET WATCOM=C:\devl\owatcom-1.8
>> SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
>> SET EDPATH=%WATCOM%\EDDAT
>> SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
>> rem
>> set HB_COMPILER=owatcom
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Borland/CodeGear C++
>> set PATH=C:\devl\bcc55\bin;%PATH%
>> rem
>> set HB_COMPILER=bcc
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Pelles C
>> set PATH=C:\devl\PellesC-501\bin;%PATH%
>> set
>> INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
>> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
>> rem
>> set HB_COMPILER=pocc
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Pelles C x64
>> set PATH=C:\devl\PellesC-501-64\bin;%PATH%
>> set
>> INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
>> set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
>> rem
>> set HB_COMPILER=pocc64
>> set HB_BIN_COMPILE=C:\hb-pocc\bin
>> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Pelles C CE/ARM
>> set PATH=C:\devl\PellesC-501\bin;%PATH%
>> set
>> INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
>> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
>> rem
>> set HB_COMPILER=poccce
>> set HB_BIN_COMPILE=C:\hb-pocc\bin
>> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
>> rem
>> set PATH=C:\devl\make-3.81;%PATH%
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- MinGW GCC
>> set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
>> rem
>> set HB_COMPILER=mingw
>> rem
>> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
>> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --- Cygwin GCC
>> set PATH=C:\devl\cygwin\bin;%PATH%
>> set
>> C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
>> set
>> LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
>> rem
>> set HB_COMPILER=cygwin
>> rem
>> set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
>> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
>> ---
>>
>> --8<--
>> rem ; Add these _before_ above sample scripts to configure 3rd party
>> dependencies.
>> rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
>> rem   also cygwin drive notation for 'cygwin'.
>> set HB_INC_ADS=C:\devl\ads\acesdk
>> set HB_INC_ALLEGRO=C:\devl\allegro\include
>> set HB_INC_APOLLO=C:\devl\Apollo\include
>> set HB_INC_BLAT=C:\devl\blat\full\source
>> set HB_INC_CURL=C:\devl\curl\include
>> set HB_INC_FIREBIRD=C:\devl\Firebird\include
>> set HB_INC_FREEIMAGE=C:\devl\FreeImage\Dist
>> set HB_INC_GD=C:\devl\gd\include
>> set HB_INC_LIBHARU=C:\devl\libharu\include
>> set HB_INC_MYSQL=C:\devl\mysql\include
>> set HB_INC_OPENSSL=C:\devl\openssl\inc32
>> set HB_INC_PGSQL=C:\devl\pgsql\include
>> -->8--
>>
>> Brgds.
>> Viktor
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/3b3e2c4f/attachment.html
From vailtom at gmail.com  Thu Mar  5 19:34:45 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Mar  5 19:34:50 2009
Subject: [Harbour] Errors in C compilation
In-Reply-To: <B851C3E4874B4F6EA9A4BA06F73539D0@particular>
References: <B851C3E4874B4F6EA9A4BA06F73539D0@particular>
Message-ID: <531d7a750903051634s2031526fufc6241a9f2ca2670@mail.gmail.com>

You can comment on these lines, because it already exists in HB, see
hbapi.h & extend.c


2009/3/5 Kleyber Derick <kleyber@tkinformidia.net>:
> Hi,
>
> I have this C routine declared in my prg:
>
> #ifndef __XHARBOUR__
> ?#ifdef __HARBOUR__
> ??? #pragma BEGINDUMP
> ?????? static void hb_retnl( LONG l )
> ?????? {
> ????????? hb_itemPutNL( &hb_stack.Return, l );???????? // Here generates
> the?errors
> ?????? }
> ??? #pragma ENDDUMP
> ?#EndIf
> #EndIf
> But it gives a compilation error:
>
> errsysw.prg(730) : error C2065: 'hb_stack' : identifier not declared
> errsysw.prg(730) : error C2224: left operator of '.Return' must be
> struct/union
>
> How can I solve this?
>
> Thanks in advance,
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From harbour.01 at syenar.hu  Thu Mar  5 19:37:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 19:37:45 2009
Subject: [Harbour] PelleC - Permitted to be included in Harbour's 
	Ready-to-use Distro
In-Reply-To: <22363864.post@talk.nabble.com>
References: <22353245.post@talk.nabble.com>
	<609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
	<18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>
	<609353e70903051531t466d252fu48152e909562248f@mail.gmail.com>
	<18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com>
	<22363864.post@talk.nabble.com>
Message-ID: <18d502870903051637n458b6b0fu97ee4d72de8ad758@mail.gmail.com>

Thanks.
BTW, I've found a usable WiX sample (in 7z source distro),
so this is also an option. It's still not GUI though, but there
seem to exist frontends for it.

Brgds,
Viktor

On Fri, Mar 6, 2009 at 1:22 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Yes sure
>
>
> Viktor Szak?ts wrote:
> >
> > As for download counting, I'm sure Pritpal would share those
> > numbers with the public if he has them.
> >
>
> as of 07:50 pacific time 05Mar2009:
> 106 hits 2,483,168,000,000 bytes transfers.
>
> Probably it amounts to 45 downloads as distro is about 57 mb.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/PelleC---Permitted-to-be-included-in-Harbour%27s-Ready-to-use-Distro-tp22353245p22363864.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/aeeef79d/attachment-0001.html
From qiinfo at ig.com.br  Thu Mar  5 19:48:34 2009
From: qiinfo at ig.com.br (Rossine)
Date: Thu Mar  5 19:48:37 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <18d502870903051423lfd6d4fbh59c983bf47f65451@mail.gmail.com>
References: <22361860.post@talk.nabble.com>
	<18d502870903051423lfd6d4fbh59c983bf47f65451@mail.gmail.com>
Message-ID: <22364145.post@talk.nabble.com>


Hello Vicktor,

Exactly this :)


Change this:
pFunc = GetProcAddress( handle,"GetLastInputInfo" );
to this:
pFunc = ( GETLASTINPUTINFO_ ) GetProcAddress( handle,"GetLastInputInfo" );

Thank you very much,

Rossine.

-- 
View this message in context: http://www.nabble.com/How-to-fix-this---tp22361860p22364145.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Thu Mar  5 19:49:43 2009
From: qiinfo at ig.com.br (Rossine)
Date: Thu Mar  5 19:49:45 2009
Subject: [Harbour] How to fix this ?
In-Reply-To: <22362048.post@talk.nabble.com>
References: <22361860.post@talk.nabble.com> <22362048.post@talk.nabble.com>
Message-ID: <22364158.post@talk.nabble.com>


Hello Pritpal Bedi,

Vicktor solved my problem :)

Thank you very much,

Rossine.


-- 
View this message in context: http://www.nabble.com/How-to-fix-this---tp22361860p22364158.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Mar  5 19:59:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 19:59:58 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
Message-ID: <609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>

--- Pelles C CE/ARM must be considered Cross Building   ?
   --------------
>   HB_BIN_COMPILE=<HARBOUR_NATIVE_BUILD_DIR>\bin
>   HB_PPGEN_PATH=<HARBOUR_NATIVE_BUILD_DIR>\bin

>   You need these when building for a platform different to host.
 >  For this to work, you will need to point above envvars to
 >  a native Harbour build available on your system
So i have tried add
set HB_BIN_COMPILE=c:\hb-pocc\bin
set HB_PPGEN_PATH=C:\hb-pocc\bin
after compiled also native pelles win

Now receive this error:

c:\harbour\source\rtl\gtwvt>if not exist ..\..\..\lib\win\poccce\. md
..\..\..\lib\win\poccce
mingw32-make.exe[4]: Entering directory `c:/harbour/source/rtl/gtwvt/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../../include    -c ../../gtwvt.c
-Fogtwvt.obj
../../gtwvt.c(1839): error #2048: Undeclared identifier 'WS_EX_LAYERED'.
../../gtwvt.c(1847): error #2048: Undeclared identifier 'LWA_ALPHA'.
mingw32-make.exe[4]: *** [gtwvt.obj] Error 1
mingw32-make.exe[4]: Leaving directory `c:/harbour/source/rtl/gtwvt/win/poccce'
mingw32-make.exe[3]: *** [descend] Error 2
mingw32-make.exe[3]: Leaving directory `c:/harbour/source/rtl/gtwvt'
mingw32-make.exe[2]: *** [gtwvt] Error 2
mingw32-make.exe[2]: Leaving directory `c:/harbour/source/rtl'
mingw32-make.exe[1]: *** [rtl.inst] Error 2
mingw32-make.exe[1]: Leaving directory `c:/harbour/source'
mingw32-make.exe: *** [source.inst] Error 2



2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>:
> Pls read:
> - INSTALL
> ??- OPTIONS AVAILABLE WHEN BUILDING HARBOUR
> ?? ?-?Cross building
>
> On Fri, Mar 6, 2009 at 1:17 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Mar  5 20:06:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 20:06:54 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
Message-ID: <18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>

>
> mingw32-make.exe[4]: Entering directory
> `c:/harbour/source/rtl/gtwvt/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../../include    -c ../../gtwvt.c
> -Fogtwvt.obj
> ../../gtwvt.c(1839): error #2048: Undeclared identifier 'WS_EX_LAYERED'.
> ../../gtwvt.c(1847): error #2048: Undeclared identifier 'LWA_ALPHA'.


Thanks, this should be fixed.

Try using 'set HB_USER_MAKEFLAGS=-i' to let it
continue and gather all such errors in one pass.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/79b7f7b1/attachment.html
From druzus at users.sourceforge.net  Thu Mar  5 20:11:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar  5 20:11:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10550] trunk/harbour
Message-ID: <E1LfOb3-0000GH-At@dn4whf1.ch3.sourceforge.com>

Revision: 10550
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10550&view=rev
Author:   druzus
Date:     2009-03-06 01:11:27 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 02:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbpp.h
  * harbour/include/hbhash.h
  * harbour/source/pp/pplib2.c
  * harbour/source/pp/hbpp.c
  * harbour/source/lang/msghuiso.c
  * harbour/source/lang/msgskiso.c
  * harbour/source/lang/msgrukoi.c
  * harbour/source/lang/msghuwin.c
  * harbour/source/lang/msgzhgb.c
  * harbour/source/lang/msgskwin.c
  * harbour/source/lang/msgruwin.c
  * harbour/source/lang/msgelwin.c
  * harbour/source/lang/msgro.c
  * harbour/source/lang/msgpt.c
  * harbour/source/lang/msghriso.c
  * harbour/source/lang/msghrwin.c
  * harbour/source/lang/msgsliso.c
  * harbour/source/lang/msgbe866.c
  * harbour/source/lang/msghe862.c
  * harbour/source/lang/msgslwin.c
  * harbour/source/lang/msgcskam.c
  * harbour/source/lang/msggl.c
  * harbour/source/lang/msgtrwin.c
  * harbour/source/lang/msgeo.c
  * harbour/source/lang/msgbgiso.c
  * harbour/source/lang/msgbgwin.c
  * harbour/source/lang/msgskkam.c
  * harbour/source/lang/msges.c
  * harbour/source/lang/msguakoi.c
  * harbour/source/lang/msgzhb5.c
  * harbour/source/lang/msgeu.c
  * harbour/source/lang/msgpl852.c
  * harbour/source/lang/msgsr852.c
  * harbour/source/lang/msguawin.c
  * harbour/source/lang/msgde.c
  * harbour/source/lang/msgtr857.c
  * harbour/source/lang/msgru866.c
  * harbour/source/lang/msgcs852.c
  * harbour/source/lang/msgfr.c
  * harbour/source/lang/msgis850.c
  * harbour/source/lang/msgnl.c
  * harbour/source/lang/msghu852.c
  * harbour/source/lang/msgsk852.c
  * harbour/source/lang/msgplmaz.c
  * harbour/source/lang/msgca.c
  * harbour/source/lang/msgpliso.c
  * harbour/source/lang/msgbgmik.c
  * harbour/source/lang/msgplwin.c
  * harbour/source/lang/msgbg866.c
  * harbour/source/lang/msgid.c
  * harbour/source/lang/msgltwin.c
  * harbour/source/lang/msgptiso.c
  * harbour/source/lang/msgsriso.c
  * harbour/source/lang/msgel.c
  * harbour/source/lang/msgsrwin.c
  * harbour/source/lang/msgbewin.c
  * harbour/source/lang/msgdewin.c
  * harbour/source/lang/msghr437.c
  * harbour/source/lang/msghr852.c
  * harbour/source/lang/msgko.c
  * harbour/source/lang/msgua866.c
  * harbour/source/lang/msghewin.c
  * harbour/source/lang/msgit.c
  * harbour/source/lang/msgsl437.c
  * harbour/source/lang/msgsl852.c
  * harbour/source/lang/msghucwi.c
  * harbour/source/lang/msgcsiso.c
  * harbour/source/lang/msgcswin.c
  * harbour/source/lang/msgeswin.c
  * harbour/source/vm/macro.c
  * harbour/source/vm/hashes.c
  * harbour/source/vm/memvars.c
  * harbour/source/common/expropt1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
  * harbour/source/rdd/hbsix/sxutil.c
  * harbour/source/compiler/harbour.y
    * minor code cleanup:
      - pacified some warnings
      - added some missing declarations
      - removed redundant ;

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbhash.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/source/common/expropt1.c
    trunk/harbour/source/compiler/harbour.y
    trunk/harbour/source/lang/msgbe866.c
    trunk/harbour/source/lang/msgbewin.c
    trunk/harbour/source/lang/msgbg866.c
    trunk/harbour/source/lang/msgbgiso.c
    trunk/harbour/source/lang/msgbgmik.c
    trunk/harbour/source/lang/msgbgwin.c
    trunk/harbour/source/lang/msgca.c
    trunk/harbour/source/lang/msgcs852.c
    trunk/harbour/source/lang/msgcsiso.c
    trunk/harbour/source/lang/msgcskam.c
    trunk/harbour/source/lang/msgcswin.c
    trunk/harbour/source/lang/msgde.c
    trunk/harbour/source/lang/msgdewin.c
    trunk/harbour/source/lang/msgel.c
    trunk/harbour/source/lang/msgelwin.c
    trunk/harbour/source/lang/msgeo.c
    trunk/harbour/source/lang/msges.c
    trunk/harbour/source/lang/msgeswin.c
    trunk/harbour/source/lang/msgeu.c
    trunk/harbour/source/lang/msgfr.c
    trunk/harbour/source/lang/msggl.c
    trunk/harbour/source/lang/msghe862.c
    trunk/harbour/source/lang/msghewin.c
    trunk/harbour/source/lang/msghr437.c
    trunk/harbour/source/lang/msghr852.c
    trunk/harbour/source/lang/msghriso.c
    trunk/harbour/source/lang/msghrwin.c
    trunk/harbour/source/lang/msghu852.c
    trunk/harbour/source/lang/msghucwi.c
    trunk/harbour/source/lang/msghuiso.c
    trunk/harbour/source/lang/msghuwin.c
    trunk/harbour/source/lang/msgid.c
    trunk/harbour/source/lang/msgis850.c
    trunk/harbour/source/lang/msgit.c
    trunk/harbour/source/lang/msgko.c
    trunk/harbour/source/lang/msgltwin.c
    trunk/harbour/source/lang/msgnl.c
    trunk/harbour/source/lang/msgpl852.c
    trunk/harbour/source/lang/msgpliso.c
    trunk/harbour/source/lang/msgplmaz.c
    trunk/harbour/source/lang/msgplwin.c
    trunk/harbour/source/lang/msgpt.c
    trunk/harbour/source/lang/msgptiso.c
    trunk/harbour/source/lang/msgro.c
    trunk/harbour/source/lang/msgru866.c
    trunk/harbour/source/lang/msgrukoi.c
    trunk/harbour/source/lang/msgruwin.c
    trunk/harbour/source/lang/msgsk852.c
    trunk/harbour/source/lang/msgskiso.c
    trunk/harbour/source/lang/msgskkam.c
    trunk/harbour/source/lang/msgskwin.c
    trunk/harbour/source/lang/msgsl437.c
    trunk/harbour/source/lang/msgsl852.c
    trunk/harbour/source/lang/msgsliso.c
    trunk/harbour/source/lang/msgslwin.c
    trunk/harbour/source/lang/msgsr852.c
    trunk/harbour/source/lang/msgsriso.c
    trunk/harbour/source/lang/msgsrwin.c
    trunk/harbour/source/lang/msgtr857.c
    trunk/harbour/source/lang/msgtrwin.c
    trunk/harbour/source/lang/msgua866.c
    trunk/harbour/source/lang/msguakoi.c
    trunk/harbour/source/lang/msguawin.c
    trunk/harbour/source/lang/msgzhb5.c
    trunk/harbour/source/lang/msgzhgb.c
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/pp/pplib2.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/hbsix/sxutil.c
    trunk/harbour/source/vm/hashes.c
    trunk/harbour/source/vm/macro.c
    trunk/harbour/source/vm/memvars.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Mar  5 20:22:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 20:22:45 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
Message-ID: <609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>

Thanks . Now i have compiled
but please still help me
How can make a windows ce executable?

c:\harbour\tests>c:\hb-poccce\bin\hbmk2 version
"c:\hb-poccce\bin\hbmk2" non ? riconosciuto come comando interno o esterno,
 un programma eseguibile o un file batch.

c:\harbour\tests>c:\hb-pocc\bin\hbmk2 version
hbmk: Harbour Make couldn't detect any supported C compiler in your PATH.
      Please setup one or set -comp= option or envvar HB_COMPILER
      to one of these values:
      mingw, msvc, bcc, owatcom, icc, pocc, xcc, cygwin, msvc64, msvcia64, pocc
4, mingwce, msvcce, poccce



2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>:
>> mingw32-make.exe[4]: Entering directory
>> `c:/harbour/source/rtl/gtwvt/win/poccce'
>> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
>> -DHB_NO_WIN_CONSOLE -I../../../../../include ? ?-c ../../gtwvt.c
>> -Fogtwvt.obj
>> ../../gtwvt.c(1839): error #2048: Undeclared identifier 'WS_EX_LAYERED'.
>> ../../gtwvt.c(1847): error #2048: Undeclared identifier 'LWA_ALPHA'.
>
> Thanks, this should be fixed.
> Try using 'set HB_USER_MAKEFLAGS=-i' to let it
> continue and gather all such errors in one pass.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Albo Nazionale Informatici Professionisti 2620
Socio 2843 Associazione Informatici prof.

Analisi e sviluppo software per Lan e Web
Consulenza informatica - Formazione
Delta Informatica S.r.l.  http://www.deltain.it
Via Torelli,31 - 28100 Novara - Tel: 0321/30281
From harbour.01 at syenar.hu  Thu Mar  5 20:34:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 20:34:53 2009
Subject: [Harbour] MSVC issues with LTCG option
Message-ID: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>

Hi all,

set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL
set HB_USER_LDFLAGS=/LTCG

---
source\macro\win\msvc\macroy.c(3095) : warning C4701: potentially
uninitialized local variable 'hb_macrolval' used
source\vm\classes.c(462) : warning C4702: unreachable code
source\compiler\hbpcode.c(599) : warning C4702: unreachable code
source\compiler\hbpcode.c(549) : warning C4702: unreachable code
source\compiler\hbpcode.c(571) : warning C4702: unreachable code
source\vm\classes.c(2940) : warning C4702: unreachable code
source\compiler\win\msvc\harboury.c(7154) : warning C4701: potentially
uninitialized local variable 'hb_complval' used
---

The more grave problem is that Harbour executables won't start,
but show this instead:
---
Unrecoverable error 9998: Screen driver initialization failure
---

More on LTCG:
http://msdn.microsoft.com/en-gb/magazine/cc301698.aspx

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/28ddcbc7/attachment.html
From harbour.01 at syenar.hu  Thu Mar  5 20:49:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 20:49:17 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
	<609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>
Message-ID: <18d502870903051749k63fea71cy752d6ca8bfeadb7b@mail.gmail.com>

Try with this:
---
<++ setup for poccce compiler ++>

cd C:\hb-pocc\bin
set HB_LIB_INSTALL=C:\hb-poccce\libhbmk2 -comp=poccce test.prg
---

Brgds,
Viktor

On Fri, Mar 6, 2009 at 2:22 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Thanks . Now i have compiled
> but please still help me
> How can make a windows ce executable?
>
> c:\harbour\tests>c:\hb-poccce\bin\hbmk2 version
> "c:\hb-poccce\bin\hbmk2" non ? riconosciuto come comando interno o esterno,
>  un programma eseguibile o un file batch.
>
> c:\harbour\tests>c:\hb-pocc\bin\hbmk2 version
> hbmk: Harbour Make couldn't detect any supported C compiler in your PATH.
>      Please setup one or set -comp= option or envvar HB_COMPILER
>      to one of these values:
>      mingw, msvc, bcc, owatcom, icc, pocc, xcc, cygwin, msvc64, msvcia64,
> pocc
> 4, mingwce, msvcce, poccce
>
>
>
> 2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>:
> >> mingw32-make.exe[4]: Entering directory
> >> `c:/harbour/source/rtl/gtwvt/win/poccce'
> >> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> >> -DHB_NO_WIN_CONSOLE -I../../../../../include    -c ../../gtwvt.c
> >> -Fogtwvt.obj
> >> ../../gtwvt.c(1839): error #2048: Undeclared identifier 'WS_EX_LAYERED'.
> >> ../../gtwvt.c(1847): error #2048: Undeclared identifier 'LWA_ALPHA'.
> >
> > Thanks, this should be fixed.
> > Try using 'set HB_USER_MAKEFLAGS=-i' to let it
> > continue and gather all such errors in one pass.
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/2d60d38c/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar  5 20:51:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar  5 20:51:36 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
	<609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>
Message-ID: <18d502870903051751q60f8143bg29d7ab23416d6e6b@mail.gmail.com>

BTW, did find any other errors in your build log?

You signature is back again. The previous one was better. Suggestion: Create
a new mailbox
under your domain account and use that for Harbour!

--
> Massimo Belgrano
>
> Albo Nazionale Informatici Professionisti 2620
> Socio 2843 Associazione Informatici prof.
>
> Analisi e sviluppo software per Lan e Web
> Consulenza informatica - Formazione
> Delta Informatica S.r.l.  http://www.deltain.it
> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/06ba980e/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 20:56:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 20:56:58 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <18d502870903051749k63fea71cy752d6ca8bfeadb7b@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
	<609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>
	<18d502870903051749k63fea71cy752d6ca8bfeadb7b@mail.gmail.com>
Message-ID: <609353e70903051756n213ff705o21db12ce79e0de25@mail.gmail.com>

C:\hb-pocc\bin>set HB_LIB_INSTALL=C:\hb-poccce\lib

C:\hb-pocc\bin>hbmk2 -comp=poccce test.prg
hbmk: Processing configuration: C:\hb-pocc\bin\hbmk.cfg
Accesso negato. (access denied)
hbmk: Error: Running Harbour compiler. 1:
C:\hb-poccce\bin\harbour.exe -n2 test.prg -iC:\hb-poccce\include


2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>:
> Try with this:
> ---
> <++ setup for poccce compiler ++>
> cd C:\hb-pocc\bin
> set HB_LIB_INSTALL=C:\hb-poccce\lib
> hbmk2 -comp=poccce?test.prg
> ---
>
> Brgds,
> Viktor
> On Fri, Mar 6, 2009 at 2:22 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Thanks . Now i have compiled
>> but please still help me
>> How can make a windows ce executable?
>>
>> c:\harbour\tests>c:\hb-poccce\bin\hbmk2 version
>> "c:\hb-poccce\bin\hbmk2" non ? riconosciuto come comando interno o
>> esterno,
>> ?un programma eseguibile o un file batch.
>>
>> c:\harbour\tests>c:\hb-pocc\bin\hbmk2 version
>> hbmk: Harbour Make couldn't detect any supported C compiler in your PATH.
>> ? ? ?Please setup one or set -comp= option or envvar HB_COMPILER
>> ? ? ?to one of these values:
>> ? ? ?mingw, msvc, bcc, owatcom, icc, pocc, xcc, cygwin, msvc64, msvcia64,
>> pocc
>> 4, mingwce, msvcce, poccce
>>
>>
>>
>> 2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>:
>> >> mingw32-make.exe[4]: Entering directory
>> >> `c:/harbour/source/rtl/gtwvt/win/poccce'
>> >> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
>> >> -DHB_NO_WIN_CONSOLE -I../../../../../include ? ?-c ../../gtwvt.c
>> >> -Fogtwvt.obj
>> >> ../../gtwvt.c(1839): error #2048: Undeclared identifier
>> >> 'WS_EX_LAYERED'.
>> >> ../../gtwvt.c(1847): error #2048: Undeclared identifier 'LWA_ALPHA'.
>> >
>> > Thanks, this should be fixed.
>> > Try using 'set HB_USER_MAKEFLAGS=-i' to let it
>> > continue and gather all such errors in one pass.
>> > Brgds,
>> > Viktor
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l. ?http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Thu Mar  5 21:00:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar  5 21:00:28 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
Message-ID: <22364816.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Thanks, this should be fixed.
> 
> Try using 'set HB_USER_MAKEFLAGS=-i' to let it
> continue and gather all such errors in one pass.
> 


C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\poccce\. md
..\..\lib\win\poccce 
make.exe[3]: Entering directory `C:/harbour/contrib/gtwvg/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../gtwvg.c -Fogtwvg.obj
C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
make.exe[3]: [gtwvg.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../wvgcore.c -Fowvgcore.obj
C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
make.exe[3]: [wvgcore.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../wvgutils.c -Fowvgutils.obj
C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
make.exe[3]: [wvgutils.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../wvgwin.c -Fowvgwin.obj
C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
make.exe[3]: [wvgwin.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../wvgsink.c -Fowvgsink.obj
../../wvgsink.c(106): fatal error #1035: Can't find include file <olectl.h>.
make.exe[3]: [wvgsink.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../wvggui.c -Fowvggui.obj
C:\harbour\contrib\gtwvg\wvggui.h(76): fatal error #1035: Can't find include
file <olectl.h>.
make.exe[3]: [wvggui.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
../../wvgcuig.c -Fowvgcuig.obj
C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
make.exe[3]: [wvgcuig.obj] Error 1 (ignored)

C:\harbour\contrib\hbct>if not exist ..\..\lib\win\poccce\. md
..\..\lib\win\poccce 
make.exe[3]: Entering directory `C:/harbour/contrib/hbct/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../disk.c -Fodisk.obj
../../disk.c(142): warning #2027: Missing prototype for 'GetDriveType'.
../../disk.c(144): error #2048: Undeclared identifier 'DRIVE_RAMDISK'.
../../disk.c(144): error #2045: Case label must be a constant integer
expression.
../../disk.c(147): error #2048: Undeclared identifier 'DRIVE_REMOVABLE'.
../../disk.c(147): error #2045: Case label must be a constant integer
expression.
../../disk.c(150): error #2048: Undeclared identifier 'DRIVE_FIXED'.
../../disk.c(150): error #2045: Case label must be a constant integer
expression.
../../disk.c(153): error #2048: Undeclared identifier 'DRIVE_CDROM'.
../../disk.c(153): error #2045: Case label must be a constant integer
expression.
../../disk.c(156): error #2048: Undeclared identifier 'DRIVE_REMOTE'.
../../disk.c(156): error #2045: Case label must be a constant integer
expression.
../../disk.c(257): warning #2027: Missing prototype for 'SetVolumeLabel'.
../../disk.c(283): warning #2027: Missing prototype for
'GetVolumeInformation'.
../../disk.c(320): warning #2027: Missing prototype for
'GetVolumeInformation'.
../../disk.c(350): warning #2027: Missing prototype for 'GetFullPathName'.
make.exe[3]: [disk.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../files.c -Fofiles.obj
../../files.c(247): warning #2027: Missing prototype for '_lopen'.
../../files.c(247): error #2048: Undeclared identifier 'OF_READWRITE'.
../../files.c(247): error #2048: Undeclared identifier 'OF_SHARE_COMPAT'.
../../files.c(268): warning #2027: Missing prototype for '_lclose'.
make.exe[3]: [files.obj] Error 1 (ignored)
polib.exe  /out:../../../../lib/win/poccce/hbct.lib addascii.obj
asciisum.obj ascpos.obj atadjust.obj atnum.obj atrepl.obj bitnum.obj
charevod.obj charlist.obj charmirr.obj charmix.obj charone.obj charonly.obj
charop.obj charrepl.obj charsort.obj charsprd.obj charswap.obj color.obj
count.obj ctc.obj ctchksum.obj ctcrypt.obj ctmath.obj ctmath2.obj ctnet.obj
ctpad.obj ctset.obj ctstr.obj ctstrfil.obj ctwfunc.obj ctwin.obj cursor.obj
datetime.obj dattime2.obj dattime3.obj dbftools.obj disk.obj expand.obj
exponent.obj files.obj finan.obj ftoc.obj justify.obj keyset.obj like.obj
lton.obj maxline.obj misc1.obj misc2.obj misc3.obj num1.obj numat.obj
numcount.obj numline.obj pack.obj pos1.obj pos2.obj posdiff.obj print.obj
range.obj relation.obj remove.obj replace.obj screen1.obj screen2.obj
setlast.obj setrc.obj strdiff.obj strswap.obj tab.obj token1.obj token2.obj
trig.obj video.obj wordrepl.obj wordtoch.obj blank.obj ct.obj ctdummy.obj
ctmisc.obj ctrand.obj cttime.obj fcopy.obj getinfo.obj getinput.obj
getsecrt.obj keysave.obj keysec.obj keytime.obj numconv.obj screen3.obj
scrmark.obj showtime.obj

C:\harbour\contrib\hbgf\hbgfwin>if not exist ..\..\..\lib\win\poccce\. md
..\..\..\lib\win\poccce 
make.exe[4]: Entering directory `C:/harbour/contrib/hbgf/hbgfwin/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../../include    -c ../../winapi.c
-Fowinapi.obj
../../winapi.c(70): error #2048: Undeclared identifier 'CS_OWNDC'.
../../winapi.c(75): error #2048: Undeclared identifier 'IDI_APPLICATION'.
../../winapi.c(75): error #2140: Type error in argument 2 to 'LoadIconW';
found 'int', expected 'const wchar_t *'.
../../winapi.c(181): error #2048: Undeclared identifier 'MFS_DISABLED'.
../../winapi.c(194): warning #2027: Missing prototype for 'InsertMenuItem'.
../../winapi.c(219): warning #2027: Missing prototype for 'SetMenu'.
make.exe[4]: [winapi.obj] Error 1 (ignored)

make.exe[3]: Entering directory `C:/harbour/contrib/hbnf/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../getenvrn.c
-Fogetenvrn.obj
../../getenvrn.c(177): warning #2027: Missing prototype for
'GetEnvironmentStrings'.
../../getenvrn.c(177): error #2168: Operands of = have incompatible types
'wchar_t *' and 'int'.
../../getenvrn.c(246): warning #2027: Missing prototype for
'FreeEnvironmentStrings'.

make.exe[3]: Entering directory `C:/harbour/contrib/hbodbc/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../odbc.c -Foodbc.obj
../../odbc.c(92): fatal error #1035: Can't find include file <sql.h>.


make.exe[3]: Entering directory `C:/harbour/contrib/hbsqlit3/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbsqlit3.c
-Fohbsqlit3.obj
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): warning #2027: Missing
prototype for 'localtime'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): error #2168: Operands
of = have incompatible types '(incomplete) struct tm *' and 'int'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9937): error #2152: Unknown
field 'tm_year' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9938): error #2152: Unknown
field 'tm_mon' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9939): error #2152: Unknown
field 'tm_mday' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9940): error #2152: Unknown
field 'tm_hour' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9941): error #2152: Unknown
field 'tm_min' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9942): error #2152: Unknown
field 'tm_sec' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22136): error #2120:
Redeclaration of 'localtime' previously declared at
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): found '(incomplete)
struct tm * __cdecl function(const unsigned long int *)', expected 'int
__cdecl function()'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22137): error #2149: Undefined
size for 'y' with type '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22137): error #2149: Undefined
size for 'y' with type '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22147): error #2152: Unknown
field 'tm_year' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22148): error #2152: Unknown
field 'tm_mon' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22149): error #2152: Unknown
field 'tm_wday' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22150): error #2152: Unknown
field 'tm_mday' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22151): error #2152: Unknown
field 'tm_hour' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22152): error #2152: Unknown
field 'tm_min' of '(incomplete) struct tm'.
C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22153): error #2152: Unknown
field 'tm_sec' of '(incomplete) struct tm'.

make.exe[3]: Entering directory `C:/harbour/contrib/hbwin/win/poccce'
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../win_misc.c
-Fowin_misc.obj
../../win_misc.c(67): warning #2027: Missing prototype for 'ShellExecute'.
../../win_misc.c(101): error #2048: Undeclared identifier
'CREATE_NO_WINDOW'.
make.exe[3]: [win_misc.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../win_ole.c
-Fowin_ole.obj
../../win_ole.c(75): fatal error #1035: Can't find include file <olectl.h>.
make.exe[3]: [win_ole.obj] Error 1 (ignored)
pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../win_regc.c
-Fowin_regc.obj
../../win_regc.c(67): error #2048: Undeclared identifier
'HKEY_CURRENT_CONFIG'.




And after commenting out #include <olectl.h> in gtwvg.h 
a tons of errors. Appears GTWVG is not ready for WINCE builds.
A Long way to go.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Sample-make-scripts--2-tp22360721p22364816.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Mar  5 21:00:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 21:00:51 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <18d502870903051751q60f8143bg29d7ab23416d6e6b@mail.gmail.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
	<609353e70903051722pefc5dcaj60f1aa55bc8a4009@mail.gmail.com>
	<18d502870903051751q60f8143bg29d7ab23416d6e6b@mail.gmail.com>
Message-ID: <609353e70903051800n65271924y1ad107a58a33a19@mail.gmail.com>

ops
My signature is due to old istance of gmail not closed


2009/3/6 Viktor Szak?ts <harbour.01@syenar.hu>:
> BTW, did find any other errors in your build log?
> You signature is back again. The previous one
> was better. Suggestion: Create a new mailbox
> under your domain account and use that for Harbour!
>>
>> --
>> Massimo Belgrano
>>
>> Albo Nazionale Informatici Professionisti 2620
>> Socio 2843 Associazione Informatici prof.
>>
>> Analisi e sviluppo software per Lan e Web
>> Consulenza informatica - Formazione
>> Delta Informatica S.r.l. ?http://www.deltain.it
>> Via Torelli,31 - 28100 Novara - Tel: 0321/30281
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From kleyber at tkinformidia.net  Thu Mar  5 21:03:11 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Thu Mar  5 21:03:21 2009
Subject: [Harbour] How to disable this
Message-ID: <86C1A8E80D864E609777E63C703BD2E4@particular>

Hi,

How to disable this option in my list account: Would you like to receive list mail batched in a daily digest?

I think because of it, I just receiving all emails just once a day in my OE.

Thanks in advance,

Kleyber Derick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090305/d004d73f/attachment.html
From mbelgrano at deltain.it  Thu Mar  5 21:03:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 21:03:35 2009
Subject: [Harbour] Sample make scripts #2
In-Reply-To: <22364816.post@talk.nabble.com>
References: <18d502870903051310o7b360cb0h4d499d2071dfe681@mail.gmail.com>
	<609353e70903051617t7b6b7907q1c2d3c2a1cbb5a43@mail.gmail.com>
	<18d502870903051627j5f07e5cdoc2688966ff1a0154@mail.gmail.com>
	<609353e70903051659v71708aabw5560da3c546f3707@mail.gmail.com>
	<18d502870903051706p7f35ae2fy6598c77122d83ad1@mail.gmail.com>
	<22364816.post@talk.nabble.com>
Message-ID: <609353e70903051803t156c3c7atafb9d9108168c1dc@mail.gmail.com>

Thanks you have anticipated me

2009/3/6 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Viktor Szak?ts wrote:
> >
> > Thanks, this should be fixed.
> >
> > Try using 'set HB_USER_MAKEFLAGS=-i' to let it
> > continue and gather all such errors in one pass.
> >
>
>
> C:\harbour\contrib\gtwvg>if not exist ..\..\lib\win\poccce\. md
> ..\..\lib\win\poccce
> make.exe[3]: Entering directory `C:/harbour/contrib/gtwvg/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../gtwvg.c -Fogtwvg.obj
> C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
> file <olectl.h>.
> make.exe[3]: [gtwvg.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../wvgcore.c -Fowvgcore.obj
> C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
> file <olectl.h>.
> make.exe[3]: [wvgcore.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../wvgutils.c -Fowvgutils.obj
> C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
> file <olectl.h>.
> make.exe[3]: [wvgutils.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../wvgwin.c -Fowvgwin.obj
> C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
> file <olectl.h>.
> make.exe[3]: [wvgwin.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../wvgsink.c -Fowvgsink.obj
> ../../wvgsink.c(106): fatal error #1035: Can't find include file
> <olectl.h>.
> make.exe[3]: [wvgsink.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../wvggui.c -Fowvggui.obj
> C:\harbour\contrib\gtwvg\wvggui.h(76): fatal error #1035: Can't find
> include
> file <olectl.h>.
> make.exe[3]: [wvggui.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include  -I../../../../contrib/hbwin  -c
> ../../wvgcuig.c -Fowvgcuig.obj
> C:\harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
> file <olectl.h>.
> make.exe[3]: [wvgcuig.obj] Error 1 (ignored)
>
> C:\harbour\contrib\hbct>if not exist ..\..\lib\win\poccce\. md
> ..\..\lib\win\poccce
> make.exe[3]: Entering directory `C:/harbour/contrib/hbct/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../disk.c -Fodisk.obj
> ../../disk.c(142): warning #2027: Missing prototype for 'GetDriveType'.
> ../../disk.c(144): error #2048: Undeclared identifier 'DRIVE_RAMDISK'.
> ../../disk.c(144): error #2045: Case label must be a constant integer
> expression.
> ../../disk.c(147): error #2048: Undeclared identifier 'DRIVE_REMOVABLE'.
> ../../disk.c(147): error #2045: Case label must be a constant integer
> expression.
> ../../disk.c(150): error #2048: Undeclared identifier 'DRIVE_FIXED'.
> ../../disk.c(150): error #2045: Case label must be a constant integer
> expression.
> ../../disk.c(153): error #2048: Undeclared identifier 'DRIVE_CDROM'.
> ../../disk.c(153): error #2045: Case label must be a constant integer
> expression.
> ../../disk.c(156): error #2048: Undeclared identifier 'DRIVE_REMOTE'.
> ../../disk.c(156): error #2045: Case label must be a constant integer
> expression.
> ../../disk.c(257): warning #2027: Missing prototype for 'SetVolumeLabel'.
> ../../disk.c(283): warning #2027: Missing prototype for
> 'GetVolumeInformation'.
> ../../disk.c(320): warning #2027: Missing prototype for
> 'GetVolumeInformation'.
> ../../disk.c(350): warning #2027: Missing prototype for 'GetFullPathName'.
> make.exe[3]: [disk.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../files.c -Fofiles.obj
> ../../files.c(247): warning #2027: Missing prototype for '_lopen'.
> ../../files.c(247): error #2048: Undeclared identifier 'OF_READWRITE'.
> ../../files.c(247): error #2048: Undeclared identifier 'OF_SHARE_COMPAT'.
> ../../files.c(268): warning #2027: Missing prototype for '_lclose'.
> make.exe[3]: [files.obj] Error 1 (ignored)
> polib.exe  /out:../../../../lib/win/poccce/hbct.lib addascii.obj
> asciisum.obj ascpos.obj atadjust.obj atnum.obj atrepl.obj bitnum.obj
> charevod.obj charlist.obj charmirr.obj charmix.obj charone.obj charonly.obj
> charop.obj charrepl.obj charsort.obj charsprd.obj charswap.obj color.obj
> count.obj ctc.obj ctchksum.obj ctcrypt.obj ctmath.obj ctmath2.obj ctnet.obj
> ctpad.obj ctset.obj ctstr.obj ctstrfil.obj ctwfunc.obj ctwin.obj cursor.obj
> datetime.obj dattime2.obj dattime3.obj dbftools.obj disk.obj expand.obj
> exponent.obj files.obj finan.obj ftoc.obj justify.obj keyset.obj like.obj
> lton.obj maxline.obj misc1.obj misc2.obj misc3.obj num1.obj numat.obj
> numcount.obj numline.obj pack.obj pos1.obj pos2.obj posdiff.obj print.obj
> range.obj relation.obj remove.obj replace.obj screen1.obj screen2.obj
> setlast.obj setrc.obj strdiff.obj strswap.obj tab.obj token1.obj token2.obj
> trig.obj video.obj wordrepl.obj wordtoch.obj blank.obj ct.obj ctdummy.obj
> ctmisc.obj ctrand.obj cttime.obj fcopy.obj getinfo.obj getinput.obj
> getsecrt.obj keysave.obj keysec.obj keytime.obj numconv.obj screen3.obj
> scrmark.obj showtime.obj
>
> C:\harbour\contrib\hbgf\hbgfwin>if not exist ..\..\..\lib\win\poccce\. md
> ..\..\..\lib\win\poccce
> make.exe[4]: Entering directory
> `C:/harbour/contrib/hbgf/hbgfwin/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../../include    -c ../../winapi.c
> -Fowinapi.obj
> ../../winapi.c(70): error #2048: Undeclared identifier 'CS_OWNDC'.
> ../../winapi.c(75): error #2048: Undeclared identifier 'IDI_APPLICATION'.
> ../../winapi.c(75): error #2140: Type error in argument 2 to 'LoadIconW';
> found 'int', expected 'const wchar_t *'.
> ../../winapi.c(181): error #2048: Undeclared identifier 'MFS_DISABLED'.
> ../../winapi.c(194): warning #2027: Missing prototype for 'InsertMenuItem'.
> ../../winapi.c(219): warning #2027: Missing prototype for 'SetMenu'.
> make.exe[4]: [winapi.obj] Error 1 (ignored)
>
> make.exe[3]: Entering directory `C:/harbour/contrib/hbnf/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../getenvrn.c
> -Fogetenvrn.obj
> ../../getenvrn.c(177): warning #2027: Missing prototype for
> 'GetEnvironmentStrings'.
> ../../getenvrn.c(177): error #2168: Operands of = have incompatible types
> 'wchar_t *' and 'int'.
> ../../getenvrn.c(246): warning #2027: Missing prototype for
> 'FreeEnvironmentStrings'.
>
> make.exe[3]: Entering directory `C:/harbour/contrib/hbodbc/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../odbc.c -Foodbc.obj
> ../../odbc.c(92): fatal error #1035: Can't find include file <sql.h>.
>
>
> make.exe[3]: Entering directory `C:/harbour/contrib/hbsqlit3/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../hbsqlit3.c
> -Fohbsqlit3.obj
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): warning #2027: Missing
> prototype for 'localtime'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): error #2168: Operands
> of = have incompatible types '(incomplete) struct tm *' and 'int'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9937): error #2152: Unknown
> field 'tm_year' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9938): error #2152: Unknown
> field 'tm_mon' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9939): error #2152: Unknown
> field 'tm_mday' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9940): error #2152: Unknown
> field 'tm_hour' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9941): error #2152: Unknown
> field 'tm_min' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9942): error #2152: Unknown
> field 'tm_sec' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22136): error #2120:
> Redeclaration of 'localtime' previously declared at
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): found '(incomplete)
> struct tm * __cdecl function(const unsigned long int *)', expected 'int
> __cdecl function()'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22137): error #2149:
> Undefined
> size for 'y' with type '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22137): error #2149:
> Undefined
> size for 'y' with type '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22147): error #2152: Unknown
> field 'tm_year' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22148): error #2152: Unknown
> field 'tm_mon' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22149): error #2152: Unknown
> field 'tm_wday' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22150): error #2152: Unknown
> field 'tm_mday' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22151): error #2152: Unknown
> field 'tm_hour' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22152): error #2152: Unknown
> field 'tm_min' of '(incomplete) struct tm'.
> C:\harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22153): error #2152: Unknown
> field 'tm_sec' of '(incomplete) struct tm'.
>
> make.exe[3]: Entering directory `C:/harbour/contrib/hbwin/win/poccce'
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../win_misc.c
> -Fowin_misc.obj
> ../../win_misc.c(67): warning #2027: Missing prototype for 'ShellExecute'.
> ../../win_misc.c(101): error #2048: Undeclared identifier
> 'CREATE_NO_WINDOW'.
> make.exe[3]: [win_misc.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../win_ole.c
> -Fowin_ole.obj
> ../../win_ole.c(75): fatal error #1035: Can't find include file <olectl.h>.
> make.exe[3]: [win_ole.obj] Error 1 (ignored)
> pocc.exe -I. -Ze -Go -Ot -Ox -Tarm-coff -D_WINCE -DUNICODE
> -DHB_NO_WIN_CONSOLE -I../../../../include    -c ../../win_regc.c
> -Fowin_regc.obj
> ../../win_regc.c(67): error #2048: Undeclared identifier
> 'HKEY_CURRENT_CONFIG'.
>
>
>
>
> And after commenting out #include <olectl.h> in gtwvg.h
> a tons of errors. Appears GTWVG is not ready for WINCE builds.
> A Long way to go.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Sample-make-scripts--2-tp22360721p22364816.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/e4d73633/attachment-0001.html
From mbelgrano at deltain.it  Thu Mar  5 21:10:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar  5 21:11:00 2009
Subject: [Harbour] How to disable this
In-Reply-To: <86C1A8E80D864E609777E63C703BD2E4@particular>
References: <86C1A8E80D864E609777E63C703BD2E4@particular>
Message-ID: <609353e70903051810g5f855d0cm37b7bc4f33ff0549@mail.gmail.com>

*Login at http://lists.harbour-project.org/mailman/listinfo/harbour  then
coice  unsubscribe or edit option

Scroll down you found

Set Digest Mode*

If you turn digest mode on, you'll get posts bundled together (usually one
per day but possibly more on busy lists), instead of singly when they're
sent. If digest mode is changed from on to off, you may receive one last
digest.



But i suggest receive single and create a rule for moving in a reserved area
because single mail are more easy read ,search and reply you can read only
once a day

2009/3/6 Kleyber Derick <kleyber@tkinformidia.net>

>  Hi,
>
> How to disable this option in my list account: Would you like to receive
> list mail batched in a daily digest?
>
> I think because of it, I just receiving all emails just once a day in my
> OE.
>
> Thanks in advance,
>
> Kleyber Derick
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/d03acad7/attachment.html
From fsgiudice at users.sourceforge.net  Thu Mar  5 22:17:05 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Thu Mar  5 22:17:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10551] trunk/harbour
Message-ID: <E1LfQYb-00040i-V2@74yxhf1.ch3.sourceforge.com>

Revision: 10551
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10551&view=rev
Author:   fsgiudice
Date:     2009-03-06 03:17:04 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 04:13 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    * Updated uHTTPD (Work in progress)
      * Updated to work in Linux.
      * Fixed PRIVATE use and threads as per Przemek suggestions
      * Marked WIN_SYSREFRESH() with USE_WIN_ADDONS define
      * Changed WIN_TIMEZONEBIAS() to hb_UTCoffset()
      * Changed WIN_SETENV() to hb_SetEnv()
      * Minor changes
  * harbour/contrib/examples/uhttpd/uhttpdc.c
    * Marked WIN_SYSREFRESH() as only windows function
    - Deleted WIN_SETENV()
    - Deleted WIN_TIMEZONEBIAS()
    + Added hb_UTCoffset()
  * harbour/contrib/examples/uhttpd/socket.c
    * Guarded for only windows build
  * harbour/contrib/examples/uhttpd/session.prg
    * Changed FileDate() to hb_FGetDateTime()
  * harbour/contrib/examples/uhttpd/uhttpd.ini
    * Minor fixes
  * harbour/contrib/examples/uhttpd/modules/showcounter.prg
  * harbour/contrib/examples/uhttpd/modules/tableservletdb.prg
    * fixed Linux build
  + harbour/contrib/examples/uhttpd/uhttpd-inet.hbm
  + harbour/contrib/examples/uhttpd/uhttpdgd-inet.hbm
    + Added as temporary files to build uhttpd under Linux
      (they haven't -gui flags that give error as per Przemek
      note, instead add -gtxwc as standard gui)
  ; NOTE:
    Przemek please check if hb_UTCOffSet() it is correct, then we have to move in
    other place.
    Tested all samples and they works.
    Modules build need to be fixed (Viktor?) but hrb are built. Need to be copied
    manually to ../home/cgi-bin

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/modules/showcounter.prg
    trunk/harbour/contrib/examples/uhttpd/modules/tableservletdb.prg
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/examples/uhttpd/socket.c
    trunk/harbour/contrib/examples/uhttpd/uhttpd.ini
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c
    trunk/harbour/contrib/examples/uhttpd/uhttpdgd.hbm

Added Paths:
-----------
    trunk/harbour/contrib/examples/uhttpd/uhttpd-inet.hbm
    trunk/harbour/contrib/examples/uhttpd/uhttpdgd-inet.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Thu Mar  5 22:26:27 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Thu Mar  5 22:26:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10552] trunk/harbour
Message-ID: <E1LfQhf-0004XU-3L@74yxhf1.ch3.sourceforge.com>

Revision: 10552
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10552&view=rev
Author:   fsgiudice
Date:     2009-03-06 03:26:26 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 04:25 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpdc.c
    * Fixed error in windows header include
    ; TOCHECK: Viktor, could you check if this is correct ?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Fri Mar  6 02:25:06 2009
From: elart at elart.it (elart)
Date: Fri Mar  6 02:25:15 2009
Subject: [Harbour] Register Harbour project  on the Launchpad platform
In-Reply-To: <49AF520B.4080107@elart.it>
References: <49AF520B.4080107@elart.it>
Message-ID: <49B0CFD2.7000306@elart.it>

On 03/05/2009 05:16 AM, elart wrote:
> I want ask you, if you agree, can can register Harbour project on the
> powerful Launchpad platform...?
>
> http://launchpad.net
>
> Here the page to register a project
> https://launchpad.net/projects/+new-guided
>
> Here an example of query and answer on Ubuntu project...
>
> https://launchpad.net/ubuntu
>
> https://answers.launchpad.net/ubuntu
>
> Thank you
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

Sorry i wasn't clear in my previous question...

I want ask your opinions about to create some kind of q&a
and user group of Harbour on Launchpad.

Not for development, i mean this might be a users to users questions and
answers without sending silly questions to the developers mailing list.

I send this here to propose this as suggestion to keep Harbour users
linked and i think Launchpad might be something to try.

I don't want broke already appreciated, used and valid tools already
managed by developers this i think might be something different.

I was thinking about some replacement of the died harbour-users mailing
list...

Can this be appreciated, used from you... ?

Sorry for my bad english... and thank you.

Only for test launchpad and to show you its functionality i have create 
some in demo mode:

https://staging.launchpad.net/harbour-users

it will be deleted by the Launchpad system and it will be not indexed or 
published.

From mbelgrano at deltain.it  Fri Mar  6 02:45:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar  6 02:45:34 2009
Subject: [Harbour] Register Harbour project on the Launchpad platform
In-Reply-To: <49B0CFD2.7000306@elart.it>
References: <49AF520B.4080107@elart.it> <49B0CFD2.7000306@elart.it>
Message-ID: <609353e70903052345oad1ee0bjfb1680b183fb09f5@mail.gmail.com>

This not seem a replacement for harbour user but can   be an integration
based question and answer model

2009/3/6 elart <elart@elart.it>

> On 03/05/2009 05:16 AM, elart wrote:
>
>> I want ask you, if you agree, can can register Harbour project on the
>> powerful Launchpad platform...?
>>
>> http://launchpad.net
>>
>> Here the page to register a project
>> https://launchpad.net/projects/+new-guided
>>
>> Here an example of query and answer on Ubuntu project...
>>
>> https://launchpad.net/ubuntu
>>
>> https://answers.launchpad.net/ubuntu
>>
>> Thank you
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Sorry i wasn't clear in my previous question...
>
> I want ask your opinions about to create some kind of q&a
> and user group of Harbour on Launchpad.
>
> Not for development, i mean this might be a users to users questions and
> answers without sending silly questions to the developers mailing list.
>
> I send this here to propose this as suggestion to keep Harbour users
> linked and i think Launchpad might be something to try.
>
> I don't want broke already appreciated, used and valid tools already
> managed by developers this i think might be something different.
>
> I was thinking about some replacement of the died harbour-users mailing
> list...
>
> Can this be appreciated, used from you... ?
>
> Sorry for my bad english... and thank you.
>
> Only for test launchpad and to show you its functionality i have create
> some in demo mode:
>
> https://staging.launchpad.net/harbour-users
>
> it will be deleted by the Launchpad system and it will be not indexed or
> published.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/148fd3dd/attachment.html
From vszakats at users.sourceforge.net  Fri Mar  6 04:21:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  6 04:21:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10553] trunk/harbour
Message-ID: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>

Revision: 10553
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10553&view=rev
Author:   vszakats
Date:     2009-03-06 09:21:06 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 10:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed -gh switch detection and workings.
      (Francesco, pls check now allmod.hbm)
    + -gt switch can now be filtered. (-gtwin{win})
    ! -gui switch won't anymore add '-Wl,-mwindows' C compiler switch
      on *nix systems. Someone pls confirm this is right.
    * icc will use -vc postfixed .dlls. They seem to be binary
      compatible, but I didn't test.
    % Using __PLATFORM__UNIX macro where applicable.
    ! Ignoring -o Harbour option passed using '-prgflag:'

  * INSTALL
    + Added some details.

  * mpkg_win.bat
    ! Don't create install files if the make process returned
      with error.

  * source/lang/msg_tpl.c
    ! Removed ending ';'.

  * source/vm/Makefile
    + Added icc to generate maindllh.lib.

  * source/common/hbfsapi.c
    ! Removed obsolete 'extern hb_fhnd_ForceLink()'.

  * config/rules.cf
  * config/lib.cf
  * config/bin.cf
    % Compiling all .prg files with -n1 switch.

  * contrib/examples/uhttpd/uhttpdc.c
    * Cleaned Windows headers usage.
      #define HB_OS_WIN_USED is safe to use on all platforms,
      it just requests the Windows headers, and if compiled on
      Windows, it will #include them.

  * contrib/examples/uhttpd/uhttpd.prg
    + Automatically sets USE_HB_INET on non-Windows platforms.

  - contrib/examples/uhttpd/uhttpd-inet.hbm
  - contrib/examples/uhttpd/uhttpdgd-inet.hbm
    - Removed files no longer necessary.

  * contrib/examples/uhttpd/uhttpd.hbm
    + Added comment about -DUSE_HB_INET option.
    % Removed -lhbct

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bin.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/contrib/examples/uhttpd/uhttpd.hbm
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c
    trunk/harbour/mpkg_win.bat
    trunk/harbour/source/common/hbfsapi.c
    trunk/harbour/source/lang/msg_tpl.c
    trunk/harbour/source/vm/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/contrib/examples/uhttpd/uhttpd-inet.hbm
    trunk/harbour/contrib/examples/uhttpd/uhttpdgd-inet.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Mar  6 05:18:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 05:12:48 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
Message-ID: <20090306101835.GA6932@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:

Hi,

> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL
> set HB_USER_LDFLAGS=/LTCG
> ---
> source\macro\win\msvc\macroy.c(3095) : warning C4701: potentially
> uninitialized local variable 'hb_macrolval' used
> source\vm\classes.c(462) : warning C4702: unreachable code
> source\compiler\hbpcode.c(599) : warning C4702: unreachable code
> source\compiler\hbpcode.c(549) : warning C4702: unreachable code
> source\compiler\hbpcode.c(571) : warning C4702: unreachable code
> source\vm\classes.c(2940) : warning C4702: unreachable code
> source\compiler\win\msvc\harboury.c(7154) : warning C4701: potentially
> uninitialized local variable 'hb_complval' used

Wow, MS discovered Interprocedural Optimization (IPO).
This warnings are result of such optimization. Just simply now
MS knows that hb_errInternal() does not return and mark all code
below as unused.
IPO really nicely increase the speed. For speedtst and -gc3 it
gives ~15 speed improvement.
It's very simple trick. To .obj file some meta code is attached
and compiler is integrated with linker. Final binaries are not created
by linking already compiled binary code in .obj files but instead meta
code is extracted linker creates one big application in meta code and
these whole application is optimized by the compiler integrated with
linker and then final code is generated. It means that optimizations
can be done between different .c file just like for single .c file.
in sqlite3.c code we have authors joined all files into single one
to reach the same effect manually.

> The more grave problem is that Harbour executables won't start,
> but show this instead:
> ---
> Unrecoverable error 9998: Screen driver initialization failure
> ---

Becase we have some GT and RDD C REQUESTs just after hb_errInternal().
Now MSVC detects that this function never returns (it has at the and
exit()) and simply removed all code which is after thius function,
f.e. hbgtcore[3359]:
   hb_errInternal( 9998, "Screen driver initialization failure", NULL, NULL );

   /* force linking HB_GTSYS() */
   HB_FUNC_EXEC( HB_GTSYS );

If you want then you can cleanup all such bindings. But if MSVC
tries to be more clever then programmers then it won't help and
all such bindings in any locations will be pacified by optimizer.

> More on LTCG:
> http://msdn.microsoft.com/en-gb/magazine/cc301698.aspx
> _______________________________________________

As usual tone of words to describe very simple mechanism known from very
long time. "We are the leaders, wait for us."

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar  6 05:40:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 05:40:06 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <20090306101835.GA6932@uran.home.aster.pl>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
Message-ID: <18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>

Hi Przemek,


> > ---
> > source\macro\win\msvc\macroy.c(3095) : warning C4701: potentially
> > uninitialized local variable 'hb_macrolval' used
> > source\vm\classes.c(462) : warning C4702: unreachable code
> > source\compiler\hbpcode.c(599) : warning C4702: unreachable code
> > source\compiler\hbpcode.c(549) : warning C4702: unreachable code
> > source\compiler\hbpcode.c(571) : warning C4702: unreachable code
> > source\vm\classes.c(2940) : warning C4702: unreachable code
> > source\compiler\win\msvc\harboury.c(7154) : warning C4701: potentially
> > uninitialized local variable 'hb_complval' used
>
> Wow, MS discovered Interprocedural Optimization (IPO).


:)


> This warnings are result of such optimization. Just simply now
> MS knows that hb_errInternal() does not return and mark all code
> below as unused.


Yeah, I know, I will now go an correct these warnings.


> IPO really nicely increase the speed. For speedtst and -gc3 it
> gives ~15 speed improvement.


Sounds good, I'll make some real life tests with a big app,
I'd also like to see how executable size is changed.


> > The more grave problem is that Harbour executables won't start,
>
> but show this instead:
> > ---
> > Unrecoverable error 9998: Screen driver initialization failure
> > ---
>
> Becase we have some GT and RDD C REQUESTs just after hb_errInternal().
> Now MSVC detects that this function never returns (it has at the and
> exit()) and simply removed all code which is after thius function,
> f.e. hbgtcore[3359]:
>   hb_errInternal( 9998, "Screen driver initialization failure", NULL, NULL
> );
>
>   /* force linking HB_GTSYS() */
>   HB_FUNC_EXEC( HB_GTSYS );
>
> If you want then you can cleanup all such bindings. But if MSVC
> tries to be more clever then programmers then it won't help and
> all such bindings in any locations will be pacified by optimizer.


Many thanks for the tip. I'll fix these.


> > http://msdn.microsoft.com/en-gb/magazine/cc301698.aspx
> > _______________________________________________
>
> As usual tone of words to describe very simple mechanism known from very
> long time. "We are the leaders, wait for us."


At least they've admitted they didn't invent it, albeit in a pretty
toned down fashion :) Anyhow this reading helped me to understand
the concept, the first few paragraph is enough, and one can ignore
all the .NET pitch (but in many ways it's related to Harbour pcode,
so it may be interesting still).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/8c4a6031/attachment.html
From harbour.01 at syenar.hu  Fri Mar  6 05:47:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 05:47:40 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
Message-ID: <18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>

>
> f.e. hbgtcore[3359]:
>>   hb_errInternal( 9998, "Screen driver initialization failure", NULL, NULL
>> );
>>
>>   /* force linking HB_GTSYS() */
>>   HB_FUNC_EXEC( HB_GTSYS );
>>
>> If you want then you can cleanup all such bindings. But if MSVC
>> tries to be more clever then programmers then it won't help and
>> all such bindings in any locations will be pacified by optimizer.
>
>
> Many thanks for the tip. I'll fix these.
>

I've moved HB_FUNC_EXEC() to the top of the function,
but MSVC is smart enough to optimize it out.

There is '__declspec( noinline )' maybe we should have
a HB_FUNC_ANNOUNCE() or similar way to declare such function,
having this modifier. What do you think?

So:
HB_FUNC_ANNOUNCE( HB_GTSYS ) {}

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/09b8568d/attachment.html
From druzus at users.sourceforge.net  Fri Mar  6 05:49:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar  6 05:49:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10554] trunk/harbour
Message-ID: <E1LfXcX-0005hl-84@3kljzd1.ch3.sourceforge.com>

Revision: 10554
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10554&view=rev
Author:   druzus
Date:     2009-03-06 10:49:35 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 11:55 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/usrrdd/usrrdd.c
    ! removed unnecessary declaration

  * harbour/source/compiler/harbour.yyc
    ! removed unnecessary ";"

  * harbour/source/vm/classes.c
  * harbour/source/compiler/hbpcode.c
    * pacified some warnings for compilers which can detect that
      hb_errInternal() does not returns

  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
  * harbour/contrib/rddads/adsx.c
    * marked all places where we put some link time bindings after
      hb_errInternal() as: /* not executed, only to force linking ... */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/source/compiler/harbour.yyc
    trunk/harbour/source/compiler/hbpcode.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rdd/usrrdd/usrrdd.c
    trunk/harbour/source/rtl/hbgtcore.c
    trunk/harbour/source/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Mar  6 06:02:23 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 05:56:36 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
Message-ID: <20090306110223.GA17189@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > IPO really nicely increase the speed. For speedtst and -gc3 it
> > gives ~15 speed improvement.
> Sounds good, I'll make some real life tests with a big app,
> I'd also like to see how executable size is changed.

Ups. it should be 15%. But it's maximum I could reach with some
additional tricks. But I compared it to some other binaries also
tuned so maybe the results will be different in your case. I'm really
interesting.
We have very fast computers now with a lot of memory so IPO begins
to be serious option even for big applications.

> > If you want then you can cleanup all such bindings. But if MSVC
> > tries to be more clever then programmers then it won't help and
> > all such bindings in any locations will be pacified by optimizer.
> Many thanks for the tip. I'll fix these.

I've just committed small modification which marks all such places as:
   /* not executed, only to force linking ... */
HTH,

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar  6 06:11:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 06:11:08 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
Message-ID: <18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>

It doesn't seem to be enough, and no wonder, if LTCG is handling functions
separately, we cannot use such
method to pull the complete .obj it's residing in.

Maybe moving stuff inside these ANNOUNCE functions
could work, but I don't know how to do that.

Brgds,
Viktor

On Fri, Mar 6, 2009 at 11:47 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> f.e. hbgtcore[3359]:
>>>   hb_errInternal( 9998, "Screen driver initialization failure", NULL,
>>> NULL );
>>>
>>>   /* force linking HB_GTSYS() */
>>>   HB_FUNC_EXEC( HB_GTSYS );
>>>
>>> If you want then you can cleanup all such bindings. But if MSVC
>>> tries to be more clever then programmers then it won't help and
>>> all such bindings in any locations will be pacified by optimizer.
>>
>>
>> Many thanks for the tip. I'll fix these.
>>
>
> I've moved HB_FUNC_EXEC() to the top of the function,
> but MSVC is smart enough to optimize it out.
>
> There is '__declspec( noinline )' maybe we should have
> a HB_FUNC_ANNOUNCE() or similar way to declare such function,
> having this modifier. What do you think?
>
> So:
> HB_FUNC_ANNOUNCE( HB_GTSYS ) {}
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/b037cb41/attachment.html
From druzus at acn.waw.pl  Fri Mar  6 06:19:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 06:13:28 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
Message-ID: <20090306111915.GA1878@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:
> > f.e. hbgtcore[3359]:
> >>   hb_errInternal( 9998, "Screen driver initialization failure", NULL, NULL
> >> );
> >>   /* force linking HB_GTSYS() */
> >>   HB_FUNC_EXEC( HB_GTSYS );
> >> If you want then you can cleanup all such bindings. But if MSVC
> >> tries to be more clever then programmers then it won't help and
> >> all such bindings in any locations will be pacified by optimizer.
> I've moved HB_FUNC_EXEC() to the top of the function,
> but MSVC is smart enough to optimize it out.

I was afraid that it may happen.

> There is '__declspec( noinline )' maybe we should have
> a HB_FUNC_ANNOUNCE() or similar way to declare such function,
> having this modifier. What do you think?

It still may not be enough.
It's possible that MSVC divides the module gtsys.o into peaces
and inline only pure HB_GTSYS function ignoring the HB_GT_REQUEST()
part. Just try and tell us if it helps but not commit it yet.
It's not portable solution and does not have to work in all cases.
In the worst case we will have to store explicitly function references
in some table and it's possible that we will have to use real functions
because some compilers may merge all functions with the same body
(empty in our case) into single one.
Maybe MSVC has a switch to control used module/bindings stripping.
It also may resolve the problem.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Fri Mar  6 06:38:33 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  6 06:38:38 2009
Subject: [Harbour] PelleC - Permitted to be included in
	Harbour'sReady-to-use Distro
References: <22353245.post@talk.nabble.com><609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com><18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com><609353e70903051531t466d252fu48152e909562248f@mail.gmail.com><18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com>
	<22363864.post@talk.nabble.com>
Message-ID: <EA037FEBEE8D4D04ADDAA973DA8890C4@emag>


-----Messaggio Originale----- 
Da: "Pritpal Bedi" <bedipritpal@hotmail.com>
A: <harbour@harbour-project.org>
Data invio: venerd? 6 marzo 2009 1.22
Oggetto: Re: [Harbour] PelleC - Permitted to be included in 
Harbour'sReady-to-use Distro


> as of 07:50 pacific time 05Mar2009:
> 106 hits 2,483,168,000,000 bytes transfers.
>
> Probably it amounts to 45 downloads as distro is about 57 mb.

?

45 * 57 Mb = 2689597440 bytes

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Fri Mar  6 07:04:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 06:58:28 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
Message-ID: <20090306120414.GA11856@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:
> It doesn't seem to be enough, and no wonder, if LTCG is handling functions
> separately, we cannot use such
> method to pull the complete .obj it's residing in.
> Maybe moving stuff inside these ANNOUNCE functions
> could work, but I don't know how to do that.

As I expected.
First try to check what MSVC exactly does.
It's possible that it also strips startup initialization code.
Set default GT to GTSTD.
Add to hvm.c[7514] just after:
   hb_vmVerifyPCodeVersion( szModuleName, uiPCodeVer );
this code:
   printf("registering module: `%s`\n", szModuleName);fflush(stdout);

and check if startup code is executed and modules are registers.
Please make this test for two versions: pure C build (/TC) and C++
build (/TP). It's possible that the behavior will be different.
It will give basic information about farther modifications.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Mar  6 07:00:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar  6 07:00:24 2009
Subject: [Harbour] PelleC - Permitted to be included in 
	Harbour'sReady-to-use Distro
In-Reply-To: <EA037FEBEE8D4D04ADDAA973DA8890C4@emag>
References: <22353245.post@talk.nabble.com>
	<609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com>
	<18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com>
	<609353e70903051531t466d252fu48152e909562248f@mail.gmail.com>
	<18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com>
	<22363864.post@talk.nabble.com>
	<EA037FEBEE8D4D04ADDAA973DA8890C4@emag>
Message-ID: <609353e70903060400l50c16e59jafdf8e19abfb848d@mail.gmail.com>

2,5 Gb2565 Mb

2009/3/6 Enrico Maria Giordano <e.m.giordano@emagsoftware.it>

>
> -----Messaggio Originale----- Da: "Pritpal Bedi" <bedipritpal@hotmail.com>
> A: <harbour@harbour-project.org>
> Data invio: venerd? 6 marzo 2009 1.22
> Oggetto: Re: [Harbour] PelleC - Permitted to be included in
> Harbour'sReady-to-use Distro
>
>
>  as of 07:50 pacific time 05Mar2009:
>> 106 hits 2,483,168,000,000 bytes transfers.
>>
>> Probably it amounts to 45 downloads as distro is about 57 mb.
>>
>
> ?
>
> 45 * 57 Mb = 2689597440 bytes
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/f7b5f92f/attachment.html
From harbour.01 at syenar.hu  Fri Mar  6 07:03:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 07:03:19 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <20090306111915.GA1878@uran.home.aster.pl>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<20090306111915.GA1878@uran.home.aster.pl>
Message-ID: <18d502870903060403q3362be18gf2f067ffd905397e@mail.gmail.com>

>
> > I've moved HB_FUNC_EXEC() to the top of the function,
> > but MSVC is smart enough to optimize it out.
>
> I was afraid that it may happen.
>
> > There is '__declspec( noinline )' maybe we should have
> > a HB_FUNC_ANNOUNCE() or similar way to declare such function,
> > having this modifier. What do you think?
>
> It still may not be enough.


Yes, it wasn't. (or I'm doing some basic mistake)


> It's possible that MSVC divides the module gtsys.o into peaces
> and inline only pure HB_GTSYS function ignoring the HB_GT_REQUEST()
> part. Just try and tell us if it helps but not commit it yet.
> It's not portable solution and does not have to work in all cases.
> In the worst case we will have to store explicitly function references
> in some table and it's possible that we will have to use real functions
> because some compilers may merge all functions with the same body
> (empty in our case) into single one.
> Maybe MSVC has a switch to control used module/bindings stripping.
> It also may resolve the problem.


http://msdn.microsoft.com/en-us/library/xsa71f43.aspx
/Gy (Enable Function-Level Linking)

is the closest thing I could find, but it's disabled by default, and even
force disabling it didn't help. The problem is I cannot visually confirm
the effect of these changes, since there is no .obj file.

Maybe we need to make these modules registered on init like we
do with some other things.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/a7374f58/attachment.html
From gfilatov at front.ru  Fri Mar  6 07:10:55 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Fri Mar  6 07:10:59 2009
Subject: [Harbour] ISDISK() issues
Message-ID: <22371305.post@talk.nabble.com>


Hi All,

I've a problem with function ISDISK() after last SVN changes.
The following sample returns FALSE for existing floppy drive:
   proc main()
      ? ISDISK("A")  // show .F.
   return

Can somebody confirm this issues?

--
Kind Regards,
Grigory Filatov
-- 
View this message in context: http://www.nabble.com/ISDISK%28%29-issues-tp22371305p22371305.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From soporte at dsgsoftware.com  Fri Mar  6 07:12:39 2009
From: soporte at dsgsoftware.com (=?iso-8859-1?Q?Juan_G=E1lvez?=)
Date: Fri Mar  6 07:12:57 2009
Subject: [Harbour] Error building hbrun
Message-ID: <006d01c99e54$e16b5900$6c01a8c0@PcJuanxp>

Hi all,

I'm trying to build Harbour (current svn) and I get this error :

bcc32.exe -4 -O2 -OS -Ov -Oi -Oc -q -d -Q -w -w-sig- -tWM -ehbrun.exe 
hbrun.obj -L../../../../lib/win/bcc   ../../../../lib/win/bcc/hbextern.lib 
../../../../lib/win/bcc/hbdebug.lib  ../../../../lib/win/bcc/hbvm.lib 
../../../../lib/win/bcc/hbrtl.lib  ../../../../lib/win/bcc/hblang.lib 
../../../../lib/win/bcc/hbcpage.lib  ../../../../lib/win/bcc/hbrdd.lib 
../../../../lib/win/bcc/hbrtl.lib  ../../../../lib/win/bcc/hbvm.lib 
../../../../lib/win/bcc/hbmacro.lib  ../../../../lib/win/bcc/hbpp.lib 
../../../../lib/win/bcc/hbcplr.lib  ../../../../lib/win/bcc/hbcommon.lib 
../../../../lib/win/bcc/hbpcre.lib  ../../../../lib/win/bcc/hbzlib.lib 
../../../../lib/win/bcc/rddntx.lib  ../../../../lib/win/bcc/rddnsx.lib 
../../../../lib/win/bcc/rddcdx.lib  ../../../../lib/win/bcc/rddfpt.lib 
../../../../lib/win/bcc/hbsix.lib  ../../../../lib/win/bcc/hbhsx.lib 
../../../../lib/win/bcc/hbusrrdd.lib  ../../../../lib/win/bcc/hbuddall.lib 
../../../../lib/win/bcc/gtcgi.lib  ../../../../lib/win/bcc/gtpca.lib 
../../../../lib/win/bcc/gtstd.lib  ../../../../lib/win/bcc/gtwin.lib 
../../../../lib/win/bcc/gtwvt.lib  ../../../../lib/win/bcc/gtgui.lib
Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from 
C:\UTL\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tget 

Any suggestion ?

Many thanks
Juan
From harbour.01 at syenar.hu  Fri Mar  6 07:20:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 07:20:54 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <20090306120414.GA11856@uran.home.aster.pl>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
Message-ID: <18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>

>
> First try to check what MSVC exactly does.
> It's possible that it also strips startup initialization code.
> Set default GT to GTSTD.
> Add to hvm.c[7514] just after:
>   hb_vmVerifyPCodeVersion( szModuleName, uiPCodeVer );
> this code:
>   printf("registering module: `%s`\n", szModuleName);fflush(stdout);
>
> and check if startup code is executed and modules are registers.
> Please make this test for two versions: pure C build (/TC) and C++
> build (/TP). It's possible that the behavior will be different.
> It will give basic information about farther modifications.


I've checked with these settings:
set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL -TP
set HB_USER_LDFLAGS=/LTCG
set HB_USER_AFLAGS=/LTCG

And the text "registering module" isn't even present in the
final Harbour executables. So it looks a bit worse than expected.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/005c9b14/attachment.html
From harbour.01 at syenar.hu  Fri Mar  6 07:27:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 07:27:40 2009
Subject: [Harbour] ISDISK() issues
In-Reply-To: <22371305.post@talk.nabble.com>
References: <22371305.post@talk.nabble.com>
Message-ID: <18d502870903060427q68c8d052x843c1fdc793e3c66@mail.gmail.com>

Yes.
? IsDisk( "C" ) -> .F.
? IsDisk( "c" ) -> .F.

Brgds,
Viktor

On Fri, Mar 6, 2009 at 1:10 PM, Grigory Filatov <gfilatov@front.ru> wrote:

>
> Hi All,
>
> I've a problem with function ISDISK() after last SVN changes.
> The following sample returns FALSE for existing floppy drive:
>   proc main()
>      ? ISDISK("A")  // show .F.
>   return
>
> Can somebody confirm this issues?
>
> --
> Kind Regards,
> Grigory Filatov
> --
> View this message in context:
> http://www.nabble.com/ISDISK%28%29-issues-tp22371305p22371305.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/27e90103/attachment.html
From e.m.giordano at emagsoftware.it  Fri Mar  6 07:31:02 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  6 07:31:08 2009
Subject: [Harbour] PelleC - Permitted to be included in
	Harbour'sReady-to-use Distro
References: <22353245.post@talk.nabble.com><609353e70903051521v3b1fef99p840e243a8fd98670@mail.gmail.com><18d502870903051523l6d8636a6t951ee1c96cf26c0d@mail.gmail.com><609353e70903051531t466d252fu48152e909562248f@mail.gmail.com><18d502870903051545w16b3ef94o1353d200f84bb640@mail.gmail.com><22363864.post@talk.nabble.com><EA037FEBEE8D4D04ADDAA973DA8890C4@emag>
	<609353e70903060400l50c16e59jafdf8e19abfb848d@mail.gmail.com>
Message-ID: <B504F4744D5543559378BF4051EC5AA7@emag>


-----Messaggio Originale----- 
Da: "Massimo Belgrano" <mbelgrano@deltain.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 6 marzo 2009 13.00
Oggetto: Re: [Harbour] PelleC - Permitted to be included in 
Harbour'sReady-to-use Distro


> 2,5 Gb2565 Mb

?

2,483,168,000,000 bytes are about 2312 Gb.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Fri Mar  6 08:01:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 07:55:30 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
Message-ID: <20090306130115.GA17923@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:
> > and check if startup code is executed and modules are registers.
> > Please make this test for two versions: pure C build (/TC) and C++
> > build (/TP). It's possible that the behavior will be different.
> > It will give basic information about farther modifications.
> I've checked with these settings:
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL -TP
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> And the text "registering module" isn't even present in the
> final Harbour executables. So it looks a bit worse than expected.

I hope you are creating console application so printf() works.
Have you tested it without /LTCG?
And please do not try to intorduce too mant switches at once because
it will be hard to check which one change the behavior. What -GL does?
Next check pure C compilation. I would like to know if it also does not
work. Use hbrun as test application.
The fact that C++ initialization does not work is very strange for me.
Looks like a bug. This code:
   static PHB_SYMB symbols = hb_vmProcessSymbolsEx( ... ); \
_have_to_ be executed if MSVC supports C++ basic standards.
I've just check hbinit.h and we still have this code:

#if defined(_MSC_VER) && \
    !defined(__LCC__) && !defined(__POCC__) && !defined(__XCC__) && \
    !defined(HB_STRICT_ANSI_C) && !defined(HB_STATIC_STARTUP) && \
    !defined(HB_PRAGMA_STARTUP) && !defined(HB_MSC_STARTUP)

   /* In order to maintain compatibility with other products, MSVC should
      always use this startup.  If you know that you can use HB_STATIC_STARTUP
      below, then all you need to do is define HB_STATIC_STARTUP to the
      compiler.

      Sat 07 Maj 2005 02:46:38 CEST
      This is only necessary when you want to create binary libs using
      MSC in C++ mode (-TP switch) and later this binaries will be linked
      by standard C linker with [x]Harbour programs. I strongly suggest
      to for 3-rd party developers to use MSC in standard C mode to create
      libraries which can be used with standard C compilers. This will
      eliminate the problem and we will be able to set C++ initialization
      as default for MSC in C++ mode. Druzus.
   */

   #define HB_MSC_STARTUP

#endif


Try to comment:
   #define HB_MSC_STARTUP

and rebuild whole Harbour code.

best regards,
Przemek
From gfilatov at front.ru  Fri Mar  6 08:23:37 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Fri Mar  6 08:23:40 2009
Subject: [Harbour] ISDISK() issues
In-Reply-To: <18d502870903060427q68c8d052x843c1fdc793e3c66@mail.gmail.com>
References: <22371305.post@talk.nabble.com>
	<18d502870903060427q68c8d052x843c1fdc793e3c66@mail.gmail.com>
Message-ID: <22372359.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> Yes.
> ? IsDisk( "C" ) -> .F.
> ? IsDisk( "c" ) -> .F.
> 
> 

Viktor,

Is it right?
This function works properly before toupper()/tolower() elimination.

--
Regards,
Grigory Filatov


-- 
View this message in context: http://www.nabble.com/ISDISK%28%29-issues-tp22371305p22372359.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kleyber at tkinformidia.net  Fri Mar  6 08:43:54 2009
From: kleyber at tkinformidia.net (Kleyber Derick)
Date: Fri Mar  6 08:44:16 2009
Subject: [Harbour] How to disable this
References: <86C1A8E80D864E609777E63C703BD2E4@particular>
	<609353e70903051810g5f855d0cm37b7bc4f33ff0549@mail.gmail.com>
Message-ID: <55154E5620C546DB8D7ADCF4DC0CECDB@particular>

Thanks Massimo.

Kleyber
  ----- Original Message ----- 
  From: Massimo Belgrano 
  To: Harbour Project Main Developer List. 
  Sent: Thursday, March 05, 2009 11:10 PM
  Subject: Re: [Harbour] How to disable this


  Login at http://lists.harbour-project.org/mailman/listinfo/harbour  then coice  unsubscribe or edit option


  Scroll down you found


  Set Digest Mode
  If you turn digest mode on, you'll get posts bundled together (usually one per day but possibly more on busy lists), instead of singly when they're sent. If digest mode is changed from on to off, you may receive one last digest.







  But i suggest receive single and create a rule for moving in a reserved area because single mail are more easy read ,search and reply you can read only once a day



  2009/3/6 Kleyber Derick <kleyber@tkinformidia.net>

    Hi,

    How to disable this option in my list account: Would you like to receive list mail batched in a daily digest?

    I think because of it, I just receiving all emails just once a day in my OE.

    Thanks in advance,

    Kleyber Derick


    _______________________________________________
    Harbour mailing list
    Harbour@harbour-project.org
    http://lists.harbour-project.org/mailman/listinfo/harbour





  -- 
  Massimo Belgrano

  Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
  Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962



------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/7bce6c45/attachment.html
From harbour.01 at syenar.hu  Fri Mar  6 09:19:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 09:19:11 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <20090306130115.GA17923@uran.home.aster.pl>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
Message-ID: <18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>

>
> > I've checked with these settings:
> > set HB_COMPILER=msvc
> > set HB_USER_CFLAGS=-GL -TP
> > set HB_USER_LDFLAGS=/LTCG
> > set HB_USER_AFLAGS=/LTCG
> > And the text "registering module" isn't even present in the
> > final Harbour executables. So it looks a bit worse than expected.
>
> I hope you are creating console application so printf() works.


It's the default build besides above switches, so yes it's console.
(I can see the screen driver init failure message, too)

These settings:
---
set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL -TP
set HB_USER_LDFLAGS=/LTCG
set HB_USER_AFLAGS=/LTCG
call make_gnu.bat clean install > out.txt 2>&1
---


> Have you tested it without /LTCG?


Yes, now I did and I can see lots of 'registrering module'
messages when starting hbrun.

---
set HB_CONTRIBLIBS=no
set HB_COMPILER=msvc
call make_gnu.bat clean install > out.txt 2>&1
---

[ Pure latest SVN, with hvm.c modification, using MSVC 2008 ]


> And please do not try to intorduce too mant switches at once because
> it will be hard to check which one change the behavior. What -GL does?


-GL enables LTCG on the compiler level.

The other two /LTCG switches will start link/lib in LTCG mode,
it's optional because they will automatically switch to LTCG mode
if they have to process such IL objects anyway, but this way they
don't have to restart themselves, so it's more efficient (and the
warning regarding the above is gone).


> Next check pure C compilation. I would like to know if it also does not
> work. Use hbrun as test application.


No 'registering module' output:
---
set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL
set HB_USER_LDFLAGS=/LTCG
set HB_USER_AFLAGS=/LTCG
call make_gnu.bat clean install > out.txt 2>&1
---


> The fact that C++ initialization does not work is very strange for me.
> Looks like a bug. This code:
>   static PHB_SYMB symbols = hb_vmProcessSymbolsEx( ... ); \
> _have_to_ be executed if MSVC supports C++ basic standards.
> Try to comment:
>   #define HB_MSC_STARTUP
>
> and rebuild whole Harbour code.


With:
hbinit.h: /* #define HB_MSC_STARTUP */

---
set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL
set HB_USER_LDFLAGS=/LTCG
set HB_USER_AFLAGS=/LTCG
call make_gnu.bat clean install > out.txt 2>&1
---
-> ../../../../include\hbinit.h(224) : fatal error C1189: #error :  Unknown
initialization method.

---
set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL -TP
set HB_USER_LDFLAGS=/LTCG
set HB_USER_AFLAGS=/LTCG
call make_gnu.bat clean install > out.txt 2>&1
---
-> Works!

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/13354ee3/attachment.html
From harbour.01 at syenar.hu  Fri Mar  6 09:29:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 09:29:20 2009
Subject: [Harbour] ISDISK() issues
In-Reply-To: <22372359.post@talk.nabble.com>
References: <22371305.post@talk.nabble.com>
	<18d502870903060427q68c8d052x843c1fdc793e3c66@mail.gmail.com>
	<22372359.post@talk.nabble.com>
Message-ID: <18d502870903060629o56b92953y934d386ef9c31e32@mail.gmail.com>

Hi Grigory,

It's not right, but I can't see why. Was it okay before this change? [ I've
never used this function. ]

Here's the change:
https://apps.sourceforge.net/trac/harbour-project/changeset/10186

http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/source/rtl/dirdrive.c?view=log
http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/source/rtl/filesys.c?view=log

Brgds,
Viktor

On Fri, Mar 6, 2009 at 2:23 PM, Grigory Filatov <gfilatov@front.ru> wrote:

>
>
>
> Viktor Szak?ts wrote:
> >
> > Yes.
> > ? IsDisk( "C" ) -> .F.
> > ? IsDisk( "c" ) -> .F.
> >
> >
>
> Viktor,
>
> Is it right?
> This function works properly before toupper()/tolower() elimination.
>
> --
> Regards,
> Grigory Filatov
>
>
> --
> View this message in context:
> http://www.nabble.com/ISDISK%28%29-issues-tp22371305p22372359.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/c5671b31/attachment-0001.html
From qiinfo at ig.com.br  Fri Mar  6 09:34:28 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar  6 09:34:32 2009
Subject: [Harbour] error in "override method"
Message-ID: <22373618.post@talk.nabble.com>


Hello,

Testing this samples:

[CODE]
#include "FiveWin.ch"

#ifdef __HARBOUR__
#ifndef __XHARBOUR__

   #include "\harbour\contrib\xhb\xhbcls.ch" 

#endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

**-----------*
** TCombobox *
**-----------*

#ifndef __CLIPPER__
   #define COMBO_BASE      320
#else
   #define COMBO_BASE  WM_USER
#endif

#define CB_SETITEMHEIGTH      ( COMBO_BASE + 19 )  && 339
#define CB_GETITEMHEIGTH      ( COMBO_BASE + 20 )  && 340

*************
function MAIN
*************

MY_CLASSES()

return NIL

*******************
function MY_CLASSES
*******************

override method GetMinVisible in class TCombobox  with
TComboboxGetMinVisible

return NIL

&&----------------------------------------------------------------------------&&

************************************** TCombobox
static function TComboboxGetMinVisible
**************************************

local Self := HB_QSelf()

return ::SendMsg( CB_GETMINVISIBLE, 0, 0 )     

[ENDCODE]

....generate this erro:

[ERROR]

   Error description: Error BASE/3000  Cannot modify INLINE method:
__CLSMODMSG

Stack Calls
===========
   Called from:  => __CLSMODMSG(0)
   Called from: over.prg => MY_CLASSES(36)
   Called from: over.prg => MAIN(28)

[ENDERROR]

How to resolve this ?

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/error-in-%22override-method%22-tp22373618p22373618.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Fri Mar  6 09:42:41 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Mar  6 09:43:16 2009
Subject: [Harbour] error in "override method"
In-Reply-To: <22373618.post@talk.nabble.com>
References: <22373618.post@talk.nabble.com>
Message-ID: <49B13661.1010403@fsgiudice.com>

Hi Rossine,

Il 06/03/2009 15.34, Rossine ha scritto:
> 
>    Error description: Error BASE/3000  Cannot modify INLINE method:
> __CLSMODMSG
> 
as it is written you are trying to modify an INLINE method with a 
function, instead you need to pass a codeblock.
Try this version, not tested

    #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> ;
                              WITH INLINE <code,...> [SCOPE <Scope>] => ;
             __clsModMsg( <Class>():classH, #<Message>, { |Self| 
HB_SYMBOL_UNUSED(Self), <code> } )

Best regards

Francesco

From harbour.01 at syenar.hu  Fri Mar  6 09:48:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 09:48:43 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
	<18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
Message-ID: <18d502870903060648g3cba8ea8o25b308cacfde8391@mail.gmail.com>

Hi Przemek,

So, to sum it up, we can conclude that MSVC non-C++-official startup method
isn't compatible with LTCG:

   #pragma section( HB_MSC_START_SEGMENT, long, read )
   #pragma data_seg( HB_MSC_START_SEGMENT )
   static HB_$INITSYM ...;
   #pragma data_seg()

No wonder, this was always a problematic point with MSVC,
and there doesn't seem to be an easy answer. Our current
solution is already so exotic, that it almost seems exclusive
to Harbour.

In any case we should enable the official init method for C++
mode.

Plus, maybe we should switch to C++ by default, or we should
have a pure .cpp stub which would deal with this issue, so that
other modules (including 3rd parties) can still be compiled in
C mode. I don't know if this is feasible.

Brgds,
Viktor

On Fri, Mar 6, 2009 at 3:19 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> > I've checked with these settings:
>> > set HB_COMPILER=msvc
>> > set HB_USER_CFLAGS=-GL -TP
>> > set HB_USER_LDFLAGS=/LTCG
>> > set HB_USER_AFLAGS=/LTCG
>> > And the text "registering module" isn't even present in the
>> > final Harbour executables. So it looks a bit worse than expected.
>>
>> I hope you are creating console application so printf() works.
>
>
> It's the default build besides above switches, so yes it's console.
> (I can see the screen driver init failure message, too)
>
> These settings:
> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL -TP
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
>
>
>> Have you tested it without /LTCG?
>
>
> Yes, now I did and I can see lots of 'registrering module'
> messages when starting hbrun.
>
> ---
> set HB_CONTRIBLIBS=no
> set HB_COMPILER=msvc
> call make_gnu.bat clean install > out.txt 2>&1
> ---
>
> [ Pure latest SVN, with hvm.c modification, using MSVC 2008 ]
>
>
>> And please do not try to intorduce too mant switches at once because
>> it will be hard to check which one change the behavior. What -GL does?
>
>
> -GL enables LTCG on the compiler level.
>
> The other two /LTCG switches will start link/lib in LTCG mode,
> it's optional because they will automatically switch to LTCG mode
> if they have to process such IL objects anyway, but this way they
> don't have to restart themselves, so it's more efficient (and the
> warning regarding the above is gone).
>
>
>> Next check pure C compilation. I would like to know if it also does not
>> work. Use hbrun as test application.
>
>
> No 'registering module' output:
> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
>
>
>> The fact that C++ initialization does not work is very strange for me.
>> Looks like a bug. This code:
>>   static PHB_SYMB symbols = hb_vmProcessSymbolsEx( ... ); \
>> _have_to_ be executed if MSVC supports C++ basic standards.
>> Try to comment:
>>   #define HB_MSC_STARTUP
>>
>> and rebuild whole Harbour code.
>>
>
> With:
> hbinit.h: /* #define HB_MSC_STARTUP */
>
> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
> -> ../../../../include\hbinit.h(224) : fatal error C1189: #error :  Unknown
> initialization method.
>
> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL -TP
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
> -> Works!
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/1a41fcdf/attachment.html
From druzus at acn.waw.pl  Fri Mar  6 10:10:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 10:04:23 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
	<18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
Message-ID: <20090306151009.GA22996@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:
> With:
> hbinit.h: /* #define HB_MSC_STARTUP */
> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
> -> ../../../../include\hbinit.h(224) : fatal error C1189: #error :  Unknown
> initialization method.

This is expected for pure C mode.

> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL -TP
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
> -> Works!

Fine. Have you also moved the link time bindings before hb_errInternal()
or it works with default SVN code?
For pure C mode you probably have to look for some workaround.
Maybe some magic MSVC #pragma can force linking given modules.

BTW you can force C++ like initialization by static variable assignment by:
   set HB_USER_CFLAGS=-DHB_STATIC_STARTUP
I left the massage about potential problems caused by pure C initialization
also in C++ mode in hbinit.h code on:
      Sat 07 Maj 2005 02:46:38 CEST
so it's nearly 4 years but I do not know if 3-rd part developers ever
tried to update their code. Maybe it's time to fully disable this hack?
If 4 years is not enough then next 10 also won't help.

best regards,
Przemek
From qiinfo at ig.com.br  Fri Mar  6 10:21:06 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar  6 10:21:10 2009
Subject: [Harbour] error in "override method"
In-Reply-To: <49B13661.1010403@fsgiudice.com>
References: <22373618.post@talk.nabble.com> <49B13661.1010403@fsgiudice.com>
Message-ID: <22374532.post@talk.nabble.com>


Hello Francesco,


Francesco Saverio Giudice wrote:
> 
> 
> as it is written you are trying to modify an INLINE method with a 
> function, instead you need to pass a codeblock.
> Try this version, not tested
> 
>     #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> ;
>                               WITH INLINE <code,...> [SCOPE <Scope>] => ;
>              __clsModMsg( <Class>():classH, #<Message>, { |Self| 
> HB_SYMBOL_UNUSED(Self), <code> } )
> 
> 

I did what you said, but gave the same error. See that with other classes,
this works. can reach at "msgstop( "-3-" ) :

[CODE]

#include "FiveWin.ch"

#ifdef __HARBOUR__
#ifndef __XHARBOUR__

   #include "\harbour\contrib\xhb\xhbcls.ch"

   #xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> ; 
                             WITH INLINE <code,...> [SCOPE <Scope>] => ; 
            __clsModMsg( <Class>():classH, #<Message>, { |Self|
HB_SYMBOL_UNUSED(Self), code> } ) 

#endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

#define CB_GETMINVISIBLE     5890 // 0x1702
#define CB_SETMINVISIBLE     5889 // 0x1701

*************
function MAIN
*************

MY_CLASSES()

return NIL

*******************
function MY_CLASSES
*******************

msgstop( "-1-" )
override method Activate      in class TDialog    with TDialogActivate

msgstop( "-2-" )
override method Command       in class TDialog    with TDialogCommand

msgstop( "-3-" )
override method GetMinVisible in class TCombobox  with
TComboboxGetMinVisible

msgstop( "-4-" )
override method SetMinVisible in class TCombobox  with
TComboboxSetMinVisible

msgstop( "-5-" )

return NIL

&&----------------------------------------------------------------------------&&

****************************** TDialog
static function TDialogActivate
******************************

   local Self := HB_QSelf()

return Self

&&----------------------------------------------------------------------------&&

****************************** TDialog
static function TDialogCommand
******************************

   local Self := HB_QSelf()

return Self

&&----------------------------------------------------------------------------&&

************************************** TCombobox
static function TComboboxGetMinVisible
**************************************

local Self := HB_QSelf()

return ::SendMsg( CB_GETMINVISIBLE, 0, 0 )     

&&----------------------------------------------------------------------------&&

************************************** TCombobox
static function TComboboxSetMinVisible( nItems )
**************************************

local Self := HB_QSelf()

return ::SendMsg( CB_SETMINVISIBLE, nItems, 0 )

&&----------------------------------------------------------------------------&&
[ENDCODE]

Any more suggestions?

Best regards

Rossine.

-- 
View this message in context: http://www.nabble.com/error-in-%22override-method%22-tp22373618p22374532.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar  6 10:34:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 10:34:23 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <20090306151009.GA22996@uran.home.aster.pl>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<20090306101835.GA6932@uran.home.aster.pl>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
	<18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
	<20090306151009.GA22996@uran.home.aster.pl>
Message-ID: <18d502870903060734s22b44ae5w668f14956bca5ccf@mail.gmail.com>

>
> Fine. Have you also moved the link time bindings before hb_errInternal()
> or it works with default SVN code?


Default SVN, with your last commit.


> For pure C mode you probably have to look for some workaround.
> Maybe some magic MSVC #pragma can force linking given modules.


That's probably impossible to find, maybe for someone very very
familiar with MSVC, or by rewriting default startup code (which is
also not working in LTCG, so we should IMO find some better
solution if that's possible at all.

Snippet from MS docs:
"If you use /LTCG and redefine mainCRTStartup, your application can have
unpredictable behavior relating to user code that executes before global
objects are initialized. There are three ways to address this issue: do not
redefine mainCRTStartup, do not compile the file containing mainCRTStartup
with /LTCG, or initialize global variables and objects statically, if
possible."


> BTW you can force C++ like initialization by static variable assignment by:
>   set HB_USER_CFLAGS=-DHB_STATIC_STARTUP
> I left the massage about potential problems caused by pure C initialization
> also in C++ mode in hbinit.h code on:
>       Sat 07 Maj 2005 02:46:38 CEST
> so it's nearly 4 years but I do not know if 3-rd part developers ever
> tried to update their code. Maybe it's time to fully disable this hack?
> If 4 years is not enough then next 10 also won't help.


:)

I'd say let's do it, now.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/a9458baf/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar  6 10:38:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 10:38:05 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060734s22b44ae5w668f14956bca5ccf@mail.gmail.com>
References: <18d502870903051734t6baed2d3mb907f3fc5baca3c@mail.gmail.com>
	<18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
	<18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
	<20090306151009.GA22996@uran.home.aster.pl>
	<18d502870903060734s22b44ae5w668f14956bca5ccf@mail.gmail.com>
Message-ID: <18d502870903060738o3ed17ecdk2226b5172e1b6f9a@mail.gmail.com>

>
> BTW you can force C++ like initialization by static variable assignment by:
>>   set HB_USER_CFLAGS=-DHB_STATIC_STARTUP
>> I left the massage about potential problems caused by pure C
>> initialization
>> also in C++ mode in hbinit.h code on:
>>       Sat 07 Maj 2005 02:46:38 CEST
>> so it's nearly 4 years but I do not know if 3-rd part developers ever
>> tried to update their code. Maybe it's time to fully disable this hack?
>> If 4 years is not enough then next 10 also won't help.
>
>
Tried with this:
---
set HB_COMPILER=msvc
set HB_USER_CFLAGS=-GL -DHB_STATIC_STARTUP
set HB_USER_LDFLAGS=/LTCG
set HB_USER_AFLAGS=/LTCG
call make_gnu.bat clean install > out.txt 2>&1
---
and got this:
../../pplib3.c(68) : error C2099: initializer is not a constant

What am I missing?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/2ce5e592/attachment.html
From druzus at acn.waw.pl  Fri Mar  6 11:05:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 10:59:27 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <18d502870903060738o3ed17ecdk2226b5172e1b6f9a@mail.gmail.com>
References: <18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060247p59a7fc0x95763ca60d0b4db1@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
	<18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
	<20090306151009.GA22996@uran.home.aster.pl>
	<18d502870903060734s22b44ae5w668f14956bca5ccf@mail.gmail.com>
	<18d502870903060738o3ed17ecdk2226b5172e1b6f9a@mail.gmail.com>
Message-ID: <20090306160508.GA3655@uran.home.aster.pl>

On Fri, 06 Mar 2009, Szak?ts Viktor wrote:
> > BTW you can force C++ like initialization by static variable assignment by:
> >>   set HB_USER_CFLAGS=-DHB_STATIC_STARTUP
> >> I left the massage about potential problems caused by pure C
> >> initialization
> >> also in C++ mode in hbinit.h code on:
> >>       Sat 07 Maj 2005 02:46:38 CEST
> >> so it's nearly 4 years but I do not know if 3-rd part developers ever
> >> tried to update their code. Maybe it's time to fully disable this hack?
> >> If 4 years is not enough then next 10 also won't help.
> Tried with this:
> ---
> set HB_COMPILER=msvc
> set HB_USER_CFLAGS=-GL -DHB_STATIC_STARTUP
> set HB_USER_LDFLAGS=/LTCG
> set HB_USER_AFLAGS=/LTCG
> call make_gnu.bat clean install > out.txt 2>&1
> ---
> and got this:
> ../../pplib3.c(68) : error C2099: initializer is not a constant
> What am I missing?

C standard does not allow such initialization. It can be used only in C++
mode and with some C compilers which enable silently some C++ extensions.

BTW The only one reason why we use C++ mode for OpenWatcom builds is missing
startup initialization in pure C mode. At least I do not know how to reach
such functionality with this compiler in C.
In the past I was thinking about disabling startup initialization at all
but it has to intorduce some incompatibilities to current and Clipper
behavior so I dropped it. We can return to this idea when we will have
not other choice in some Harbour ports.

best regards,
Przemek

ps. I'll disable HB_MSC_STARTUP for MSVC C++ mode in a while.
From druzus at users.sourceforge.net  Fri Mar  6 11:02:56 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar  6 11:03:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10555] trunk/harbour
Message-ID: <E1LfcVk-00080N-MC@d5vjzd1.ch3.sourceforge.com>

Revision: 10555
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10555&view=rev
Author:   druzus
Date:     2009-03-06 16:02:50 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 17:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbinit.h
    * disabled HB_MSC_STARTUP in C++ MSVC builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbinit.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar  6 11:10:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar  6 11:10:51 2009
Subject: [Harbour] MSVC issues with LTCG option
In-Reply-To: <20090306160508.GA3655@uran.home.aster.pl>
References: <18d502870903060240i8535227r5f57214b40057ce9@mail.gmail.com>
	<18d502870903060311s7f1c4914vf09ad5da11ec0045@mail.gmail.com>
	<20090306120414.GA11856@uran.home.aster.pl>
	<18d502870903060420u56c9f226v9736e0d2e88011ff@mail.gmail.com>
	<20090306130115.GA17923@uran.home.aster.pl>
	<18d502870903060619x32eae7f6n3ddab065af56215d@mail.gmail.com>
	<20090306151009.GA22996@uran.home.aster.pl>
	<18d502870903060734s22b44ae5w668f14956bca5ccf@mail.gmail.com>
	<18d502870903060738o3ed17ecdk2226b5172e1b6f9a@mail.gmail.com>
	<20090306160508.GA3655@uran.home.aster.pl>
Message-ID: <18d502870903060810u4715b998q7b8758e140c91d03@mail.gmail.com>

>
> > ../../pplib3.c(68) : error C2099: initializer is not a constant
> > What am I missing?
>
> C standard does not allow such initialization. It can be used only in C++
> mode and with some C compilers which enable silently some C++ extensions.
>
> BTW The only one reason why we use C++ mode for OpenWatcom builds is
> missing
> startup initialization in pure C mode. At least I do not know how to reach
> such functionality with this compiler in C.
> In the past I was thinking about disabling startup initialization at all
> but it has to intorduce some incompatibilities to current and Clipper
> behavior so I dropped it. We can return to this idea when we will have
> not other choice in some Harbour ports.


I think we should consider this. This is a crucial part, yet probably
the less portable and the most exotic (non-standard) workaround
we have to use in Harbour.

It's not the first time we stumble into this, last time it was pure C mode
in 64-bit and it took quite a few month until I could find a solution.
It wouldn't surprise me if this couldn't be portable as-is to AI64 for
example. I remember that it was a similar huge job to find out the
C mode initialization trick for 16/32-bit mode. Paul Tucker found it
back then.


> ps. I'll disable HB_MSC_STARTUP for MSVC C++ mode in a while.


Many thanks, I see you've done it already.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090306/64e88622/attachment.html
From bedipritpal at hotmail.com  Fri Mar  6 11:28:48 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar  6 11:28:51 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <20090305202553.GA17784@uran.home.aster.pl>
References: <22344045.post@talk.nabble.com>
	<20090305114633.GA32132@uran.home.aster.pl>
	<22358456.post@talk.nabble.com>
	<20090305202553.GA17784@uran.home.aster.pl>
Message-ID: <22375824.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> /* compiled and linked by PellesC 4.50.15:
>  *    pocc.exe -Ox test.c && polink.exe t.obj
>  */
> 
> void * somefunc( void ) { return 0; }
> 
> void * func_ok( void )
> {
>    void ** gtHolder = ( void ** ) somefunc();
> 
>    if( gtHolder )
>       return *gtHolder;
>    else
>       return 0;
> }
> 
> void * func_gpf( void )
> {
>    void ** gtHolder = ( void ** ) somefunc();
>    void * pGT = 0;
> 
>    if( gtHolder )
>       pGT = *gtHolder;
>    return pGT;
> }
> 
> int main( void )
> {
>    func_ok();
>    func_gpf();
> 
>    return 0;
> }
> 

Here is the reply of Pelle Orinius:

Hello, 

> Here is self contained C code which GPFs. OK, thanks. The -Ox option will
> enable Pentium Pro+ instructions, and enable -Ot (optimize for speed) -
> since neither -Os nor -Ot was specified. The problem is with one of the
> Pentium Pro+ instructions (conditional move), that will evaluate *all* of
> it's operands - even if they are not all used in the end, i.e. the move is
> actually performed. If one of the operands is an invalid address, it will
> GPF. Bummer. 

Version 4.50 is old, so I will not make any more bug-fixes in that version.
I will look at fixing this in the current version, 5.00. 

When it comes to optimizations, the -Ot option (in this case) is the much
more important than -Ox. The -Ox option will only rarely find things to
optimize, and in your case it will cause a GPF. I suggest you skip the -Ox
option and just use the -Ot option for now... 

Pelle 



Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/hb_gt_ItemBase%28%29-and-PellesC-tp22344045p22375824.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Mar  6 11:34:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar  6 11:34:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10556] trunk/harbour
Message-ID: <E1Lfd0C-0000X0-E2@d5vjzd1.ch3.sourceforge.com>

Revision: 10556
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10556&view=rev
Author:   vszakats
Date:     2009-03-06 16:34:23 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 17:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/Makefile
    * Minor reordering.

  * config/win/poccce.cf
  * config/win/pocc.cf
    ! Turned off -Ox, left -Ot.
      "When it comes to optimizations, the -Ot option (in this case) is the much
       more important than -Ox. The -Ox option will only rarely find things to
       optimize, and in your case it will cause a GPF. I suggest you skip the -Ox
       option and just use the -Ot option for now...
       Pelle"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/utils/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Fri Mar  6 11:35:52 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar  6 11:35:55 2009
Subject: [Harbour] error in "override method"
In-Reply-To: <22374532.post@talk.nabble.com>
References: <22373618.post@talk.nabble.com> <49B13661.1010403@fsgiudice.com>
	<22374532.post@talk.nabble.com>
Message-ID: <22375970.post@talk.nabble.com>


Hello Francesco,

I use this in xharbour:

// Extend Classes
#xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <!Class!> WITH [METHOD]
<!Method!> [SCOPE <Scope>] => ;
  <Class>(); __clsModMsg( __ClsGetHandleFromName( #<Class> ), #<Message>,
@<Method>(), IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )

// EXTEND native type classes.
#xcommand OVERRIDE METHOD <!Message!> [IN] CLASS <type: ARRAY, BLOCK,
CHARACTER, DATE, LOGICAL, NIL, NUMERIC, POINTER, HASH> WITH [METHOD]
<!Method!> [SCOPE <Scope>] => ;
  _<type>(); __clsModMsg( __ClsGetHandleFromName( #<type> ), <(Message)>,
@<Method>(), IIF( <.Scope.>, <Scope>, HB_OO_CLSTP_EXPORTED ) )

Maybe this will help.

Regards,

Rossine.


-- 
View this message in context: http://www.nabble.com/error-in-%22override-method%22-tp22373618p22375970.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Fri Mar  6 14:48:28 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Mar  6 14:48:32 2009
Subject: [Harbour] Error in clipapi.h
Message-ID: <22379317.post@talk.nabble.com>


Hello,

How to fix this error?

[ERROR]
backgrnd.c
C:\FWH\INCLUDE\ClipApi.h(511) : error C4430: missing type specifier - int
assumed. Note: C++ does not support default-int
backgrnd.c(11) : fatal error C1083: Cannot open include file: 'd3dtypes.h':
No such file or directory
[ENDERROR]

[CODE LINE 511]

// Adds a new Method to a ClassH
extern _mdAdd( LONG lClassHandle, PCLIPSYMBOL pMethodName, PCLIPFUNC pMethod
);

[ENDCODE]

I see that this file 'd3dtypes.h'  is for bcc55. Can you comment ?

I?m using harbour + msvc.

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Error-in-clipapi.h-tp22379317p22379317.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gfilatov at front.ru  Fri Mar  6 15:32:21 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Fri Mar  6 15:32:25 2009
Subject: [Harbour] ISDISK() issues
In-Reply-To: <18d502870903060629o56b92953y934d386ef9c31e32@mail.gmail.com>
References: <22371305.post@talk.nabble.com>
	<18d502870903060427q68c8d052x843c1fdc793e3c66@mail.gmail.com>
	<22372359.post@talk.nabble.com>
	<18d502870903060629o56b92953y934d386ef9c31e32@mail.gmail.com>
Message-ID: <22379991.post@talk.nabble.com>


Hi Viktor,

Please be so kind to revise an updated function below:

HB_FUNC( ISDISK )
{
   BOOL fResult = FALSE;
   char * szDrive = hb_parc( 1 );

   if( szDrive )
   {
      if( *szDrive >= 'A' && *szDrive <= 'Z' )
         fResult = hb_fsIsDrv( *szDrive - 'A' - 1 );
      else if( *szDrive >= 'a' && *szDrive <= 'z' )
         fResult = hb_fsIsDrv( *szDrive - 'a' - 1 );
   }
   hb_retl( fResult );
}

? IsDisk( "C" ) -> .T.
? IsDisk( "c" ) -> .T.

--
Regards,
Grigory Filatov


Viktor Szak?ts wrote:
> 
> Hi Grigory,
> 
> It's not right, but I can't see why. Was it okay before this change? [
> I've
> never used this function. ]
> 
> Here's the change:
> https://apps.sourceforge.net/trac/harbour-project/changeset/10186
> 
> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/source/rtl/dirdrive.c?view=log
> http://harbour-project.svn.sourceforge.net/viewvc/harbour-project/trunk/harbour/source/rtl/filesys.c?view=log
> 
> Brgds,
> Viktor
> 

-- 
View this message in context: http://www.nabble.com/ISDISK%28%29-issues-tp22371305p22379991.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Fri Mar  6 15:50:54 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar  6 15:50:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10557] trunk/harbour
Message-ID: <E1Lfh0Q-0006G6-6u@d5vjzd1.ch3.sourceforge.com>

Revision: 10557
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10557&view=rev
Author:   druzus
Date:     2009-03-06 20:50:51 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 21:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/dirdrive.c
    ! fixed ISDISK() and DISKCHANGE() return value - due to typo the
      logical value .T./.F. was reverted

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/dirdrive.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gfilatov at front.ru  Fri Mar  6 16:15:03 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Fri Mar  6 16:15:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10557] trunk/harbour
In-Reply-To: <E1Lfh0Q-0006G6-6u@d5vjzd1.ch3.sourceforge.com>
References: <E1Lfh0Q-0006G6-6u@d5vjzd1.ch3.sourceforge.com>
Message-ID: <22380598.post@talk.nabble.com>


Thank you.
It's OK now.


druzus wrote:
> 
> Revision: 10557
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10557&view=rev
> Author:   druzus
> Date:     2009-03-06 20:50:51 +0000 (Fri, 06 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-06 21:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/source/rtl/dirdrive.c
>     ! fixed ISDISK() and DISKCHANGE() return value - due to typo the
>       logical value .T./.F. was reverted
> 
> 

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10557--trunk-harbour-tp22380248p22380598.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Fri Mar  6 16:31:27 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar  6 16:31:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10558] trunk/harbour
Message-ID: <E1Lfhdf-0003bZ-3v@3kljzd1.ch3.sourceforge.com>

Revision: 10558
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10558&view=rev
Author:   vouchcac
Date:     2009-03-06 21:31:25 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 13:14 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/Makefile
    + wvgtabpg.prg

  * harbour/contrib/gtwvg/wvtwin.ch
  * harbour/contrib/gtwvg/wvgparts.ch
    + Added constants to manage Tab Pages

  * harbour/contrib/gtwvg/gtwvg.c
    ! Changed the behavior if a GT is child of another GT.
    
  * harbour/contrib/gtwvg/wincallb.c
    ! Cleanups.

  * harbour/contrib/gtwvg/wvgsink.c
    ! Cleanup.
    % Fixed a potential nasty bug. Kept it in the code to refer if some
      problem arises in the future.

  * harbour/contrib/gtwvg/wvgwin.c
    ! Cleanup. Removed yet unfinished code.

  * harbour/contrib/gtwvg/wvgcombo.prg
    ! Cleanups and documentation update.

  * harbour/contrib/gtwvg/wvgcrt.prg
    ! Changed the style of modal GT console.

  * harbour/contrib/gtwvg/wvgwnd.prg
    % Rearrangement of methods.
    ! Updated to use either protocol - HB_ASCallBck() or SetProp()
      controllable by a #define constant.

  + harbour/contrib/gtwvg/wvgtabpg.prg
    + Started WvgTabPage() compatible with - XbpTabPage() of Xbase++.
      Unfinished but yet usable as demonstrated in demowvg.prg.

  * harbour/contrib/hbwin/hbwapi.h
    + Added wapi_par_WORD|DWORD() macros.

  * harbour/contrib/hbwin/wapi_commctrl.c
    + Added TabCtrl_* WINAPI macros as functions.

  * harbour/contrib/gtwvg/tests/demowvg.prg
    ! Updated to execute pure Xbase++ code in all its fury.
    + Added WvgTabPage() implementation via CUI+GUI demo in 
      <Traditional><WVG Console with GCUI> menu option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wvgcombo.prg
    trunk/harbour/contrib/gtwvg/wvgcrt.prg
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg
    trunk/harbour/contrib/gtwvg/wvtwin.ch
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/contrib/hbwin/wapi_commctrl.c

Added Paths:
-----------
    trunk/harbour/contrib/gtwvg/wvgtabpg.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Mar  6 16:34:06 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar  6 16:34:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10559] trunk/harbour
Message-ID: <E1LfhgE-0003eQ-A8@3kljzd1.ch3.sourceforge.com>

Revision: 10559
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10559&view=rev
Author:   vouchcac
Date:     2009-03-06 21:34:05 +0000 (Fri, 06 Mar 2009)

Log Message:
-----------
2009-03-06 13:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/tests/demowvg.prg
    ! Wrong prg at previous commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Mar  6 17:29:49 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Mar  6 17:29:57 2009
Subject: [Harbour] Warnings
Message-ID: <9F66A58B07B04CE2BFFDA09BF6572671@emag>

Warning W8084 ../../wapi_commctrl.c 645: Suggest parentheses to clarify 
precedence in function HB_FUN_WAPI_TABCTRL_SETITEMSIZE
Warning W8084 ../../wapi_commctrl.c 661: Suggest parentheses to clarify 
precedence in function HB_FUN_WAPI_TABCTRL_SETPADDING
Warning W8084 ../../wapi_commctrl.c 720: Suggest parentheses to clarify 
precedence in function HB_FUN_WAPI_TABCTRL_HIGHLIGHTITEM

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Fri Mar  6 19:05:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar  6 18:59:38 2009
Subject: [Harbour] hb_gt_ItemBase() and PellesC
In-Reply-To: <22375824.post@talk.nabble.com>
References: <22344045.post@talk.nabble.com>
	<20090305114633.GA32132@uran.home.aster.pl>
	<22358456.post@talk.nabble.com>
	<20090305202553.GA17784@uran.home.aster.pl>
	<22375824.post@talk.nabble.com>
Message-ID: <20090307000525.GA30459@uran.home.aster.pl>

On Fri, 06 Mar 2009, Pritpal Bedi wrote:

Hi,

> Here is the reply of Pelle Orinius:
> > Here is self contained C code which GPFs. OK, thanks. The -Ox option will
> > enable Pentium Pro+ instructions, and enable -Ot (optimize for speed) -
> > since neither -Os nor -Ot was specified. The problem is with one of the
> > Pentium Pro+ instructions (conditional move), that will evaluate *all* of
> > it's operands - even if they are not all used in the end, i.e. the move is
> > actually performed. If one of the operands is an invalid address, it will
> > GPF. Bummer. 
> Version 4.50 is old, so I will not make any more bug-fixes in that version.
> I will look at fixing this in the current version, 5.00. 
> When it comes to optimizations, the -Ot option (in this case) is the much
> more important than -Ox. The -Ox option will only rarely find things to
> optimize, and in your case it will cause a GPF. I suggest you skip the -Ox
> option and just use the -Ot option for now... 
> Pelle 

Thanks for the information. I've seen that Viktor already changed default
POCC optimization switches used by Harbour though I do not know if it's
necessary for WinCE builds. Looks that the problems is related only to x86.
Maybe we should ask about suggested switches for ARM based CPUs.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Mar  6 20:48:14 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar  6 20:48:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10560] trunk/harbour
Message-ID: <E1LfleA-00012W-40@3kljzd1.ch3.sourceforge.com>

Revision: 10560
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10560&view=rev
Author:   druzus
Date:     2009-03-07 01:48:13 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 02:53 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/classes.c
    * forbid some usage of __clsModMsg() and unblock some others
      It should make some xHarbour users using OVERRIDE METHOD happy
      but please remember it's still undocumented and unsupported
      functionality - use for your own risk.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/classes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sat Mar  7 05:25:41 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 05:25:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10553] trunk/harbour
In-Reply-To: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>
References: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>
Message-ID: <49B24BA5.5050001@fsgiudice.com>

Hi Viktor,

Il 06/03/2009 10.21, vszakats@users.sourceforge.net ha scritto:
> Revision: 10553
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10553&view=rev
> Author:   vszakats
> Date:     2009-03-06 09:21:06 +0000 (Fri, 06 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-06 10:13 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * utils/hbmk2/hbmk2.prg
>     ! Fixed -gh switch detection and workings.
>       (Francesco, pls check now allmod.hbm)
>     + -gt switch can now be filtered. (-gtwin{win})
>     ! -gui switch won't anymore add '-Wl,-mwindows' C compiler switch
>       on *nix systems. Someone pls confirm this is right.
>     * icc will use -vc postfixed .dlls. They seem to be binary
>       compatible, but I didn't test.
>     % Using __PLATFORM__UNIX macro where applicable.
>     ! Ignoring -o Harbour option passed using '-prgflag:'
> 

I found only now time for tests.

compiling under CentOS 5.2 uhttpd I got:
--------------------

[root@c52sviluppo uhttpd]# cross-hb-gnu.sh hbmk2 uhttpd.hbm
hbmk: Processing configuration: /usr/bin/hbmk.cfg
Harbour 1.1.0dev (Rev. 10560)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'uhttpd.prg'...
"Lib GD support disabled"
"Harbour socket"
Lines 4386, Functions/Procedures 41
Generating C source output to 'uhttpd.c'... Done.
Compiling 'cgifunc.prg'...
Lines 5583, Functions/Procedures 27
Generating C source output to 'cgifunc.c'... Done.
Compiling 'cookie.prg'...
Lines 6570, Functions/Procedures 7
Generating C source output to 'cookie.c'... Done.
Compiling 'session.prg'...
Lines 8392, Functions/Procedures 31
Generating C source output to 'session.c'... Done.
sh: /usr/bin:/gcc: No such file or directory
hbmk: Error: Running C compiler. 32512:
/usr/bin:/gcc uhttpd.c cgifunc.c cookie.c session.c uhttpdc.c socket.c 
/tmp/hbmk_p547wr.c   -O3  -ouhttpd -I/usr/include/harbour 
-L/usr/lib/harbour -Wl,--start-group -lharbourmt -lhbcplr -lhbdebug 
-lgpm -Wl,--end-group
[root@c52sviluppo uhttpd]#
[root@c52sviluppo uhttpd]# which gcc
/usr/bin/gcc
[root@c52sviluppo uhttpd]#

--------------------

instead for modules I got:

--------------------
[root@c52sviluppo modules]# cross-hb-gnu.sh hbmk2 allmod.hbm
hbmk: Processing configuration: /usr/bin/hbmk.cfg
Harbour 1.1.0dev (Rev. 10560)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'cookie.prg'...
Lines 943, Functions/Procedures 1
cookie.prg(117) Error E0032  Can't create output file 
'..home/cgi-bin/cookie.hrb'
Compiling 'info.prg'...
Lines 1912, Functions/Procedures 4
info.prg(143) Error E0032  Can't create output file 
'..home/cgi-bin/info.hrb'
Compiling 'showcounter.prg'...
Lines 2375, Functions/Procedures 2
showcounter.prg(223) Error E0032  Can't create output file 
'..home/cgi-bin/showcounter.hrb'
Compiling 'tableservletdb.prg'...
Lines 3607, Functions/Procedures 11
tableservletdb.prg(405) Error E0032  Can't create output file 
'..home/cgi-bin/tableservletdb.hrb'
Compiling 'testajax.prg'...
Lines 3764, Functions/Procedures 1
testajax.prg(68) Error E0032  Can't create output file 
'..home/cgi-bin/testajax.hrb'
hbmk: Error: Running Harbour compiler. 256:
/usr/bin/harbour -n2 cookie.prg info.prg showcounter.prg 
tableservletdb.prg testajax.prg -i/usr/include/harbour -n -gh -w3 
-o..\home/cgi-bin/
[root@c52sviluppo modules]#
--------------------

> 
>   * contrib/examples/uhttpd/uhttpdc.c
>     * Cleaned Windows headers usage.
>       #define HB_OS_WIN_USED is safe to use on all platforms,
>       it just requests the Windows headers, and if compiled on
>       Windows, it will #include them.
> 
>   * contrib/examples/uhttpd/uhttpd.prg
>     + Automatically sets USE_HB_INET on non-Windows platforms.
> 
>   - contrib/examples/uhttpd/uhttpd-inet.hbm
>   - contrib/examples/uhttpd/uhttpdgd-inet.hbm
>     - Removed files no longer necessary.
> 
>   * contrib/examples/uhttpd/uhttpd.hbm
>     + Added comment about -DUSE_HB_INET option.
>     % Removed -lhbct
> 

Thank you

Best regards

Francesco
From fsgiudice at users.sourceforge.net  Sat Mar  7 05:45:50 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Sat Mar  7 05:45:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10561] trunk/harbour
Message-ID: <E1Lfu2Q-00020r-0v@c3vjzd1.ch3.sourceforge.com>

Revision: 10561
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10561&view=rev
Author:   fsgiudice
Date:     2009-03-07 10:45:46 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 11:43 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    * Updated uHTTPD (Work in progress)
      - Commented hb_GCAll() in main loop, I got one GPF randomly.
      * Fixed an error on threads number calculation

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sat Mar  7 06:00:35 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 06:00:45 2009
Subject: [Harbour] hbmk2 - notes2
In-Reply-To: <20090305204619.GA16224@uran.home.aster.pl>
References: <20090304145004.GB1485@uran.home.aster.pl>	<18d502870903040659l19551a7ao344802478bae0185@mail.gmail.com>	<20090304172654.GA27854@uran.home.aster.pl>	<18d502870903041011g2bade449x5efa9a336e499b8@mail.gmail.com>	<20090304190651.GA21892@uran.home.aster.pl>	<49AEE85E.3030007@fsgiudice.com>	<20090304232516.GA11402@uran.home.aster.pl>	<20090305012452.GA13580@uran.home.aster.pl>	<49B02418.9070305@fsgiudice.com>
	<49B02FC2.6090500@fsgiudice.com>
	<20090305204619.GA16224@uran.home.aster.pl>
Message-ID: <49B253D3.109@fsgiudice.com>

Hi Przemek,

Il 05/03/2009 21.46, Przemyslaw Czerpak ha scritto:
>> This happens with uhttpd in current SVN version *without* hb_GCAll() calls.
> 
> You are using complex items with cyclic references. Only GC can free them
> so it's always necessary to execute it. If you are using such structures
> then GC call is a must for you.

with last SVN uhttpd seems to be stable in memory consumption.
The only problem I got during tests is a GPF at a hb_GCAll( .T. ) call.
Attached you find hb_out.log generated.
Now I have commented that line and actual tests (Windows + MSVC, with 
and without GD, using hb_Inet socket) works with stable memory use.
Same in Linux.
Thank you for suggestions.

Question:
from hb_GCAll() sources I have seen that in my case .T. should be 
necessary. Isn't it ?

Best regards

Francesco

-------------- next part --------------
Application Internal Error - J:\cvs\harbourSVN_trunk\contrib\examples\uhttpd\uhttpd.exe
Terminated at: 2009.03.06 22:42:29
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:0040743C
    EAX:003C9F44  EBX:005F2098  ECX:000001DC  EDX:003BEAAC
    ESI:003C9F44  EDI:00000001  EBP:00174658
    CS:EIP:001B:0040743C  SS:ESP:0023:0012FE18
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010202
    CS:EIP: 8A 51 FE 83 E9 10 3A 15 E8 4A 60 00 0F 85 80 00
    SS:ESP: 00000001 003C9F44 004073CD 003C9F44 00403020 003B9EBC 00407644 003B9ECC 00000000 005F2478 005F2098 00407886 00000001 004184AD 005AA53C 00000001

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x00238000 J:\cvs\harbourSVN_trunk\contrib\examples\uhttpd\uhttpd.exe
0x76FD0000 0x00127000 C:\Windows\system32\ntdll.dll
0x75DF0000 0x000DB000 C:\Windows\system32\kernel32.dll
0x10000000 0x000CB000 J:\cvs\harbourSVN_trunk\contrib\examples\uhttpd\bgd.dll
0x759C0000 0x000AA000 C:\Windows\system32\MSVCRT.dll
0x75920000 0x0009D000 C:\Windows\system32\USER32.dll
0x76040000 0x0004B000 C:\Windows\system32\GDI32.dll
0x75850000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
0x76BF0000 0x000C2000 C:\Windows\system32\RPCRT4.dll
0x75530000 0x00007000 C:\Windows\system32\WSOCK32.dll
0x76CC0000 0x0002D000 C:\Windows\system32\WS2_32.dll
0x76E20000 0x00006000 C:\Windows\system32\NSI.dll
0x75FA0000 0x0001E000 C:\Windows\system32\IMM32.DLL
0x75BF0000 0x000C8000 C:\Windows\system32\MSCTF.dll
0x76E30000 0x00009000 C:\Windows\system32\LPK.DLL
0x75ED0000 0x0007D000 C:\Windows\system32\USP10.dll
0x73B80000 0x0003F000 C:\Windows\system32\uxtheme.dll
0x00370000 0x00008000 C:\Program Files\Sizer\sizer.dll
0x73380000 0x00085000 C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_5.82.6001.18000_none_886786f450a74a05\COMCTL32.dll
0x10100000 0x0000E000 C:\Program Files\Logitech\SetPoint\lgscroll.dll
0x721A0000 0x0009B000 C:\Windows\WinSxS\x86_microsoft.vc80.crt_1fc8b3b9a1e18e3b_8.0.50727.3053_none_d08d7bba442a9b36\MSVCR80.dll
0x74AB0000 0x00021000 C:\Windows\system32\NTMARTA.DLL
0x75F50000 0x0004A000 C:\Windows\system32\WLDAP32.dll
0x75840000 0x00007000 C:\Windows\system32\PSAPI.DLL
0x75660000 0x00011000 C:\Windows\system32\SAMLIB.dll
0x75AA0000 0x00144000 C:\Windows\system32\ole32.dll
0x77110000 0x0008D000 C:\Windows\system32\OLEAUT32.DLL
0x74DB0000 0x0003B000 C:\Windows\system32\mswsock.dll
0x74A70000 0x00005000 C:\Windows\System32\wshtcpip.dll
0x76DC0000 0x00058000 C:\Windows\system32\SHLWAPI.dll
0x743A0000 0x0019E000 C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.6001.18000_none_5cdbaa5a083979cc\comctl32.dll

Called from HB_GCALL(0)
Called from MAIN(544) in uhttpd.prg
------------------------------------------------------------------------
From harbour.01 at syenar.hu  Sat Mar  7 06:02:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar  7 06:02:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10553] trunk/harbour
In-Reply-To: <49B24BA5.5050001@fsgiudice.com>
References: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>
	<49B24BA5.5050001@fsgiudice.com>
Message-ID: <18d502870903070302q1fc08db3pa1bc39373378abf6@mail.gmail.com>

Thanks Francesco,

> [root@c52sviluppo uhttpd]# cross-hb-gnu.sh hbmk2 uhttpd.hbm
> sh: /usr/bin:/gcc: No such file or directory


Hm, do you by any chance have CCPATH or CCPREFIX envvars
set to any value? If yes, what are these values?


> Lines 3764, Functions/Procedures 1
> testajax.prg(68) Error E0032  Can't create output file
> '..home/cgi-bin/testajax.hrb'
> hbmk: Error: Running Harbour compiler. 256:
> /usr/bin/harbour -n2 cookie.prg info.prg showcounter.prg tableservletdb.prg
> testajax.prg -i/usr/include/harbour -n -gh -w3 -o..\home/cgi-bin/
> [root@c52sviluppo modules]#


I'll fix this ASAP.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090307/f379757b/attachment.html
From info at fsgiudice.com  Sat Mar  7 06:06:09 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 06:06:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10553] trunk/harbour
In-Reply-To: <18d502870903070302q1fc08db3pa1bc39373378abf6@mail.gmail.com>
References: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>	<49B24BA5.5050001@fsgiudice.com>
	<18d502870903070302q1fc08db3pa1bc39373378abf6@mail.gmail.com>
Message-ID: <49B25521.4020404@fsgiudice.com>

Hi Viktor,

Il 07/03/2009 12.02, Viktor Szak?ts ha scritto:
> Thanks Francesco,
> 
>     [root@c52sviluppo uhttpd]# cross-hb-gnu.sh hbmk2 uhttpd.hbm
>     sh: /usr/bin:/gcc: No such file or directory
> 
> 
> Hm, do you by any chance have CCPATH or CCPREFIX envvars 
> set to any value? If yes, what are these values?
>  
Yes, you are right just see it, my fault sorry, now I'm testing removing 
them from my cross-hb-gnu.sh

> 
>     Lines 3764, Functions/Procedures 1
>     testajax.prg(68) Error E0032  Can't create output file
>     '..home/cgi-bin/testajax.hrb'
>     hbmk: Error: Running Harbour compiler. 256:
>     /usr/bin/harbour -n2 cookie.prg info.prg showcounter.prg
>     tableservletdb.prg testajax.prg -i/usr/include/harbour -n -gh -w3
>     -o..\home/cgi-bin/
>     [root@c52sviluppo modules]#
> 
> 
> I'll fix this ASAP.
> 
Thank you
Best regards,
Francesco
From harbour.01 at syenar.hu  Sat Mar  7 06:15:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar  7 06:15:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10553] trunk/harbour
In-Reply-To: <49B25521.4020404@fsgiudice.com>
References: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>
	<49B24BA5.5050001@fsgiudice.com>
	<18d502870903070302q1fc08db3pa1bc39373378abf6@mail.gmail.com>
	<49B25521.4020404@fsgiudice.com>
Message-ID: <18d502870903070315q472cf6eai7d0df5a9f1860fdf@mail.gmail.com>

>
> Hm, do you by any chance have CCPATH or CCPREFIX envvars set to any value?
>> If yes, what are these values?
>>
>>
> Yes, you are right just see it, my fault sorry, now I'm testing removing
> them from my cross-hb-gnu.sh


Looks like these envvars aren't system standards but rather
Harbour specific ones, if my thinking is right, I'll change these
to HB_CCPATH, HB_CCPREFIX, and will apply it to all
compilers not just gcc. Initially I thought this is some sort of
*nix / Linux / gcc standard. Someone pls correct me if I'm
on the wrong track here.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090307/132d352e/attachment.html
From vszakats at users.sourceforge.net  Sat Mar  7 06:51:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar  7 06:51:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10562] trunk/harbour
Message-ID: <E1Lfv3j-0006zQ-2B@dn4whf1.ch3.sourceforge.com>

Revision: 10562
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10562&view=rev
Author:   vszakats
Date:     2009-03-07 11:51:14 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 12:38 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed recently introd problem with path sep translation.

  * source/common/hbgete.c
    + Enabled Darwin support.

  * contrib/examples/uhttpd/modules/showcounter.prg
    ! Protected whole code with GD_SUPPORT.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/modules/showcounter.prg
    trunk/harbour/source/common/hbgete.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar  7 06:54:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar  7 06:54:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10563] trunk/harbour
Message-ID: <E1Lfv6d-00071u-E8@dn4whf1.ch3.sourceforge.com>

Revision: 10563
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10563&view=rev
Author:   vszakats
Date:     2009-03-07 11:54:14 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 12:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fix to prev (off by one).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sat Mar  7 06:55:03 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 06:55:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10553] trunk/harbour
In-Reply-To: <18d502870903070315q472cf6eai7d0df5a9f1860fdf@mail.gmail.com>
References: <E1LfWEt-0000y1-8s@c3vjzd1.ch3.sourceforge.com>	<49B24BA5.5050001@fsgiudice.com>	<18d502870903070302q1fc08db3pa1bc39373378abf6@mail.gmail.com>	<49B25521.4020404@fsgiudice.com>
	<18d502870903070315q472cf6eai7d0df5a9f1860fdf@mail.gmail.com>
Message-ID: <49B26097.6090007@fsgiudice.com>



Il 07/03/2009 12.15, Viktor Szak?ts ha scritto:
> Looks like these envvars aren't system standards but rather 
> Harbour specific ones, if my thinking is right, I'll change these 
> to HB_CCPATH, HB_CCPREFIX, and will apply it to all 
> compilers not just gcc. Initially I thought this is some sort of 
> *nix / Linux / gcc standard. Someone pls correct me if I'm 
> on the wrong track here.
I don't know, but removing them from my actual shell script did the 
trick, I surely have to update my batches with last version of Przemek's 
scripts, yours and SVN.

Brgds,
Francesco

From info at fsgiudice.com  Sat Mar  7 07:01:47 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 07:01:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10562] trunk/harbour
In-Reply-To: <E1Lfv3j-0006zQ-2B@dn4whf1.ch3.sourceforge.com>
References: <E1Lfv3j-0006zQ-2B@dn4whf1.ch3.sourceforge.com>
Message-ID: <49B2622B.7030402@fsgiudice.com>

Viktor,

Il 07/03/2009 12.51, vszakats@users.sourceforge.net ha scritto:
> Revision: 10562
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10562&view=rev
> Author:   vszakats
> Date:     2009-03-07 11:51:14 +0000 (Sat, 07 Mar 2009)
> 
in Linux building with GD library is not bgd, but simple gd. So in 
uhttpdgd.hbm could you fix to build in Windows using -lbgd, in Linux 
with -lgd ?
TIA

Brgds,
Francesco
From vszakats at users.sourceforge.net  Sat Mar  7 07:09:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar  7 07:09:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10564] trunk/harbour
Message-ID: <E1LfvLc-0007kA-6c@dn4whf1.ch3.sourceforge.com>

Revision: 10564
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10564&view=rev
Author:   vszakats
Date:     2009-03-07 12:09:43 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 13:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/examples/uhttpd/uhttpdgd.hbm
    + Added *nix GD lib name.

  * contrib/hbwin/win_prt.c
    ! WINPORTWRITE() potential GPF if non char type is passed as 2nd arg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpdgd.hbm
    trunk/harbour/contrib/hbwin/win_prt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar  7 07:09:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar  7 07:09:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10562] trunk/harbour
In-Reply-To: <49B2622B.7030402@fsgiudice.com>
References: <E1Lfv3j-0006zQ-2B@dn4whf1.ch3.sourceforge.com>
	<49B2622B.7030402@fsgiudice.com>
Message-ID: <18d502870903070409i304cc744g5aee707243cd91a5@mail.gmail.com>

Yes, the easiest is to change to this in the .hbm file:-lbgd{win} -lgd{!win}

I've committed it.

Brgds,
Viktor

On Sat, Mar 7, 2009 at 1:01 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Viktor,
>
> Il 07/03/2009 12.51, vszakats@users.sourceforge.net ha scritto:
>
>> Revision: 10562
>>
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10562&view=rev
>> Author:   vszakats
>> Date:     2009-03-07 11:51:14 +0000 (Sat, 07 Mar 2009)
>>
>>  in Linux building with GD library is not bgd, but simple gd. So in
> uhttpdgd.hbm could you fix to build in Windows using -lbgd, in Linux with
> -lgd ?
> TIA
>
> Brgds,
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090307/b24e51ab/attachment.html
From kleyber at tkinformidia.net  Sat Mar  7 07:38:24 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Sat Mar  7 07:38:28 2009
Subject: [Harbour] Errors in C compilation
In-Reply-To: <531d7a750903051634s2031526fufc6241a9f2ca2670@mail.gmail.com>
References: <B851C3E4874B4F6EA9A4BA06F73539D0@particular>
	<531d7a750903051634s2031526fufc6241a9f2ca2670@mail.gmail.com>
Message-ID: <22387204.post@talk.nabble.com>


Thanks a lot, Vailton.


Vailton Renato wrote:
> 
> You can comment on these lines, because it already exists in HB, see
> hbapi.h & extend.c
> 
> 
> 2009/3/5 Kleyber Derick <kleyber@tkinformidia.net>:
>> Hi,
>>
>> I have this C routine declared in my prg:
>>
>> #ifndef __XHARBOUR__
>> ?#ifdef __HARBOUR__
>> ??? #pragma BEGINDUMP
>> ?????? static void hb_retnl( LONG l )
>> ?????? {
>> ????????? hb_itemPutNL( &hb_stack.Return, l );???????? // Here generates
>> the?errors
>> ?????? }
>> ??? #pragma ENDDUMP
>> ?#EndIf
>> #EndIf
>> But it gives a compilation error:
>>
>> errsysw.prg(730) : error C2065: 'hb_stack' : identifier not declared
>> errsysw.prg(730) : error C2224: left operator of '.Return' must be
>> struct/union
>>
>> How can I solve this?
>>
>> Thanks in advance,
>> Kleyber Derick
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> 
> 
> 
> -- 
> Vailton Renato
> SQL LIB, MyMake & xDev Developer
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Errors-in-C-compilation-tp22363723p22387204.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Sat Mar  7 11:51:13 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 11:51:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10562] trunk/harbour
In-Reply-To: <18d502870903070409i304cc744g5aee707243cd91a5@mail.gmail.com>
References: <E1Lfv3j-0006zQ-2B@dn4whf1.ch3.sourceforge.com>	<49B2622B.7030402@fsgiudice.com>
	<18d502870903070409i304cc744g5aee707243cd91a5@mail.gmail.com>
Message-ID: <49B2A601.4090507@fsgiudice.com>



Il 07/03/2009 13.09, Viktor Szak?ts ha scritto:
> Yes, the easiest is to change to this in the .hbm file:
> -lbgd{win} -lgd{!win}
> 
> I've committed it.
> 
I know that was possible, but I didn't remember the syntax.
You have to write the manual ;-)
Thank you

Best regards
Francesco
From harbour.01 at syenar.hu  Sat Mar  7 12:26:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar  7 12:26:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10562] trunk/harbour
In-Reply-To: <49B2A601.4090507@fsgiudice.com>
References: <E1Lfv3j-0006zQ-2B@dn4whf1.ch3.sourceforge.com>
	<49B2622B.7030402@fsgiudice.com>
	<18d502870903070409i304cc744g5aee707243cd91a5@mail.gmail.com>
	<49B2A601.4090507@fsgiudice.com>
Message-ID: <18d502870903070926o55a929e0mbef772c3984c8454@mail.gmail.com>

>
> Yes, the easiest is to change to this in the .hbm file:
>> -lbgd{win} -lgd{!win}
>>
>> I've committed it.
>>
>>  I know that was possible, but I didn't remember the syntax.
> You have to write the manual ;-)
> Thank you


No problem, but this thing is actually documented in
'hbmk2 -help' output. Could be more verbose probably.

To make things less complicated I was thinking about
using .hbm format (which is simple command line), also
in .hbp files. Plus to allow filters equally on all options,
and no restriction on placement, maybe in the future :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090307/99fe6aa9/attachment.html
From druzus at users.sourceforge.net  Sat Mar  7 13:51:11 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar  7 13:51:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
Message-ID: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>

Revision: 10565
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10565&view=rev
Author:   druzus
Date:     2009-03-07 18:51:08 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 19:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbgete.c
    * added suport for BSD systems

  * harbour/contrib/examples/uhttpd/uhttpd.prg
    ! fixed private declaration - after last modification they were not
      declared for threads at all
    ! fixed close procedure, s_aRunningThreads and s_aServiceThreads
      where not protected at all in the moment when these variables
      variables where used inside aeval() and other threads were
      resizing them removing their pointers. In short word it was
      in practice impossible to cleanly close uhttpd server without
      GPF, deadlock or other bad side effects. I changed this code so
      these arrays are modified only by calling procedure.
      I do not know why it was written in such way but I guess it
      was workaround for xHarbour bugs. In xHarbour is race condition
      inside some functions like ThreadJoin() (RTE if thread finished
      just before ThreadJoin(<pThID>)). Harbour does not have such
      problems so I simply cleaned this code making it much simpler.
    * reactivated hb_gcAll( .T. ) in the main loop for tests.
      I made some tests with linux and current uhttpd works perfectly
      without any problems with and without hb_gcAll( .t. ).
      I haven't noticed any problems. I used this scripts to make
      tests:
         #!/bin/sh
         function GT_UHTTPD()
         {
            while curl http://127.0.0.1:8082/ > /dev/null
            do
               if ! curl http://127.0.0.1:8082/serverstatus > /dev/null
               then
                  exit
               fi
               # disable it if you want to increase traffic
               if ! curl http://127.0.0.1:8082/info > /dev/null
               then
                  exit
               fi
               if [ -f stop ]
               then
                  exit
               fi
            done
         }
         for i in `seq 10`
         do
            GT_UHTTPD &>/dev/null &
         done
         wait

      on three CPU machine. Please make some test with other systems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/source/common/hbgete.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar  7 16:21:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar  7 16:21:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10566] trunk/harbour
Message-ID: <E1Lg3xz-00072a-Er@c3vjzd1.ch3.sourceforge.com>

Revision: 10566
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10566&view=rev
Author:   vszakats
Date:     2009-03-07 21:21:54 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-07 22:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to recognize GT libs in dynlibhas= lines, 
      and add them to core GT list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sat Mar  7 18:32:57 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar  7 18:33:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>
Message-ID: <49B30429.4040201@fsgiudice.com>

Przemek,

Il 07/03/2009 19.51, druzus@users.sourceforge.net ha scritto:
> 2009-03-07 19:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/examples/uhttpd/uhttpd.prg
>     ! fixed close procedure, s_aRunningThreads and s_aServiceThreads
>       where not protected at all in the moment when these variables
>       variables where used inside aeval() and other threads were
>       resizing them removing their pointers. In short word it was
>       in practice impossible to cleanly close uhttpd server without
>       GPF, deadlock or other bad side effects. I changed this code so
>       these arrays are modified only by calling procedure.
>       I do not know why it was written in such way but I guess it
>       was workaround for xHarbour bugs. In xHarbour is race condition
>       inside some functions like ThreadJoin() (RTE if thread finished
>       just before ThreadJoin(<pThID>)). Harbour does not have such
>       problems so I simply cleaned this code making it much simpler.

I have to revert partially this code and corrected it, because with your 
changes s_aRunningThreads and s_aServiceThreads will never reduced in 
case of single thread end and leaving finished threads up and running.

>     * reactivated hb_gcAll( .T. ) in the main loop for tests.
>       I made some tests with linux and current uhttpd works perfectly
>       without any problems with and without hb_gcAll( .t. ).
>       I haven't noticed any problems. I used this scripts to make
>       tests:
>          #!/bin/sh
>          function GT_UHTTPD()
>          {
>             while curl http://127.0.0.1:8082/ > /dev/null
>             do
>                if ! curl http://127.0.0.1:8082/serverstatus > /dev/null
>                then
>                   exit
>                fi
>                # disable it if you want to increase traffic
>                if ! curl http://127.0.0.1:8082/info > /dev/null
>                then
>                   exit
>                fi
>                if [ -f stop ]
>                then
>                   exit
>                fi
>             done
>          }
>          for i in `seq 10`
>          do
>             GT_UHTTPD &>/dev/null &
>          done
>          wait
> 
>       on three CPU machine. Please make some test with other systems.
> 

I'm testing your sample, but (not still tested) is this serialized or 
connections are submitted concurrently ?
I'm creating a multithread test that sends concurrent requests to pages 
with a sleep inside to simulate long time reply and increase number of 
threads needed to reply.
In any cases uhttpd has to add threads (up to max number defined, after 
it will reply with a busy error) in case of no available threads, but it 
has to release them when no more necessary (to minimum number defined).

Best regards
Francesco

From fsgiudice at users.sourceforge.net  Sat Mar  7 18:47:17 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Sat Mar  7 18:47:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10567] trunk/harbour
Message-ID: <E1Lg6Ef-0004mx-Hg@3kljzd1.ch3.sourceforge.com>

Revision: 10567
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10567&view=rev
Author:   fsgiudice
Date:     2009-03-07 23:47:16 +0000 (Sat, 07 Mar 2009)

Log Message:
-----------
2009-03-08 00:43 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    - Commented hb_GCAll() in main loop, I got newly one GPF randomly.
      In meanwhile I will do other tests.
    ! Reverted and corrected closing threads because with last changes
      finished threads were not correctly released.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Mar  7 21:26:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar  7 21:20:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <49B30429.4040201@fsgiudice.com>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>
	<49B30429.4040201@fsgiudice.com>
Message-ID: <20090308022606.GA15698@uran.home.aster.pl>

On Sun, 08 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

> I have to revert partially this code and corrected it, because with your 
> changes s_aRunningThreads and s_aServiceThreads will never reduced in case 
> of single thread end and leaving finished threads up and running.

I'm sorry but I do not understand the above answer yet.
Can you define more precisely the conditions which creates
any anomalies and how can I replicate them?
Probably I do not understand something in this code.

>>     * reactivated hb_gcAll( .T. ) in the main loop for tests.
>>       I made some tests with linux and current uhttpd works perfectly
>>       without any problems with and without hb_gcAll( .t. ).
>>       I haven't noticed any problems. I used this scripts to make
>>       tests:
>>          #!/bin/sh
>>          function GT_UHTTPD()
>>          {
>>             while curl http://127.0.0.1:8082/ > /dev/null
>>             do
>>                if ! curl http://127.0.0.1:8082/serverstatus > /dev/null
>>                then
>>                   exit
>>                fi
>>                # disable it if you want to increase traffic
>>                if ! curl http://127.0.0.1:8082/info > /dev/null
>>                then
>>                   exit
>>                fi
>>                if [ -f stop ]
>>                then
>>                   exit
>>                fi
>>             done
>>          }
>>          for i in `seq 10`
>>          do
>>             GT_UHTTPD &>/dev/null &
>>          done
>>          wait
>>       on three CPU machine. Please make some test with other systems.
> I'm testing your sample, but (not still tested) is this serialized or 
> connections are submitted concurrently ?

In the above test 10 different processes simultaneously read three
different http pages served by uhttpd.

> I'm creating a multithread test that sends concurrent requests to pages 
> with a sleep inside to simulate long time reply and increase number of 
> threads needed to reply.

The above it's prefect test for concurrent access but if you will add
some other tests on .prg level then it can be used also in environment
which does not support *nix like shells. It should greatly help in testing
this code.

> In any cases uhttpd has to add threads (up to max number defined, after it 
> will reply with a busy error) in case of no available threads, but it has 
> to release them when no more necessary (to minimum number defined).

Not exactly. The concurrent queries are also buffered by the kernel in
waiting queue (see listen() parameters) so this limit cannot be defined
such precisely anyhow it should be unimportant for above test. We are
not checking how efficient uhttpd is but only if it has or not some
internal problems which may cause uhttpd/HVM code crash.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sun Mar  8 11:04:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  8 11:04:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10568] trunk/harbour
Message-ID: <E1LgKY7-00014D-MJ@3kljzd1.ch3.sourceforge.com>

Revision: 10568
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10568&view=rev
Author:   vszakats
Date:     2009-03-08 15:04:18 +0000 (Sun, 08 Mar 2009)

Log Message:
-----------

2009-03-08 15:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Normalizing paths of cfg files.
    * CCPREFIX, CCPATH renamed to HB_CCPREFIX, HB_CCPATH
      (seems these are Harbour specific settings)

  * contrib/examples/uhttpd/home/testxmldb.html
    * Added Safari as unsupported browser.
      (BTW, what would it need to support Safari and Chrome, or 
      WebKit browsers in general?)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/home/testxmldb.html
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar  8 13:11:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  8 13:11:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10569] trunk/harbour
Message-ID: <E1LgMX2-0000EJ-BJ@d5vjzd1.ch3.sourceforge.com>

Revision: 10569
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10569&view=rev
Author:   vszakats
Date:     2009-03-08 17:11:19 +0000 (Sun, 08 Mar 2009)

Log Message:
-----------
2009-03-08 18:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added short information for Darwin/MacPorts and contribs.

  * contrib/hbmysql/Makefile
  * contrib/gtalleg/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/hbpgsql/Makefile
    + Enabled on Darwin (for MacPorts).

  * include/hbdefs.h
  * contrib/hbfimage/fi_wrp.c
  * contrib/hbfimage/Makefile
    + Enabled on Darwin (for MacPorts).
    + Added ugly hack to make it compile on Darwin.

  * contrib/hbtpathy/Makefile
    + Enabled on Darwin.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Sun Mar  8 13:21:48 2009
From: abe.buch at att.net (AbeB)
Date: Sun Mar  8 13:21:53 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
Message-ID: <1236532908882-2445184.post@n2.nabble.com>


dbskip(0) will move the record pointer to phantom record (honoring the
scope). other RDDS don't do that



--------------
#include "ads.ch"

proc main()

rddregister( "ADS", 1 )
rddsetdefault( "ADSCDX" )
set server local
adslocking(  .f. )
adssetfiletype(ADS_CDX)
adslocking(  .f. )

dbcreate("test.dbf",{ ;
{"tick" ,"n" , 10,0} })

use test via "ADSCDX" excl
index on tick tag tick

ordscope(0, 100)
ordscope(1, 200 )

? rddname()

for lop := 1 to 10


	dbappend(  .t. )

//refresh buffer (server's trigger populated some fields)

	dbskip( 0 )

	//goto recn()  //<----- this is ok

	field->tick := 100 + lop

	? field->tick ,eof()

next

browse()   // looks like a corrupted index file , try browsing
*******************


-- 
View this message in context: http://n2.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp2445184p2445184.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From abe.buch at att.net  Sun Mar  8 13:26:43 2009
From: abe.buch at att.net (AbeB)
Date: Sun Mar  8 13:26:47 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with other
	codes
Message-ID: <1236533203941-2445208.post@n2.nabble.com>


can the following be an option in inkey.ch ( it's from xHarbour)

/* New control keys that do not overlap with other codes */

#define K_CTRL_A                513   /*   Ctrl-A                         */
#define K_CTRL_B                514   /*   Ctrl-B                         */
#define K_CTRL_C                515   /*   Ctrl-C                         */
#define K_CTRL_D                516   /*   Ctrl-D                         */
#define K_CTRL_E                517   /*   Ctrl-E                         */
#define K_CTRL_F                518   /*   Ctrl-F                         */
#define K_CTRL_G                519   /*   Ctrl-G                         */
#define K_CTRL_H                520   /*   Ctrl-H                         */
#define K_CTRL_I                521   /*   Ctrl-I                         */
#define K_CTRL_J                522   /*   Ctrl-J                         */
#define K_CTRL_K                523   /*   Ctrl-K                         */
#define K_CTRL_L                524   /*   Ctrl-L                         */
#define K_CTRL_M                525   /*   Ctrl-M                         */
#define K_CTRL_N                526   /*   Ctrl-N                         */
#define K_CTRL_O                527   /*   Ctrl-O                         */
#define K_CTRL_P                528   /*   Ctrl-P                         */
#define K_CTRL_Q                529   /*   Ctrl-Q                         */
#define K_CTRL_R                530   /*   Ctrl-R                         */
#define K_CTRL_S                531   /*   Ctrl-S                         */
#define K_CTRL_T                532   /*   Ctrl-T                         */
#define K_CTRL_U                533   /*   Ctrl-U                         */
#define K_CTRL_V                534   /*   Ctrl-V                         */
#define K_CTRL_W                535   /*   Ctrl-W                         */
#define K_CTRL_X                536   /*   Ctrl-X                         */
#define K_CTRL_Y                537   /*   Ctrl-Y                         */
#define K_CTRL_Z                538   /*   Ctrl-Z                         */

/* extended shift key codes, none in  Clipper */

#define K_SH_LEFT               424   /* * Shift-Left                    */
#define K_SH_UP                 425   /* * Shift-Up                      */
#define K_SH_RIGHT              426   /* * Shift-Right                   */
#define K_SH_DOWN               427   /* * Shift-Down                    */

#define K_SH_INS                428   /* * Shift-Ins                     */
#define K_SH_DEL                429   /* * Shift-Del                     */
#define K_SH_HOME               430   /* * Shift-Home                    */
#define K_SH_END                431   /* * Shift-End                     */
#define K_SH_PGUP               432   /* * Shift-PgUp                    */
#define K_SH_PGDN               433   /* * Shift-PgDn                    */

#define K_SH_RETURN             434   /* * Shift-Enter                   */
#define K_SH_ENTER              434   /* * Shift-Enter                   */


-- 
View this message in context: http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2445208.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Mar  8 13:43:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  8 13:43:37 2009
Subject: [Harbour] Wild idea: Conditional #include
Message-ID: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>

Hi all,
Sometime it would be good to branch code depending
on presence of header file (which would also imply the
presence of related lib file). One good example is
uhttpd, and one if its modules.

To make build as easy as possible, the source code
could automatically detect the presence of these
dependencies and build with the best available options.

Some possible ideas for implementations:

1.)
#includetry "gd.ch"
#if defined( _GD_CH_ )
   // GT dependent parts
#endif

2.)
#includeif "gd.ch"
   // GT dependent parts
#endif

3.)
#if include( "gd.ch" )
   // GT dependent parts
#endif

4.)
#if exist( "gd.ch" )
   #include "gd.ch" )
   // GT dependent parts
#endif

[ My vote to 2.) ]

Any opinions, or better ideas?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090308/e2a75566/attachment.html
From vszakats at users.sourceforge.net  Sun Mar  8 14:34:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar  8 14:34:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10570] trunk/harbour
Message-ID: <E1LgNpj-0004Gq-VG@dn4whf1.ch3.sourceforge.com>

Revision: 10570
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10570&view=rev
Author:   vszakats
Date:     2009-03-08 18:34:43 +0000 (Sun, 08 Mar 2009)

Log Message:
-----------
2009-03-08 19:29 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/examples/uhttpd/uhttpdgd.hbm
    + Added Darwin/MacPorts support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpdgd.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Mar  8 14:56:06 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar  8 14:56:10 2009
Subject: [Harbour] Wild idea: Conditional #include
In-Reply-To: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
References: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
Message-ID: <22401503.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Hi all,
> Sometime it would be good to branch code depending
> on presence of header file (which would also imply the
> presence of related lib file). One good example is
> uhttpd, and one if its modules.
> 

Good thinking.

If this part is touched, I have another wish:

Command line switch -di[.ch file name].

Right now we can only issue -d__SOMEDEFINE__ but cannot
supply a .ch file containing as many defines we wish.
At times I feel a limitation of it, right now much more than ever.

Example: I am in a transition phase where all overlapping 
screens are being transferred to modal GTs. I am almost done.
But to acheive this functionality I have to include a .ch file 
in every prg in my project, a hell of the job. 

May be I am missing something about command line switches...

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Wild-idea%3A-Conditional--include-tp22400642p22401503.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Sun Mar  8 17:30:29 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar  8 17:30:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <20090308022606.GA15698@uran.home.aster.pl>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>	<49B30429.4040201@fsgiudice.com>
	<20090308022606.GA15698@uran.home.aster.pl>
Message-ID: <49B438F5.1060806@fsgiudice.com>

Hi Przemek,

Il 08/03/2009 3.26, Przemyslaw Czerpak ha scritto:
>> I have to revert partially this code and corrected it, because with your 
>> changes s_aRunningThreads and s_aServiceThreads will never reduced in case 
>> of single thread end and leaving finished threads up and running.
> 
> I'm sorry but I do not understand the above answer yet.
> Can you define more precisely the conditions which creates
> any anomalies and how can I replicate them?
> Probably I do not understand something in this code.
> 

Simply using your shell test you have to see running threads increase 
from starting 4 to x (in mine case to 12), then when you create the stop 
file activity will cease and threads have to come back to initial 4.
In previous modification threads stay at maximum reached until uhttpd ends.

> In the above test 10 different processes simultaneously read three
> different http pages served by uhttpd.
> 

Ok now tested.

>> I'm creating a multithread test that sends concurrent requests to pages 
>> with a sleep inside to simulate long time reply and increase number of 
>> threads needed to reply.
> 
> The above it's prefect test for concurrent access but if you will add
> some other tests on .prg level then it can be used also in environment
> which does not support *nix like shells. It should greatly help in testing
> this code.
> 

Yes it is, but as you wrote I'm trying to make a prg that can be used on 
other platforms, maybe based also on hbcurl.

>> In any cases uhttpd has to add threads (up to max number defined, after it 
>> will reply with a busy error) in case of no available threads, but it has 
>> to release them when no more necessary (to minimum number defined).
> 
> Not exactly. The concurrent queries are also buffered by the kernel in
> waiting queue (see listen() parameters) so this limit cannot be defined
> such precisely anyhow it should be unimportant for above test. We are
> not checking how efficient uhttpd is but only if it has or not some
> internal problems which may cause uhttpd/HVM code crash.
> 

Yes, I see that listen() have a queue for incoming connection, but once 
a connection is retrieved inside uhttpd it's uhttpd job to handle it.
But surely the main problem now is to understand if there are GPF points 
that have to be found.
In any case, until now I got problems only on windows. Tests in Linux 
seems to works correctly, but in my case I did tests only in a virtual 
machine.

Best Regards
Francesco
From harbour.01 at syenar.hu  Sun Mar  8 17:43:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar  8 17:43:28 2009
Subject: [Harbour] Wild idea: Conditional #include
In-Reply-To: <22401503.post@talk.nabble.com>
References: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
	<22401503.post@talk.nabble.com>
Message-ID: <18d502870903081443yd238296u70066a732f260c29@mail.gmail.com>

>
> Good thinking.
>
> If this part is touched, I have another wish:
>
> Command line switch -di[.ch file name].
>
> Right now we can only issue -d__SOMEDEFINE__ but cannot
> supply a .ch file containing as many defines we wish.
> At times I feel a limitation of it, right now much more than ever.


I'm not sure I understand what you mean.
You can have the same effect either by using -u
option, or simply -D_SOMEDEFINE_
and #ifdef _SOMEDEFINE_ / #include "this.ch" / #include "that.ch" / #endif

Actually, even my suggestion could be done differently,
and maybe it'd be a better solution (I kept thinking about
this after sending the mail ;), to cover the case I've cited,
the app needs some kind of library to complement the
header. The latter definitely needs help from the make
tool. So, I'd feel it simpler to move the header logic also
to the make tool level, and use such #define to communicate
package presence.

This starts to be a bit 'configure' like functionality, and could
use a system which defines packages. I'll think about it further.
It can get quite complicated if we want to automatize dependencies...

In the shade of these, my initial idea is pretty broken :)

Maybe something like this:

hbgtwvg.hbp
---
uses=hbwin xhb
prgflags=-DHAVE_GTWVG
libs=gtwvg
libpaths=C:\libs
autodetect=yes
---

'autodetect' would lookup all 'libs' on 'libpaths' (plus normal libpaths),
would then do the same with 'uses' .hbp files, and if self and
dependent libs are available, it would add -DHAVE_GTWVG to
the command line.

Just quick thoughts.

But to acheive this functionality I have to include a .ch file
> in every prg in my project, a hell of the job.
>
> May be I am missing something about command line switches...


This seems -u, but even better (without side-effects) is to use
a central header and add the new one to just that one file, problem
solved forever. I use such central header for all my libs and apps.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090308/d94dc4cf/attachment-0001.html
From druzus at acn.waw.pl  Sun Mar  8 19:14:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar  8 19:08:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <49B438F5.1060806@fsgiudice.com>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>
	<49B30429.4040201@fsgiudice.com>
	<20090308022606.GA15698@uran.home.aster.pl>
	<49B438F5.1060806@fsgiudice.com>
Message-ID: <20090308231434.GA21400@uran.home.aster.pl>

On Sun, 08 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

>>
>> I'm sorry but I do not understand the above answer yet.
>> Can you define more precisely the conditions which creates
>> any anomalies and how can I replicate them?
>> Probably I do not understand something in this code.
> Simply using your shell test you have to see running threads increase from 
> starting 4 to x (in mine case to 12), then when you create the stop file 
> activity will cease and threads have to come back to initial 4.
> In previous modification threads stay at maximum reached until uhttpd ends.

OK, I also look at the code deeply and I've found that you have two
thread sets and threads in the second one are added dynamically if
necessary and then remove. I'm not sure it's good solution though
some time it can be usable. Anyhow it's still not safe because you
can send you can send termination signal to child thread which will
be suspended, then enter the cleanup thread which makes:

   // Requesting to Running threads to quit (using -1 value)
   AEVAL( s_aRunningThreads, {|| hb_mutexNotify( s_hmtxRunningThreads, -1 ) } )
   // Requesting to Service threads to quit (using -1 value)
   AEVAL( s_aServiceThreads, {|| hb_mutexNotify( s_hmtxServiceThreads, -1 ) } )

   // waiting running threads to quit
   AEVAL( s_aRunningThreads, {|h| hb_threadJoin( h ) } )
   // waiting service threads to quit
   AEVAL( s_aServiceThreads, {|h| hb_threadJoin( h ) } )

and in this moment the child thread will be resumed, and execute:
         hb_aDel( s_aRunningThreads, nPos, TRUE )
or:
         hb_aDel( s_aServiceThreads, nPos, TRUE )
It's race condition which have to be fixes.

> Yes it is, but as you wrote I'm trying to make a prg that can be used on 
> other platforms, maybe based also on hbcurl.

Or maybe HBTIP library is enough.

> Yes, I see that listen() have a queue for incoming connection, but once a 
> connection is retrieved inside uhttpd it's uhttpd job to handle it.
> But surely the main problem now is to understand if there are GPF points 
> that have to be found.
> In any case, until now I got problems only on windows. Tests in Linux seems 
> to works correctly, but in my case I did tests only in a virtual machine.

I was afraid that the problem can be exploited only in Windows and
I think I know the reason. I used semaphore variables to emulate
conditional variables. It may work but only if windows keep one
strict restriction for them and always put threads in FIFO queue.
I know MS and it's probably not true. It should be for threads with
the same priority but Windows seems to temporary change priorities
for some threads, f.e. "to improve" interactive programs. It will
break current code. To resolve the problem I should use full POSIX
thread conditional variables emulation I added for OS2 builds also
in Windows.
I'll commit such modification in a while so please make some tests
in real Windows.

BTW my few notes:
1. In *nix build using GTXWC is not necessary. I suggest to simply
   use default GTTRM GT driver. Not all user use xWindow.
2. hb_inetTimeOut() should be used in different way. There is a typo
   in hb_inetDataReady() in second parameter I'll fix in a while and
   I'll update this code. I also suggest to use bigger delay at least
   in *nixes. Please verify my modifications.
3. the files in ./sessions directory can cause very serious performance
   problems on some file systems due to huge amount of files in single
   directory.
4. FILE_STOP is check only when there is no incomming connection so
   I was not able to stop uhttpd server simulating big number of
   concurrent connection. It should be check also after receiving
   new connection at least once per few times.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Mar  8 19:15:19 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar  8 19:15:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10571] trunk/harbour
Message-ID: <E1LgSDH-0008PL-NL@d5vjzd1.ch3.sourceforge.com>

Revision: 10571
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10571&view=rev
Author:   druzus
Date:     2009-03-08 23:15:18 +0000 (Sun, 08 Mar 2009)

Log Message:
-----------
2009-03-09 00:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
  * harbour/source/vm/thread.c
    * emulate POSIX thread conditional variables in Windows builds.
      It should fix some possible bad behavior in MS-Windows Harbour
      MT programs.

  * harbour/source/rtl/hbinet.c
    ! fixed typo in HB_INETDATAREADY() - the second parameter (timeout)
      was ignored.

  * harbour/contrib/examples/uhttpd/uhttpdc.c
    * fixed typo in conditional iMsec usage.

  * harbour/contrib/examples/uhttpd/uhttpd.prg
    * set default timeout for socket operations to 3 sec.
    * use timeout parameter in HB_INETDATAREADY() and
      increased default timeout for accept to 250 millisecs.
      Please correct this modification if you prefer different values.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c
    trunk/harbour/include/hbthread.h
    trunk/harbour/source/rtl/hbinet.c
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Mon Mar  9 04:46:12 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar  9 04:46:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <20090308231434.GA21400@uran.home.aster.pl>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>	<49B30429.4040201@fsgiudice.com>	<20090308022606.GA15698@uran.home.aster.pl>	<49B438F5.1060806@fsgiudice.com>
	<20090308231434.GA21400@uran.home.aster.pl>
Message-ID: <49B4D754.2000505@fsgiudice.com>

Hi,

Il 09/03/2009 0.14, Przemyslaw Czerpak ha scritto:
> 
> It's race condition which have to be fixes.
> 

This should be already ok from
2009-03-08 00:43 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
see lQuitRequest var.

>> Yes it is, but as you wrote I'm trying to make a prg that can be used on 
>> other platforms, maybe based also on hbcurl.
> 
> Or maybe HBTIP library is enough.

Yep

> I'll commit such modification in a while so please make some tests
> in real Windows.
> 

I will do, thank you.

> BTW my few notes:
> 1. In *nix build using GTXWC is not necessary. I suggest to simply
>    use default GTTRM GT driver. Not all user use xWindow.

Forgot. I will do.

> 2. hb_inetTimeOut() should be used in different way. There is a typo
>    in hb_inetDataReady() in second parameter I'll fix in a while and
>    I'll update this code. I also suggest to use bigger delay at least
>    in *nixes. Please verify my modifications.
Ok, previous values were totally arbitrary, should be refined. I will 
check with your modification that surely are better than mine.

> 3. the files in ./sessions directory can cause very serious performance
>    problems on some file systems due to huge amount of files in single
>    directory.

Sessions are already ready to be used also with dbf / database or other 
containers, so at the moment this method is only for tests. Also if 
there is a GC that checks for not used files and delete them.

> 4. FILE_STOP is check only when there is no incomming connection so
>    I was not able to stop uhttpd server simulating big number of
>    concurrent connection. It should be check also after receiving
>    new connection at least once per few times.
> 

I will do.

Thank you for suggestions.
Best regards
Francesco

From info at fsgiudice.com  Mon Mar  9 04:48:33 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar  9 04:53:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10571] trunk/harbour
In-Reply-To: <E1LgSDH-0008PL-NL@d5vjzd1.ch3.sourceforge.com>
References: <E1LgSDH-0008PL-NL@d5vjzd1.ch3.sourceforge.com>
Message-ID: <49B4D7E1.605@fsgiudice.com>

Hi Przemek,

Il 09/03/2009 0.15, druzus@users.sourceforge.net ha scritto:
> 2009-03-09 00:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/source/vm/thread.c
>     * emulate POSIX thread conditional variables in Windows builds.
>       It should fix some possible bad behavior in MS-Windows Harbour
>       MT programs.
is it correct at line 849 ?:
#  elif defined( HB_OS_WIM )
I think that should be:
#  elif defined( HB_OS_WIN )

Best regards

Francesco

From info at fsgiudice.com  Mon Mar  9 04:56:37 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar  9 04:56:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10571] trunk/harbour
In-Reply-To: <49B4D7E1.605@fsgiudice.com>
References: <E1LgSDH-0008PL-NL@d5vjzd1.ch3.sourceforge.com>
	<49B4D7E1.605@fsgiudice.com>
Message-ID: <49B4D9C5.6040801@fsgiudice.com>



Il 09/03/2009 9.48, Francesco Saverio Giudice ha scritto:
> Hi Przemek,
> 
> Il 09/03/2009 0.15, druzus@users.sourceforge.net ha scritto:
>> 2009-03-09 00:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>   * harbour/source/vm/thread.c
>>     * emulate POSIX thread conditional variables in Windows builds.
>>       It should fix some possible bad behavior in MS-Windows Harbour
>>       MT programs.
> is it correct at line 849 ?:
> #  elif defined( HB_OS_WIM )
> I think that should be:
> #  elif defined( HB_OS_WIN )

same typo at line 743

Best regards
Francesco


From qiinfo at ig.com.br  Mon Mar  9 07:32:05 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 07:32:09 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090302220701.GC27031@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
Message-ID: <22411399.post@talk.nabble.com>


Hello Przemek

When I add "fivewin.ch" in my program, I generated in the compilation error
below: 

hrb1.obj : error LNK2001: unresolved external symbol
_HB_FUN_HB_COMPILEFROMBUF

How to fix this?

[CODE]

#include "fivewin.ch"

#define EOL chr(10) 
proc main 
   local CONTENT, HANDLE_HRB, PRG, HRBCODE 

   PRG := ; 
      "proc p()" + EOL + ; 
      "   ? 'Hello World'" + EOL + ; 
      "   alert( 'Hello World' )" + EOL + ; 
      "return" 
   HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2", "-q0"
) 
   memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) ) 

   CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" ) 
   HANDLE_HRB := hb_hrbload( CONTENT ) 
   hb_hrbDo( HANDLE_HRB ) 
   hb_hrbunload( HANDLE_HRB ) 

   MSGSTOP( "END" )

return NIL

[ENDCODE]

Best regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22411399.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Mon Mar  9 07:46:04 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 07:46:07 2009
Subject: [Harbour] about "extend class"
In-Reply-To: <22309603.post@talk.nabble.com>
References: <22309603.post@talk.nabble.com>
Message-ID: <22411625.post@talk.nabble.com>


Hello,

[CODE]

#include "FiveWin.ch"

#ifdef __HARBOUR__
#ifndef __XHARBOUR__

   #include "\harbour\contrib\xhb\xhbcls.ch"

#endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

#define COMBO_BASE             WM_USER
#define CB_GETDROPPEDWIDTH     ( COMBO_BASE + 25 )  && 339

*************
function main
*************

MY_CLASSES()

return NIL

*******************
function MY_CLASSES
*******************

* This work, but "n" is not necessary
*extend   class  TCombobox with message GETDROPPEDWIDTH( n )           
inline ::SendMsg( CB_GETDROPPEDWIDTH, 0, 0 )

* This would not be the correct way to declare this ?
* This does not work, because it generates error: myc1.prg(31) Error E0030 
Syntax error "syntax error at 'CLASS'" 
extend   class  TCombobox with message GETDROPPEDWIDTH()            inline
::SendMsg( CB_GETDROPPEDWIDTH, 0, 0 )

* This work, ok :)
*extend   class TCombobox with message GETDROPPEDWIDTH              inline
::SendMsg( CB_GETDROPPEDWIDTH, 0, 0 )

msgstop( "ready" )

return NIL

[ENDCODE]

All three statements should work, right ?

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/about-%22extend-class%22-tp22309603p22411625.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From alcisoft at arrakis.es  Mon Mar  9 08:16:12 2009
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Mon Mar  9 08:19:22 2009
Subject: [Harbour] Re: Wild idea: Conditional #include
References: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
Message-ID: <gp31fk$i94$1@ger.gmane.org>

Victor,

and perhaps:

#IfFile "Paco.Lib"
 ...
#EndIf

like a #IfDef

#IfFile sounds like a File() Function because anything file can to use, not only .ch files. Further File() sounds to file exist on disk

Do you understand me ?


Regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/bc881aee/attachment.html
From qiinfo at ig.com.br  Mon Mar  9 08:50:54 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 08:50:59 2009
Subject: [Harbour] Error in "if"
Message-ID: <22412518.post@talk.nabble.com>


Hello, 

Because the program below, generates a compilation error:

[CODE]
*#include "fivewin.ch"

#ifdef __HARBOUR__
   #ifndef __XHARBOUR__

      #include "hbcompat.ch"

   #endif /* __XHARBOUR__ */
#endif /* __HARBOUR__ */

function MAIN

local cTeste := "nVar = 2"
private nVar := 1

if .not. ( empty( cTeste ) .or. &( cTeste ) )
   ? "NO"
else
   ? "OK"
endif

return NIL

[ENDCODE]

Generate this error:

Harbour 1.1.0dev (Rev. 10564)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hrberr3.prg'...
hrberr3.prg(16) Error E0030  Syntax error "syntax error at ')'"
hrberr3.prg(18) Error E0014  ELSE does not match IF
hrberr3.prg(20) Error E0010  ENDIF does not match IF
3 errors

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Error-in-%22if%22-tp22412518p22412518.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Mar  9 08:55:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  9 08:55:59 2009
Subject: [Harbour] Re: Wild idea: Conditional #include
In-Reply-To: <gp31fk$i94$1@ger.gmane.org>
References: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
	<gp31fk$i94$1@ger.gmane.org>
Message-ID: <18d502870903090555w3bac8a8ai41040bffd78f1191@mail.gmail.com>

Hi Antioni,
Yes, I understand.

After giving even more thought I'm thinking of moving the
whole logic to the make level. This is better because we
don't have to introduce such dependencies in the source,
can keep using standard methods, and this way it also works
with C code.

Something like:

hbgtwvg.hbp
---
requires=hbwin xhb
prgflags=-DHAS_GTWVG
cflags=-DHAS_GTWVG
prgincludes=gtwvg.ch
cincludes=hbgtwvg.h
libs=gtwvg
libpaths=C:\libs
autodetect=yes
---

This is similar to the pkg-config method.

Brgds,
Viktor

On Mon, Mar 9, 2009 at 1:16 PM, Antonio Martinez <alcisoft@arrakis.es>wrote:

>  Victor,
>
> and perhaps:
>
> #IfFile "Paco.Lib"
>  ...
> #EndIf
>
> like a #IfDef
>
> #IfFile sounds like a File() Function because anything file can to use, not
> only .ch files. Further File() sounds to file exist on disk
>
> Do you understand me ?
>
>
> Regards
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/90bb2f21/attachment.html
From druzus at users.sourceforge.net  Mon Mar  9 09:02:52 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar  9 09:02:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10572] trunk/harbour
Message-ID: <E1Lgf88-0001Cu-Dv@c3vjzd1.ch3.sourceforge.com>

Revision: 10572
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10572&view=rev
Author:   druzus
Date:     2009-03-09 13:02:51 +0000 (Mon, 09 Mar 2009)

Log Message:
-----------
2009-03-09 14:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbpp.h
    ! changed the NOT operator precedence - it should be bigger then
      logical .and./.or. operators in #if expressions

  * harbour/source/vm/thread.c
    ! fixed typo HB_OS_WIM -> HB_OS_WIN - thanks to Francesco.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbpp.h
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar  9 09:37:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 09:31:57 2009
Subject: [Harbour] Re: Wild idea: Conditional #include
In-Reply-To: <18d502870903090555w3bac8a8ai41040bffd78f1191@mail.gmail.com>
References: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
	<gp31fk$i94$1@ger.gmane.org>
	<18d502870903090555w3bac8a8ai41040bffd78f1191@mail.gmail.com>
Message-ID: <20090309133748.GA7176@uran.home.aster.pl>

On Mon, 09 Mar 2009, Szak?ts Viktor wrote:

Hi,

> After giving even more thought I'm thinking of moving the
> whole logic to the make level. This is better because we
> don't have to introduce such dependencies in the source,
> can keep using standard methods, and this way it also works
> with C code.
> Something like:
> hbgtwvg.hbp
> ---
> requires=hbwin xhb
> prgflags=-DHAS_GTWVG
> cflags=-DHAS_GTWVG
> prgincludes=gtwvg.ch
> cincludes=hbgtwvg.h
> libs=gtwvg
> libpaths=C:\libs
> autodetect=yes
> ---
> This is similar to the pkg-config method.

We already use such method partially by including
setup.ch rules into standard PP rules.
In few places you can use yet another method in hbmk2.
Just simply check if library file exists.
The one thing which is hard to detect in such way is GPM.
Probably it will be also good to move GPM client code from
GTTRM, GTCRS and GTSLN to separate HBGPM library which will
be registered like regex library so we will use only wrappers
to GPM functions in above GTs.
If you want to extend PP to verify if some file exists then
I suggest to use new pseudo function like defined() which
can be used inside #if expressions, f.e.: file():
   #if defined( ABC ) .and. file( "abc.ch" )
      ...
   #endif
or:
   #if defined( XYZ ) .and. file( <qwe.ch> )
      ...
   #endif
Please note that file name quoting is important. PP looks for "abc.ch"
in different directories then for <abc.ch>.

Pritpal asked about support for adding new PP files from
command line. xHarbour already has such functionality and it's
done by /u+<file> switch. Unlike /u<file> it does not clear
build in PP rules. I think that such option can be usable for
users. I do not like some bad results of overloading all PP
commands by user. Looks that we can see some of them on this
list. /u+<file> can resolve such problems.
Probably we should also clear HARBOUR and CLIPPER environment
variables in our Harbour build scripts. Otherwise
   SET CLIPPER=/umystd.ch
can cause really unpredictable results when Harbour binaries
are created.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Mar  9 09:41:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  9 09:41:25 2009
Subject: [Harbour] Little problem using hbmk2
Message-ID: <609353e70903090641i63d62439we0bd9f5aa98f1da1@mail.gmail.com>

c:\harbour\max>HBMK2 HBM -n
hbmk: Error: Compiler value unknown: bcc32

path c:\devl\mingw32make;c:\devl\BCC55\BIN;C:\harbour\bcc32\bin;
INCLUDE=C:\harbour\bcc32\INCLUDE;c:\devl\BCC55\INCLUDE
LIB=C:\harbour\bcc32\LIB;c:\devl\BCC55\lib;c:\devl\BCC55\lib\PSDK;
HB_COMPILER=bcc32

If i start make_gnu.bat then "c:\harbour\max>HBMK2 HBM -n" work without
problem
What must  can do for using without compiling ?

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/23f33122/attachment.html
From druzus at acn.waw.pl  Mon Mar  9 09:48:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 09:42:54 2009
Subject: [Harbour] Error in "if"
In-Reply-To: <22412518.post@talk.nabble.com>
References: <22412518.post@talk.nabble.com>
Message-ID: <20090309134847.GB7176@uran.home.aster.pl>

On Mon, 09 Mar 2009, Rossine wrote:

Hi,

> Because the program below, generates a compilation error:
> [CODE]
> *#include "fivewin.ch"
> #ifdef __HARBOUR__
>    #ifndef __XHARBOUR__
>       #include "hbcompat.ch"
>    #endif /* __XHARBOUR__ */
> #endif /* __HARBOUR__ */
> function MAIN
> local cTeste := "nVar = 2"
> private nVar := 1
> if .not. ( empty( cTeste ) .or. &( cTeste ) )
>    ? "NO"
> else
>    ? "OK"
> endif
> return NIL
> [ENDCODE]
> Generate this error:
> Harbour 1.1.0dev (Rev. 10564)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hrberr3.prg'...
> hrberr3.prg(16) Error E0030  Syntax error "syntax error at ')'"
> hrberr3.prg(18) Error E0014  ELSE does not match IF
> hrberr3.prg(20) Error E0010  ENDIF does not match IF
> 3 errors

It's cause by very danger rules used to emulate Harbour bit operators:
   &, |, ^^
in hbcompat.ch:
   #translate ( <exp1> | <exp2> )      => ( HB_BITOR( (<exp1>), (<exp2>) ) )
   #translate ( <exp1> & <exp2> )      => ( HB_BITAND( (<exp1>), (<exp2>) ) )
   #translate ( <exp1> ^^ <exp2> )     => ( HB_BITXOR( (<exp1>), (<exp2>) ) )

I suggest to comment these lines.
& has special meaning in Clipper and using it as bit operator in xHarbour
creates syntax problems. We cannot replicate exact xHarbour behavior even
on compiler level without breaking some valid Clipper code.
The above PP rules are simple hacks which can help in some places but
also can break some other code just like in your example.
If you need bit operators then use HB_BIT* functions. They are optimized
by compiler at compile time so you can use them also to initialize static
variables.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  9 09:49:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 09:43:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10571] trunk/harbour
In-Reply-To: <49B4D9C5.6040801@fsgiudice.com>
References: <E1LgSDH-0008PL-NL@d5vjzd1.ch3.sourceforge.com>
	<49B4D7E1.605@fsgiudice.com> <49B4D9C5.6040801@fsgiudice.com>
Message-ID: <20090309134925.GC7176@uran.home.aster.pl>

On Mon, 09 Mar 2009, Francesco Saverio Giudice wrote:
>> Il 09/03/2009 0.15, druzus@users.sourceforge.net ha scritto:
>>> 2009-03-09 00:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>>   * harbour/source/vm/thread.c
>>>     * emulate POSIX thread conditional variables in Windows builds.
>>>       It should fix some possible bad behavior in MS-Windows Harbour
>>>       MT programs.
>> is it correct at line 849 ?:
>> #  elif defined( HB_OS_WIM )
>> I think that should be:
>> #  elif defined( HB_OS_WIN )
> same typo at line 743

Thank you very much for information. Just fixed.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  9 09:55:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 09:49:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <49B4D754.2000505@fsgiudice.com>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>
	<49B30429.4040201@fsgiudice.com>
	<20090308022606.GA15698@uran.home.aster.pl>
	<49B438F5.1060806@fsgiudice.com>
	<20090308231434.GA21400@uran.home.aster.pl>
	<49B4D754.2000505@fsgiudice.com>
Message-ID: <20090309135510.GD7176@uran.home.aster.pl>

On Mon, 09 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

> This should be already ok from
> 2009-03-08 00:43 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
> see lQuitRequest var.

I was talking about this version.

>> 2. hb_inetTimeOut() should be used in different way. There is a typo
>>    in hb_inetDataReady() in second parameter I'll fix in a while and
>>    I'll update this code. I also suggest to use bigger delay at least
>>    in *nixes. Please verify my modifications.
> Ok, previous values were totally arbitrary, should be refined. I will check 
> with your modification that surely are better than mine.

Maybe you need some smaller period for WIN_SYSREFRESH() but in other
builds which does not poll() this function I suggest to use bugger
value. I've just set it to 250 but it will also effect windows hb_inet*()
builds.

BTW if you want to make some tests with Windows then I suggest to use
hb_inet*() until socket.c will not have been updated for releasing
HVM lock. Now using socket.c probably you will see some random delays.

best regards,
Przemek
From niki at synel.co.il  Mon Mar  9 09:47:32 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar  9 09:51:14 2009
Subject: [Harbour] Little problem using hbmk2
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F59789D56@Mail-yoq.SYNEL-COMPANY.LTD>

Massimo,

> c:\harbour\max>HBMK2 HBM -n
> hbmk: Error: Compiler value unknown: bcc32

> HB_COMPILER=bcc32

You need to set HB_COMPILER=bcc   (and not bcc32)

  Chen.
From harbour.01 at syenar.hu  Mon Mar  9 10:54:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  9 10:54:36 2009
Subject: [Harbour] Re: Wild idea: Conditional #include
In-Reply-To: <20090309133748.GA7176@uran.home.aster.pl>
References: <18d502870903081043n5b9987a7l1c968210a02f5eda@mail.gmail.com>
	<gp31fk$i94$1@ger.gmane.org>
	<18d502870903090555w3bac8a8ai41040bffd78f1191@mail.gmail.com>
	<20090309133748.GA7176@uran.home.aster.pl>
Message-ID: <18d502870903090754l6abb583cx3b3efd91a2f23392@mail.gmail.com>

Hi Przemek,


> > This is similar to the pkg-config method.
>
> We already use such method partially by including
> setup.ch rules into standard PP rules.
> In few places you can use yet another method in hbmk2.
> Just simply check if library file exists.
> The one thing which is hard to detect in such way is GPM.
> Probably it will be also good to move GPM client code from
> GTTRM, GTCRS and GTSLN to separate HBGPM library which will
> be registered like regex library so we will use only wrappers
> to GPM functions in above GTs.


Good idea, you have my vote.


> If you want to extend PP to verify if some file exists then
> I suggest to use new pseudo function like defined() which
> can be used inside #if expressions, f.e.: file():
>   #if defined( ABC ) .and. file( "abc.ch" )
>      ...
>   #endif
> or:
>   #if defined( XYZ ) .and. file( <qwe.ch> )
>      ...
>   #endif
> Please note that file name quoting is important. PP looks for "abc.ch"
> in different directories then for <abc.ch>.


Yes, I know. This is the cleanest method, so if we do it,
let's do it this way, I agree.


> Pritpal asked about support for adding new PP files from
> command line. xHarbour already has such functionality and it's
> done by /u+<file> switch. Unlike /u<file> it does not clear
> build in PP rules. I think that such option can be usable for
> users. I do not like some bad results of overloading all PP
> commands by user. Looks that we can see some of them on this
> list. /u+<file> can resolve such problems.


Okay.


> Probably we should also clear HARBOUR and CLIPPER environment
> variables in our Harbour build scripts. Otherwise
>   SET CLIPPER=/umystd.ch
> can cause really unpredictable results when Harbour binaries
> are created.


I'll add the trick to non-bash scripts.

More and more functionality requires WinNT or above, so can we
say _in general_ that building Harbour for Windows requires WinNT?

This could also mean we can remove those duplicated lines in
win specific make files which deal with 'command.com'. Would
be a relief IMO.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/4576bf9f/attachment-0001.html
From mbelgrano at deltain.it  Mon Mar  9 11:02:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  9 11:02:39 2009
Subject: [Harbour] Little problem using hbmk2
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F59789D56@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F59789D56@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <609353e70903090802p1cf1056dmdf0f19c016eff46e@mail.gmail.com>

Sure.
Thanks

2009/3/9 Chen Kedem <niki@synel.co.il>

> Massimo,
>
> > c:\harbour\max>HBMK2 HBM -n
> > hbmk: Error: Compiler value unknown: bcc32
>
> > HB_COMPILER=bcc32
>
> You need to set HB_COMPILER=bcc   (and not bcc32)
>
>  Chen._______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/144d58ac/attachment.html
From vszakats at users.sourceforge.net  Mon Mar  9 11:24:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  9 11:24:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10573] trunk/harbour
Message-ID: <E1LghKw-0008SR-7D@dn4whf1.ch3.sourceforge.com>

Revision: 10573
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10573&view=rev
Author:   vszakats
Date:     2009-03-09 15:24:12 +0000 (Mon, 09 Mar 2009)

Log Message:
-----------
2009-03-09 16:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu_os2.cmd
  * make_gnu.bat
    + Clearing HARBOUR/CLIPPER envvars while building Harbour.

  * utils/hbmk2/hbmk2.prg
    * TODO section update.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar  9 11:36:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  9 11:36:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10573] trunk/harbour
In-Reply-To: <E1LghKw-0008SR-7D@dn4whf1.ch3.sourceforge.com>
References: <E1LghKw-0008SR-7D@dn4whf1.ch3.sourceforge.com>
Message-ID: <18d502870903090836n7de31f7t61de84ba12d0501e@mail.gmail.com>

Forgot to mention that bcc32 is no longer accepted as valid HB_COMPILER value
for the builds. This is to avoid ambiguities.
Brgds,
Viktor

On Mon, Mar 9, 2009 at 4:24 PM, <vszakats@users.sourceforge.net> wrote:

> Revision: 10573
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10573&view=rev
> Author:   vszakats
> Date:     2009-03-09 15:24:12 +0000 (Mon, 09 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-09 16:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * make_gnu_os2.cmd
>  * make_gnu.bat
>    + Clearing HARBOUR/CLIPPER envvars while building Harbour.
>
>  * utils/hbmk2/hbmk2.prg
>    * TODO section update.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/make_gnu.bat
>    trunk/harbour/make_gnu_os2.cmd
>    trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/6c47363c/attachment.html
From mbelgrano at deltain.it  Mon Mar  9 11:44:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  9 11:44:32 2009
Subject: [Harbour] Request for comment about Experiment for Emulating gtwvw
	with gtwvt/gtwvg/XWC
Message-ID: <609353e70903090844x60ce34e6q1670913ce3a3f658@mail.gmail.com>

I am trying to port same source from xharbour -gtwvw   to harbour using
gtwvt and Multi Windows/Gt  made by Przemek
I have emulated WVW_nOpenWindow, WVW_lCloseWindow, wvw_setmaincoord
Can somebody give a comment?
Is still imperfect but works with this liittle sample
Particularly the way for made a translation of row/col see me little dirty
(and not work in code of library)
Follow program demonstrate how powerfull is harbour
I invite  anybody give any kind of suggestion

Thanks in advance

// Experiment for Emulating gtwvw with gtwvt/gtwvg/XWC
// #INCLIDE "wvw2wvt.ch" here non neccessary
#IFDEF __PLATFORM__WINDOWS
  REQUEST HB_GT_WVT_DEFAULT
  #DEFINE THREAD_GT "WVT"
#ELSE
  REQUEST HB_GT_STD_DEFAULT
  #DEFINE THREAD_GT "XWC"
#ENDIF
#COMMAND DEFAULT <v1> TO <x1> [, <vN> TO <xN> ]=>
IF((<v1>)=NIL,<v1>:=<x1>,NIL) [; IF((<vN>)=NIL,<vN>:=<xN>,NIL)]
STATIC S_Ocrt:={}
STATIC S_setmaincoord:=.f.
#XTRANSLATE setpos(   => setpos2(

FUNCTION main
   local X_Number:=9
   cls
   wvw_setmaincoord(.t.)
   WINDO=WVW_nOpenWindow("", 5, 5, 7, 40)
   @ 5,5 ,7,40 box ""
   @ 6,6 SAY "Number" get number
   READ
   WVW_lCloseWindow(WINDO)
RETURN

FUNCTION  WVW_nOpenWindow(X_title,x_top,x_left,x_bottom,x_right)
   local ocrt
   x_ocrt := hb_gtCreate( THREAD_GT )
//  ocrt := hb_gtSelect( ocrt )
//  hb_gtReload(THREAD_GT  )
   setmode(x_bottom-x_top+1,x_right-x_left+1)
   ? x_bottom-x_top,x_right-x_left
   x_oCrt := hb_gtSelect()
   aadd(s_ocrt,{x_ocrt,X_title,x_top,x_left,x_bottom,x_right})
   x_ret=len(s_ocrt)
   RETURN x_ret

FUNCTION WVW_lCloseWindow(x_pos)
    default x_pos to len(s_ocrt)
       s_ocrt[x_pos,1]=nil
       adel(s_ocrt,x_pos,.t.)
   RETURN

FUNCTION wvw_setmaincoord(x_coord)
   s_setmaincoord:=x_coord
   RETURN

#XUNTRANSLATE setpos(   =>
FUNCTION SetPos2( x_row, x_col )
   local x_pos:=len(s_ocrt)
   // altd()
   if s_setmaincoord
      setpos(x_row-s_ocrt[x_pos,3],x_col-s_ocrt[x_pos,5])
   else
      setpos(x_row,x_col)
   endif
   RETURN


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/5d251085/attachment.html
From mbelgrano at deltain.it  Mon Mar  9 12:05:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  9 12:05:46 2009
Subject: [Harbour] Re: Request for comment about Experiment for Emulating
	gtwvw with gtwvt/gtwvg/XWC
In-Reply-To: <609353e70903090844x60ce34e6q1670913ce3a3f658@mail.gmail.com>
References: <609353e70903090844x60ce34e6q1670913ce3a3f658@mail.gmail.com>
Message-ID: <609353e70903090905y73fa8f70t1296f1785eb7a02e@mail.gmail.com>

This is not html post and without error please read  source here
-----------------------wvw_emulation.prg------------------------
// Experiment for Emulating gtwvw with gtwvt/gtwvg/XWC
// #INCLIDE "wvw2wvt.ch"
#IFDEF __PLATFORM__WINDOWS
  REQUEST HB_GT_WVT_DEFAULT
  #DEFINE THREAD_GT "WVT"
#ELSE
  REQUEST HB_GT_STD_DEFAULT
  #DEFINE THREAD_GT "XWC"
#ENDIF
#COMMAND DEFAULT <v1> TO <x1> [, <vN> TO <xN> ]=>
IF((<v1>)=NIL,<v1>:=<x1>,NIL) [; IF((<vN>)=NIL,<vN>:=<xN>,NIL)]
STATIC S_Ocrt:={}
STATIC S_setmaincoord:=.f.
#XTRANSLATE setpos(   => setpos2(

FUNCTION main
   local X_Number:=9
   cls
   wvw_setmaincoord(.t.)
   WINDO=WVW_nOpenWindow("", 5, 5, 7, 40)
   @ 5,5 ,7,40 box ""
   @ 6,6 SAY "Number" get x_number
   READ
   WVW_lCloseWindow(WINDO)
RETURN

FUNCTION  WVW_nOpenWindow(X_title,x_top,x_left,x_bottom,x_right)
   local ocrt
   x_ocrt := hb_gtCreate( THREAD_GT )
//  ocrt := hb_gtSelect( ocrt )
//  hb_gtReload(THREAD_GT  )
   setmode(x_bottom-x_top+1,x_right-x_left+1)
  // ? x_bottom-x_top,x_right-x_left
   x_oCrt := hb_gtSelect()
   aadd(s_ocrt,{x_ocrt,X_title,x_top,x_left,x_bottom,x_right})
   x_ret=len(s_ocrt)
   RETURN x_ret

FUNCTION WVW_lCloseWindow(x_pos)
    default x_pos to len(s_ocrt)
       s_ocrt[x_pos,1]=nil
       adel(s_ocrt,x_pos,.t.)
   RETURN

FUNCTION wvw_setmaincoord(x_coord)
   s_setmaincoord:=x_coord
   RETURN

#XUNTRANSLATE setpos(   =>
FUNCTION SetPos2( x_row, x_col )
   local x_pos:=len(s_ocrt)
   // altd()
   if s_setmaincoord
      setpos(x_row-s_ocrt[x_pos,3],x_col-s_ocrt[x_pos,5])
   else
      setpos(x_row,x_col)
   endif
   RETURN

--
Massimo Belgrano
From druzus at users.sourceforge.net  Mon Mar  9 12:10:51 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar  9 12:10:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10574] trunk/harbour
Message-ID: <E1Lgi43-0005s4-6A@c3vjzd1.ch3.sourceforge.com>

Revision: 10574
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10574&view=rev
Author:   druzus
Date:     2009-03-09 16:10:50 +0000 (Mon, 09 Mar 2009)

Log Message:
-----------
2009-03-09 17:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcompdf.h
  * harbour/source/compiler/cmdcheck.c
  * harbour/source/compiler/hbcomp.c
  * harbour/source/compiler/ppcomp.c
    + added support for extended definition files in Harbour compiler
      switches: -u+<file>
      This option can be repeated if user wants to use more then one
      file with extended definitions. The definitions are added after
      standard ones and after defines specified by -D<name>[=<value>]
      Harbour compiler switch.
      The behavior of -u[<file>] remains unchanged and -u or -u<file>
      can can be used together with -u+<file>.
      Note for xHarbour users: it's not exactly the same behavior as
      in xHarbour compiler.
    ! fixed memory leak when repeated -u[<file>] options are used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/hbcomp.c
    trunk/harbour/source/compiler/ppcomp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Mon Mar  9 12:55:15 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 12:55:19 2009
Subject: [Harbour] Error in "if"
In-Reply-To: <20090309134847.GB7176@uran.home.aster.pl>
References: <22412518.post@talk.nabble.com>
	<20090309134847.GB7176@uran.home.aster.pl>
Message-ID: <22413694.post@talk.nabble.com>


Hello Przemek,


Przemyslaw Czerpak-2 wrote:
> 
> It's cause by very danger rules used to emulate Harbour bit operators:
>    &, |, ^^
> in hbcompat.ch:
>    #translate ( <exp1> | <exp2> )      => ( HB_BITOR( (<exp1>), (<exp2>) )
> )
>    #translate ( <exp1> & <exp2> )      => ( HB_BITAND( (<exp1>), (<exp2>)
> ) )
>    #translate ( <exp1> ^^ <exp2> )     => ( HB_BITXOR( (<exp1>), (<exp2>)
> ) )
> 
> I suggest to comment these lines.
> & has special meaning in Clipper and using it as bit operator in xHarbour
> creates syntax problems. We cannot replicate exact xHarbour behavior even
> on compiler level without breaking some valid Clipper code.
> The above PP rules are simple hacks which can help in some places but
> also can break some other code just like in your example.
> If you need bit operators then use HB_BIT* functions. They are optimized
> by compiler at compile time so you can use them also to initialize static
> variables.
> 

This work?s fine :)

Thanks a lot,

Rossine.

-- 
View this message in context: http://www.nabble.com/Error-in-%22if%22-tp22412518p22413694.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kleyber at tkinformidia.net  Mon Mar  9 14:01:20 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Mon Mar  9 14:01:23 2009
Subject: [Harbour] Error in macro symbol (&)
Message-ID: <22413726.post@talk.nabble.com>


Hi,

When I use this in this line:

1071:        COV->cota:=VED->cota&cX.

It gives this error:

sand8.prg(1071) Error E0042  Macro of declared symbol 'COTA&CX.'

How can I solve this?

TIA,

Kleyber Derick
-- 
View this message in context: http://www.nabble.com/Error-in-macro-symbol-%28-%29-tp22413726p22413726.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Mon Mar  9 15:02:17 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 15:02:21 2009
Subject: [Harbour] OT - Convert DLL2lib using MSVC
Message-ID: <22416089.post@talk.nabble.com>


Hello,

Sorry for OT. Tell me about how to convert a DLL to LIB using MSVC?

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/OT---Convert-DLL2lib-using-MSVC-tp22416089p22416089.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Mar  9 15:32:36 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 15:26:42 2009
Subject: [Harbour] Error in macro symbol (&)
In-Reply-To: <22413726.post@talk.nabble.com>
References: <22413726.post@talk.nabble.com>
Message-ID: <20090309193236.GA25747@uran.home.aster.pl>

On Mon, 09 Mar 2009, Kleyber wrote:

Hi,

> When I use this in this line:
> 1071:        COV->cota:=VED->cota&cX.
> It gives this error:
> sand8.prg(1071) Error E0042  Macro of declared symbol 'COTA&CX.'
> How can I solve this?

Here is self contained example:

   proc main()
      local cX
      ? cota&cX
   return

Try it with Clipper and Harbour.
Both will generate above error because cX is LOCAL variable
and should not be used in macros.

In xHarbour & operator in expression like cota&cX works in different way.
Harbour and Clipper generates code like:
   PUSH_STRING    "cota&cX"
   MACRO_EXPAND
In xHarbour the expression is divided and generated PCODE looks like:
   PUSH_STRING    "cota"
   PUSH_VAR       cX
   DO_PLUS
   MACRO_EXPAND
and because cX is pushed by compiler separately then it can be used
with variables declared as LOCAL, STATIC or FIELD.
It's even interesting extensions but it has some bad side effects
if you try to use it inside codeblocks. The results can be different
then in Clipper. Just try this code:

      memvar cY, cota1, cota2
      proc main()
         local bVar
         cY := "1"
         cota1 := "[foo]"
         cota2 := "[bar]"
         bVar := {|| cota&cY }
         ? cota&cY, eval( bVar )
         cY := "2"
         ? cota&cY, eval( bVar )
      return

Compile it with Clipper, Harbour and xHarbour and compare the results.
Harbour gives exactly the same results as Clipper.
This problem can be resolved also with the above xHarbour extension but
it will cause some other anomalies. It will work like in Clipper for
cY declared as memvar (private or public) but if cY is local variable
then it will have to work in different way just like xHarbour works now.
Such differences usually confuse users and create problems so it's not
good idea to introduce them to compiler.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  9 15:39:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 15:33:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <20090309135510.GD7176@uran.home.aster.pl>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>
	<49B30429.4040201@fsgiudice.com>
	<20090308022606.GA15698@uran.home.aster.pl>
	<49B438F5.1060806@fsgiudice.com>
	<20090308231434.GA21400@uran.home.aster.pl>
	<49B4D754.2000505@fsgiudice.com>
	<20090309135510.GD7176@uran.home.aster.pl>
Message-ID: <20090309193924.GA8058@uran.home.aster.pl>

On Mon, 09 Mar 2009, Przemyslaw Czerpak wrote:

Hi,

> BTW if you want to make some tests with Windows then I suggest to use
> hb_inet*() until socket.c will not have been updated for releasing
> HVM lock. Now using socket.c probably you will see some random delays.

I created windows binaries with -DUSE_HB_INET and uncommented call to
hb_GCAll( TRUE ) and made some tests in real WinXP.
It was working for quite long time. On other Linux machine in the same
LAN the testing script I sent was executed. Meanwhile I was also making
some manual connections from the browser. Everything was working as
expected. I stopped testing scripts then executed uhttpd -s which cleanly
closed uhttpd server.

best regards,
Przemek
From lkrausem at shaw.ca  Mon Mar  9 16:30:49 2009
From: lkrausem at shaw.ca (Luis Krause Mantilla)
Date: Mon Mar  9 16:30:56 2009
Subject: [Harbour] Error in macro symbol (&)
In-Reply-To: <22413726.post@talk.nabble.com>
References: <22413726.post@talk.nabble.com>
Message-ID: <49B57C79.50904@shaw.ca>

Kleyber:

I'd suggest a different approach.  Use FieldBlock() or FieldWBlock().
It's cleaner and works with local vars (macros require public/private
vars).

local cX := "01"
local bField := FieldBlock( "COTA" + cX )

VED->( Eval( bField ) )

or

local cX := "01"
local bField := FieldWBlock( "COTA" + cX, Select( "VED" ) )

Eval( bField )

Regards,

Kleyber wrote:
> Hi,
>
> When I use this in this line:
>
> 1071:        COV->cota:=VED->cota&cX.
>
> It gives this error:
>
> sand8.prg(1071) Error E0042  Macro of declared symbol 'COTA&CX.'
>
> How can I solve this?
>
> TIA,
>
> Kleyber Derick
>   

-- 
Luis Krause Mantilla
lkrausem at shaw dot ca
luis_krause at hotmail dot com
"May the Source be with GNU"


From kleyber at tkinformidia.net  Mon Mar  9 16:57:45 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Mon Mar  9 16:57:49 2009
Subject: [Harbour] Error in macro symbol (&)
In-Reply-To: <20090309193236.GA25747@uran.home.aster.pl>
References: <22413726.post@talk.nabble.com>
	<20090309193236.GA25747@uran.home.aster.pl>
Message-ID: <22420559.post@talk.nabble.com>


You are right Przemek. I was using a local variable in this situation and in
xHarbour does not give any error.

Thanks for the explanation.

Best Regards,

Kleyber


Przemyslaw Czerpak-2 wrote:
> 
> On Mon, 09 Mar 2009, Kleyber wrote:
> 
> Hi,
> 
>> When I use this in this line:
>> 1071:        COV->cota:=VED->cota&cX.
>> It gives this error:
>> sand8.prg(1071) Error E0042  Macro of declared symbol 'COTA&CX.'
>> How can I solve this?
> 
> Here is self contained example:
> 
>    proc main()
>       local cX
>       ? cota&cX
>    return
> 
> Try it with Clipper and Harbour.
> Both will generate above error because cX is LOCAL variable
> and should not be used in macros.
> 
> In xHarbour & operator in expression like cota&cX works in different way.
> Harbour and Clipper generates code like:
>    PUSH_STRING    "cota&cX"
>    MACRO_EXPAND
> In xHarbour the expression is divided and generated PCODE looks like:
>    PUSH_STRING    "cota"
>    PUSH_VAR       cX
>    DO_PLUS
>    MACRO_EXPAND
> and because cX is pushed by compiler separately then it can be used
> with variables declared as LOCAL, STATIC or FIELD.
> It's even interesting extensions but it has some bad side effects
> if you try to use it inside codeblocks. The results can be different
> then in Clipper. Just try this code:
> 
>       memvar cY, cota1, cota2
>       proc main()
>          local bVar
>          cY := "1"
>          cota1 := "[foo]"
>          cota2 := "[bar]"
>          bVar := {|| cota&cY }
>          ? cota&cY, eval( bVar )
>          cY := "2"
>          ? cota&cY, eval( bVar )
>       return
> 
> Compile it with Clipper, Harbour and xHarbour and compare the results.
> Harbour gives exactly the same results as Clipper.
> This problem can be resolved also with the above xHarbour extension but
> it will cause some other anomalies. It will work like in Clipper for
> cY declared as memvar (private or public) but if cY is local variable
> then it will have to work in different way just like xHarbour works now.
> Such differences usually confuse users and create problems so it's not
> good idea to introduce them to compiler.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/Error-in-macro-symbol-%28-%29-tp22413726p22420559.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Mar  9 18:11:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar  9 18:11:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10575] trunk/harbour
Message-ID: <E1Lgngf-0000mU-Bj@74yxhf1.ch3.sourceforge.com>

Revision: 10575
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10575&view=rev
Author:   vszakats
Date:     2009-03-09 22:11:04 +0000 (Mon, 09 Mar 2009)

Log Message:
-----------
2009-03-09 23:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/compiler/hbusage.c
    + Added -u+ to help screen.
    * One remaining non-ASCII char cleaned from credit list.

  * include/hbpp.h
  * source/pp/ppcore.c
    ! Renamed HB_PP_MAX_REPATS to HB_PP_MAX_REPEATS.

  * ChangeLog
    * Added one line to my prev entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbpp.h
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/source/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar  9 18:18:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar  9 18:18:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10575] trunk/harbour
In-Reply-To: <E1Lgngf-0000mU-Bj@74yxhf1.ch3.sourceforge.com>
References: <E1Lgngf-0000mU-Bj@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870903091518v2718d50bl873832086a9cec71@mail.gmail.com>

>
> 2009-03-09 23:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * source/compiler/hbusage.c
>    + Added -u+ to help screen.
>    * One remaining non-ASCII char cleaned from credit list.
>
>  * include/hbpp.h
>  * source/pp/ppcore.c
>    ! Renamed HB_PP_MAX_REPATS to HB_PP_MAX_REPEATS.
>

Hm, or was this right?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090309/c3d797fb/attachment-0001.html
From qiinfo at ig.com.br  Mon Mar  9 18:23:43 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 18:23:47 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090302220701.GC27031@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
Message-ID: <22423722.post@talk.nabble.com>


Hello Przemek,

How do I call the "TESTE2" ?

[CODE] 

#include "fivewin.ch" 

#define EOL chr(10) 
proc main 
   local CONTENT, HANDLE_HRB, PRG, HRBCODE 

   PRG := ; 
      "proc p()" + EOL + ; 
      "   ? 'Hello World'" + EOL + ; 
      "   alert( 'Hello World' )" + EOL + ; 
      "return" + EOL + ; 
      "" + EOL + ; 
      "function TESTE2" + EOL + ; 
      "" + EOL + ; 
      "? 'Hello Teste 2'" + EOL + ; 
      "return" + EOL + ; 

   HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2", "-q0"
) 
   memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) ) 

   CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" ) 
   HANDLE_HRB := hb_hrbload( CONTENT ) 
   hb_hrbDo( HANDLE_HRB ) 
   hb_hrbunload( HANDLE_HRB ) 

   MSGSTOP( "END" ) 

return NIL 

[ENDCODE] 

I use this, but is not working:

HANDLE_FUN := HB_HRBGETFUNSYM( HANDLE_HRB, "TESTE2" )

hb_hrbDo( HANDLE_FUN ) 


Regards,

Rossine.



Przemyslaw Czerpak-2 wrote:
> 
> On Mon, 02 Mar 2009, Rossine wrote:
> 
> Hi,
> 
>> I am new in this list, and use xhb.com and I am currently migrating my
>> application to harbour + MSVC. Use in my system files. "HRB" and is
>> experiencing an error of execution in this example:
>> [CODE]
>> function main
>> CLS
>> CONTENT = hb_decrypt (memoread ( "myhrb.hrb), 123)
>> HANDLE_HRB: = HB_hrbload (content)
>> HB_HRBUNLOAD (HANDLE_HRB)
>> return NIL
>> [ENDCODE]
>> Error generated:
>> Error BASE/9998 Argument error: HB_HRBLOAD
>> Called from HB_HRBLOAD (0)
>> Called from MAIN (7)
>> This usually works with xhb.com. What is the correct way to do this, or
>> could do in this harbor?
> 
> In Harbour it will work in the same way. Below is code example.
> But I see one problem in above code.
> hb_crypt()/hb_decrypt() are xHarbour functions which in Harbour
> exists in XHB library. They are copied from xHarbour as is also
> with bugs. One of such bugs is passing non string or empty string
> as the encryption key. In such case hb_crypt() access uninitialized
> memory and can create random results though it's possible that
> they will be repeatable with single binaries. It's very serious bug.
> Always use some nonempty string keys if you want to use these functions
> or use some other ones, f.e. sx_encrypt()/sx_decrypt() in example below.
> 
> best regards,
> Przemek
> 
> 
> #define EOL chr(10)
> proc main
>    local CONTENT, HANDLE_HRB, PRG, HRBCODE
> 
>    PRG := ;
>       "proc p()" + EOL + ;
>       "   ? 'Hello World'" + EOL + ;
>       "   alert( 'Hello World' )" + EOL + ;
>       "return"
>    HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2",
> "-q0" )
>    memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) )
> 
>    CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" )
>    HANDLE_HRB := hb_hrbload( CONTENT )
>    hb_hrbDo( HANDLE_HRB )
>    hb_hrbunload( HANDLE_HRB )
>    WAIT
> return
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22423722.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Mar  9 19:09:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 19:03:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10575] trunk/harbour
In-Reply-To: <18d502870903091518v2718d50bl873832086a9cec71@mail.gmail.com>
References: <E1Lgngf-0000mU-Bj@74yxhf1.ch3.sourceforge.com>
	<18d502870903091518v2718d50bl873832086a9cec71@mail.gmail.com>
Message-ID: <20090309230906.GA10731@uran.home.aster.pl>

On Mon, 09 Mar 2009, Szak?ts Viktor wrote:
> > 2009-03-09 23:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >  * include/hbpp.h
> >  * source/pp/ppcore.c
> >    ! Renamed HB_PP_MAX_REPATS to HB_PP_MAX_REPEATS.
> Hm, or was this right?

It was wrong. My typo. Thanks for the fix.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  9 19:21:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 19:15:10 2009
Subject: [Harbour] About HRB
In-Reply-To: <22423722.post@talk.nabble.com>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22423722.post@talk.nabble.com>
Message-ID: <20090309232104.GB10731@uran.home.aster.pl>

On Mon, 09 Mar 2009, Rossine wrote:

Hi,

> How do I call the "TESTE2" ?
> [CODE] 
> #include "fivewin.ch" 
> #define EOL chr(10) 
> proc main 
>    local CONTENT, HANDLE_HRB, PRG, HRBCODE 
>    PRG := ; 
>       "proc p()" + EOL + ; 
>       "   ? 'Hello World'" + EOL + ; 
>       "   alert( 'Hello World' )" + EOL + ; 
>       "return" + EOL + ; 
>       "" + EOL + ; 
>       "function TESTE2" + EOL + ; 
>       "" + EOL + ; 
>       "? 'Hello Teste 2'" + EOL + ; 
>       "return" + EOL + ; 
>    HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2", "-q0" )
>    memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) ) 
>    CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" ) 
>    HANDLE_HRB := hb_hrbload( CONTENT ) 
>    hb_hrbDo( HANDLE_HRB ) 
>    hb_hrbunload( HANDLE_HRB ) 
>    MSGSTOP( "END" ) 
> return NIL 
> [ENDCODE] 
> I use this, but is not working:
> HANDLE_FUN := HB_HRBGETFUNSYM( HANDLE_HRB, "TESTE2" )
> hb_hrbDo( HANDLE_FUN ) 

HB_HRBGETFUNSYM( <pHrb>, <cFuncName> ) -> <sFuncSymbol> | NIL

This function looks for <cFuncName> in HRB module pointed by
<pHrb> and returns symbol item which refers to this function
or NIL if function cannot be found.
Functions referred by symbol items can be executed using :EVAL()
or EXEC() messages, f.e.:

   sFunc := @str()
   ? sFunc:eval( 123.45, 10, 4 )

type of symbol item is "S":
   ? valtype( sFunc )

So in your code it should be:
   HANDLE_FUN := HB_HRBGETFUNSYM( HANDLE_HRB, "TESTE2" )
and then:
   HANDLE_FUN:EVAL()
or:
   EVAL(HANDLE_FUN)
or class(y) like :EXEC() message:
   HANDLE_FUN:EXEC()

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar  9 19:31:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 19:25:33 2009
Subject: [Harbour] About HRB
In-Reply-To: <22411399.post@talk.nabble.com>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22411399.post@talk.nabble.com>
Message-ID: <20090309233129.GA24275@uran.home.aster.pl>

On Mon, 09 Mar 2009, Rossine wrote:

Hi,

> When I add "fivewin.ch" in my program, I generated in the compilation error
> below: 
> hrb1.obj : error LNK2001: unresolved external symbol
> _HB_FUN_HB_COMPILEFROMBUF
> How to fix this?

It's not compiler but linker error message.
HB_COMPILEFROMBUF() is inside hbcplr library which is missing in
your link scripts.

BTW please remember that HB_COMPILEFROMBUF() is part of compiler
which is on pure GPL license without Harbour exception and should
not be used in closed source programs.
I used it here only to create self contain example.
For your own use you can also make anything what you want with
this function but you should not distribute any closed source
binaries which use this function.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Mar  9 19:46:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar  9 19:46:40 2009
Subject: [Harbour] How can i create lib for msvc,mingw,pelles ce
Message-ID: <609353e70903091646n1e525362y64f945f993705163@mail.gmail.com>

For Bcc i create lib from source with follow lines
del *.obj
hbmk2 mylib01.PRG mylib02.PRG -m -D__GTWVT__ -hbcmp
FOR %%f IN (*.OBJ) DO TLIB DELTA4Hh +%%f
How can i create lib for msvc,mingw,pelles ce

-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Mon Mar  9 20:06:25 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar  9 20:06:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10576] trunk/harbour
Message-ID: <E1LgpUH-0000Vy-9e@3kljzd1.ch3.sourceforge.com>

Revision: 10576
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10576&view=rev
Author:   druzus
Date:     2009-03-10 00:06:24 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-10 01:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/hbusage.c
    ! fixed the /u+ description - it does not work like #include.
      Only preprocessor command are significant in files included
      by -u<file> and -u+<file>

  * harbour/doc/man/harbour.1
    + add -u+<file> description

  * harbour/source/pp/ppcore.c
    ! fixed typo in error message table (missing ',')

  * harbour/source/compiler/cmdcheck.c
    * generate error when -u+ is used without <file>

  * harbour/source/compiler/hbmain.c
    * do not display usage screen if other errors were generated before

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/man/harbour.1
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/compiler/hbusage.c
    trunk/harbour/source/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Mon Mar  9 21:38:16 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 21:38:20 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090309232104.GB10731@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22423722.post@talk.nabble.com>
	<20090309232104.GB10731@uran.home.aster.pl>
Message-ID: <22426414.post@talk.nabble.com>


Hello Prmezek,


Przemyslaw Czerpak-2 wrote:
> 
>> How do I call the "TESTE2" ?
>> type of symbol item is "S":
>>  ? valtype( sFunc )
> 

Ok, the type returned is "S"


Przemyslaw Czerpak-2 wrote:
> 
> This:
>    HANDLE_FUN:EVAL()
> or:
>    EVAL(HANDLE_FUN)
> or:
>    HANDLE_FUN:EXEC()
> 

Sorry but this generate GPF here.

Any more suggestions?

best regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22426414.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Mon Mar  9 21:55:25 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 21:55:29 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090309233129.GA24275@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22411399.post@talk.nabble.com>
	<20090309233129.GA24275@uran.home.aster.pl>
Message-ID: <22426584.post@talk.nabble.com>


Hi, 


Przemyslaw Czerpak-2 wrote:
> 
> 
>>HB_COMPILEFROMBUF() is inside hbcplr library which is missing in
> your link scripts.
> 

Yes, this solved :)

Thank?s,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22426584.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From qiinfo at ig.com.br  Mon Mar  9 22:13:33 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Mar  9 22:13:36 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090309233129.GA24275@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22411399.post@talk.nabble.com>
	<20090309233129.GA24275@uran.home.aster.pl>
Message-ID: <22426745.post@talk.nabble.com>


Hi, 

Maybe I can create something like this: 

[CODE]

HB_FUNC( HB_HRBDOFU )
{
   PHB_SYMB pSym = (PHB_SYMB) hb_parptr( 1 );

   if( pSym )
   {
      int argc = hb_pcount();
      int i;

      hb_vmPushSymbol( pSym );
      hb_vmPushNil();

      for( i = 2; i <= argc; i++ ) // Push other  params
         hb_vmPush( hb_stackItemFromBase( i ) );

      hb_vmDo( argc - 1 );         // Run function       
   }
   else
   {
      hb_errRT_BASE( EG_ARG, 9999, NULL, "HB_HRBDOFU", 0 );
   }
}

[ENDCODE]

PS: This was extracted from xhb, harbor and does not work with. 

Just a suggestion :) 

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22426745.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Mar  9 22:25:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar  9 22:19:35 2009
Subject: [Harbour] About HRB
In-Reply-To: <22426414.post@talk.nabble.com>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22423722.post@talk.nabble.com>
	<20090309232104.GB10731@uran.home.aster.pl>
	<22426414.post@talk.nabble.com>
Message-ID: <20090310022530.GA31589@uran.home.aster.pl>

On Mon, 09 Mar 2009, Rossine wrote:
> > This:
> >    HANDLE_FUN:EVAL()
> > or:
> >    EVAL(HANDLE_FUN)
> > or:
> >    HANDLE_FUN:EXEC()
> Sorry but this generate GPF here.
> Any more suggestions?

In Harbour???

I'm not able to replicate the problem in any way.
Below is self contain example which works perfectly.
If you can create example which GPFs then I'm really interested in.
It will have to be fixed. But be sure it's compiled by Harbour not
xHarbour and the GPF is not caused by some wrong 3-rd party code.

best regards,
Przemek




#define EOL chr(10)
proc main()
   local CONTENT, HANDLE_HRB, HANDLE_FUN, PRG, HRBCODE

   PRG := ;
      "proc p()" + EOL + ;
      "   ? 'Hello World'" + EOL + ;
      "   alert( 'Hello World' )" + EOL + ;
      "return" + EOL + ;
      "" + EOL + ;
      "function TESTE2" + EOL + ;
      "" + EOL + ;
      "? 'Hello Teste 2'" + EOL + ;
      "return nil" + EOL

   HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2", "-q0")
   memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) )

   CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" )
   HANDLE_HRB := hb_hrbload( CONTENT )
   HANDLE_FUN := HB_HRBGETFUNSYM( HANDLE_HRB, "TESTE2" )
   ? "HANDLE_FUN:", VALTYPE( HANDLE_FUN ), "->", HANDLE_FUN
   HANDLE_FUN:EXEC()
   HANDLE_FUN:EVAL()
   EVAL(HANDLE_FUN)
   hb_hrbunload( HANDLE_HRB )
   ? "END"
   // check if RTE is generated after unloading HRB file
   HANDLE_FUN:EVAL()

return
From qiinfo at ig.com.br  Tue Mar 10 00:18:38 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Mar 10 00:18:41 2009
Subject: [Harbour] About HRB
In-Reply-To: <20090310022530.GA31589@uran.home.aster.pl>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22423722.post@talk.nabble.com>
	<20090309232104.GB10731@uran.home.aster.pl>
	<22426414.post@talk.nabble.com>
	<20090310022530.GA31589@uran.home.aster.pl>
Message-ID: <22427789.post@talk.nabble.com>


Hello Przemek,


Przemyslaw Czerpak-2 wrote:
> 
> In Harbour???
> 
> I'm not able to replicate the problem in any way.
> Below is self contain example which works perfectly.
> If you can create example which GPFs then I'm really interested in.
> It will have to be fixed. But be sure it's compiled by Harbour not
> xHarbour and the GPF is not caused by some wrong 3-rd party code.
> 

You're right. The GPF error occurs in a function outside ".HRB". :) 

See example: 

[CODE TESTE.PRG]
#include "fivewin.ch"

#define EOL CHR(10) 

extern qout

proc main()

   local CONTENT, HANDLE_HRB, HANDLE_FUN, PRG, HRBCODE 
   local aHandles, xpar1, xpar2, xpar3, xHandle

   public nScrlMouse

msgstop( "step 1" )
   nScrlMouse := WheelScroll()  && here generate GPF, See.
msgstop( "step 2" )
   SetWheelScroll( 1 )
msgstop( "step 3" )
/*
   PRG := ; 
      "*#include 'fivewin.ch'" + EOL + ;
      "extern SetWheelScroll" + EOL + ;
      "extern WheelScroll" + EOL + ;
      "proc p()" + EOL + ; 
      "   alert( 'Hello World' )" + EOL + ; 
      "return" + EOL + ; 
      "" + EOL + ; 
      "function TESTE2( cPar, nPar )" + EOL + ; 
      "" + EOL + ; 
      "alert( 'Hello Teste 2 ' + cvaltochar(cPar) + ' ' + cvaltochar(nPar)
)" + EOL + ; 
      "alert( valtype( nPar ) )" + EOL + ;
      "if nPar = 1" + EOL + ;
      "   nScrlMouse := WheelScroll()" + EOL + ;
      "   SetWheelScroll( 1 )" + EOL + ;
      "   alert( 'setting' )" + EOL + ; 
      "endif" + EOL + ;
      "return nPar" + EOL 
   HRBCODE := hb_compileFromBuf( PRG, "harbour", "-n", "-w3", "-es2", "-q0"
) 
MSGSTOP( CSTR( HRBCODE ) )
   memowrit( "myhrb.hrb", sx_encrypt( HRBCODE, "myPaswdKey" ) ) 
*/
**   CONTENT := sx_decrypt( memoread( "myhrb.hrb" ), "myPaswdKey" ) 
   CONTENT := memoread( "myhrb.hrb" )
   HANDLE_HRB := hb_hrbload( CONTENT ) 
   HANDLE_FUN := HB_HRBGETFUNSYM( HANDLE_HRB, "TESTE2" ) 

   aHandles := { }
   aadd( aHandles, HANDLE_FUN )

   msgstop( "HANDLE_FUN:" + VALTYPE( aHandles[1] ) + "->" + cvaltochar(
aHandles[1] ) )
   xHandle := aHandles[1]
   msgstop( xHandle:EXEC("hello1",1, xpar1, xpar2, xpar3) )
   msgstop( xHandle:EVAL("hello2",2, xpar1, xpar2, xpar3) )
   msgstop( EVAL( xHandle, "hello3", 3, xpar1, xpar2, xpar3 ) )
   hb_hrbunload( HANDLE_HRB ) 
   msgstop( "END" )
   // check if RTE is generated after unloading HRB file 
   HANDLE_FUN:EVAL() 
return NIL

***********************
function SetWheelScroll( nScrLines )
***********************

#ifndef HKEY_CURRENT_USER
   #define  HKEY_CURRENT_USER       2147483649        // 0x80000001
#endif

   local oReg

   DEFAULT nScrLines := 1

   oReg := TReg32():New( HKEY_CURRENT_USER, "Control Panel\Desktop" )
   oReg:Set( "WheelScrollLines", alltrim(str(nScrLines)) )
   oReg:Close()

return WheelScroll( .T. )

********************
function WheelScroll( lRefresh )
********************

#ifndef HKEY_CURRENT_USER
   #define  HKEY_CURRENT_USER       2147483649        // 0x80000001
#endif

   static nScrLines      &&   := nil

   local oReg

   DEFAULT lRefresh := .F.

   if lRefresh
      nScrLines := nil
   endif
   
  if nScrLines == nil
      oReg      := TReg32():New( HKEY_CURRENT_USER, "Control Panel\Desktop"
)
msgstop( "here generate GPF" )
      nScrLines := oReg:Get( "WheelScrollLines" )
      oReg:Close()
      if Empty( nScrLines )
         nScrLines   := 1
      else
         nScrLines   := Val( nScrLines )
      endif
   endif

return nScrLines

[ENDCODE]

Compile this aside:

[CODE MYHRB.PRG]  I compile: harbour myhrb /gH /m /n
#include 'fivewin.ch'

proc p() 
   alert( 'Hello World' ) 

return 

function TESTE2( cPar, nPar ) 

alert( 'Hello Teste 2 ' + cvaltochar(cPar) + ' ' + cvaltochar(nPar) ) 
alert( valtype( nPar ) )
if nPar = 1
   alert( 'setting mouse scroll' ) 
   nScrlMouse := WheelScroll()
   SetWheelScroll( 1 )
endif

return nPar
[ENDCODE]

Thank you very much,

Rossine.

-- 
View this message in context: http://www.nabble.com/About-HRB-tp22292081p22427789.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From niki at synel.co.il  Tue Mar 10 02:03:16 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 10 02:06:47 2009
Subject: [Harbour] SF: Updated Instructions for Logo Display (Renato)
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F59789D58@Mail-yoq.SYNEL-COMPANY.LTD>

Renato,

I got this mail from SF:

-----------------------------
Hi!  This message is being sent to you because you're an administrator of a
project at SourceForge.net.  I'd like to notify you about some changes
we've made to the SF.net logo that many of you display on your web pages.

The HTML we provided in the past for these logos linked to the front page
of SourceForge.net (http://sourceforge.net), and instead we would like them
to link to your project summary page (i.e., http://sourceforge.net/projects/harbour-project).
 We've also provided a few different sizes and colors for you to choose from, to help the
logo integrate better into the aesthetic design of your pages.

We have updated your project's Logo Display information section
accordingly, and request that you review it and update affected web pages
at your earliest convenience.  It can be found on your project's Analytics
page, under the Project Admin menu.

More details and instructions can be found at:
http://sourceforge.net/community/forum/topic.php?id=4666

Regards,

Ross Turk
Director of Community, SourceForge
-----------------------------


And here is the section from the Admin page:

-----------------------------
The available logos and the correct HTML to use for the Harbour project are:

Logo 1 (Dimensions: 80 x 15; Background: Black)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=8" width="80" height="15" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 2 (Dimensions: 80 x 15; Background: Silver)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=9" width="80" height="15" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 3 (Dimensions: 80 x 15; Background: White)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=10" width="80" height="15" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 4 (Dimensions: 120 x 30; Background: Black)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=11" width="120" height="30" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 5 (Dimensions: 120 x 30; Background: Silver)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=12" width="120" height="30" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 6 (Dimensions: 120 x 30; Background: White)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=13" width="120" height="30" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 7 (Dimensions: 150 x 40; Background: Black)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=14" width="150" height="40" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 8 (Dimensions: 150 x 40; Background: Silver)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=15" width="150" height="40" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>


Logo 9 (Dimensions: 150 x 40; Background: White)

HTML Code:
<a href="http://sourceforge.net/projects/harbour-project"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&type=16" width="150" height="40" border="0" alt="Get Harbour at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>
-----------------------------


The logo used today is:
<img src="http://sflogo.sourceforge.net/sflogo.php?group_id=681&amp;type=4" alt="SourceForge.net Logo" style="border-width: 0pt;" width="125" height="37">


  Chen.
From vszakats at users.sourceforge.net  Tue Mar 10 04:58:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 10 04:58:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10577] trunk/harbour
Message-ID: <E1LgxnP-00036e-1g@d5vjzd1.ch3.sourceforge.com>

Revision: 10577
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10577&view=rev
Author:   vszakats
Date:     2009-03-10 08:58:39 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-10 03:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for static lib creation (experimental).
      win/msvc, win/bcc are supported.
    + Added support for dynamic lib creation (experimental).
      win/msvc is currently support.
    ; Please help adding support for the rest of compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar 10 05:51:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 10 05:51:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10577] trunk/harbour
In-Reply-To: <E1LgxnP-00036e-1g@d5vjzd1.ch3.sourceforge.com>
References: <E1LgxnP-00036e-1g@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70903100251h264b4f2bl5db0f68b9b482b74@mail.gmail.com>

I suggest an option for copy lib in system lib harbour\lib
Compiling the debug version on my lib with this command
hbmk2 ACHOICE.PRG APPEND_D.PRG BOTTON_D.PRG CALCOL_D.PRG COLOR_D.PRG
DEFOPT.PRG DELTA.PRG EDIDUP_D.PRG EDITA2_D.PRG EDITAR_D.PRG
ERROR_D.PRG FILTRO_D.PRG GETSYS_D.PRG GRAFIC_D.PRG LABEL_D.PRG
MENU.PRG OBSOL_D.PRG OPEN_D.PRG PATH_D.PRG PDRIV_D.PRG REPPAR_D.PRG
SNAKE_D.PRG STACK_D.PRG STRING_D.PRG TABRIG_D.PRG VALID_D.PRG
VARIE_D.PRG VISTA2_D.PRG WORDPR_D.PRG -b -m -D__GTWVT__ -hblib
-odelta4hhd.lib

Then i write a sample project with two lines who link delta4hhd.lib

altd()
do init_lib (who is in delta.prg)

but i can debugg only some module BOTTON_D.PRG CALCOL_D.PRG
COLOR_D.PRG ERROR_D.PRG are visible from debugg
Where i missed?

2009/3/10  <vszakats@users.sourceforge.net>:
> Revision: 10577
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10577&view=rev
> Author: ? vszakats
> Date: ? ? 2009-03-10 08:58:39 +0000 (Tue, 10 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-10 03:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?* utils/hbmk2/hbmk2.prg
> ? ?+ Added support for static lib creation (experimental).
> ? ? ?win/msvc, win/bcc are supported.
> ? ?+ Added support for dynamic lib creation (experimental).
> ? ? ?win/msvc is currently support.
> ? ?; Please help adding support for the rest of compilers.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From harbour.01 at syenar.hu  Tue Mar 10 06:02:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 06:02:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10577] trunk/harbour
In-Reply-To: <609353e70903100251h264b4f2bl5db0f68b9b482b74@mail.gmail.com>
References: <E1LgxnP-00036e-1g@d5vjzd1.ch3.sourceforge.com>
	<609353e70903100251h264b4f2bl5db0f68b9b482b74@mail.gmail.com>
Message-ID: <18d502870903100302s6be9f0ebgc37c260d92d5c529@mail.gmail.com>

>
> I suggest an option for copy lib in system lib harbour\lib


Why, you cannot copy it there? hbmk2 isn't a build tool
so it doesn't care about harbour\lib as far as generating
targets go.


> Then i write a sample project with two lines who link delta4hhd.lib
>
> altd()
> do init_lib (who is in delta.prg)
>
> but i can debugg only some module BOTTON_D.PRG CALCOL_D.PRG
> COLOR_D.PRG ERROR_D.PRG are visible from debugg
> Where i missed?


I don't know, sorry.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/7161cb28/attachment.html
From mbelgrano at deltain.it  Tue Mar 10 06:28:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 10 06:28:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10577] trunk/harbour
In-Reply-To: <18d502870903100302s6be9f0ebgc37c260d92d5c529@mail.gmail.com>
References: <E1LgxnP-00036e-1g@d5vjzd1.ch3.sourceforge.com>
	<609353e70903100251h264b4f2bl5db0f68b9b482b74@mail.gmail.com>
	<18d502870903100302s6be9f0ebgc37c260d92d5c529@mail.gmail.com>
Message-ID: <609353e70903100328k633c6cb7v7bc75adac7499d81@mail.gmail.com>

>
>>
>> Then i write a sample project with two lines who link delta4hhd.lib
>> altd()
>> do init_lib (who is in delta.prg)
>>
>> but i can debugg only some module BOTTON_D.PRG CALCOL_D.PRG
>> COLOR_D.PRG ERROR_D.PRG are visible from debugg
>> Where i missed?
>
> I don't know, sorry.
> Brgds,
> Viktor
Seem that hbmk not pass -b to all harbour compiled modules
how can i see a verbose log of command executed?
in -hblib mode must be used -b or -debug?
From druzus at acn.waw.pl  Tue Mar 10 07:00:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 06:54:32 2009
Subject: [Harbour] About HRB
In-Reply-To: <22427789.post@talk.nabble.com>
References: <b3b25b30903020847m7b073a57g8e95b3d34f453ba2@mail.gmail.com>
	<20090302220701.GC27031@uran.home.aster.pl>
	<22423722.post@talk.nabble.com>
	<20090309232104.GB10731@uran.home.aster.pl>
	<22426414.post@talk.nabble.com>
	<20090310022530.GA31589@uran.home.aster.pl>
	<22427789.post@talk.nabble.com>
Message-ID: <20090310110027.GA20205@uran.home.aster.pl>

On Mon, 09 Mar 2009, Rossine wrote:

Hi,

> You're right. The GPF error occurs in a function outside ".HRB". :) 

Thank you for confirmation.

> See example: 
> [CODE TESTE.PRG]
> #include "fivewin.ch"
> #define EOL CHR(10) 
> proc main()
> msgstop( "step 1" )
>    nScrlMouse := WheelScroll()  && here generate GPF, See.
> msgstop( "step 2" )
>    SetWheelScroll( 1 )
> msgstop( "step 3" )

Here I cannot help you.
I do not know what WheelScroll() function does.
You will have to ask author why it GPFs and how it should be fixed.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Mar 10 07:17:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 10 07:17:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10578] trunk/harbour
Message-ID: <E1Lgzxb-000465-NR@dn4whf1.ch3.sourceforge.com>

Revision: 10578
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10578&view=rev
Author:   druzus
Date:     2009-03-10 11:17:18 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-10 12:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/garbage.c
    ! fixed one bad typo
    * cleanup

  * harbour/tests/speedtst.prg
    + added one new test

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/garbage.c
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 10 07:27:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 07:27:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10577] trunk/harbour
In-Reply-To: <609353e70903100328k633c6cb7v7bc75adac7499d81@mail.gmail.com>
References: <E1LgxnP-00036e-1g@d5vjzd1.ch3.sourceforge.com>
	<609353e70903100251h264b4f2bl5db0f68b9b482b74@mail.gmail.com>
	<18d502870903100302s6be9f0ebgc37c260d92d5c529@mail.gmail.com>
	<609353e70903100328k633c6cb7v7bc75adac7499d81@mail.gmail.com>
Message-ID: <18d502870903100427m4c04a545t987bdea34128803d@mail.gmail.com>

>
> Seem that hbmk not pass -b to all harbour compiled modules
> how can i see a verbose log of command executed?


Have you tried 'hbmk2 -help'?

It's -trace.

in -hblib mode must be used -b or -debug?


Use -b if you want to debug on Harbour level.
Use -debug if you want to debug on C level.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/e40bb6f0/attachment.html
From kleyber at tkinformidia.net  Tue Mar 10 07:43:36 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Tue Mar 10 07:43:39 2009
Subject: [Harbour] Error in macro symbol (&)
In-Reply-To: <49B57C79.50904@shaw.ca>
References: <22413726.post@talk.nabble.com> <49B57C79.50904@shaw.ca>
Message-ID: <22432560.post@talk.nabble.com>


Hi Luis,


Luis Krause Mantilla wrote:
> 
> Kleyber:
> 
> I'd suggest a different approach.  Use FieldBlock() or FieldWBlock().
> It's cleaner and works with local vars (macros require public/private
> vars).
> 
> local cX := "01"
> local bField := FieldBlock( "COTA" + cX )
> 
> VED->( Eval( bField ) )
> 
> or
> 
> local cX := "01"
> local bField := FieldWBlock( "COTA" + cX, Select( "VED" ) )
> 
> Eval( bField )
> 
> Regards,
> 
> 

Thank you for your suggestion. Glad to see you here.

Best Regards,

Kleyber Derick

-- 
View this message in context: http://www.nabble.com/Error-in-macro-symbol-%28-%29-tp22413726p22432560.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Tue Mar 10 08:12:32 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 10 08:12:37 2009
Subject: [Harbour] Hbcompact suggestion
Message-ID: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>

using hbcompat.ch
i receive syntax error at
        if (.not. &(alias()+"->"+NOM[A]) == &("M_"+NOM[A])) .or.
type(alias()+"->"+NOM[A]) = "M"


-- 
Massimo Belgrano
From kleyber at tkinformidia.net  Tue Mar 10 08:56:08 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Tue Mar 10 08:56:12 2009
Subject: [Harbour] Error in FWRITE() function
Message-ID: <22433625.post@talk.nabble.com>


Hi, 

I have this line here:

  fwrite( n, @::oXml:ToString( HBXML_STYLE_INDENT+HBXML_STYLE_THREESPACES )
)

But it gives this error:

   nfe.prg(341) Error E0030  Syntax error "syntax error at ')'"

Where is wrong?

TIA,

Kleyber
-- 
View this message in context: http://www.nabble.com/Error-in-FWRITE%28%29-function-tp22433625p22433625.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From niki at synel.co.il  Tue Mar 10 09:27:05 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 10 09:30:35 2009
Subject: [Harbour] Hbcompact suggestion
Message-ID: <1A07FEDC778C3E4AA417F089511F859C0F59789D5C@Mail-yoq.SYNEL-COMPANY.LTD>

Massimo,

> using hbcompat.ch
> i receive syntax error at
>        if (.not. &(alias()+"->"+NOM[A]) == &("M_"+NOM[A])) .or. type(alias()+"->"+NOM[A]) = "M"

On an email two day ago Przemek already wrote about it:
"It's cause by very danger rules used to emulate Harbour bit operators: &, |, ^^"
http://lists.harbour-project.org/pipermail/harbour/2009-March/016765.html

When you get such errors, try to complie your code with Harbour flag -p
and look at the *.ppo output. The sample you gave transform the macro
operator (&) into HB_BITAND() function call.


  Chen.
From vailtom at gmail.com  Tue Mar 10 10:04:53 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Mar 10 10:04:56 2009
Subject: [Harbour] Error in FWRITE() function
In-Reply-To: <22433625.post@talk.nabble.com>
References: <22433625.post@talk.nabble.com>
Message-ID: <531d7a750903100704o658397b7m78bb442a05e58c81@mail.gmail.com>

Why the use of "@" in this line?

Vailton

2009/3/10 Kleyber <kleyber@tkinformidia.net>:
>
> Hi,
>
> I have this line here:
>
> ?fwrite( n, @::oXml:ToString( HBXML_STYLE_INDENT+HBXML_STYLE_THREESPACES )
> )
>
> But it gives this error:
>
> ? nfe.prg(341) Error E0030 ?Syntax error "syntax error at ')'"
>
> Where is wrong?
>
> TIA,
>
> Kleyber
> --
> View this message in context: http://www.nabble.com/Error-in-FWRITE%28%29-function-tp22433625p22433625.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From druzus at acn.waw.pl  Tue Mar 10 10:14:40 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 10:08:44 2009
Subject: [Harbour] Error in FWRITE() function
In-Reply-To: <22433625.post@talk.nabble.com>
References: <22433625.post@talk.nabble.com>
Message-ID: <20090310141440.GA2646@uran.home.aster.pl>

On Tue, 10 Mar 2009, Kleyber wrote:

Hi,

> I have this line here:
>   fwrite( n, @::oXml:ToString( HBXML_STYLE_INDENT+HBXML_STYLE_THREESPACES ) )
> But it gives this error:
>    nfe.prg(341) Error E0030  Syntax error "syntax error at ')'"
> Where is wrong?

Your code.
You are trying to pass by reference sth what cannot be passed by
reference: result of method execution. Valid code should look like:
   fwrite( n, ::oXml:ToString( HBXML_STYLE_INDENT+HBXML_STYLE_THREESPACES ) )

xHarbour has bug and does not generate compile time error or even runtime
error for code like:
   f( @o:msg( <params,...> ) )
There are more similar situations in xHarbour, f.e.:
   proc main()
   local o, x
      o:msg()--
      ++o:msg()
      --o:msg(1,2,3)
      o:msg(1,2,3)++
      x := ( @main( 1,2,3,4,5 ) )
   return
all of the above constructions should generate compile errors.
The 1-st to can be written as:
   o:msg--
   ++o:msg
but the next three are technical nonsense so I cannot show you
alternative version.
Clipper also forbids compilation of code like:
   o:msg()--
   ++o:msg()
Just try to compiler this code using Clipper.

Grammar rules in xHarbour needs serious cleanups.
In some places like above illegal constructions are accepted
without any errors and some PCODE is generated (sometimes
is reduced by compiler to different but valid code, sometimes
unnecessery, dummy or wrong instructions are put into the PCODE.
In some other placeses xHarbour does not accept some valid syntax:
   x := @main()
cannot be compiled and it's necessary to add dummy braces:
   x := ( @main() )
In some other compiler GPFs when you try to compile officially supported
code, f.e.:
   o:&s++
If some xHarbour developers read it then maybe they report it to xHarbour
devel list.

best regards,
Przemek
From kleyber at tkinformidia.net  Tue Mar 10 10:20:27 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Tue Mar 10 10:20:31 2009
Subject: [Harbour] Error in FWRITE() function
In-Reply-To: <20090310141440.GA2646@uran.home.aster.pl>
References: <22433625.post@talk.nabble.com>
	<20090310141440.GA2646@uran.home.aster.pl>
Message-ID: <22435210.post@talk.nabble.com>


Hi Przemek


Przemyslaw Czerpak-2 wrote:
> 
> On Tue, 10 Mar 2009, Kleyber wrote:
> 
> Hi,
> 
>> I have this line here:
>>   fwrite( n, @::oXml:ToString( HBXML_STYLE_INDENT+HBXML_STYLE_THREESPACES
>> ) )
>> But it gives this error:
>>    nfe.prg(341) Error E0030  Syntax error "syntax error at ')'"
>> Where is wrong?
> 
> Your code.
> You are trying to pass by reference sth what cannot be passed by
> reference: result of method execution. Valid code should look like:
>    fwrite( n, ::oXml:ToString( HBXML_STYLE_INDENT+HBXML_STYLE_THREESPACES
> ) )
> 
> xHarbour has bug and does not generate compile time error or even runtime
> error for code like:
>    f( @o:msg( <params,...> ) )
> There are more similar situations in xHarbour, f.e.:
>    proc main()
>    local o, x
>       o:msg()--
>       ++o:msg()
>       --o:msg(1,2,3)
>       o:msg(1,2,3)++
>       x := ( @main( 1,2,3,4,5 ) )
>    return
> all of the above constructions should generate compile errors.
> The 1-st to can be written as:
>    o:msg--
>    ++o:msg
> but the next three are technical nonsense so I cannot show you
> alternative version.
> Clipper also forbids compilation of code like:
>    o:msg()--
>    ++o:msg()
> Just try to compiler this code using Clipper.
> 
> Grammar rules in xHarbour needs serious cleanups.
> In some places like above illegal constructions are accepted
> without any errors and some PCODE is generated (sometimes
> is reduced by compiler to different but valid code, sometimes
> unnecessery, dummy or wrong instructions are put into the PCODE.
> In some other placeses xHarbour does not accept some valid syntax:
>    x := @main()
> cannot be compiled and it's necessary to add dummy braces:
>    x := ( @main() )
> In some other compiler GPFs when you try to compile officially supported
> code, f.e.:
>    o:&s++
> If some xHarbour developers read it then maybe they report it to xHarbour
> devel list.
> 
> best regards,
> Przemek
> _______________________________________________
> 

Once again, thank you very much. It's really true that xHarbour has some
problems with it and in my migration to Harbour+MSVC+FWH I have to discover
all of this.

Best Regards,

Kleyber Derick
-- 
View this message in context: http://www.nabble.com/Error-in-FWRITE%28%29-function-tp22433625p22435210.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Mar 10 10:29:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 10:23:36 2009
Subject: [Harbour] Hbcompact suggestion
In-Reply-To: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>
References: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>
Message-ID: <20090310142933.GB2646@uran.home.aster.pl>

On Tue, 10 Mar 2009, Massimo Belgrano wrote:

Hi,

> using hbcompat.ch
> i receive syntax error at
>         if (.not. &(alias()+"->"+NOM[A]) == &("M_"+NOM[A])) .or.
> type(alias()+"->"+NOM[A]) = "M"

Do you read message in this list?
Few hours ago I was answering for exactly the same question.

In hbcompat.ch there are some very danger translations, f.e.:
   #translate ( <exp1> & <exp2> )      => ( HB_BITAND( (<exp1>), (<exp2>) ) )
which may very badly break code which uses & operator.
Probably they should be removed from hbcompat.ch and maybe put in some
separate file in contrib/xhb directory with information about possible bad
side effects. PP does not know anything about operators precedence so
it's not possible to introduce any rules which depends on it without
breaking some valid syntax.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 10 10:32:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 10:32:04 2009
Subject: [Harbour] Hbcompact suggestion
In-Reply-To: <20090310142933.GB2646@uran.home.aster.pl>
References: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>
	<20090310142933.GB2646@uran.home.aster.pl>
Message-ID: <18d502870903100732ic0a3fdcr62d968bd57268075@mail.gmail.com>

Or maybe just guard it with a macro inside hbcompat.ch:XHB_ENABLE_BITOP
Brgds,
Viktor

On Tue, Mar 10, 2009 at 3:29 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Tue, 10 Mar 2009, Massimo Belgrano wrote:
>
> Hi,
>
> > using hbcompat.ch
> > i receive syntax error at
> >         if (.not. &(alias()+"->"+NOM[A]) == &("M_"+NOM[A])) .or.
> > type(alias()+"->"+NOM[A]) = "M"
>
> Do you read message in this list?
> Few hours ago I was answering for exactly the same question.
>
> In hbcompat.ch there are some very danger translations, f.e.:
>   #translate ( <exp1> & <exp2> )      => ( HB_BITAND( (<exp1>), (<exp2>) )
> )
> which may very badly break code which uses & operator.
> Probably they should be removed from hbcompat.ch and maybe put in some
> separate file in contrib/xhb directory with information about possible bad
> side effects. PP does not know anything about operators precedence so
> it's not possible to introduce any rules which depends on it without
> breaking some valid syntax.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/d958de45/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 10 10:53:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 10 10:53:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10579] trunk/harbour
Message-ID: <E1Lh3Kz-00053u-3X@74yxhf1.ch3.sourceforge.com>

Revision: 10579
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10579&view=rev
Author:   vszakats
Date:     2009-03-10 14:53:44 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-10 15:48 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    * -debug description extended.

  * contrib/xhb/hbcompat.ch
    - Disabled dangerous bitop compatibility macros + comment added.
      Enabled them with #define XHB_BITOP. Or even better 
      to change code to use HB_BIT*() functions natively.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Tue Mar 10 10:55:29 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar 10 11:03:22 2009
Subject: [Harbour] Hbcompact suggestion
In-Reply-To: <20090310142933.GB2646@uran.home.aster.pl>
References: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>
	<20090310142933.GB2646@uran.home.aster.pl>
Message-ID: <49B67F61.9000809@fsgiudice.com>

Hi Przemek,

Il 10/03/2009 15.29, Przemyslaw Czerpak ha scritto:
>    #translate ( <exp1> & <exp2> )      => ( HB_BITAND( (<exp1>), (<exp2>) ) )
> which may very badly break code which uses & operator.
> Probably they should be removed from hbcompat.ch and maybe put in some
> separate file in contrib/xhb directory with information about possible bad
> side effects. PP does not know anything about operators precedence so
> it's not possible to introduce any rules which depends on it without
> breaking some valid syntax.
> 

only to know and I'm sorry in advance if it was already discussed and I 
missed it, but is it possible to define that & or | or ^^ symbols are 
valid operators *only* if them are between two spaces ?
Just for curiosity, because I'm not using them and I have already 
converted my code to use HB_BIT*() functions.

Best regards
Francesco

From harbour.01 at syenar.hu  Tue Mar 10 11:11:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 11:11:31 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
Message-ID: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>

Hi all,
I've been citing this a few times already, but got no answer,
yet it looks wrong.

3rd logical parameter is used to decide about hb_regex() mode:
---
/* Returns just .T. if match found or .F. otherwise. */
HB_FUNC( HB_REGEXMATCH )
{
   hb_retl( hb_regex( hb_parl( 3 ) ? 1 /* LIKE */ : 2 /* HAS */ ) ); /* !!
PARAM #3 !! */
}
---

Then hb_regex() is called, which contains this code:
---
   pRegEx = hb_regexGet( hb_param( 1, HB_IT_ANY ),
                         ( ISLOG( 3 ) && !hb_parl( 3 ) ? HBREG_ICASE : 0 ) |
/* !! PARAM #3 !! */
                         ( hb_parl( 4 ) ? HBREG_NEWLINE : 0 ) );
---

I don't use this function, but this seems clearly wrong (came
from xhb), so IMO it should be fixed. Documentation says that
3rd parameter controls case sensitivity.

Depending on the 3rd parameter, HB_REGEXMATCH() is a
synonym to HB_REGEXHAS() and HB_REGEXLIKE(), so it
doesn't give any extra functionality.

Suggestions for fix:
1.) Move it to xhb.lib with this bug intact.
2.) Fix it by using hb_parl( 5 ) in HB_REGEXMATCH().
    This will make it in sync with the documentation, but
    can break apps, relying on odd behaviour.

(my vote for 2.)

Opinions?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/36766e9c/attachment-0001.html
From info at fsgiudice.com  Tue Mar 10 11:17:33 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar 10 11:36:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10565] trunk/harbour
In-Reply-To: <20090309193924.GA8058@uran.home.aster.pl>
References: <E1Lg1c7-0001MV-1C@dn4whf1.ch3.sourceforge.com>	<49B30429.4040201@fsgiudice.com>	<20090308022606.GA15698@uran.home.aster.pl>	<49B438F5.1060806@fsgiudice.com>	<20090308231434.GA21400@uran.home.aster.pl>	<49B4D754.2000505@fsgiudice.com>	<20090309135510.GD7176@uran.home.aster.pl>
	<20090309193924.GA8058@uran.home.aster.pl>
Message-ID: <49B6848D.9050105@fsgiudice.com>

Hi,

Il 09/03/2009 20.39, Przemyslaw Czerpak ha scritto:
> 
> I created windows binaries with -DUSE_HB_INET and uncommented call to
> hb_GCAll( TRUE ) and made some tests in real WinXP.
> It was working for quite long time. On other Linux machine in the same
> LAN the testing script I sent was executed. Meanwhile I was also making
> some manual connections from the browser. Everything was working as
> expected. I stopped testing scripts then executed uhttpd -s which cleanly
> closed uhttpd server.
> 
Thank you for your tests.
I'm only using INET version.
But I have found a new problem, surely due to a wrong mine implementation.
I have created test attached: testcon.prg.
Running testcon it will generate 500 connections in parallel using 
HBTIP. First time it works ok and uhttpd add threads up to 10-12, then 
it removes added threads.
But there is a problem: seems that threads are deleted more than 
requested. So, also if uhttpd reports that active threads are >= 4, it 
seems that mutex s_mtxRunningThreads queue is empty.
To emulate this, run once testcon (adapting connection url or passing it 
as parameter) and wait at end that uhttpd removes added threads.
Then try to connect via browser.
In windows it doesn't reply anymore, in linux yes, but if you run again 
testcon threads will stay at last minimum number reached and don't grow 
anymore.
I have also tested removing dynamic growing of threads. In this case all 
works as expected, also if with fixed number of threads.
That functionality I added to emulate Apache that starts with a 
predefined number of threads and, if necessary, it adds necessary 
threads that are removed when no more used.
This is also for MT learning.
But probably I will guard this with some defines to make it works until 
I will find a correct implementation.
Test file and modifications I will upload to SVN later ASAP.

Best regards

Francesco


-------------- next part --------------
A non-text attachment was scrubbed...
Name: testcon.zip
Type: application/x-zip-compressed
Size: 2046 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/672eda53/testcon.bin
From druzus at acn.waw.pl  Tue Mar 10 11:53:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 11:47:08 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
Message-ID: <20090310155303.GA9145@uran.home.aster.pl>

On Tue, 10 Mar 2009, Szak?ts Viktor wrote:

Hi,

[...]
> I don't use this function, but this seems clearly wrong (came
> from xhb), so IMO it should be fixed. Documentation says that
> 3rd parameter controls case sensitivity.
> Depending on the 3rd parameter, HB_REGEXMATCH() is a
> synonym to HB_REGEXHAS() and HB_REGEXLIKE(), so it
> doesn't give any extra functionality.
> Suggestions for fix:
> 1.) Move it to xhb.lib with this bug intact.
> 2.) Fix it by using hb_parl( 5 ) in HB_REGEXMATCH().
>     This will make it in sync with the documentation, but
>     can break apps, relying on odd behaviour.
> (my vote for 2.)
> Opinions?

I know about this bug and I even intentionally replicated it in the past
to discuss the fix with xHarbour developers. Meanwhile as workaround I added
hb_regexLike() and hb_regexHas().
I do not know if xHarbour developers are interested in fixing the problem.
Now hb_regexMatch() does not give any new functionality so we can remove it.
Probably it will be the best choice also for users which ports some xHarbour
code to Harbour because during linking they will have information about
function which for sure should be fixed.
Anyhow RegexMatch is commonly used name so maybe we should leave it and add
support for the 5-th parameter and by default it should be set to HAS.
In such version I do not have to use 5-th parameter but I can simply define
pattern which will have to cover whole value.
I vote for this. It's 2.

best regards,
Przemek
From arcadia2 at sbcglobal.net  Tue Mar 10 11:55:39 2009
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Tue Mar 10 11:55:38 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
Message-ID: <B50633EA0E5D46CD8BE4E3D7D999D1C3@billws>

Hi Viktor,

>----- Original Message ----- 
>From: Viktor Szak?ts
>To: Harbour Project Main Developer List.
>Sent: Tuesday, March 10, 2009 11:11 AM
>Subject: [Harbour] hb_regexMatch() 3rd parameter
>
>I've been citing this a few times already, but got no answer,
>yet it looks wrong.
>
>3rd logical parameter is used to decide about hb_regex() mode:
>---
>/* Returns just .T. if match found or .F. otherwise. */
>I don't use this function, but this seems clearly wrong (came
>from xhb), so IMO it should be fixed. Documentation says that
>3rd parameter controls case sensitivity.
>
>Suggestions for fix:
>1.) Move it to xhb.lib with this bug intact.
>2.) Fix it by using hb_parl( 5 ) in HB_REGEXMATCH().
>    This will make it in sync with the documentation, but
>    can break apps, relying on odd behaviour.
>
>(my vote for 2.)
>
>Opinions?
>
I use this function and this has been a problem. I vote for #2

From lorenzo.fiorini at gmail.com  Tue Mar 10 12:00:27 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar 10 12:00:31 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <20090310155303.GA9145@uran.home.aster.pl>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
	<20090310155303.GA9145@uran.home.aster.pl>
Message-ID: <9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>

On Tue, Mar 10, 2009 at 4:53 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Anyhow RegexMatch is commonly used name so maybe we should leave it and add
> support for the 5-th parameter and by default it should be set to HAS.
> In such version I do not have to use 5-th parameter but I can simply define
> pattern which will have to cover whole value.
> I vote for this. It's 2.

In my code I use it as:

if HB_RegexMatch( "[*?!|\/{}<>;,^()$~.'" + '"]', cParam )

or

bTblFor   := { || HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), TRUE ) ...

which will be the "correct" syntax to have it working under 1.0.1 and 1.1?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Mar 10 12:08:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 12:08:43 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
	<20090310155303.GA9145@uran.home.aster.pl>
	<9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
Message-ID: <18d502870903100908j55b9907fia819b657c9b57981@mail.gmail.com>

>
> if HB_RegexMatch( "[*?!|\/{}<>;,^()$~.'" + '"]', cParam )


This will work unchanged.


> bTblFor   := { || HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), TRUE )
> ...
>
> which will be the "correct" syntax to have it working under 1.0.1 and 1.1?


bTblFor   := { || HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), TRUE, ,
TRUE )

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/b4e94a5d/attachment.html
From druzus at acn.waw.pl  Tue Mar 10 12:32:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 12:26:55 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
	<20090310155303.GA9145@uran.home.aster.pl>
	<9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
Message-ID: <20090310163252.GA11581@uran.home.aster.pl>

On Tue, 10 Mar 2009, Lorenzo Fiorini wrote:

Hi,

> > Anyhow RegexMatch is commonly used name so maybe we should leave it and add
> > support for the 5-th parameter and by default it should be set to HAS.
> > In such version I do not have to use 5-th parameter but I can simply define
> > pattern which will have to cover whole value.
> > I vote for this. It's 2.
> In my code I use it as:
> if HB_RegexMatch( "[*?!|\/{}<>;,^()$~.'" + '"]', cParam )
> or
> bTblFor   := { || HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), TRUE ) ...
> which will be the "correct" syntax to have it working under 1.0.1 and 1.1?

In the 1-st it's the same as HB_RegexHas(), in the second version it's
the same as HB_RegexLike().
You can use these functions or you will have to change the second
HB_RegexMatch() in your code to:

   HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), /* <lCaseSensitive> */,;
                  /* <lNewLine> */, TRUE )

The problem is with 3-rd parameter. It's internally used to enable/disable
case sensitive comparison. It's common to all hb_regex*() functions.
And here we have problem. If you make:
   HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), FALSE )
then it will work like hb_regexHas() but it also disables case sensitive
comparison so the results can be different then expected.
Two different things are controlled by the same parameter:

   fCaseSensitive = !ISLOG( 3 ) || hb_parl( 3 );
   fLike          = hb_parl( 3 );

For sure it has to be fixed.

best regards,
Przemek
From lavr at ldz.lv  Tue Mar 10 12:28:46 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Tue Mar 10 12:28:51 2009
Subject: [Harbour] achoice question
Message-ID: <49B6953E.9060206@ldz.lv>

Hi all,

Small question about achoice.

Clipper on exit from achoice redraw visible elements without selection,
but in harbour all exit cases without redrawing, like this code (current 
element stay highlighted)
[...]
      CASE ( nKey == K_ESC .OR. nMode == AC_NOITEM ) .AND. !lUserFunc

         nMode     := AC_ABORT
         nPos      := 0
         lFinished := .T.

[...]

why not like this (or similar)
[...]
      CASE ( nKey == K_ESC .OR. nMode == AC_NOITEM ) .AND. !lUserFunc

         nMode     := AC_ABORT
         nPos      := 0
         lFinished := .T.
         DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
nAtTop, nItems, bSelect, nRowsClr )

[...]

"flat" screens with more then 1 achoice look more readable with clipper 
like achoice



Best Regards,
Vlad

From vszakats at users.sourceforge.net  Tue Mar 10 12:33:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 10 12:33:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10580] trunk/harbour
Message-ID: <E1Lh4tT-0004WF-OS@3kljzd1.ch3.sourceforge.com>

Revision: 10580
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10580&view=rev
Author:   vszakats
Date:     2009-03-10 16:33:27 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-10 17:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/hbregex.c
    * Fixed HB_REGEXMATCH(). Now the HAS/LIKE mode can be controlled 
      by 5th logical parameter (was 3rd), so 3rd parameter is solely 
      controlling case-sensitivity as indicated in the documentation.
      Users are recommended to use HB_REGEXHAS() and HB_REGEXLIKE() 
      functions as unambiguous alternatives, which work equally 
      well on all Harbour versions. HB_REGEXMATCH() is now deprecated, 
      but kept for compatibility.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbregex.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 10 12:43:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 12:43:41 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
Message-ID: <18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>

Updated list:


- CCPATH/CCPREFIX name cleanup in build system.

- Remove command.com stuff from config/win/*

- hbmk2 -> hbmk script.

- hbmk2 man page.

- core: HB_MD5() incompatible modification.

- Platform builds and tests.

- whatsnew.txt update.

- gtwvt WinCE problem TOFIX.

- gtwvg/gtwin WinCE problems. (Pritpal? We should guard all failing stuff.)

- gpm / gtsln / gtcrs / gtxwc conditional compile standardization (maybe
1.2)

NON-CRITICAL (for me) LIST:


- hbct: SetFDaTi() duplicated logic.

- core: Copy DISKSPACE() Watcom/CEGCC logic to HB_DISKSPACE().


POSTPONED:


- xhb: .prg level MT issues.

- gtwvg: AMD64 mode and WinCE.


Brgds,

Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/01d8928d/attachment.html
From lorenzo.fiorini at gmail.com  Tue Mar 10 13:01:55 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar 10 13:02:00 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <18d502870903100908j55b9907fia819b657c9b57981@mail.gmail.com>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
	<20090310155303.GA9145@uran.home.aster.pl>
	<9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
	<18d502870903100908j55b9907fia819b657c9b57981@mail.gmail.com>
Message-ID: <9257026e0903101001v61150f95if00df519123c61b3@mail.gmail.com>

On Tue, Mar 10, 2009 at 5:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> This will work unchanged.

I've seen that hb_regexMatch is used in contrib/xhb/txml.prg and also in rdds.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Tue Mar 10 13:04:39 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar 10 13:04:44 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <20090310163252.GA11581@uran.home.aster.pl>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
	<20090310155303.GA9145@uran.home.aster.pl>
	<9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
	<20090310163252.GA11581@uran.home.aster.pl>
Message-ID: <9257026e0903101004u12d033a6l89d4fb666a038ffb@mail.gmail.com>

On Tue, Mar 10, 2009 at 5:32 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> The problem is with 3-rd parameter. It's internally used to enable/disable
> case sensitive comparison. It's common to all hb_regex*() functions.
> And here we have problem. If you make:
> ? HB_RegexMatch( xTables, alltrim( TBL->CTBLNAME ), FALSE )
> then it will work like hb_regexHas() but it also disables case sensitive
> comparison so the results can be different then expected.
> Two different things are controlled by the same parameter:
>
> ? fCaseSensitive = !ISLOG( 3 ) || hb_parl( 3 );
> ? fLike ? ? ? ? ?= hb_parl( 3 );
>
> For sure it has to be fixed.

+1

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Mar 10 13:11:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 13:11:37 2009
Subject: [Harbour] hb_regexMatch() 3rd parameter
In-Reply-To: <9257026e0903101001v61150f95if00df519123c61b3@mail.gmail.com>
References: <18d502870903100811o49a8ab01tca3201eefb7ddf0b@mail.gmail.com>
	<20090310155303.GA9145@uran.home.aster.pl>
	<9257026e0903100900y6991529dr2e56c4ed79f87aed@mail.gmail.com>
	<18d502870903100908j55b9907fia819b657c9b57981@mail.gmail.com>
	<9257026e0903101001v61150f95if00df519123c61b3@mail.gmail.com>
Message-ID: <18d502870903101011i3ee8a29fo66c4e83b6fe1ee9e@mail.gmail.com>

I can only see 4 calls in txml.prg.
Someone familiar with the code please update it,
because for me it's impossible to find out whether
author intended to choose HAS/LIKE mode or
case-sensitivity.

Brgds,
Viktor

On Tue, Mar 10, 2009 at 6:01 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> On Tue, Mar 10, 2009 at 5:08 PM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>
> > This will work unchanged.
>
> I've seen that hb_regexMatch is used in contrib/xhb/txml.prg and also in
> rdds.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/28892fde/attachment-0001.html
From vszakats at users.sourceforge.net  Tue Mar 10 13:23:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 10 13:24:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10581] trunk/harbour
Message-ID: <E1Lh5gN-0005Gp-2E@c3vjzd1.ch3.sourceforge.com>

Revision: 10581
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10581&view=rev
Author:   vszakats
Date:     2009-03-10 17:23:58 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-10 18:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
    * Updates.

  * contrib/xhb/txml.prg
    * Update HB_REGEXMATCH() calls, to keep old logic.
    ; TOFIX: Above doesn't mean it's now correct, so 
             someone familiar with this code, please 
             correct it.

  * contrib/hbapollo/apollo.c
    * Removed essentially empty comments. 

  * source/rtl/achoice.prg
    ! Applied fix from Vladislav Lavrecky.
      I didn't test it just assumed okay, please do so.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbapollo/apollo.c
    trunk/harbour/contrib/xhb/txml.prg
    trunk/harbour/source/rtl/achoice.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Mar 10 13:30:03 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 10 13:30:06 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
Message-ID: <22439419.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> - gtwvg/gtwin WinCE problems. (Pritpal? We should guard all failing
> stuff.)
> 

I am afraid gtwvg can be guarded against WINCE.
I tried but it seems to be a huge task. The most notorious 
is probably <olectl.h> which defines IPicture. I am finding
a suitable way to IPicture->Render() replacement.

Anybody to help ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Closing-of-1.1--tp22284613p22439419.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Mar 10 13:37:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 13:31:32 2009
Subject: [Harbour] Hbcompact suggestion
In-Reply-To: <49B67F61.9000809@fsgiudice.com>
References: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>
	<20090310142933.GB2646@uran.home.aster.pl>
	<49B67F61.9000809@fsgiudice.com>
Message-ID: <20090310173726.GA29395@uran.home.aster.pl>

On Tue, 10 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

>>    #translate ( <exp1> & <exp2> )      => ( HB_BITAND( (<exp1>), (<exp2>) ) )
>> which may very badly break code which uses & operator.
>> Probably they should be removed from hbcompat.ch and maybe put in some
>> separate file in contrib/xhb directory with information about possible bad
>> side effects. PP does not know anything about operators precedence so
>> it's not possible to introduce any rules which depends on it without
>> breaking some valid syntax.
> only to know and I'm sorry in advance if it was already discussed and I 
> missed it, but is it possible to define that & or | or ^^ symbols are valid 
> operators *only* if them are between two spaces ?

The problem is different.
We are talking about some PP rules to translate these operators to hb_bit*()
functions. It cannot be ever well done because PP does not know anything
about operator precedence, f.e.:
   1 + 2 | 8 * 3 & 2
PP does not know it should be:
   ( ( ( ( 1 + 2 ) | 8 ) * 3 ) & 2 )
or maybe:
   ( 1 + ( 2 | 8 ) ) * ( 3 & 2 )
or:
   ( ( 1 + 2 ) | ( 8 * 3 ) ) & 2
Only compiler knows operator precedence and can build the expression tree.
In hbcompat.ch we intorduced the trick and added translations for IN, HAS,
LIKE, <<, >>, |, &, ^^ operators only if they are enclosed in (), f.e.:
   #translate ( <exp1> HAS <exp2> ) => ( HB_REGEXHAS( (<exp2>), (<exp1>) ) )
but it also can give wrong results in some cases, f.e.:
   x := ( lVal == cVal2 HAS cVal2 )
So any of the above rules is not safe and can give wrong results.
Not only & in bit operators.

Of course we can extend PP and add support for defining unary and binary
operators with their precedence and user defined action. It's interesting
functionality but user will have to define all existing operators with
current precedence before he can introduce new ones.
But it's subject for rather different discussion.

Checking the space does not change anything here. In general it's very
bad idea because PP rules after translation can change number of spaces.
It can be done for some special cases reducing a little bit the problem
but it's not a solution. To intorduce it we will have to add new PP match
marker which can be used to mark blank character, f.e.: <->
but as I said it will help only in few cases, for sure it will not resolve
the problem.
We already have one problem inherited from xHarbour in WITH OBJECT syntax
which we had to resolve by counting spaces between tokens. I do not want
to intorduce new ones.
BTW for some reasons this hack with spaces was removed from xHarbour PP
so now xHarbour cannot compile this code:
   proc main
      local xVar, get
      @ 0, 0 SAY xVar PICTURE get:pict
   return
Just try.
The whole problem is caused by the fact that now we have expressions like:
   with object mycls():new()
      ? :msg()
   enddo
and :msg() has to match match marker. Clipper never translates code like:
      ? :msg()
I had to hack PP to make translations bad as side effect expressions like:
      @ 0, 0 SAY xVar PICTURE get:pict
were wrongly translated as:
      @ 0, 0 SAY xVar PICTURE get :pict  // (*)
so I have to introduce other hack and count the spaces so in most of cases
we are Clipper compatible but if you introduce space before :<msg> like in
(*) then we are not.
Each extensions to syntax have to be very well thought. Otherwise they
create some unexpected problems like in the above case.
IN, HAS, LIKE operators in xHarbour are other examples of such unexpected
problems. In this case they break PP expression concatenation rules.
I was writing about it in the past so you can find more information in
this or xHarbour devel list archives.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 10 13:42:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 13:42:32 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <22439419.post@talk.nabble.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
	<22439419.post@talk.nabble.com>
Message-ID: <18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>

We have to do something if we want to make a release.
Worst case please exclude all source files from WINCE,
so at least we can move along with the release.

gtwin _must_ be fixed properly though.

Also the callback stuff should be guarded out for non-x86
platforms. Pls see rtl/vm/extrap.c for the necessary guards.

[ I'll check my part (the gtwvt one) a bit later, unless someone
fixes it properly before me. ]

Brgds,
Viktor

On Tue, Mar 10, 2009 at 6:30 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Viktor
>
>
> Viktor Szak?ts wrote:
> >
> > - gtwvg/gtwin WinCE problems. (Pritpal? We should guard all failing
> > stuff.)
> >
>
> I am afraid gtwvg can be guarded against WINCE.
> I tried but it seems to be a huge task. The most notorious
> is probably <olectl.h> which defines IPicture. I am finding
> a suitable way to IPicture->Render() replacement.
>
> Anybody to help ?
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Closing-of-1.1--tp22284613p22439419.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/5eb6f270/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 10 13:43:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 10 13:43:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582]
	trunk/harbour/ChangeLog
Message-ID: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>

Revision: 10582
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10582&view=rev
Author:   vszakats
Date:     2009-03-10 17:43:39 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
(sorry I've missed adding the entry to ChangeLog in prev commit)

2009-03-10 18:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
 * ChangeLog
   * Updates.

 * contrib/xhb/txml.prg
   * Update HB_REGEXMATCH() calls, to keep old logic.
   ; TOFIX: Above doesn't mean it's now correct, so
            someone familiar with this code, please
            correct it.

 * contrib/hbapollo/apollo.c
   * Removed essentially empty comments.

 * source/rtl/achoice.prg
   ! Applied fix from Vladislav Lavrecky.
     I didn't test it just assumed okay, please do so.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Tue Mar 10 13:43:57 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar 10 13:44:10 2009
Subject: [Harbour] Hbcompact suggestion
In-Reply-To: <20090310173726.GA29395@uran.home.aster.pl>
References: <609353e70903100512v53401b4cl81ab8f9e4c2faa2f@mail.gmail.com>	<20090310142933.GB2646@uran.home.aster.pl>	<49B67F61.9000809@fsgiudice.com>
	<20090310173726.GA29395@uran.home.aster.pl>
Message-ID: <49B6A6DD.8000904@fsgiudice.com>

Hi,

Il 10/03/2009 18.37, Przemyslaw Czerpak ha scritto:
[snip]

> Each extensions to syntax have to be very well thought. Otherwise they
> create some unexpected problems like in the above case.
> IN, HAS, LIKE operators in xHarbour are other examples of such unexpected
> problems. In this case they break PP expression concatenation rules.
> I was writing about it in the past so you can find more information in
> this or xHarbour devel list archives.
> 
Thank you very much for explanation.

Best regards,
Francesco
From bedipritpal at hotmail.com  Tue Mar 10 14:17:31 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 10 14:17:35 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
	<22439419.post@talk.nabble.com>
	<18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
Message-ID: <22440340.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> We have to do something if we want to make a release.
> Worst case please exclude all source files from WINCE,
> so at least we can move along with the release.
> 

I will try my level best.

>gtwin _must_ be fixed properly though.

Someone else has to jump in as I know nothing about this lib.

<<<
Also the callback stuff should be guarded out for non-x86
platforms. Pls see rtl/vm/extrap.c for the necessary guards.
>>>

I am digging into.

<<<
[ I'll check my part (the gtwvt one) a bit later, unless someone
fixes it properly before me. ]
>>> 

GTWVT need only one guard, just switch off 'layerd window'
protocol.


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Closing-of-1.1--tp22284613p22440340.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Mar 10 14:25:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 14:19:42 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
	<22439419.post@talk.nabble.com>
	<18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
Message-ID: <20090310182539.GA1204@uran.home.aster.pl>

On Tue, 10 Mar 2009, Szak?ts Viktor wrote:

Hi,

> We have to do something if we want to make a release.
> Worst case please exclude all source files from WINCE,
> so at least we can move along with the release.
> gtwin _must_ be fixed properly though.

gtwin does not work with WinCE - there is not support for
console. I heard it exists as 3-rd party peyment product
but I've never tested it.
GTWVT is the only one choice for console applications.
I noticed that in WINE using:
   hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
resolves a lot of problems. Just simply the font chosen by
user is used instead of some other approximated to window
size and declared number of rows and columns which now can
cause unpredictable results.
IMHO this mode should be default. If you think that resizing
window can be problem form some application then we can add
also:
   hb_gtInfo( HB_GTI_RESIZABLE, .F. )
as default setting. In such version or user startup setting
and font selections are respected. If someone needs some other
functionality then he can use hb_gtInfo() to enable it.
It's highly possible that above default setting can resolve the
problems with GTWVT in WinCE. It will be nice if some can test
it.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Mar 10 14:26:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 10 14:26:54 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <20090310182539.GA1204@uran.home.aster.pl>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
	<22439419.post@talk.nabble.com>
	<18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
	<20090310182539.GA1204@uran.home.aster.pl>
Message-ID: <22440601.post@talk.nabble.com>


Hello


Przemyslaw Czerpak-2 wrote:
> 
> GTWVT is the only one choice for console applications.
> I noticed that in WINE using:
>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
> resolves a lot of problems. Just simply the font chosen by
> user is used instead of some other approximated to window
> size and declared number of rows and columns which now can
> cause unpredictable results.
> IMHO this mode should be default. If you think that resizing
> window can be problem form some application then we can add
> also:
>    hb_gtInfo( HB_GTI_RESIZABLE, .F. )
> as default setting. In such version or user startup setting
> and font selections are respected. If someone needs some other
> functionality then he can use hb_gtInfo() to enable it.
> It's highly possible that above default setting can resolve the
> problems with GTWVT in WinCE. It will be nice if some can test
> it.
> 


hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
as default proto should only be set for WinCE, otherwise whole
GT default functionality will tumble.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Closing-of-1.1--tp22284613p22440601.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Tue Mar 10 14:39:07 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar 10 14:39:13 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <20090310182539.GA1204@uran.home.aster.pl>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
	<22439419.post@talk.nabble.com>
	<18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
	<20090310182539.GA1204@uran.home.aster.pl>
Message-ID: <9257026e0903101139v52d5102v1958a6429082d5e4@mail.gmail.com>

On Tue, Mar 10, 2009 at 7:25 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> IMHO this mode should be default. If you think that resizing
> window can be problem form some application then we can add
> also:
> ? hb_gtInfo( HB_GTI_RESIZABLE, .F. )
> as default setting. In such version or user startup setting
> and font selections are respected. If someone needs some other
> functionality then he can use hb_gtInfo() to enable it.

I can confirm it.
After many tests, this is the sequence that for me produces less
flickering and respects font and rows/cols defined by user using
gtwvt.

N.B. in production I still use 1.0.1, so I can't be sure it works in a
wide range of cases,
avidopts contains user's defined values and NO output is done before
the HB_GTInfo calls

...
   HB_GTInfo(HB_GTI_FONTNAME, cFontName)
   HB_GTInfo(HB_GTI_FONTSIZE, nFontSize)
   setmode( nRows, nCols )
   Hb_GTInfo(HB_GTI_MOUSESTATUS, 1 )
   Hb_GTInfo(HB_GTI_CLOSABLE, FALSE )
   Hb_GTInfo(HB_GTI_RESIZABLE, FALSE )
...
   Hb_GtInfo( HB_GTI_PALETTE, ... )
   Hb_GtInfo( HB_GTI_PALETTE, ... )
...

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Mar 10 17:42:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 10 17:42:09 2009
Subject: [Harbour] Closing of 1.1?
In-Reply-To: <9257026e0903101139v52d5102v1958a6429082d5e4@mail.gmail.com>
References: <9257026e0903020114q3f653808q62d86a9f29dc9bf5@mail.gmail.com>
	<18d502870903020133w5bdccd81q409a7677ce35a070@mail.gmail.com>
	<18d502870903040315y54a28912u961b701989fb9d38@mail.gmail.com>
	<9257026e0903040329u1f10458ah776fc1a17af3b430@mail.gmail.com>
	<18d502870903040341l3d111f25s755e7d5bf2589da@mail.gmail.com>
	<18d502870903100943v10d1f92lbc98686735999af8@mail.gmail.com>
	<22439419.post@talk.nabble.com>
	<18d502870903101042g47482b57l5e18f13e251604e0@mail.gmail.com>
	<20090310182539.GA1204@uran.home.aster.pl>
	<9257026e0903101139v52d5102v1958a6429082d5e4@mail.gmail.com>
Message-ID: <18d502870903101442u28ca01f5rd5bde729017a5eb9@mail.gmail.com>

Sorry to all, I meant hbwin (not gtwin).
so, hbwin must be fixed for WinCE.

Brgds,
Viktor

On Tue, Mar 10, 2009 at 7:39 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> On Tue, Mar 10, 2009 at 7:25 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>
> wrote:
>
> > IMHO this mode should be default. If you think that resizing
> > window can be problem form some application then we can add
> > also:
> >   hb_gtInfo( HB_GTI_RESIZABLE, .F. )
> > as default setting. In such version or user startup setting
> > and font selections are respected. If someone needs some other
> > functionality then he can use hb_gtInfo() to enable it.
>
> I can confirm it.
> After many tests, this is the sequence that for me produces less
> flickering and respects font and rows/cols defined by user using
> gtwvt.
>
> N.B. in production I still use 1.0.1, so I can't be sure it works in a
> wide range of cases,
> avidopts contains user's defined values and NO output is done before
> the HB_GTInfo calls
>
> ...
>   HB_GTInfo(HB_GTI_FONTNAME, cFontName)
>   HB_GTInfo(HB_GTI_FONTSIZE, nFontSize)
>   setmode( nRows, nCols )
>   Hb_GTInfo(HB_GTI_MOUSESTATUS, 1 )
>   Hb_GTInfo(HB_GTI_CLOSABLE, FALSE )
>   Hb_GTInfo(HB_GTI_RESIZABLE, FALSE )
> ...
>   Hb_GtInfo( HB_GTI_PALETTE, ... )
>   Hb_GtInfo( HB_GTI_PALETTE, ... )
> ...
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090310/77fffc13/attachment.html
From bedipritpal at hotmail.com  Tue Mar 10 18:10:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 10 18:10:30 2009
Subject: [Harbour] SetKey() and hb_gtReload()
Message-ID: <22444718.post@talk.nabble.com>


Hello Przemek

SetKey() function is thread safe, I know.

Can it be made GT safe also?

I have this scenario:

Function Main()

@ 10,10 SAY 'Test'
SetKey( K_F2, {|| Alert( 'Hello' } )

hb_gtReload( 'WVG' )
? '.'
// Here if I press F2, alert function is executed.
// while I am expecting that it should not as 
// I am placed in a new window.

do while inkey()<>27
enddo

return nil

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SetKey%28%29-and-hb_gtReload%28%29-tp22444718p22444718.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Tue Mar 10 19:46:27 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 10 19:46:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10583] trunk/harbour
Message-ID: <E1LhBeV-0000FQ-73@d5vjzd1.ch3.sourceforge.com>

Revision: 10583
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10583&view=rev
Author:   druzus
Date:     2009-03-10 23:46:26 +0000 (Tue, 10 Mar 2009)

Log Message:
-----------
2009-03-11 00:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbgete.c
    ! fixed setenv() usage in some OpenWatcom ports

  * harbour/source/compiler/cmdcheck.c
    ! fixed casting for C++ compilation

  * harbour/source/rtl/gttrm/gttrm.c
    * removed some trailing spaces

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbgete.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/rtl/gttrm/gttrm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar 10 20:10:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 10 20:04:32 2009
Subject: [Harbour] SetKey() and hb_gtReload()
In-Reply-To: <22444718.post@talk.nabble.com>
References: <22444718.post@talk.nabble.com>
Message-ID: <20090311001029.GA23050@uran.home.aster.pl>

On Tue, 10 Mar 2009, Pritpal Bedi wrote:

Hi,

> SetKey() function is thread safe, I know.
> Can it be made GT safe also?
> I have this scenario:
> Function Main()
> @ 10,10 SAY 'Test'
> SetKey( K_F2, {|| Alert( 'Hello' } )
> hb_gtReload( 'WVG' )
> ? '.'
> // Here if I press F2, alert function is executed.
> // while I am expecting that it should not as 
> // I am placed in a new window.

I so not think so. inkey() does not respect SetKey()
settings. SetKey() needs explicit support to activate
codeblok attached to given key value. See TBROWSE or
TGET code. GT does not know anything about it.

> do while inkey()<>27
> enddo
> return nil

You want to make setkey() settings local to GT driver.
I do not think it's good idea. It will stop to be thread
local for threads which shares GT.
Even if I'll change it then your next question will be
making THREAD STATIC variables used in GET system also local
to GT or sth like that.
I believe that it may help you in some of your code but it
will also break other code which now may need thread local
setting because it uses single GT driver in different threads,
f.e. with GTCTW.
So it's not a modification which is acceptable for all users.
I think that you should rather try to use extended CL53 functionality
and local to given object SetKey() setting (see setkey() methods) or
even your own function which will use CARGO value in GT driver to keep
your local GT setting. F.e. you can store hash array in GT cargo item
and use "SETKEY" index to keep your own SeyKey() array inside.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Mar 10 20:47:07 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 10 20:47:10 2009
Subject: [Harbour] SetKey() and hb_gtReload()
In-Reply-To: <20090311001029.GA23050@uran.home.aster.pl>
References: <22444718.post@talk.nabble.com>
	<20090311001029.GA23050@uran.home.aster.pl>
Message-ID: <22446799.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> I so not think so. inkey() does not respect SetKey()
> settings. SetKey() needs explicit support to activate
> codeblok attached to given key value. See TBROWSE or
> TGET code. GT does not know anything about it.
> 
>> do while inkey()<>27
>> enddo
>> return nil
> 
> You want to make setkey() settings local to GT driver.
> I do not think it's good idea. It will stop to be thread
> local for threads which shares GT.
> Even if I'll change it then your next question will be
> making THREAD STATIC variables used in GET system also local
> to GT or sth like that.
> I believe that it may help you in some of your code but it
> will also break other code which now may need thread local
> setting because it uses single GT driver in different threads,
> f.e. with GTCTW.
> So it's not a modification which is acceptable for all users.
> I think that you should rather try to use extended CL53 functionality
> and local to given object SetKey() setting (see setkey() methods) or
> even your own function which will use CARGO value in GT driver to keep
> your local GT setting. F.e. you can store hash array in GT cargo item
> and use "SETKEY" index to keep your own SeyKey() array inside.
> 
> 

You are right. I already have figured out the problems if SetKey()
is made GT specific. Thanks for the explanation.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SetKey%28%29-and-hb_gtReload%28%29-tp22444718p22446799.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lavr at ldz.lv  Wed Mar 11 03:44:00 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Wed Mar 11 03:44:12 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[10582]	trunk/harbour/ChangeLog
In-Reply-To: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
Message-ID: <49B76BC0.8000408@ldz.lv>

vszakats@users.sourceforge.net wrote:
> Revision: 10582
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10582&view=rev
> Author:   vszakats
> Date:     2009-03-10 17:43:39 +0000 (Tue, 10 Mar 2009)
>
> Log Message:
> -----------
> (sorry I've missed adding the entry to ChangeLog in prev commit)
>
> 2009-03-10 18:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  * ChangeLog
>    * Updates.
>
>  * contrib/xhb/txml.prg
>    * Update HB_REGEXMATCH() calls, to keep old logic.
>    ; TOFIX: Above doesn't mean it's now correct, so
>             someone familiar with this code, please
>             correct it.
>
>  * contrib/hbapollo/apollo.c
>    * Removed essentially empty comments.
>
>  * source/rtl/achoice.prg
>    ! Applied fix from Vladislav Lavrecky.
>      I didn't test it just assumed okay, please do so.
>   
achoice with additional redraw on exit are ok
I test it previously, but in my message just an example
To fix achoice we need to add
+   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
nAtTop, nItems, bSelect, nRowsClr )
in all CASE items where lFinished := .T.
or IMO better
add one redraw line before exit from achoice function
[...]
   ENDDO
+   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
nAtTop, nItems, bSelect, nRowsClr )
   SetCursor( nSaveCsr )

   RETURN nPos
[...]

Brgds,
Vlad
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

From druzus at acn.waw.pl  Wed Mar 11 03:58:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 11 03:52:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582]
	trunk/harbour/ChangeLog
In-Reply-To: <49B76BC0.8000408@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
	<49B76BC0.8000408@ldz.lv>
Message-ID: <20090311075808.GA15153@uran.home.aster.pl>

On Wed, 11 Mar 2009, Vladislav Lavrecky wrote:

Hi,

> achoice with additional redraw on exit are ok
> I test it previously, but in my message just an example
> To fix achoice we need to add
> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop, 
> nItems, bSelect, nRowsClr )
> in all CASE items where lFinished := .T.
> or IMO better
> add one redraw line before exit from achoice function
> [...]
>   ENDDO
> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop, 
> nItems, bSelect, nRowsClr )
>   SetCursor( nSaveCsr )
>
>   RETURN nPos
> [...]

Can you create a small .prg example which illustrates achoice()
incompatibilities?
We can put it in tests/ directory so it can be used to verify
future modifications.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar 11 03:52:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 03:52:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582] 
	trunk/harbour/ChangeLog
In-Reply-To: <49B76BC0.8000408@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
	<49B76BC0.8000408@ldz.lv>
Message-ID: <18d502870903110052k7a811d1bn787bb72150795d94@mail.gmail.com>

Hi Vlad,
Would you mind posting a patch for this file? I'll commit it.

I'm not an ACHOICE() user, so it's difficult for me to test
this properly for Clipper compatibility.

Brgds,
Viktor

On Wed, Mar 11, 2009 at 8:44 AM, Vladislav Lavrecky <lavr@ldz.lv> wrote:

> vszakats@users.sourceforge.net wrote:
>
>> Revision: 10582
>>
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10582&view=rev
>> Author:   vszakats
>> Date:     2009-03-10 17:43:39 +0000 (Tue, 10 Mar 2009)
>>
>> Log Message:
>> -----------
>> (sorry I've missed adding the entry to ChangeLog in prev commit)
>>
>> 2009-03-10 18:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>>  * ChangeLog
>>   * Updates.
>>
>>  * contrib/xhb/txml.prg
>>   * Update HB_REGEXMATCH() calls, to keep old logic.
>>   ; TOFIX: Above doesn't mean it's now correct, so
>>            someone familiar with this code, please
>>            correct it.
>>
>>  * contrib/hbapollo/apollo.c
>>   * Removed essentially empty comments.
>>
>>  * source/rtl/achoice.prg
>>   ! Applied fix from Vladislav Lavrecky.
>>     I didn't test it just assumed okay, please do so.
>>
>>
> achoice with additional redraw on exit are ok
> I test it previously, but in my message just an example
> To fix achoice we need to add
> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop,
> nItems, bSelect, nRowsClr )
> in all CASE items where lFinished := .T.
> or IMO better
> add one redraw line before exit from achoice function
> [...]
>  ENDDO
> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop,
> nItems, bSelect, nRowsClr )
>  SetCursor( nSaveCsr )
>
>  RETURN nPos
> [...]
>
> Brgds,
> Vlad
>
>  Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>
>>
>> This was sent by the SourceForge.net collaborative development platform,
>> the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/0464d46b/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Mar 11 03:57:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 03:57:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10584] trunk/harbour
Message-ID: <E1LhJJL-0008BX-PT@c3vjzd1.ch3.sourceforge.com>

Revision: 10584
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10584&view=rev
Author:   vszakats
Date:     2009-03-11 07:57:06 +0000 (Wed, 11 Mar 2009)

Log Message:
-----------
2009-03-11 08:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/whatsnew.txt
    + Added new entries since last update. Please review, etc...
    ; TODO: There is still 500K worth of ChangeLog to process 
            for the timeframe 200808/09-20081219.
            Someone pls help.

  * doc/man/hbmk.1
    * CC* envvar name change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/doc/whatsnew.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lavr at ldz.lv  Wed Mar 11 04:04:28 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Wed Mar 11 04:04:32 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[10582]	trunk/harbour/ChangeLog
In-Reply-To: <20090311075808.GA15153@uran.home.aster.pl>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>	<49B76BC0.8000408@ldz.lv>
	<20090311075808.GA15153@uran.home.aster.pl>
Message-ID: <49B7708C.6060300@ldz.lv>

Przemyslaw Czerpak wrote:
> On Wed, 11 Mar 2009, Vladislav Lavrecky wrote:
>
> Hi,
>
>   
>> achoice with additional redraw on exit are ok
>> I test it previously, but in my message just an example
>> To fix achoice we need to add
>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop, 
>> nItems, bSelect, nRowsClr )
>> in all CASE items where lFinished := .T.
>> or IMO better
>> add one redraw line before exit from achoice function
>> [...]
>>   ENDDO
>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop, 
>> nItems, bSelect, nRowsClr )
>>   SetCursor( nSaveCsr )
>>
>>   RETURN nPos
>> [...]
>>     
>
> Can you create a small .prg example which illustrates achoice()
> incompatibilities?
> We can put it in tests/ directory so it can be used to verify
> future modifications.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   
Hi,
small example :)

function main()

local aMenu := {"Line1" , "Line2" , "Line3"}
local aPerm := {.T. , .T. , .T.}

cls
setcolor("W+/N, BG+/B, , , W/N")
achoice(8, 4, 9, 9, aMenu, aPerm)

return NIL

Clipper on exit (press ESC, ENTER, ...) redraw achoice() with no 
highlighted items

brgds,
Vlad

From lavr at ldz.lv  Wed Mar 11 04:41:46 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Wed Mar 11 04:41:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582]
	trunk/harbour/ChangeLog
In-Reply-To: <18d502870903110052k7a811d1bn787bb72150795d94@mail.gmail.com>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>	<49B76BC0.8000408@ldz.lv>
	<18d502870903110052k7a811d1bn787bb72150795d94@mail.gmail.com>
Message-ID: <49B7794A.4090605@ldz.lv>

Viktor Szak?ts wrote:
> Hi Vlad,
>
> Would you mind posting a patch for this file? I'll commit it.
>
> I'm not an ACHOICE() user, so it's difficult for me to test 
> this properly for Clipper compatibility.
>
> Brgds,
> Viktor
Hi,

For me it will be good if achoice() works identically in Clipper and in 
Harbour,
but may be other users have any reasons reject this fix.

I vote to post

Brgds,
Vlad
>
> On Wed, Mar 11, 2009 at 8:44 AM, Vladislav Lavrecky <lavr@ldz.lv 
> <mailto:lavr@ldz.lv>> wrote:
>
>     vszakats@users.sourceforge.net
>     <mailto:vszakats@users.sourceforge.net> wrote:
>
>         Revision: 10582
>                
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10582&view=rev
>         <http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10582&view=rev>
>         Author:   vszakats
>         Date:     2009-03-10 17:43:39 +0000 (Tue, 10 Mar 2009)
>
>         Log Message:
>         -----------
>         (sorry I've missed adding the entry to ChangeLog in prev commit)
>
>         2009-03-10 18:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>          * ChangeLog
>           * Updates.
>
>          * contrib/xhb/txml.prg
>           * Update HB_REGEXMATCH() calls, to keep old logic.
>           ; TOFIX: Above doesn't mean it's now correct, so
>                    someone familiar with this code, please
>                    correct it.
>
>          * contrib/hbapollo/apollo.c
>           * Removed essentially empty comments.
>
>          * source/rtl/achoice.prg
>           ! Applied fix from Vladislav Lavrecky.
>             I didn't test it just assumed okay, please do so.
>          
>
>     achoice with additional redraw on exit are ok
>     I test it previously, but in my message just an example
>     To fix achoice we need to add
>     +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0,
>     nAtTop, nItems, bSelect, nRowsClr )
>     in all CASE items where lFinished := .T.
>     or IMO better
>     add one redraw line before exit from achoice function
>     [...]
>      ENDDO
>     +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0,
>     nAtTop, nItems, bSelect, nRowsClr )
>      SetCursor( nSaveCsr )
>
>      RETURN nPos
>     [...]
>
>     Brgds,
>     Vlad
>
>         Modified Paths:
>         --------------
>            trunk/harbour/ChangeLog
>
>
>         This was sent by the SourceForge.net collaborative development
>         platform, the world's largest Open Source development site.
>         _______________________________________________
>         Harbour mailing list
>         Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>         http://lists.harbour-project.org/mailman/listinfo/harbour
>
>          
>
>
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   


From harbour.01 at syenar.hu  Wed Mar 11 04:53:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 04:53:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582] 
	trunk/harbour/ChangeLog
In-Reply-To: <49B7794A.4090605@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
	<49B76BC0.8000408@ldz.lv>
	<18d502870903110052k7a811d1bn787bb72150795d94@mail.gmail.com>
	<49B7794A.4090605@ldz.lv>
Message-ID: <18d502870903110153r1087076bif1c8272abcd99430@mail.gmail.com>

>
> Hi,
>
> For me it will be good if achoice() works identically in Clipper and in
> Harbour,
> but may be other users have any reasons reject this fix.


In Harbour we also prefer Clipper compatibility over everything else.

Pls feel free to post your fix, I'm sure no one will reject it if it
enhances Clipper compatibility.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/81abe951/attachment.html
From lavr at ldz.lv  Wed Mar 11 04:55:12 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Wed Mar 11 04:55:16 2009
Subject: [Harbour] SF.net
	SVN:	harbour-project:[10582]	trunk/harbour/ChangeLog
In-Reply-To: <49B7708C.6060300@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>	<49B76BC0.8000408@ldz.lv>	<20090311075808.GA15153@uran.home.aster.pl>
	<49B7708C.6060300@ldz.lv>
Message-ID: <49B77C70.7090800@ldz.lv>

Vladislav Lavrecky wrote:
> Przemyslaw Czerpak wrote:
>> On Wed, 11 Mar 2009, Vladislav Lavrecky wrote:
>>
>> Hi,
>>
>>  
>>> achoice with additional redraw on exit are ok
>>> I test it previously, but in my message just an example
>>> To fix achoice we need to add
>>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
>>> nAtTop, nItems, bSelect, nRowsClr )
>>> in all CASE items where lFinished := .T.
>>> or IMO better
>>> add one redraw line before exit from achoice function
>>> [...]
>>>   ENDDO
>>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
>>> nAtTop, nItems, bSelect, nRowsClr )
>>>   SetCursor( nSaveCsr )
>>>
>>>   RETURN nPos
>>> [...]
>>>     
>>
>> Can you create a small .prg example which illustrates achoice()
>> incompatibilities?
>> We can put it in tests/ directory so it can be used to verify
>> future modifications.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>   
> Hi,
> small example :)
>
> function main()
>
> local aMenu := {"Line1" , "Line2" , "Line3"}
> local aPerm := {.T. , .T. , .T.}
>
> cls
> setcolor("W+/N, BG+/B, , , W/N")
> achoice(8, 4, 9, 9, aMenu, aPerm)
>
> return NIL
>
> Clipper on exit (press ESC, ENTER, ...) redraw achoice() with no 
> highlighted items
>
> brgds,
> Vlad
By the way
I fouund one more clipper-harbour achoice() incompatibility
example
------
function main()

local aMenu := {"Line1" , "" , "Line3"}
local aPerm := {.T. , .T. , .T.}

cls
setcolor("W+/N, BG+/B, , , W/N")
achoice(8, 4, 9, 9, aMenu, aPerm)

return NIL
------
Clipper show only one item - Line1
Harbour - all three lines

this can be fixed in achoice.prg
in function Ach_Limits chahge IF clause from
      IF ISCHARACTER( acItems[ nCntr ] )
to
      IF LEN( acItems[ nCntr ] ) > 0 .AND. ISCHARACTER( acItems[ nCntr ] )

Brgds,
Vlad
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>


From harbour.01 at syenar.hu  Wed Mar 11 05:44:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 05:44:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582] 
	trunk/harbour/ChangeLog
In-Reply-To: <49B77C70.7090800@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
	<49B76BC0.8000408@ldz.lv> <20090311075808.GA15153@uran.home.aster.pl>
	<49B7708C.6060300@ldz.lv> <49B77C70.7090800@ldz.lv>
Message-ID: <18d502870903110244m339541adqe0501c995214ff4@mail.gmail.com>

Thanks, I'll commit this in next session.
Brgds,
Viktor

On Wed, Mar 11, 2009 at 9:55 AM, Vladislav Lavrecky <lavr@ldz.lv> wrote:

> Vladislav Lavrecky wrote:
>
>> Przemyslaw Czerpak wrote:
>>
>>> On Wed, 11 Mar 2009, Vladislav Lavrecky wrote:
>>>
>>> Hi,
>>>
>>>
>>>
>>>> achoice with additional redraw on exit are ok
>>>> I test it previously, but in my message just an example
>>>> To fix achoice we need to add
>>>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0,
>>>> nAtTop, nItems, bSelect, nRowsClr )
>>>> in all CASE items where lFinished := .T.
>>>> or IMO better
>>>> add one redraw line before exit from achoice function
>>>> [...]
>>>>  ENDDO
>>>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0,
>>>> nAtTop, nItems, bSelect, nRowsClr )
>>>>  SetCursor( nSaveCsr )
>>>>
>>>>  RETURN nPos
>>>> [...]
>>>>
>>>>
>>>
>>> Can you create a small .prg example which illustrates achoice()
>>> incompatibilities?
>>> We can put it in tests/ directory so it can be used to verify
>>> future modifications.
>>>
>>> best regards,
>>> Przemek
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>>
>> Hi,
>> small example :)
>>
>> function main()
>>
>> local aMenu := {"Line1" , "Line2" , "Line3"}
>> local aPerm := {.T. , .T. , .T.}
>>
>> cls
>> setcolor("W+/N, BG+/B, , , W/N")
>> achoice(8, 4, 9, 9, aMenu, aPerm)
>>
>> return NIL
>>
>> Clipper on exit (press ESC, ENTER, ...) redraw achoice() with no
>> highlighted items
>>
>> brgds,
>> Vlad
>>
> By the way
> I fouund one more clipper-harbour achoice() incompatibility
> example
> ------
> function main()
>
> local aMenu := {"Line1" , "" , "Line3"}
> local aPerm := {.T. , .T. , .T.}
>
> cls
> setcolor("W+/N, BG+/B, , , W/N")
> achoice(8, 4, 9, 9, aMenu, aPerm)
>
> return NIL
> ------
> Clipper show only one item - Line1
> Harbour - all three lines
>
> this can be fixed in achoice.prg
> in function Ach_Limits chahge IF clause from
>     IF ISCHARACTER( acItems[ nCntr ] )
> to
>     IF LEN( acItems[ nCntr ] ) > 0 .AND. ISCHARACTER( acItems[ nCntr ] )
>
> Brgds,
> Vlad
>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/8d9def0d/attachment.html
From lavr at ldz.lv  Wed Mar 11 06:45:52 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Wed Mar 11 06:45:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582]
	trunk/harbour/ChangeLog
In-Reply-To: <18d502870903110244m339541adqe0501c995214ff4@mail.gmail.com>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>	<49B76BC0.8000408@ldz.lv>
	<20090311075808.GA15153@uran.home.aster.pl>	<49B7708C.6060300@ldz.lv>
	<49B77C70.7090800@ldz.lv>
	<18d502870903110244m339541adqe0501c995214ff4@mail.gmail.com>
Message-ID: <49B79660.4020602@ldz.lv>

Viktor Szak?ts wrote:
> Thanks, I'll commit this in next session.
>
> Brgds,
> Viktor
>
> On Wed, Mar 11, 2009 at 9:55 AM, Vladislav Lavrecky <lavr@ldz.lv 
> <mailto:lavr@ldz.lv>> wrote:
>
>     Vladislav Lavrecky wrote:
>
>         Przemyslaw Czerpak wrote:
>
>             On Wed, 11 Mar 2009, Vladislav Lavrecky wrote:
>
>             Hi,
>
>              
>
>                 achoice with additional redraw on exit are ok
>                 I test it previously, but in my message just an example
>                 To fix achoice we need to add
>                 +   DispPage( acItems, alSelect, nTop, nLeft, nRight,
>                 nNumRows, 0, nAtTop, nItems, bSelect, nRowsClr )
>                 in all CASE items where lFinished := .T.
>                 or IMO better
>                 add one redraw line before exit from achoice function
>                 [...]
>                  ENDDO
>                 +   DispPage( acItems, alSelect, nTop, nLeft, nRight,
>                 nNumRows, 0, nAtTop, nItems, bSelect, nRowsClr )
>                  SetCursor( nSaveCsr )
>
>                  RETURN nPos
>                 [...]
>                    
>
>
>             Can you create a small .prg example which illustrates
>             achoice()
>             incompatibilities?
>             We can put it in tests/ directory so it can be used to verify
>             future modifications.
>
>             best regards,
>             Przemek
>             _______________________________________________
>             Harbour mailing list
>             Harbour@harbour-project.org
>             <mailto:Harbour@harbour-project.org>
>             http://lists.harbour-project.org/mailman/listinfo/harbour
>
>              
>
>         Hi,
>         small example :)
>
>         function main()
>
>         local aMenu := {"Line1" , "Line2" , "Line3"}
>         local aPerm := {.T. , .T. , .T.}
>
>         cls
>         setcolor("W+/N, BG+/B, , , W/N")
>         achoice(8, 4, 9, 9, aMenu, aPerm)
>
>         return NIL
>
>         Clipper on exit (press ESC, ENTER, ...) redraw achoice() with
>         no highlighted items
>
>         brgds,
>         Vlad
>
>     By the way
>     I fouund one more clipper-harbour achoice() incompatibility
>     example
>     ------
>     function main()
>
>     local aMenu := {"Line1" , "" , "Line3"}
>
>     local aPerm := {.T. , .T. , .T.}
>
>     cls
>     setcolor("W+/N, BG+/B, , , W/N")
>     achoice(8, 4, 9, 9, aMenu, aPerm)
>
>     return NIL
>     ------
>     Clipper show only one item - Line1
>     Harbour - all three lines
>
>     this can be fixed in achoice.prg
>     in function Ach_Limits chahge IF clause from
>         IF ISCHARACTER( acItems[ nCntr ] )
>     to
>         IF LEN( acItems[ nCntr ] ) > 0 .AND. ISCHARACTER( acItems[
>     nCntr ] )
>
>
>     Brgds,
>     Vlad
>
>
>         _______________________________________________
>         Harbour mailing list
>         Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>         http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   
Sorry I make dangerous mistake in
IF LEN( acItems[ nCntr ] ) > 0 .AND. ISCHARACTER( acItems[ nCntr ] )
code not safe for NIL values

this look like safe fix
------------
STATIC FUNCTION Ach_Limits( nFrstItem, nLastItem, nItems, bSelect, 
alSelect, acItems )

   LOCAL nMode
   LOCAL nCntr
//add code block
+  LOCAL bItemsBlock := { |nINum| IIF( ISCHARACTER( acItems[ nINum ]), ;
+                             LEN( acItems[ nINum ] ) > 0, .F. ) }

   nItems := 0

   FOR nCntr := 1 TO Len( acItems )
//replace
-        IF LEN( acItems[ nCntr ] ) > 0 .AND. ISCHARACTER( acItems[ 
nCntr ] )
//with
+      IF EVAL( bItemsBlock, nCntr )
         nItems++
      ELSE
         EXIT
      ENDIF
   NEXT

--------------
[...]


tested on
------------
function main()

local aMenu := {"Line1" , NIL, "", "Line4"}
local aPerm := {.T. , .T. , .T., .T.}

cls
setcolor("W+/N, BG+/B, , , W/N")
achoice(8, 4, 9, 9, aMenu, aPerm)

return NIL

-----------

From harbour.01 at syenar.hu  Wed Mar 11 07:11:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 07:12:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582] 
	trunk/harbour/ChangeLog
In-Reply-To: <49B79660.4020602@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
	<49B76BC0.8000408@ldz.lv> <20090311075808.GA15153@uran.home.aster.pl>
	<49B7708C.6060300@ldz.lv> <49B77C70.7090800@ldz.lv>
	<18d502870903110244m339541adqe0501c995214ff4@mail.gmail.com>
	<49B79660.4020602@ldz.lv>
Message-ID: <18d502870903110411i20f946d8wfd19c761e51dbaf@mail.gmail.com>

>
> Sorry I make dangerous mistake in
> IF LEN( acItems[ nCntr ] ) > 0 .AND. ISCHARACTER( acItems[ nCntr ] )
> code not safe for NIL values


I know, I've swapped the two conditions in my local patch:

IF ISCHARACTER( acItems[ nCntr ] ) .AND. Len( acItems[ nCntr ] ) > 0

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/71b790fd/attachment.html
From mbelgrano at deltain.it  Wed Mar 11 10:44:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 10:44:38 2009
Subject: [Harbour] Problem with append inside myapp
Message-ID: <609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>

Executing follow code inside my application i receive error because
same record are not appended
Error occour also using rddads
If i isolate in a sample program i can run witout error (all  record
as appended)
ppo in my sample and in my application are equal
Append from (in my application) not append all record on
What error can i have made in my application

Thanks for support
function main()
 ? "Verify append operation"
 X_RDD="DBFCDX"
 XA_DIR:=ARRAY( ADIR("*.DBF"))
 ADIR("*.DBF",XA_DIR)
  FOR A=1 TO LEN(XA_DIR)
    X_DB1=XA_DIR[A]
	? X_DB1
     X_DB2       := "DB2TEMP.DBF"
    use &X_DB1 alias TEMP VIA X_RDD exclusive
    X_LASTREC=LASTREC()
    ?? X_LASTREC
    A_STRUTTURE:=DBSTRUCT()
    USE
    dbcreate(X_DB2,A_STRUTTURE,X_RDD)
    use &X_DB2 alias TEMP VIA X_RDD exclusive
      append from &(X_DB1) VIA X_RDD
    SKIP 0
    X_LASTREC2=LASTREC()
	?? X_LASTREC2
    use
    IF X_LASTREC2<>X_LASTREC
        ?? "ERROR NOT ALL RECORD WAS APPENDED"
    ENDIF
 NEXT A
 RETURN

regarding append i have found this xharbour ng regarding an eror that
give me error also with harbour last cvs so i post here also if is
unrelated with my problem.
REQUEST DBFCDX

function main()
   local aTst, aTstErr
   local aStruct := { { "id", "C", 2, 0 }, ;
                      { "name", "c", 30, 0 } }

   cls
   ? ' Begin test'
   ? ' create tables'
   ? RddSetDefault( "DBFCDX" )  // !!! 1 condition !!!
   dbCreate( "testsrc", aStruct, "DBFCDX", .T., "testsrc" )
   dbAppend()
   testsrc->ID := '01'
   testsrc->NAME := 'test record'
   dbcommit()
   testsrc->( DbCloseArea() )

   dbCreate( "testapp", aStruct, "DBFCDX", .T., "testapp" )
   index on field->id tag id  // !!! 2 condition !!!

   // --- must be ok ---
   ? ' '
   ? ' test appending from table with differ name'
   ? ' lastrec = '
   ?? testapp->( LastRec() )
   ? ' append from testsrc.dbf'
   append from ('testsrc.dbf')
   ? ' lastrec = '
   ?? testapp->( LastRec() )
   ? ''
   ? if ( testapp->( LastRec() ) == 1, 'OK!', 'Error!' )

   // --- ERROR ---
   ? ' '
   ? ' test appending from table with same name, but differ ext'
   zap
   FRename( 'testsrc.dbf', 'testapp.bak' )  // !!! 3 condition !!!

   ? ' lastrec = '
   ?? testapp->( LastRec() )
   ? ' append from testapp.bak'
   append from ('testapp.bak')
   ? ' lastrec = '
   ?? testapp->( LastRec() )
   ? ''
   ? if ( testapp->( LastRec() ) == 1, 'OK!', 'Error!' )

   wait
return nil

-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Wed Mar 11 11:22:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 11 11:22:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10585] trunk/harbour
Message-ID: <E1LhQGI-0005NJ-TZ@d5vjzd1.ch3.sourceforge.com>

Revision: 10585
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10585&view=rev
Author:   druzus
Date:     2009-03-11 15:22:17 +0000 (Wed, 11 Mar 2009)

Log Message:
-----------
2009-03-11 16:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbdate.c
  * harbour/source/compiler/cmdcheck.c
  * harbour/source/rtl/idle.c
  * harbour/source/rtl/seconds.c
  * harbour/source/rtl/fssize.c
  * harbour/source/rtl/hbffind.c
  * harbour/source/rtl/filesys.c
  * harbour/contrib/hbct/files.c
    * cleaned feature test macros usage

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/fssize.c
    trunk/harbour/source/rtl/hbffind.c
    trunk/harbour/source/rtl/idle.c
    trunk/harbour/source/rtl/seconds.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Mar 11 11:33:10 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 11 11:33:14 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
Message-ID: <22457681.post@talk.nabble.com>


Hello

Once before I had reported this error.

Appln crashes if UserFunc is defined and 
memo is in readonly mode.

Can someone look into it.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Memoedit%28%29---UserFunc-%3D%3D-YES-and-EDITABLE-%3D%3D-NO-tp22457681p22457681.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Mar 11 11:36:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 11:37:05 2009
Subject: [Harbour] Re: Problem with append inside myapp
In-Reply-To: <609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>
References: <609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>
Message-ID: <609353e70903110836q4e206230k2ad83b82d8a852de@mail.gmail.com>

I have discovered!
is set deleted on
that affect append operation

Sorry for wasting mailing time


-- 
Massimo Belgrano
From alcisoft at arrakis.es  Wed Mar 11 11:35:50 2009
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Wed Mar 11 11:38:35 2009
Subject: [Harbour] Re: Problem with append inside myapp
References: <609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>
Message-ID: <gp8lt8$k7i$1@ger.gmane.org>

Massimo,

1 IF SET DELETED ON then APPEND not append deleted records and target
Lastrec() not equal source Lastrec()
2 IF source area have a SET FILTER....
Regards

Massimo Belgrano escribi en mensaje
<609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>...
>Executing follow code inside my application i receive error because
>same record are not appended
>Error occour also using rddads
>If i isolate in a sample program i can run witout error (all  record
>as appended)
>ppo in my sample and in my application are equal
>Append from (in my application) not append all record on
>What error can i have made in my application
>
>Thanks for support
>function main()
> ? "Verify append operation"
> X_RDD="DBFCDX"
> XA_DIR:=ARRAY( ADIR("*.DBF"))
> ADIR("*.DBF",XA_DIR)
>  FOR A=1 TO LEN(XA_DIR)
>    X_DB1=XA_DIR[A]
> ? X_DB1
>     X_DB2       := "DB2TEMP.DBF"
>    use &X_DB1 alias TEMP VIA X_RDD exclusive
>    X_LASTREC=LASTREC()
>    ?? X_LASTREC
>    A_STRUTTURE:=DBSTRUCT()
>    USE
>    dbcreate(X_DB2,A_STRUTTURE,X_RDD)
>    use &X_DB2 alias TEMP VIA X_RDD exclusive
>      append from &(X_DB1) VIA X_RDD
>    SKIP 0
>    X_LASTREC2=LASTREC()
> ?? X_LASTREC2
>    use
>    IF X_LASTREC2<>X_LASTREC
>        ?? "ERROR NOT ALL RECORD WAS APPENDED"
>    ENDIF
> NEXT A
> RETURN
>
>regarding append i have found this xharbour ng regarding an eror that
>give me error also with harbour last cvs so i post here also if is
>unrelated with my problem.
>REQUEST DBFCDX
>
>function main()
>   local aTst, aTstErr
>   local aStruct := { { "id", "C", 2, 0 }, ;
>                      { "name", "c", 30, 0 } }
>
>   cls
>   ? ' Begin test'
>   ? ' create tables'
>   ? RddSetDefault( "DBFCDX" )  // !!! 1 condition !!!
>   dbCreate( "testsrc", aStruct, "DBFCDX", .T., "testsrc" )
>   dbAppend()
>   testsrc->ID := '01'
>   testsrc->NAME := 'test record'
>   dbcommit()
>   testsrc->( DbCloseArea() )
>
>   dbCreate( "testapp", aStruct, "DBFCDX", .T., "testapp" )
>   index on field->id tag id  // !!! 2 condition !!!
>
>   // --- must be ok ---
>   ? ' '
>   ? ' test appending from table with differ name'
>   ? ' lastrec = '
>   ?? testapp->( LastRec() )
>   ? ' append from testsrc.dbf'
>   append from ('testsrc.dbf')
>   ? ' lastrec = '
>   ?? testapp->( LastRec() )
>   ? ''
>   ? if ( testapp->( LastRec() ) == 1, 'OK!', 'Error!' )
>
>   // --- ERROR ---
>   ? ' '
>   ? ' test appending from table with same name, but differ ext'
>   zap
>   FRename( 'testsrc.dbf', 'testapp.bak' )  // !!! 3 condition !!!
>
>   ? ' lastrec = '
>   ?? testapp->( LastRec() )
>   ? ' append from testapp.bak'
>   append from ('testapp.bak')
>   ? ' lastrec = '
>   ?? testapp->( LastRec() )
>   ? ''
>   ? if ( testapp->( LastRec() ) == 1, 'OK!', 'Error!' )
>
>   wait
>return nil
>
>--
>Massimo Belgrano



From mbelgrano at deltain.it  Wed Mar 11 11:43:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 11:43:22 2009
Subject: [Harbour] Re: Problem with append inside myapp
In-Reply-To: <gp8lt8$k7i$1@ger.gmane.org>
References: <609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>
	<gp8lt8$k7i$1@ger.gmane.org>
Message-ID: <609353e70903110843o37909540g8b4b318f4b25cd87@mail.gmail.com>

You are right!
My app have set deleted on
 i not have remembered

Thanks

2009/3/11 Antonio Martinez <alcisoft@arrakis.es>:
> Massimo,
>
> 1? IF SET DELETED ON then APPEND not append deleted records and target
> Lastrec() not equal source Lastrec()
> 2? IF source area have a SET FILTER....
> Regards
>
> Massimo Belgrano escribi? en mensaje
> <609353e70903110744v65c14b31u32a3e4605b8ba9a3@mail.gmail.com>...
>>Executing follow code inside my application i receive error because
>>same record are not appended
>>Error occour also using rddads
>>If i isolate in a sample program i can run witout error (all ?record
>>as appended)
>>ppo in my sample and in my application are equal
>>Append from (in my application) not append all record on
>>What error can i have made in my application
>>
>>Thanks for support
>>function main()
>> ? "Verify append operation"
>> X_RDD="DBFCDX"
>> XA_DIR:=ARRAY( ADIR("*.DBF"))
>> ADIR("*.DBF",XA_DIR)
>> ?FOR A=1 TO LEN(XA_DIR)
>> ? ?X_DB1=XA_DIR[A]
>> ? X_DB1
>> ? ? X_DB2 ? ? ? := "DB2TEMP.DBF"
>> ? ?use &X_DB1 alias TEMP VIA X_RDD exclusive
>> ? ?X_LASTREC=LASTREC()
>> ? ??? X_LASTREC
>> ? ?A_STRUTTURE:=DBSTRUCT()
>> ? ?USE
>> ? ?dbcreate(X_DB2,A_STRUTTURE,X_RDD)
>> ? ?use &X_DB2 alias TEMP VIA X_RDD exclusive
>> ? ? ?append from &(X_DB1) VIA X_RDD
>> ? ?SKIP 0
>> ? ?X_LASTREC2=LASTREC()
>> ?? X_LASTREC2
>> ? ?use
>> ? ?IF X_LASTREC2<>X_LASTREC
>> ? ? ? ??? "ERROR NOT ALL RECORD WAS APPENDED"
>> ? ?ENDIF
>> NEXT A
>> RETURN
>>
>>regarding append i have found this xharbour ng regarding an eror that
>>give me error also with harbour last cvs so i post here also if is
>>unrelated with my problem.
>>REQUEST DBFCDX
>>
>>function main()
>> ? local aTst, aTstErr
>> ? local aStruct := { { "id", "C", 2, 0 }, ;
>> ? ? ? ? ? ? ? ? ? ? ?{ "name", "c", 30, 0 } }
>>
>> ? cls
>> ? ? ' Begin test'
>> ? ? ' create tables'
>> ? ? RddSetDefault( "DBFCDX" ) ?// !!! 1 condition !!!
>> ? dbCreate( "testsrc", aStruct, "DBFCDX", .T., "testsrc" )
>> ? dbAppend()
>> ? testsrc->ID := '01'
>> ? testsrc->NAME := 'test record'
>> ? dbcommit()
>> ? testsrc->( DbCloseArea() )
>>
>> ? dbCreate( "testapp", aStruct, "DBFCDX", .T., "testapp" )
>> ? index on field->id tag id ?// !!! 2 condition !!!
>>
>> ? // --- must be ok ---
>> ? ? ' '
>> ? ? ' test appending from table with differ name'
>> ? ? ' lastrec = '
>> ? ?? testapp->( LastRec() )
>> ? ? ' append from testsrc.dbf'
>> ? append from ('testsrc.dbf')
>> ? ? ' lastrec = '
>> ? ?? testapp->( LastRec() )
>> ? ? ''
>> ? ? if ( testapp->( LastRec() ) == 1, 'OK!', 'Error!' )
>>
>> ? // --- ERROR ---
>> ? ? ' '
>> ? ? ' test appending from table with same name, but differ ext'
>> ? zap
>> ? FRename( 'testsrc.dbf', 'testapp.bak' ) ?// !!! 3 condition !!!
>>
>> ? ? ' lastrec = '
>> ? ?? testapp->( LastRec() )
>> ? ? ' append from testapp.bak'
>> ? append from ('testapp.bak')
>> ? ? ' lastrec = '
>> ? ?? testapp->( LastRec() )
>> ? ? ''
>> ? ? if ( testapp->( LastRec() ) == 1, 'OK!', 'Error!' )
>>
>> ? wait
>>return nil
>>
>>--
>>Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From harbour.01 at syenar.hu  Wed Mar 11 12:03:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 12:03:13 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <22457681.post@talk.nabble.com>
References: <22457681.post@talk.nabble.com>
Message-ID: <18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>

Hi Pritpal,
Could you post sample code and an RTE message possibly
with line number? It would help locating the problem.

Brgds,
Viktor

On Wed, Mar 11, 2009 at 4:33 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hello
>
> Once before I had reported this error.
>
> Appln crashes if UserFunc is defined and
> memo is in readonly mode.
>
> Can someone look into it.
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://www.nabble.com/Memoedit%28%29---UserFunc-%3D%3D-YES-and-EDITABLE-%3D%3D-NO-tp22457681p22457681.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/b3f37e76/attachment.html
From abe.buch at att.net  Wed Mar 11 12:09:50 2009
From: abe.buch at att.net (AbeB)
Date: Wed Mar 11 12:09:54 2009
Subject: [Harbour] ace32 on wince?
Message-ID: <1236787790425-2462177.post@n2.nabble.com>


is it at all possible to have ace32.lib/ace32.dll work on wince?
-- 
View this message in context: http://n2.nabble.com/ace32-on-wince--tp2462177p2462177.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 11 12:14:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 12:14:59 2009
Subject: [Harbour] ace32 on wince?
In-Reply-To: <1236787790425-2462177.post@n2.nabble.com>
References: <1236787790425-2462177.post@n2.nabble.com>
Message-ID: <18d502870903110914t3a444224w62cb7bf4a4bfb919@mail.gmail.com>

No, unless Sybase comes out with an ace32.dll specifically built for WinCE /
ARM CPU.

Brgds,
Viktor

On Wed, Mar 11, 2009 at 5:09 PM, AbeB <abe.buch@att.net> wrote:

>
> is it at all possible to have ace32.lib/ace32.dll work on wince?
> --
> View this message in context:
> http://n2.nabble.com/ace32-on-wince--tp2462177p2462177.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/85f59752/attachment.html
From druzus at users.sourceforge.net  Wed Mar 11 12:39:35 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 11 12:39:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10586] trunk/harbour
Message-ID: <E1LhRSx-00042W-1r@c3vjzd1.ch3.sourceforge.com>

Revision: 10586
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10586&view=rev
Author:   druzus
Date:     2009-03-11 16:39:32 +0000 (Wed, 11 Mar 2009)

Log Message:
-----------
2009-03-11 17:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdate.h
  * harbour/source/common/hbgete.c
  * harbour/source/common/hbdate.c
  * harbour/source/rtl/seconds.c
  * harbour/source/rtl/hbffind.c
  * harbour/source/rtl/filesys.c
  * harbour/source/compiler/cmdcheck.c
  * harbour/contrib/hbct/files.c
  * harbour/contrib/xhb/filestat.c
  * harbour/contrib/hbmzip/hbmzip.c
  * harbour/contrib/hbtip/utils.c
  * harbour/contrib/examples/uhttpd/uhttpdc.c
    * cleaned feature test macros usage

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/xhb/filestat.c
    trunk/harbour/include/hbdate.h
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/common/hbgete.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/hbffind.c
    trunk/harbour/source/rtl/seconds.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Mar 11 13:02:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 13:03:37 2009
Subject: [Harbour] ace32 on wince?
In-Reply-To: <18d502870903110914t3a444224w62cb7bf4a4bfb919@mail.gmail.com>
References: <1236787790425-2462177.post@n2.nabble.com>
	<18d502870903110914t3a444224w62cb7bf4a4bfb919@mail.gmail.com>
Message-ID: <609353e70903111002i14372f7bw72dd94c8dd409505@mail.gmail.com>

In the upcoming advantage database server 9.1 there is no support for
windows mobile
It was planed but..........

2009/3/11 Viktor Szak?ts <harbour.01@syenar.hu>:
> No, unless Sybase comes out with an ace32.dll specifically
> built for?WinCE / ARM CPU.
> Brgds,
> Viktor
>
> On Wed, Mar 11, 2009 at 5:09 PM, AbeB <abe.buch@att.net> wrote:
>>
>> is it at all possible to have ace32.lib/ace32.dll work on wince?
>> --
>> View this message in context:
>> http://n2.nabble.com/ace32-on-wince--tp2462177p2462177.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Wed Mar 11 13:21:39 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 11 13:21:43 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
References: <22457681.post@talk.nabble.com>
	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
Message-ID: <22460095.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Could you post sample code and an RTE message possibly
> with line number? It would help locating the problem.
> 

The appln just crashes. No hb_out.log is generated. 
No error.log is generated. Here is the code.

#include 'memoedit.ch'
#include 'setcurs.ch'
#include 'inkey.ch'

Function Editmemo()
   Local cText := 'This is initial text'
   Local lEditMode := .F.

   DO WHILE .T.
      cText := MEMOEDIT( cText, 3,6,20,76, lEditMode, "EditFunc", 50 )
      if lastkey() == 27
         exit
      endif
   ENDDO

   Return nil
//----------------------------------------------------------------------//
Function EditFunc( nMode, nRow, nCol )
   Local nKey := Lastkey()

   STATIC nLoop := 0

   DO CASE
   CASE nMode == ME_INIT
      nLoop++

      DO CASE
      CASE nLoop == 1                         // Set insert mode
         SetCursor( SC_SPECIAL1 )
         RETURN K_INS

      CASE nLoop == 2                      // End initialization
         RETURN ME_DEFAULT

      ENDCASE

   CASE nMode == ME_IDLE

   OTHERWISE
      IF nKey == K_INS
         IF ReadInsert()
            SetCursor(SC_NORMAL)
         ELSE
            SetCursor(SC_SPECIAL1)
         ENDIF

      ENDIF

   ENDCASE

   RETURN ME_DEFAULT
//----------------------------------------------------------------------//


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Memoedit%28%29---UserFunc-%3D%3D-YES-and-EDITABLE-%3D%3D-NO-tp22457681p22460095.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 11 13:25:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 13:25:47 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <22460095.post@talk.nabble.com>
References: <22457681.post@talk.nabble.com>
	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
	<22460095.post@talk.nabble.com>
Message-ID: <18d502870903111025i64c44d0ma384be7ef8d84dea@mail.gmail.com>

>
> > Could you post sample code and an RTE message possibly
> > with line number? It would help locating the problem.
> >
>
> The appln just crashes. No hb_out.log is generated.
> No error.log is generated. Here is the code.


error.log is never generated in Harbour. You need to
link with GTWIN to see the error probably.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/3320447d/attachment.html
From mbelgrano at deltain.it  Wed Mar 11 13:56:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 13:56:17 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <22460095.post@talk.nabble.com>
References: <22457681.post@talk.nabble.com>
	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
	<22460095.post@talk.nabble.com>
Message-ID: <609353e70903111056h6085e2b8s4625ec96e58a7892@mail.gmail.com>

I confirm that application can't be executed because it crash

2009/3/11 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Viktor
>
>
> Viktor Szak?ts wrote:
>>
>> Could you post sample code and an RTE message possibly
>> with line number? It would help locating the problem.
>>
>
> The appln just crashes. No hb_out.log is generated.
> No error.log is generated. Here is the code.
>
> #include 'memoedit.ch'
> #include 'setcurs.ch'
> #include 'inkey.ch'
>
> Function Editmemo()
> ? Local cText := 'This is initial text'
> ? Local lEditMode := .F.
>
> ? DO WHILE .T.
> ? ? ?cText := MEMOEDIT( cText, 3,6,20,76, lEditMode, "EditFunc", 50 )
> ? ? ?if lastkey() == 27
> ? ? ? ? exit
> ? ? ?endif
> ? ENDDO
>
> ? Return nil
> //----------------------------------------------------------------------//
> Function EditFunc( nMode, nRow, nCol )
> ? Local nKey := Lastkey()
>
> ? STATIC nLoop := 0
>
> ? DO CASE
> ? CASE nMode == ME_INIT
> ? ? ?nLoop++
>
> ? ? ?DO CASE
> ? ? ?CASE nLoop == 1 ? ? ? ? ? ? ? ? ? ? ? ? // Set insert mode
> ? ? ? ? SetCursor( SC_SPECIAL1 )
> ? ? ? ? RETURN K_INS
>
> ? ? ?CASE nLoop == 2 ? ? ? ? ? ? ? ? ? ? ?// End initialization
> ? ? ? ? RETURN ME_DEFAULT
>
> ? ? ?ENDCASE
>
> ? CASE nMode == ME_IDLE
>
> ? OTHERWISE
> ? ? ?IF nKey == K_INS
> ? ? ? ? IF ReadInsert()
> ? ? ? ? ? ?SetCursor(SC_NORMAL)
> ? ? ? ? ELSE
> ? ? ? ? ? ?SetCursor(SC_SPECIAL1)
> ? ? ? ? ENDIF
>
> ? ? ?ENDIF
>
> ? ENDCASE
>
> ? RETURN ME_DEFAULT
> //----------------------------------------------------------------------//
>
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Memoedit%28%29---UserFunc-%3D%3D-YES-and-EDITABLE-%3D%3D-NO-tp22457681p22460095.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Mar 11 14:05:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 14:05:10 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <609353e70903111056h6085e2b8s4625ec96e58a7892@mail.gmail.com>
References: <22457681.post@talk.nabble.com>
	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
	<22460095.post@talk.nabble.com>
	<609353e70903111056h6085e2b8s4625ec96e58a7892@mail.gmail.com>
Message-ID: <18d502870903111105l1487f0e5u1dad515b32fc4ce3@mail.gmail.com>

But where?
Brgds,
Viktor

On Wed, Mar 11, 2009 at 6:56 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I confirm that application can't be executed because it crash
>
> 2009/3/11 Pritpal Bedi <bedipritpal@hotmail.com>:
> >
> > Hello Viktor
> >
> >
> > Viktor Szak?ts wrote:
> >>
> >> Could you post sample code and an RTE message possibly
> >> with line number? It would help locating the problem.
> >>
> >
> > The appln just crashes. No hb_out.log is generated.
> > No error.log is generated. Here is the code.
> >
> > #include 'memoedit.ch'
> > #include 'setcurs.ch'
> > #include 'inkey.ch'
> >
> > Function Editmemo()
> >   Local cText := 'This is initial text'
> >   Local lEditMode := .F.
> >
> >   DO WHILE .T.
> >      cText := MEMOEDIT( cText, 3,6,20,76, lEditMode, "EditFunc", 50 )
> >      if lastkey() == 27
> >         exit
> >      endif
> >   ENDDO
> >
> >   Return nil
> >
> //----------------------------------------------------------------------//
> > Function EditFunc( nMode, nRow, nCol )
> >   Local nKey := Lastkey()
> >
> >   STATIC nLoop := 0
> >
> >   DO CASE
> >   CASE nMode == ME_INIT
> >      nLoop++
> >
> >      DO CASE
> >      CASE nLoop == 1                         // Set insert mode
> >         SetCursor( SC_SPECIAL1 )
> >         RETURN K_INS
> >
> >      CASE nLoop == 2                      // End initialization
> >         RETURN ME_DEFAULT
> >
> >      ENDCASE
> >
> >   CASE nMode == ME_IDLE
> >
> >   OTHERWISE
> >      IF nKey == K_INS
> >         IF ReadInsert()
> >            SetCursor(SC_NORMAL)
> >         ELSE
> >            SetCursor(SC_SPECIAL1)
> >         ENDIF
> >
> >      ENDIF
> >
> >   ENDCASE
> >
> >   RETURN ME_DEFAULT
> >
> //----------------------------------------------------------------------//
> >
> >
> > Regards
> > Pritpal Bedi
> >
> > --
> > View this message in context:
> http://www.nabble.com/Memoedit%28%29---UserFunc-%3D%3D-YES-and-EDITABLE-%3D%3D-NO-tp22457681p22460095.html
> > Sent from the Harbour - Dev mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/59c94a64/attachment-0001.html
From bedipritpal at hotmail.com  Wed Mar 11 15:13:28 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 11 15:13:32 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <18d502870903111105l1487f0e5u1dad515b32fc4ce3@mail.gmail.com>
References: <22457681.post@talk.nabble.com>
	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
	<22460095.post@talk.nabble.com>
	<609353e70903111056h6085e2b8s4625ec96e58a7892@mail.gmail.com>
	<18d502870903111105l1487f0e5u1dad515b32fc4ce3@mail.gmail.com>
Message-ID: <22462410.post@talk.nabble.com>


Viktor

>But where?

Clipper documentation says that user func is 
called with mode==ME_INIT until func returns 
0 ( ME_DEFAULT ).

In the code above, I am returning K_INS and expecting
that the func will be called next time also and it 
will return 0.

But the fun is called recursively ( around 4000 ) times
with nMode == 1 ( ME_UNKEY ). Buffer is never displayed
and appln terminates.

Need more debugging, then tell me.

Regards
Pritpal Bedi




-- 
View this message in context: http://www.nabble.com/Memoedit%28%29---UserFunc-%3D%3D-YES-and-EDITABLE-%3D%3D-NO-tp22457681p22462410.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Mar 11 15:13:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 15:13:38 2009
Subject: [Harbour] How can be done in harbour?
Message-ID: <609353e70903111213n71ed687fuae47541a74f4c6c4@mail.gmail.com>

I want detect screen resolution and  resolution and set fond it gt will support
In xharbour/gtwvt  i have write
  screenWidth := Wvt_GetScreenWidth()
  screenHeight := Wvt_GetScreenHeight()
   if screenWidth >=  1920
     WVt_SetFont("Courier New",40,21)

How can detect screen resolution?
How can detect if GT SUPPORT change of font?
HB_GTInfo(HB_GTI_FONTNAME,"Courier new")
HB_GTInfo(HB_GTI_FONTSIZE, 40)

but now either function seem not work

-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Wed Mar 11 15:30:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 11 15:30:49 2009
Subject: [Harbour] How can be done in harbour?
In-Reply-To: <609353e70903111213n71ed687fuae47541a74f4c6c4@mail.gmail.com>
References: <609353e70903111213n71ed687fuae47541a74f4c6c4@mail.gmail.com>
Message-ID: <22462714.post@talk.nabble.com>


Massimo


Massimo Belgrano-3 wrote:
> 
> I want detect screen resolution and  resolution and set fond it gt will
> support
> In xharbour/gtwvt  i have write
>   screenWidth := Wvt_GetScreenWidth()
>   screenHeight := Wvt_GetScreenHeight()
>    if screenWidth >=  1920
>      WVt_SetFont("Courier New",40,21)
> 
> How can detect screen resolution?
> How can detect if GT SUPPORT change of font?
> HB_GTInfo(HB_GTI_FONTNAME,"Courier new")
> HB_GTInfo(HB_GTI_FONTSIZE, 40)
> 
> but now either function seem not work
> 

It seems you never read the messages properly 
or never try to investigate inspite of you having the
sources.

GTWVT in xHarbour is quiet different than GTWVT in 
Harbour. If you want to use those funtions then link
with GTWVG.

BTW this is again a point to be considered in GTWVT that
font parameters cannot be assigned indivisually. It is 
a collective bunch of 5 or so attributes. So I 
introduced 
hb_gtInfo( HB_GTI_SETFONT, { cFontName, nFontHeight, nFontWidth,
nFontWeight, nFontQuality } )
in GTWVG. It sets the font in one shot and is a logical one.

For screen resolutions:
hb_gtInfo( HB_GTI_DESKTOPHEIGHT | HB_GTI_DESKTOPWIDTH ) 

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/How-can-be-done-in-harbour--tp22462430p22462714.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Wed Mar 11 17:29:17 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar 11 17:29:24 2009
Subject: [Harbour] HB_BUILD_DEBUG
Message-ID: <49B82D2D.1000006@fsgiudice.com>

Hi,

I'm digging into teditor.prg and memoedit.prg (about Priptal's memoedit 
problem) but, using mine errorsys producing an hberror.log, I see no 
line numbers also if I got line numbers from test file (pritpal.prg).

Harbour is built defining
set HB_BUILD_DEBUG=yes
and in build log I see -l parameter added to both above files:

../../../../source/main/win/msvc/harbour.exe ../../memoedit.prg -n1 
-i../../../../include -q0 -w3 -es2 -km -l -gc3

../../../../source/main/win/msvc/harbour.exe ../../teditor.prg -n1 
-i../../../../include -q0 -w3 -es2 -km -l -gc3

Am I missing something ?

Best regards
Francesco

------------------

  Trace Through:
----------------
Called from EDITFUNC(42)  in Module: pritpal.prg
Called from DO(0)  in Module:
Called from HBMEMOEDITOR:XDO(0)  in Module: ../../memoedit.prg
Called from HBMEMOEDITOR:KEYBOARDHOOK(0)  in Module: ../../memoedit.prg
Called from HBMEMOEDITOR:BROWSETEXT(0)  in Module: ../../teditor.prg
Called from HBEDITOR:EDIT(0)  in Module: ../../teditor.prg
Called from HBMEMOEDITOR:HANDLEUSERKEY(0)  in Module: ../../memoedit.prg
Called from HBMEMOEDITOR:MEMOINIT(0)  in Module: ../../memoedit.prg
Called from MEMOEDIT(0)  in Module: ../../memoedit.prg
Called from EDITMEMO(10)  in Module: pritpal.prg

Above trace is obtained add a voluntary error but only to see the stack, 
so it is not directly related to Pritpal's error.
From druzus at users.sourceforge.net  Wed Mar 11 17:42:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 11 17:42:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10587] trunk/harbour
Message-ID: <E1LhWC7-0000z6-Bp@d5vjzd1.ch3.sourceforge.com>

Revision: 10587
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10587&view=rev
Author:   druzus
Date:     2009-03-11 21:42:29 +0000 (Wed, 11 Mar 2009)

Log Message:
-----------
2009-03-11 22:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbgete.c
    * disabled unsetenv() from Watcom builds - looks that this function
      exists only in OpenWatcom header files.

  * harbour/source/common/hbprintf.c
    * do not use some FL functions which operates on long double values
      in SunOS builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbgete.c
    trunk/harbour/source/common/hbprintf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 11 17:45:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 11 17:45:05 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <49B82D2D.1000006@fsgiudice.com>
References: <49B82D2D.1000006@fsgiudice.com>
Message-ID: <18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>

Hi Francesco,

HB_BUILD_DEBUG isn't (yet) implemented in the GNU Make system.
Brgds,
Viktor

On Wed, Mar 11, 2009 at 10:29 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi,
>
> I'm digging into teditor.prg and memoedit.prg (about Priptal's memoedit
> problem) but, using mine errorsys producing an hberror.log, I see no line
> numbers also if I got line numbers from test file (pritpal.prg).
>
> Harbour is built defining
> set HB_BUILD_DEBUG=yes
> and in build log I see -l parameter added to both above files:
>
> ../../../../source/main/win/msvc/harbour.exe ../../memoedit.prg -n1
> -i../../../../include -q0 -w3 -es2 -km -l -gc3
>
> ../../../../source/main/win/msvc/harbour.exe ../../teditor.prg -n1
> -i../../../../include -q0 -w3 -es2 -km -l -gc3
>
> Am I missing something ?
>
> Best regards
> Francesco
>
> ------------------
>
>  Trace Through:
> ----------------
> Called from EDITFUNC(42)  in Module: pritpal.prg
> Called from DO(0)  in Module:
> Called from HBMEMOEDITOR:XDO(0)  in Module: ../../memoedit.prg
> Called from HBMEMOEDITOR:KEYBOARDHOOK(0)  in Module: ../../memoedit.prg
> Called from HBMEMOEDITOR:BROWSETEXT(0)  in Module: ../../teditor.prg
> Called from HBEDITOR:EDIT(0)  in Module: ../../teditor.prg
> Called from HBMEMOEDITOR:HANDLEUSERKEY(0)  in Module: ../../memoedit.prg
> Called from HBMEMOEDITOR:MEMOINIT(0)  in Module: ../../memoedit.prg
> Called from MEMOEDIT(0)  in Module: ../../memoedit.prg
> Called from EDITMEMO(10)  in Module: pritpal.prg
>
> Above trace is obtained add a voluntary error but only to see the stack, so
> it is not directly related to Pritpal's error.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090311/6fc73909/attachment.html
From info at fsgiudice.com  Wed Mar 11 17:51:49 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar 11 17:52:02 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
Message-ID: <49B83275.6000607@fsgiudice.com>

Hi Viktor,

Il 11/03/2009 22.45, Viktor Szak?ts ha scritto:
> Hi Francesco,
> 
> HB_BUILD_DEBUG isn't (yet) implemented in the GNU Make system.
> 

Ah, ok. This is what I'm missing ;-)

Best regards,
Francesco
From zen25000 at zen.co.uk  Wed Mar 11 20:16:14 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Mar 11 20:16:05 2009
Subject: [Harbour] Character encoding in Linux
Message-ID: <49B8544E.8030105@zen.co.uk>

What character encoding settings in Linux will display this correctly 
using the Clipper graphics characters?
It did work but now it uses the wrong character set.
Same problem with any non-GUI app that uses graphic chars.

#include "box.ch"
procedure main()
local c:=2,i:=0,r:=2
scroll()
@1,1,18,97 BOX B_DOUBLE
do while i<255
   for c = 2 to 96
     @  r,c SAY STR(i,3,0)+" "+CHR(i)
     i=i+1
     c=c+5
   next
   r=r+1
enddo
?
wait SPACE(37)+"Press any key to exit"
return
From zen25000 at zen.co.uk  Wed Mar 11 20:51:31 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Mar 11 20:51:20 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <22462410.post@talk.nabble.com>
References: <22457681.post@talk.nabble.com>	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>	<22460095.post@talk.nabble.com>	<609353e70903111056h6085e2b8s4625ec96e58a7892@mail.gmail.com>	<18d502870903111105l1487f0e5u1dad515b32fc4ce3@mail.gmail.com>
	<22462410.post@talk.nabble.com>
Message-ID: <49B85C93.5050302@zen.co.uk>

I have a similar problem with memoedit() it goes into endless loop when 
ESC hit during edit without calling the user func.
http://i115.photobucket.com/albums/n287/barjac_2006/memoedit1.png
Maybe that screenshot is of use?
Rgds Barry

Pritpal Bedi wrote:
> Viktor
> 
>> But where?
> 
> Clipper documentation says that user func is 
> called with mode==ME_INIT until func returns 
> 0 ( ME_DEFAULT ).
> 
> In the code above, I am returning K_INS and expecting
> that the func will be called next time also and it 
> will return 0.
> 
> But the fun is called recursively ( around 4000 ) times
> with nMode == 1 ( ME_UNKEY ). Buffer is never displayed
> and appln terminates.
> 
> Need more debugging, then tell me.
> 
> Regards
> Pritpal Bedi
> 
> 
> 
> 
From mbelgrano at deltain.it  Wed Mar 11 20:59:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 11 20:59:35 2009
Subject: [Harbour] How can be done in harbour?
In-Reply-To: <22462714.post@talk.nabble.com>
References: <609353e70903111213n71ed687fuae47541a74f4c6c4@mail.gmail.com>
	<22462714.post@talk.nabble.com>
Message-ID: <609353e70903111759p1f35ac7epc0c17f6684581b6a@mail.gmail.com>

I not able to udestrand why screenWidth return nil
#include "hbgtinfo.ch"
   screenHeight:= HB_GTINFO( HB_GTI_DESKTOPHEIGHT )
   screenWidth :=HB_GTINFO( HB_GTI_DESKTOPWIDTH )
   ??    screenWidth    // DISPLAY NILL


In all gt i can use follow command?
hb_gtInfo( HB_GTI_SETFONT, { "Courier New", 18, 10,HB_GTI_FONTW_NORMAL
HB_GTI_FONTQ_HIGH } )
alternative i can use also this:
   HB_GTInfo(HB_GTI_FONTNAME, "Courier New")
   HB_GTInfo(HB_GTI_FONTSIZE, 18)
   HB_GTInfo(HB_GTI_FONTWIDTH, 10 )
   HB_GTInfo(HB_GTI_FONTWEIGHT , HB_GTI_FONTW_NORMAL)
   HB_GTInfo(HB_GTI_FONTQUALITY,HB_GTI_FONTQ_HIGH )

is correct follow?
   HB_GTInfo(HB_GTI_RESIZABLE, .T.)
   HB_GTInfo(HB_GTI_CLOSABLE, .T.)
   Hb_GTInfo(HB_GTI_MOUSESTATUS, 1 )


2009/3/11 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Massimo
>
>
> Massimo Belgrano-3 wrote:
>>
>> I want detect screen resolution and ?resolution and set fond it gt will
>> support
>> In xharbour/gtwvt ?i have write
>> ? screenWidth := Wvt_GetScreenWidth()
>> ? screenHeight := Wvt_GetScreenHeight()
>> ? ?if screenWidth >= ?1920
>> ? ? ?WVt_SetFont("Courier New",40,21)
>>
>> How can detect screen resolution?
>> How can detect if GT SUPPORT change of font?
>> HB_GTInfo(HB_GTI_FONTNAME,"Courier new")
>> HB_GTInfo(HB_GTI_FONTSIZE, 40)
>>
>> but now either function seem not work
>>
>
> It seems you never read the messages properly
> or never try to investigate inspite of you having the
> sources.
>
> GTWVT in xHarbour is quiet different than GTWVT in
> Harbour. If you want to use those funtions then link
> with GTWVG.
>
> BTW this is again a point to be considered in GTWVT that
> font parameters cannot be assigned indivisually. It is
> a collective bunch of 5 or so attributes. So I
> introduced
> hb_gtInfo( HB_GTI_SETFONT, { cFontName, nFontHeight, nFontWidth,
> nFontWeight, nFontQuality } )
> in GTWVG. It sets the font in one shot and is a logical one.
>
> For screen resolutions:
> hb_gtInfo( HB_GTI_DESKTOPHEIGHT | HB_GTI_DESKTOPWIDTH )
>
> Regards
> Pritpal Bedi
>
>
> --
> View this message in context: http://www.nabble.com/How-can-be-done-in-harbour--tp22462430p22462714.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From vszakats at users.sourceforge.net  Wed Mar 11 21:16:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 21:16:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10588] trunk/harbour
Message-ID: <E1LhZXa-0005Sc-VX@dn4whf1.ch3.sourceforge.com>

Revision: 10588
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10588&view=rev
Author:   vszakats
Date:     2009-03-12 01:16:53 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 02:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/achoice.prg
    ! Fixed handling of empty items.

  * INSTALL
  * config/rules.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/djgpp.cf
  * config/win/mingwce.cf
  * config/win/poccce.cf
  * config/win/pocc64.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/owatcom.cf
  * config/win/xcc.cf
  * config/win/msvcce.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/bsd/gcc.cf
    + Added support HB_BUILD_DEBUG=yes.
      This will work identically to the former non-GNU make
      systems.
    ! Added missing -MT for MSVC. (from non-GNU make)
    * Changed a few CPPFLAGS to CFLAGS. (these are currently
      synonyms, and both are utilized without any apparent order).
      This could use more cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/pocc64.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/source/rtl/achoice.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 11 21:39:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 21:39:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10589] trunk/harbour
Message-ID: <E1LhZtW-0005sh-Rn@dn4whf1.ch3.sourceforge.com>

Revision: 10589
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10589&view=rev
Author:   vszakats
Date:     2009-03-12 01:39:29 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 02:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/owatcom.cf
  * config/dos/djgpp.cf
  * config/win/mingwce.cf
  * config/win/poccce.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/owatcom.cf
  * config/win/xcc.cf
  * config/win/msvcce.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/owatcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/bsd/gcc.cf
    + Added HB_BUILD_OPTIM=no setting to disable all C compiler
      optimizations (for quick draft builds, or debugging, testing).

  * config/win/xcc.cf
    % Cleaned -I options.
      (please verify)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 11 21:50:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 21:50:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10590] trunk/harbour
Message-ID: <E1Lha4K-00065F-QW@dn4whf1.ch3.sourceforge.com>

Revision: 10590
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10590&view=rev
Author:   vszakats
Date:     2009-03-12 01:50:43 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 02:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/dos/owatcom.cf
  * config/linux/owatcom.cf
    + Added support for HB_BUILD_DEBUG=yes.

  + config/os2/owatcom.cf
    + Added os2/owatcom build file. OS/2 users please test.

  * config/win/owatcom.cf
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/win/owatcom.cf

Added Paths:
-----------
    trunk/harbour/config/os2/owatcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 11 22:08:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 22:08:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10591] trunk/harbour
Message-ID: <E1LhaLG-0006sf-H0@dn4whf1.ch3.sourceforge.com>

Revision: 10591
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10591&view=rev
Author:   vszakats
Date:     2009-03-12 02:08:13 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 03:07 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
    * Added comment to previous entry. (-d1 vs -d2 in owatcom)

  * config/rules.cf
    ! Fixed typo in prev.

  * config/dos/owatcom.cf
  * config/win/owatcom.cf
  * config/linux/owatcom.cf
  * config/os2/owatcom.cf
    % Removed unnecessary -i C compiler options. (pls check,
      I've tested with Windows and applied it to other platforms)
    % Removed DOS cmdline length hack from win/os2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/win/owatcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 11 22:42:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 22:42:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10592] trunk/harbour
Message-ID: <E1LhasY-0000eO-Ji@d5vjzd1.ch3.sourceforge.com>

Revision: 10592
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10592&view=rev
Author:   vszakats
Date:     2009-03-12 02:42:37 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 03:42 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/rules.cf
    + Do not add -l Harbour option when HB_BUILD_DEBUG=yes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 11 22:53:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 11 22:53:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10593] trunk/harbour
Message-ID: <E1Lhb2p-0000pg-RA@d5vjzd1.ch3.sourceforge.com>

Revision: 10593
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10593&view=rev
Author:   vszakats
Date:     2009-03-12 02:53:13 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 03:45 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
  * mpkg_win.bat
    * HB_DIR_IMPLIB -> HB_BUILD_IMPLIB
      ATTENTION: Please modify your local settings. This setting
                 is now closer to final.

  * mpkg_win.bat
    + Turning on optimizations.
    + Turning off debug mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lavr at ldz.lv  Thu Mar 12 05:18:06 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Thu Mar 12 05:18:15 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[10582]	trunk/harbour/ChangeLog
In-Reply-To: <20090311075808.GA15153@uran.home.aster.pl>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>	<49B76BC0.8000408@ldz.lv>
	<20090311075808.GA15153@uran.home.aster.pl>
Message-ID: <49B8D34E.70105@ldz.lv>

Przemyslaw Czerpak wrote:
> On Wed, 11 Mar 2009, Vladislav Lavrecky wrote:
>
> Hi,
>
>   
>> achoice with additional redraw on exit are ok
>> I test it previously, but in my message just an example
>> To fix achoice we need to add
>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop, 
>> nItems, bSelect, nRowsClr )
>> in all CASE items where lFinished := .T.
>> or IMO better
>> add one redraw line before exit from achoice function
>> [...]
>>   ENDDO
>> +   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop, 
>> nItems, bSelect, nRowsClr )
>>   SetCursor( nSaveCsr )
>>
>>   RETURN nPos
>> [...]
>>     
>
> Can you create a small .prg example which illustrates achoice()
> incompatibilities?
> We can put it in tests/ directory so it can be used to verify
> future modifications.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   
Hi,

I write small exapmle - "Barman menu" :)
to better illustrate achoice() incompatibility
------CODE-----------
#include "inkey.ch"

function main()

local aMenu1 := {"-Visky-"}
local aMenu2 := {"-Vodka-"}
local aMenu3 := {"-Grapa-"}
local lExit := .F.
local nCounter := 1
local nKeyPressed

setcolor("W+/N, BG+/B, , , W/N")
cls
@ 2,1 SAY "-Visky- -Vodka- -Grapa-"
do while !lExit

 do case
    case nCounter == 1
      achoice(2, 1, 2, 7, aMenu1)
    case nCounter == 2
      achoice(2, 9, 2, 15, aMenu2)
    case nCounter == 3
      achoice(2, 17, 2, 23, aMenu3)
 endcase

 nKeyPressed := lastkey()
 if nKeyPressed == K_ESC
   lExit := .T.
 elseif nKeyPressed == K_RIGHT
   nCounter := iif(nCounter == 3, 1, nCounter+1)
 elseif nKeyPressed == K_LEFT
   nCounter := iif(nCounter == 1, 3, nCounter-1)
 endif

enddo

return NIL

------END CODE------------
Menu Navigation  - Right and Left arrows keys, ESC to exit
After some Right or Left arrows preses
in Harbour app all menu items are highlighted
an no way to understand which  element is current,
with clipper app all is ok.

Brgds,
Vlad

From vszakats at users.sourceforge.net  Thu Mar 12 05:29:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 05:29:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
Message-ID: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>

Revision: 10594
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10594&view=rev
Author:   vszakats
Date:     2009-03-12 09:29:50 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 10:28 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/achoice.prg
    ! Fixed to always dehilight active item on exit.
      (probably could be done more efficiently, feel free to 
      optimize it.)
      Please test.
    ; TOFIX: ? gttrm on Darwin changes console color from my 
             default green, to Harbour default gray on exit.

  * doc/whatsnew.txt
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/source/rtl/achoice.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 12 05:40:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 05:40:42 2009
Subject: [Harbour] Memoedit() - UserFunc == YES and EDITABLE == NO
In-Reply-To: <49B85C93.5050302@zen.co.uk>
References: <22457681.post@talk.nabble.com>
	<18d502870903110903w782e5188kefca9c3d8595c608@mail.gmail.com>
	<22460095.post@talk.nabble.com>
	<609353e70903111056h6085e2b8s4625ec96e58a7892@mail.gmail.com>
	<18d502870903111105l1487f0e5u1dad515b32fc4ce3@mail.gmail.com>
	<22462410.post@talk.nabble.com> <49B85C93.5050302@zen.co.uk>
Message-ID: <18d502870903120240y355ac429lcda8f210811118f8@mail.gmail.com>

Guys,
Thanks for the examples, the problem is apparently
that HBMemoEditor() class (in memoedit.prg) calls
::Edit() method of HBEditor() super class, which calls
::KeyboardHook() which is overridden by HBMemoEditor(),
and which in turn calls ::Edit() method again. Hence the
infinite loop.

Seem very old bug and I have no idea how to fix it.

Maybe Maurilio can help.

Brgds,
Viktor

On Thu, Mar 12, 2009 at 1:51 AM, Barry Jackson <zen25000@zen.co.uk> wrote:

> I have a similar problem with memoedit() it goes into endless loop when ESC
> hit during edit without calling the user func.
> http://i115.photobucket.com/albums/n287/barjac_2006/memoedit1.png
> Maybe that screenshot is of use?
> Rgds Barry
>
> Pritpal Bedi wrote:
>
>> Viktor
>>
>>  But where?
>>>
>>
>> Clipper documentation says that user func is called with mode==ME_INIT
>> until func returns 0 ( ME_DEFAULT ).
>>
>> In the code above, I am returning K_INS and expecting
>> that the func will be called next time also and it will return 0.
>>
>> But the fun is called recursively ( around 4000 ) times
>> with nMode == 1 ( ME_UNKEY ). Buffer is never displayed
>> and appln terminates.
>>
>> Need more debugging, then tell me.
>>
>> Regards
>> Pritpal Bedi
>>
>>
>>
>>
>>  _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/c67e65ff/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar 12 05:44:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 05:44:06 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <49B83275.6000607@fsgiudice.com>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
Message-ID: <18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>

Now you're not, please try with latest SVN :)
Brgds,
Viktor

On Wed, Mar 11, 2009 at 10:51 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> Il 11/03/2009 22.45, Viktor Szak?ts ha scritto:
>
>> Hi Francesco,
>>
>> HB_BUILD_DEBUG isn't (yet) implemented in the GNU Make system.
>>
>>
> Ah, ok. This is what I'm missing ;-)
>
> Best regards,
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/8e66ccdb/attachment.html
From harbour.01 at syenar.hu  Thu Mar 12 05:47:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 05:47:30 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with other
	codes
In-Reply-To: <1236533203941-2445208.post@n2.nabble.com>
References: <1236533203941-2445208.post@n2.nabble.com>
Message-ID: <18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>

This would be good, especially since on certain GTs the number of usable
keys are scarce (no Alt+ combinations f.e.), so enabling these
CTRL keys could certainly help on shortcut congestion. But users should
enable it explicitly by using INKEY_ flag to keep Clipper compatibility.

I don't know what it takes to implement it though.

Brgds,
Viktor

On Sun, Mar 8, 2009 at 6:26 PM, AbeB <abe.buch@att.net> wrote:

>
> can the following be an option in inkey.ch ( it's from xHarbour)
>
> /* New control keys that do not overlap with other codes */
>
> #define K_CTRL_A                513   /*   Ctrl-A
> */
> #define K_CTRL_B                514   /*   Ctrl-B
> */
> #define K_CTRL_C                515   /*   Ctrl-C
> */
> #define K_CTRL_D                516   /*   Ctrl-D
> */
> #define K_CTRL_E                517   /*   Ctrl-E
> */
> #define K_CTRL_F                518   /*   Ctrl-F
> */
> #define K_CTRL_G                519   /*   Ctrl-G
> */
> #define K_CTRL_H                520   /*   Ctrl-H
> */
> #define K_CTRL_I                521   /*   Ctrl-I
> */
> #define K_CTRL_J                522   /*   Ctrl-J
> */
> #define K_CTRL_K                523   /*   Ctrl-K
> */
> #define K_CTRL_L                524   /*   Ctrl-L
> */
> #define K_CTRL_M                525   /*   Ctrl-M
> */
> #define K_CTRL_N                526   /*   Ctrl-N
> */
> #define K_CTRL_O                527   /*   Ctrl-O
> */
> #define K_CTRL_P                528   /*   Ctrl-P
> */
> #define K_CTRL_Q                529   /*   Ctrl-Q
> */
> #define K_CTRL_R                530   /*   Ctrl-R
> */
> #define K_CTRL_S                531   /*   Ctrl-S
> */
> #define K_CTRL_T                532   /*   Ctrl-T
> */
> #define K_CTRL_U                533   /*   Ctrl-U
> */
> #define K_CTRL_V                534   /*   Ctrl-V
> */
> #define K_CTRL_W                535   /*   Ctrl-W
> */
> #define K_CTRL_X                536   /*   Ctrl-X
> */
> #define K_CTRL_Y                537   /*   Ctrl-Y
> */
> #define K_CTRL_Z                538   /*   Ctrl-Z
> */
>
> /* extended shift key codes, none in  Clipper */
>
> #define K_SH_LEFT               424   /* * Shift-Left                    */
> #define K_SH_UP                 425   /* * Shift-Up                      */
> #define K_SH_RIGHT              426   /* * Shift-Right                   */
> #define K_SH_DOWN               427   /* * Shift-Down                    */
>
> #define K_SH_INS                428   /* * Shift-Ins                     */
> #define K_SH_DEL                429   /* * Shift-Del                     */
> #define K_SH_HOME               430   /* * Shift-Home                    */
> #define K_SH_END                431   /* * Shift-End                     */
> #define K_SH_PGUP               432   /* * Shift-PgUp                    */
> #define K_SH_PGDN               433   /* * Shift-PgDn                    */
>
> #define K_SH_RETURN             434   /* * Shift-Enter                   */
> #define K_SH_ENTER              434   /* * Shift-Enter                   */
>
>
> --
> View this message in context:
> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2445208.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/d59035b0/attachment.html
From vszakats at users.sourceforge.net  Thu Mar 12 05:59:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 05:59:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10595] trunk/harbour
Message-ID: <E1LhhhB-0005SN-HB@3kljzd1.ch3.sourceforge.com>

Revision: 10595
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10595&view=rev
Author:   vszakats
Date:     2009-03-12 09:59:20 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 10:55 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbtpathy/telepath.prg
    ! Fixed to use __PLATFORM__UNIX instead of __PLATFORM__LINUX.
    ! Fixed to check for string lengths instead of using Empty().
      This way full whitespace data is also handled now.

  * source/rtl/memoedit.prg
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/source/rtl/memoedit.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 12 06:00:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 06:00:27 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <1236532908882-2445184.post@n2.nabble.com>
References: <1236532908882-2445184.post@n2.nabble.com>
Message-ID: <18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>

Seems like a valid problem. Anyone with a suggestion?
Brgds,
Viktor

On Sun, Mar 8, 2009 at 6:21 PM, AbeB <abe.buch@att.net> wrote:

>
> dbskip(0) will move the record pointer to phantom record (honoring the
> scope). other RDDS don't do that
>
>
>
> --------------
> #include "ads.ch"
>
> proc main()
>
> rddregister( "ADS", 1 )
> rddsetdefault( "ADSCDX" )
> set server local
> adslocking(  .f. )
> adssetfiletype(ADS_CDX)
> adslocking(  .f. )
>
> dbcreate("test.dbf",{ ;
> {"tick" ,"n" , 10,0} })
>
> use test via "ADSCDX" excl
> index on tick tag tick
>
> ordscope(0, 100)
> ordscope(1, 200 )
>
> ? rddname()
>
> for lop := 1 to 10
>
>
>        dbappend(  .t. )
>
> //refresh buffer (server's trigger populated some fields)
>
>        dbskip( 0 )
>
>        //goto recn()  //<----- this is ok
>
>        field->tick := 100 + lop
>
>        ? field->tick ,eof()
>
> next
>
> browse()   // looks like a corrupted index file , try browsing
> *******************
>
>
> --
> View this message in context:
> http://n2.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp2445184p2445184.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/9e2deab6/attachment.html
From druzus at acn.waw.pl  Thu Mar 12 06:48:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 06:42:00 2009
Subject: [Harbour] Character encoding in Linux
In-Reply-To: <49B8544E.8030105@zen.co.uk>
References: <49B8544E.8030105@zen.co.uk>
Message-ID: <20090312104800.GA11048@uran.home.aster.pl>

On Thu, 12 Mar 2009, Barry Jackson wrote:

Hi,

> What character encoding settings in Linux will display this correctly using 
> the Clipper graphics characters?
> It did work but now it uses the wrong character set.

Nothing has changed here in Harbour code.
Check your terminal settings (used font, iso/utf mode).

> Same problem with any non-GUI app that uses graphic chars.
> #include "box.ch"
> procedure main()
> local c:=2,i:=0,r:=2
> scroll()
> @1,1,18,97 BOX B_DOUBLE
> do while i<255
>   for c = 2 to 96
>     @  r,c SAY STR(i,3,0)+" "+CHR(i)
>     i=i+1
>     c=c+5
>   next
>   r=r+1
> enddo
> ?
> wait SPACE(37)+"Press any key to exit"
> return

Look at tests/gtchars.prg.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 12 06:55:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 06:55:31 2009
Subject: [Harbour] Error in latest SVN?
In-Reply-To: <20721015.post@talk.nabble.com>
References: <01DF346170ED42BA98E3BEFA7EB5A53F@emag>
	<20653599.post@talk.nabble.com>
	<4D4BD976CF5C480F9A17DE0D3BA2970E@emag>
	<20710321.post@talk.nabble.com>
	<2386af1b0811262255m6ac12f8cm83d6fa8c528a5abd@mail.gmail.com>
	<2386af1b0811262258g5478e0e3k695532daf4d6d7f5@mail.gmail.com>
	<20714918.post@talk.nabble.com>
	<20081127120248.GA29535@34-mo7-2.acn.waw.pl>
	<20721015.post@talk.nabble.com>
Message-ID: <18d502870903120355w8ebb955ib317e125c5c18b64@mail.gmail.com>

Hi all,
AFAICS this wasn't added since then, is the BCC warning
still there?

Brgds,
Viktor

On Thu, Nov 27, 2008 at 4:27 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Przemek
>
>
> Przemyslaw Czerpak-2 wrote:
> >
> >    #if defined(__BORLANDC__) && !defined(HB_ARCH_64BIT)
> >       #undef MAKELONG
> >       #define MAKELONG ((LONG)(((WORD)((DWORD_PTR)(a) & 0xffff)) | \
> >                         (((DWORD)((WORD)((DWORD_PTR)(b) & 0xffff))) <<
> > 16)))
> >    #endif
> >
>
> It works. Thanks.
> Now GTWVG has no warnings and is fully UNICODE compliant.
> Viktor, can you check now? I will commit today.
>
> I am wondering if this is placed somewhere in Harbour headers.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Error-in-latest-SVN--tp20652629p20721015.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/397d274d/attachment-0001.html
From mbelgrano at deltain.it  Thu Mar 12 07:05:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 12 07:05:14 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
Message-ID: <609353e70903120405n43868430sb062cc8bf6838e4c@mail.gmail.com>

Seem that skip 0 not allow append
I have a lot of skip 0 in my application, so is not good for me
also inserting a dbcommit() skip 0 remove deleted record
I not have a solution for this

2009/3/12 Viktor Szak?ts <harbour.01@syenar.hu>:
> Seems like a valid problem. Anyone with a suggestion?
> Brgds,
> Viktor
>
> On Sun, Mar 8, 2009 at 6:21 PM, AbeB <abe.buch@att.net> wrote:
>>
>> dbskip(0) will move the record pointer to phantom record (honoring the
>> scope). other RDDS don't do that
>>
>>
>>
>> --------------
>> #include "ads.ch"
>>
>> proc main()
>>
>> rddregister( "ADS", 1 )
>> rddsetdefault( "ADSCDX" )
>> set server local
>> adslocking( ?.f. )
>> adssetfiletype(ADS_CDX)
>> adslocking( ?.f. )
>>
>> dbcreate("test.dbf",{ ;
>> {"tick" ,"n" , 10,0} })
>>
>> use test via "ADSCDX" excl
>> index on tick tag tick
>>
>> ordscope(0, 100)
>> ordscope(1, 200 )
>>
>> ? rddname()
>>
>> for lop := 1 to 10
>>
>>
>> ? ? ? ?dbappend( ?.t. )
>>
>> //refresh buffer (server's trigger populated some fields)
>>
>> ? ? ? ?dbskip( 0 )
>>
>> ? ? ? ?//goto recn() ?//<----- this is ok
>>
>> ? ? ? ?field->tick := 100 + lop
>>
>> ? ? ? ?? field->tick ,eof()
>>
>> next
>>
>> browse() ? // looks like a corrupted index file , try browsing
>> *******************
>>
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp2445184p2445184.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From lorenzo.fiorini at gmail.com  Thu Mar 12 07:13:27 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Mar 12 07:13:32 2009
Subject: [Harbour] gtxwc and left handed mouse
Message-ID: <9257026e0903120413u513db934p892ee346b407ac3d@mail.gmail.com>

I've a user that uses the mouse left handed under Linux.

How can I configure gtxwc to switch the click buttons?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Mar 12 07:44:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 07:45:05 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <1228684541.3815.13.camel@hblx.340cst>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<20081207155422.GB4751@34-mo7-2.acn.waw.pl>
	<9257026e0812071230r4991556bq1d98e3404db680a2@mail.gmail.com>
	<1228684541.3815.13.camel@hblx.340cst>
Message-ID: <18d502870903120444x6e3b26aajec8919f49412023f@mail.gmail.com>

FWIW, IMO it would also be very nice to see xhgtk integrated under the
Harbour contrib tree.

For sure this is much more a decision from the xhgtk authors,
than us, but it would be nice, and probably the best choice
towards portable GUI.

xhgtk has a big bunch of 3rd party dependencies, but probably
even this could be solved using existing Harbour techniques.

As for xhb compatibility, it probably can be solved using
conditional code and the GNU Make system now is pretty much
universal, maybe some helper script can be added for xhb
users.

Just thoughts.

Brgds,
Viktor

On Sun, Dec 7, 2008 at 10:15 PM, Bill Smith <hbco2@sbcglobal.net> wrote:

> Thank You Lorenzo, you are absolutely correct, simplicity == elegance
> is critical.  This is not only the case for today, but down the road
> when changes and incompatibilities could make tracking what library and
> what combination of instructions or options or commented instructions in
> source might be needed to compile a harbour .prg file nothing short of
> the spaghetti that once plagued procedural programming.
>
> Right now, a  ? "hello, world" program build from "hbmk hello" at best
> yields a blank screen in a terminal window on both SuSE Linux and
> Windows XP.
>
> Bill
>
>
>
> On Sun, 2008-12-07 at 21:30 +0100, Lorenzo Fiorini wrote:
> > On Sun, Dec 7, 2008 at 4:54 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>
> wrote:
> >
> > > BTW do you want to integrate XHGTK with Harbour contrib?
> > > Don't you think it will be better to keep it as separate
> > > project and only add some integration tools.
> >
> > You're right but as we've seen lately it's not easy for a newbie to
> > get it built and this gets even worst if you plan to have ti for Lin,
> > Win and OSX.
> >
> > There are many build.sh, makefiles, envvar to set and a newbie is
> > always in front of many different options.
> >
> > Under Win or OSX, getting a working setup that uses some contribs like
> > gd or mysql requires many steps.
> >
> > I'm trying to create the easiest possible setup and to define the
> > "defaults" that hide the differences between the 3 OS that I support
> > and document where to get the dependencies and how to install them. My
> > goal is to remove every "misleading" doc or examples for this I'm
> > thinking to start a new project that offer a "distribution" ready to
> > use if the defaults will be accepted.
> >
> > Actually I can build under Lin and Win without setting any envvar (
> > using /opt/harbour as default install path since it's usable in all
> > the 3 OS ). I'm documenting how to setup external dependencies for
> > zip, gd, odbc, curl, pgsql, mysql, xhgtk.
> >
> > I plan to provide a skeleton Makefiles to create binaries, libs, cgi and
> hrb.
> >
> > F.e. In the makefiles I've replace HB_ARCHITECTURE with:
> >
> > ...
> > OS=$(shell uname -s | tr -d "[-]" | tr '[A-Z]' '[a-z]')
> > ...
> > ifneq (,$(findstring mingw32,$(OS)))
> > ...
> > ifneq (,$(findstring linux,$(OS)))
> > ...
> > ifneq (,$(findstring darwin,$(OS)))
> >
> > 0but the differences about the use of the shared libs between Lin and
> > Win are still present.
> >
> > F.e. to link against gd and pgsql you need to use sth like:
> >    EXT_LIST=$(HARBOUR_DYN_DIR)/hbgd.dll /opt/local/bin/libgd2.dll
> > $(HARBOUR_DYN_DIR)/hbpgsql.dll /opt/pgsql/bin/libpq.dll
> >
> > What do you think about adding switches like: -gd-shared, -gd-static,
> > -pgsql-shared, ...?
> >
> > BTW I've few showstoppers:
> >
> > 1 - in hb-func.sh using hb_exesuf="exe" prevent to create cgi binaries
> > called myprog.cgi.
> > I've set it to "" like in linux but then the strip step complains. So
> > far I couldn't find the right solution ( both 1.0.1 and 1.1 )
> >
> > 2 - gtwvt is "broken" in the sense the fontsize selection doesn't work
> > anymore see my msg "gtvwt problem" ( 1.1 only ).
> > What do you think about creating a GT reference test so that every GT
> > change can be checked against it?
> >
> > 3 - gtxwc doesn't support palette definition and HB_GTI_CLOSABLE.
> > Actually I'm hacking the colors constants and I've commented out
> > "s_atomDelWin" message.
> >
> > Could you kindly give me some hints?
> >
> > best regards,
> > Lorenzo
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/10af7d66/attachment.html
From mbelgrano at deltain.it  Thu Mar 12 08:09:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 12 08:09:20 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <18d502870903120444x6e3b26aajec8919f49412023f@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<20081207155422.GB4751@34-mo7-2.acn.waw.pl>
	<9257026e0812071230r4991556bq1d98e3404db680a2@mail.gmail.com>
	<1228684541.3815.13.camel@hblx.340cst>
	<18d502870903120444x6e3b26aajec8919f49412023f@mail.gmail.com>
Message-ID: <609353e70903120509q4e726cd3ge52077b14ef63c9@mail.gmail.com>

Hi agree for xhgtk in contrib
I Hope that HBGTK follow t WvgParts class modal (GTWVG) compatible
with Xbase++XbpParts and implement  also a GT
If Following the same class structure the  make the code portable.
New()|Init() / Create() / Configure() / Destroy().

In this area also QT seem interesting but is not present any wrapper
library afaik


2009/3/12 Viktor Szak?ts <harbour.01@syenar.hu>:
> FWIW, IMO it would also be very nice to see xhgtk integrated
> under the Harbour contrib tree.
> For sure this is much more a decision from the xhgtk authors,
> than us, but it would be nice, and probably the best choice
> towards portable GUI.
> xhgtk has a big bunch of 3rd party?dependencies, but probably
> even this could be solved using?existing Harbour techniques.
> As for xhb compatibility, it probably can be solved using
> conditional code and the GNU Make system now is pretty?much
> universal, maybe some helper script can be added for xhb
> users.
> Just thoughts.
> Brgds,
> Viktor
>
> On Sun, Dec 7, 2008 at 10:15 PM, Bill Smith <hbco2@sbcglobal.net> wrote:
>>
>> Thank You Lorenzo, you are absolutely correct, simplicity == elegance
>> is critical. ?This is not only the case for today, but down the road
>> when changes and incompatibilities could make tracking what library and
>> what combination of instructions or options or commented instructions in
>> source might be needed to compile a harbour .prg file nothing short of
>> the spaghetti that once plagued procedural programming.
>>
>> Right now, a ?? "hello, world" program build from "hbmk hello" at best
>> yields a blank screen in a terminal window on both SuSE Linux and
>> Windows XP.
>>
>> Bill
>>
>>
>>
>> On Sun, 2008-12-07 at 21:30 +0100, Lorenzo Fiorini wrote:
>> > On Sun, Dec 7, 2008 at 4:54 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>
>> > wrote:
>> >
>> > > BTW do you want to integrate XHGTK with Harbour contrib?
>> > > Don't you think it will be better to keep it as separate
>> > > project and only add some integration tools.
>> >
>> > You're right but as we've seen lately it's not easy for a newbie to
>> > get it built and this gets even worst if you plan to have ti for Lin,
>> > Win and OSX.
>> >
>> > There are many build.sh, makefiles, envvar to set and a newbie is
>> > always in front of many different options.
>> >
>> > Under Win or OSX, getting a working setup that uses some contribs like
>> > gd or mysql requires many steps.
>> >
>> > I'm trying to create the easiest possible setup and to define the
>> > "defaults" that hide the differences between the 3 OS that I support
>> > and document where to get the dependencies and how to install them. My
>> > goal is to remove every "misleading" doc or examples for this I'm
>> > thinking to start a new project that offer a "distribution" ready to
>> > use if the defaults will be accepted.
>> >
>> > Actually I can build under Lin and Win without setting any envvar (
>> > using /opt/harbour as default install path since it's usable in all
>> > the 3 OS ). I'm documenting how to setup external dependencies for
>> > zip, gd, odbc, curl, pgsql, mysql, xhgtk.
>> >
>> > I plan to provide a skeleton Makefiles to create binaries, libs, cgi and
>> > hrb.
>> >
>> > F.e. In the makefiles I've replace HB_ARCHITECTURE with:
>> >
>> > ...
>> > OS=$(shell uname -s | tr -d "[-]" | tr '[A-Z]' '[a-z]')
>> > ...
>> > ifneq (,$(findstring mingw32,$(OS)))
>> > ...
>> > ifneq (,$(findstring linux,$(OS)))
>> > ...
>> > ifneq (,$(findstring darwin,$(OS)))
>> >
>> > 0but the differences about the use of the shared libs between Lin and
>> > Win are still present.
>> >
>> > F.e. to link against gd and pgsql you need to use sth like:
>> > ? ?EXT_LIST=$(HARBOUR_DYN_DIR)/hbgd.dll /opt/local/bin/libgd2.dll
>> > $(HARBOUR_DYN_DIR)/hbpgsql.dll /opt/pgsql/bin/libpq.dll
>> >
>> > What do you think about adding switches like: -gd-shared, -gd-static,
>> > -pgsql-shared, ...?
>> >
>> > BTW I've few showstoppers:
>> >
>> > 1 - in hb-func.sh using hb_exesuf="exe" prevent to create cgi binaries
>> > called myprog.cgi.
>> > I've set it to "" like in linux but then the strip step complains. So
>> > far I couldn't find the right solution ( both 1.0.1 and 1.1 )
>> >
>> > 2 - gtwvt is "broken" in the sense the fontsize selection doesn't work
>> > anymore see my msg "gtvwt problem" ( 1.1 only ).
>> > What do you think about creating a GT reference test so that every GT
>> > change can be checked against it?
>> >
>> > 3 - gtxwc doesn't support palette definition and HB_GTI_CLOSABLE.
>> > Actually I'm hacking the colors constants and I've commented out
>> > "s_atomDelWin" message.
>> >
>> > Could you kindly give me some hints?
>> >
>> > best regards,
>> > Lorenzo
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Mar 12 08:20:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 08:21:00 2009
Subject: [Harbour] Shouldn't utils like hbrun, hbmk2, hbtest, ... be 
	"shared"
In-Reply-To: <9257026e0902220910r31c48e29ua66c478bd64b7ec6@mail.gmail.com>
References: <9257026e0902212332m10db30cfl4c57143bdae40285@mail.gmail.com>
	<18d502870902212346rde04a82q327db4dc090da503@mail.gmail.com>
	<9257026e0902220028l66ef29edke71b11e8d15a2609@mail.gmail.com>
	<18d502870902220041t490d866fg3dc21ab6f9428403@mail.gmail.com>
	<9257026e0902220123i35865b50ub9f03cab420a558c@mail.gmail.com>
	<18d502870902220142k2423fc0bocaca5dbe28d80460@mail.gmail.com>
	<9257026e0902220910r31c48e29ua66c478bd64b7ec6@mail.gmail.com>
Message-ID: <18d502870903120520h4391a32drf8f79aee2817ac89@mail.gmail.com>

Hi Lorenzo,

On Sun, Feb 22, 2009 at 6:10 PM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com>
 wrote:

> On Sun, Feb 22, 2009 at 10:42 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>

Just found this mail.

I don't wants to force you to use shared libs simply under Linux
> static linking is deprecated.
>
Look in https://fedoraproject.org/wiki/Packaging/Guidelines


I agree we should adhere to the local OS standards (and if there
is no such thing, expectations and common sense) for all install
kits (shared for Linux, static for Windows, IMO static for Darwin).

However we should also make sure to create usable build
for the rest of the situations, too. This means when we building
Harbour for non-package purposes, and we're not installing it into
system dirs (analog to local or embedded usage scenerio), it
should still work "out of the box". Now, building with shared libs
in these cases currently can cause broken tools on some
systems. So probably default make system should always generate
dynamic libs, but should create static executables, and
postinst should overwrite the static executables with dynamic ones
when this is needed (installing to system location, creating
Linux package).

so if we want to see harbour included someday in "main" distributions,
> we have to provide both shared and static or only shared but never
> only static and the shared support has to work out of the box.


Yes.


> F.e. I've added these switches to hb* scripts:
>
>    -gd                 # link with hbgd library (GD interface)
>    -curl               # link with hbcurl library (cURL interface)
>    -odbc               # link with hbodbc library (ODBC interface)
>    -pgsql              # link with hbpgsql library (PostgeSQL interface)
>    -mysql              # link with hbmysql library (MySQL interface)
>    -xhgtk              # link with xHGtk library (GTK+ interface)
>
> and I build the shared libs at the end of the make_gnu.sh using:
> ...
>       HB_SHARED_LIB="libhbpgsql"
>
>       if [ -f "$HB_SHARED_LIB.a" ]; then
>          echo "Creating shared lib $HB_SHARED_LIB..."
>          if [ "$HB_ARCHITECTURE" = "linux" ]; then
>             hb-mkslib $HB_SHARED_LIB "$HB_SHARED_LIB.a" -lpq
>          fi
>          if [ "$HB_ARCHITECTURE" = "win" ]; then
>             hb-mkslib "$HB_BIN_INSTALL/$HB_SHARED_LIB.dll"
> "$HB_SHARED_LIB.a" -L$HB_DIR_PGSQL/lib -lpq
> $HB_BIN_INSTALL/harbour.dll $HB_DIR_PGSQL/bin/libpq.dll
>          fi
>          if [ "$HB_ARCHITECTURE" = "darwin" ]; then
>             hb-mkslib $HB_SHARED_LIB "$HB_SHARED_LIB.a"
> -L$HB_DIR_PGSQL/lib -lpq
>          fi
>       fi
> ...
>
> there are surely better way to do it, but IMHO build system has to
> provide the support for a full shared env.
>
> How this can be done using hbmk2?


As far as generating shared contrib libs go, we should try
to find a way to solve these locally inside the respective
contrib dirs, which means possibly as part of local 'Makefile's.
We probably need a new target named 'dyn.cf', and dynlib
logic generalized and synced for all platforms, accessible
by GNU make process. Just ideas for the future (next major
release probably), ideas are welcome how to solve this cleanly.
[ we need implib logic to be implemented similarly for Windows
compilers, currently it's centralized in postinst.bat, which is not
ideal. ]

Regarding hbmk2, the idea is to use .hbp files, which store
these libnames and paths, and you just pass your xhgtk.hbp
file in your cmdline. See some (untested) examples in
utils/hbmk2/examples

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/da708455/attachment-0001.html
From marcosgambeta at uol.com.br  Thu Mar 12 08:22:10 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Thu Mar 12 08:22:18 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <609353e70903120509q4e726cd3ge52077b14ef63c9@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>	<20081207155422.GB4751@34-mo7-2.acn.waw.pl>	<9257026e0812071230r4991556bq1d98e3404db680a2@mail.gmail.com>	<1228684541.3815.13.camel@hblx.340cst>	<18d502870903120444x6e3b26aajec8919f49412023f@mail.gmail.com>
	<609353e70903120509q4e726cd3ge52077b14ef63c9@mail.gmail.com>
Message-ID: <49B8FE72.5020803@uol.com.br>

Massimo Belgrano escreveu:
> In this area also QT seem interesting but is not present any wrapper
> library afaik

Massimo,

See the link:

http://www.magsoftinfo.com.br/blog/?cat=9

HbQt is LGPL. Wait few days to see the code.


Regards,
Marcos Gambeta

From harbour.01 at syenar.hu  Thu Mar 12 08:22:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 08:22:40 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <609353e70903120509q4e726cd3ge52077b14ef63c9@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<20081207155422.GB4751@34-mo7-2.acn.waw.pl>
	<9257026e0812071230r4991556bq1d98e3404db680a2@mail.gmail.com>
	<1228684541.3815.13.camel@hblx.340cst>
	<18d502870903120444x6e3b26aajec8919f49412023f@mail.gmail.com>
	<609353e70903120509q4e726cd3ge52077b14ef63c9@mail.gmail.com>
Message-ID: <18d502870903120522m5614ad25qd04c1d61bbb26f1a@mail.gmail.com>

>
> Hi agree for xhgtk in contrib
> I Hope that HBGTK follow t WvgParts class modal (GTWVG) compatible
> with Xbase++XbpParts and implement  also a GT
> If Following the same class structure the  make the code portable.
> New()|Init() / Create() / Configure() / Destroy().
>
> In this area also QT seem interesting but is not present any wrapper
> library afaik


No wonder since QT license was only relaxed just recently.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/49961a0e/attachment.html
From druzus at users.sourceforge.net  Thu Mar 12 08:26:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 12 08:26:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10596] trunk/harbour
Message-ID: <E1Lhjzn-0003gM-KD@c3vjzd1.ch3.sourceforge.com>

Revision: 10596
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10596&view=rev
Author:   druzus
Date:     2009-03-12 12:26:39 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 13:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gttrm/gttrm.c
    + added some missing xterm key sequences

  * harbour/utils/hbmk2/hbmk2.prg
    ! fixed curses name in SunOS builds (here we are using native curses
      library not ncurses)

  * harbour/config/hpux/global.cf
  * harbour/config/sunos/global.cf
    * enabled GTXWC disabled for default builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/hpux/global.cf
    trunk/harbour/config/sunos/global.cf
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From hernad at sigma-com.net  Thu Mar 12 08:44:46 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Thu Mar 12 08:44:56 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <11798566.1551236861657186.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>

Great news !

Is it implemented similar to the qtRuby, qtPython ?
They are generating bindings automatically all the classes from the framework with some tools (cpp2xml, kalyptus, qtsmoke ..)  ?

Maybe you have wrote that on your blog, but I don't understand spanish language :).

Great effort, thank you for sharing this.

Ernad
> 
> Massimo,
> 
> See the link:
> 
> http://www.magsoftinfo.com.br/blog/?cat=9
> 
> HbQt is LGPL. Wait few days to see the code.
> 
> 
> Regards,
> Marcos Gambeta
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Thu Mar 12 08:49:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 08:49:39 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <49B8FE72.5020803@uol.com.br>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<20081207155422.GB4751@34-mo7-2.acn.waw.pl>
	<9257026e0812071230r4991556bq1d98e3404db680a2@mail.gmail.com>
	<1228684541.3815.13.camel@hblx.340cst>
	<18d502870903120444x6e3b26aajec8919f49412023f@mail.gmail.com>
	<609353e70903120509q4e726cd3ge52077b14ef63c9@mail.gmail.com>
	<49B8FE72.5020803@uol.com.br>
Message-ID: <18d502870903120549j791f7353j25a91dbc42a36cfb@mail.gmail.com>

Great! I wanted to mention QT as the other great contender for portable GUI,
a wish apparently come true.

Brgds,
Viktor

On Thu, Mar 12, 2009 at 1:22 PM, Marcos Gambeta <marcosgambeta@uol.com.br>wrote:

> Massimo Belgrano escreveu:
>
>> In this area also QT seem interesting but is not present any wrapper
>> library afaik
>>
>
> Massimo,
>
> See the link:
>
> http://www.magsoftinfo.com.br/blog/?cat=9
>
> HbQt is LGPL. Wait few days to see the code.
>
>
> Regards,
> Marcos Gambeta
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/0795e43b/attachment.html
From druzus at acn.waw.pl  Thu Mar 12 08:59:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 08:53:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10582]
	trunk/harbour/ChangeLog
In-Reply-To: <49B8D34E.70105@ldz.lv>
References: <E1Lh5zP-0005am-Qh@c3vjzd1.ch3.sourceforge.com>
	<49B76BC0.8000408@ldz.lv>
	<20090311075808.GA15153@uran.home.aster.pl> <49B8D34E.70105@ldz.lv>
Message-ID: <20090312125949.GA17680@uran.home.aster.pl>

On Thu, 12 Mar 2009, Vladislav Lavrecky wrote:

Hi,

>> Can you create a small .prg example which illustrates achoice()
>> incompatibilities?
>> We can put it in tests/ directory so it can be used to verify
>> future modifications.
> I write small exapmle - "Barman menu" :)
> to better illustrate achoice() incompatibility

Thank you.
I'll add it to tests directory ASAP.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Mar 12 08:54:09 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 12 08:54:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10597] trunk/harbour
Message-ID: <E1LhkQL-0001e4-1Y@3kljzd1.ch3.sourceforge.com>

Revision: 10597
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10597&view=rev
Author:   druzus
Date:     2009-03-12 12:54:08 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 14:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/tests/ac_test2.prg
    + added achoice() test by Vladislav Lavrecky - many thanks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/tests/ac_test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 12 08:55:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 08:55:14 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
Message-ID: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>

Hi all,
What is the difference between GPL + Harbour exception and LGPL?

I reckon LGPL wasn't nearly available when Harbour was born, so we
had to come up with our own solution, but since now LGPL is around,
shouldn't we consider switching our unique license to this standard one?

For me these look fundamentally the same, and I'm ready to
transition my own copyrighted material to LGPL if this thinking is
right. (of course I mean only current GPL+exception parts).

Using a standard license could probably help in the acceptance and
evaluation of this project by 3rd parties (even Linux distros).

Any opinions or insight on this?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/186ef2ca/attachment.html
From marcosgambeta at uol.com.br  Thu Mar 12 09:07:20 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Thu Mar 12 09:07:36 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
References: <24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <49B90908.3070603@uol.com.br>

Ernad Husremovic escreveu:
> Great news !
> 
> Is it implemented similar to the qtRuby, qtPython ?
> They are generating bindings automatically all the classes from the framework with some tools (cpp2xml, kalyptus, qtsmoke ..)  ?
> 
> Maybe you have wrote that on your blog, but I don't understand spanish language :).
> 
> Great effort, thank you for sharing this.
> 

The work is done manually. See the example:

-----------------
File: qdialog.cpp
-----------------

#include <QDialog>
#include "hbapi.h"

/*
QDialog ( QWidget * parent = 0, Qt::WindowFlags f = 0 )
*/
HB_FUNC( QT_QDIALOG )
{
   QDialog* dialog = NULL;
   QWidget* parent = ISNIL(1)? 0 : (QWidget*) hb_parptr(1);
   int f = ISNIL(2)? 0 : hb_parni(2);
   dialog = new QDialog( parent, (Qt::WindowFlags) f );
   hb_retptr( (QDialog*) dialog );
}

/*
bool isModal () const
void setModal ( bool modal )
*/
HB_FUNC( QT_QDIALOG_ISMODAL )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   bool modal = dialog->isModal();
   hb_retl( modal );
}
HB_FUNC( QT_QDIALOG_SETMODAL )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   bool modal = hb_parl(2);
   dialog->setModal( modal );
}

/*
bool isSizeGripEnabled () const
void setSizeGripEnabled ( bool )
*/
HB_FUNC( QT_QDIALOG_ISSIZEGRIPENABLED )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   bool enabled = dialog->isSizeGripEnabled();
   hb_retl( enabled );
}
HB_FUNC( QT_QDIALOG_SETSIZEGRIPENABLED )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   bool enabled = hb_parl(2);
   dialog->setSizeGripEnabled( enabled );
}

/*
void QDialog::accept ()   [virtual slot]
*/
HB_FUNC( QT_QDIALOG_ACCEPT )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   dialog->accept();
}

/*
void QDialog::done ( int r )   [virtual slot]
*/
HB_FUNC( QT_QDIALOG_DONE )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   int r = hb_parni(2);
   dialog->done( r );
}

/*
int QDialog::exec ()   [slot]
*/
HB_FUNC( QT_QDIALOG_EXEC )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   hb_retni( dialog->exec() );
}

/*
void QDialog::open ()   [slot]
*/
HB_FUNC( QT_QDIALOG_OPEN )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   dialog->open();
}

/*
void QDialog::reject ()   [virtual slot]
*/
HB_FUNC( QT_QDIALOG_REJECT )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   dialog->reject();
}

/*
int QDialog::result () const
void QDialog::setResult ( int i )
*/
HB_FUNC( QT_QDIALOG_RESULT )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   int i = dialog->result();
   hb_retni( i );
}
HB_FUNC( QT_QDIALOG_SETRESULT )
{
   QDialog* dialog = (QDialog*) hb_parptr(1);
   int i = hb_parni(2);
   dialog->setResult( i );
}

----------------------
File: qdialogclass.prg
----------------------

#include "hbclass.ch"

CLASS QDIALOG INHERIT QWIDGET

    METHOD New (pParent, nFlags) CONSTRUCTOR
    METHOD IsModal ()
    METHOD SetModal (lModal)
    METHOD IsSizeGripEnabled ()
    METHOD SetSizeGripEnabled (lEnabled)
    METHOD Accept ()
    METHOD Done (nR)
    METHOD Exec ()
    METHOD Open ()
    METHOD Reject ()
    METHOD Result ()
    METHOD SetResult (nR)

END CLASS

METHOD New (pParent, nFlags) CLASS QDIALOG
    ::pointer := qt_qdialog (pParent, nFlags)
Return self

METHOD IsModal () CLASS QDIALOG
Return qt_qdialog_ismodal(::pointer)

METHOD SetModal (lModal) CLASS QDIALOG
    qt_qdialog_setmodal(::pointer, lModal)
Return nil

METHOD IsSizeGripEnabled () CLASS QDIALOG
Return qt_qdialog_issizegripenabled(::pointer)

METHOD SetSizeGripEnabled (lEnabled) CLASS QDIALOG
    qt_qdialog_setsizegripenabled(::pointer, lEnabled)
Return nil

METHOD Accept () CLASS QDIALOG
    qt_qdialog_accept(::pointer)
Return nil

METHOD Done (nR) CLASS QDIALOG
    qt_qdialog_done(::pointer, nR)
Return nil

METHOD Exec () CLASS QDIALOG
Return qt_qdialog_exec(::pointer)

METHOD Open () CLASS QDIALOG
    qt_qdialog_open(::pointer)
Return nil

METHOD Reject () CLASS QDIALOG
    qt_qdialog_reject(::pointer)
Return nil

METHOD Result () CLASS QDIALOG
Return qt_qdialog_result(::pointer)

METHOD SetResult (nR) CLASS QDIALOG
    qt_qdialog_setresult(::pointer, nR)
Return nil

I am following the same "Class Inheritance Hierarchy" of the Qt.

The project was started few days ago. If Harbour developers agree, i can 
  continue in the Harbour contrib dir. Vailton Renato is ready to help 
me in the development.


Regards,
Marcos Gambeta

From druzus at acn.waw.pl  Thu Mar 12 09:13:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 09:07:45 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
References: <11798566.1551236861657186.JavaMail.root@zimbra-1.sigma-com.net>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <20090312131344.GA18646@uran.home.aster.pl>

On Thu, 12 Mar 2009, Ernad Husremovic wrote:

Hi,

> Is it implemented similar to the qtRuby, qtPython ?
> They are generating bindings automatically all the classes from the framework with some tools (cpp2xml, kalyptus, qtsmoke ..)  ?
> Maybe you have wrote that on your blog, but I don't understand spanish language :).
> Great effort, thank you for sharing this.

There is XBGTK project by Phil Krylov (see on sf.net) which
generates [x]Harbour wrapper library for GTK automatically.
The code generator is based on pygtk adopted for [x]Harbour.
Anyhow seems that Phil does not have time to update it in
last years.
Such method of generating wrapper library seems to be the
best choice in long terms.
Maybe we should ask Phil about his plans to this library?

Phil?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Mar 12 09:29:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 09:23:59 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
Message-ID: <20090312132959.GA19468@uran.home.aster.pl>

On Thu, 12 Mar 2009, Szak?ts Viktor wrote:
> Hi all,
> What is the difference between GPL + Harbour exception and LGPL?

Static linking.
For LGPL libraries you have to give final user a chance to upgrade
the LGPL part of binaries, f.e. because some serious bugs in the
LGPL code was fixed. You can make it in few different ways,
f.e. you can deliver on user request shared linked binaries so user
can easy replace used LGPL libraries. Of course it does not mean that
you have to assist in this process. It's user job to create compatible
version LGPL libraries and replace them if he wants.

> I reckon LGPL wasn't nearly available when Harbour was born, so we
> had to come up with our own solution, but since now LGPL is around,

LGPL is much older then Harbour.

> shouldn't we consider switching our unique license to this standard one?

See above.

> For me these look fundamentally the same, and I'm ready to
> transition my own copyrighted material to LGPL if this thinking is
> right. (of course I mean only current GPL+exception parts).
> Using a standard license could probably help in the acceptance and
> evaluation of this project by 3rd parties (even Linux distros).
> Any opinions or insight on this?

I agree but in some cases it may force distributing two binaries
shared and static ones.
In general I prefer shared libraries but it does not mean that
I do not see situations when static ones are easier to use, f.e.
due two insufficient final user knowledge.

best regards,
Przemek
From lavr at ldz.lv  Thu Mar 12 09:29:47 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Thu Mar 12 09:29:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>
Message-ID: <49B90E4B.40900@ldz.lv>

vszakats@users.sourceforge.net wrote:
> Revision: 10594
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10594&view=rev
> Author:   vszakats
> Date:     2009-03-12 09:29:50 +0000 (Thu, 12 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-12 10:28 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/rtl/achoice.prg
>     ! Fixed to always dehilight active item on exit.
>       (probably could be done more efficiently, feel free to 
>       optimize it.)
>       Please test.
>   
I found 2 variants of more optimal fix, but don't know which is more 
optimal :)

Variant -1
Delete all previously posted
   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
nAtTop, nItems, bSelect, nRowsClr )
lines
and add only one, before achoice() return point
[...]
   ENDDO
+   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
nAtTop, nItems, bSelect, nRowsClr )
   SetCursor( nSaveCsr )

   RETURN nPos
[...]
simplifies code, only 1 line of code to add, but redraw all visible lines.

Variant - 2
Delete all previously posted
   DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, 
nAtTop, nItems, bSelect, nRowsClr )
lines
and add in all CASE entry before lFinished := .T. (7-lines) and before 
nPos := 0 (if exist)
[...]
+       DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), nLeft, .T., 
.F., nNumCols )
       nPos      := 0
       lFinished := .T.
[...]
add 7 lines of code, but redraw only one current line


I test both (OK), with extended (added NIL, EMPTY, NUMERIC array values, 
and UserFunction) previously posted sample
-----CODE-------------
#include "inkey.ch"
#include "achoice.ch"

function main()

//NIL, empty, numeric, and not handled - items
//must be inaccesible and invisible
local aMenu1 := {" --Visky--", "", "not handled"}
local aMenu2 := {" --Vodka--", " --Water--", NIL, "not handled"}
local aMenu3 := {" --Grapa--", 33, "not handled"}

local lExit := .F.
local nCounter := 1
local nKeyPressed

setcolor("W+/N, BG+/B, , , W/N")
cls
@ 2,1 SAY " --Visky--   --Vodka--   --Grapa--"
@ 3,14 SAY "--Water--"
do while !lExit

 do case
    case nCounter == 1
      achoice(2, 1, 3, 11, aMenu1)
    case nCounter == 2
      achoice(2, 13, 3, 23, aMenu2, .T., "cUserFunction")
    case nCounter == 3
      achoice(2, 25, 3, 35, aMenu3, .T., "cUserFunction")
 endcase

 nKeyPressed := lastkey()
 if nKeyPressed == K_ESC
   lExit := .T.
 elseif nKeyPressed == K_RIGHT
   nCounter := iif(nCounter == 3, 1, nCounter+1)
 elseif nKeyPressed == K_LEFT
   nCounter := iif(nCounter == 1, 3, nCounter-1)
 endif

enddo

return NIL

//do nothing, just for test
function cUserFunction( nMode, nCurElement, nRowPos )

local nRetVal := AC_CONT
local nKey := LASTKEY()

if nMode == AC_NOITEM
  nRetVal := AC_ABORT
elseif nMode == AC_EXCEPT
  do case
     case nKey == K_RETURN
       nRetVal := AC_SELECT
     otherwise
       nRetVal := AC_ABORT
   endcase
endif

return nRetVal
-----END CODE----------------


Brgds,
Vlad

From info at fsgiudice.com  Thu Mar 12 09:34:13 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar 12 09:35:39 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
References: <49B82D2D.1000006@fsgiudice.com>	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
Message-ID: <49B90F55.1050505@fsgiudice.com>

Hi Viktor,

Il 12/03/2009 10.44, Viktor Szak?ts ha scritto:
> Now you're not, please try with latest SVN :)
> 
Thank you, I will try :-)
Best regards,
Francesco
From harbour.01 at syenar.hu  Thu Mar 12 09:37:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 09:37:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <49B90E4B.40900@ldz.lv>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>
	<49B90E4B.40900@ldz.lv>
Message-ID: <18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>

>
> Variant - 2
> Delete all previously posted
>  DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop,
> nItems, bSelect, nRowsClr )
> lines
> and add in all CASE entry before lFinished := .T. (7-lines) and before nPos
> := 0 (if exist)
> [...]
> +       DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), nLeft, .T.,
> .F., nNumCols )
>      nPos      := 0
>      lFinished := .T.
> [...]
> add 7 lines of code, but redraw only one current line
>
>
> I test both (OK), with extended (added NIL, EMPTY, NUMERIC array values,
> and UserFunction) previously posted


Variant #2 seems more optimal, as it only redraws one item,
not the whole page. Question what happens when nPos is zero
at this point, can it happen?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/50c16a35/attachment.html
From druzus at acn.waw.pl  Thu Mar 12 09:51:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 09:45:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>
	<49B90E4B.40900@ldz.lv>
	<18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>
Message-ID: <20090312135109.GA21164@uran.home.aster.pl>

On Thu, 12 Mar 2009, Szak?ts Viktor wrote:
> > Variant - 2
> > Delete all previously posted
> >  DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop,
> > nItems, bSelect, nRowsClr )
> > lines
> > and add in all CASE entry before lFinished := .T. (7-lines) and before nPos
> > := 0 (if exist)
> > [...]
> > +       DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), nLeft, .T.,
> > .F., nNumCols )
> >      nPos      := 0
> >      lFinished := .T.
> > [...]
> > add 7 lines of code, but redraw only one current line
> > I test both (OK), with extended (added NIL, EMPTY, NUMERIC array values,
> > and UserFunction) previously posted
> Variant #2 seems more optimal, as it only redraws one item,
> not the whole page. Question what happens when nPos is zero
> at this point, can it happen?

Maybe we should simply test what Clipper does?
F.e. overwrite the whole screen in user function

   dispbox( 0, 0, maxrow(), maxcol(), repl("#",9), "GR+/G" )

and check what Clipper redraws for different return values,
also non numeric ones.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 12 10:20:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 10:21:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <20090312135109.GA21164@uran.home.aster.pl>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>
	<49B90E4B.40900@ldz.lv>
	<18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>
	<20090312135109.GA21164@uran.home.aster.pl>
Message-ID: <18d502870903120720y41bfa92aha15249e3aadd4e4e@mail.gmail.com>

#2 is closer, but even that isn't fully compatible, unfortunately I don't
have the time and tech env now to fully oversee the
nPos == 0 case and do extensive side-by-side tests, so rather
than messing up the code, I'd like to ask someone to jump
on this if current state isn't good enough.

Attached new test code with repaint trick copied in.

Brgds,
Viktor

---
#include "inkey.ch"
#include "achoice.ch"

function main()

//NIL, empty, numeric, and not handled - items
//must be inaccesible and invisible
local aMenu1 := {" --Visky--", "", "not handled"}
local aMenu2 := {" --Vodka--", " --Water--", NIL, "not handled"}
local aMenu3 := {" --Grapa--", 33, "not handled"}

local lExit := .F.
local nCounter := 1
local nKeyPressed

setcolor("W+/N, BG+/B, , , W/N")
cls
@ 2,1 SAY " --Visky--   --Vodka--   --Grapa--"
@ 3,14 SAY "--Water--"
do while !lExit

do case
  case nCounter == 1
    achoice(2, 1, 3, 11, aMenu1)
  case nCounter == 2
    achoice(2, 13, 3, 23, aMenu2, .T., "cUserFunction")
  case nCounter == 3
    achoice(2, 25, 3, 35, aMenu3, .T., "cUserFunction")
endcase

nKeyPressed := lastkey()
if nKeyPressed == K_ESC
 lExit := .T.
elseif nKeyPressed == K_RIGHT
 nCounter := iif(nCounter == 3, 1, nCounter+1)
elseif nKeyPressed == K_LEFT
 nCounter := iif(nCounter == 1, 3, nCounter-1)
endif

enddo

return NIL

//do nothing, just for test
function cUserFunction( nMode, nCurElement, nRowPos )

local nRetVal := AC_CONT
local nKey := LASTKEY()

dispbox( 0, 0, maxrow(), maxcol(), repl("#",9), "GR+/G" )

if nMode == AC_NOITEM
 nRetVal := AC_ABORT
elseif nMode == AC_EXCEPT
 do case
   case nKey == K_RETURN
     nRetVal := AC_SELECT
   otherwise
     nRetVal := AC_ABORT
 endcase
endif


return nRetVal
---

On Thu, Mar 12, 2009 at 2:51 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 12 Mar 2009, Szak?ts Viktor wrote:
> > > Variant - 2
> > > Delete all previously posted
> > >  DispPage( acItems, alSelect, nTop, nLeft, nRight, nNumRows, 0, nAtTop,
> > > nItems, bSelect, nRowsClr )
> > > lines
> > > and add in all CASE entry before lFinished := .T. (7-lines) and before
> nPos
> > > := 0 (if exist)
> > > [...]
> > > +       DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), nLeft,
> .T.,
> > > .F., nNumCols )
> > >      nPos      := 0
> > >      lFinished := .T.
> > > [...]
> > > add 7 lines of code, but redraw only one current line
> > > I test both (OK), with extended (added NIL, EMPTY, NUMERIC array
> values,
> > > and UserFunction) previously posted
> > Variant #2 seems more optimal, as it only redraws one item,
> > not the whole page. Question what happens when nPos is zero
> > at this point, can it happen?
>
> Maybe we should simply test what Clipper does?
> F.e. overwrite the whole screen in user function
>
>   dispbox( 0, 0, maxrow(), maxcol(), repl("#",9), "GR+/G" )
>
> and check what Clipper redraws for different return values,
> also non numeric ones.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/cde256b7/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar 12 10:29:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 10:29:19 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <20090312132959.GA19468@uran.home.aster.pl>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
	<20090312132959.GA19468@uran.home.aster.pl>
Message-ID: <18d502870903120729r53b95c6dif1941dc939ec3c1c@mail.gmail.com>

Hi Przemek,

Thanks, I'm still not sure I understand the exact implications of LGPL to
Harbour, but for me it's just as perfect to leave it
as is.

Anyhow I wonder if there isn't any other standard license which
would _properly_ fit Harbour. If there is, we should IMO consider
using it for mentioned benefits and not reinventing it.

Brgds,
Viktor

On Thu, Mar 12, 2009 at 2:29 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 12 Mar 2009, Szak?ts Viktor wrote:
> > Hi all,
> > What is the difference between GPL + Harbour exception and LGPL?
>
> Static linking.
> For LGPL libraries you have to give final user a chance to upgrade
> the LGPL part of binaries, f.e. because some serious bugs in the
> LGPL code was fixed. You can make it in few different ways,
> f.e. you can deliver on user request shared linked binaries so user
> can easy replace used LGPL libraries. Of course it does not mean that
> you have to assist in this process. It's user job to create compatible
> version LGPL libraries and replace them if he wants.
>
> > I reckon LGPL wasn't nearly available when Harbour was born, so we
> > had to come up with our own solution, but since now LGPL is around,
>
> LGPL is much older then Harbour.
>
> > shouldn't we consider switching our unique license to this standard one?
>
> See above.
>
> > For me these look fundamentally the same, and I'm ready to
> > transition my own copyrighted material to LGPL if this thinking is
> > right. (of course I mean only current GPL+exception parts).
> > Using a standard license could probably help in the acceptance and
> > evaluation of this project by 3rd parties (even Linux distros).
> > Any opinions or insight on this?
>
> I agree but in some cases it may force distributing two binaries
> shared and static ones.
> In general I prefer shared libraries but it does not mean that
> I do not see situations when static ones are easier to use, f.e.
> due two insufficient final user knowledge.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/f9dcc434/attachment.html
From lavr at ldz.lv  Thu Mar 12 10:52:03 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Thu Mar 12 10:52:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <18d502870903120720y41bfa92aha15249e3aadd4e4e@mail.gmail.com>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>	<49B90E4B.40900@ldz.lv>	<18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>	<20090312135109.GA21164@uran.home.aster.pl>
	<18d502870903120720y41bfa92aha15249e3aadd4e4e@mail.gmail.com>
Message-ID: <49B92193.9050908@ldz.lv>

Viktor Szak?ts wrote:
> #2 is closer, but even that isn't fully compatible, unfortunately 
> I don't have the time and tech env now to fully oversee the 
> nPos == 0 case and do extensive side-by-side tests, so rather 
> than messing up the code, I'd like to ask someone to jump 
> on this if current state isn't good enough.
>
> Attached new test code with repaint trick copied in.
>
> Brgds,
> Viktor
You are right, before call DispLine  nPos should be checked for non zero,
nPos is zero at AC_NOITEM. (Add this case to test code)

I can do tests with new test code.
Thx,  this is are good idea to see what clipper do.

Brgds,
Vlad

> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   


From harbour.01 at syenar.hu  Thu Mar 12 11:01:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 11:01:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <49B92193.9050908@ldz.lv>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>
	<49B90E4B.40900@ldz.lv>
	<18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>
	<20090312135109.GA21164@uran.home.aster.pl>
	<18d502870903120720y41bfa92aha15249e3aadd4e4e@mail.gmail.com>
	<49B92193.9050908@ldz.lv>
Message-ID: <18d502870903120801k4a39fa91p9d2eeeacb744f6ee@mail.gmail.com>

Okay, I can commit that up to this point, and you can continue from there.
Brgds,
Viktor

On Thu, Mar 12, 2009 at 3:52 PM, Vladislav Lavrecky <lavr@ldz.lv> wrote:

> Viktor Szak?ts wrote:
>
>> #2 is closer, but even that isn't fully compatible, unfortunately I don't
>> have the time and tech env now to fully oversee the nPos == 0 case and do
>> extensive side-by-side tests, so rather than messing up the code, I'd like
>> to ask someone to jump on this if current state isn't good enough.
>>
>> Attached new test code with repaint trick copied in.
>>
>> Brgds,
>> Viktor
>>
> You are right, before call DispLine  nPos should be checked for non zero,
> nPos is zero at AC_NOITEM. (Add this case to test code)
>
> I can do tests with new test code.
> Thx,  this is are good idea to see what clipper do.
>
> Brgds,
> Vlad
>
>  ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/1a53f720/attachment.html
From vszakats at users.sourceforge.net  Thu Mar 12 11:10:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 11:11:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10598] trunk/harbour
Message-ID: <E1LhmYk-0003hg-Kw@d5vjzd1.ch3.sourceforge.com>

Revision: 10598
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10598&view=rev
Author:   vszakats
Date:     2009-03-12 15:10:57 +0000 (Thu, 12 Mar 2009)

Log Message:
-----------
2009-03-12 16:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/achoice.prg
  * tests/ac_test2.prg
    ! ACHOICE() made more Clipper compatible. Still not fully, pls
      continue Clipper/Harbour tests with updated ac_test2.prg.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/achoice.prg
    trunk/harbour/tests/ac_test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Thu Mar 12 11:13:39 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar 12 11:13:46 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <49B90F55.1050505@fsgiudice.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED551@PINK.zycie.pzu>

>-----Original Message-----
>From: Francesco Saverio Giudice [mailto:info@fsgiudice.com] 
>Sent: Thursday, March 12, 2009 2:34 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] HB_BUILD_DEBUG

...

>Thank you, I will try :-)
>Best regards,
>Francesco
>

Francesco, can you add to uhttpd small example with log and password
user ?

Regards,
Marek Horodyski
From abe.buch at att.net  Thu Mar 12 11:28:29 2009
From: abe.buch at att.net (AbeB)
Date: Thu Mar 12 11:28:34 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with
	other codes
In-Reply-To: <18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
Message-ID: <1236871709077-2468019.post@n2.nabble.com>


the K_CTRL_* are already implemented. I had cut the following from xharbour's
setkey.ch into harbour's 
and rebuild harbour, and it just works (in GTWVT).

i don't know about K_SH_* key's

in xharbour it's selected by #defining HB_EXT_INKEY when building xharbour.



Viktor Szak?ts wrote:
> 
> This would be good, especially since on certain GTs the number of usable
> keys are scarce (no Alt+ combinations f.e.), so enabling these
> CTRL keys could certainly help on shortcut congestion. But users should
> enable it explicitly by using INKEY_ flag to keep Clipper compatibility.
> 
> I don't know what it takes to implement it though.
> 
> Brgds,
> Viktor
> 
> On Sun, Mar 8, 2009 at 6:26 PM, AbeB <abe.buch@att.net> wrote:
> 
>>
>> can the following be an option in inkey.ch ( it's from xHarbour)
>>
>> /* New control keys that do not overlap with other codes */
>>
>> #define K_CTRL_A                513   /*   Ctrl-A
>> */
>> #define K_CTRL_B                514   /*   Ctrl-B
>> */
>> #define K_CTRL_C                515   /*   Ctrl-C
>> */
>> #define K_CTRL_D                516   /*   Ctrl-D
>> */
>> #define K_CTRL_E                517   /*   Ctrl-E
>> */
>> #define K_CTRL_F                518   /*   Ctrl-F
>> */
>> #define K_CTRL_G                519   /*   Ctrl-G
>> */
>> #define K_CTRL_H                520   /*   Ctrl-H
>> */
>> #define K_CTRL_I                521   /*   Ctrl-I
>> */
>> #define K_CTRL_J                522   /*   Ctrl-J
>> */
>> #define K_CTRL_K                523   /*   Ctrl-K
>> */
>> #define K_CTRL_L                524   /*   Ctrl-L
>> */
>> #define K_CTRL_M                525   /*   Ctrl-M
>> */
>> #define K_CTRL_N                526   /*   Ctrl-N
>> */
>> #define K_CTRL_O                527   /*   Ctrl-O
>> */
>> #define K_CTRL_P                528   /*   Ctrl-P
>> */
>> #define K_CTRL_Q                529   /*   Ctrl-Q
>> */
>> #define K_CTRL_R                530   /*   Ctrl-R
>> */
>> #define K_CTRL_S                531   /*   Ctrl-S
>> */
>> #define K_CTRL_T                532   /*   Ctrl-T
>> */
>> #define K_CTRL_U                533   /*   Ctrl-U
>> */
>> #define K_CTRL_V                534   /*   Ctrl-V
>> */
>> #define K_CTRL_W                535   /*   Ctrl-W
>> */
>> #define K_CTRL_X                536   /*   Ctrl-X
>> */
>> #define K_CTRL_Y                537   /*   Ctrl-Y
>> */
>> #define K_CTRL_Z                538   /*   Ctrl-Z
>> */
>>
>> /* extended shift key codes, none in  Clipper */
>>
>> #define K_SH_LEFT               424   /* * Shift-Left                   
>> */
>> #define K_SH_UP                 425   /* * Shift-Up                     
>> */
>> #define K_SH_RIGHT              426   /* * Shift-Right                  
>> */
>> #define K_SH_DOWN               427   /* * Shift-Down                   
>> */
>>
>> #define K_SH_INS                428   /* * Shift-Ins                    
>> */
>> #define K_SH_DEL                429   /* * Shift-Del                    
>> */
>> #define K_SH_HOME               430   /* * Shift-Home                   
>> */
>> #define K_SH_END                431   /* * Shift-End                    
>> */
>> #define K_SH_PGUP               432   /* * Shift-PgUp                   
>> */
>> #define K_SH_PGDN               433   /* * Shift-PgDn                   
>> */
>>
>> #define K_SH_RETURN             434   /* * Shift-Enter                  
>> */
>> #define K_SH_ENTER              434   /* * Shift-Enter                  
>> */
>>
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2445208.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2468019.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar 12 11:51:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 12 11:51:05 2009
Subject: [Harbour] GTWVG and Buffered Console
Message-ID: <22478907.post@talk.nabble.com>


Hello Everybody

I am almost done with buffered console on GTWVG.

By "buffered console" I mean all paint operations are
done in memory and only final output is transferred to 
console on screen. In Clipper parlance you can 
think it synonymous as DispBegin()/DispEnd() but 
not exactly the same. Under this protocol you may 
experience a very smooth window even with verycomplx
GUI elements, i.e., bitmaps, gradient rectangles, boxes, etc.
No more flickering.

It may need some tweaking in the existing code which 
primarily exploits overlapping windows as with 
SaveScreen() | RestScreen() mechanism. One has to 
upgrade his code to use multiple consoles. I have  a demo
in place to show this.

My question is: How many of you are using GTWVG and are
willing to adopt to new prorocol. Believe me, it will be very 
little effort to change the exiting code but the results will be
truely rewarding. Once this is done, I may think to port 
GTWVW in GTWVG if get a substantial number of confirmations
which may persuade me to port GTWVW.

So please post your vote here under this thread so that I could
make up my mind to port GTWVW. Please note, the number
must be substancial.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22478907.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar 12 11:55:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 12 11:55:20 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED551@PINK.zycie.pzu>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED551@PINK.zycie.pzu>
Message-ID: <22478910.post@talk.nabble.com>


Marek


Horodyski Marek (PZUZ) wrote:
> 
>>Thank you, I will try :-)
>>Best regards,
>>Francesco
>>
> 
> Francesco, can you add to uhttpd small example with log and password
> user ?
> 

Please use separate thread to post new query.
It is always a problem to locate and loose the 
reference and context of the subject matter.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HB_BUILD_DEBUG-tp22464982p22478910.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Mar 12 12:19:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 12:13:30 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <22478910.post@talk.nabble.com>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED551@PINK.zycie.pzu>
	<22478910.post@talk.nabble.com>
Message-ID: <20090312161932.GA25193@uran.home.aster.pl>

On Thu, 12 Mar 2009, Pritpal Bedi wrote:

Hi,

> >>Thank you, I will try :-)
> >>Best regards,
> >>Francesco
> > Francesco, can you add to uhttpd small example with log and password
> > user ?
> Please use separate thread to post new query.
> It is always a problem to locate and loose the 
> reference and context of the subject matter.

And _ALWAYS_ start new thread by posting the new message instead of using
"replay" with modified subject. All "normal" mail/news clients can follow
threads by message ID reference in the message header not by subject so
all threads started by "replay" to some existing message are attached to
the original thread. Sometimes such threads have even few years.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Thu Mar 12 12:21:02 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar 12 12:21:09 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED56D@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Thursday, March 12, 2009 4:51 PM
>To: harbour@harbour-project.org
>Subject: [Harbour] GTWVG and Buffered Console
>
>
>Hello Everybody
>
>I am almost done with buffered console on GTWVG.

[...]

>So please post your vote here under this thread so that I 
>could make up my mind to port GTWVW. Please note, the number 
>must be substancial.

Pls. Vote my person. I'm using now GTWVT, but thing about terminals
technologies (with GTWVG) and/or www.
Now can I do tests.

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Thu Mar 12 12:26:35 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar 12 12:26:43 2009
Subject: [Harbour] How can man logged with uHTTPD 
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED56E@PINK.zycie.pzu>

Francesco, can you add to uhttpd small example with "loging/password"
user on www ?

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Thu Mar 12 12:37:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 12 12:45:17 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <20090312163701.GB25193@uran.home.aster.pl>

On Thu, 12 Mar 2009, Pritpal Bedi wrote:

Hi,

> I am almost done with buffered console on GTWVG.
> By "buffered console" I mean all paint operations are
> done in memory and only final output is transferred to 
> console on screen. In Clipper parlance you can 
> think it synonymous as DispBegin()/DispEnd() but 
> not exactly the same. Under this protocol you may 
> experience a very smooth window even with verycomplx
> GUI elements, i.e., bitmaps, gradient rectangles, boxes, etc.
> No more flickering.

GTXWC internally uses bitmap with the whole screen contents
so expose messages are served as simple coping from the internal
screen image to real screen.
I guess you want to make the same in GTWVT/GTWVG plus change
save/rest screen methods to operate on bitmaps instead of
character buffers.
Am I right?
Or maybe you are thinking about sth different?
Please note that using CTWin like API in practice eliminates
SAVESCREEN/RESTSCREEN making the whole code much simpler.
GTWVW was addressing this aspect.

> It may need some tweaking in the existing code which 
> primarily exploits overlapping windows as with 
> SaveScreen() | RestScreen() mechanism. One has to 
> upgrade his code to use multiple consoles. I have  a demo
> in place to show this.

As long as user does not try to manipulate the contents of
the screen buffer returned by savescreen then it should not
cause any problems. Anyhow some window oriented GTs like
CTWIN will not work correctly because they use own itenral
buffers which are character oriented. They will have to be
modified to work with bit map screen buffers what is not easy
job but it's possible. Though probably it will be easier to
leave CTW as is and create new similar GT for GTWVG and other
GTs which will operate on bitmaps.

> My question is: How many of you are using GTWVG and are
> willing to adopt to new prorocol. Believe me, it will be very 
> little effort to change the exiting code but the results will be
> truely rewarding. Once this is done, I may think to port 
> GTWVW in GTWVG if get a substantial number of confirmations
> which may persuade me to port GTWVW.

I think that many people will find it as very interesting.

> So please post your vote here under this thread so that I could
> make up my mind to port GTWVW. Please note, the number
> must be substancial.

I use Windows Harbour builds very seldom so I'm not good person to
answer but looking at xharbour.news I'm finding that many people are
intersting in GTWVW port.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 12 13:35:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 13:35:56 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <20090312163701.GB25193@uran.home.aster.pl>
References: <22478907.post@talk.nabble.com>
	<20090312163701.GB25193@uran.home.aster.pl>
Message-ID: <18d502870903121035h34eef74bnf3f284a058e65564@mail.gmail.com>

I'd suggest to do this after the release if gtwvt is also involved.

On 3/12/09, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> On Thu, 12 Mar 2009, Pritpal Bedi wrote:
>
> Hi,
>
>> I am almost done with buffered console on GTWVG.
>> By "buffered console" I mean all paint operations are
>> done in memory and only final output is transferred to
>> console on screen. In Clipper parlance you can
>> think it synonymous as DispBegin()/DispEnd() but
>> not exactly the same. Under this protocol you may
>> experience a very smooth window even with verycomplx
>> GUI elements, i.e., bitmaps, gradient rectangles, boxes, etc.
>> No more flickering.
>
> GTXWC internally uses bitmap with the whole screen contents
> so expose messages are served as simple coping from the internal
> screen image to real screen.
> I guess you want to make the same in GTWVT/GTWVG plus change
> save/rest screen methods to operate on bitmaps instead of
> character buffers.
> Am I right?
> Or maybe you are thinking about sth different?
> Please note that using CTWin like API in practice eliminates
> SAVESCREEN/RESTSCREEN making the whole code much simpler.
> GTWVW was addressing this aspect.
>
>> It may need some tweaking in the existing code which
>> primarily exploits overlapping windows as with
>> SaveScreen() | RestScreen() mechanism. One has to
>> upgrade his code to use multiple consoles. I have  a demo
>> in place to show this.
>
> As long as user does not try to manipulate the contents of
> the screen buffer returned by savescreen then it should not
> cause any problems. Anyhow some window oriented GTs like
> CTWIN will not work correctly because they use own itenral
> buffers which are character oriented. They will have to be
> modified to work with bit map screen buffers what is not easy
> job but it's possible. Though probably it will be easier to
> leave CTW as is and create new similar GT for GTWVG and other
> GTs which will operate on bitmaps.
>
>> My question is: How many of you are using GTWVG and are
>> willing to adopt to new prorocol. Believe me, it will be very
>> little effort to change the exiting code but the results will be
>> truely rewarding. Once this is done, I may think to port
>> GTWVW in GTWVG if get a substantial number of confirmations
>> which may persuade me to port GTWVW.
>
> I think that many people will find it as very interesting.
>
>> So please post your vote here under this thread so that I could
>> make up my mind to port GTWVW. Please note, the number
>> must be substancial.
>
> I use Windows Harbour builds very seldom so I'm not good person to
> answer but looking at xharbour.news I'm finding that many people are
> intersting in GTWVW port.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vailtom at gmail.com  Thu Mar 12 14:10:55 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Mar 12 14:11:06 2009
Subject: [Harbour] hbmk2 - need a little adjustment?
Message-ID: <531d7a750903121110j5630f8cg65ca321021836d29@mail.gmail.com>

I'm trying to compile the hbpgsql.lib manually with hbmk2 utility. The
command line used is:

hbmk2 -trace -ldflag:-Ic:\PostgresPlus\8.3\include -hblib pgrdd.prg
postgres.c tpostgre.prg

And the problem is with "-ldflag" where I try to pass aditional
parameter to the linker/compiler only he gives me the following error:

hbmk: Processing configuration: C:\hbmsvc\bin\hbmk.cfg
hbmk: Harbor compiler command:
C:\hbmsvc\bin\harbour.exe -n1 pgrdd.prg tpostgre.prg -iC:\hbmsvc\include
hbmk: C compiler command:
cl.exe -nologo -W3 -c -Fo -IC:\hbmsvc\include pgrdd.c tpostgre.c
postgres.c /link /libpath:C:\hbmsvc\lib /subsystem: console
hbcpage.lib hblang.lib hbcommon. lib hbcplr.lib hbdebug.lib hbvm.lib
hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib hbsix.lib rddntx.lib
rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib hbmacro.lib
hbextern.lib gtcgi . gtpca.lib lib gtstd.lib gtwin.lib gtwvt.lib
gtgui.lib hbpcre.lib hbzlib.lib
dflag:-Ic:\PostgresPlus\8.3\include.lib user32.lib wsock32.lib
advapi32.lib gdi32.lib
pgrdd.c
tpostgre.c
postgres.c
postgres.c (58): fatal error C1083: Can not open include file:
'libpq-fe.h': No such file or directory
Generating Code ...

Note the string "dflag:-Ic:\PostgresPlus\8.3\include.lib" in the line
above. I think he is confusing the -ldflag as the name of an
additional LIB.

Vailton Renato
From harbour.01 at syenar.hu  Thu Mar 12 14:48:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 14:48:28 2009
Subject: [Harbour] hbmk2 - need a little adjustment?
In-Reply-To: <531d7a750903121110j5630f8cg65ca321021836d29@mail.gmail.com>
References: <531d7a750903121110j5630f8cg65ca321021836d29@mail.gmail.com>
Message-ID: <18d502870903121148n6bf92af7o700f30e2a7f8fa03@mail.gmail.com>

Hi Renato,
(I realized this might not be your first name, sorry and pls correct me)

As for ldflags option, it's meant to pass flags to the linker, but what you
need is to pass a flag to the C compiler, so in your case -cflag: should
be used instead.

Brgds,
Viktor

On Thu, Mar 12, 2009 at 7:10 PM, Vailton Renato <vailtom@gmail.com> wrote:

> I'm trying to compile the hbpgsql.lib manually with hbmk2 utility. The
> command line used is:
>
> hbmk2 -trace -ldflag:-Ic:\PostgresPlus\8.3\include -hblib pgrdd.prg
> postgres.c tpostgre.prg
>
> And the problem is with "-ldflag" where I try to pass aditional
> parameter to the linker/compiler only he gives me the following error:
>
> hbmk: Processing configuration: C:\hbmsvc\bin\hbmk.cfg
> hbmk: Harbor compiler command:
> C:\hbmsvc\bin\harbour.exe -n1 pgrdd.prg tpostgre.prg -iC:\hbmsvc\include
> hbmk: C compiler command:
> cl.exe -nologo -W3 -c -Fo -IC:\hbmsvc\include pgrdd.c tpostgre.c
> postgres.c /link /libpath:C:\hbmsvc\lib /subsystem: console
> hbcpage.lib hblang.lib hbcommon. lib hbcplr.lib hbdebug.lib hbvm.lib
> hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib hbsix.lib rddntx.lib
> rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib hbmacro.lib
> hbextern.lib gtcgi . gtpca.lib lib gtstd.lib gtwin.lib gtwvt.lib
> gtgui.lib hbpcre.lib hbzlib.lib
> dflag:-Ic:\PostgresPlus\8.3\include.lib user32.lib wsock32.lib
> advapi32.lib gdi32.lib
> pgrdd.c
> tpostgre.c
> postgres.c
> postgres.c (58): fatal error C1083: Can not open include file:
> 'libpq-fe.h': No such file or directory
> Generating Code ...
>
> Note the string "dflag:-Ic:\PostgresPlus\8.3\include.lib" in the line
> above. I think he is confusing the -ldflag as the name of an
> additional LIB.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/09db8366/attachment.html
From bedipritpal at hotmail.com  Thu Mar 12 14:56:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 12 14:56:18 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <18d502870903121035h34eef74bnf3f284a058e65564@mail.gmail.com>
References: <22478907.post@talk.nabble.com>
	<20090312163701.GB25193@uran.home.aster.pl>
	<18d502870903121035h34eef74bnf3f284a058e65564@mail.gmail.com>
Message-ID: <22483204.post@talk.nabble.com>


Hi Viktor


Viktor Szak?ts wrote:
> 
> I'd suggest to do this after the release if gtwvt is also involved.
> 

GTWVT is not involved.

BYW it is much easier to implement this proto 
in GTWVT then GTWVG. And it will be a performance boost.

I will show the code shortly.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22483204.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar 12 15:04:23 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 12 15:04:28 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <20090312163701.GB25193@uran.home.aster.pl>
References: <22478907.post@talk.nabble.com>
	<20090312163701.GB25193@uran.home.aster.pl>
Message-ID: <22483356.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> GTXWC internally uses bitmap with the whole screen contents
> so expose messages are served as simple coping from the internal
> screen image to real screen.
> 

This is exactly what I am doing to GTWVG.



> I guess you want to make the same in GTWVT/GTWVG plus change
> save/rest screen methods to operate on bitmaps instead of
> character buffers.
> Am I right?
> Or maybe you are thinking about sth different?
> 

Save/RestScreens() is untouched and offers the same functionality
as before. It is just the transfer of screen image in a bitmap to 
real screen. As any more elements can be placed on a bitmap, i.e.,
GUI elements, it is a logical way to do so.



> Please note that using CTWin like API in practice eliminates
> SAVESCREEN/RESTSCREEN making the whole code much simpler.
> GTWVW was addressing this aspect.
> 

I never used CTWIN so cannot comment. GTWVW is aimed 
as you described but with a different approach.



> As long as user does not try to manipulate the contents of
> the screen buffer returned by savescreen then it should not
> cause any problems. Anyhow some window oriented GTs like
> CTWIN will not work correctly because they use own itenral
> buffers which are character oriented. They will have to be
> modified to work with bit map screen buffers what is not easy
> job but it's possible. Though probably it will be easier to
> leave CTW as is and create new similar GT for GTWVG and other
> GTs which will operate on bitmaps.
> 

I am not touching SaveScreen() and restScreen() so it will bot be 
a problem at all.




> I think that many people will find it as very interesting.
> 
> I use Windows Harbour builds very seldom so I'm not good person to
> answer but looking at xharbour.news I'm finding that many people are
> intersting in GTWVW port.
> 

I also think so. But as I am not a user of GTWVW, I cannot port 
it as is. Rather I will port the concept in GTWVW.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22483356.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Thu Mar 12 15:07:32 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Mar 12 15:07:42 2009
Subject: [Harbour] hbmk2 - need a little adjustment?
In-Reply-To: <18d502870903121148n6bf92af7o700f30e2a7f8fa03@mail.gmail.com>
References: <531d7a750903121110j5630f8cg65ca321021836d29@mail.gmail.com>
	<18d502870903121148n6bf92af7o700f30e2a7f8fa03@mail.gmail.com>
Message-ID: <531d7a750903121207g330e1f96q55d24b118b6de60f@mail.gmail.com>

Many Thanks! This works fine now with "-cflags". And about my name
there are no problems, because here in Brazil is accepted "Vailton" or
"Renato" when to refer someone..

Thanks again.
=D

2009/3/12 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Renato,
> (I realized this might not be your first name, sorry and pls correct me)
> As for ldflags option, it's meant to pass flags to the linker, but what you
> need is to pass a flag to the C compiler, so in your case -cflag: should
> be?used instead.
> Brgds,
> Viktor
>
> On Thu, Mar 12, 2009 at 7:10 PM, Vailton Renato <vailtom@gmail.com> wrote:
>>
>> I'm trying to compile the hbpgsql.lib manually with hbmk2 utility. The
>> command line used is:
>>
>> hbmk2 -trace -ldflag:-Ic:\PostgresPlus\8.3\include -hblib pgrdd.prg
>> postgres.c tpostgre.prg
>>
>> And the problem is with "-ldflag" where I try to pass aditional
>> parameter to the linker/compiler only he gives me the following error:
>>
>> hbmk: Processing configuration: C:\hbmsvc\bin\hbmk.cfg
>> hbmk: Harbor compiler command:
>> C:\hbmsvc\bin\harbour.exe -n1 pgrdd.prg tpostgre.prg -iC:\hbmsvc\include
>> hbmk: C compiler command:
>> cl.exe -nologo -W3 -c -Fo -IC:\hbmsvc\include pgrdd.c tpostgre.c
>> postgres.c /link /libpath:C:\hbmsvc\lib /subsystem: console
>> hbcpage.lib hblang.lib hbcommon. lib hbcplr.lib hbdebug.lib hbvm.lib
>> hbrdd.lib hbusrrdd.lib hbuddall.lib hbhsx.lib hbsix.lib rddntx.lib
>> rddnsx.lib rddcdx.lib rddfpt.lib hbrtl.lib hbpp.lib hbmacro.lib
>> hbextern.lib gtcgi . gtpca.lib lib gtstd.lib gtwin.lib gtwvt.lib
>> gtgui.lib hbpcre.lib hbzlib.lib
>> dflag:-Ic:\PostgresPlus\8.3\include.lib user32.lib wsock32.lib
>> advapi32.lib gdi32.lib
>> pgrdd.c
>> tpostgre.c
>> postgres.c
>> postgres.c (58): fatal error C1083: Can not open include file:
>> 'libpq-fe.h': No such file or directory
>> Generating Code ...
>>
>> Note the string "dflag:-Ic:\PostgresPlus\8.3\include.lib" in the line
>> above. I think he is confusing the -ldflag as the name of an
>> additional LIB.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From mbelgrano at deltain.it  Thu Mar 12 15:23:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 12 15:23:16 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <609353e70903121223q360642b5m1f4785123c5992b2@mail.gmail.com>

2009/3/12 Pritpal Bedi <bedipritpal@hotmail.com>:
>
I am using gtwvw, in a lot of recent small program , No problem adapting code
I Have a more big  application made in GTWVW and i am very interested
to port in gtwvg
Yes I am interested!!!


> My question is: How many of you are using GTWVG and are
> willing to adopt to new prorocol. Believe me, it will be very
> little effort to change the exiting code but the results will be
> truely rewarding. Once this is done, I may think to port
> GTWVW in GTWVG if get a substantial number of confirmations
> which may persuade me to port GTWVW.
>
> So please post your vote here under this thread so that I could
> make up my mind to port GTWVW. Please note, the number
> must be substancial.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22478907.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From ale.seribeli at ig.com.br  Thu Mar 12 16:01:51 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Thu Mar 12 16:01:55 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
Message-ID: <22466618.post@talk.nabble.com>


How to generate Ace32.lib?

My path is;
c: \ Ads \ acesdk \ Ace32.dll

thanks
Ale SB
-- 
View this message in context: http://www.nabble.com/ace32.-dll-To-ace32.lib----tp22466618p22466618.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Thu Mar 12 16:06:13 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Mar 12 16:06:32 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
In-Reply-To: <22466618.post@talk.nabble.com>
References: <22466618.post@talk.nabble.com>
Message-ID: <531d7a750903121306t5f686beme33d038cfc7d7cfc@mail.gmail.com>

With BCC use:

implib acr32.lib ace32.dll

Vailton Renato
From mbelgrano at deltain.it  Thu Mar 12 16:18:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 12 16:18:14 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
In-Reply-To: <22466618.post@talk.nabble.com>
References: <22466618.post@talk.nabble.com>
Message-ID: <609353e70903121318y72333b21h7385ec139bc1eda3@mail.gmail.com>

You can also made automatically using make_gnu
SET HB_INC_ADS=c:\ads\acesdk
set HB_DIR_IMPLIB=yes
set HB_DIR_ADS=c:\ads\acesdk

2009/3/12 Ale SB <ale.seribeli@ig.com.br>

>
> How to generate Ace32.lib?
>
> My path is;
> c: \ Ads \ acesdk \ Ace32.dll
>
> thanks
> Ale SB
> --
> View this message in context:
> http://www.nabble.com/ace32.-dll-To-ace32.lib----tp22466618p22466618.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090312/8c1b16e8/attachment.html
From phil at newstar.rinet.ru  Thu Mar 12 16:20:39 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Thu Mar 12 16:20:44 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <20090312131344.GA18646@uran.home.aster.pl>
References: <11798566.1551236861657186.JavaMail.root@zimbra-1.sigma-com.net>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<20090312131344.GA18646@uran.home.aster.pl>
Message-ID: <c10dbf450903121320i8f2a5d9g466c3dcf1fbb131e@mail.gmail.com>

On Thu, Mar 12, 2009 at 4:13 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> On Thu, 12 Mar 2009, Ernad Husremovic wrote:
>
> Hi,
>
>> Is it implemented similar to the qtRuby, qtPython ?
>> They are generating bindings automatically all the classes from the framework with some tools (cpp2xml, kalyptus, qtsmoke ..) ??
>> Maybe you have wrote that on your blog, but I don't understand spanish language :).
>> Great effort, thank you for sharing this.
>
> There is XBGTK project by Phil Krylov (see on sf.net) which
> generates [x]Harbour wrapper library for GTK automatically.
> The code generator is based on pygtk adopted for [x]Harbour.
> Anyhow seems that Phil does not have time to update it in
> last years.
> Such method of generating wrapper library seems to be the
> best choice in long terms.
> Maybe we should ask Phil about his plans to this library?
>
> Phil?

I plan to evolve xbgtk as needed. It's currently just enough for a
couple of my projects. However, I always welcome any fixes and
additions. Well it's really cool when you feed a .spec from new GTK+
version to the code generator, and it builds 85% of API wrappers
automatically and you only have to provide some extra overrides you
really need.

-- Ph.
From ftwein at yahoo.com.br  Thu Mar 12 16:51:58 2009
From: ftwein at yahoo.com.br (ftwein@yahoo.com.br)
Date: Thu Mar 12 17:00:09 2009
Subject: [Harbour] Re: GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <gpbsle$ol4$1@ger.gmane.org>

Hi,

I am interested.

Regards,

F.Trautwein

From mario at argoninformatica.com.br  Thu Mar 12 18:53:38 2009
From: mario at argoninformatica.com.br (Mario Simoes Filho)
Date: Thu Mar 12 19:05:08 2009
Subject: [Harbour] Re: GTWVG and Buffered Console
In-Reply-To: <609353e70903121223q360642b5m1f4785123c5992b2@mail.gmail.com>
References: <22478907.post@talk.nabble.com>
	<609353e70903121223q360642b5m1f4785123c5992b2@mail.gmail.com>
Message-ID: <gpc3pj$fd9$2@ger.gmane.org>

Hi

I have several systems running with gtwvw and I am very interested, I 
use a set of objects based wvw call wvwtools, it is available in 
http://www.xharbour.com/xhc/index.asp?page=xhc_download_detail.asp&type=dl&id=133&show_i=7&show_sub=1

Yes I am very interested!!!
thanks for attention


Massimo Belgrano escreveu:
> 2009/3/12 Pritpal Bedi <bedipritpal@hotmail.com>:
> I am using gtwvw, in a lot of recent small program , No problem adapting code
> I Have a more big  application made in GTWVW and i am very interested
> to port in gtwvg
> Yes I am interested!!!
> 
> 
>> My question is: How many of you are using GTWVG and are
>> willing to adopt to new prorocol. Believe me, it will be very
>> little effort to change the exiting code but the results will be
>> truely rewarding. Once this is done, I may think to port
>> GTWVW in GTWVG if get a substantial number of confirmations
>> which may persuade me to port GTWVW.
>>
>> So please post your vote here under this thread so that I could
>> make up my mind to port GTWVW. Please note, the number
>> must be substancial.
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22478907.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 

From harbour.01 at syenar.hu  Thu Mar 12 19:13:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 19:14:05 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
In-Reply-To: <609353e70903121318y72333b21h7385ec139bc1eda3@mail.gmail.com>
References: <22466618.post@talk.nabble.com>
	<609353e70903121318y72333b21h7385ec139bc1eda3@mail.gmail.com>
Message-ID: <18d502870903121613x6c04fff4t4f9f454b8dc9ef92@mail.gmail.com>

On Thu, Mar 12, 2009 at 9:18 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> You can also made automatically using make_gnu
> SET HB_INC_ADS=c:\ads\acesdk
> set HB_DIR_IMPLIB=yes
> set HB_DIR_ADS=c:\ads\acesdk
>

This is evolving yet, just yesterday HB_DIR_IMPLIB got changed
to HB_BUILD_IMPLIB. This is probably the final name. The HB_DIR
notation is still tentative, but working fine.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/d36319b6/attachment-0001.html
From ale.seribeli at ig.com.br  Thu Mar 12 20:06:30 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Thu Mar 12 20:06:34 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
In-Reply-To: <18d502870903121613x6c04fff4t4f9f454b8dc9ef92@mail.gmail.com>
References: <22466618.post@talk.nabble.com>
	<609353e70903121318y72333b21h7385ec139bc1eda3@mail.gmail.com>
	<18d502870903121613x6c04fff4t4f9f454b8dc9ef92@mail.gmail.com>
Message-ID: <22487774.post@talk.nabble.com>


Thanks, the same is correct:

Sep HB_BUILD_IMPLIB = yes

Ale SB
-- 
View this message in context: http://www.nabble.com/ace32.-dll-To-ace32.lib----tp22466618p22487774.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Mar 12 20:16:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 20:16:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10599] trunk/harbour
Message-ID: <E1Lhv4x-000683-Lv@c3vjzd1.ch3.sourceforge.com>

Revision: 10599
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10599&view=rev
Author:   vszakats
Date:     2009-03-13 00:16:46 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 01:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbgf/hbgfwin/winapi.c
    * Formatting.

  * contrib/hbwin/win_misc.c
    ! Fixed WIN_SHELLEXECUTE() for WinCE (converted to stub).
    ! Fixed WIN_RUNDETACHED() to compile with WinCE (4th parameter
      is ignored and fixed to CREATE_NEW_CONSOLE).

  * contrib/hbwin/win_regc.c
    ! HKEY_CURRENT_CONFIG disabled for WinCE builds.

  * source/rtl/gtwvt/gtwvt.c
    ! Complete "layered" window support disabled for WinCE builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbgf/hbgfwin/winapi.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_regc.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 12 20:38:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 20:38:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10600] trunk/harbour
Message-ID: <E1LhvQ2-000714-1t@c3vjzd1.ch3.sourceforge.com>

Revision: 10600
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10600&view=rev
Author:   vszakats
Date:     2009-03-13 00:38:33 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 01:36 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/dos/owatcom.cf
  * config/win/poccce.cf
  * config/win/pocc64.cf
  * config/win/owatcom.cf
  * config/win/pocc.cf
  * config/linux/owatcom.cf
  * config/os2/owatcom.cf
    ! Cleanups and fixes after yesterday's changes.
      Turned out that CFLAGS has an important and strange
      difference compared to CPPFLAGS: It's also passed to the
      _linker_ :( This should be cleaned in the future.
    ! HB_USER_LDFLAGS honored in dos/owatcom.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/pocc64.cf
    trunk/harbour/config/win/poccce.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 12 21:10:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 21:11:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10601] trunk/harbour
Message-ID: <E1LhvvN-0007dI-GY@c3vjzd1.ch3.sourceforge.com>

Revision: 10601
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10601&view=rev
Author:   vszakats
Date:     2009-03-13 01:10:56 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 01:45 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/wapi_commctrl.c
  * contrib/hbwin/wapi_winuser.c
    ! Lots of non-ANSI C comments converted to ANSI.
      (may I please ask to pay attention to this?)
    ! Fixed WAPI_GETSCROLLRANGE() return value.
    ! non-WinCE compatible functions converted to stubs
      when compiled for WinCE.
    * Formatting.

  * contrib/Makefile
  - contrib/hbgf
  + contrib/examples/hbgf
  * contrib/examples/hbgf/hbgfwin/Makefile
  * contrib/examples/hbgf/hbgfos2/Makefile
  * contrib/examples/hbgf/hbgfgtk/Makefile
  * contrib/examples/hbgf/Makefile
    * hbgf moved from contrib to examples.

  * contrib/examples/Makefile
    * Updated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/examples/Makefile
    trunk/harbour/contrib/examples/hbgf/Makefile
    trunk/harbour/contrib/examples/hbgf/hbgfgtk/Makefile
    trunk/harbour/contrib/examples/hbgf/hbgfos2/Makefile
    trunk/harbour/contrib/examples/hbgf/hbgfwin/Makefile
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c

Added Paths:
-----------
    trunk/harbour/contrib/examples/hbgf/

Removed Paths:
-------------
    trunk/harbour/contrib/hbgf/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 12 21:19:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 21:19:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10602] trunk/harbour
Message-ID: <E1Lhw3p-0007n7-HE@c3vjzd1.ch3.sourceforge.com>

Revision: 10602
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10602&view=rev
Author:   vszakats
Date:     2009-03-13 01:19:40 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 02:15 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/wapi_commctrl.c
    ! Fix to prev commit.

  * contrib/hbwin/win_ole.c
    ! Disabled whole code for WinCE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/win_ole.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ale.seribeli at ig.com.br  Thu Mar 12 21:22:12 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Thu Mar 12 21:22:15 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
In-Reply-To: <22487774.post@talk.nabble.com>
References: <22466618.post@talk.nabble.com>
	<609353e70903121318y72333b21h7385ec139bc1eda3@mail.gmail.com>
	<18d502870903121613x6c04fff4t4f9f454b8dc9ef92@mail.gmail.com>
	<22487774.post@talk.nabble.com>
Message-ID: <22488492.post@talk.nabble.com>


I detect a problem.
With MSVC, it was not possible to generate the Lib ace32.

This here is my make:
SET CC_DIR=c:\VC2008

SET INCLUDE=%CC_DIR%\INCLUDE;%INCLUDE%
SET LIB=%CC_DIR%\Lib;%LIB%

SET
LIBPATH=C:\WINDOWS\Microsoft.NET\Framework\v3.5;C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727;c:\VC2008\LIB;

set PATH=g:\svn\harbour;%CC_DIR%\Bin;C:\Arquivos de programas\Microsoft
Visual Studio 9.0\Common7\IDE;%PATH%

rem - debug test
rem set HB_BUILD_DEBUG=yes
rem set HB_TR_OUTPUT=hb_debug.txt
rem SET HB_TR_LEVEL=hb_tr_debug

set HB_INC_ADS=C:\ADS_8_1\acesdk
set HB_INC_FIREBIRD=C:\Firebird\include
set HB_INC_FREEIMAGE=g:\FreeImage\Dist

set HB_BUILD_IMPLIB=yes

set HB_DIR_ADS=C:\ADS_8_1\acesdk
set HB_DIR_FIREBIRD=C:\Firebird
set HB_DIR_FREEIMAGE=g:\FreeImage

set HB_BUILD_DLL=yes
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=g:\hbmsvc

Obrigado, Ale SB
-- 
View this message in context: http://www.nabble.com/ace32.-dll-To-ace32.lib----tp22466618p22488492.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar 12 21:23:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 21:23:18 2009
Subject: [Harbour] WinCE / poccce build warnings/errors
Message-ID: <18d502870903121823u3c5b8e73vd8fd8590f539cf0d@mail.gmail.com>

--- errors:
harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
../../wvgsink.c(106): fatal error #1035: Can't find include file <olectl.h>.
harbour\contrib\gtwvg\wvggui.h(76): fatal error #1035: Can't find include
file <olectl.h>.
harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
file <olectl.h>.
../../disk.c(144): error #2048: Undeclared identifier 'DRIVE_RAMDISK'.
../../disk.c(144): error #2045: Case label must be a constant integer
expression.
../../disk.c(147): error #2048: Undeclared identifier 'DRIVE_REMOVABLE'.
../../disk.c(147): error #2045: Case label must be a constant integer
expression.
../../disk.c(150): error #2048: Undeclared identifier 'DRIVE_FIXED'.
../../disk.c(150): error #2045: Case label must be a constant integer
expression.
../../disk.c(153): error #2048: Undeclared identifier 'DRIVE_CDROM'.
../../disk.c(153): error #2045: Case label must be a constant integer
expression.
../../disk.c(156): error #2048: Undeclared identifier 'DRIVE_REMOTE'.
../../disk.c(156): error #2045: Case label must be a constant integer
expression.
../../files.c(247): error #2048: Undeclared identifier 'OF_READWRITE'.
../../files.c(247): error #2048: Undeclared identifier 'OF_SHARE_COMPAT'.
../../getenvrn.c(177): error #2168: Operands of = have incompatible types
'wchar_t *' and 'int'.
../../odbc.c(92): fatal error #1035: Can't find include file <sql.h>.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): error #2168: Operands of =
have incompatible types '(incomplete) struct tm *' and 'int'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9937): error #2152: Unknown field
'tm_year' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9938): error #2152: Unknown field
'tm_mon' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9939): error #2152: Unknown field
'tm_mday' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9940): error #2152: Unknown field
'tm_hour' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9941): error #2152: Unknown field
'tm_min' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9942): error #2152: Unknown field
'tm_sec' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22136): error #2120:
Redeclaration of 'localtime' previously declared at
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): found '(incomplete) struct
tm * __cdecl function(const unsigned long int *)', expected 'int __cdecl
function()'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22137): error #2149: Undefined
size for 'y' with type '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22137): error #2149: Undefined
size for 'y' with type '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22147): error #2152: Unknown
field 'tm_year' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22148): error #2152: Unknown
field 'tm_mon' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22149): error #2152: Unknown
field 'tm_wday' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22150): error #2152: Unknown
field 'tm_mday' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22151): error #2152: Unknown
field 'tm_hour' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22152): error #2152: Unknown
field 'tm_min' of '(incomplete) struct tm'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(22153): error #2152: Unknown
field 'tm_sec' of '(incomplete) struct tm'.

--- warnings:
../../sha1.c(145): warning #2223: Unable to convert character '\u0080' to
codepage 1250; using default.
../../ctnet.c(119): warning #2027: Missing prototype for 'WNetGetLastError'.
../../ctnet.c(167): warning #2027: Missing prototype for
'WNetCancelConnection'.
../../ctnet.c(208): warning #2027: Missing prototype for
'WNetAddConnection'.
../../ctnet.c(210): warning #2027: Missing prototype for
'WNetAddConnection'.
../../ctnet.c(251): warning #2027: Missing prototype for
'WNetGetProviderName'.
../../ctnet.c(271): warning #2027: Missing prototype for
'WNetGetProviderName'.
../../disk.c(142): warning #2027: Missing prototype for 'GetDriveType'.
../../disk.c(257): warning #2027: Missing prototype for 'SetVolumeLabel'.
../../disk.c(283): warning #2027: Missing prototype for
'GetVolumeInformation'.
../../disk.c(320): warning #2027: Missing prototype for
'GetVolumeInformation'.
../../disk.c(350): warning #2027: Missing prototype for 'GetFullPathName'.
../../files.c(247): warning #2027: Missing prototype for '_lopen'.
../../files.c(268): warning #2027: Missing prototype for '_lclose'.
../../getenvrn.c(177): warning #2027: Missing prototype for
'GetEnvironmentStrings'.
../../getenvrn.c(246): warning #2027: Missing prototype for
'FreeEnvironmentStrings'.
harbour\contrib\hbsqlit3\sqlite3\sqlite3.c(9936): warning #2027: Missing
prototype for 'localtime'.
../../tpwin.c(75): warning #2027: Missing prototype for 'BuildCommDCB'.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/65a5ce5d/attachment-0001.html
From bedipritpal at hotmail.com  Thu Mar 12 21:31:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 12 21:31:46 2009
Subject: [Harbour] WinCE / poccce build warnings/errors
In-Reply-To: <18d502870903121823u3c5b8e73vd8fd8590f539cf0d@mail.gmail.com>
References: <18d502870903121823u3c5b8e73vd8fd8590f539cf0d@mail.gmail.com>
Message-ID: <22488567.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> --- errors:
> harbour\contrib\gtwvg\gtwvg.h(78): fatal error #1035: Can't find include
> file <olectl.h>.
> 

This header is not available in WinCE. 
As GTWVG takes use of < IPicture > structure
extensively, I am afraid GTWVG have to be commented
out for default WinCE builds.

As this construct is used at many places, and even if 
it is commented out, there are many more constructs are 
in use which have to be disabled. So then the basics of GTWVG 
are gone. 

If someone has to develop WinCE applns the only option
stands is GTWVT.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/WinCE---poccce-build-warnings-errors-tp22488499p22488567.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar 12 21:42:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 21:42:20 2009
Subject: [Harbour] WinCE / poccce build warnings/errors
In-Reply-To: <22488567.post@talk.nabble.com>
References: <18d502870903121823u3c5b8e73vd8fd8590f539cf0d@mail.gmail.com>
	<22488567.post@talk.nabble.com>
Message-ID: <18d502870903121842y7d2f7e01ibbf895dcc0571dde@mail.gmail.com>

Hi Pritpal,


> This header is not available in WinCE.
> As GTWVG takes use of < IPicture > structure
> extensively, I am afraid GTWVG have to be commented
> out for default WinCE builds.
>
> As this construct is used at many places, and even if
> it is commented out, there are many more constructs are
> in use which have to be disabled. So then the basics of GTWVG
> are gone.
>
> If someone has to develop WinCE applns the only option
> stands is GTWVT.


Anyway please make sure that GTWVG can be built
in WinCE mode. Look what I've done with win_ole.c,
simply exclude content in CE mode. This is the quick
& dirtiest method, doesn't solve GTWVG WinCE
compatibility, better than leaving it like it is now.

It's not an option that because GTWVG (or any other
contribs) the whole Harbour build for WinCE breaks. In
practice that means that _no_ contribs (except maybe
gtalleg) are being built and the make process cannot
complete, installer isn't generated, etc etc.

This is a general rule for all Windows development
inside Harbour. It MUST compile in WinCE mode,
it must also compile in UNICODE, C++ and Win64
mode. [ as a next step it should also _work_ in these
modes, but for now I'm interested in successful builds. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/f39724ea/attachment.html
From budyanto at centrin.net.id  Thu Mar 12 21:42:39 2009
From: budyanto at centrin.net.id (Budyanto Dj.)
Date: Thu Mar 12 21:44:50 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
Message-ID: <49BA1C7F.22150.90DA012@localhost>

Hi Pritpal,

> My question is: How many of you are using GTWVG and are
> willing to adopt to new prorocol. Believe me, it will be very 
> little effort to change the exiting code but the results will be
> truely rewarding. Once this is done, I may think to port 
> GTWVW in GTWVG if get a substantial number of confirmations

I've never tried GTWVG, and I am not sure what you mean by "port GTWVW in GTWVG". 

If you mean revising (or rewriting) GTWVW into Harbour, then I'll be very much interested, as well as 
many others. But please keep it backward compatible as much as possible. I remember you said here 
in the past that GTWVW is "impossible" to port to the new GT API because there is a conflict with 
GTWVW's use of first parameter as window designator (for most functions). Do you finally find a way 
to solve that problem? Or do you plan change the convention in GTWVW? (I hope it is the former.)

Am I interpreting it right with what you mean by "porting GTWVW in GTWVG"?

Thanks and regards,
budyanto

From harbour.01 at syenar.hu  Thu Mar 12 21:46:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 21:46:05 2009
Subject: [Harbour] ace32. dll To ace32.lib ??
In-Reply-To: <22488492.post@talk.nabble.com>
References: <22466618.post@talk.nabble.com>
	<609353e70903121318y72333b21h7385ec139bc1eda3@mail.gmail.com>
	<18d502870903121613x6c04fff4t4f9f454b8dc9ef92@mail.gmail.com>
	<22487774.post@talk.nabble.com> <22488492.post@talk.nabble.com>
Message-ID: <18d502870903121846k69bce659xb79c8a4d29e5f24@mail.gmail.com>

I cannot tell what's wrong with your setup. I'd suggest to use the recently
posted sample scripts as a start for
your own script, to rule out any possible differences.

Maybe you don't use make_gnu.bat, so HB_LIB_INSTALL isn't defined, and can
also double check your paths.

I've just tried it locally and ace32.lib is properly copied. I
said copied, because in case of MSVC, Harbour is simply
copying the ADS supplied .lib to the Harbour dir, nothing else
is done.
Look at line 77 of bin/postinst.bat.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 2:22 AM, Ale SB <ale.seribeli@ig.com.br> wrote:

>
> I detect a problem.
> With MSVC, it was not possible to generate the Lib ace32.
>
> This here is my make:
> SET CC_DIR=c:\VC2008
>
> SET INCLUDE=%CC_DIR%\INCLUDE;%INCLUDE%
> SET LIB=%CC_DIR%\Lib;%LIB%
>
> SET
>
> LIBPATH=C:\WINDOWS\Microsoft.NET\Framework\v3.5;C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727;c:\VC2008\LIB;
>
> set PATH=g:\svn\harbour;%CC_DIR%\Bin;C:\Arquivos de programas\Microsoft
> Visual Studio 9.0\Common7\IDE;%PATH%
>
> rem - debug test
> rem set HB_BUILD_DEBUG=yes
> rem set HB_TR_OUTPUT=hb_debug.txt
> rem SET HB_TR_LEVEL=hb_tr_debug
>
> set HB_INC_ADS=C:\ADS_8_1\acesdk
> set HB_INC_FIREBIRD=C:\Firebird\include
> set HB_INC_FREEIMAGE=g:\FreeImage\Dist
>
> set HB_BUILD_IMPLIB=yes
>
> set HB_DIR_ADS=C:\ADS_8_1\acesdk
> set HB_DIR_FIREBIRD=C:\Firebird
> set HB_DIR_FREEIMAGE=g:\FreeImage
>
> set HB_BUILD_DLL=yes
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=g:\hbmsvc
>
> Obrigado, Ale SB
> --
> View this message in context:
> http://www.nabble.com/ace32.-dll-To-ace32.lib----tp22466618p22488492.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/3ca57fb2/attachment.html
From budyanto at centrin.net.id  Thu Mar 12 21:54:20 2009
From: budyanto at centrin.net.id (Budyanto Dj.)
Date: Thu Mar 12 21:56:12 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22483356.post@talk.nabble.com>
References: <20090312163701.GB25193@uran.home.aster.pl>
Message-ID: <49BA1F3C.16485.918525A@localhost>

On 12 Mar 2009 at 12:04, Pritpal Bedi wrote:
> > Please note that using CTWin like API in practice eliminates
> > SAVESCREEN/RESTSCREEN making the whole code much simpler.
> > GTWVW was addressing this aspect.
> > 
> 
> I never used CTWIN so cannot comment. GTWVW is aimed 
> as you described but with a different approach.

Yes, as Przemek said, in gtwvw we rarely do savescreen/restscreen since we use windowing 
mechanism to displaying overlapping info on screen.

In other cases where we do need to do savescreen/restscreen, gtwvw app need not care about native 
GUI controls (pushbuttons, toolbars, textboxes, etc) as they are on different layer (kept by Windows). 
As for bitmaps and other elements drawn as "pseudo GUI elements", yes we have to do tricky way to 
save/restore them in gtwvw.

> > As long as user does not try to manipulate the contents of
> > the screen buffer returned by savescreen then it should not
> > cause any problems. Anyhow some window oriented GTs like
> > CTWIN will not work correctly because they use own itenral
> > buffers which are character oriented. They will have to be
> > modified to work with bit map screen buffers what is not easy
> > job but it's possible. Though probably it will be easier to
> > leave CTW as is and create new similar GT for GTWVG and other
> > GTs which will operate on bitmaps.
> > 
> 
> I am not touching SaveScreen() and restScreen() so it will bot be 
> a problem at all.

Yes, I agree that savescreen()/restscreen() must be backward compatible. Many applications (and 
libraries) I know doing things with the buffer returned by savescreen. Or even creating a buffer "by 
hand" and later display it using restscreen().


> > I think that many people will find it as very interesting.
> > 
> > I use Windows Harbour builds very seldom so I'm not good person to
> > answer but looking at xharbour.news I'm finding that many people are
> > intersting in GTWVW port.
> > 
> 
> I also think so. But as I am not a user of GTWVW, I cannot port 
> it as is. Rather I will port the concept in GTWVW.

In the other email you said "port GTWVW in GTWVG", and here you say "port the concept in 
GTWVW"... I believe yo do mean the same thing with that two different clause :-).
But, can you please explain in more detail? What are going to be changed and where?

Thanks and regards,
budyanto

From vszakats at users.sourceforge.net  Thu Mar 12 22:22:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 12 22:22:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10603] trunk/harbour
Message-ID: <E1Lhx2E-0006a0-8F@3kljzd1.ch3.sourceforge.com>

Revision: 10603
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10603&view=rev
Author:   vszakats
Date:     2009-03-13 02:22:05 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 03:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/rddsql/sddpg/pgsqldd.c
    ! MSVC C++ potentially uninit'ed var warning fixed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 12 22:28:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 12 22:28:41 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with other
	codes
In-Reply-To: <1236871709077-2468019.post@n2.nabble.com>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
	<1236871709077-2468019.post@n2.nabble.com>
Message-ID: <18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>

Can't make it work here in a default Harbour build.
Tried plain Inkey() and Inkey( 0, INKEY_ALL + INKEY_EXTENDED ).
<Ctrl+A> always returnes 1.

Brgds,
Viktor

On Thu, Mar 12, 2009 at 4:28 PM, AbeB <abe.buch@att.net> wrote:

>
> the K_CTRL_* are already implemented. I had cut the following from
> xharbour's
> setkey.ch into harbour's
> and rebuild harbour, and it just works (in GTWVT).
>
> i don't know about K_SH_* key's
>
> in xharbour it's selected by #defining HB_EXT_INKEY when building xharbour.
>
>
>
> Viktor Szak?ts wrote:
> >
> > This would be good, especially since on certain GTs the number of usable
> > keys are scarce (no Alt+ combinations f.e.), so enabling these
> > CTRL keys could certainly help on shortcut congestion. But users should
> > enable it explicitly by using INKEY_ flag to keep Clipper compatibility.
> >
> > I don't know what it takes to implement it though.
> >
> > Brgds,
> > Viktor
> >
> > On Sun, Mar 8, 2009 at 6:26 PM, AbeB <abe.buch@att.net> wrote:
> >
> >>
> >> can the following be an option in inkey.ch ( it's from xHarbour)
> >>
> >> /* New control keys that do not overlap with other codes */
> >>
> >> #define K_CTRL_A                513   /*   Ctrl-A
> >> */
> >> #define K_CTRL_B                514   /*   Ctrl-B
> >> */
> >> #define K_CTRL_C                515   /*   Ctrl-C
> >> */
> >> #define K_CTRL_D                516   /*   Ctrl-D
> >> */
> >> #define K_CTRL_E                517   /*   Ctrl-E
> >> */
> >> #define K_CTRL_F                518   /*   Ctrl-F
> >> */
> >> #define K_CTRL_G                519   /*   Ctrl-G
> >> */
> >> #define K_CTRL_H                520   /*   Ctrl-H
> >> */
> >> #define K_CTRL_I                521   /*   Ctrl-I
> >> */
> >> #define K_CTRL_J                522   /*   Ctrl-J
> >> */
> >> #define K_CTRL_K                523   /*   Ctrl-K
> >> */
> >> #define K_CTRL_L                524   /*   Ctrl-L
> >> */
> >> #define K_CTRL_M                525   /*   Ctrl-M
> >> */
> >> #define K_CTRL_N                526   /*   Ctrl-N
> >> */
> >> #define K_CTRL_O                527   /*   Ctrl-O
> >> */
> >> #define K_CTRL_P                528   /*   Ctrl-P
> >> */
> >> #define K_CTRL_Q                529   /*   Ctrl-Q
> >> */
> >> #define K_CTRL_R                530   /*   Ctrl-R
> >> */
> >> #define K_CTRL_S                531   /*   Ctrl-S
> >> */
> >> #define K_CTRL_T                532   /*   Ctrl-T
> >> */
> >> #define K_CTRL_U                533   /*   Ctrl-U
> >> */
> >> #define K_CTRL_V                534   /*   Ctrl-V
> >> */
> >> #define K_CTRL_W                535   /*   Ctrl-W
> >> */
> >> #define K_CTRL_X                536   /*   Ctrl-X
> >> */
> >> #define K_CTRL_Y                537   /*   Ctrl-Y
> >> */
> >> #define K_CTRL_Z                538   /*   Ctrl-Z
> >> */
> >>
> >> /* extended shift key codes, none in  Clipper */
> >>
> >> #define K_SH_LEFT               424   /* * Shift-Left
> >> */
> >> #define K_SH_UP                 425   /* * Shift-Up
> >> */
> >> #define K_SH_RIGHT              426   /* * Shift-Right
> >> */
> >> #define K_SH_DOWN               427   /* * Shift-Down
> >> */
> >>
> >> #define K_SH_INS                428   /* * Shift-Ins
> >> */
> >> #define K_SH_DEL                429   /* * Shift-Del
> >> */
> >> #define K_SH_HOME               430   /* * Shift-Home
> >> */
> >> #define K_SH_END                431   /* * Shift-End
> >> */
> >> #define K_SH_PGUP               432   /* * Shift-PgUp
> >> */
> >> #define K_SH_PGDN               433   /* * Shift-PgDn
> >> */
> >>
> >> #define K_SH_RETURN             434   /* * Shift-Enter
> >> */
> >> #define K_SH_ENTER              434   /* * Shift-Enter
> >> */
> >>
> >>
> >> --
> >> View this message in context:
> >>
> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2445208.html
> >> Sent from the harbour-devel mailing list archive at Nabble.com.
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
> --
> View this message in context:
> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2468019.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/608b0e00/attachment-0001.html
From philb at philb.us  Fri Mar 13 00:49:08 2009
From: philb at philb.us (Phil Barnett)
Date: Fri Mar 13 00:49:13 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
Message-ID: <49B9E5C4.1040605@philb.us>

Viktor Szak?ts wrote:
> Hi all,
>
> What is the difference between GPL + Harbour exception and LGPL?
>
> I reckon LGPL wasn't nearly available when Harbour was born, so we 
> had to come up with our own solution, but since now LGPL is around, 
> shouldn't we consider switching our unique license to this standard one?
>
> For me these look fundamentally the same, and I'm ready to 
> transition my own copyrighted material to LGPL if this thinking is 
> right. (of course I mean only current GPL+exception parts).
>
> Using a standard license could probably help in the acceptance and 
> evaluation of this project by 3rd parties (even Linux distros).
>
> Any opinions or insight on this?
The reason for the Harbour exception was so that we could include the 
macro compiler inside distributed executables without violating the GPL.
From harbour.01 at syenar.hu  Fri Mar 13 05:18:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 05:18:18 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <49B9E5C4.1040605@philb.us>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
	<49B9E5C4.1040605@philb.us>
Message-ID: <18d502870903130218i29560155id30fb81f6b9385bb@mail.gmail.com>

Thank you Phil, that explains it.
[ Probably we won't find a standard license, as macro is a quite
unique feature. ]
Brgds,
Viktor

On Fri, Mar 13, 2009 at 5:49 AM, Phil Barnett <philb@philb.us> wrote:

> Viktor Szak?ts wrote:
>
>> Hi all,
>>
>> What is the difference between GPL + Harbour exception and LGPL?
>>
>> I reckon LGPL wasn't nearly available when Harbour was born, so we had to
>> come up with our own solution, but since now LGPL is around, shouldn't we
>> consider switching our unique license to this standard one?
>>
>> For me these look fundamentally the same, and I'm ready to transition my
>> own copyrighted material to LGPL if this thinking is right. (of course I
>> mean only current GPL+exception parts).
>>
>> Using a standard license could probably help in the acceptance and
>> evaluation of this project by 3rd parties (even Linux distros).
>>
>> Any opinions or insight on this?
>>
> The reason for the Harbour exception was so that we could include the macro
> compiler inside distributed executables without violating the GPL.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/e478e975/attachment.html
From jfl at mafact.com  Fri Mar 13 05:51:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Mar 13 05:51:54 2009
Subject: [Harbour] problem with new make system
Message-ID: <533c24e5.1c9a3c1.27dff06.29@mafact.com>

Hi,

I tried to compile harbour with MSVC 2008 and created one batch to do so like the following ;

REM --- MSVC 2008 + SDK
set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
set HB_ARCHITECTURE=win
set HB_GT_LIB=gtwin
set HB_INC_ADS=e:\ads81\api\acesdk
set HB_BIN_INSTALL=t:\fwh\harbour\bin
set HB_LIB_INSTALL=t:\fwh\harbour\lib
set HB_INC_INSTALL=t:\fwh\harbour\include
rem
set PATH=D:\Util\make;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1

calling it with clean, it work for some seconds and end without error or message.

Now if I call it without param or with all I receive the following :

make.exe: Nothing to be done for `all'.

What am'I missing ?

Thanks in advance,

JF,


From desenv at s2info.com.br  Thu Mar 12 17:27:11 2009
From: desenv at s2info.com.br (FabioNery)
Date: Fri Mar 13 06:15:09 2009
Subject: [Harbour] Re: GTWVG and Buffered Console
References: <22478907.post@talk.nabble.com>
Message-ID: <gpbv0b$1dp$1@ger.gmane.org>

Hi,

I am interested, too.

Regards,
FabioNery

"Pritpal Bedi" <bedipritpal@hotmail.com> 
escreveu na mensagem news:22478907.post@talk.nabble.com...
>
> Hello Everybody
>
> I am almost done with buffered console on GTWVG.
>
> By "buffered console" I mean all paint operations are
> done in memory and only final output is transferred to
> console on screen. In Clipper parlance you can
> think it synonymous as DispBegin()/DispEnd() but
> not exactly the same. Under this protocol you may
> experience a very smooth window even with verycomplx
> GUI elements, i.e., bitmaps, gradient rectangles, boxes, etc.
> No more flickering.
>
> It may need some tweaking in the existing code which
> primarily exploits overlapping windows as with
> SaveScreen() | RestScreen() mechanism. One has to
> upgrade his code to use multiple consoles. I have  a demo
> in place to show this.
>
> My question is: How many of you are using GTWVG and are
> willing to adopt to new prorocol. Believe me, it will be very
> little effort to change the exiting code but the results will be
> truely rewarding. Once this is done, I may think to port
> GTWVW in GTWVG if get a substantial number of confirmations
> which may persuade me to port GTWVW.
>
> So please post your vote here under this thread so that I could
> make up my mind to port GTWVW. Please note, the number
> must be substancial.
>
> Regards
> Pritpal Bedi
>
> -- 
> View this message in context: 
> http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22478907.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 



From jfl at mafact.com  Fri Mar 13 06:16:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Mar 13 06:16:41 2009
Subject: [Harbour] problem with new make system (SOLVED)
Message-ID: <c80ce95c.1c9a3c4.294a5bb.4823@mafact.com>

Ok,

I just had to use GNU make.exe version 3.81 in place of 3.75.

Doc should be changed about the minimum release needed.

Regards,

JF 

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de J. Lefebvre
Envoy??: vendredi 13 mars 2009 10:51
??: 'Harbour Project Main Developer List.'
Objet?: [Harbour] problem with new make system

Hi,

I tried to compile harbour with MSVC 2008 and created one batch to do so like the following ;

REM --- MSVC 2008 + SDK
set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
set HB_ARCHITECTURE=win
set HB_GT_LIB=gtwin
set HB_INC_ADS=e:\ads81\api\acesdk
set HB_BIN_INSTALL=t:\fwh\harbour\bin
set HB_LIB_INSTALL=t:\fwh\harbour\lib
set HB_INC_INSTALL=t:\fwh\harbour\include
rem
set PATH=D:\Util\make;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1

calling it with clean, it work for some seconds and end without error or message.

Now if I call it without param or with all I receive the following :

make.exe: Nothing to be done for `all'.

What am'I missing ?

Thanks in advance,

JF,


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


From makis1970 at gmail.com  Fri Mar 13 06:21:11 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Fri Mar 13 06:28:24 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <006c01c9a3c5$7045fed0$50d1fc70$@com>

Hi Pritbal,
I'm also very interested for gtwvw port. I have also an extended version of
GTWVW that I can send you (Ownerdrawn push buttons), more controls on
statusbar, real window background, shrink font on resize (almost without
flickering) Move subwindows concurrently with main window etc.

Brgds
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Thursday, March 12, 2009 5:51 PM
To: harbour@harbour-project.org
Subject: [Harbour] GTWVG and Buffered Console


Hello Everybody

I am almost done with buffered console on GTWVG.

By "buffered console" I mean all paint operations are
done in memory and only final output is transferred to 
console on screen. In Clipper parlance you can 
think it synonymous as DispBegin()/DispEnd() but 
not exactly the same. Under this protocol you may 
experience a very smooth window even with verycomplx
GUI elements, i.e., bitmaps, gradient rectangles, boxes, etc.
No more flickering.

It may need some tweaking in the existing code which 
primarily exploits overlapping windows as with 
SaveScreen() | RestScreen() mechanism. One has to 
upgrade his code to use multiple consoles. I have  a demo
in place to show this.

My question is: How many of you are using GTWVG and are
willing to adopt to new prorocol. Believe me, it will be very 
little effort to change the exiting code but the results will be
truely rewarding. Once this is done, I may think to port 
GTWVW in GTWVG if get a substantial number of confirmations
which may persuade me to port GTWVW.

So please post your vote here under this thread so that I could
make up my mind to port GTWVW. Please note, the number
must be substancial.

Regards
Pritpal Bedi

-- 
View this message in context:
http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22478907.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Mar 13 06:28:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 06:28:35 2009
Subject: [Harbour] problem with new make system (SOLVED)
In-Reply-To: <c80ce95c.1c9a3c4.294a5bb.4823@mafact.com>
References: <c80ce95c.1c9a3c4.294a5bb.4823@mafact.com>
Message-ID: <18d502870903130328y60c33356w3d4fc5d1a947a2be@mail.gmail.com>

Hi JF,
Thanks, that was suspect. The recommended make.exe is
already linked it and documented in detail. I'm afraid it's not
only the version number, but also the build of make, so I'm
at this point unsure what to exactly document here, anyhow
3.75 is indeed very old and most probably not a MinGW build,
so I'll put there we require newer version.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 11:16 AM, J. Lefebvre <jfl@mafact.com> wrote:

> Ok,
>
> I just had to use GNU make.exe version 3.81 in place of 3.75.
>
> Doc should be changed about the minimum release needed.
>
> Regards,
>
> JF
>
> -----Message d'origine-----
> De : harbour-bounces@harbour-project.org [mailto:
> harbour-bounces@harbour-project.org] De la part de J. Lefebvre
> Envoy? : vendredi 13 mars 2009 10:51
> ? : 'Harbour Project Main Developer List.'
> Objet : [Harbour] problem with new make system
>
> Hi,
>
> I tried to compile harbour with MSVC 2008 and created one batch to do so
> like the following ;
>
> REM --- MSVC 2008 + SDK
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> set HB_ARCHITECTURE=win
> set HB_GT_LIB=gtwin
> set HB_INC_ADS=e:\ads81\api\acesdk
> set HB_BIN_INSTALL=t:\fwh\harbour\bin
> set HB_LIB_INSTALL=t:\fwh\harbour\lib
> set HB_INC_INSTALL=t:\fwh\harbour\include
> rem
> set PATH=D:\Util\make;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>
> calling it with clean, it work for some seconds and end without error or
> message.
>
> Now if I call it without param or with all I receive the following :
>
> make.exe: Nothing to be done for `all'.
>
> What am'I missing ?
>
> Thanks in advance,
>
> JF,
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/41fbfbfc/attachment-0001.html
From jfl at mafact.com  Fri Mar 13 06:45:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Mar 13 06:45:13 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
Message-ID: <c548f8c7.1c9a3c8.2aeca7b.abd@mafact.com>

Hi,
 
Ok, now nearly all is correctly compiling, but the last svn version give me that unresolved in hbrtl.lib:
 
D:\SourceForge\Harbour\utils\hbrun>if not exist win\msvc\. md win\msvc 
make.exe[3]: Entering directory `D:/SourceForge/Harbour/utils/hbrun/win/msvc'
cl.exe -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c- -MT -Fehbrun.exe hbrun.obj /link /libpath:../../../../lib/win/msvc user32.lib wsock32.lib advapi32.lib gdi32.lib    hbextern.lib  hbdebug.lib  hbvm.lib  hbrtl.lib  hblang.lib  hbcpage.lib  hbrdd.lib  hbrtl.lib  hbvm.lib  hbmacro.lib  hbpp.lib  hbcplr.lib  hbcommon.lib  hbpcre.lib  hbzlib.lib  rddntx.lib  rddnsx.lib  rddcdx.lib  rddfpt.lib  hbsix.lib  hbhsx.lib  hbusrrdd.lib  hbuddall.lib  gtcgi.lib  gtpca.lib  gtstd.lib  gtwin.lib  gtwvt.lib  gtgui.lib
hbrtl.lib(teditor.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(ttextlin.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrdd.lib(rddordu.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(memoedit.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tgetlist.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tmenusys.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(scrollbr.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(listbox.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(checkbox.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(treport.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tlabel.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(radiobtn.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(pushbtn.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tpopup.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tmenuitm.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(gui.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(getsys53.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(ttopbar.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(radiogrp.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tscalar.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tthreadx.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tgetx.obj) : error LNK2019: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED referenced in function _HB_FUN_XPP_GET
hbrtl.lib(menusys.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(getsys.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tbcolumn.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tbrowse.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tget.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrun.exe : fatal error LNK1120: 1 unresolved externals
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/541c2d9d/attachment.html
From harbour.01 at syenar.hu  Fri Mar 13 07:13:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 07:14:11 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
In-Reply-To: <c548f8c7.1c9a3c8.2aeca7b.abd@mafact.com>
References: <c548f8c7.1c9a3c8.2aeca7b.abd@mafact.com>
Message-ID: <18d502870903130413n6eb72f96j3822c1f5f8928c4d@mail.gmail.com>

First make sure to make fresh checkout of the latest Harbour
revision and a clean build.

If you still have this problem, please tell us, how are you overriding
std.ch at build time?

Brgds,
Viktor

On Fri, Mar 13, 2009 at 11:45 AM, J. Lefebvre <jfl@mafact.com> wrote:

>   Hi,
>
>
>
> Ok, now nearly all is correctly compiling, but the last svn version give me
> that unresolved in hbrtl.lib:
>
>
>
> D:\SourceForge\Harbour\utils\hbrun>if not exist win\msvc\. md win\msvc
>
> make.exe[3]: Entering directory
> `D:/SourceForge/Harbour/utils/hbrun/win/msvc'
>
> cl.exe -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c- -MT -Fehbrun.exe hbrun.obj
> /link /libpath:../../../../lib/win/msvc user32.lib wsock32.lib advapi32.lib
> gdi32.lib    hbextern.lib  hbdebug.lib  hbvm.lib  hbrtl.lib  hblang.lib
> hbcpage.lib  hbrdd.lib  hbrtl.lib  hbvm.lib  hbmacro.lib  hbpp.lib
> hbcplr.lib  hbcommon.lib  hbpcre.lib  hbzlib.lib  rddntx.lib  rddnsx.lib
> rddcdx.lib  rddfpt.lib  hbsix.lib  hbhsx.lib  hbusrrdd.lib  hbuddall.lib
> gtcgi.lib  gtpca.lib  gtstd.lib  gtwin.lib  gtwvt.lib  gtgui.lib
>
> hbrtl.lib(teditor.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(ttextlin.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrdd.lib(rddordu.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(memoedit.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tgetlist.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tmenusys.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(scrollbr.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(listbox.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(checkbox.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(treport.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tlabel.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(radiobtn.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(pushbtn.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tpopup.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tmenuitm.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(gui.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(getsys53.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(ttopbar.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(radiogrp.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tscalar.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tthreadx.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tgetx.obj) : error LNK2019: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED referenced in function _HB_FUN_XPP_GET
>
> hbrtl.lib(menusys.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(getsys.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tbcolumn.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tbrowse.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tget.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrun.exe : fatal error LNK1120: 1 unresolved externals
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/f47ed362/attachment.html
From druzus at acn.waw.pl  Fri Mar 13 07:20:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 07:14:27 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <49B9E5C4.1040605@philb.us>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
	<49B9E5C4.1040605@philb.us>
Message-ID: <20090313112017.GA26427@uran.home.aster.pl>

On Fri, 13 Mar 2009, Phil Barnett wrote:

Hi Phil,

> The reason for the Harbour exception was so that we could include the macro 
> compiler inside distributed executables without violating the GPL.

Can you explain it?

The macro compiler code is on exactly the same license as rest of Harbour
HVM/RTL code.
I do not ubnderstand why it needs some special excpetion and other things
not.

best regards,
Przemek
From jfl at mafact.com  Fri Mar 13 07:33:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Mar 13 07:33:43 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
	(SOLVED)
Message-ID: <8a6fcfe7.1c9a3cf.2db2893.2a45@mafact.com>

Ok, my fault .
 
I had an old std.ch within my include env. Var before the new harbour one . L
 
Sorry,
 
JF
 
De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy? : vendredi 13 mars 2009 12:14
? : Harbour Project Main Developer List.
Objet : Re: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
 
First make sure to make fresh checkout of the latest Harbour 
revision and a clean build.
 
If you still have this problem, please tell us, how are you overriding 
std.ch at build time?
 
Brgds,
Viktor
On Fri, Mar 13, 2009 at 11:45 AM, J. Lefebvre <jfl@mafact.com> wrote:
Hi,
 
Ok, now nearly all is correctly compiling, but the last svn version give me that unresolved in hbrtl.lib:
 
D:\SourceForge\Harbour\utils\hbrun>if not exist win\msvc\. md win\msvc 
make.exe[3]: Entering directory `D:/SourceForge/Harbour/utils/hbrun/win/msvc'
cl.exe -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c- -MT -Fehbrun.exe hbrun.obj /link /libpath:../../../../lib/win/msvc user32.lib wsock32.lib advapi32.lib gdi32.lib    hbextern.lib  hbdebug.lib  hbvm.lib  hbrtl.lib  hblang.lib  hbcpage.lib  hbrdd.lib  hbrtl.lib  hbvm.lib  hbmacro.lib  hbpp.lib  hbcplr.lib  hbcommon.lib  hbpcre.lib  hbzlib.lib  rddntx.lib  rddnsx.lib  rddcdx.lib  rddfpt.lib  hbsix.lib  hbhsx.lib  hbusrrdd.lib  hbuddall.lib  gtcgi.lib  gtpca.lib  gtstd.lib  gtwin.lib  gtwvt.lib  gtgui.lib
hbrtl.lib(teditor.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(ttextlin.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrdd.lib(rddordu.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(memoedit.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tgetlist.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tmenusys.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(scrollbr.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(listbox.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(checkbox.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(treport.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tlabel.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(radiobtn.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(pushbtn.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tpopup.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tmenuitm.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(gui.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(getsys53.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(ttopbar.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(radiogrp.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tscalar.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tthreadx.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tgetx.obj) : error LNK2019: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED referenced in function _HB_FUN_XPP_GET
hbrtl.lib(menusys.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(getsys.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tbcolumn.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tbrowse.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrtl.lib(tget.obj) : error LNK2001: unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
hbrun.exe : fatal error LNK1120: 1 unresolved externals

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/b73a1eea/attachment.html
From harbour.01 at syenar.hu  Fri Mar 13 07:41:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 07:41:55 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED 
	(SOLVED)
In-Reply-To: <8a6fcfe7.1c9a3cf.2db2893.2a45@mafact.com>
References: <8a6fcfe7.1c9a3cf.2db2893.2a45@mafact.com>
Message-ID: <18d502870903130441i7b4209bet427c33c309c24662@mail.gmail.com>

Thanks.
Perhaps we would need a Harbour compiler switch to force to
ignore all envvars (CLIPPER, HARBOUR, INCLUDE), named
-noenv. This would be a safe way to create builds which are for
sure okay and eliminating all these problems.

Unfortunately it's not an option to clear INCLUDE envvar in
make_gnu.bat, as it may be needed by some C compilers.

Przemek, what do you think?

Brgds,
Viktor

On Fri, Mar 13, 2009 at 12:33 PM, J. Lefebvre <jfl@mafact.com> wrote:

>  Ok, my fault ?
>
>
>
> I had an old std.ch within my include env. Var before the new harbour one ?
> L
>
>
>
> Sorry,
>
>
>
> JF
>
>
>
> *De :* harbour-bounces@harbour-project.org [mailto:
> harbour-bounces@harbour-project.org] *De la part de* Viktor Szak?ts
> *Envoy? :* vendredi 13 mars 2009 12:14
> *? :* Harbour Project Main Developer List.
> *Objet :* Re: [Harbour] unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
>
>
> First make sure to make fresh checkout of the latest Harbour
>
> revision and a clean build.
>
>
>
> If you still have this problem, please tell us, how are you overriding
>
> std.ch at build time?
>
>
>
> Brgds,
>
> Viktor
>
> On Fri, Mar 13, 2009 at 11:45 AM, J. Lefebvre <jfl@mafact.com> wrote:
>
> Hi,
>
>
>
> Ok, now nearly all is correctly compiling, but the last svn version give me
> that unresolved in hbrtl.lib:
>
>
>
> D:\SourceForge\Harbour\utils\hbrun>if not exist win\msvc\. md win\msvc
>
> make.exe[3]: Entering directory
> `D:/SourceForge/Harbour/utils/hbrun/win/msvc'
>
> cl.exe -nologo -W4 -wd4127 -Gs -Ot2b1 -EHs-c- -MT -Fehbrun.exe hbrun.obj
> /link /libpath:../../../../lib/win/msvc user32.lib wsock32.lib advapi32.lib
> gdi32.lib    hbextern.lib  hbdebug.lib  hbvm.lib  hbrtl.lib  hblang.lib
> hbcpage.lib  hbrdd.lib  hbrtl.lib  hbvm.lib  hbmacro.lib  hbpp.lib
> hbcplr.lib  hbcommon.lib  hbpcre.lib  hbzlib.lib  rddntx.lib  rddnsx.lib
> rddcdx.lib  rddfpt.lib  hbsix.lib  hbhsx.lib  hbusrrdd.lib  hbuddall.lib
> gtcgi.lib  gtpca.lib  gtstd.lib  gtwin.lib  gtwvt.lib  gtgui.lib
>
> hbrtl.lib(teditor.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(ttextlin.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrdd.lib(rddordu.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(memoedit.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tgetlist.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tmenusys.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(scrollbr.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(listbox.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(checkbox.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(treport.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tlabel.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(radiobtn.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(pushbtn.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tpopup.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tmenuitm.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(gui.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(getsys53.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(ttopbar.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(radiogrp.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tscalar.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tthreadx.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tgetx.obj) : error LNK2019: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED referenced in function _HB_FUN_XPP_GET
>
> hbrtl.lib(menusys.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(getsys.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tbcolumn.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tbrowse.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrtl.lib(tget.obj) : error LNK2001: unresolved external symbol
> _HB_FUN_HB_SYMBOL_UNUSED
>
> hbrun.exe : fatal error LNK1120: 1 unresolved externals
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/1c294e4b/attachment-0001.html
From lavr at ldz.lv  Fri Mar 13 07:47:47 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Fri Mar 13 07:47:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10594] trunk/harbour
In-Reply-To: <18d502870903120720y41bfa92aha15249e3aadd4e4e@mail.gmail.com>
References: <E1LhhEd-0000bb-3K@74yxhf1.ch3.sourceforge.com>	<49B90E4B.40900@ldz.lv>	<18d502870903120637u7ae78bdboc8a85b17f3b9d7d4@mail.gmail.com>	<20090312135109.GA21164@uran.home.aster.pl>
	<18d502870903120720y41bfa92aha15249e3aadd4e4e@mail.gmail.com>
Message-ID: <49BA47E3.1020600@ldz.lv>

Viktor Szak?ts wrote:
> #2 is closer, but even that isn't fully compatible, unfortunately 
> I don't have the time and tech env now to fully oversee the 
> nPos == 0 case and do extensive side-by-side tests, so rather 
> than messing up the code, I'd like to ask someone to jump 
> on this if current state isn't good enough.
>
> Attached new test code with repaint trick copied in.
>
> Brgds,
> Viktor
>
Hi,

I make a lots of achoice() tests, and my suggestion is
---CODE

      IF lUserFunc

// comment out
//       nUserFunc := Do( xUserFunc, nMode, nPos, nPos - nAtTop)

// Clipper do not call User Function in  AC_NOITEM mode
// fix
+         nUserFunc := IIF( nMode != AC_NOITEM,;
+           Do( xUserFunc, nMode, nPos, nPos - nAtTop), NIL )

// also dehighlight is needed if User Function defined to
// (3 entry)
         IF ISNUMBER( nUserFunc )

            DO CASE
            CASE nUserFunc == AC_ABORT .OR. nMode == AC_NOITEM
+               IF nPos != 0
+                  DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), 
nLeft, .T., .F., nNumCols )
+               ENDIF
               lFinished := .T.
               nPos      := 0
            CASE nUserFunc == AC_SELECT
+               IF nPos != 0
+                  DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), 
nLeft, .T., .F., nNumCols )
+              ENDIF
               lFinished := .T.
            CASE nUserFunc == AC_CONT .OR. nUserFunc == AC_REDRAW
               // Do nothing
               nMode := AC_CONT
            CASE nUserFunc == AC_GOTO
               // Do nothing. The next keystroke won't be read and
               // this keystroke will be processed as a goto.
               nMode := AC_GOTO
            ENDCASE

            IF nPos > 0 .AND. nMode != AC_GOTO

               nRowsClr := Min( nNumRows, nItems )
               nMode := Ach_Limits( @nFrstItem, @nLastItem, @nItems, 
bSelect, alSelect, acItems )

               IF nMode == AC_NOITEM
                  nPos := 0
                  nAtTop := Max( 1, nPos - nNumRows + 1 )
               ELSE
                  DO WHILE nPos < nLastItem .AND. !Eval( bSelect, 
alSelect[ nPos ] )
                     nPos++
                  ENDDO

                  IF nPos > nLastItem
                     nPos := BETWEEN( nFrstItem, nPos, nLastItem )
                  ENDIF

                  nAtTop := Min( nAtTop, nPos )

                  IF nAtTop + nNumRows - 1 > nItems
                     nAtTop := BETWEEN( 1, nPos - nNumRows + 1, nItems - 
nNumRows + 1 )
                  ENDIF

                  IF nAtTop < 1
                     nAtTop := 1
                  ENDIF

               ENDIF

               DispPage( acItems, alSelect, nTop, nLeft, nRight, 
nNumRows, nPos, nAtTop, nItems, bSelect, nRowsClr )
            ENDIF
         ELSE
+            IF nPos != 0
+               DispLine( acItems[ nPos ], nTop + ( nPos - nAtTop ), 
nLeft, .T., .F., nNumCols )
+           ENDIF
            nPos      := 0
            lFinished := .T.
         ENDIF
      ENDIF

---END CODE

and
My final test program
---CODE

#include "inkey.ch"
#include "achoice.ch"

function main()

//NIL, empty, numeric, and "not handled" - items
//must be inaccesible and invisible
local aMenu1 := {" --Visky--", "", "not handled"}
local aMenu2 := {" --Vodka--", " --Water--", NIL, "not handled"}
local aMenu3 := {" --Grapa--", 33, "not handled"}

//for AC_NOITEM mode test
local aMenu4 := {"","not handled"}

local lExit := .F.
local nCounter := 1
local nKeyPressed

//set to True for items (de)highlighting
//algoritm in clipper
public lHiLiTest := .F.

setcolor("W+/N, BG+/B, , , W/N")
cls
@ 2,1 SAY " --Visky--   --Vodka--   --Grapa--"
@ 3,14 SAY "--Water--"
do while !lExit

 do case
    case nCounter == 1
      achoice(2, 1, 3, 11, aMenu1)
    case nCounter == 2
      achoice(2, 13, 3, 23, aMenu2, .T., "cUF")
    case nCounter == 3
      achoice(2, 25, 3, 35, aMenu3, .T.)
    case nCounter == 4
//User function cUF2() fill screen with exclamation marks
//in clipper it doe's not called in AC_NOITEM mode
      achoice(2, 37, 3, 47, aMenu4, .T., "cUF2")
 endcase

 nKeyPressed := lastkey()
 if nKeyPressed == K_ESC
   lExit := .T.
 elseif nKeyPressed == K_RIGHT
   nCounter := iif(nCounter == 4, 1, nCounter+1)
 elseif nKeyPressed == K_LEFT
   nCounter := iif(nCounter == 1, 4, nCounter-1)
 endif

enddo

return NIL

//Test for current and previous items
//highliting-dehighliting algoritm
function cUF( nMode, nCurElement, nRowPos )

local nRetVal := AC_CONT
local nKey := LASTKEY()

if lHiLiTest
   dispbox( 0, 0, maxrow(), maxcol(), repl("#",9), "GR+/G" )
endif

if nMode == AC_NOITEM
  nRetVal := AC_ABORT
elseif nMode == AC_EXCEPT
  do case
     case nKey == K_RETURN
       nRetVal := AC_SELECT
     otherwise
       nRetVal := AC_ABORT
   endcase
endif

return nRetVal


//test for AC_NOITEM mode
//Clipper in AC_NOITEM mode do not call User Function
function cUF2( nMode, nCurElement, nRowPos )

local nRetVal := AC_CONT
local nKey := LASTKEY()

dispbox( 0, 0, maxrow(), maxcol(), repl("!",9), "GR+/G" )

if nMode == AC_NOITEM
  nRetVal := AC_ABORT
elseif nMode == AC_EXCEPT
  do case
     case nKey == K_RETURN
       nRetVal := AC_SELECT
     otherwise
       nRetVal := AC_ABORT
   endcase
endif

return nRetVal

---END CODE

Best regards,
Vlad

From abe.buch at att.net  Fri Mar 13 07:53:58 2009
From: abe.buch at att.net (Abeb)
Date: Fri Mar 13 07:54:02 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with
	other codes
In-Reply-To: <18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
	<1236871709077-2468019.post@n2.nabble.com>
	<18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>
Message-ID: <22494982.post@talk.nabble.com>


did you rebuild Harbour with the modified inkey.ch?


Viktor Szak?ts wrote:
> 
> Can't make it work here in a default Harbour build.
> Tried plain Inkey() and Inkey( 0, INKEY_ALL + INKEY_EXTENDED ).
> <Ctrl+A> always returnes 1.
> 
> Brgds,
> Viktor
> 
> On Thu, Mar 12, 2009 at 4:28 PM, AbeB <abe.buch@att.net> wrote:
> 
>>
>> the K_CTRL_* are already implemented. I had cut the following from
>> xharbour's
>> setkey.ch into harbour's
>> and rebuild harbour, and it just works (in GTWVT).
>>
>> i don't know about K_SH_* key's
>>
>> in xharbour it's selected by #defining HB_EXT_INKEY when building
>> xharbour.
>>
>>
>>
>> Viktor Szak?ts wrote:
>> >
>> > This would be good, especially since on certain GTs the number of
>> usable
>> > keys are scarce (no Alt+ combinations f.e.), so enabling these
>> > CTRL keys could certainly help on shortcut congestion. But users should
>> > enable it explicitly by using INKEY_ flag to keep Clipper
>> compatibility.
>> >
>> > I don't know what it takes to implement it though.
>> >
>> > Brgds,
>> > Viktor
>> >
>> > On Sun, Mar 8, 2009 at 6:26 PM, AbeB <abe.buch@att.net> wrote:
>> >
>> >>
>> >> can the following be an option in inkey.ch ( it's from xHarbour)
>> >>
>> >> /* New control keys that do not overlap with other codes */
>> >>
>> >> #define K_CTRL_A                513   /*   Ctrl-A
>> >> */
>> >> #define K_CTRL_B                514   /*   Ctrl-B
>> >> */
>> >> #define K_CTRL_C                515   /*   Ctrl-C
>> >> */
>> >> #define K_CTRL_D                516   /*   Ctrl-D
>> >> */
>> >> #define K_CTRL_E                517   /*   Ctrl-E
>> >> */
>> >> #define K_CTRL_F                518   /*   Ctrl-F
>> >> */
>> >> #define K_CTRL_G                519   /*   Ctrl-G
>> >> */
>> >> #define K_CTRL_H                520   /*   Ctrl-H
>> >> */
>> >> #define K_CTRL_I                521   /*   Ctrl-I
>> >> */
>> >> #define K_CTRL_J                522   /*   Ctrl-J
>> >> */
>> >> #define K_CTRL_K                523   /*   Ctrl-K
>> >> */
>> >> #define K_CTRL_L                524   /*   Ctrl-L
>> >> */
>> >> #define K_CTRL_M                525   /*   Ctrl-M
>> >> */
>> >> #define K_CTRL_N                526   /*   Ctrl-N
>> >> */
>> >> #define K_CTRL_O                527   /*   Ctrl-O
>> >> */
>> >> #define K_CTRL_P                528   /*   Ctrl-P
>> >> */
>> >> #define K_CTRL_Q                529   /*   Ctrl-Q
>> >> */
>> >> #define K_CTRL_R                530   /*   Ctrl-R
>> >> */
>> >> #define K_CTRL_S                531   /*   Ctrl-S
>> >> */
>> >> #define K_CTRL_T                532   /*   Ctrl-T
>> >> */
>> >> #define K_CTRL_U                533   /*   Ctrl-U
>> >> */
>> >> #define K_CTRL_V                534   /*   Ctrl-V
>> >> */
>> >> #define K_CTRL_W                535   /*   Ctrl-W
>> >> */
>> >> #define K_CTRL_X                536   /*   Ctrl-X
>> >> */
>> >> #define K_CTRL_Y                537   /*   Ctrl-Y
>> >> */
>> >> #define K_CTRL_Z                538   /*   Ctrl-Z
>> >> */
>> >>
>> >> /* extended shift key codes, none in  Clipper */
>> >>
>> >> #define K_SH_LEFT               424   /* * Shift-Left
>> >> */
>> >> #define K_SH_UP                 425   /* * Shift-Up
>> >> */
>> >> #define K_SH_RIGHT              426   /* * Shift-Right
>> >> */
>> >> #define K_SH_DOWN               427   /* * Shift-Down
>> >> */
>> >>
>> >> #define K_SH_INS                428   /* * Shift-Ins
>> >> */
>> >> #define K_SH_DEL                429   /* * Shift-Del
>> >> */
>> >> #define K_SH_HOME               430   /* * Shift-Home
>> >> */
>> >> #define K_SH_END                431   /* * Shift-End
>> >> */
>> >> #define K_SH_PGUP               432   /* * Shift-PgUp
>> >> */
>> >> #define K_SH_PGDN               433   /* * Shift-PgDn
>> >> */
>> >>
>> >> #define K_SH_RETURN             434   /* * Shift-Enter
>> >> */
>> >> #define K_SH_ENTER              434   /* * Shift-Enter
>> >> */
>> >>
>> >>
>> >> --
>> >> View this message in context:
>> >>
>> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2445208.html
>> >> Sent from the harbour-devel mailing list archive at Nabble.com.
>> >>
>> >> _______________________________________________
>> >> Harbour mailing list
>> >> Harbour@harbour-project.org
>> >> http://lists.harbour-project.org/mailman/listinfo/harbour
>> >>
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2468019.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp22400427p22494982.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Mar 13 07:58:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 13 07:58:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10604] trunk/harbour
Message-ID: <E1Li61Z-0006jv-3c@d5vjzd1.ch3.sourceforge.com>

Revision: 10604
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10604&view=rev
Author:   vszakats
Date:     2009-03-13 11:58:00 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 12:56 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Further refined GNU Make usage instructions for Windows
      compilers. The recommended way of setting it up is now
      stricter and there is mention of recommended build and
      version number.

  * contrib/hbapollo/apollo.c
  * contrib/hbapollo/apollo1.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbapollo/apollo.c
    trunk/harbour/contrib/hbapollo/apollo1.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Fri Mar 13 08:03:07 2009
From: abe.buch at att.net (Abeb)
Date: Fri Mar 13 08:03:10 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
Message-ID: <22495084.post@talk.nabble.com>


$ make_gnu_xmingwce.sh install
ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3260/harbour.exe'
to 
`/c/HARBOUR/BIN/harbour': No such file or directory
ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3260/hbpp.exe' to 
`/c/HARBOUR/BIN/hbpp': No such file or directory


it's trying to make create a link to harbour instead of harbour.exe , hbpp
instead of hbpp.exe



-- 
View this message in context: http://www.nabble.com/make_gnu_xmingwce.sh-stalls-%28under-msys%29-tp22495084p22495084.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Mar 13 08:20:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 13 08:20:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10605] trunk/harbour
Message-ID: <E1Li6N4-00017E-4w@74yxhf1.ch3.sourceforge.com>

Revision: 10605
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10605&view=rev
Author:   vszakats
Date:     2009-03-13 12:20:13 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 13:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * tests/ac_test2.prg
    * Updated.
  * source/rtl/achoice.prg
    ! Fixed to not call user func in AC_NOITEM mode.
    ! Added more visual corrections for better CA-Cl*pper compatibility.
  ; Thanks to Vladislav Lavrecky for the above.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/achoice.prg
    trunk/harbour/tests/ac_test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar 13 08:26:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 08:26:30 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with other
	codes
In-Reply-To: <22494982.post@talk.nabble.com>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
	<1236871709077-2468019.post@n2.nabble.com>
	<18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>
	<22494982.post@talk.nabble.com>
Message-ID: <18d502870903130526y29b0dbf9m4cc3aa5bb6293cde@mail.gmail.com>

No. IMO, if we need to redefine Clipper compatible keycodes and do a local
build just to access these keys, the solution is
wrong.

I imagine a proper solution would look like adding a new
INKEY_ filter/modifier, new HB_K_CTRL_x keys with
alternate values, and this way the feature could be easily
selected at runtime. In it's current form, it's pretty much
unsuited for general consumption and users have to choose
between Clipper compatibility and this feature at build time.

This feature is quite important, so I hope to hear other
opinions on how to implement this properly in Harbour.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 12:53 PM, Abeb <abe.buch@att.net> wrote:

>
> did you rebuild Harbour with the modified inkey.ch?
>
>
> Viktor Szak?ts wrote:
> >
> > Can't make it work here in a default Harbour build.
> > Tried plain Inkey() and Inkey( 0, INKEY_ALL + INKEY_EXTENDED ).
> > <Ctrl+A> always returnes 1.
> >
> > Brgds,
> > Viktor
> >
> > On Thu, Mar 12, 2009 at 4:28 PM, AbeB <abe.buch@att.net> wrote:
> >
> >>
> >> the K_CTRL_* are already implemented. I had cut the following from
> >> xharbour's
> >> setkey.ch into harbour's
> >> and rebuild harbour, and it just works (in GTWVT).
> >>
> >> i don't know about K_SH_* key's
> >>
> >> in xharbour it's selected by #defining HB_EXT_INKEY when building
> >> xharbour.
> >>
> >>
> >>
> >> Viktor Szak?ts wrote:
> >> >
> >> > This would be good, especially since on certain GTs the number of
> >> usable
> >> > keys are scarce (no Alt+ combinations f.e.), so enabling these
> >> > CTRL keys could certainly help on shortcut congestion. But users
> should
> >> > enable it explicitly by using INKEY_ flag to keep Clipper
> >> compatibility.
> >> >
> >> > I don't know what it takes to implement it though.
> >> >
> >> > Brgds,
> >> > Viktor
> >> >
> >> > On Sun, Mar 8, 2009 at 6:26 PM, AbeB <abe.buch@att.net> wrote:
> >> >
> >> >>
> >> >> can the following be an option in inkey.ch ( it's from xHarbour)
> >> >>
> >> >> /* New control keys that do not overlap with other codes */
> >> >>
> >> >> #define K_CTRL_A                513   /*   Ctrl-A
> >> >> */
> >> >> #define K_CTRL_B                514   /*   Ctrl-B
> >> >> */
> >> >> #define K_CTRL_C                515   /*   Ctrl-C
> >> >> */
> >> >> #define K_CTRL_D                516   /*   Ctrl-D
> >> >> */
> >> >> #define K_CTRL_E                517   /*   Ctrl-E
> >> >> */
> >> >> #define K_CTRL_F                518   /*   Ctrl-F
> >> >> */
> >> >> #define K_CTRL_G                519   /*   Ctrl-G
> >> >> */
> >> >> #define K_CTRL_H                520   /*   Ctrl-H
> >> >> */
> >> >> #define K_CTRL_I                521   /*   Ctrl-I
> >> >> */
> >> >> #define K_CTRL_J                522   /*   Ctrl-J
> >> >> */
> >> >> #define K_CTRL_K                523   /*   Ctrl-K
> >> >> */
> >> >> #define K_CTRL_L                524   /*   Ctrl-L
> >> >> */
> >> >> #define K_CTRL_M                525   /*   Ctrl-M
> >> >> */
> >> >> #define K_CTRL_N                526   /*   Ctrl-N
> >> >> */
> >> >> #define K_CTRL_O                527   /*   Ctrl-O
> >> >> */
> >> >> #define K_CTRL_P                528   /*   Ctrl-P
> >> >> */
> >> >> #define K_CTRL_Q                529   /*   Ctrl-Q
> >> >> */
> >> >> #define K_CTRL_R                530   /*   Ctrl-R
> >> >> */
> >> >> #define K_CTRL_S                531   /*   Ctrl-S
> >> >> */
> >> >> #define K_CTRL_T                532   /*   Ctrl-T
> >> >> */
> >> >> #define K_CTRL_U                533   /*   Ctrl-U
> >> >> */
> >> >> #define K_CTRL_V                534   /*   Ctrl-V
> >> >> */
> >> >> #define K_CTRL_W                535   /*   Ctrl-W
> >> >> */
> >> >> #define K_CTRL_X                536   /*   Ctrl-X
> >> >> */
> >> >> #define K_CTRL_Y                537   /*   Ctrl-Y
> >> >> */
> >> >> #define K_CTRL_Z                538   /*   Ctrl-Z
> >> >> */
> >> >>
> >> >> /* extended shift key codes, none in  Clipper */
> >> >>
> >> >> #define K_SH_LEFT               424   /* * Shift-Left
> >> >> */
> >> >> #define K_SH_UP                 425   /* * Shift-Up
> >> >> */
> >> >> #define K_SH_RIGHT              426   /* * Shift-Right
> >> >> */
> >> >> #define K_SH_DOWN               427   /* * Shift-Down
> >> >> */
> >> >>
> >> >> #define K_SH_INS                428   /* * Shift-Ins
> >> >> */
> >> >> #define K_SH_DEL                429   /* * Shift-Del
> >> >> */
> >> >> #define K_SH_HOME               430   /* * Shift-Home
> >> >> */
> >> >> #define K_SH_END                431   /* * Shift-End
> >> >> */
> >> >> #define K_SH_PGUP               432   /* * Shift-PgUp
> >> >> */
> >> >> #define K_SH_PGDN               433   /* * Shift-PgDn
> >> >> */
> >> >>
> >> >> #define K_SH_RETURN             434   /* * Shift-Enter
> >> >> */
> >> >> #define K_SH_ENTER              434   /* * Shift-Enter
> >> >> */
> >> >>
> >> >>
> >> >> --
> >> >> View this message in context:
> >> >>
> >>
> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2445208.html
> >> >> Sent from the harbour-devel mailing list archive at Nabble.com.
> >> >>
> >> >> _______________________________________________
> >> >> Harbour mailing list
> >> >> Harbour@harbour-project.org
> >> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >> >>
> >> >
> >> > _______________________________________________
> >> > Harbour mailing list
> >> > Harbour@harbour-project.org
> >> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >> >
> >> >
> >>
> >> --
> >> View this message in context:
> >>
> http://n2.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp2445208p2468019.html
> >> Sent from the harbour-devel mailing list archive at Nabble.com.
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/feature-request.-K_CTRL_*-should-not-overlap-with-other-codes-tp22400427p22494982.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/03fa3106/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar 13 08:37:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 08:37:53 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <22495084.post@talk.nabble.com>
References: <22495084.post@talk.nabble.com>
Message-ID: <18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>

This scenario is only supported on Linux. Windows version of MinGW
is not able to produce CE/ARM targets.

IMO these scripts should give a proper error message when run on
non-Linux OSes.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 1:03 PM, Abeb <abe.buch@att.net> wrote:

>
> $ make_gnu_xmingwce.sh install
> ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3260/harbour.exe'
> to
> `/c/HARBOUR/BIN/harbour': No such file or directory
> ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3260/hbpp.exe' to
> `/c/HARBOUR/BIN/hbpp': No such file or directory
>
>
> it's trying to make create a link to harbour instead of harbour.exe , hbpp
> instead of hbpp.exe
>
>
>
> --
> View this message in context:
> http://www.nabble.com/make_gnu_xmingwce.sh-stalls-%28under-msys%29-tp22495084p22495084.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/9acb3628/attachment.html
From druzus at acn.waw.pl  Fri Mar 13 08:59:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 08:53:32 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with
	other codes
In-Reply-To: <18d502870903130526y29b0dbf9m4cc3aa5bb6293cde@mail.gmail.com>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
	<1236871709077-2468019.post@n2.nabble.com>
	<18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>
	<22494982.post@talk.nabble.com>
	<18d502870903130526y29b0dbf9m4cc3aa5bb6293cde@mail.gmail.com>
Message-ID: <20090313125935.GA29170@uran.home.aster.pl>

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:

Hi,

> No. IMO, if we need to redefine Clipper compatible keycodes and do a local
> build just to access these keys, the solution is
> wrong.
> I imagine a proper solution would look like adding a new
> INKEY_ filter/modifier, new HB_K_CTRL_x keys with
> alternate values, and this way the feature could be easily
> selected at runtime. In it's current form, it's pretty much
> unsuited for general consumption and users have to choose
> between Clipper compatibility and this feature at build time.
> This feature is quite important, so I hope to hear other
> opinions on how to implement this properly in Harbour.

It has to be runtime switch but IMO we should change cursor key
values not K_CTLR_<letter> ones.
It's a common standard that CTRL+<letter> should return
ASC( <letter> ) - 64 on ASCII based machine. Lot of code depends
on it.
The other way is adding key modifiers to return values as bit field
for CTRL, SHIFT, ALT, ALTGR flags though here I see one potential
problem with defining portable list of basic key codes and interactions
with national characters. So we probably should add also bits to mark
type of keycode, f.e. ASCII character, UNICODE character, MOUSE event,
SCANCODE.
The mouse event should contain also the status of mouse buttons and
mouse row/col position.
It may be hard to keep all this information in single 32bit word
though it's possible if we reduce maximal size of GT window for
mouse position to 256 x 256.
The low level GT driver should send to core GT such row untranslated
event values. INKEY() will make translation online unless user will
not set some INKEY_RAW or INKEY_EXT flag.
That's all.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 09:03:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 08:57:07 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
	(SOLVED)
In-Reply-To: <18d502870903130441i7b4209bet427c33c309c24662@mail.gmail.com>
References: <8a6fcfe7.1c9a3cf.2db2893.2a45@mafact.com>
	<18d502870903130441i7b4209bet427c33c309c24662@mail.gmail.com>
Message-ID: <20090313130310.GB29170@uran.home.aster.pl>

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Perhaps we would need a Harbour compiler switch to force to
> ignore all envvars (CLIPPER, HARBOUR, INCLUDE), named
> -noenv. This would be a safe way to create builds which are for
> sure okay and eliminating all these problems.
> Unfortunately it's not an option to clear INCLUDE envvar in
> make_gnu.bat, as it may be needed by some C compilers.
> Przemek, what do you think?

Probably it's the best solution.
Anyhow I would like to check include precedence in Clipper.
What has higher priority: INCLUDE envvar or -I compiler switch.
It's possible that we only have to fix it in Harbour compiler.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 09:09:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 09:03:39 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
Message-ID: <20090313130942.GA5641@uran.home.aster.pl>

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:

Hi,

> This scenario is only supported on Linux. Windows version of MinGW
> is not able to produce CE/ARM targets.
> IMO these scripts should give a proper error message when run on
> non-Linux OSes.

I'm sorry but you are wrong.
You can download Windows version of MinGWCE from SF and AFAIK
few people created MinGWCE binaries on Windows. See the archive.
At least it was possible few months ago.
MinGW and MinGWCE can be ported quite easy to any POSIX systems too
(it's even not a programmer job but packager because the code
is ready) so the cross build scripts should be ready to use with
different *nixes and Windows + MSys.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 13 09:14:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 09:14:38 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with other
	codes
In-Reply-To: <20090313125935.GA29170@uran.home.aster.pl>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
	<1236871709077-2468019.post@n2.nabble.com>
	<18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>
	<22494982.post@talk.nabble.com>
	<18d502870903130526y29b0dbf9m4cc3aa5bb6293cde@mail.gmail.com>
	<20090313125935.GA29170@uran.home.aster.pl>
Message-ID: <18d502870903130614vf8566ffjeefd7429166496cf@mail.gmail.com>

Hi Przemek,

Sounds great as is. We should probably use a structure instead of trying to
make everything fit into 32 bits. If this
isn't causing a big speed penalty of course, but it doesn't
seem so.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 1:59 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > No. IMO, if we need to redefine Clipper compatible keycodes and do a
> local
> > build just to access these keys, the solution is
> > wrong.
> > I imagine a proper solution would look like adding a new
> > INKEY_ filter/modifier, new HB_K_CTRL_x keys with
> > alternate values, and this way the feature could be easily
> > selected at runtime. In it's current form, it's pretty much
> > unsuited for general consumption and users have to choose
> > between Clipper compatibility and this feature at build time.
> > This feature is quite important, so I hope to hear other
> > opinions on how to implement this properly in Harbour.
>
> It has to be runtime switch but IMO we should change cursor key
> values not K_CTLR_<letter> ones.
> It's a common standard that CTRL+<letter> should return
> ASC( <letter> ) - 64 on ASCII based machine. Lot of code depends
> on it.
> The other way is adding key modifiers to return values as bit field
> for CTRL, SHIFT, ALT, ALTGR flags though here I see one potential
> problem with defining portable list of basic key codes and interactions
> with national characters. So we probably should add also bits to mark
> type of keycode, f.e. ASCII character, UNICODE character, MOUSE event,
> SCANCODE.
> The mouse event should contain also the status of mouse buttons and
> mouse row/col position.
> It may be hard to keep all this information in single 32bit word
> though it's possible if we reduce maximal size of GT window for
> mouse position to 256 x 256.
> The low level GT driver should send to core GT such row untranslated
> event values. INKEY() will make translation online unless user will
> not set some INKEY_RAW or INKEY_EXT flag.
> That's all.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/a03429f6/attachment.html
From makis1970 at gmail.com  Fri Mar 13 09:45:04 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Fri Mar 13 09:52:24 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with	other
	codes
In-Reply-To: <20090313125935.GA29170@uran.home.aster.pl>
References: <1236533203941-2445208.post@n2.nabble.com>	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>	<1236871709077-2468019.post@n2.nabble.com>	<18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>	<22494982.post@talk.nabble.com>	<18d502870903130526y29b0dbf9m4cc3aa5bb6293cde@mail.gmail.com>
	<20090313125935.GA29170@uran.home.aster.pl>
Message-ID: <00a901c9a3e1$eb6195e0$c224c1a0$@com>

Hi Przemek,
I think that Clipper Ct Functions SetKXlat GetKXlat can be used. Also it will be nice if we have also except from the lastkey() another Hb_ExtLastKey() that can return the full key code. 

Brgds
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: Friday, March 13, 2009 3:00 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] feature request. K_CTRL_* should not overlap with other codes

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:

Hi,

> No. IMO, if we need to redefine Clipper compatible keycodes and do a local
> build just to access these keys, the solution is
> wrong.
> I imagine a proper solution would look like adding a new
> INKEY_ filter/modifier, new HB_K_CTRL_x keys with
> alternate values, and this way the feature could be easily
> selected at runtime. In it's current form, it's pretty much
> unsuited for general consumption and users have to choose
> between Clipper compatibility and this feature at build time.
> This feature is quite important, so I hope to hear other
> opinions on how to implement this properly in Harbour.

It has to be runtime switch but IMO we should change cursor key
values not K_CTLR_<letter> ones.
It's a common standard that CTRL+<letter> should return
ASC( <letter> ) - 64 on ASCII based machine. Lot of code depends
on it.
The other way is adding key modifiers to return values as bit field
for CTRL, SHIFT, ALT, ALTGR flags though here I see one potential
problem with defining portable list of basic key codes and interactions
with national characters. So we probably should add also bits to mark
type of keycode, f.e. ASCII character, UNICODE character, MOUSE event,
SCANCODE.
The mouse event should contain also the status of mouse buttons and
mouse row/col position.
It may be hard to keep all this information in single 32bit word
though it's possible if we reduce maximal size of GT window for
mouse position to 256 x 256.
The low level GT driver should send to core GT such row untranslated
event values. INKEY() will make translation online unless user will
not set some INKEY_RAW or INKEY_EXT flag.
That's all.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Mar 13 09:53:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 09:53:09 2009
Subject: [Harbour] Harbour windows / msvc 2008 unofficial releases for
	download
Message-ID: <18d502870903130653u44ca6c0fk3d0f53bec887807a@mail.gmail.com>

Hi all,
I've made Harbour 1.1.0dev r10605 install packages available for download:
http://www.syenar.hu/harbour/harbour-1.1.0dev-win-msvc.exe
http://www.syenar.hu/harbour/harbour-1.1.0dev-win-msvc.zip

These are built with MS Visual Studio 2008 Express, with Harbour defaults,
including these 3rd party dependencies:

set HB_INC_ADS=C:\devl\ADS910\ACESDK
set HB_INC_ALLEGRO=C:\devl\allegro-4.2.2\include
set HB_INC_APOLLO=C:\devl\Apollo-6.1.0.4\Include
set HB_INC_BLAT=C:\devl\blat-2.6.2\full\source
set HB_INC_CURL=C:\devl\curl-7.19.3\include
set HB_INC_FIREBIRD=C:\devl\Firebird-2.1.1\include
set HB_INC_FREEIMAGE=C:\devl\FreeImage-3.11.0\Dist
set HB_INC_GD=C:\devl\gd-2.0.34\include
set HB_INC_LIBHARU=C:\devl\libharu-2.1.0\include
set HB_INC_MYSQL=C:\devl\mysql-5.0.67\include
set HB_INC_OPENSSL=C:\devl\openssl-0.9.8j\inc32
set HB_INC_PGSQL=C:\devl\pgsql-8.3.3\include

This isn't an official release, it's just meant to ease testing until we
make
an official one.

Brdgs,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/2a909c3e/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar 13 10:02:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 10:02:46 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <20090313130942.GA5641@uran.home.aster.pl>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
Message-ID: <18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>

I was trying to find such package, and now I've retried after
reading your mail, but still I can nowhere find such thing for
download. I've tried looked for the name cegcc, mingwce. I've
checked the project page on sf.net and their downloads are
scarce without binaries. Cygwin doesn't offer them by these
names either.

Could you or someone point me the right direction?
Maybe it should be built from source on Windows?

It would be great to have such tool on Windows, as pocc
isn't very mainstream and MS doens't offer anything free
for WinCE.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 2:09 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > This scenario is only supported on Linux. Windows version of MinGW
> > is not able to produce CE/ARM targets.
> > IMO these scripts should give a proper error message when run on
> > non-Linux OSes.
>
> I'm sorry but you are wrong.
> You can download Windows version of MinGWCE from SF and AFAIK
> few people created MinGWCE binaries on Windows. See the archive.
> At least it was possible few months ago.
> MinGW and MinGWCE can be ported quite easy to any POSIX systems too
> (it's even not a programmer job but packager because the code
> is ready) so the cross build scripts should be ready to use with
> different *nixes and Windows + MSys.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/684b9a4f/attachment.html
From druzus at acn.waw.pl  Fri Mar 13 10:27:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 10:21:08 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED
	(SOLVED)
In-Reply-To: <20090313130310.GB29170@uran.home.aster.pl>
References: <8a6fcfe7.1c9a3cf.2db2893.2a45@mafact.com>
	<18d502870903130441i7b4209bet427c33c309c24662@mail.gmail.com>
	<20090313130310.GB29170@uran.home.aster.pl>
Message-ID: <20090313142711.GA7109@uran.home.aster.pl>

On Fri, 13 Mar 2009, Przemyslaw Czerpak wrote:

Hi,
> > Perhaps we would need a Harbour compiler switch to force to
> > ignore all envvars (CLIPPER, HARBOUR, INCLUDE), named
> > -noenv. This would be a safe way to create builds which are for
> > sure okay and eliminating all these problems.
> > Unfortunately it's not an option to clear INCLUDE envvar in
> > make_gnu.bat, as it may be needed by some C compilers.
> > Przemek, what do you think?
> Probably it's the best solution.
> Anyhow I would like to check include precedence in Clipper.
> What has higher priority: INCLUDE envvar or -I compiler switch.
> It's possible that we only have to fix it in Harbour compiler.

I've just check and clipper, harbour and hbpp gives higher priority
to directories specified by -I command line option then for INCLUDE
envvar so I do not see any way where INCLUDE envvar can change header
files used to compile Harbour core code or I'm missing sth important
in current build scripts.
I think that we should exactly replicate the problem or it will return.
Viktor can you make some tests in windows and
   set INCLUDE=C:\
   echo #error Wrong std.ch file > C:\std.ch
JF I would like to confirm that you resolved the problem only changing
INCLUDE envvar without any other modifications.
At this moment I see only one situation which could cause problems:
Your local std.ch was in the current directory when you were building
Harbour.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 13 10:25:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 10:25:55 2009
Subject: [Harbour] feature request. K_CTRL_* should not overlap with other
	codes
In-Reply-To: <00a901c9a3e1$eb6195e0$c224c1a0$@com>
References: <1236533203941-2445208.post@n2.nabble.com>
	<18d502870903120247n10105854n503d602cb2acd943@mail.gmail.com>
	<1236871709077-2468019.post@n2.nabble.com>
	<18d502870903121928s52b0df93k90f12d260358aa22@mail.gmail.com>
	<22494982.post@talk.nabble.com>
	<18d502870903130526y29b0dbf9m4cc3aa5bb6293cde@mail.gmail.com>
	<20090313125935.GA29170@uran.home.aster.pl>
	<00a901c9a3e1$eb6195e0$c224c1a0$@com>
Message-ID: <18d502870903130725p1a22f66egfe684e5520e49b1d@mail.gmail.com>

I think we should have function variants which can return the whole input
event (as an array or even binary object (hb_parptrGC),
and user can select which values to use in a given situation.
This would also mean such object can be created and stuffed
into the queue by user just like we do now with bare keycodes.
Support for such values as input can be implemented inside
current functions (hb_SetLastKey() f.e.), we only need one new
variant for functions which return them.

ev := hb_evNew( nKeyCode, nRaw, nMRow, nMCol, ... )
hb_SetLastKey( ev )
KeyPut( { ev1, ev2, ..., evn } )
ev := hb_Inkey( 0 ) // or hb_evRead( 0 )
? hb_evMRowGet( ev ) // -> nMRow
? hb_evKeyGet( ev ) // -> nKey
? hb_evKeyRawGet( ev ) // -> nKeyRaw
etc... (maybe Get() is overkill, as we won't need Set() variant in practice)

For consitency, there could form a whole new Harbour Event API,
replacing current mixture of Clipper compatibility and Harbour extension
functions which aren't named very consistently anyway.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 2:45 PM, Mike Evans (Gmail) <makis1970@gmail.com>wrote:

> Hi Przemek,
> I think that Clipper Ct Functions SetKXlat GetKXlat can be used. Also it
> will be nice if we have also except from the lastkey() another
> Hb_ExtLastKey() that can return the full key code.
>
> Brgds
> Mike Evans
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:
> harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
> Sent: Friday, March 13, 2009 3:00 PM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] feature request. K_CTRL_* should not overlap with
> other codes
>
> On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > No. IMO, if we need to redefine Clipper compatible keycodes and do a
> local
> > build just to access these keys, the solution is
> > wrong.
> > I imagine a proper solution would look like adding a new
> > INKEY_ filter/modifier, new HB_K_CTRL_x keys with
> > alternate values, and this way the feature could be easily
> > selected at runtime. In it's current form, it's pretty much
> > unsuited for general consumption and users have to choose
> > between Clipper compatibility and this feature at build time.
> > This feature is quite important, so I hope to hear other
> > opinions on how to implement this properly in Harbour.
>
> It has to be runtime switch but IMO we should change cursor key
> values not K_CTLR_<letter> ones.
> It's a common standard that CTRL+<letter> should return
> ASC( <letter> ) - 64 on ASCII based machine. Lot of code depends
> on it.
> The other way is adding key modifiers to return values as bit field
> for CTRL, SHIFT, ALT, ALTGR flags though here I see one potential
> problem with defining portable list of basic key codes and interactions
> with national characters. So we probably should add also bits to mark
> type of keycode, f.e. ASCII character, UNICODE character, MOUSE event,
> SCANCODE.
> The mouse event should contain also the status of mouse buttons and
> mouse row/col position.
> It may be hard to keep all this information in single 32bit word
> though it's possible if we reduce maximal size of GT window for
> mouse position to 256 x 256.
> The low level GT driver should send to core GT such row untranslated
> event values. INKEY() will make translation online unless user will
> not set some INKEY_RAW or INKEY_EXT flag.
> That's all.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/4b4d34be/attachment.html
From mbelgrano at deltain.it  Fri Mar 13 10:34:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 13 10:34:43 2009
Subject: [Harbour] problem with new make system
In-Reply-To: <533c24e5.1c9a3c1.27dff06.29@mafact.com>
References: <533c24e5.1c9a3c1.27dff06.29@mafact.com>
Message-ID: <609353e70903130734i4b21f6fdo519a0f3932b5721a@mail.gmail.com>

IMO first time you must call batch with parameter clean installwithout
parameter you are in incremental mode

2009/3/13 J. Lefebvre <jfl@mafact.com>

> Hi,
>
> I tried to compile harbour with MSVC 2008 and created one batch to do so
> like the following ;
>
> REM --- MSVC 2008 + SDK
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> set HB_ARCHITECTURE=win
> set HB_GT_LIB=gtwin
> set HB_INC_ADS=e:\ads81\api\acesdk
> set HB_BIN_INSTALL=t:\fwh\harbour\bin
> set HB_LIB_INSTALL=t:\fwh\harbour\lib
> set HB_INC_INSTALL=t:\fwh\harbour\include
> rem
> set PATH=D:\Util\make;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>
> calling it with clean, it work for some seconds and end without error or
> message.
>
> Now if I call it without param or with all I receive the following :
>
> make.exe: Nothing to be done for `all'.
>
> What am'I missing ?
>
> Thanks in advance,
>
> JF,
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/92cc11d6/attachment.html
From druzus at acn.waw.pl  Fri Mar 13 10:46:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 10:40:45 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
Message-ID: <20090313144648.GA13094@uran.home.aster.pl>

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:

Hi,

> I was trying to find such package, and now I've retried after
> reading your mail, but still I can nowhere find such thing for
> download. I've tried looked for the name cegcc, mingwce. I've
> checked the project page on sf.net and their downloads are
> scarce without binaries. Cygwin doesn't offer them by these
> names either.
> Could you or someone point me the right direction?
> Maybe it should be built from source on Windows?
> It would be great to have such tool on Windows, as pocc
> isn't very mainstream and MS doens't offer anything free
> for WinCE.

http://sf.net/projects/cegcc/
You will find two types of binaries: CEGCC and MinGWCE.
The 1-st one is environment to port console POSIX applications
to WinCE. The second one is for normal Windows CE applications.
I compiled Harbour with both though the 1-st one only for my own
tests and I haven't committed build scripts.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Mar 13 10:55:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 13 10:55:19 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <49BA1C7F.22150.90DA012@localhost>
References: <22478907.post@talk.nabble.com> <49BA1C7F.22150.90DA012@localhost>
Message-ID: <609353e70903130755u4c633421w10e251aca94a4405@mail.gmail.com>

Hi Budjanto
The problem of first parameter can be done using a wrapper function for
compatibility here untested WVW_SETTITLE  (windows , title)
Harbour  have great capability that make simple adapting gtwvw


STATIC S_Ocrt:={}
STATIC S_setmaincoord:=.f.

FUNC WVW_SETTITLE  (windows , title)
    DEFAULT WINDOWS TO LEN(S_OCRT)
    oOLDcrt := hb_gtSelect( s_ocrt[windows,1] )
    X_RET= WVT_SETTITLE(TITLE)
    hb_gtSelect(ooldcrt)
    RETURN X_RET

FUNCTION  WVW_nOpenWindow(X_title,x_top,x_left,x_bottom,x_right)
   local ocrt
   x_ocrt := hb_gtCreate( THREAD_GT )
//  ocrt := hb_gtSelect( ocrt )
//  hb_gtReload(THREAD_GT  )
   setmode(x_bottom-x_top+1,x_right-x_left+1)
  // ? x_bottom-x_top,x_right-x_left
   x_oCrt := hb_gtSelect()
   aadd(s_ocrt,{x_ocrt,X_title,x_top,x_left,x_bottom,x_right})
   x_ret=len(s_ocrt)
   RETURN x_ret

FUNCTION WVW_lCloseWindow(x_pos)
    default x_pos to len(s_ocrt)
       s_ocrt[x_pos,1]=nil
       adel(s_ocrt,x_pos,.t.)
   RETURN
2009/3/13 Budyanto Dj. <budyanto@centrin.net.id>

> Hi Pritpal,
>
> > My question is: How many of you are using GTWVG and are
> > willing to adopt to new prorocol. Believe me, it will be very
> > little effort to change the exiting code but the results will be
> > truely rewarding. Once this is done, I may think to port
> > GTWVW in GTWVG if get a substantial number of confirmations
>
> I've never tried GTWVG, and I am not sure what you mean by "port GTWVW in
> GTWVG".
>
> If you mean revising (or rewriting) GTWVW into Harbour, then I'll be very
> much interested, as well as
> many others. But please keep it backward compatible as much as possible. I
> remember you said here
> in the past that GTWVW is "impossible" to port to the new GT API because
> there is a conflict with
> GTWVW's use of first parameter as window designator (for most functions).
> Do you finally find a way
> to solve that problem? Or do you plan change the convention in GTWVW? (I
> hope it is the former.)
>
> Am I interpreting it right with what you mean by "porting GTWVW in GTWVG"?
>
> Thanks and regards,
> budyanto
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/82b3d74e/attachment-0001.html
From soporte at dsgsoftware.com  Fri Mar 13 11:10:16 2009
From: soporte at dsgsoftware.com (=?UTF-8?Q?Juan_G=C3=A1lvez?=)
Date: Fri Mar 13 11:10:57 2009
Subject: [Harbour] unresolved external symbol
	_HB_FUN_HB_SYMBOL_UNUSED(SOLVED)
References: <8a6fcfe7.1c9a3cf.2db2893.2a45@mafact.com><18d502870903130441i7b4209bet427c33c309c24662@mail.gmail.com><20090313130310.GB29170@uran.home.aster.pl>
	<20090313142711.GA7109@uran.home.aster.pl>
Message-ID: <00d001c9a3ed$e800c130$6c01a8c0@PcJuanxp>

Hi all, Przemek,

BTW, I also get this error building Harbour :

../../../../source/main/win/bcc/harbour.exe 
../../hbrun.prg -n1 -i../../../../include -q0 -w3 -es2 -km -l -gc0 -l
bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov  
-Oi -Oc  -DHB_FM_WIN_ALLOC -DHB_HASH_MSG_ITEMS -DHB_DYNLIB -DHB_NO_PROFILER  
 -c hbrun.c -ohbrun.obj
hbrun.c:
bcc32.exe -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov -Oi -Oc -ehbrun.exe 
hbrun.obj -L../../../../lib/win/bcc   ../../../../lib/win/bcc/hbextern.lib 
../../../../lib/win/bcc/hbdebug.lib  ../../../../lib/win/bcc/hbvm.lib 
../../../../lib/win/bcc/hbrtl.lib  ../../../../lib/win/bcc/hblang.lib 
../../../../lib/win/bcc/hbcpage.lib  ../../../../lib/win/bcc/hbrdd.lib 
../../../../lib/win/bcc/hbrtl.lib  ../../../../lib/win/bcc/hbvm.lib 
../../../../lib/win/bcc/hbmacro.lib  ../../../../lib/win/bcc/hbpp.lib 
../../../../lib/win/bcc/hbcplr.lib  ../../../../lib/win/bcc/hbcommon.lib 
../../../../lib/win/bcc/hbpcre.lib  ../../../../lib/win/bcc/hbzlib.lib 
../../../../lib/win/bcc/rddntx.lib  ../../../../lib/win/bcc/rddnsx.lib 
../../../../lib/win/bcc/rddcdx.lib  ../../../../lib/win/bcc/rddfpt.lib 
../../../../lib/win/bcc/hbsix.lib  ../../../../lib/win/bcc/hbhsx.lib 
../../../../lib/win/bcc/hbusrrdd.lib  ../../../../lib/win/bcc/hbuddall.lib 
../../../../lib/win/bcc/gtcgi.lib  ../../../../lib/win/bcc/gtpca.lib 
../../../../lib/win/bcc/gtstd.lib  ../../../../lib/win/bcc/gtwin.lib 
../../../../lib/win/bcc/gtwvt.lib  ../../../../lib/win/bcc/gtgui.lib
Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from 
C:\UTL\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tget

Any hints ?

Many thanks
Juan 

From harbour.01 at syenar.hu  Fri Mar 13 11:27:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 11:27:16 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <20090313144648.GA13094@uran.home.aster.pl>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
Message-ID: <18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>

Okay, maybe I got it. Which is which from these:

cygwin-cegcc-cegcc-0.51.0-1.tar.gz<http://downloads.sourceforge.net/cegcc/cygwin-cegcc-cegcc-0.51.0-1.tar.gz?use_mirror=garr>

cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz<http://downloads.sourceforge.net/cegcc/cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz?use_mirror=switch>

I'm trying with the latter, but I expect some problems,
as I'm getting "overwrite?" questions when trying to
exract it :(

[ Hopefully they'll once switch to a Windows friendly
archive format like .zip for their Windows distros....
My mind is filtering this extension out when looking
for win distros. ]

I'll continue after attending today's Richard Stallman
speech here in Budapest.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 3:46 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > I was trying to find such package, and now I've retried after
> > reading your mail, but still I can nowhere find such thing for
> > download. I've tried looked for the name cegcc, mingwce. I've
> > checked the project page on sf.net and their downloads are
> > scarce without binaries. Cygwin doesn't offer them by these
> > names either.
> > Could you or someone point me the right direction?
> > Maybe it should be built from source on Windows?
> > It would be great to have such tool on Windows, as pocc
> > isn't very mainstream and MS doens't offer anything free
> > for WinCE.
>
> http://sf.net/projects/cegcc/
> You will find two types of binaries: CEGCC and MinGWCE.
> The 1-st one is environment to port console POSIX applications
> to WinCE. The second one is for normal Windows CE applications.
> I compiled Harbour with both though the 1-st one only for my own
> tests and I haven't committed build scripts.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/e7928879/attachment.html
From vszakats at users.sourceforge.net  Fri Mar 13 11:31:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 13 11:31:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10606] trunk/harbour
Message-ID: <E1Li9MQ-0002YE-O9@dn4whf1.ch3.sourceforge.com>

Revision: 10606
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10606&view=rev
Author:   vszakats
Date:     2009-03-13 15:31:41 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 16:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * mpkg_win.bat
    * Cleanup.
    - Removed checking for errorlevel as it made it exit 
      even when doing successful builds. [ Why? Could someone 
      look at this? ]

  * contrib/hbwin/wapi_commctrl.c
    ! Fix of the fix of the fix for non-ANSI comment fixes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Mar 13 11:50:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 11:44:31 2009
Subject: [Harbour] unresolved external symbol
	_HB_FUN_HB_SYMBOL_UNUSED(SOLVED)
In-Reply-To: <00d001c9a3ed$e800c130$6c01a8c0@PcJuanxp>
References: <20090313142711.GA7109@uran.home.aster.pl>
	<00d001c9a3ed$e800c130$6c01a8c0@PcJuanxp>
Message-ID: <20090313155035.GA16250@uran.home.aster.pl>

On Fri, 13 Mar 2009, Juan G?lvez wrote:

Hi,

> BTW, I also get this error building Harbour :
> ../../../../source/main/win/bcc/harbour.exe ../../hbrun.prg -n1 
> -i../../../../include -q0 -w3 -es2 -km -l -gc0 -l
> bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov 
>  -Oi -Oc  -DHB_FM_WIN_ALLOC -DHB_HASH_MSG_ITEMS -DHB_DYNLIB 
> -DHB_NO_PROFILER  -c hbrun.c -ohbrun.obj
> hbrun.c:
> bcc32.exe -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov -Oi -Oc -ehbrun.exe 
> hbrun.obj -L../../../../lib/win/bcc   ../../../../lib/win/bcc/hbextern.lib 
> ../../../../lib/win/bcc/gtwvt.lib  ../../../../lib/win/bcc/gtgui.lib
> Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from 
> C:\UTL\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tget
> Any hints ?

Each of you with this problem has own customized std.ch which is used
instead of the one in harbour/include directory or the harbour/include/std.ch
file is modified.
It's not Harbour problem but user local environment settings which cause
that wrong std.ch is built into the Harbour compiler. So far (it's even
possible that for quite long time) you were created wrong binaries.
Recent modification which need one rule from original std.ch exploited
the problem so at least now you can fix it and create correwct harbour
binaries.
The question is why wrong std.ch is used instead the original Harbour one
(I hope that you haven't modified the original file).
So far I know only three methods:
1. set different std.ch in CLIPPER or HARBOUR environment variable, f.e.:
      set CLIPPER=/umystd.ch
   or:
      set HARBOUR=/umystd.ch
   Viktor added protection against it (it clears above both variables)
   to build scripts.
2. HB_PP_RULES which can be used in some cross compilation points to wrong
   pptable.c file which is used instead of file dynamically generated.
   Do not ever try to use this variable as long as you do not know exactly
   how to create your own customized cross compilation environment. It's
   for developers only.
3. You have some old pptable.c file in harbour/source/pp/ directory which
   is used instead of the one generated dynamically by hbpp during
   compilation. It's possible that some old version of non GNU make
   files left such pptable.c in harbour/source/pp/ directory.
   Remove if it exists.

Recently JF suggested that the problem can be exploited also by setting
INCLUDE envvar. I cannot replicate it and confirm.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 11:55:07 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 11:49:03 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <c10dbf450903121320i8f2a5d9g466c3dcf1fbb131e@mail.gmail.com>
References: <11798566.1551236861657186.JavaMail.root@zimbra-1.sigma-com.net>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<20090312131344.GA18646@uran.home.aster.pl>
	<c10dbf450903121320i8f2a5d9g466c3dcf1fbb131e@mail.gmail.com>
Message-ID: <20090313155507.GA17869@uran.home.aster.pl>

On Thu, 12 Mar 2009, Phil Krylov wrote:

Hi,

> I plan to evolve xbgtk as needed. It's currently just enough for a
> couple of my projects. However, I always welcome any fixes and
> additions. Well it's really cool when you feed a .spec from new GTK+
> version to the code generator, and it builds 85% of API wrappers
> automatically and you only have to provide some extra overrides you
> really need.

Thank you for information.
I have a patch for Harbour builds and some small cleanups to
the version in CVS.
Can I sent it to you?

best regards,
Przemek
From phil at newstar.rinet.ru  Fri Mar 13 11:51:49 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Fri Mar 13 11:51:54 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <20090313155507.GA17869@uran.home.aster.pl>
References: <11798566.1551236861657186.JavaMail.root@zimbra-1.sigma-com.net>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<20090312131344.GA18646@uran.home.aster.pl>
	<c10dbf450903121320i8f2a5d9g466c3dcf1fbb131e@mail.gmail.com>
	<20090313155507.GA17869@uran.home.aster.pl>
Message-ID: <c10dbf450903130851x35901a4cu836938cdb49a843a@mail.gmail.com>

Hi,

On Fri, Mar 13, 2009 at 6:55 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> I have a patch for Harbour builds and some small cleanups to
> the version in CVS.
> Can I sent it to you?

Yes of course, probably the xbgtk mailing list is a better place,
AFAIR you were subscribed to it, but you can send the patch directly
to me.


-- Ph.
From harbour.01 at syenar.hu  Fri Mar 13 12:05:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 12:05:13 2009
Subject: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED 
	(SOLVED)
Message-ID: <18d502870903130905s3176d1f2pbd2c0c6bd20042@mail.gmail.com>

I'll check clipper a bit later. Make_gnu.sh still needs protection.

On 3/13/09, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> On Fri, 13 Mar 2009, Juan G?lvez wrote:
>
> Hi,
>
>> BTW, I also get this error building Harbour :
>> ../../../../source/main/win/bcc/harbour.exe ../../hbrun.prg -n1
>> -i../../../../include -q0 -w3 -es2 -km -l -gc0 -l
>> bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS
>> -Ov
>>  -Oi -Oc  -DHB_FM_WIN_ALLOC -DHB_HASH_MSG_ITEMS -DHB_DYNLIB
>> -DHB_NO_PROFILER  -c hbrun.c -ohbrun.obj
>> hbrun.c:
>> bcc32.exe -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov -Oi -Oc -ehbrun.exe
>> hbrun.obj -L../../../../lib/win/bcc   ../../../../lib/win/bcc/hbextern.lib
>>
>> ../../../../lib/win/bcc/gtwvt.lib  ../../../../lib/win/bcc/gtgui.lib
>> Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from
>> C:\UTL\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tget
>> Any hints ?
>
> Each of you with this problem has own customized std.ch which is used
> instead of the one in harbour/include directory or the
> harbour/include/std.ch
> file is modified.
> It's not Harbour problem but user local environment settings which cause
> that wrong std.ch is built into the Harbour compiler. So far (it's even
> possible that for quite long time) you were created wrong binaries.
> Recent modification which need one rule from original std.ch exploited
> the problem so at least now you can fix it and create correwct harbour
> binaries.
> The question is why wrong std.ch is used instead the original Harbour one
> (I hope that you haven't modified the original file).
> So far I know only three methods:
> 1. set different std.ch in CLIPPER or HARBOUR environment variable, f.e.:
>       set CLIPPER=/umystd.ch
>    or:
>       set HARBOUR=/umystd.ch
>    Viktor added protection against it (it clears above both variables)
>    to build scripts.
> 2. HB_PP_RULES which can be used in some cross compilation points to wrong
>    pptable.c file which is used instead of file dynamically generated.
>    Do not ever try to use this variable as long as you do not know exactly
>    how to create your own customized cross compilation environment. It's
>    for developers only.
> 3. You have some old pptable.c file in harbour/source/pp/ directory which
>    is used instead of the one generated dynamically by hbpp during
>    compilation. It's possible that some old version of non GNU make
>    files left such pptable.c in harbour/source/pp/ directory.
>    Remove if it exists.
>
> Recently JF suggested that the problem can be exploited also by setting
> INCLUDE envvar. I cannot replicate it and confirm.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From jfl at mafact.com  Fri Mar 13 12:26:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Mar 13 12:26:40 2009
Subject: [Harbour] unresolved external symbol
	_HB_FUN_HB_SYMBOL_UNUSED(SOLVED)
Message-ID: <7988ade5.1c9a3f8.3e76c0d.3282@mafact.com>

OK, 

You are right Przemek, the real problem was an old pptable.c not deleted by "clean" nor by the make rules.
As I discovered some old files within my system I deleted them at the same time I changed my envar so the confusion.

Just to be sure, do you know wich other file(s) should be checked ?

Regards,

JF, 

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Przemyslaw Czerpak
Envoy??: vendredi 13 mars 2009 16:51
??: Harbour Project Main Developer List.
Objet?: Re: [Harbour] unresolved external symbol _HB_FUN_HB_SYMBOL_UNUSED(SOLVED)

On Fri, 13 Mar 2009, Juan G?lvez wrote:

Hi,

> BTW, I also get this error building Harbour :
> ../../../../source/main/win/bcc/harbour.exe ../../hbrun.prg -n1 
> -i../../../../include -q0 -w3 -es2 -km -l -gc0 -l
> bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov 
>  -Oi -Oc  -DHB_FM_WIN_ALLOC -DHB_HASH_MSG_ITEMS -DHB_DYNLIB 
> -DHB_NO_PROFILER  -c hbrun.c -ohbrun.obj
> hbrun.c:
> bcc32.exe -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov -Oi -Oc -ehbrun.exe 
> hbrun.obj -L../../../../lib/win/bcc   ../../../../lib/win/bcc/hbextern.lib 
> ../../../../lib/win/bcc/gtwvt.lib  ../../../../lib/win/bcc/gtgui.lib
> Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from 
> C:\UTL\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tget
> Any hints ?

Each of you with this problem has own customized std.ch which is used
instead of the one in harbour/include directory or the harbour/include/std.ch
file is modified.
It's not Harbour problem but user local environment settings which cause
that wrong std.ch is built into the Harbour compiler. So far (it's even
possible that for quite long time) you were created wrong binaries.
Recent modification which need one rule from original std.ch exploited
the problem so at least now you can fix it and create correwct harbour
binaries.
The question is why wrong std.ch is used instead the original Harbour one
(I hope that you haven't modified the original file).
So far I know only three methods:
1. set different std.ch in CLIPPER or HARBOUR environment variable, f.e.:
      set CLIPPER=/umystd.ch
   or:
      set HARBOUR=/umystd.ch
   Viktor added protection against it (it clears above both variables)
   to build scripts.
2. HB_PP_RULES which can be used in some cross compilation points to wrong
   pptable.c file which is used instead of file dynamically generated.
   Do not ever try to use this variable as long as you do not know exactly
   how to create your own customized cross compilation environment. It's
   for developers only.
3. You have some old pptable.c file in harbour/source/pp/ directory which
   is used instead of the one generated dynamically by hbpp during
   compilation. It's possible that some old version of non GNU make
   files left such pptable.c in harbour/source/pp/ directory.
   Remove if it exists.

Recently JF suggested that the problem can be exploited also by setting
INCLUDE envvar. I cannot replicate it and confirm.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From soporte at dsgsoftware.com  Fri Mar 13 12:41:42 2009
From: soporte at dsgsoftware.com (=?UTF-8?Q?Juan_G=C3=A1lvez?=)
Date: Fri Mar 13 12:41:56 2009
Subject: [Harbour] unresolved external
	symbol_HB_FUN_HB_SYMBOL_UNUSED(SOLVED)
References: <20090313142711.GA7109@uran.home.aster.pl><00d001c9a3ed$e800c130$6c01a8c0@PcJuanxp>
	<20090313155035.GA16250@uran.home.aster.pl>
Message-ID: <001201c9a3fa$9cd55d30$6c01a8c0@PcJuanxp>

Hi Przemek,

As usual, you're right :)

An old pptable.c file was the problem.

Many thanks
Juan

----- Original Message ----- 
From: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, March 13, 2009 4:50 PM
Subject: Re: [Harbour] unresolved external 
symbol_HB_FUN_HB_SYMBOL_UNUSED(SOLVED)


> On Fri, 13 Mar 2009, Juan G?lvez wrote:
>
> Hi,
>
>> BTW, I also get this error building Harbour :
>> ../../../../source/main/win/bcc/harbour.exe ../../hbrun.prg -n1
>> -i../../../../include -q0 -w3 -es2 -km -l -gc0 -l
>> bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov
>>  -Oi -Oc  -DHB_FM_WIN_ALLOC -DHB_HASH_MSG_ITEMS -DHB_DYNLIB
>> -DHB_NO_PROFILER  -c hbrun.c -ohbrun.obj
>> hbrun.c:
>> bcc32.exe -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov -Oi -Oc -ehbrun.exe
>> hbrun.obj -L../../../../lib/win/bcc 
>> ../../../../lib/win/bcc/hbextern.lib
>> ../../../../lib/win/bcc/gtwvt.lib  ../../../../lib/win/bcc/gtgui.lib
>> Error: Unresolved external '_HB_FUN_HB_SYMBOL_UNUSED' referenced from
>> C:\UTL\HARBOUR\LIB\WIN\BCC\HBRTL.LIB|tget
>> Any hints ?
>
> Each of you with this problem has own customized std.ch which is used
> instead of the one in harbour/include directory or the 
> harbour/include/std.ch
> file is modified.
> It's not Harbour problem but user local environment settings which cause
> that wrong std.ch is built into the Harbour compiler. So far (it's even
> possible that for quite long time) you were created wrong binaries.
> Recent modification which need one rule from original std.ch exploited
> the problem so at least now you can fix it and create correwct harbour
> binaries.
> The question is why wrong std.ch is used instead the original Harbour one
> (I hope that you haven't modified the original file).
> So far I know only three methods:
> 1. set different std.ch in CLIPPER or HARBOUR environment variable, f.e.:
>      set CLIPPER=/umystd.ch
>   or:
>      set HARBOUR=/umystd.ch
>   Viktor added protection against it (it clears above both variables)
>   to build scripts.
> 2. HB_PP_RULES which can be used in some cross compilation points to wrong
>   pptable.c file which is used instead of file dynamically generated.
>   Do not ever try to use this variable as long as you do not know exactly
>   how to create your own customized cross compilation environment. It's
>   for developers only.
> 3. You have some old pptable.c file in harbour/source/pp/ directory which
>   is used instead of the one generated dynamically by hbpp during
>   compilation. It's possible that some old version of non GNU make
>   files left such pptable.c in harbour/source/pp/ directory.
>   Remove if it exists.
>
> Recently JF suggested that the problem can be exploited also by setting
> INCLUDE envvar. I cannot replicate it and confirm.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Informacin de ESET NOD32 Antivirus, versin de la base de firmas 
> de virus 3935 (20090313) __________
>
> ESET NOD32 Antivirus ha comprobado este mensaje.
>
> http://www.eset.com
>
>
> 

From soporte at dsgsoftware.com  Fri Mar 13 13:28:58 2009
From: soporte at dsgsoftware.com (=?iso-8859-1?Q?Juan_G=E1lvez?=)
Date: Fri Mar 13 13:29:17 2009
Subject: [Harbour] Block methods and extended codeblock
Message-ID: <000701c9a401$3b32b030$6c01a8c0@PcJuanxp>

Hi,

I think extended codeblocks don't work inside block methods and I wonder if 
it's a well-known and expected behavior.

CLASS MyClass
...
METHOD lMyMethod( xArg ) BLOCK <|Self, xArg|
                                                                ...
                                                                RETURN .T.
                                                               >
...
END CLASS

Best regards
Juan 

From druzus at acn.waw.pl  Fri Mar 13 14:16:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 14:10:02 2009
Subject: [Harbour] unresolved external symbol
	_HB_FUN_HB_SYMBOL_UNUSED(SOLVED)
In-Reply-To: <7988ade5.1c9a3f8.3e76c0d.3282@mafact.com>
References: <7988ade5.1c9a3f8.3e76c0d.3282@mafact.com>
Message-ID: <20090313181603.GA6894@uran.home.aster.pl>

On Fri, 13 Mar 2009, J. Lefebvre wrote:

Hi,

> You are right Przemek, the real problem was an old pptable.c not deleted by "clean" nor by the make rules.
> As I discovered some old files within my system I deleted them at the same time I changed my envar so the confusion.

Thank you for confirmation.

> Just to be sure, do you know wich other file(s) should be checked ?

I do not remmeber any but you can use `svn stat` command to check which
files does not belong to repository or which ones are modified in your
local copy.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 14:19:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 14:25:16 2009
Subject: [Harbour] Block methods and extended codeblock
In-Reply-To: <000701c9a401$3b32b030$6c01a8c0@PcJuanxp>
References: <000701c9a401$3b32b030$6c01a8c0@PcJuanxp>
Message-ID: <20090313181903.GB6894@uran.home.aster.pl>

On Fri, 13 Mar 2009, Juan G?lvez wrote:

Hi,

> I think extended codeblocks don't work inside block methods and I wonder if 
> it's a well-known and expected behavior.
> CLASS MyClass
> ...
> METHOD lMyMethod( xArg ) BLOCK <|Self, xArg|
>                                                                ...
>                                                                RETURN .T.
>                                >
> ...
> END CLASS

I think they work. It's enough to use extended codeblocks ;-)
   {||
      ...
      RETURN .T.
   }
not:
   <||
      ....
   >

best regards,
Przemek
From abe.buch at att.net  Fri Mar 13 14:40:23 2009
From: abe.buch at att.net (AbeB)
Date: Fri Mar 13 14:40:27 2009
Subject: [Harbour] possible bug in memoedit.prg
Message-ID: <1236969623543-2475089.post@n2.nabble.com>


in memoedit.prg 
    CASE nUserKey == K_CTRL_W
        ::lSaved := .t.   <------missing line
 	::lExitEdit :=  .t. 


------------------
test.prg

press esc & select yes for the alert. it's not


#include "inkey.ch"

STATIC RETVAL := 0
STATIC ALTERED := .F.
STATIC INS_MODE :=  .T.
STATIC MASK_SAVE := .T.

*****************************
PROC REMARKS()
local mbuffer := ""
MBUFFER  :=  MEMOEDIT( MBUFFER , 0,0,MAXROW()-2,79,  .t. ,"REMARKFUNC",78)

IF RETVAL = K_CTRL_W
    ? MBUFFER
ENDIF

RETURN MBUFFER

***************


FUNC REMARKFUNC(MODE, LINE, COL,MBUFFER)
LOCAL MTEMP
LOCAL KP

DO CASE
    CASE MODE = 3
        IF  .NOT. INS_MODE
            RETVAL :=  22
        ENDIF
        @ MAXROW(), 30 SAY IF(INS_MODE, "INSERT", "      ")
        RETVAL := 0

    CASE MODE = 0
        * IDLE
        @ MAXROW(),40 SAY "LINE: " + PAD(LTRIM(STR(LINE)), 4)
        @ MAXROW(),52 SAY "COL: " + PAD(LTRIM(STR(COL)), 3)

    OTHERWISE
        * KEYSTROKE EXCEPTION
        KP = LASTKEY()

        * SAVE VALUES TO POSSIBLY RESUME EDIT
        IF MODE=2
            ALTERED   :=  .T.
        ENDIF
        DO CASE
            CASE KP = K_CTRL_W
                * ^W..IGNORE (DISABLE)
                RETVAL  := 32

            CASE KP = 301 .OR. KP = 27
                * ESC/ALT-X..EXIT
                IF .NOT. ALTERED
                    RETVAL  := 27
                ELSE
                    MTEMP  := ALERT("SAVE EDITING",{"YES","NO"})
                    DO CASE

                        CASE MTEMP = 2
                            RETVAL  := 27
                        CASE MTEMP = 0
                            RETVAL  := 32
                        CASE MTEMP  = 1
                            ? "SAVING....."
                            RETVAL  := K_CTRL_W

                    ENDCASE
                ENDIF

            CASE (KP = 279 .OR. KP = 22)
                * ^V/INS/ALT-I..TOGGLE INSERT MODE
                INS_MODE = .NOT. INS_MODE
                @ MAXROW(), 30 SAY IF(INS_MODE, "INSERT", "      ")
                RETVAL  := 22

        ENDCASE

ENDCASE
RETURN RETVAL
********


-- 
View this message in context: http://n2.nabble.com/possible-bug-in-memoedit.prg-tp2475089p2475089.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 13 15:35:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 15:35:24 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
Message-ID: <18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>

Okay, after switching to an untar tool which doesn't crash
on cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz<http://downloads.sourceforge.net/cegcc/cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz?use_mirror=switch>
,

I've tried to use this script (very unclean, I know):
---
set
PATH=C:\devl\msys\1.0.11\bin;C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin;C:\devl\a\opt\mingw32ce\libexec\gcc\arm-wince-mingw32ce\4.1.0\;%PATH%
set CCPATH=C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin
rem
set HB_COMPILER=mingwce
rem
set HB_BIN_COMPILE=/c/devl/hbvc-1.1/bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem this doesn't seem to work
set INCLUDE=/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/include
set LIB=/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/lib
set HB_USER_CFLAGS=-I/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/include
set HB_USER_LDFLAGS=-L/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/lib
rem
set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
---

I got:
---
cegcc compiler executable not found. Ensure you have cegcc package installed
in
/opt/mingw32ce dir, or (alternatively) set environment variable CCPATH to a
cegcc
installation directory
---

If I change back to plain make_gnu.sh, it will start compiling,
but throws a huge amount of errors, some missing headers, etc.

Any clues, what to adjust?

Brgds,
Viktor



On Fri, Mar 13, 2009 at 4:27 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Okay, maybe I got it. Which is which from these:
>
> cygwin-cegcc-cegcc-0.51.0-1.tar.gz<http://downloads.sourceforge.net/cegcc/cygwin-cegcc-cegcc-0.51.0-1.tar.gz?use_mirror=garr>
>
> cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz<http://downloads.sourceforge.net/cegcc/cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz?use_mirror=switch>
>
> I'm trying with the latter, but I expect some problems,
> as I'm getting "overwrite?" questions when trying to
> exract it :(
>
> [ Hopefully they'll once switch to a Windows friendly
> archive format like .zip for their Windows distros....
> My mind is filtering this extension out when looking
> for win distros. ]
>
> I'll continue after attending today's Richard Stallman
> speech here in Budapest.
>
> Brgds,
> Viktor
>
> On Fri, Mar 13, 2009 at 3:46 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:
>
>> On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
>>
>> Hi,
>>
>> > I was trying to find such package, and now I've retried after
>> > reading your mail, but still I can nowhere find such thing for
>> > download. I've tried looked for the name cegcc, mingwce. I've
>> > checked the project page on sf.net and their downloads are
>> > scarce without binaries. Cygwin doesn't offer them by these
>> > names either.
>> > Could you or someone point me the right direction?
>> > Maybe it should be built from source on Windows?
>> > It would be great to have such tool on Windows, as pocc
>> > isn't very mainstream and MS doens't offer anything free
>> > for WinCE.
>>
>> http://sf.net/projects/cegcc/
>> You will find two types of binaries: CEGCC and MinGWCE.
>> The 1-st one is environment to port console POSIX applications
>> to WinCE. The second one is for normal Windows CE applications.
>> I compiled Harbour with both though the 1-st one only for my own
>> tests and I haven't committed build scripts.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/9535d333/attachment-0001.html
From bedipritpal at hotmail.com  Fri Mar 13 16:43:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Mar 13 16:43:16 2009
Subject: [Harbour] GTWVW => GTWVG Port - A Clarification
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <22501471.post@talk.nabble.com>


Hi Budiyanto, All



> If you mean revising (or rewriting) GTWVW into Harbour, then I'll be very
> much interested, as well as 
> many others. But please keep it backward compatible as much as possible. I
> remember you said here 
> in the past that GTWVW is "impossible" to port to the new GT API because
> there is a conflict with 
> GTWVW's use of first parameter as window designator (for most functions).
> Do you finally find a way 
> to solve that problem? Or do you plan change the convention in GTWVW? (I
> hope it is the former.) 
> 
> Am I interpreting it right with what you mean by "porting GTWVW in GTWVG"? 
> 

When GTWVW came into existance I had already ported my applns to GTWVG,
the then GTWVT+WVTGUI, so I never looked into GTWVW deeply. Everything
I needed was available in GTWVG ( current name ). Rather at that time
I thought pseudo emulation of controls was good enough to appeal my clients
and I was saved of the time to learn a new protocol. With only little
efforts
I was able to roll my applns with a new look and feel.

Over the time concepts changed. Multi-Window and Multi-Threading forced me 
to look into real windows world. I was convinced that a lot can be achieved
on this
front as MT and GT modal of Harbour is much superior to any other in the 
market today. 

I looked around for effective GUI modal to base my next developments
targetting
not only my own needs but the Clipper community in general. The available
modals
in-use for Harbour around were as follow:

1.  FWH
2.  VXH
3.  HWGUI
4.  MINIGUI
5.  XAILER
6.  GTWVW

Every modal had its pros and cons.  Some had documentation missing, 
some were pure IDE based, some dynamic but heavily based on #define(s)
( due a large number of parameters for a single activity ), and some lacked
OOP.
Every modal had its own parameters passing and calling convensions.
And, for sure, all modals lacked adaptation to MT, the biggest mainstay
in the coming future.

What I wanted to base next efforts on development of a GUI :

1) It must be adaptable to MT modal.
2) It should be able to take advantage of MW GT whereever possible.
3) It must adhere to standardization of parameters and calling convensions.
4) It must be having a well written documentation.
5) If possible, it must have a user-base.
6) And above all, it must be able to base Multi-Platform GUI.

After a lot of thinking and spadework I could not accept any of the above.
I just picked Xbase++. This compiler's subsystems were almost fitting 
my ideology, is having a large user-base, ships with descent documentation,
complete with MT capabilities and nicely fits into Multi-GT environments.

Moreover I had worked with this compiler for some time and know how 
best its parameters passing and calling conventions were. Also I wanted to
have 
a well define class framework to dream for a multi-platform GUI framework.

I knew to follow an already established framework is always a difficult
task.
To create a new protocol you are the master of your own thoughts. But to
copy
feature-by-feature is very difficult. But I choose the difficult way.

Also I wanted to have an integrated library which could absorb different 
scattered GUI modals into one as all were having one aspect in common -
Harbour.
My first results are quiet encouraging and now GTWVG can host:

* pure console,
* pseudo GUI console, 
* Xbase++ consols and dialogs with xbase parts,
* pure consoles with Xbase parts,
* and a mixture of any of the above.

In this evolution process GTWVW becomes the next natural GEM to 
be inducted in this whole picture, and probably FWH too, who knows.

If you invest a little time in GTWVG's Xbase++ implementation, you 
will wonder how a Xbase++ .prg ( with only those controls which have 
have taken some shape ) can be compiled in Harbour. And this is the 
same intention for GTWVW too. No code change whatsoever.

As before, today also i say that it is difficult to port GTWVW as is
in new GT system. As GTWVG and GTWVW share the same code base at the 
core levels it is easier to embed GTWVW GUI controls into GTWVG.
End user will not experience any change to his/her code. This way
it is not as difficult as it seems to be.

Also to rewrite it again will be sheer waste of time and resources.
In fact I could never take advantage of GTWVW because it become mutually
exclusive with GTWVG, and which I do not want at this time. Possibly
in the coming few days I will lay the base structure how GTWVW 
functionality can be included in GTWVG. There onwards there should be
cummulative effort to achieve this goal. I alone can achieve but it may 
take a bit longer.

To conclude, GTWVW is not going to be rewritten but will be included 
in GTWVG and for sure end-user will need a minimum to change his code.


Hope I am clear enough.

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22501471.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jfl at mafact.com  Fri Mar 13 16:56:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Fri Mar 13 16:56:36 2009
Subject: [Harbour] can not use pcode dll
Message-ID: <2e450e50.1c9a41e.4de87ff.a99@mafact.com>

Hi, (not my week this week J )
 
When trying to create a dll using only harbour pcode, I receive an error while trying to find the address of the following function :
 
Hb_vmProcessDynLibSymbols, from maindllp.c  (Harbour/source/vm), 
 
/* module symbols initialization with extended information */
PHB_SYMB hb_vmProcessSymbolsEx( PHB_SYMB pSymbols, USHORT uiSymbols, const char * szModuleName, ULONG ulID, USHORT uiPcodeVer )
{
   static FARPROC s_pProcessSymbols = NULL;
 
   if( !s_pProcessSymbols )
      s_pProcessSymbols = hb_getProcAddress( "_hb_vmProcessDynLibSymbols" );
 
   if( s_pProcessSymbols )
      return ( ( VM_PROCESS_SYMBOLS_EX ) s_pProcessSymbols )
                  ( pSymbols, uiSymbols, szModuleName, ulID, uiPcodeVer );
   /* else
    *    may we issue an error ? */
 
   return pSymbols;
}
 
I also tried from Bcc 5.5.1 with the same results from Visual C 2008.
 
Any idea ?
 
Friendly,
 
JF,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/361718dc/attachment.html
From info at fsgiudice.com  Fri Mar 13 17:03:50 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Mar 13 17:04:03 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <49B90F55.1050505@fsgiudice.com>
References: <49B82D2D.1000006@fsgiudice.com>	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>	<49B83275.6000607@fsgiudice.com>	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com>
Message-ID: <49BACA36.4010208@fsgiudice.com>

Hi Viktor,

Il 12/03/2009 14.34, Francesco Saverio Giudice ha scritto:
>>
> Thank you, I will try :-)

after some issues with MSVC express 2008 (error c1902 that stops 
compilation) actually solved, I have tried to build with HB_BUILD_DEBUG=yes.

I got follow errors:
*************
hbmainstd.lib(mainstd.obj) : error LNK2019: riferimento al simbolo 
esterno _hb_tr_trace non risolto nella funzione _main
hbmainstd.lib(mainstd.obj) : error LNK2001: simbolo esterno 
_hb_tr_level_ non risolto
hbmainstd.lib(mainstd.obj) : error LNK2001: simbolo esterno _hb_tr_line_ 
non risolto
hbmainstd.lib(mainstd.obj) : error LNK2001: simbolo esterno _hb_tr_file_ 
non risolto
hbmainstd.lib(mainstd.obj) : error LNK2019: riferimento al simbolo 
esterno _hb_tr_level non risolto nella funzione _main
j:\cvs\harbour_msvc\bin\hbtest-dll.exe : fatal error LNK1120: 5 esterni 
non risolti
*************

translation (mine not from compiler and maybe not correct):

*************
hbmainstd.lib(mainstd.obj) : error LNK2019: reference to external symbol 
_hb_tr_trace not found in function _main
hbmainstd.lib(mainstd.obj) : error LNK2001: external symbol 
_hb_tr_level_ not found
hbmainstd.lib(mainstd.obj) : error LNK2001: external symbol _hb_tr_line_ 
not found
hbmainstd.lib(mainstd.obj) : error LNK2001: external symbol _hb_tr_file_ 
not found
hbmainstd.lib(mainstd.obj) : error LNK2019: reference to external symbol 
  _hb_tr_level not found in function _main
j:\cvs\harbour_msvc\bin\hbtest-dll.exe : fatal error LNK1120: 5 external 
not found
*************

I build with this env:

-------
set HB_DIR_GD=j:\lib\gd
set HB_DIR_FREEIMAGE=j:\lib\freeimage
set HB_DIR_FIREBIRD=J:\Firebird\Firebird_2_1
set HB_DIR_LIBHARU=j:\lib\libharu
set HB_DIR_CURL=j:\lib\curl
set HB_DIR_OPENSSL=j:\lib\openssl
set HB_DIR_BLAT=j:\lib\blat

set HB_INC_GD=%HB_DIR_GD%\include
set HB_INC_FREEIMAGE=%HB_DIR_FREEIMAGE%\Source
set HB_INC_FIREBIRD=%HB_DIR_FIREBIRD%\include
set HB_INC_LIBHARU=%HB_DIR_LIBHARU%\include
set HB_INC_CURL=%HB_DIR_CURL%\include\curl
set HB_INC_OPENSSL=%HB_DIR_OPENSSL%\inc32\openssl

SET HARBOURFLAGS=-DHB_HASH_MSG_ITEMS
set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF

set HB_BUILD_DLL=yes
set HB_BUILD_IMPLIB=yes
set HB_BUILD_DEBUG=yes
----------

Finally, if I set
set HB_BUILD_DEBUG=no
all goes correctly.

Best regards,
Francesco
From info at fsgiudice.com  Fri Mar 13 17:07:36 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Mar 13 17:07:46 2009
Subject: [Harbour] How can man logged with uHTTPD
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED56E@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED56E@PINK.zycie.pzu>
Message-ID: <49BACB18.3070303@fsgiudice.com>

Hi Marek,

Il 12/03/2009 17.26, Horodyski Marek (PZUZ) ha scritto:
> Francesco, can you add to uhttpd small example with "loging/password"
> user on www ?
> 
I think that you want to see an example using sessions with HRB modules, 
I suppose. Isn't is ?

Best regards,
Francesco


From druzus at acn.waw.pl  Fri Mar 13 17:27:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 17:21:27 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
Message-ID: <20090313212725.GA17701@uran.home.aster.pl>

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
> I've tried to use this script (very unclean, I know):
> set
> PATH=C:\devl\msys\1.0.11\bin;C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin;C:\devl\a\opt\mingw32ce\libexec\gcc\arm-wince-mingw32ce\4.1.0\;%PATH%
> set CCPATH=C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin

Not of the above is correct.
In C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin you have ARM WinCE
binaries.
In C:\devl\a\opt\mingw32ce\libexec\gcc\arm-wince-mingw32ce\4.1.0\
are GCC binaries which does not have to be in PATH. They are internally
accessed by x86 binaries.
x86 binaries are in C:\devl\a\opt\mingw32ce\bin directory.
and only this directory you should have in the PATH.
I hope that windows binaries are relocatable and you do not have to
install them in /opt directory. They should be but I'm not sure.

set CCPATH=/c/devl/a/opt/mingw32ce/bin

is enough.

> rem
> set HB_COMPILER=mingwce
> rem
> set HB_BIN_COMPILE=/c/devl/hbvc-1.1/bin

This is internal variables fortunately overwritten. Otherwise you'd lost
/c/devl/hbvc-1.1/bin directory.
I guess you want to set HB_COMP_PATH. It's necessary only if you do not
want to use native binaries from Harbour source tree created by gcc (MinGW
in Windows). In such case you should set full path with file name to harbour
compiler, f.e.;
   set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe

> set HB_PPGEN_PATH=%HB_BIN_COMPILE%

as above. Necessery only if you do not want to use native binaries from
Harbour source tree. Shuld have full path with hbpp file name.

> rem this doesn't seem to work
> set INCLUDE=/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/include
> set LIB=/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/lib

Neither INCLUDE nor LIB are GCC envvars. Please remove them.

> set HB_USER_CFLAGS=-I/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/include
> set HB_USER_LDFLAGS=-L/c/devl/a/opt/mingw32ce/arm-wince-mingw32ce/lib

They are not necessary. If GCC does not detect installation PATH then
the above does not help too.

> rem
> set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
> sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
> ---
> I got:
> ---
> cegcc compiler executable not found. Ensure you have cegcc package installed
> in
> /opt/mingw32ce dir, or (alternatively) set environment variable CCPATH to a
> cegcc
> installation directory
> ---

Because you haven't set valid directory in CCPATH.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Mar 13 17:36:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 17:36:06 2009
Subject: [Harbour] firebird new warnings in mingw 4.3.2
Message-ID: <18d502870903131436l78647a34s45c9d9bdc393d506@mail.gmail.com>

Hi all,
I don't know how to fix these, they seem new:

../../firebird.c: In function 'HB_FUN_FBGETDATA':
../../firebird.c:570: warning: unknown conversion type character 'I' in
format
../../firebird.c:570: warning: unknown conversion type character 'I' in
format
../../firebird.c:570: warning: too many arguments for format
../../firebird.c:576: warning: unknown conversion type character 'I' in
format
../../firebird.c:576: warning: unknown conversion type character 'I' in
format
../../firebird.c:576: warning: too many arguments for format
../../firebird.c:582: warning: unknown conversion type character 'I' in
format
../../firebird.c:582: warning: too many arguments for format
../../firebird.c:585: warning: unknown conversion type character 'I' in
format
../../firebird.c:585: warning: field width should have type 'int', but
argument 5 has type 'ISC_INT64'
../../firebird.c:585: warning: too many arguments for format
../../firebird.c:587: warning: unknown conversion type character 'I' in
format
../../firebird.c:587: warning: too many arguments for format

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/214edf90/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar 13 17:44:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 17:44:28 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <20090313212725.GA17701@uran.home.aster.pl>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
Message-ID: <18d502870903131444j840daa9h68c1dbd00f78b24c@mail.gmail.com>

Hi Przemek,


> Not of the above is correct.
> In C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin you have ARM WinCE
> binaries.


No, I can run them in XP.


> In C:\devl\a\opt\mingw32ce\libexec\gcc\arm-wince-mingw32ce\4.1.0\
> are GCC binaries which does not have to be in PATH. They are internally
> accessed by x86 binaries.


Yes, only three executables are there (cc1.exe notably), and
if they aren't in PATH, gcc.exe complains that it cannot execute
cc1.exe, that's why I added it.


> x86 binaries are in C:\devl\a\opt\mingw32ce\bin directory.
> and only this directory you should have in the PATH.


Yes, that's what I wanted to do first, however, it's impossible
that would work, since I have these files in that directory (note
the file lengths):

arm-wince-mingw32ce-gccbug                  |    16,115
arm-wince-mingw32ce-gcc-4.1.0               |   360,474
arm-wince-mingw32ce-addr2line.exe           | 1,253,266
arm-wince-mingw32ce-ar.exe                  |         0
arm-wince-mingw32ce-as.exe                  |         0
arm-wince-mingw32ce-c++.exe                 |   364,076
arm-wince-mingw32ce-c++filt.exe             | 1,244,394
arm-wince-mingw32ce-cpp.exe                 |   362,556
arm-wince-mingw32ce-dlltool.exe             |         0
arm-wince-mingw32ce-g++.exe                 |         0
arm-wince-mingw32ce-gcc.exe                 |         0
arm-wince-mingw32ce-gcov.exe                |   133,835
arm-wince-mingw32ce-gdb.exe                 | 2,740,579
arm-wince-mingw32ce-gprof.exe               | 1,387,383
arm-wince-mingw32ce-ld.exe                  |         0
arm-wince-mingw32ce-nm.exe                  |         0
arm-wince-mingw32ce-objcopy.exe             | 1,743,015
arm-wince-mingw32ce-objdump.exe             |         0
arm-wince-mingw32ce-ranlib.exe              |         0
arm-wince-mingw32ce-readelf.exe             |   695,907
arm-wince-mingw32ce-run.exe                 |   645,229
arm-wince-mingw32ce-size.exe                | 1,119,616
arm-wince-mingw32ce-strings.exe             | 1,118,936
arm-wince-mingw32ce-strip.exe               |         0
arm-wince-mingw32ce-stub.exe                |    13,312
arm-wince-mingw32ce-windres.exe             | 1,454,368

My untgz32.exe tool GPF-ed when uncompressing the .tar.gz
file, so I've used 7z.exe to unpack it.

> set HB_BIN_COMPILE=/c/devl/hbvc-1.1/bin
>
> This is internal variables fortunately overwritten. Otherwise you'd lost
> /c/devl/hbvc-1.1/bin directory.
> I guess you want to set HB_COMP_PATH. It's necessary only if you do not
> want to use native binaries from Harbour source tree created by gcc (MinGW
> in Windows). In such case you should set full path with file name to
> harbour
> compiler, f.e.;
>   set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
>
> > set HB_PPGEN_PATH=%HB_BIN_COMPILE%
>
> as above. Necessery only if you do not want to use native binaries from
> Harbour source tree. Shuld have full path with hbpp file name.


I'm afraid I don't get it, sorry. I've been using these sine 1.0.0
release (successfully), and even documented them in INSTALL, and
here on the list as the proper ways to setup location of native binaries.

What is the proper way then? How to point to hbpp.exe?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/db928fc1/attachment.html
From harbour.01 at syenar.hu  Fri Mar 13 17:45:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 17:45:15 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <49BACA36.4010208@fsgiudice.com>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com> <49BACA36.4010208@fsgiudice.com>
Message-ID: <18d502870903131445u505121cfwab87d24a82ed1970@mail.gmail.com>

Hi Francesco,

Sorry, all these issues are getting too broad for me to oversee, so I'd
appreciate if other could contribute :(
If there is no solution, I can just turn off TRACE when using
debug mode, which will solve the problem.

Brgds,
Viktor

On Fri, Mar 13, 2009 at 10:03 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
> Il 12/03/2009 14.34, Francesco Saverio Giudice ha scritto:
>
>>
>>>  Thank you, I will try :-)
>>
>
> after some issues with MSVC express 2008 (error c1902 that stops
> compilation) actually solved, I have tried to build with HB_BUILD_DEBUG=yes.
>
> I got follow errors:
> *************
> hbmainstd.lib(mainstd.obj) : error LNK2019: riferimento al simbolo esterno
> _hb_tr_trace non risolto nella funzione _main
> hbmainstd.lib(mainstd.obj) : error LNK2001: simbolo esterno _hb_tr_level_
> non risolto
> hbmainstd.lib(mainstd.obj) : error LNK2001: simbolo esterno _hb_tr_line_
> non risolto
> hbmainstd.lib(mainstd.obj) : error LNK2001: simbolo esterno _hb_tr_file_
> non risolto
> hbmainstd.lib(mainstd.obj) : error LNK2019: riferimento al simbolo esterno
> _hb_tr_level non risolto nella funzione _main
> j:\cvs\harbour_msvc\bin\hbtest-dll.exe : fatal error LNK1120: 5 esterni non
> risolti
> *************
>
> translation (mine not from compiler and maybe not correct):
>
> *************
> hbmainstd.lib(mainstd.obj) : error LNK2019: reference to external symbol
> _hb_tr_trace not found in function _main
> hbmainstd.lib(mainstd.obj) : error LNK2001: external symbol _hb_tr_level_
> not found
> hbmainstd.lib(mainstd.obj) : error LNK2001: external symbol _hb_tr_line_
> not found
> hbmainstd.lib(mainstd.obj) : error LNK2001: external symbol _hb_tr_file_
> not found
> hbmainstd.lib(mainstd.obj) : error LNK2019: reference to external symbol
>  _hb_tr_level not found in function _main
> j:\cvs\harbour_msvc\bin\hbtest-dll.exe : fatal error LNK1120: 5 external
> not found
> *************
>
> I build with this env:
>
> -------
> set HB_DIR_GD=j:\lib\gd
> set HB_DIR_FREEIMAGE=j:\lib\freeimage
> set HB_DIR_FIREBIRD=J:\Firebird\Firebird_2_1
> set HB_DIR_LIBHARU=j:\lib\libharu
> set HB_DIR_CURL=j:\lib\curl
> set HB_DIR_OPENSSL=j:\lib\openssl
> set HB_DIR_BLAT=j:\lib\blat
>
> set HB_INC_GD=%HB_DIR_GD%\include
> set HB_INC_FREEIMAGE=%HB_DIR_FREEIMAGE%\Source
> set HB_INC_FIREBIRD=%HB_DIR_FIREBIRD%\include
> set HB_INC_LIBHARU=%HB_DIR_LIBHARU%\include
> set HB_INC_CURL=%HB_DIR_CURL%\include\curl
> set HB_INC_OPENSSL=%HB_DIR_OPENSSL%\inc32\openssl
>
> SET HARBOURFLAGS=-DHB_HASH_MSG_ITEMS
> set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF
>
> set HB_BUILD_DLL=yes
> set HB_BUILD_IMPLIB=yes
> set HB_BUILD_DEBUG=yes
> ----------
>
> Finally, if I set
> set HB_BUILD_DEBUG=no
> all goes correctly.
>
>
> Best regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/4671d662/attachment.html
From vszakats at users.sourceforge.net  Fri Mar 13 18:21:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 13 18:21:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10607] trunk/harbour
Message-ID: <E1LiFlH-0000AY-Np@74yxhf1.ch3.sourceforge.com>

Revision: 10607
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10607&view=rev
Author:   vszakats
Date:     2009-03-13 22:21:50 +0000 (Fri, 13 Mar 2009)

Log Message:
-----------
2009-03-13 23:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu.bat
  * config/win/global.cf
    * HB_BUILD_DLL is now processed by make_gnu.bat and another
      internal envvar is used to request DLL flags from the GNU
      Make. This way some side effects are avoided when doing a
      make_gnu.sh launched build.

  * make_gnu.sh
    + Emptying CLIPPER/HARBOUR envvars before starting the build.
      (please test)

  * contrib/hbfbird/firebird.c
    * Minor formatting.

  * contrib/hbcurl/hbcurl.c
    ! Fixed warning/bug in recently added feature.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/global.cf
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Fri Mar 13 18:35:24 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Mar 13 18:35:34 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <18d502870903131445u505121cfwab87d24a82ed1970@mail.gmail.com>
References: <49B82D2D.1000006@fsgiudice.com>	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>	<49B83275.6000607@fsgiudice.com>	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>	<49B90F55.1050505@fsgiudice.com>
	<49BACA36.4010208@fsgiudice.com>
	<18d502870903131445u505121cfwab87d24a82ed1970@mail.gmail.com>
Message-ID: <49BADFAC.5060105@fsgiudice.com>

Hi Viktor,

Il 13/03/2009 22.45, Viktor Szak?ts ha scritto:
> Hi Francesco,
> 
> Sorry, all these issues are getting too broad for me to oversee, 
> so I'd appreciate if other could contribute :(
> 
> If there is no solution, I can just turn off TRACE when using 
> debug mode, which will solve the problem.
> 

No problem at all, instead thank you for your efforts.
I don't know enough about make process to help you, but I can try if you 
tell me how help.

The only thing I found is that at the end of hbtrace.h I think that 
there are lines responsible of error
-------
at line # 215:
extern const char * hb_tr_file_;
extern int          hb_tr_line_;
extern int          hb_tr_level_;

extern int    hb_tracestate( int new_state );
extern int    hb_tracelevel( int new_level );

extern int    hb_tr_level( void );
extern void   hb_tr_trace( const char * fmt, ... ) HB_PRINTF_FORMAT( 1, 2 );

HB_EXTERN_END

#endif /* HB_TRACE_H_ */
-------
but I don't understand how this file is used.

Best regards,
Francesco
From harbour.01 at syenar.hu  Fri Mar 13 18:49:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 18:49:27 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903131444j840daa9h68c1dbd00f78b24c@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131444j840daa9h68c1dbd00f78b24c@mail.gmail.com>
Message-ID: <18d502870903131549x23d9e05fn7aeee411a34d3b06@mail.gmail.com>

Well, I had to resort to the old method and unpack the .tgz under OS X (or
Linux), and copy back the results.

It's possible to do on Windows also, if the gzipping is done
with gzip and the untar using a working tar.exe. MinGW 4.3.2
has one.

[ For me it's still a miracle how in 2009 there isn't a fully
operational tar.exe for Windows. And also why someone
distributes stuff in .tgz (with links!) for Windows... ]

Brgds,
Viktor

On Fri, Mar 13, 2009 at 10:44 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Przemek,
>
>
>> Not of the above is correct.
>> In C:\devl\a\opt\mingw32ce\arm-wince-mingw32ce\bin you have ARM WinCE
>> binaries.
>
>
> No, I can run them in XP.
>
>
>> In C:\devl\a\opt\mingw32ce\libexec\gcc\arm-wince-mingw32ce\4.1.0\
>> are GCC binaries which does not have to be in PATH. They are internally
>> accessed by x86 binaries.
>
>
> Yes, only three executables are there (cc1.exe notably), and
> if they aren't in PATH, gcc.exe complains that it cannot execute
> cc1.exe, that's why I added it.
>
>
>> x86 binaries are in C:\devl\a\opt\mingw32ce\bin directory.
>> and only this directory you should have in the PATH.
>
>
> Yes, that's what I wanted to do first, however, it's impossible
> that would work, since I have these files in that directory (note
> the file lengths):
>
> arm-wince-mingw32ce-gccbug                  |    16,115
> arm-wince-mingw32ce-gcc-4.1.0               |   360,474
> arm-wince-mingw32ce-addr2line.exe           | 1,253,266
> arm-wince-mingw32ce-ar.exe                  |         0
> arm-wince-mingw32ce-as.exe                  |         0
> arm-wince-mingw32ce-c++.exe                 |   364,076
> arm-wince-mingw32ce-c++filt.exe             | 1,244,394
> arm-wince-mingw32ce-cpp.exe                 |   362,556
> arm-wince-mingw32ce-dlltool.exe             |         0
> arm-wince-mingw32ce-g++.exe                 |         0
> arm-wince-mingw32ce-gcc.exe                 |         0
> arm-wince-mingw32ce-gcov.exe                |   133,835
> arm-wince-mingw32ce-gdb.exe                 | 2,740,579
> arm-wince-mingw32ce-gprof.exe               | 1,387,383
> arm-wince-mingw32ce-ld.exe                  |         0
> arm-wince-mingw32ce-nm.exe                  |         0
> arm-wince-mingw32ce-objcopy.exe             | 1,743,015
> arm-wince-mingw32ce-objdump.exe             |         0
> arm-wince-mingw32ce-ranlib.exe              |         0
> arm-wince-mingw32ce-readelf.exe             |   695,907
> arm-wince-mingw32ce-run.exe                 |   645,229
> arm-wince-mingw32ce-size.exe                | 1,119,616
> arm-wince-mingw32ce-strings.exe             | 1,118,936
> arm-wince-mingw32ce-strip.exe               |         0
> arm-wince-mingw32ce-stub.exe                |    13,312
> arm-wince-mingw32ce-windres.exe             | 1,454,368
>
> My untgz32.exe tool GPF-ed when uncompressing the .tar.gz
> file, so I've used 7z.exe to unpack it.
>
> > set HB_BIN_COMPILE=/c/devl/hbvc-1.1/bin
>>
>> This is internal variables fortunately overwritten. Otherwise you'd lost
>> /c/devl/hbvc-1.1/bin directory.
>> I guess you want to set HB_COMP_PATH. It's necessary only if you do not
>> want to use native binaries from Harbour source tree created by gcc (MinGW
>> in Windows). In such case you should set full path with file name to
>> harbour
>> compiler, f.e.;
>>   set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
>>
>> > set HB_PPGEN_PATH=%HB_BIN_COMPILE%
>>
>> as above. Necessery only if you do not want to use native binaries from
>> Harbour source tree. Shuld have full path with hbpp file name.
>
>
> I'm afraid I don't get it, sorry. I've been using these sine 1.0.0
> release (successfully), and even documented them in INSTALL, and
> here on the list as the proper ways to setup location of native binaries.
>
> What is the proper way then? How to point to hbpp.exe?
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090313/d75c5037/attachment-0001.html
From harbour.01 at syenar.hu  Fri Mar 13 19:09:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 19:09:23 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <20090313212725.GA17701@uran.home.aster.pl>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
Message-ID: <18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>

Current results with both Cygwin and msys (it's very much
unclear how Cygwin/MinGW relates to each other in this
scenario, but that's pretty much usual for everything which
contains Cygwin in it..), and at this point I'm stuck:

1.) Cygwin
---
set
PATH=C:\devl\cygwin\bin;C:\devl\cygwin\opt\mingw32ce\bin;C:\devl\hbvc-1.1\bin;%PATH%
set CCPATH=C:\devl\cygwin\opt\mingw32ce\bin
rem
set HB_COMPILER=mingwce
rem
set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
rem
set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
--- =>
You must have a working 'harbour' executable for your platform on your PATH.
---

(I have a working harbour.exe in C:\devl\hbvc-1.1\bin)

2.) MinGW/msys
---
set PATH=C:\devl\msys\1.0.11\bin;C:\devl\cygwin\opt\mingw32ce\bin;%PATH%
set CCPATH=C:\devl\cygwin\opt\mingw32ce\bin
rem
set HB_COMPILER=mingwce
rem
set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
rem
set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
--- =>
ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3840/hbpp.exe' to
`/c/work/harbour-new/harbour/source/pp/win/mingw/hbpp': No such file or
directory
make -C doc install
make: make: Command not found
make: [doc.inst] Error 127 (ignored)
make -C include install
make: make: Command not found
make: [include.inst] Error 127 (ignored)
make -C source install
make: make: Command not found
make: [source.inst] Error 127 (ignored)
make -C contrib install
make: make: Command not found
make: [contrib.inst] Error 127 (ignored)
./bin/postinst.sh
Generating /c/devl/hbmingwce-1.1-test/bin/hbmk.cfg...
Generating /c/devl/hbmingwce-1.1-test/bin/hbce-build...
Creating links...
Making harbour.dll...
---
Plus I'm getting a cygwin1.dll missing Windows error
message when arm-wince-mingw32ce-gcc.exe is attempted to run. I have
cygwin1.dll in the PATH. And I can manually run
arm-wince-mingw32ce-gcc.exe, before calling make_gnu.sh.

(I have hbpp.exe in the dir above.)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/b601351e/attachment.html
From harbour.01 at syenar.hu  Fri Mar 13 19:12:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 13 19:12:38 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <49BADFAC.5060105@fsgiudice.com>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com> <49BACA36.4010208@fsgiudice.com>
	<18d502870903131445u505121cfwab87d24a82ed1970@mail.gmail.com>
	<49BADFAC.5060105@fsgiudice.com>
Message-ID: <18d502870903131612y5838d5bap14997f7dedae06c3@mail.gmail.com>

>
> Hi Francesco,
>>
>> Sorry, all these issues are getting too broad for me to oversee, so I'd
>> appreciate if other could contribute :(
>>
>> If there is no solution, I can just turn off TRACE when using debug mode,
>> which will solve the problem.
>>
>>
> No problem at all, instead thank you for your efforts.
> I don't know enough about make process to help you, but I can try if you
> tell me how help.


Thank you!


> The only thing I found is that at the end of hbtrace.h I think that there
> are lines responsible of error
> -------
> at line # 215:
> extern const char * hb_tr_file_;
> extern int          hb_tr_line_;
> extern int          hb_tr_level_;
> -------
> but I don't understand how this file is used.


Yes, this file is always included, so I wonder how can these
symbols become unresolved. The kind of error rings some
bells related to .dlls, but in a simple build dlls shouldn't be
involved. If that's what you're doing, maybe it's a link cmdline
generation problem inside hbmk2. (hbmk2 is used to create
hbtest-dll.exe and hbrun-dll.exe at the end of the dll-phase of
the make process)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/17ec6168/attachment.html
From druzus at acn.waw.pl  Fri Mar 13 20:22:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 20:16:44 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903131549x23d9e05fn7aeee411a34d3b06@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131444j840daa9h68c1dbd00f78b24c@mail.gmail.com>
	<18d502870903131549x23d9e05fn7aeee411a34d3b06@mail.gmail.com>
Message-ID: <20090314002249.GA5284@uran.home.aster.pl>

On Fri, 13 Mar 2009, Szak?ts Viktor wrote:
> [ For me it's still a miracle how in 2009 there isn't a fully
> operational tar.exe for Windows. And also why someone
> distributes stuff in .tgz (with links!) for Windows... ]

Probably the author uses fully functional tar for Windows which
can emulate softlinks.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 20:41:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 20:35:14 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>
Message-ID: <20090314004118.GB5284@uran.home.aster.pl>

On Sat, 14 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Current results with both Cygwin and msys (it's very much
> unclear how Cygwin/MinGW relates to each other in this
> scenario, but that's pretty much usual for everything which
> contains Cygwin in it..), and at this point I'm stuck:

Sorry but I do not understand.
These are cygwin binaries not cygwin environment which you
do not need.

> 1.) Cygwin
> ---
> set
> PATH=C:\devl\cygwin\bin;C:\devl\cygwin\opt\mingw32ce\bin;C:\devl\hbvc-1.1\bin;%PATH%
> set CCPATH=C:\devl\cygwin\opt\mingw32ce\bin
> rem
> set HB_COMPILER=mingwce
> rem
> set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
> rem
> set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
> sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
> --- =>
> You must have a working 'harbour' executable for your platform on your PATH.
> ---

AFAIR Pritpal without any deep knowledge about MSys/MinGW[CE] and *nix
like shell environments created WinGWCE binaries.
I do not remember that he was trying to create some mixed Cygwin/MinGWCE
environment.

> (I have a working harbour.exe in C:\devl\hbvc-1.1\bin)
> 2.) MinGW/msys
> ---
> set PATH=C:\devl\msys\1.0.11\bin;C:\devl\cygwin\opt\mingw32ce\bin;%PATH%
> set CCPATH=C:\devl\cygwin\opt\mingw32ce\bin

I wrote that CCPATH is enough. Why you are setting also PATH.

> rem
> set HB_COMPILER=mingwce
> rem
> set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
> rem
> set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
> sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
> --- =>
> ln: creating symbolic link `/tmp/hb-arm-wince-mingw32ce--3840/hbpp.exe' to
> `/c/work/harbour-new/harbour/source/pp/win/mingw/hbpp': No such file or
> directory

set HB_PPGEN_PATH=/c/devl/hbvc-1.1/bin/hbpp.exe
This also was in previous message. Sorry that it was not clear enough.

> make -C doc install
> make: make: Command not found
> make: [doc.inst] Error 127 (ignored)
> make -C include install
> make: make: Command not found
> make: [include.inst] Error 127 (ignored)
> make -C source install
> make: make: Command not found
> make: [source.inst] Error 127 (ignored)
> make -C contrib install
> make: make: Command not found
> make: [contrib.inst] Error 127 (ignored)

Probably some recent modifications in .cf files broke sth.
Looks that it cannot find 'make' binaries.

> ./bin/postinst.sh
> Generating /c/devl/hbmingwce-1.1-test/bin/hbmk.cfg...
> Generating /c/devl/hbmingwce-1.1-test/bin/hbce-build...
> Creating links...
> Making harbour.dll...
> ---
> Plus I'm getting a cygwin1.dll missing Windows error
> message when arm-wince-mingw32ce-gcc.exe is attempted to run. I have
> cygwin1.dll in the PATH. And I can manually run
> arm-wince-mingw32ce-gcc.exe, before calling make_gnu.sh.

These are your local environment settings problems, not Harbour ones.
Maybe in MSys does not see your all CMD.EXE paths due to some PATH
translation problems or it's result of mixing CYGWIN environment
with MSys.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 20:42:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 20:36:53 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <18d502870903131612y5838d5bap14997f7dedae06c3@mail.gmail.com>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com> <49BACA36.4010208@fsgiudice.com>
	<18d502870903131445u505121cfwab87d24a82ed1970@mail.gmail.com>
	<49BADFAC.5060105@fsgiudice.com>
	<18d502870903131612y5838d5bap14997f7dedae06c3@mail.gmail.com>
Message-ID: <20090314004258.GC5284@uran.home.aster.pl>

On Sat, 14 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > The only thing I found is that at the end of hbtrace.h I think that there
> > are lines responsible of error
> > -------
> > at line # 215:
> > extern const char * hb_tr_file_;
> > extern int          hb_tr_line_;
> > extern int          hb_tr_level_;
> > -------
> > but I don't understand how this file is used.
> Yes, this file is always included, so I wonder how can these
> symbols become unresolved.

Missing HB_EXPORT.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 13 21:00:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 13 20:54:37 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <20090314004118.GB5284@uran.home.aster.pl>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>
	<20090314004118.GB5284@uran.home.aster.pl>
Message-ID: <20090314010042.GA22245@uran.home.aster.pl>

On Sat, 14 Mar 2009, Przemyslaw Czerpak wrote:

Hi,

> > set PATH=C:\devl\cygwin\bin;C:\devl\cygwin\opt\mingw32ce\bin;C:\devl\hbvc-1.1\bin;%PATH%
             ^^^^^^^^^^^^^^^^^^
> > make -C doc install
> > make: make: Command not found
> > make: [doc.inst] Error 127 (ignored)
> > make -C include install
> > make: make: Command not found
> > make: [include.inst] Error 127 (ignored)
> > make -C source install
> > make: make: Command not found
> > make: [source.inst] Error 127 (ignored)
> > make -C contrib install
> > make: make: Command not found
> > make: [contrib.inst] Error 127 (ignored)
> Probably some recent modifications in .cf files broke sth.
> Looks that it cannot find 'make' binaries.

I guess: Due to mixed cygwin and MinGWCE environment old GNU make
from cygwin directory was used.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Mar 13 21:06:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 13 21:06:49 2009
Subject: [Harbour] GTWVW => GTWVG Port - A Clarification
In-Reply-To: <22501471.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com> <22501471.post@talk.nabble.com>
Message-ID: <609353e70903131806u33ef5a9sfcec6aafa5e184cd@mail.gmail.com>

Very good news!And compliment for strange gtwvg
Wich timeline for gtwvg porting?
In this class will be planed also a basic version of class with a future web
interface (ajax like)?
another idea is that If we can extend gui in harbour instead of in c++ this
is expansion will be very portable

2009/3/13 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi Budiyanto, All
>
>
>
> > If you mean revising (or rewriting) GTWVW into Harbour, then I'll be very
> > much interested, as well as
> > many others. But please keep it backward compatible as much as possible.
> I
> > remember you said here
> > in the past that GTWVW is "impossible" to port to the new GT API because
> > there is a conflict with
> > GTWVW's use of first parameter as window designator (for most functions).
> > Do you finally find a way
> > to solve that problem? Or do you plan change the convention in GTWVW? (I
> > hope it is the former.)
> >
> > Am I interpreting it right with what you mean by "porting GTWVW in
> GTWVG"?
> >
>
> When GTWVW came into existance I had already ported my applns to GTWVG,
> the then GTWVT+WVTGUI, so I never looked into GTWVW deeply. Everything
> I needed was available in GTWVG ( current name ). Rather at that time
> I thought pseudo emulation of controls was good enough to appeal my clients
> and I was saved of the time to learn a new protocol. With only little
> efforts
> I was able to roll my applns with a new look and feel.
>
> Over the time concepts changed. Multi-Window and Multi-Threading forced me
> to look into real windows world. I was convinced that a lot can be achieved
> on this
> front as MT and GT modal of Harbour is much superior to any other in the
> market today.
>
> I looked around for effective GUI modal to base my next developments
> targetting
> not only my own needs but the Clipper community in general. The available
> modals
> in-use for Harbour around were as follow:
>
> 1.  FWH
> 2.  VXH
> 3.  HWGUI
> 4.  MINIGUI
> 5.  XAILER
> 6.  GTWVW
>
> Every modal had its pros and cons.  Some had documentation missing,
> some were pure IDE based, some dynamic but heavily based on #define(s)
> ( due a large number of parameters for a single activity ), and some lacked
> OOP.
> Every modal had its own parameters passing and calling convensions.
> And, for sure, all modals lacked adaptation to MT, the biggest mainstay
> in the coming future.
>
> What I wanted to base next efforts on development of a GUI :
>
> 1) It must be adaptable to MT modal.
> 2) It should be able to take advantage of MW GT whereever possible.
> 3) It must adhere to standardization of parameters and calling convensions.
> 4) It must be having a well written documentation.
> 5) If possible, it must have a user-base.
> 6) And above all, it must be able to base Multi-Platform GUI.
>
> After a lot of thinking and spadework I could not accept any of the above.
> I just picked Xbase++. This compiler's subsystems were almost fitting
> my ideology, is having a large user-base, ships with descent documentation,
> complete with MT capabilities and nicely fits into Multi-GT environments.
>
> Moreover I had worked with this compiler for some time and know how
> best its parameters passing and calling conventions were. Also I wanted to
> have
> a well define class framework to dream for a multi-platform GUI framework.
>
> I knew to follow an already established framework is always a difficult
> task.
> To create a new protocol you are the master of your own thoughts. But to
> copy
> feature-by-feature is very difficult. But I choose the difficult way.
>
> Also I wanted to have an integrated library which could absorb different
> scattered GUI modals into one as all were having one aspect in common -
> Harbour.
> My first results are quiet encouraging and now GTWVG can host:
>
> * pure console,
> * pseudo GUI console,
> * Xbase++ consols and dialogs with xbase parts,
> * pure consoles with Xbase parts,
> * and a mixture of any of the above.
>
> In this evolution process GTWVW becomes the next natural GEM to
> be inducted in this whole picture, and probably FWH too, who knows.
>
> If you invest a little time in GTWVG's Xbase++ implementation, you
> will wonder how a Xbase++ .prg ( with only those controls which have
> have taken some shape ) can be compiled in Harbour. And this is the
> same intention for GTWVW too. No code change whatsoever.
>
> As before, today also i say that it is difficult to port GTWVW as is
> in new GT system. As GTWVG and GTWVW share the same code base at the
> core levels it is easier to embed GTWVW GUI controls into GTWVG.
> End user will not experience any change to his/her code. This way
> it is not as difficult as it seems to be.
>
> Also to rewrite it again will be sheer waste of time and resources.
> In fact I could never take advantage of GTWVW because it become mutually
> exclusive with GTWVG, and which I do not want at this time. Possibly
> in the coming few days I will lay the base structure how GTWVW
> functionality can be included in GTWVG. There onwards there should be
> cummulative effort to achieve this goal. I alone can achieve but it may
> take a bit longer.
>
> To conclude, GTWVW is not going to be rewritten but will be included
> in GTWVG and for sure end-user will need a minimum to change his code.
>
>
> Hope I am clear enough.
>
> Regards
> Pritpal Bedi
>
>
>
> --
> View this message in context:
> http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22501471.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/8908be50/attachment-0001.html
From budyanto at centrin.net.id  Fri Mar 13 20:31:59 2009
From: budyanto at centrin.net.id (Budyanto Dj.)
Date: Sat Mar 14 03:33:07 2009
Subject: [Harbour] GTWVW => GTWVG Port - A Clarification
In-Reply-To: <22501471.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <49BB5D6F.24713.4A32ABB@localhost>

Hi Pritpal,

Thank you for your explanation. Yes, it is clear to me now.

regards,
Budyanto

On 13 Mar 2009 at 13:43, Pritpal Bedi wrote:
> Hi Budiyanto, All
> 
> 
> 
> > If you mean revising (or rewriting) GTWVW into Harbour, then I'll be very much
> > interested, as well as many others. But please keep it backward compatible as
> > much as possible. I remember you said here in the past that GTWVW is
> > "impossible" to port to the new GT API because there is a conflict with
> > GTWVW's use of first parameter as window designator (for most functions). Do
> > you finally find a way to solve that problem? Or do you plan change the
> > convention in GTWVW? (I hope it is the former.) 
> > 
> > Am I interpreting it right with what you mean by "porting GTWVW in GTWVG"? 
> > 
> 
> When GTWVW came into existance I had already ported my applns to GTWVG,
> the then GTWVT+WVTGUI, so I never looked into GTWVW deeply. Everything
> I needed was available in GTWVG ( current name ). Rather at that time
> I thought pseudo emulation of controls was good enough to appeal my clients and
> I was saved of the time to learn a new protocol. With only little efforts I was
> able to roll my applns with a new look and feel.
> 
> Over the time concepts changed. Multi-Window and Multi-Threading forced me to
> look into real windows world. I was convinced that a lot can be achieved on this
> front as MT and GT modal of Harbour is much superior to any other in the market
> today. 
> 
> I looked around for effective GUI modal to base my next developments
> targetting
> not only my own needs but the Clipper community in general. The available
> modals
> in-use for Harbour around were as follow:
> 
> 1.  FWH
> 2.  VXH
> 3.  HWGUI
> 4.  MINIGUI
> 5.  XAILER
> 6.  GTWVW
> 
> Every modal had its pros and cons.  Some had documentation missing, 
> some were pure IDE based, some dynamic but heavily based on #define(s)
> ( due a large number of parameters for a single activity ), and some lacked OOP.
> Every modal had its own parameters passing and calling convensions. And, for
> sure, all modals lacked adaptation to MT, the biggest mainstay in the coming
> future.
> 
> What I wanted to base next efforts on development of a GUI :
> 
> 1) It must be adaptable to MT modal.
> 2) It should be able to take advantage of MW GT whereever possible.
> 3) It must adhere to standardization of parameters and calling convensions. 4)
> It must be having a well written documentation. 5) If possible, it must have a
> user-base. 6) And above all, it must be able to base Multi-Platform GUI.
> 
> After a lot of thinking and spadework I could not accept any of the above.
> I just picked Xbase++. This compiler's subsystems were almost fitting 
> my ideology, is having a large user-base, ships with descent documentation,
> complete with MT capabilities and nicely fits into Multi-GT environments.
> 
> Moreover I had worked with this compiler for some time and know how 
> best its parameters passing and calling conventions were. Also I wanted to
> have 
> a well define class framework to dream for a multi-platform GUI framework.
> 
> I knew to follow an already established framework is always a difficult
> task.
> To create a new protocol you are the master of your own thoughts. But to
> copy
> feature-by-feature is very difficult. But I choose the difficult way.
> 
> Also I wanted to have an integrated library which could absorb different 
> scattered GUI modals into one as all were having one aspect in common -
> Harbour.
> My first results are quiet encouraging and now GTWVG can host:
> 
> * pure console,
> * pseudo GUI console, 
> * Xbase++ consols and dialogs with xbase parts,
> * pure consoles with Xbase parts,
> * and a mixture of any of the above.
> 
> In this evolution process GTWVW becomes the next natural GEM to 
> be inducted in this whole picture, and probably FWH too, who knows.
> 
> If you invest a little time in GTWVG's Xbase++ implementation, you 
> will wonder how a Xbase++ .prg ( with only those controls which have 
> have taken some shape ) can be compiled in Harbour. And this is the 
> same intention for GTWVW too. No code change whatsoever.
> 
> As before, today also i say that it is difficult to port GTWVW as is
> in new GT system. As GTWVG and GTWVW share the same code base at the 
> core levels it is easier to embed GTWVW GUI controls into GTWVG.
> End user will not experience any change to his/her code. This way
> it is not as difficult as it seems to be.
> 
> Also to rewrite it again will be sheer waste of time and resources.
> In fact I could never take advantage of GTWVW because it become mutually
> exclusive with GTWVG, and which I do not want at this time. Possibly
> in the coming few days I will lay the base structure how GTWVW 
> functionality can be included in GTWVG. There onwards there should be
> cummulative effort to achieve this goal. I alone can achieve but it may 
> take a bit longer.
> 
> To conclude, GTWVW is not going to be rewritten but will be included 
> in GTWVG and for sure end-user will need a minimum to change his code.
> 
> 
> Hope I am clear enough.
> 
> Regards
> Pritpal Bedi

From philb at philb.us  Sat Mar 14 04:24:41 2009
From: philb at philb.us (Phil Barnett)
Date: Sat Mar 14 04:24:48 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <20090313112017.GA26427@uran.home.aster.pl>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>	<49B9E5C4.1040605@philb.us>
	<20090313112017.GA26427@uran.home.aster.pl>
Message-ID: <49BB69C9.5010805@philb.us>

Przemyslaw Czerpak wrote:
> On Fri, 13 Mar 2009, Phil Barnett wrote:
>
> Hi Phil,
>
>   
>> The reason for the Harbour exception was so that we could include the macro 
>> compiler inside distributed executables without violating the GPL.
>>     
>
> Can you explain it?
>
> The macro compiler code is on exactly the same license as rest of Harbour
> HVM/RTL code.
> I do not ubnderstand why it needs some special excpetion and other things
> not.
>   
Without the exception, I can't write propprietary code and release my 
executable as non GPL because it's always linked to GPL code which makes 
my executable subject to the GPL. The exception states that if I include 
the macro compiler inside my otherwise nonGPL code, it does not make my 
code GPL.

The GPL license is viewed by many to be a viral license. It pretty much 
makes everything it comes in contact with subject to the GPL.

Simply put, the Harbour Exception to the GPL allows Harbour users to 
compile proprietary code, link the macro compiler and not break the 
terms of the GPL on the proprietary code. They can keep their code 
private, they are not forced to reveal it.

Since the GPL is a license invoked by each copyright holder, not some 
external entity, it is entirely up to the copyright holder to determine 
distribution rights. Thus anyone who invokes the GPL license on their 
code (our source code) can also make an exception to the GPL, and that 
is exactly how our exemption is used. Each copyright holder of parts of 
the Harbour compiler have licensed it via the GPL plus our exception.

Perfectly legal and it eliminates one of the viral aspects of the GPL 
license that does not suit our purposes.

If I recall correctly, we also have a part of the exception that 
excludes the macro compiler from being wrapped and being presented under 
a copyright. This keeps our work safe from someone wrapping it and 
invoking the exception. That is the exception to our exception. Without 
going back and looking at the verbiage I don't recall if that actually 
made it in. It was certainly discussed.
From harbour.01 at syenar.hu  Sat Mar 14 04:27:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 14 04:27:55 2009
Subject: [Harbour] HB_BUILD_DEBUG
In-Reply-To: <20090314004258.GC5284@uran.home.aster.pl>
References: <49B82D2D.1000006@fsgiudice.com>
	<18d502870903111445j4e9dca28xe71a804385cd46c2@mail.gmail.com>
	<49B83275.6000607@fsgiudice.com>
	<18d502870903120244p2d7a30bcn5869268a6ba70c85@mail.gmail.com>
	<49B90F55.1050505@fsgiudice.com> <49BACA36.4010208@fsgiudice.com>
	<18d502870903131445u505121cfwab87d24a82ed1970@mail.gmail.com>
	<49BADFAC.5060105@fsgiudice.com>
	<18d502870903131612y5838d5bap14997f7dedae06c3@mail.gmail.com>
	<20090314004258.GC5284@uran.home.aster.pl>
Message-ID: <18d502870903140127q1dda0419lfc2f179a99b471f9@mail.gmail.com>

Bingo, thank you!
Brgds,
Viktor

On Sat, Mar 14, 2009 at 1:42 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Sat, 14 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > > The only thing I found is that at the end of hbtrace.h I think that
> there
> > > are lines responsible of error
> > > -------
> > > at line # 215:
> > > extern const char * hb_tr_file_;
> > > extern int          hb_tr_line_;
> > > extern int          hb_tr_level_;
> > > -------
> > > but I don't understand how this file is used.
> > Yes, this file is always included, so I wonder how can these
> > symbols become unresolved.
>
> Missing HB_EXPORT.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/6b28a593/attachment.html
From harbour.01 at syenar.hu  Sat Mar 14 06:17:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 14 06:17:06 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <20090314004118.GB5284@uran.home.aster.pl>
References: <22495084.post@talk.nabble.com>
	<18d502870903130537o1fb6c95dk8a5c149edf506497@mail.gmail.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>
	<20090314004118.GB5284@uran.home.aster.pl>
Message-ID: <18d502870903140317m5c7928dbk12f85e73a80cbbd5@mail.gmail.com>

>
> set HB_PPGEN_PATH=/c/devl/hbvc-1.1/bin/hbpp.exe
> This also was in previous message. Sorry that it was not clear enough.


Thanks you, this bit was missing.

Now, after doing a few changes, the results are the exact same.
If I use the Cygwin shell, it complains about missing 'harbour'
in PATH. If I use msys shell, it complains about missing 'make'
and 'cygwin1.dll'. All of the above is in the PATH.

After experimenting a bit with procmon, I've found that the PATH isn't
properly searched, which lead me to line 50 of make_gnu_xmingwce.sh:
export PATH="$CCPATH:$PATH"

Then I copied make.exe and cygwin1.dll into CCPATH, and if the
win/mingwce dirs are already present, the object file and libs are
being created both for .prg and .c files, which is a definite advance.

Things get pretty unpredictable after this point, I was trying different
combinations of msys and non-msys make.exes with additional
external msys tools, but there are various errors both for clean and
install:
---
'[' is not recognized as an internal or external command,
operable program or batch file.
The syntax of the command is incorrect.
---
! was unexpected at this time.
---
./bin/postinst.sh
process_begin: CreateProcess(NULL, sh
C:\work\harbour-new\harbour\bin\postinst.sh, ...) failed.
make (e=2): The system cannot find the file specified.
--- using msys make:
rm -f -r win/mingwce
make: rm: Command not found
      0 [main] make 1716 sync_with_child: child 4600(0x724) died before
initialization with status code 0x1
  24409 [main] make 1716 sync_with_child: *** child state child loading dlls
make: vfork: Resource temporarily unavailable
---

I speculate most of these are results of above PATH problem,
since normally my msys environment works flawlessly.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/d25f99f8/attachment.html
From harbour.01 at syenar.hu  Sat Mar 14 06:35:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 14 06:35:52 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903140317m5c7928dbk12f85e73a80cbbd5@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<20090313130942.GA5641@uran.home.aster.pl>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>
	<20090314004118.GB5284@uran.home.aster.pl>
	<18d502870903140317m5c7928dbk12f85e73a80cbbd5@mail.gmail.com>
Message-ID: <18d502870903140335m401d8d26jea6da2a971f4e98f@mail.gmail.com>

After commenting line 50 in make_gnu_xmingwce.sh, and removing foreign tools
from CCPATH, everything is back to
normal.
Using this script:
---
set CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
set PATH=C:\devl\msys\1.0.11\bin;%CCPATH%;%PATH%
rem
set HB_COMPILER=mingwce
rem
set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
set HB_PPGEN_PATH=/c/devl/hbvc-1.1/bin/hbpp.exe
rem
set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
exit
---

So I conclude line 50 probably needs tweaking for win, or
it isn't necessary at all.

After clearing this issue, I'd like to document mingwce
cross build in INSTALL, plus also clean the cross-build
section regarding HB_COMP_PATH and HB_PPGEN_PATH,
which currently seems wrong, despite it's working. I think
this matter needs some cleaning as currently make_gnu_x*.sh
scripts are doing some magic on these variables, which
makes their meaning different than when using the make
system directly via make_gnu.bat. I think these should work
the same way

I'll also rename HB_PPGEN_PATH to HB_HBPP_PATH.

Maybe after 1.1, but I was thinking to merge make_gnu_x*.sh
into make_gnu.sh, to simplify things internally, to remove some
redundancy and make build process more coherent for different
situations. Probably make_gnu_x*.sh files can be reduced
to 'HB_ARCHITECTURE=win, HB_COMPILER=mingw*, ./make_gnu.sg'.
The rest can be done by detecting the host platform and doing
necessary tricks accordingly.

By now I have a mingwce build ready (which is great!), and the
only flaw I've noticed that no binaries were generated, except hbpp.exe.
Why could that be?

Brgds,
Viktor

On Sat, Mar 14, 2009 at 11:17 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> set HB_PPGEN_PATH=/c/devl/hbvc-1.1/bin/hbpp.exe
>> This also was in previous message. Sorry that it was not clear enough.
>
>
> Thanks you, this bit was missing.
>
> Now, after doing a few changes, the results are the exact same.
> If I use the Cygwin shell, it complains about missing 'harbour'
> in PATH. If I use msys shell, it complains about missing 'make'
> and 'cygwin1.dll'. All of the above is in the PATH.
>
> After experimenting a bit with procmon, I've found that the PATH isn't
> properly searched, which lead me to line 50 of make_gnu_xmingwce.sh:
> export PATH="$CCPATH:$PATH"
>
> Then I copied make.exe and cygwin1.dll into CCPATH, and if the
> win/mingwce dirs are already present, the object file and libs are
> being created both for .prg and .c files, which is a definite advance.
>
> Things get pretty unpredictable after this point, I was trying different
> combinations of msys and non-msys make.exes with additional
> external msys tools, but there are various errors both for clean and
> install:
> ---
> '[' is not recognized as an internal or external command,
> operable program or batch file.
> The syntax of the command is incorrect.
> ---
> ! was unexpected at this time.
> ---
> ./bin/postinst.sh
> process_begin: CreateProcess(NULL, sh
> C:\work\harbour-new\harbour\bin\postinst.sh, ...) failed.
> make (e=2): The system cannot find the file specified.
> --- using msys make:
> rm -f -r win/mingwce
> make: rm: Command not found
>       0 [main] make 1716 sync_with_child: child 4600(0x724) died before
> initialization with status code 0x1
>   24409 [main] make 1716 sync_with_child: *** child state child loading
> dlls
> make: vfork: Resource temporarily unavailable
> ---
>
> I speculate most of these are results of above PATH problem,
> since normally my msys environment works flawlessly.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/ba47e117/attachment-0001.html
From harbour.01 at syenar.hu  Sat Mar 14 07:06:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 14 07:06:41 2009
Subject: [Harbour] make_gnu_xmingwce.sh stalls (under msys)
In-Reply-To: <18d502870903140335m401d8d26jea6da2a971f4e98f@mail.gmail.com>
References: <22495084.post@talk.nabble.com>
	<18d502870903130702x1340211axbbb91017ba1f5513@mail.gmail.com>
	<20090313144648.GA13094@uran.home.aster.pl>
	<18d502870903130827p30387c53x2c27e18cc6df24dd@mail.gmail.com>
	<18d502870903131235xe4a31b2g4877a8faa20cfaca@mail.gmail.com>
	<20090313212725.GA17701@uran.home.aster.pl>
	<18d502870903131609x1dcd5e9fqc23d9c309d337ad@mail.gmail.com>
	<20090314004118.GB5284@uran.home.aster.pl>
	<18d502870903140317m5c7928dbk12f85e73a80cbbd5@mail.gmail.com>
	<18d502870903140335m401d8d26jea6da2a971f4e98f@mail.gmail.com>
Message-ID: <18d502870903140406w4a84d681v4f520d0a33f5e36d@mail.gmail.com>

>
> Maybe after 1.1, but I was thinking to merge make_gnu_x*.sh
> into make_gnu.sh, to simplify things internally, to remove some
> redundancy and make build process more coherent for different
> situations. Probably make_gnu_x*.sh files can be reduced
> to 'HB_ARCHITECTURE=win, HB_COMPILER=mingw*, ./make_gnu.sg'.
> The rest can be done by detecting the host platform and doing
> necessary tricks accordingly.
>

set HB_COMP_PATH=C:\devl\hbvc-1.1\bin\harbour.exe
set HB_PPGEN_PATH=C:\devl\hbvc-1.1\bin\hbpp.exe

doesn't work for other cross-compile situations, so for now
I'll document them as is, and later we should remove these
differences to not confuse users.


> By now I have a mingwce build ready (which is great!), and the
> only flaw I've noticed that no binaries were generated, except hbpp.exe.
> Why could that be?
>

It looks intentional.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090314/4b872890/attachment.html
From druzus at acn.waw.pl  Sat Mar 14 08:00:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 14 07:54:54 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <49BB69C9.5010805@philb.us>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
	<49B9E5C4.1040605@philb.us>
	<20090313112017.GA26427@uran.home.aster.pl>
	<49BB69C9.5010805@philb.us>
Message-ID: <20090314120059.GB18715@uran.home.aster.pl>

On Sat, 14 Mar 2009, Phil Barnett wrote:

Hi Phil,

>>> The reason for the Harbour exception was so that we could include the 
>>> macro compiler inside distributed executables without violating the GPL.
>> Can you explain it?
>> The macro compiler code is on exactly the same license as rest of Harbour
>> HVM/RTL code.
>> I do not ubnderstand why it needs some special excpetion and other things
>> not.
> Without the exception, I can't write propprietary code and release my 
> executable as non GPL because it's always linked to GPL code which makes my 
> executable subject to the GPL. The exception states that if I include the 
> macro compiler inside my otherwise nonGPL code, it does not make my code 
> GPL.

Thank you very much. I knew about it.
My question was why you were talking about macro compiler.
What is the difference bvetween macro compiler and other
Harbour code like HVM or RTL.

> If I recall correctly, we also have a part of the exception that excludes 
> the macro compiler from being wrapped and being presented under a 
> copyright. This keeps our work safe from someone wrapping it and invoking 
> the exception. That is the exception to our exception. Without going back 
> and looking at the verbiage I don't recall if that actually made it in. It 
> was certainly discussed.

Maybe I'm missing sth but whole macro compiler code seems to be on the
same license as other Harbour runtime libraries.
Only part of Harbour compiler has different license. To be precises these
files does not contain Harbour exception and use pure GPL license:

   source/compiler/cmdcheck.c
   source/compiler/genc.c
   source/compiler/gencobj.c
   source/compiler/genhrb.c
   source/compiler/harbour.y
   source/compiler/hbfunchk.c
   source/compiler/hbgenerr.c
   source/compiler/hbident.c
   source/compiler/hbmain.c

And I still want to change it.
I would like to allow using Harbour compiler library in proprietary code
but also add protection against creating some closed source compiler clones.
Here pure LGPL seems to be much better for me. I'd only add one point:
any modification/extensions to compiler code should be available in
source (.diff) form at some public forums or sent to Harbour-devel list.
I can rewrite above code (few things even have to be rewritten if we want
to add some extensions) but personally I'd prefer to try to contact with
developers who worked on this code and ask about their permission to change
the license to LGPL (is possible with above exception) but it's not strictly
necessary.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Mar 14 09:41:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 14 09:41:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10608] trunk/harbour
Message-ID: <E1LiU75-0005rm-UW@d5vjzd1.ch3.sourceforge.com>

Revision: 10608
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10608&view=rev
Author:   vszakats
Date:     2009-03-14 13:41:18 +0000 (Sat, 14 Mar 2009)

Log Message:
-----------
2009-03-14 14:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * make_gnu_xmingwce.sh
    - Disabled modifying PATH when host OS is Windows.
    ; NOTE: Hack.

  * include/hbtrace.h
    + Added HB_EXPORT.

  * doc/whatsnew.txt
  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
  * contrib/hbfimage/Makefile
    - Restored previous state, because latest changed addressing
      Linux build failure were causing problems for the Windows
      platform.
    ; TOFIX: We must clean our types, to avoid these problems
             and all bad hacks to work it around.

  * mpkg_win.bat
  * mpkg_win.nsi
    + Added files ChangeLog, TODO, ERRATA, INSTALL to root dir.
    * Some changed to batch targeting robustness for situations
      which cannot normally happen in normal cases, but it's
      useful for debugging.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbtrace.h
    trunk/harbour/make_gnu_xmingwce.sh
    trunk/harbour/mpkg_win.bat
    trunk/harbour/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 14 10:05:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 14 10:05:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10609] trunk/harbour
Message-ID: <E1LiUUD-0007Aj-N3@dn4whf1.ch3.sourceforge.com>

Revision: 10609
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10609&view=rev
Author:   vszakats
Date:     2009-03-14 14:05:12 +0000 (Sat, 14 Mar 2009)

Log Message:
-----------
2009-03-14 15:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbfimage/fi_winfu.c
  * contrib/hbfimage/fi_wrp.c
    % Unnecessary Harbour headers removed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbfimage/fi_wrp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 14 11:17:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 14 11:17:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10610] trunk/harbour
Message-ID: <E1LiVcX-0004Cu-Ib@3kljzd1.ch3.sourceforge.com>

Revision: 10610
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10610&view=rev
Author:   vszakats
Date:     2009-03-14 15:17:52 +0000 (Sat, 14 Mar 2009)

Log Message:
-----------
2009-03-14 16:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbgt/strasint.c
    % Using HB_ISDIGIT()
    ! Fixed to not include hbtrace.h directly.

  * make_gnu.bat
    % make clean and install phases merged in HB_BUILD_DLL mode.

  * bin/postinst.bat
    ! Fix to recent change.

  * include/hbdefs.h
    ! Moved #include hbtrace.h after HB_EXPORT is defined.
      (hack)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/hbgt/strasint.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From philb at philb.us  Sat Mar 14 14:08:48 2009
From: philb at philb.us (Phil Barnett)
Date: Sat Mar 14 14:08:56 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <20090314120059.GB18715@uran.home.aster.pl>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>	<49B9E5C4.1040605@philb.us>	<20090313112017.GA26427@uran.home.aster.pl>	<49BB69C9.5010805@philb.us>
	<20090314120059.GB18715@uran.home.aster.pl>
Message-ID: <49BBF2B0.8030701@philb.us>

Przemyslaw Czerpak wrote:
> On Sat, 14 Mar 2009, Phil Barnett wrote:
>
> Hi Phil,
>
>   
>>>> The reason for the Harbour exception was so that we could include the 
>>>> macro compiler inside distributed executables without violating the GPL.
>>>>         
>>> Can you explain it?
>>> The macro compiler code is on exactly the same license as rest of Harbour
>>> HVM/RTL code.
>>> I do not ubnderstand why it needs some special excpetion and other things
>>> not.
>>>       
>> Without the exception, I can't write propprietary code and release my 
>> executable as non GPL because it's always linked to GPL code which makes my 
>> executable subject to the GPL. The exception states that if I include the 
>> macro compiler inside my otherwise nonGPL code, it does not make my code 
>> GPL.
>>     
>
> Thank you very much. I knew about it.
> My question was why you were talking about macro compiler.
> What is the difference bvetween macro compiler and other
> Harbour code like HVM or RTL.
>
>   
>> If I recall correctly, we also have a part of the exception that excludes 
>> the macro compiler from being wrapped and being presented under a 
>> copyright. This keeps our work safe from someone wrapping it and invoking 
>> the exception. That is the exception to our exception. Without going back 
>> and looking at the verbiage I don't recall if that actually made it in. It 
>> was certainly discussed.
>>     
>
> Maybe I'm missing sth but whole macro compiler code seems to be on the
> same license as other Harbour runtime libraries.
> Only part of Harbour compiler has different license. To be precises these
> files does not contain Harbour exception and use pure GPL license:
>
>    source/compiler/cmdcheck.c
>    source/compiler/genc.c
>    source/compiler/gencobj.c
>    source/compiler/genhrb.c
>    source/compiler/harbour.y
>    source/compiler/hbfunchk.c
>    source/compiler/hbgenerr.c
>    source/compiler/hbident.c
>    source/compiler/hbmain.c
>
> And I still want to change it.
> I would like to allow using Harbour compiler library in proprietary code
> but also add protection against creating some closed source compiler clones.
> Here pure LGPL seems to be much better for me. I'd only add one point:
> any modification/extensions to compiler code should be available in
> source (.diff) form at some public forums or sent to Harbour-devel list.
> I can rewrite above code (few things even have to be rewritten if we want
> to add some extensions) but personally I'd prefer to try to contact with
> developers who worked on this code and ask about their permission to change
> the license to LGPL (is possible with above exception) but it's not strictly
> necessary.
>
>   
LGPL only protects from GPL for dynamically linked code. If you staticly 
link LGPL, it becomes GPL and has the problem mentioned before.

We spent months working out the license. I have the archives if we need 
to study.

From druzus at acn.waw.pl  Sat Mar 14 15:06:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 14 15:00:00 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <49BBF2B0.8030701@philb.us>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
	<49B9E5C4.1040605@philb.us>
	<20090313112017.GA26427@uran.home.aster.pl>
	<49BB69C9.5010805@philb.us>
	<20090314120059.GB18715@uran.home.aster.pl>
	<49BBF2B0.8030701@philb.us>
Message-ID: <20090314190606.GA23037@uran.home.aster.pl>

On Sat, 14 Mar 2009, Phil Barnett wrote:

Hi,

> LGPL only protects from GPL for dynamically linked code. If you staticly 
> link LGPL, it becomes GPL and has the problem mentioned before.
> We spent months working out the license. I have the archives if we need to 
> study.

Thank you for information.
AFAIK It's not true. You can link statically.
The only one think you have to made is adding user an option to
upgrade the LGPL part of code.
It means that you should deliver also dynamic binaries on user
request or give the user source code or recompile the binaries
on user requests with new LGPL code. It doesn't matter how you
resolve it. Important is the fact that user has rights to update
the LGPL part of code and you should not block such possibilities.

For me it's quite good option for compiler library. Please note
that I'm talking about compiler library not macro compiler.
Now it's possible to link compiler with final application, f.e.
to add support for some scripts.

best regards,
Przemek
From marek.horodyski at interia.pl  Sat Mar 14 15:34:38 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sat Mar 14 15:34:45 2009
Subject: [Harbour] BeginEnd Sequence
Message-ID: <20090314193438.E984B1A3C6B@f05.poczta.interia.pl>

When I try compile this code :=0AFUNCTION Main()=0A   LOCAL b, y, oErr=0A  =
 begin sequence=0A   ? 'Hello world'=0A   InKey( 1)=0A   b :=3D { |n, x|=0A=
   y :=3D  valtype( n)=0A   // test switch in extendend codeblok =0A   SWIT=
CH  y=0A   CASE  'N'=0A      x :=3D Str( n)=0A   Break=0A   CASE  'D'=0A   =
   x :=3D DTOC( n)=0A      BREAK=0A   otherwise=0A      x :=3D n=0A   END=
=0A   RETURN x=0A}=0A   ? 'Blok zrobiony!'=0A   InKey( 1)=0A   ? b:Eval( da=
te())=0A   inKey( 1)=0A   ? 'i jak '=0A   inKey( 5)=0A   ? 'no popatrz'=0A =
  recover using oErr=0A      ? 'No i mamy blad'=0A      ? oErr:osCode=0A   =
   ? oErr:subsystem()=0A      ? oErr:severity=0A      ? oErr:subCode=0A    =
  ? oErr:moduleName=0A      ? oErr:description=0A      ? oErr:filename=0A  =
    ? oErr:operation=0A      ? oErr:genCode=0A      ? oErr:args=0A   END se=
quence=0A   InKey( 1)=0A   RETURN Nil=0Awith Pripitals einvionment (xMate a=
nd owatcom), I have exe, but when it is executed, oErr is empty (error in e=
rror segment).=0AI don't know (dont have info) where is error.=0AWhen I try=
 build with todays einvironment from naightly zip file, I dont have exe and=
 any info/log file.=0A=0ARegards,=0AMarek Horodyski=0A=0A=0A=0A


----------------------------------------------------------------------
Jak zosta TIR-owka? >>> http://link.interia.pl/f2082

From marek.horodyski at interia.pl  Sat Mar 14 15:44:05 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sat Mar 14 15:44:10 2009
Subject: [Harbour] Begin/End Sequence
Message-ID: <20090314194405.EAA4A1A3C64@f05.poczta.interia.pl>

Sorry for my previons post in html. I send it from www, and no't can change format.
Sample code is :

FUNCTION Main()
   LOCAL b, y, oErr
   begin sequence
   ? 'Hello world'
   InKey( 1)
   b := { |n, x|
   y :=  valtype( n)
   SWITCH  y
   CASE  'N'
      x := Str( n)
   Break
   CASE  'D'
      x := DTOC( n)
      BREAK
   otherwise
      x := n
   END
   RETURN x
}
   ? 'Blok zrobiony'
   InKey( 1)
   ? b:Eval( date())
   inKey( 1)
   ? 'i jak '
   inKey( 5)
   ? 'no popatrz'
   recover using oErr
      ? 'No i mamy blad'
      ? oErr:osCode
      ? oErr:subsystem()
      ? oErr:severity
      ? oErr:subCode
      ? oErr:moduleName
      ? oErr:description
      ? oErr:filename
      ? oErr:operation
      ? oErr:genCode
      ? oErr:args
   END sequence
   InKey( 1)
   RETURN Nil

Regards,
Marek Horodyski




----------------------------------------------------------------------
Udar sloneczny prezesa Kaczynskiego... >>> http://link.interia.pl/f2083

From druzus at acn.waw.pl  Sat Mar 14 16:16:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 14 16:10:06 2009
Subject: [Harbour] BeginEnd Sequence
In-Reply-To: <20090314193438.E984B1A3C6B@f05.poczta.interia.pl>
References: <20090314193438.E984B1A3C6B@f05.poczta.interia.pl>
Message-ID: <20090314201611.GA24678@uran.home.aster.pl>

On Sat, 14 Mar 2009, marek.horodyski@interia.pl wrote:
> When I try compile this code :
[...]
>    b := { |n, x|
>    y :=  valtype( n)
>    // test switch in extendend codeblok 
>    SWITCH  y
>    CASE  'N'
>       x := Str( n)
>    Break
     ^^^^^
>    CASE  'D'
>       x := DTOC( n)
>       BREAK
        ^^^^^
>    otherwise
>       x := n
>    END
>    RETURN x
> }
[...]

> with Pripitals einvionment (xMate and owatcom), I have exe, but when it is executed, oErr is empty (error in error segment).
> I don't know (dont have info) where is error.

See above you used explicitly BREAK without error object parameter.
I guess you wanted to used EXIT in the SWITCH statement.

best regards,
Przemek
From leonardo at sygecom.com.br  Sat Mar 14 16:30:42 2009
From: leonardo at sygecom.com.br (sygecom)
Date: Sat Mar 14 16:30:45 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <22516739.post@talk.nabble.com>


Hi Pritpal Bedi,

I have interest too

Regards
Leonardo Machado



Pritpal Bedi wrote:
> 
> Hello Everybody
> 
> I am almost done with buffered console on GTWVG.
> 
> By "buffered console" I mean all paint operations are
> done in memory and only final output is transferred to 
> console on screen. In Clipper parlance you can 
> think it synonymous as DispBegin()/DispEnd() but 
> not exactly the same. Under this protocol you may 
> experience a very smooth window even with verycomplx
> GUI elements, i.e., bitmaps, gradient rectangles, boxes, etc.
> No more flickering.
> 
> It may need some tweaking in the existing code which 
> primarily exploits overlapping windows as with 
> SaveScreen() | RestScreen() mechanism. One has to 
> upgrade his code to use multiple consoles. I have  a demo
> in place to show this.
> 
> My question is: How many of you are using GTWVG and are
> willing to adopt to new prorocol. Believe me, it will be very 
> little effort to change the exiting code but the results will be
> truely rewarding. Once this is done, I may think to port 
> GTWVW in GTWVG if get a substantial number of confirmations
> which may persuade me to port GTWVW.
> 
> So please post your vote here under this thread so that I could
> make up my mind to port GTWVW. Please note, the number
> must be substancial.
> 
> Regards
> Pritpal Bedi
> 
> 

-- 
View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22516739.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Sat Mar 14 17:49:14 2009
From: eghorbino at yahoo.com (Edmer)
Date: Sat Mar 14 17:49:18 2009
Subject: [Harbour] GTWVG and Buffered Console
In-Reply-To: <22478907.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com>
Message-ID: <22517472.post@talk.nabble.com>


Hi Pritpal,

I'm very much interested.

Cheers,
Ed Horbino

-- 
View this message in context: http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22517472.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Sat Mar 14 17:56:02 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Mar 14 17:56:06 2009
Subject: [Harbour] xHB.LIB and HB_FUNCPTR() implementation
Message-ID: <531d7a750903141456p1f353548jfe444d592d2673de@mail.gmail.com>

Hi all!

I am migrating some routines for Harbour and noticed the absence of
HB_FUNCPTR() that I used before. I came to develop the same function
in Harbour and after researching the sources I found __DYNSN2SYM()
which has the same purpose.

I would like to suggest it was placed within the file hbcompat.ch the
following line:

#xtranslate HB_FUNCPTR(<x>) => __DYNSN2SYM (<x>)

In order to make the conversion automatically.

Vailton Renato
From philb at philb.us  Sat Mar 14 18:07:22 2009
From: philb at philb.us (Phil Barnett)
Date: Sat Mar 14 18:07:28 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <20090314190606.GA23037@uran.home.aster.pl>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>	<49B9E5C4.1040605@philb.us>	<20090313112017.GA26427@uran.home.aster.pl>	<49BB69C9.5010805@philb.us>	<20090314120059.GB18715@uran.home.aster.pl>	<49BBF2B0.8030701@philb.us>
	<20090314190606.GA23037@uran.home.aster.pl>
Message-ID: <49BC2A9A.1010300@philb.us>

Przemyslaw Czerpak wrote:
> On Sat, 14 Mar 2009, Phil Barnett wrote:
>
> Hi,
>
>   
>> LGPL only protects from GPL for dynamically linked code. If you staticly 
>> link LGPL, it becomes GPL and has the problem mentioned before.
>> We spent months working out the license. I have the archives if we need to 
>> study.
>>     
>
> Thank you for information.
> AFAIK It's not true. You can link statically.
> The only one think you have to made is adding user an option to
> upgrade the LGPL part of code.
> It means that you should deliver also dynamic binaries on user
> request or give the user source code or recompile the binaries
> on user requests with new LGPL code. It doesn't matter how you
> resolve it. Important is the fact that user has rights to update
> the LGPL part of code and you should not block such possibilities.
>
> For me it's quite good option for compiler library. Please note
> that I'm talking about compiler library not macro compiler.
> Now it's possible to link compiler with final application, f.e.
> to add support for some scripts.
>   
The exception was never about the compiler itself. It is all about users 
wishing to create proprietary code executables with GPL code built into 
it. The exception is for the users of the compiler, not the compiler itself.

Even the simplest compile and link of Harbour brings in GPL code. 
Without the exception, there is no way to distribute a proprietary 
executable legally.
From druzus at acn.waw.pl  Sat Mar 14 19:57:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 14 19:51:32 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <49BC2A9A.1010300@philb.us>
References: <18d502870903120555r6f6f27dfo9d8a829c4cbc9028@mail.gmail.com>
	<49B9E5C4.1040605@philb.us>
	<20090313112017.GA26427@uran.home.aster.pl>
	<49BB69C9.5010805@philb.us>
	<20090314120059.GB18715@uran.home.aster.pl>
	<49BBF2B0.8030701@philb.us>
	<20090314190606.GA23037@uran.home.aster.pl>
	<49BC2A9A.1010300@philb.us>
Message-ID: <20090314235737.GA1375@uran.home.aster.pl>

On Sat, 14 Mar 2009, Phil Barnett wrote:

Hi,

> The exception was never about the compiler itself. It is all about users 
> wishing to create proprietary code executables with GPL code built into it. 
> The exception is for the users of the compiler, not the compiler itself.

I know though some part of compiler code has the exception. F.e. all files
with my own code I added myself. I made it intentionally.
I'm talking only about pure compiler code in the hbcplr library.
Now it's possible to integrate compiler with final binaries.
HBRUN is example of such program.
I would like to change the compiler (to be precise hbcplr library) license
to LGPL if other developers agree or at least I would like to hear which
of them agree for such modification to know which part of compiler I will
have to rewrite from scratch .I plan some serious modification in longer
terms and such knowledge will help me.
I would like to open for Harbour users using hbcplr library as some type
script language in commercial closed source applications.

> Even the simplest compile and link of Harbour brings in GPL code. Without 
> the exception, there is no way to distribute a proprietary executable 
> legally.

Yes, when we are talking about GPL which is more restrictive then LGPL.
For me LGPL is quite good license also for commercial closed source software.
But I do not want to change other Harbour libraries license. I'm interesting
only in compiler library for which I'd prefer LGPL then GPL or GPL + Harbour
exception.
I hope that I'm clear now.

best regards,
Przemek
From niki at synel.co.il  Sun Mar 15 04:18:52 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Mar 15 04:22:32 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52A8E@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> My question was why you were talking about macro compiler.
> What is the difference between macro compiler and other
> Harbour code like HVM or RTL

The idea was that macro compiler contain parts of the compiler inside,
and the user code is complied at run time. Since the compiler itself is
protected by GPL, the exception was ment to explicitly exclude the
macro compiler from that requirement. There might had been issues
with Bison output used at run-time by the macro compiler.

The above is based on my poor memory for events happen 9 years ago.
Dave Pearson was leading the legal concerns which led to the Harbour
Exception.


  Chen.
From marek.horodyski at interia.pl  Sun Mar 15 04:53:31 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sun Mar 15 04:53:36 2009
Subject: [Harbour] Trouble with c code.
Message-ID: <20090315085331.91FC84DFC52@f37.poczta.interia.pl>

When I try compile this code :

?311?#pragma BEGINDUMP
?312?#include "hbapifs.h"
?313?#include "hbapierr.h"
?314?
?315?/* HB_FUNC( HB_FLOCK ) */
?316?HB_FUNC( LOCKFF )
?317?{
?318?    if ( ISNUM( 1 ) && ISNUM( 2 ) && ISNUM( 3 ) && ISNUM( 4 ) )
?319?    {
?320?        hb_retl( hb_fsLock( ( FHANDLE) hb_parnl( 1 ), hb_parnl( 2 ),
?321?                            hb_parnl( 3 ), hb_parni( 4 ) ) );
?322?    }
?323?    else
?324?    {
?325?    /* hb_errRT_BASE_SubstR( EG_ARG, 9999, NULL, "HB_FLOCK", 4, */
?326?    hb_errRT_BASE_SubstR( EG_ARG, 9999, NULL, "LOCKFF", 4,
?327?                              hb_paramError( 1 ), hb_paramError( 2 ),
?328?                              hb_paramError( 3 ), hb_paramError( 4 ) );
?329?    }
?330?}
?331?#pragma ENDDUMP

I have this error message :

braki.prg(319): Error! E498: col(40) syntax error before 'hb_parnl'; 
probable cause: incorrectly spelled type name

What is "spelled" type name ?
What can I do ?

Regards,
Marek Horodyski




----------------------------------------------------------------------
Zawsze winny jest mezczyzna?! >>> http://link.interia.pl/f2084

From niki at synel.co.il  Sun Mar 15 05:41:27 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Mar 15 05:45:04 2009
Subject: [Harbour] Trouble with c code.
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52A8F@Mail-yoq.SYNEL-COMPANY.LTD>

Marek,

FHANDLE is defined in include/filesys.api which is not included in your code.
Either include it or use HB_FHANDLE instead.

With BCC it complain about Undefined symbol 'FHANDLE'.


  Chen.
From marek.horodyski at interia.pl  Sun Mar 15 06:22:06 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sun Mar 15 06:22:11 2009
Subject: [Harbour] Another problem with lib file
Message-ID: <20090315102206.50C8EE71553@f16.poczta.interia.pl>

Chen,=0Aadwice with FHANDLE -> HB_FHANDLE is "bingo" :).=0A=0ABut now, have=
 I another problem.=0AI use owatcom.=0AMost of my prg code I compile to c a=
nd obj file :=0A=0Aharbour %1 /n/w2/l/gc3/o.\obj_ow\=0Awpp386.exe  -Id:\har=
bour\include;d:\watcom\h obj_ow\%1 -foobj_ow\=0A=0Aand after this inlude it=
 in lib file :=0A=0Awlib -p=3D64 -c -n -o=3Dd:\harbour\lib\homar.lib homar =
+obj_ow\%1=0A=0ABut when I try link :=0A=0A=E2=95=911=E2=94=82harbour homar=
 /n/w2/l/gc3=0A=E2=95=912=E2=94=82harbour braki /n/w2/l/gc3=0A=E2=95=913=E2=
=94=82wpp386.exe  -Id:\harbour\include;d:\watcom\h homar=0A=E2=95=914=E2=94=
=82wpp386.exe  -Id:\harbour\include;d:\watcom\h braki=0A=E2=95=915=E2=94=82=
wlink.Exe  @lp.lnk >_LinkInfo=0A=0Awhen in lp.lnk are :=0A=0A>>>>=0ANAME ho=
mar.Exe=0A=0AFILE homar.Obj, braki.Obj=0A=0ALIBRARY d:\harbour\Lib\hbrtl.li=
b=0ALIBRARY d:\harbour\Lib\hbvmmt.lib=0ALIBRARY d:\harbour\Lib\hblang.lib=
=0ALIBRARY d:\harbour\Lib\hbmacro.lib=0ALIBRARY d:\harbour\Lib\hbrdd.lib=0A=
LIBRARY d:\harbour\Lib\rddntx.lib=0ALIBRARY d:\harbour\Lib\rddcdx.lib=0ALIB=
RARY d:\harbour\Lib\rddfpt.lib=0ALIBRARY d:\harbour\Lib\hbcommon.lib=0ALIBR=
ARY d:\harbour\Lib\homar.lib <<- here is my lib file=0ALIBRARY d:\harbour\L=
ib\hbpp.lib=0ALIBRARY d:\harbour\Lib\hbsix.lib=0ALIBRARY d:\harbour\Lib\gtw=
vg.Lib=0ALIBRARY d:\harbour\Lib\hbct.lib=0ALIBRARY d:\harbour\Lib\hbpcre.li=
b=0ALIBRARY d:\harbour\Lib\hbusrrdd.lib=0ALIBRARY d:\harbour\Lib\hbwin.lib=
=0ALIBRARY d:\harbour\Lib\hbtip.lib=0ALIBRARY d:\harbour\Lib\hbmzip.lib=0AL=
IBRARY d:\harbour\Lib\hbzlib.lib=0ALIBRARY d:\harbour\Lib\hbziparc.lib=0ALI=
BRARY d:\watcom\lib386\nt\Kernel32.Lib=0ALIBRARY d:\watcom\lib386\nt\User32=
.Lib=0ALIBRARY d:\watcom\lib386\nt\Gdi32.Lib=0ALIBRARY d:\watcom\lib386\nt\=
WinSpool.Lib=0ALIBRARY d:\harbour\Lib\gtcgi.lib=0ALIBRARY d:\watcom\lib386\=
nt\ComCtl32.Lib=0ALIBRARY d:\watcom\lib386\nt\ComDlg32.Lib=0ALIBRARY d:\har=
bour\Lib\gtgui.lib=0ALIBRARY d:\harbour\Lib\gtwin.lib=0ALIBRARY d:\watcom\l=
ib386\nt\AdvAPI32.Lib=0ALIBRARY d:\harbour\Lib\gtwvt.lib=0ALIBRARY d:\watco=
m\lib386\nt\shell32.lib=0ALIBRARY d:\harbour\Lib\hbnf.lib=0ALIBRARY d:\watc=
om\lib386\nt\Ole32.Lib=0ALIBRARY d:\watcom\lib386\nt\OleAut32.Lib=0ALIBRARY=
 d:\watcom\lib386\nt\Uuid.Lib=0ALIBRARY d:\watcom\lib386\nt\odbc32.lib=0ALI=
BRARY d:\watcom\lib386\nt\odbccp32.lib=0ALIBRARY d:\watcom\lib386\nt\IPHlpA=
pi.Lib=0ALIBRARY d:\watcom\lib386\nt\Mpr.Lib=0ALIBRARY d:\watcom\lib386\nt\=
Version.Lib=0ALIBRARY d:\watcom\lib386\nt\WSock32.Lib=0ALIBRARY d:\watcom\l=
ib386\nt\MSImg32.Lib=0A>>>=0A=0AI don't have exe file, and in log are many =
info lines like :=0A=0AError! E2028: HB_FUN_WYBOR_ is an undefined referenc=
e=0AError! E2028: HB_FUN_META_ is an undefined reference=0AError! E2028: HB=
_FUN_KOMUNIKAT_ is an undefined reference=0AError! E2028: HB_FUN_ERRORHOMAR=
_ is an undefined reference=0AError! E2028: HB_FUN_CALLSTACK_ is an undefin=
ed reference=0A=0A=0AThey are function from homar.lib.=0A=0AWhat I do wrong=
 ?=0A=0ARegards,=0AMarek Horodyski=0A=0A


----------------------------------------------------------------------
Jak zosta TIR-owka? >>> http://link.interia.pl/f2082

From druzus at acn.waw.pl  Sun Mar 15 06:42:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 15 06:36:30 2009
Subject: [Harbour] GPL + Harbour exception to LGPL ?
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52A8E@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52A8E@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20090315104237.GA14288@uran.home.aster.pl>

On Sun, 15 Mar 2009, Chen Kedem wrote:

Hi,

> > My question was why you were talking about macro compiler.
> > What is the difference between macro compiler and other
> > Harbour code like HVM or RTL
> The idea was that macro compiler contain parts of the compiler inside,
> and the user code is complied at run time. Since the compiler itself is
> protected by GPL, the exception was ment to explicitly exclude the
> macro compiler from that requirement. There might had been issues
> with Bison output used at run-time by the macro compiler.
> The above is based on my poor memory for events happen 9 years ago.
> Dave Pearson was leading the legal concerns which led to the Harbour
> Exception.

The files used by macro compiler are on GPL + Harbour exception license.
Only this files:
   source/compiler/cmdcheck.c
   source/compiler/genc.c
   source/compiler/gencobj.c
   source/compiler/genhrb.c
   source/compiler/harbour.y
   source/compiler/hbfunchk.c
   source/compiler/hbgenerr.c
   source/compiler/hbident.c
   source/compiler/hbmain.c

are on pure GPL license and they are used only in compiler code.
None of them, is used by macro compiler.
Bison does not introduce any license limitations to generated
grammar files so it's not a problem for us. But of course important
is the license of grammar description (harbour.y).

best regards,
Przemek
From marek.horodyski at interia.pl  Sun Mar 15 06:39:52 2009
From: marek.horodyski at interia.pl (marek.horodyski@interia.pl)
Date: Sun Mar 15 06:39:57 2009
Subject: [Harbour] now try with correct format.
Message-ID: <20090315103952.5D98EE71552@f16.poczta.interia.pl>

Sorry, I have too troble with format send mails from www.

Chen,
adwice with FHANDLE -> HB_FHANDLE is "bingo" :).

But now, have I another problem.
I use owatcom.
Most of my prg code I compile to c a=
nd obj file :

harbour %1 /n/w2/l/gc3/o.\obj_ow\
wpp386.exe  -Id:\harbour\include;d:\watcom\h obj_ow\%1 -foobj_ow\

and after this inlude it in lib file :

wlib -p=3D64 -c -n -o=3Dd:\harbour\lib\homar.lib homar +obj_ow\%1

But when I try link :

harbour homar  /n/w2/l/gc3
harbour braki /n/w2/l/gc3
wpp386.exe  -Id:\harbour\include;d:\watcom\h homar
wpp386.exe  -Id:\harbour\include;d:\watcom\h braki
wlink.Exe  @lp.lnk >_LinkInfo

when in lp.lnk are :

>>>>
NAME homar.Exe

FILE homar.Obj, braki.Obj

LIBRARY d:\harbour\Lib\hbrtl.lib
LIBRARY d:\harbour\Lib\hbvmmt.lib
LIBRARY d:\harbour\Lib\hblang.lib
LIBRARY d:\harbour\Lib\hbmacro.lib
LIBRARY d:\harbour\Lib\hbrdd.lib
LIBRARY d:\harbour\Lib\rddntx.lib
LIBRARY d:\harbour\Lib\rddcdx.lib
LIBRARY d:\harbour\Lib\rddfpt.lib
LIBRARY d:\harbour\Lib\hbcommon.lib
LIBRARY d:\harbour\Lib\homar.lib <<- here is my lib file
LIBRARY d:\harbour\Lib\hbpp.lib
LIBRARY d:\harbour\Lib\hbsix.lib
LIBRARY d:\harbour\Lib\gtwvg.Lib
LIBRARY d:\harbour\Lib\hbct.lib
LIBRARY d:\harbour\Lib\hbpcre.lib
LIBRARY d:\harbour\Lib\hbusrrdd.lib
LIBRARY d:\harbour\Lib\hbwin.lib
LIBRARY d:\harbour\Lib\hbtip.lib
LIBRARY d:\harbour\Lib\hbmzip.lib
LIBRARY d:\harbour\Lib\hbzlib.lib
LIBRARY d:\harbour\Lib\hbziparc.lib
LIBRARY d:\watcom\lib386\nt\Kernel32.Lib
LIBRARY d:\watcom\lib386\nt\User32.Lib
LIBRARY d:\watcom\lib386\nt\Gdi32.Lib
LIBRARY d:\watcom\lib386\nt\WinSpool.Lib
LIBRARY d:\harbour\Lib\gtcgi.lib
LIBRARY d:\watcom\lib386\nt\ComCtl32.Lib
LIBRARY d:\watcom\lib386\nt\ComDlg32.Lib
LIBRARY d:\harbour\Lib\gtgui.lib
LIBRARY d:\harbour\Lib\gtwin.lib
LIBRARY d:\watcom\lib386\nt\AdvAPI32.Lib
LIBRARY d:\harbour\Lib\gtwvt.lib
LIBRARY d:\watcom\lib386\nt\shell32.lib
LIBRARY d:\harbour\Lib\hbnf.lib
LIBRARY d:\watcom\lib386\nt\Ole32.Lib
LIBRARY d:\watcom\lib386\nt\OleAut32.Lib
LIBRARY d:\watcom\lib386\nt\Uuid.Lib
LIBRARY d:\watcom\lib386\nt\odbc32.lib
LIBRARY d:\watcom\lib386\nt\odbccp32.lib
LIBRARY d:\watcom\lib386\nt\IPHlpApi.Lib
LIBRARY d:\watcom\lib386\nt\Mpr.Lib
LIBRARY d:\watcom\lib386\nt\Version.Lib
LIBRARY d:\watcom\lib386\nt\WSock32.Lib
LIBRARY d:\watcom\lib386\nt\MSImg32.Lib
>>>

I don't have exe file, and in log are many info lines like :

Error! E2028: HB_FUN_WYBOR_ is an undefined reference
Error! E2028: HB_FUN_META_ is an undefined reference
Error! E2028: HB_FUN_KOMUNIKAT_ is an undefined reference
Error! E2028: HB_FUN_ERRORHOMAR_ is an undefined reference
Error! E2028: HB_FUN_CALLSTACK_ is an undefined reference


They are function from homar.lib.

What I do wrong ?

Regards,
Marek Horodyski




----------------------------------------------------------------------
"Teraz gry" - program dla graczy, tylko w Interia.tv! >>> http://link.interia.pl/f2081

From mbelgrano at deltain.it  Sun Mar 15 07:52:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 15 07:52:31 2009
Subject: [Harbour] now try with correct format.
In-Reply-To: <20090315103952.5D98EE71552@f16.poczta.interia.pl>
References: <20090315103952.5D98EE71552@f16.poczta.interia.pl>
Message-ID: <609353e70903150452v1f525caana070214749b31bc2@mail.gmail.com>

*-c*perform case-sensitive comparison
http://www.users.pjwstk.edu.pl/~jms/qnx/help/watcom/utilities/wlib.html
2009/3/15 <marek.horodyski@interia.pl>

> Sorry, I have too troble with format send mails from www.
>
> Chen,
> adwice with FHANDLE -> HB_FHANDLE is "bingo" :).
>
> But now, have I another problem.
> I use owatcom.
> Most of my prg code I compile to c a=
> nd obj file :
>
> harbour %1 /n/w2/l/gc3/o.\obj_ow\
> wpp386.exe  -Id:\harbour\include;d:\watcom\h obj_ow\%1 -foobj_ow\
>
> and after this inlude it in lib file :
>
> wlib -p=3D64 -c -n -o=3Dd:\harbour\lib\homar.lib homar +obj_ow\%1
>
> But when I try link :
>
> harbour homar  /n/w2/l/gc3
> harbour braki /n/w2/l/gc3
> wpp386.exe  -Id:\harbour\include;d:\watcom\h homar
> wpp386.exe  -Id:\harbour\include;d:\watcom\h braki
> wlink.Exe  @lp.lnk >_LinkInfo
>
> when in lp.lnk are :
>
> >>>>
> NAME homar.Exe
>
> FILE homar.Obj, braki.Obj
>
> LIBRARY d:\harbour\Lib\hbrtl.lib
> LIBRARY d:\harbour\Lib\hbvmmt.lib
> LIBRARY d:\harbour\Lib\hblang.lib
> LIBRARY d:\harbour\Lib\hbmacro.lib
> LIBRARY d:\harbour\Lib\hbrdd.lib
> LIBRARY d:\harbour\Lib\rddntx.lib
> LIBRARY d:\harbour\Lib\rddcdx.lib
> LIBRARY d:\harbour\Lib\rddfpt.lib
> LIBRARY d:\harbour\Lib\hbcommon.lib
> LIBRARY d:\harbour\Lib\homar.lib <<- here is my lib file
> LIBRARY d:\harbour\Lib\hbpp.lib
> LIBRARY d:\harbour\Lib\hbsix.lib
> LIBRARY d:\harbour\Lib\gtwvg.Lib
> LIBRARY d:\harbour\Lib\hbct.lib
> LIBRARY d:\harbour\Lib\hbpcre.lib
> LIBRARY d:\harbour\Lib\hbusrrdd.lib
> LIBRARY d:\harbour\Lib\hbwin.lib
> LIBRARY d:\harbour\Lib\hbtip.lib
> LIBRARY d:\harbour\Lib\hbmzip.lib
> LIBRARY d:\harbour\Lib\hbzlib.lib
> LIBRARY d:\harbour\Lib\hbziparc.lib
> LIBRARY d:\watcom\lib386\nt\Kernel32.Lib
> LIBRARY d:\watcom\lib386\nt\User32.Lib
> LIBRARY d:\watcom\lib386\nt\Gdi32.Lib
> LIBRARY d:\watcom\lib386\nt\WinSpool.Lib
> LIBRARY d:\harbour\Lib\gtcgi.lib
> LIBRARY d:\watcom\lib386\nt\ComCtl32.Lib
> LIBRARY d:\watcom\lib386\nt\ComDlg32.Lib
> LIBRARY d:\harbour\Lib\gtgui.lib
> LIBRARY d:\harbour\Lib\gtwin.lib
> LIBRARY d:\watcom\lib386\nt\AdvAPI32.Lib
> LIBRARY d:\harbour\Lib\gtwvt.lib
> LIBRARY d:\watcom\lib386\nt\shell32.lib
> LIBRARY d:\harbour\Lib\hbnf.lib
> LIBRARY d:\watcom\lib386\nt\Ole32.Lib
> LIBRARY d:\watcom\lib386\nt\OleAut32.Lib
> LIBRARY d:\watcom\lib386\nt\Uuid.Lib
> LIBRARY d:\watcom\lib386\nt\odbc32.lib
> LIBRARY d:\watcom\lib386\nt\odbccp32.lib
> LIBRARY d:\watcom\lib386\nt\IPHlpApi.Lib
> LIBRARY d:\watcom\lib386\nt\Mpr.Lib
> LIBRARY d:\watcom\lib386\nt\Version.Lib
> LIBRARY d:\watcom\lib386\nt\WSock32.Lib
> LIBRARY d:\watcom\lib386\nt\MSImg32.Lib
> >>>
>
> I don't have exe file, and in log are many info lines like :
>
> Error! E2028: HB_FUN_WYBOR_ is an undefined reference
> Error! E2028: HB_FUN_META_ is an undefined reference
> Error! E2028: HB_FUN_KOMUNIKAT_ is an undefined reference
> Error! E2028: HB_FUN_ERRORHOMAR_ is an undefined reference
> Error! E2028: HB_FUN_CALLSTACK_ is an undefined reference
>
>
> They are function from homar.lib.
>
> What I do wrong ?
>
> Regards,
> Marek Horodyski
>
>
>
>
> ----------------------------------------------------------------------
> "Teraz gry" - program dla graczy, tylko w Interia.tv! >>>
> http://link.interia.pl/f2081
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090315/6b2ea7ea/attachment-0001.html
From mbelgrano at deltain.it  Sun Mar 15 08:11:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 15 08:11:36 2009
Subject: [Harbour] now try with correct format.
In-Reply-To: <609353e70903150452v1f525caana070214749b31bc2@mail.gmail.com>
References: <20090315103952.5D98EE71552@f16.poczta.interia.pl>
	<609353e70903150452v1f525caana070214749b31bc2@mail.gmail.com>
Message-ID: <609353e70903150511ob2abe1chba16fa79658c392c@mail.gmail.com>

With hbmk is possible create lib with bcc,msvc
yuo can easy add Support for owatcom

 add at line 1397 something like
         cBin_Lib := "wlib.exe"
         cOpt_Lib := ""
         cLibObjPrefix := "+- "



2009/3/15 Massimo Belgrano <mbelgrano@deltain.it>

> *-c*perform case-sensitive comparison
> http://www.users.pjwstk.edu.pl/~jms/qnx/help/watcom/utilities/wlib.html
> 2009/3/15 <marek.horodyski@interia.pl>
>
> Sorry, I have too troble with format send mails from www.
>>
>> Chen,
>> adwice with FHANDLE -> HB_FHANDLE is "bingo" :).
>>
>> But now, have I another problem.
>> I use owatcom.
>> Most of my prg code I compile to c a=
>> nd obj file :
>>
>> harbour %1 /n/w2/l/gc3/o.\obj_ow\
>> wpp386.exe  -Id:\harbour\include;d:\watcom\h obj_ow\%1 -foobj_ow\
>>
>> and after this inlude it in lib file :
>>
>> wlib -p=3D64 -c -n -o=3Dd:\harbour\lib\homar.lib homar +obj_ow\%1
>>
>> But when I try link :
>>
>> harbour homar  /n/w2/l/gc3
>> harbour braki /n/w2/l/gc3
>> wpp386.exe  -Id:\harbour\include;d:\watcom\h homar
>> wpp386.exe  -Id:\harbour\include;d:\watcom\h braki
>> wlink.Exe  @lp.lnk >_LinkInfo
>>
>> when in lp.lnk are :
>>
>> >>>>
>> NAME homar.Exe
>>
>> FILE homar.Obj, braki.Obj
>>
>> LIBRARY d:\harbour\Lib\hbrtl.lib
>> LIBRARY d:\harbour\Lib\hbvmmt.lib
>> LIBRARY d:\harbour\Lib\hblang.lib
>> LIBRARY d:\harbour\Lib\hbmacro.lib
>> LIBRARY d:\harbour\Lib\hbrdd.lib
>> LIBRARY d:\harbour\Lib\rddntx.lib
>> LIBRARY d:\harbour\Lib\rddcdx.lib
>> LIBRARY d:\harbour\Lib\rddfpt.lib
>> LIBRARY d:\harbour\Lib\hbcommon.lib
>> LIBRARY d:\harbour\Lib\homar.lib <<- here is my lib file
>> LIBRARY d:\harbour\Lib\hbpp.lib
>> LIBRARY d:\harbour\Lib\hbsix.lib
>> LIBRARY d:\harbour\Lib\gtwvg.Lib
>> LIBRARY d:\harbour\Lib\hbct.lib
>> LIBRARY d:\harbour\Lib\hbpcre.lib
>> LIBRARY d:\harbour\Lib\hbusrrdd.lib
>> LIBRARY d:\harbour\Lib\hbwin.lib
>> LIBRARY d:\harbour\Lib\hbtip.lib
>> LIBRARY d:\harbour\Lib\hbmzip.lib
>> LIBRARY d:\harbour\Lib\hbzlib.lib
>> LIBRARY d:\harbour\Lib\hbziparc.lib
>> LIBRARY d:\watcom\lib386\nt\Kernel32.Lib
>> LIBRARY d:\watcom\lib386\nt\User32.Lib
>> LIBRARY d:\watcom\lib386\nt\Gdi32.Lib
>> LIBRARY d:\watcom\lib386\nt\WinSpool.Lib
>> LIBRARY d:\harbour\Lib\gtcgi.lib
>> LIBRARY d:\watcom\lib386\nt\ComCtl32.Lib
>> LIBRARY d:\watcom\lib386\nt\ComDlg32.Lib
>> LIBRARY d:\harbour\Lib\gtgui.lib
>> LIBRARY d:\harbour\Lib\gtwin.lib
>> LIBRARY d:\watcom\lib386\nt\AdvAPI32.Lib
>> LIBRARY d:\harbour\Lib\gtwvt.lib
>> LIBRARY d:\watcom\lib386\nt\shell32.lib
>> LIBRARY d:\harbour\Lib\hbnf.lib
>> LIBRARY d:\watcom\lib386\nt\Ole32.Lib
>> LIBRARY d:\watcom\lib386\nt\OleAut32.Lib
>> LIBRARY d:\watcom\lib386\nt\Uuid.Lib
>> LIBRARY d:\watcom\lib386\nt\odbc32.lib
>> LIBRARY d:\watcom\lib386\nt\odbccp32.lib
>> LIBRARY d:\watcom\lib386\nt\IPHlpApi.Lib
>> LIBRARY d:\watcom\lib386\nt\Mpr.Lib
>> LIBRARY d:\watcom\lib386\nt\Version.Lib
>> LIBRARY d:\watcom\lib386\nt\WSock32.Lib
>> LIBRARY d:\watcom\lib386\nt\MSImg32.Lib
>> >>>
>>
>> I don't have exe file, and in log are many info lines like :
>>
>> Error! E2028: HB_FUN_WYBOR_ is an undefined reference
>> Error! E2028: HB_FUN_META_ is an undefined reference
>> Error! E2028: HB_FUN_KOMUNIKAT_ is an undefined reference
>> Error! E2028: HB_FUN_ERRORHOMAR_ is an undefined reference
>> Error! E2028: HB_FUN_CALLSTACK_ is an undefined reference
>>
>>
>> They are function from homar.lib.
>>
>> What I do wrong ?
>>
>> Regards,
>> Marek Horodyski
>>
>>
>>
>>
>> ----------------------------------------------------------------------
>> "Teraz gry" - program dla graczy, tylko w Interia.tv! >>>
>> http://link.interia.pl/f2081
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>
> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
> Formazione
> Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090315/a9ba5902/attachment.html
From mbelgrano at deltain.it  Sun Mar 15 13:27:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 15 13:27:26 2009
Subject: [Harbour] GTWVW => GTWVG Port - A Clarification
In-Reply-To: <22501471.post@talk.nabble.com>
References: <22478907.post@talk.nabble.com> <22501471.post@talk.nabble.com>
Message-ID: <609353e70903151027t6fe77be5h4a3104ece56230ea@mail.gmail.com>

Here you can found info regarding xbase part
http://xbaseprogrammer.com/ClassHierarchy.cgihere interesting sample xbase
part
http://www.knowlexbase.com/en/software/downloads/yukon/index.html



2009/3/13 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi Budiyanto, All
>
>
>
> > If you mean revising (or rewriting) GTWVW into Harbour, then I'll be very
> > much interested, as well as
> > many others. But please keep it backward compatible as much as possible.
> I
> > remember you said here
> > in the past that GTWVW is "impossible" to port to the new GT API because
> > there is a conflict with
> > GTWVW's use of first parameter as window designator (for most functions).
> > Do you finally find a way
> > to solve that problem? Or do you plan change the convention in GTWVW? (I
> > hope it is the former.)
> >
> > Am I interpreting it right with what you mean by "porting GTWVW in
> GTWVG"?
> >
>
> When GTWVW came into existance I had already ported my applns to GTWVG,
> the then GTWVT+WVTGUI, so I never looked into GTWVW deeply. Everything
> I needed was available in GTWVG ( current name ). Rather at that time
> I thought pseudo emulation of controls was good enough to appeal my clients
> and I was saved of the time to learn a new protocol. With only little
> efforts
> I was able to roll my applns with a new look and feel.
>
> Over the time concepts changed. Multi-Window and Multi-Threading forced me
> to look into real windows world. I was convinced that a lot can be achieved
> on this
> front as MT and GT modal of Harbour is much superior to any other in the
> market today.
>
> I looked around for effective GUI modal to base my next developments
> targetting
> not only my own needs but the Clipper community in general. The available
> modals
> in-use for Harbour around were as follow:
>
> 1.  FWH
> 2.  VXH
> 3.  HWGUI
> 4.  MINIGUI
> 5.  XAILER
> 6.  GTWVW
>
> Every modal had its pros and cons.  Some had documentation missing,
> some were pure IDE based, some dynamic but heavily based on #define(s)
> ( due a large number of parameters for a single activity ), and some lacked
> OOP.
> Every modal had its own parameters passing and calling convensions.
> And, for sure, all modals lacked adaptation to MT, the biggest mainstay
> in the coming future.
>
> What I wanted to base next efforts on development of a GUI :
>
> 1) It must be adaptable to MT modal.
> 2) It should be able to take advantage of MW GT whereever possible.
> 3) It must adhere to standardization of parameters and calling convensions.
> 4) It must be having a well written documentation.
> 5) If possible, it must have a user-base.
> 6) And above all, it must be able to base Multi-Platform GUI.
>
> After a lot of thinking and spadework I could not accept any of the above.
> I just picked Xbase++. This compiler's subsystems were almost fitting
> my ideology, is having a large user-base, ships with descent documentation,
> complete with MT capabilities and nicely fits into Multi-GT environments.
>
> Moreover I had worked with this compiler for some time and know how
> best its parameters passing and calling conventions were. Also I wanted to
> have
> a well define class framework to dream for a multi-platform GUI framework.
>
> I knew to follow an already established framework is always a difficult
> task.
> To create a new protocol you are the master of your own thoughts. But to
> copy
> feature-by-feature is very difficult. But I choose the difficult way.
>
> Also I wanted to have an integrated library which could absorb different
> scattered GUI modals into one as all were having one aspect in common -
> Harbour.
> My first results are quiet encouraging and now GTWVG can host:
>
> * pure console,
> * pseudo GUI console,
> * Xbase++ consols and dialogs with xbase parts,
> * pure consoles with Xbase parts,
> * and a mixture of any of the above.
>
> In this evolution process GTWVW becomes the next natural GEM to
> be inducted in this whole picture, and probably FWH too, who knows.
>
> If you invest a little time in GTWVG's Xbase++ implementation, you
> will wonder how a Xbase++ .prg ( with only those controls which have
> have taken some shape ) can be compiled in Harbour. And this is the
> same intention for GTWVW too. No code change whatsoever.
>
> As before, today also i say that it is difficult to port GTWVW as is
> in new GT system. As GTWVG and GTWVW share the same code base at the
> core levels it is easier to embed GTWVW GUI controls into GTWVG.
> End user will not experience any change to his/her code. This way
> it is not as difficult as it seems to be.
>
> Also to rewrite it again will be sheer waste of time and resources.
> In fact I could never take advantage of GTWVW because it become mutually
> exclusive with GTWVG, and which I do not want at this time. Possibly
> in the coming few days I will lay the base structure how GTWVW
> functionality can be included in GTWVG. There onwards there should be
> cummulative effort to achieve this goal. I alone can achieve but it may
> take a bit longer.
>
> To conclude, GTWVW is not going to be rewritten but will be included
> in GTWVG and for sure end-user will need a minimum to change his code.
>
>
> Hope I am clear enough.
>
> Regards
> Pritpal Bedi
>
>
>
> --
> View this message in context:
> http://www.nabble.com/GTWVG-and-Buffered-Console-tp22478907p22501471.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090315/31c2e2d8/attachment.html
From vszakats at users.sourceforge.net  Sun Mar 15 15:52:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 15 15:52:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10611] trunk/harbour
Message-ID: <E1LiwNO-0005wW-Fa@d5vjzd1.ch3.sourceforge.com>

Revision: 10611
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10611&view=rev
Author:   vszakats
Date:     2009-03-15 19:52:01 +0000 (Sun, 15 Mar 2009)

Log Message:
-----------
2009-03-15 20:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Documented cross-build config for minwgce.

  * utils/hbmk2/hbmk2.prg
    + Added static lib generation support for owatcom compilers on
      platforms.
    + Added static lib generation support for gcc family.
      Please review it's probably incomplete.
    + Honoring HB_CCPREFIX on win platform for gcc family.
    ! Fixed typo on .c stub function declaration for bcc/owatcom.

  * contrib/xhb/hbcompat.ch
    + #xtranslate hb_funcptr(<x>) => __dynsn2sym(<x>)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar 15 16:36:42 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 15 16:36:52 2009
Subject: [Harbour] now try with correct format.
In-Reply-To: <609353e70903150511ob2abe1chba16fa79658c392c@mail.gmail.com>
References: <20090315103952.5D98EE71552@f16.poczta.interia.pl>
	<609353e70903150452v1f525caana070214749b31bc2@mail.gmail.com>
	<609353e70903150511ob2abe1chba16fa79658c392c@mail.gmail.com>
Message-ID: <609353e70903151336j65b3d3cq4db7714c18af6d84@mail.gmail.com>

 Now Vicktor have Added static lib generation support for owatcom compilers
on platforms
So you can .
hbmk2 homar1.prg homar2.PRG   -w2 -l -gc3  -hblib -ohomar.lib

This syntax works on all os and all supported compiler and is unified
harbour culture

2009/3/15 Massimo Belgrano <mbelgrano@deltain.it>

> With hbmk is possible create lib with bcc,msvc
> yuo can easy add Support for owatcom
>
>  add at line 1397 something like
>          cBin_Lib := "wlib.exe"
>          cOpt_Lib := ""
>          cLibObjPrefix := "+- "
>
>
>
> 2009/3/15 Massimo Belgrano <mbelgrano@deltain.it>
>
> *-c*perform case-sensitive comparison
>> http://www.users.pjwstk.edu.pl/~jms/qnx/help/watcom/utilities/wlib.html
>> 2009/3/15 <marek.horodyski@interia.pl>
>>
>> Sorry, I have too troble with format send mails from www.
>>>
>>> Chen,
>>> adwice with FHANDLE -> HB_FHANDLE is "bingo" :).
>>>
>>> But now, have I another problem.
>>> I use owatcom.
>>> Most of my prg code I compile to c a=
>>> nd obj file :
>>>
>>> harbour %1 /n/w2/l/gc3/o.\obj_ow\
>>> wpp386.exe  -Id:\harbour\include;d:\watcom\h obj_ow\%1 -foobj_ow\
>>>
>>> and after this inlude it in lib file :
>>>
>>> wlib -p=3D64 -c -n -o=3Dd:\harbour\lib\homar.lib homar +obj_ow\%1
>>>
>>> But when I try link :
>>>
>>> harbour homar  /n/w2/l/gc3
>>> harbour braki /n/w2/l/gc3
>>> wpp386.exe  -Id:\harbour\include;d:\watcom\h homar
>>> wpp386.exe  -Id:\harbour\include;d:\watcom\h braki
>>> wlink.Exe  @lp.lnk >_LinkInfo
>>>
>>> when in lp.lnk are :
>>>
>>> >>>>
>>> NAME homar.Exe
>>>
>>> FILE homar.Obj, braki.Obj
>>>
>>> LIBRARY d:\harbour\Lib\hbrtl.lib
>>> LIBRARY d:\harbour\Lib\hbvmmt.lib
>>> LIBRARY d:\harbour\Lib\hblang.lib
>>> LIBRARY d:\harbour\Lib\hbmacro.lib
>>> LIBRARY d:\harbour\Lib\hbrdd.lib
>>> LIBRARY d:\harbour\Lib\rddntx.lib
>>> LIBRARY d:\harbour\Lib\rddcdx.lib
>>> LIBRARY d:\harbour\Lib\rddfpt.lib
>>> LIBRARY d:\harbour\Lib\hbcommon.lib
>>> LIBRARY d:\harbour\Lib\homar.lib <<- here is my lib file
>>> LIBRARY d:\harbour\Lib\hbpp.lib
>>> LIBRARY d:\harbour\Lib\hbsix.lib
>>> LIBRARY d:\harbour\Lib\gtwvg.Lib
>>> LIBRARY d:\harbour\Lib\hbct.lib
>>> LIBRARY d:\harbour\Lib\hbpcre.lib
>>> LIBRARY d:\harbour\Lib\hbusrrdd.lib
>>> LIBRARY d:\harbour\Lib\hbwin.lib
>>> LIBRARY d:\harbour\Lib\hbtip.lib
>>> LIBRARY d:\harbour\Lib\hbmzip.lib
>>> LIBRARY d:\harbour\Lib\hbzlib.lib
>>> LIBRARY d:\harbour\Lib\hbziparc.lib
>>> LIBRARY d:\watcom\lib386\nt\Kernel32.Lib
>>> LIBRARY d:\watcom\lib386\nt\User32.Lib
>>> LIBRARY d:\watcom\lib386\nt\Gdi32.Lib
>>> LIBRARY d:\watcom\lib386\nt\WinSpool.Lib
>>> LIBRARY d:\harbour\Lib\gtcgi.lib
>>> LIBRARY d:\watcom\lib386\nt\ComCtl32.Lib
>>> LIBRARY d:\watcom\lib386\nt\ComDlg32.Lib
>>> LIBRARY d:\harbour\Lib\gtgui.lib
>>> LIBRARY d:\harbour\Lib\gtwin.lib
>>> LIBRARY d:\watcom\lib386\nt\AdvAPI32.Lib
>>> LIBRARY d:\harbour\Lib\gtwvt.lib
>>> LIBRARY d:\watcom\lib386\nt\shell32.lib
>>> LIBRARY d:\harbour\Lib\hbnf.lib
>>> LIBRARY d:\watcom\lib386\nt\Ole32.Lib
>>> LIBRARY d:\watcom\lib386\nt\OleAut32.Lib
>>> LIBRARY d:\watcom\lib386\nt\Uuid.Lib
>>> LIBRARY d:\watcom\lib386\nt\odbc32.lib
>>> LIBRARY d:\watcom\lib386\nt\odbccp32.lib
>>> LIBRARY d:\watcom\lib386\nt\IPHlpApi.Lib
>>> LIBRARY d:\watcom\lib386\nt\Mpr.Lib
>>> LIBRARY d:\watcom\lib386\nt\Version.Lib
>>> LIBRARY d:\watcom\lib386\nt\WSock32.Lib
>>> LIBRARY d:\watcom\lib386\nt\MSImg32.Lib
>>> >>>
>>>
>>> I don't have exe file, and in log are many info lines like :
>>>
>>> Error! E2028: HB_FUN_WYBOR_ is an undefined reference
>>> Error! E2028: HB_FUN_META_ is an undefined reference
>>> Error! E2028: HB_FUN_KOMUNIKAT_ is an undefined reference
>>> Error! E2028: HB_FUN_ERRORHOMAR_ is an undefined reference
>>> Error! E2028: HB_FUN_CALLSTACK_ is an undefined reference
>>>
>>>
>>> They are function from homar.lib.
>>>
>>> What I do wrong ?
>>>
>>> Regards,
>>> Marek Horodyski
>>>
>>>
>>>
>>>
>>> ----------------------------------------------------------------------
>>> "Teraz gry" - program dla graczy, tylko w Interia.tv! >>>
>>> http://link.interia.pl/f2081
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
>> Formazione
>> Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
>>
>
>
>
> --
> Massimo Belgrano
>
> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
> Formazione
> Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090315/84bc9d36/attachment-0001.html
From druzus at acn.waw.pl  Sun Mar 15 16:45:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 15 16:39:07 2009
Subject: [Harbour] xHB.LIB and HB_FUNCPTR() implementation
In-Reply-To: <531d7a750903141456p1f353548jfe444d592d2673de@mail.gmail.com>
References: <531d7a750903141456p1f353548jfe444d592d2673de@mail.gmail.com>
Message-ID: <20090315204509.GA3499@uran.home.aster.pl>

On Sat, 14 Mar 2009, Vailton Renato wrote:

Hi,

> I am migrating some routines for Harbour and noticed the absence of
> HB_FUNCPTR() that I used before. I came to develop the same function
> in Harbour and after researching the sources I found __DYNSN2SYM()
> which has the same purpose.
> I would like to suggest it was placed within the file hbcompat.ch the
> following line:
> #xtranslate HB_FUNCPTR(<x>) => __DYNSN2SYM (<x>)
> In order to make the conversion automatically.

Viktor already added it but please remember that it's not exactly
the same.
In Harbour type of function symbol is "S". In xHarbour it's simple
pointer item: "P". So the C code will not be compatible.
To use function symbols in Harbour you do not need any special
functions. You can simply create them using macro compiler:

   sFunc := &("@str()")
   ? sFunc:name()
   ? sFunc:eval( 123.45, 10, 5 )

Probably any xHarbour code which operates on function pointers
can be ported to Harbour and only the places which checks item
type should be updated but reverted conversion may not be possible.
Just simply xHarbour accepts any pointer item as function symbol
without any verification so it will GPF for wrong pointer item
types.

best regards,
Przemek
From jfl at mafact.com  Sun Mar 15 17:26:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Sun Mar 15 17:26:50 2009
Subject: [Harbour] pCode dll
Message-ID: <b7cd04c7.1c9a5b4.f46cb06.762e@mafact.com>

Does somebody tryed to create and use (!!) one pCode only Dll ?

Regards,

JF

From vszakats at users.sourceforge.net  Sun Mar 15 19:40:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 15 19:41:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10612] trunk/harbour
Message-ID: <E1Lizwr-0002R5-TG@c3vjzd1.ch3.sourceforge.com>

Revision: 10612
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10612&view=rev
Author:   vszakats
Date:     2009-03-15 23:40:53 +0000 (Sun, 15 Mar 2009)

Log Message:
-----------
2009-03-16 00:38 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    + Added owatcom and pocc support for implib generation.

  * utils/hbmk2/hbmk2.prg
    + Fixed win/pocc support.
    + Added resource support for win/pocc.
    + Added .dll support for win/pocc.
    + Added win/xcc support (untested).
    + -DHB_DYNLIB is passed to C compiler in -hbdyn (.dll) mode
      for win targets. (still need fixing to create usable .dlls)
    ; NOTE: pocc support is very limited as pocc compiler doesn't
            support multiple input files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Mar 15 19:55:33 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Mar 15 19:55:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10613] trunk/harbour
Message-ID: <E1Lj0B3-0003xM-5O@d5vjzd1.ch3.sourceforge.com>

Revision: 10613
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10613&view=rev
Author:   vouchcac
Date:     2009-03-15 23:55:29 +0000 (Sun, 15 Mar 2009)

Log Message:
-----------
2009-03-15 16:42 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)

  * harbour/contrib/gtwvg/hbgtwvg.ch
    + #define HB_GTI_SETPOSANDSIZE
    + #define HB_GTI_HB_GTI_REFRESH
      + Two more events to manage new CUI-GUI objects.

    + #define GOBJ_OBJSTATE_*
    + #define GOBJ_OBJDATA_*
    + #define GOBJ_IMAGESOURCE_*
      + Constants to manage CUI=GUI objects.

  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/wvggui.h
    ! Updated to be compilable for WinCE builds.

  * harbour/contrib/gtwvg/gtwvg.c
    ! Updated to honor WinCE builds.
    ! Implemented double-buffering of console. Now flickering
      should be the topic of the past.

  * harbour/contrib/gtwvg/wvggui.c
    ! Updated to honor WinCE builds.

  * harbour/contrib/gtwvg/wvgcuig.c
    + Implemented a highly optimized GUI controls for CUI consoles.
      Implementation includes auto-destruction, data-substitution,
      enable/disable feast, etc. These controls are almost identical
      which are available with Wvt_Draw*() namespace but with a 
      great difference that these are tied to the urrent GT and 
      are handelled transparently by the GT itself. Developer 
      has only to define it. The only requirement is that 
      SaveScreen()/RestScreen() needs to be changed to new 
      Modal GT window. Appln screens will never get blurred. It 
      also employs optimized double-buffering and hence almost 
      eliminates screen flickering. 

  * harbour/contrib/gtwvg/wvgcore.c
  * harbour/contrib/gtwvg/wvgsink.c
  * harbour/contrib/gtwvg/wvgutils.c
  * harbour/contrib/gtwvg/wvgwin.c
    ! Updated to honor WinCE builds.

  * harbour/contrib/gtwvg/wvgcrt.prg
    ! A couple of methods fine-tuned.
    ! Modal GT's more responsive to user needs.

  * harbour/contrib/gtwvg/tests/demowvg.prg
    ! Demonstrated the latest implemention of CUI-GUI controls. See below.
      Please try <Traditional><WVG Console with CGUI> option in the main menu.
      Also note the usage of Modal GT to simulate Alert() in new window.
      Every GUI object returns a handle to it which may be used to 
      change its parameters.

    ; TOFIX( WINCE BUILDS ) - GetSystemDirectory()


    /*    IMPLEMENTATION OF CUI-GUI CONTROLS - A CODE PREVIEW



         #xTranslate Alert( => MyAlert(

         PROCEDURE GCUIConsole( oCrt )
            LOCAL dDate      := date()
            LOCAL cName      := pad( 'Some Usefule Name'   , 35 )
            LOCAL cAdd1      := pad( 'Linda Goldman Avenue', 35 )
            LOCAL cAdd2      := pad( 'Excellent Street'    , 35 )
            LOCAL cAdd3      := pad( 'Suit #415'           , 35 )
            LOCAL nSlry      := 9000
            LOCAL nColGet    := 8
            LOCAL GetList    := {}
            LOCAL cLabel     := "VOUCH, that GROWS with you"
            LOCAL oTab, oStat, hBoxR, hTxt

            SET SCOREBOARD OFF

            SetColor( "N/W,N/GR*,,,N/W*" )
            CLS
            hb_gtInfo( HB_GTI_WINTITLE, "WVG Simplified yet Powerful CUI-GUI Console!" )

            @ MaxRow(), 0 SAY PadC( "Navigate the Gets", maxcol()+1 ) COLOR "W+/B"

            @  2, nColGet SAY "< Date >"
            @  5, nColGet SAY "<" + PadC( "Name"   , 33 ) + ">"
            @  8, nColGet SAY "<" + PadC( "Address", 33 ) + ">"
            @ 15, nColGet SAY "< Salary >"

            @  3, nColGet GET dDate  ;
                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 1 ) ) } ;
                                     Valid {|| Wvg_SetGObjData( hTxt, 6, RGB( 255,0,0 ) ), .t. }
            @  6, nColGet GET cName  ;
                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 2 ) ) } ;
                                     Valid {|| Wvg_SetGObjData( hTxt, 6, RGB( 255,255,0 ) ), ;
                                                           Wvg_SetGObjState( hBoxR, 3 ), .t. }
            @  9, nColGet GET cAdd1  ;
                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 3 ) ) } ;
                                     Valid {|| Wvg_SetGObjData( hTxt, 6, RGB( 255,0,255 ) ), .t. }
            @ 11, nColGet GET cAdd2  ;
                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 4 ) ) } ;
                                     Valid {|| Wvg_SetGObjData( hTxt, 6, RGB( 255,255,255 ) ), ;
                                                           Wvg_SetGObjState( hBoxR, 1 ), .t. }
            @ 13, nColGet GET cAdd3  ;
                                     WHEN  {|| Wvg_SetGObjData( hTxt, 6, RGB( 198,21,140 ) ), .t. }
            @ 16, nColGet GET nSlry PICTURE "@Z 9999999.99" ;
                                     WHEN  {|| Wvg_SetGObjData( hTxt, 6, RGB( 0,0,0 ) ), .t. }

            // The only additional calls to render your console GUI
            //
            // The GETLIST  : This can be embedded via  @ GET preprocessor command
            aEval( GetList, {|oGet| Wvg_BoxGet( oGet:Row, oGet:Col, Len( Transform( oGet:VarGet(), oGet:Picture ) ) ) } )
            //
            hBoxR := Wvg_BoxRaised( 1,2,18,49, {-5,-5,5,5} )
            //
            Wvg_BoxRecessed( 1,2,18,49 )
            //
            // Wvg_BoxGroup( 2,4,17,47 )
            //
            Wvg_BoxGroupRaised( 2,4,17,47, {-7,-7,7,7} )
            //
            hTxt := Wvg_TextBox( 3,57,16,75, {10,10,-10,-10}, 'This is first TextBox Line!', 2, 2 )
            //
            Wvg_Image( 15,36,16,42, {-3,-3,3,3}, GOBJ_IMAGESOURCE_FILE, 'Vouch1.bmp' )
            //
            Wvg_BoxRaised( 15,36,16,42,{-2,-2,2,2} )
            //
            Wvg_ShadedRect( 1,54,18,79, { -5,-5,5,5 }, 0, {65000,21000,7000,56000}, {255,32255,16000,32500} )
            //
            Wvg_BoxRaised( 1,54,18,79, {-5,-5,5,5} )

            // Instruct GT to Repaint the Screen with GUI elements.
            oCrt:refresh()

            // Issue the read
            READ

            Alert( 'How did you like the "Alert" replacement?', { 'WOW','OK','OOps'} )

            RETURN
         /*----------------------------------------------------------------------*/
         #xUntranslate alert( =>

         FUNCTION MyAlert( cMsg, aOpt )
            LOCAL nSel, oCrt

            oCrt := WvgCrt():New( , , { -1,-1 }, { 9, MaxCol()-6 }, , .t. )
            oCrt:lModal := .t.
            oCrt:icon   := "dia_excl.ico"
            oCrt:create()
            oCrt:resizable := .t.

            SetColor( 'N/W' )
            CLS
            hb_gtInfo( HB_GTI_WINTITLE, cMsg )

            nSel := Alert( cMsg, aOpt )

            oCrt:destroy()

            RETURN nSel

         #xTranslate Alert( => MyAlert(
         /*----------------------------------------------------------------------*/
         STATIC FUNCTION FetchText( nMode )
            LOCAL cText

            DO CASE
            CASE nMode == 1
               cText := 'Do you know Harbour is gaining a popularity what Clipper enjoyed at one time! '
               cText += 'Enjoy it.'
            CASE nMode == 2
               cText := 'Do you know Harbour can host pure console, cui+gui console, pure gui consoles applications? '
               cText += 'This demonstration is a proof of that.'
            CASE nMode == 3
               cText := 'Do you know Harbour is a multi-gt, multi-window, multi-thread compiler far superior than others in the market! '
               cText += 'And is FREE.'
            CASE nMode == 4
               cText := 'Enjoy and contribute to the project any way you can. Develop, Debug, Support, and spread a word of mouth!'
            ENDCASE

            RETURN cText
         /*----------------------------------------------------------------------*/
    */

    ;TODO - Write a comprehensive help to exploit CUI-GUI functionality.
            Will do in a few days.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/hbgtwvg.ch
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvgcrt.prg
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 15 20:36:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 15 20:36:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10614] trunk/harbour
Message-ID: <E1Lj0oK-00089X-6C@3kljzd1.ch3.sourceforge.com>

Revision: 10614
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10614&view=rev
Author:   vszakats
Date:     2009-03-16 00:36:06 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 01:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
  * source/vm/maindllp.c
  * utils/hbmk2/hbmk2.prg
    + Added .dll generation for pocc.
    + Added -shared support for pocc.

  * utils/hbmk2/hbmk2.prg
    ! Warning after prev commit is fixed.

  * source/vm/Makefile
    * All win targets will generate maindllh lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Mar 15 20:49:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar 15 20:49:28 2009
Subject: [Harbour] pCode dll
In-Reply-To: <b7cd04c7.1c9a5b4.f46cb06.762e@mafact.com>
References: <b7cd04c7.1c9a5b4.f46cb06.762e@mafact.com>
Message-ID: <18d502870903151749o98bba23ic4ffe9506527e064@mail.gmail.com>

No, sorry. I did a few tests today, but I couldn't make it work and got GPF
only.

If anyone has suggestions how to solve this, I'll try to implement
support in hbmk2.

/half-off-on
owatcom harbour.dll usage is also broken and various compiler
generated .dlls still aren't compatible, this is a task for the future.
At least msvc, pocc and icc can probably made compatible,
bcc is almost certainly unstandard, owatcom/mingw may be
made compatible with msvc.
/half-off-off

Brgds,
Viktor

On Sun, Mar 15, 2009 at 10:26 PM, J. Lefebvre <jfl@mafact.com> wrote:

> Does somebody tryed to create and use (!!) one pCode only Dll ?
>
> Regards,
>
> JF
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/49a69c15/attachment.html
From xharbour at telkom.net.id  Mon Mar 16 02:09:14 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Mar 16 02:09:31 2009
Subject: [Harbour] pCode dll
In-Reply-To: <18d502870903151749o98bba23ic4ffe9506527e064@mail.gmail.com>
References: <b7cd04c7.1c9a5b4.f46cb06.762e@mafact.com>
	<18d502870903151749o98bba23ic4ffe9506527e064@mail.gmail.com>
Message-ID: <20090316125733.A62C.422BA498@telkom.net.id>

On Mon, 16 Mar 2009 01:49:20 +0100
Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> /half-off-on
> owatcom harbour.dll usage is also broken and various compiler?
> generated .dlls still aren't compatible, this is a task for the future.
> At least msvc, pocc and icc can probably made compatible,?
> bcc is almost certainly unstandard, owatcom/mingw may be?
> made compatible with msvc.
> /half-off-off


ALL are basically compatible, read below:

OWatcom: I suggest you have oWatcom Harbour flags standardized as what
other compilers use as of now. Take a look at -s and -r switch (default
is -r which is "use register calling convention"). Other Windoze
compiler are using -s equivalent (-s = "stack calling convention").It's
should be OK if you're using -r but the creation of import library
become rather clumpsy, because -r append an underscrore AFTER symbol
name.

MSVC,POCC,ICC and GCC are fully compatible. We can easily rename an
MSVC-created import lib to GCC name, ie. harbour.lib->libharbour.a.

Borland VS MSVC family only differs in an underscore. Borland requires
an underscore IN FRONT OF symbol name. Take a look at switch -a in
Borland's IMPLIB.EXE/IMPDEF.EXE. 
--
Andi

From vouchcac at users.sourceforge.net  Mon Mar 16 02:13:41 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Mar 16 02:13:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10615] trunk/harbour
Message-ID: <E1Lj64z-0001nv-QX@74yxhf1.ch3.sourceforge.com>

Revision: 10615
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10615&view=rev
Author:   vouchcac
Date:     2009-03-16 06:13:40 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-15 23:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvgcuig.c
    ! A fix for UNICODE | non-UNICODE. Not sure if it is the 
      right way, but it works. Please fix me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcuig.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From xharbour at telkom.net.id  Mon Mar 16 02:17:20 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Mon Mar 16 02:17:31 2009
Subject: [Harbour] pCode dll
In-Reply-To: <20090316125733.A62C.422BA498@telkom.net.id>
References: <18d502870903151749o98bba23ic4ffe9506527e064@mail.gmail.com>
	<20090316125733.A62C.422BA498@telkom.net.id>
Message-ID: <20090316131434.A62F.422BA498@telkom.net.id>

Of course, with ONE important standard in our mind that is all object
are compiled with __cdecl calling convention. Other calling methods such
as __stdcall, __fastcall requires different handlings.

--
Andi

On Mon, 16 Mar 2009 13:09:14 +0700
Andi Jahja <xharbour@telkom.net.id> wrote:

> ALL are basically compatible, read below:
> 
> OWatcom: I suggest you have oWatcom Harbour flags standardized as what
> other compilers use as of now. Take a look at -s and -r switch (default
> is -r which is "use register calling convention"). Other Windoze
> compiler are using -s equivalent (-s = "stack calling convention").It's
> should be OK if you're using -r but the creation of import library
> become rather clumpsy, because -r append an underscrore AFTER symbol
> name.
> 
> MSVC,POCC,ICC and GCC are fully compatible. We can easily rename an
> MSVC-created import lib to GCC name, ie. harbour.lib->libharbour.a.
> 
> Borland VS MSVC family only differs in an underscore. Borland requires
> an underscore IN FRONT OF symbol name. Take a look at switch -a in
> Borland's IMPLIB.EXE/IMPDEF.EXE. 

From mbelgrano at deltain.it  Mon Mar 16 03:17:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 16 03:17:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10613] trunk/harbour
In-Reply-To: <E1Lj0B3-0003xM-5O@d5vjzd1.ch3.sourceforge.com>
References: <E1Lj0B3-0003xM-5O@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70903160017v4e0ac1dfpe256af9bd4c0fd3b@mail.gmail.com>

My compliment to Pritpal now in gtwvg traditional get ang xppdialog are full
joined

I suggest add to sample of "CUI-GUI coexistence" also a xbppushbutton
,xbptreeview , XbpTabPage (that will require a relation between control and
@sayget read)
WIl be possible use also modeless dialog with cui?

Still complimenti

2009/3/16 <vouchcac@users.sourceforge.net>

> Revision: 10613
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10613&view=rev
> Author:   vouchcac
> Date:     2009-03-15 23:55:29 +0000 (Sun, 15 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-15 16:42 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>
>  * harbour/contrib/gtwvg/hbgtwvg.ch
>    + #define HB_GTI_SETPOSANDSIZE
>    + #define HB_GTI_HB_GTI_REFRESH
>      + Two more events to manage new CUI-GUI objects.
>
>    + #define GOBJ_OBJSTATE_*
>    + #define GOBJ_OBJDATA_*
>    + #define GOBJ_IMAGESOURCE_*
>      + Constants to manage CUI=GUI objects.
>
>  * harbour/contrib/gtwvg/gtwvg.h
>  * harbour/contrib/gtwvg/wvggui.h
>    ! Updated to be compilable for WinCE builds.
>
>  * harbour/contrib/gtwvg/gtwvg.c
>    ! Updated to honor WinCE builds.
>    ! Implemented double-buffering of console. Now flickering
>      should be the topic of the past.
>
>  * harbour/contrib/gtwvg/wvggui.c
>    ! Updated to honor WinCE builds.
>
>  * harbour/contrib/gtwvg/wvgcuig.c
>    + Implemented a highly optimized GUI controls for CUI consoles.
>      Implementation includes auto-destruction, data-substitution,
>      enable/disable feast, etc. These controls are almost identical
>      which are available with Wvt_Draw*() namespace but with a
>      great difference that these are tied to the urrent GT and
>      are handelled transparently by the GT itself. Developer
>      has only to define it. The only requirement is that
>      SaveScreen()/RestScreen() needs to be changed to new
>      Modal GT window. Appln screens will never get blurred. It
>      also employs optimized double-buffering and hence almost
>      eliminates screen flickering.
>
>  * harbour/contrib/gtwvg/wvgcore.c
>  * harbour/contrib/gtwvg/wvgsink.c
>  * harbour/contrib/gtwvg/wvgutils.c
>  * harbour/contrib/gtwvg/wvgwin.c
>    ! Updated to honor WinCE builds.
>
>  * harbour/contrib/gtwvg/wvgcrt.prg
>    ! A couple of methods fine-tuned.
>    ! Modal GT's more responsive to user needs.
>
>  * harbour/contrib/gtwvg/tests/demowvg.prg
>    ! Demonstrated the latest implemention of CUI-GUI controls. See below.
>      Please try <Traditional><WVG Console with CGUI> option in the main
> menu.
>      Also note the usage of Modal GT to simulate Alert() in new window.
>      Every GUI object returns a handle to it which may be used to
>      change its parameters.
>
>    ; TOFIX( WINCE BUILDS ) - GetSystemDirectory()
>
>
>    /*    IMPLEMENTATION OF CUI-GUI CONTROLS - A CODE PREVIEW
>
>
>
>         #xTranslate Alert( => MyAlert(
>
>         PROCEDURE GCUIConsole( oCrt )
>            LOCAL dDate      := date()
>            LOCAL cName      := pad( 'Some Usefule Name'   , 35 )
>            LOCAL cAdd1      := pad( 'Linda Goldman Avenue', 35 )
>            LOCAL cAdd2      := pad( 'Excellent Street'    , 35 )
>            LOCAL cAdd3      := pad( 'Suit #415'           , 35 )
>            LOCAL nSlry      := 9000
>            LOCAL nColGet    := 8
>            LOCAL GetList    := {}
>            LOCAL cLabel     := "VOUCH, that GROWS with you"
>            LOCAL oTab, oStat, hBoxR, hTxt
>
>            SET SCOREBOARD OFF
>
>            SetColor( "N/W,N/GR*,,,N/W*" )
>            CLS
>            hb_gtInfo( HB_GTI_WINTITLE, "WVG Simplified yet Powerful CUI-GUI
> Console!" )
>
>            @ MaxRow(), 0 SAY PadC( "Navigate the Gets", maxcol()+1 ) COLOR
> "W+/B"
>
>            @  2, nColGet SAY "< Date >"
>            @  5, nColGet SAY "<" + PadC( "Name"   , 33 ) + ">"
>            @  8, nColGet SAY "<" + PadC( "Address", 33 ) + ">"
>            @ 15, nColGet SAY "< Salary >"
>
>            @  3, nColGet GET dDate  ;
>                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1,
> FetchText( 1 ) ) } ;
>                                     Valid {|| Wvg_SetGObjData( hTxt, 6,
> RGB( 255,0,0 ) ), .t. }
>            @  6, nColGet GET cName  ;
>                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1,
> FetchText( 2 ) ) } ;
>                                     Valid {|| Wvg_SetGObjData( hTxt, 6,
> RGB( 255,255,0 ) ), ;
>                                                           Wvg_SetGObjState(
> hBoxR, 3 ), .t. }
>            @  9, nColGet GET cAdd1  ;
>                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1,
> FetchText( 3 ) ) } ;
>                                     Valid {|| Wvg_SetGObjData( hTxt, 6,
> RGB( 255,0,255 ) ), .t. }
>            @ 11, nColGet GET cAdd2  ;
>                                     WHEN  {|| Wvg_SetGObjData( hTxt, 1,
> FetchText( 4 ) ) } ;
>                                     Valid {|| Wvg_SetGObjData( hTxt, 6,
> RGB( 255,255,255 ) ), ;
>                                                           Wvg_SetGObjState(
> hBoxR, 1 ), .t. }
>            @ 13, nColGet GET cAdd3  ;
>                                     WHEN  {|| Wvg_SetGObjData( hTxt, 6,
> RGB( 198,21,140 ) ), .t. }
>            @ 16, nColGet GET nSlry PICTURE "@Z 9999999.99" ;
>                                     WHEN  {|| Wvg_SetGObjData( hTxt, 6,
> RGB( 0,0,0 ) ), .t. }
>
>            // The only additional calls to render your console GUI
>            //
>            // The GETLIST  : This can be embedded via  @ GET preprocessor
> command
>            aEval( GetList, {|oGet| Wvg_BoxGet( oGet:Row, oGet:Col, Len(
> Transform( oGet:VarGet(), oGet:Picture ) ) ) } )
>            //
>            hBoxR := Wvg_BoxRaised( 1,2,18,49, {-5,-5,5,5} )
>            //
>            Wvg_BoxRecessed( 1,2,18,49 )
>            //
>            // Wvg_BoxGroup( 2,4,17,47 )
>            //
>            Wvg_BoxGroupRaised( 2,4,17,47, {-7,-7,7,7} )
>            //
>            hTxt := Wvg_TextBox( 3,57,16,75, {10,10,-10,-10}, 'This is first
> TextBox Line!', 2, 2 )
>            //
>            Wvg_Image( 15,36,16,42, {-3,-3,3,3}, GOBJ_IMAGESOURCE_FILE,
> 'Vouch1.bmp' )
>            //
>            Wvg_BoxRaised( 15,36,16,42,{-2,-2,2,2} )
>            //
>            Wvg_ShadedRect( 1,54,18,79, { -5,-5,5,5 }, 0,
> {65000,21000,7000,56000}, {255,32255,16000,32500} )
>            //
>            Wvg_BoxRaised( 1,54,18,79, {-5,-5,5,5} )
>
>            // Instruct GT to Repaint the Screen with GUI elements.
>            oCrt:refresh()
>
>            // Issue the read
>            READ
>
>            Alert( 'How did you like the "Alert" replacement?', {
> 'WOW','OK','OOps'} )
>
>            RETURN
>
> /*----------------------------------------------------------------------*/
>         #xUntranslate alert( =>
>
>         FUNCTION MyAlert( cMsg, aOpt )
>            LOCAL nSel, oCrt
>
>            oCrt := WvgCrt():New( , , { -1,-1 }, { 9, MaxCol()-6 }, , .t. )
>            oCrt:lModal := .t.
>            oCrt:icon   := "dia_excl.ico"
>            oCrt:create()
>            oCrt:resizable := .t.
>
>            SetColor( 'N/W' )
>            CLS
>            hb_gtInfo( HB_GTI_WINTITLE, cMsg )
>
>            nSel := Alert( cMsg, aOpt )
>
>            oCrt:destroy()
>
>            RETURN nSel
>
>         #xTranslate Alert( => MyAlert(
>
> /*----------------------------------------------------------------------*/
>         STATIC FUNCTION FetchText( nMode )
>            LOCAL cText
>
>            DO CASE
>            CASE nMode == 1
>               cText := 'Do you know Harbour is gaining a popularity what
> Clipper enjoyed at one time! '
>               cText += 'Enjoy it.'
>            CASE nMode == 2
>               cText := 'Do you know Harbour can host pure console, cui+gui
> console, pure gui consoles applications? '
>               cText += 'This demonstration is a proof of that.'
>            CASE nMode == 3
>               cText := 'Do you know Harbour is a multi-gt, multi-window,
> multi-thread compiler far superior than others in the market! '
>               cText += 'And is FREE.'
>            CASE nMode == 4
>               cText := 'Enjoy and contribute to the project any way you
> can. Develop, Debug, Support, and spread a word of mouth!'
>            ENDCASE
>
>            RETURN cText
>
> /*----------------------------------------------------------------------*/
>    */
>
>    ;TODO - Write a comprehensive help to exploit CUI-GUI functionality.
>            Will do in a few days.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/gtwvg.c
>    trunk/harbour/contrib/gtwvg/gtwvg.h
>    trunk/harbour/contrib/gtwvg/hbgtwvg.ch
>    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
>    trunk/harbour/contrib/gtwvg/wvgcore.c
>    trunk/harbour/contrib/gtwvg/wvgcrt.prg
>    trunk/harbour/contrib/gtwvg/wvgcuig.c
>    trunk/harbour/contrib/gtwvg/wvggui.c
>    trunk/harbour/contrib/gtwvg/wvggui.h
>    trunk/harbour/contrib/gtwvg/wvgsink.c
>    trunk/harbour/contrib/gtwvg/wvgutils.c
>    trunk/harbour/contrib/gtwvg/wvgwin.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/6f8ae3be/attachment.html
From M.Horodyski at pzuzycie.com.pl  Mon Mar 16 04:53:50 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Mar 16 04:53:56 2009
Subject: [Harbour] now try with correct format.
In-Reply-To: <609353e70903150511ob2abe1chba16fa79658c392c@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED8C2@PINK.zycie.pzu>

________________________________

	From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
	Sent: Sunday, March 15, 2009 1:11 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] now try with correct format.
	
	
	With hbmk is possible create lib with bcc,msvc
	yuo can easy add Support for owatcom 
	
	
	 add at line 1397 something like
	         cBin_Lib := "wlib.exe"
	         cOpt_Lib := ""
	         cLibObjPrefix := "+- "
	
	
	
	

	2009/3/15 Massimo Belgrano <mbelgrano@deltain.it>
	

				-c 
		perform case-sensitive comparison 
	
http://www.users.pjwstk.edu.pl/~jms/qnx/help/watcom/utilities/wlib.html 
		
[ ... ]

Now all is ok. I had wrong syntax of libName and other wlib option.
When I send from www, I dont can properly see my post on list.harbour
saite, therefore was not before.

Regards,
Marek Horodyski
From soporte at dsgsoftware.com  Mon Mar 16 05:08:28 2009
From: soporte at dsgsoftware.com (=?utf-8?Q?Juan_G=C3=A1lvez?=)
Date: Mon Mar 16 05:08:45 2009
Subject: [Harbour] Block methods and extended codeblock
References: <000701c9a401$3b32b030$6c01a8c0@PcJuanxp>
	<20090313181903.GB6894@uran.home.aster.pl>
Message-ID: <000d01c9a616$cf62cda0$6c01a8c0@PcJuanxp>

Hi Przemek,

You're right. It works.

My fault is I thought hbcompat.ch would make the work and it seems it 
doesn't make it.

Why ?

Many thanks
Juan

----- Original Message ----- 
From: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Friday, March 13, 2009 7:19 PM
Subject: Re: [Harbour] Block methods and extended codeblock


> On Fri, 13 Mar 2009, Juan G?lvez wrote:
>
> Hi,
>
>> I think extended codeblocks don't work inside block methods and I wonder 
>> if
>> it's a well-known and expected behavior.
>> CLASS MyClass
>> ...
>> METHOD lMyMethod( xArg ) BLOCK <|Self, xArg|
>>                                                                ...
>>                                                                RETURN .T.
>>                                >
>> ...
>> END CLASS
>
> I think they work. It's enough to use extended codeblocks ;-)
>   {||
>      ...
>      RETURN .T.
>   }
> not:
>   <||
>      ....
>   >
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Informacin de ESET NOD32 Antivirus, versin de la base de firmas 
> de virus 3937 (20090314) __________
>
> ESET NOD32 Antivirus ha comprobado este mensaje.
>
> http://www.eset.com
>
>
> 

From vszakats at users.sourceforge.net  Mon Mar 16 06:32:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 06:32:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10616] trunk/harbour
Message-ID: <E1LjA7X-0006oS-NO@3kljzd1.ch3.sourceforge.com>

Revision: 10616
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10616&view=rev
Author:   vszakats
Date:     2009-03-16 10:32:34 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 11:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    ! Fixed typo in prev.

  * bin/hb-mkdyn.bat
    ! owatcom IMPLIB generation restored.

  * source/lang/msgpt.c
  * source/lang/msgeo.c
  * source/lang/msgfr.c
  * source/lang/msgptiso.c
  * source/lang/msgko.c
    ! Fixed missing commas.

  * source/vm/dynsym.c
  * source/vm/hvm.c
  * source/rdd/dbfnsx/dbfnsx1.c
    * while( TRUE ) -> for( ;; ) to avoid warning.

  * utils/hbmk2/hbmk2.prg
    ! Fixed to owatcom support.
    ! Fixed to honor HB_CCPREFIX in mingw detection.

  * config/dos/owatcom.cf
  * config/win/owatcom.cf
  * config/linux/owatcom.cf
  * config/os2/owatcom.cf
    + Enabled -w3 warning level (from -w2)
    + Added -bm (MT) switch for win.
    + Using -5s and -3s (when NOOPT) in win.
    * Synced win owatcom options with GNU Make.

  ; TOFIX: ../../dbf1.c(208): Warning! W007: col(55) '&array' may not produce intended result

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/source/lang/msgeo.c
    trunk/harbour/source/lang/msgfr.c
    trunk/harbour/source/lang/msgko.c
    trunk/harbour/source/lang/msgpt.c
    trunk/harbour/source/lang/msgptiso.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/vm/dynsym.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Mar 16 07:14:31 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar 16 07:14:34 2009
Subject: [Harbour] xHB.LIB and HB_FUNCPTR() implementation
In-Reply-To: <20090315204509.GA3499@uran.home.aster.pl>
References: <531d7a750903141456p1f353548jfe444d592d2673de@mail.gmail.com>
	<20090315204509.GA3499@uran.home.aster.pl>
Message-ID: <531d7a750903160414q60e07185gf0e2c1e7e22110ce@mail.gmail.com>

Well observed. I had noticed this detail and adjusted my code to work
so correct with __DYNSN2SYM(). For beginners who are starting these
tips are great.

Many thanks for the explanation.

Vailton Renato

2009/3/15 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Sat, 14 Mar 2009, Vailton Renato wrote:
>
> Hi,
>
>> I am migrating some routines for Harbour and noticed the absence of
>> HB_FUNCPTR() that I used before. I came to develop the same function
>> in Harbour and after researching the sources I found __DYNSN2SYM()
>> which has the same purpose.
>> I would like to suggest it was placed within the file hbcompat.ch the
>> following line:
>> #xtranslate HB_FUNCPTR(<x>) => __DYNSN2SYM (<x>)
>> In order to make the conversion automatically.
>
> Viktor already added it but please remember that it's not exactly
> the same.
> In Harbour type of function symbol is "S". In xHarbour it's simple
> pointer item: "P". So the C code will not be compatible.
> To use function symbols in Harbour you do not need any special
> functions. You can simply create them using macro compiler:
>
> ? sFunc := &("@str()")
> ? ? sFunc:name()
> ? ? sFunc:eval( 123.45, 10, 5 )
>
> Probably any xHarbour code which operates on function pointers
> can be ported to Harbour and only the places which checks item
> type should be updated but reverted conversion may not be possible.
> Just simply xHarbour accepts any pointer item as function symbol
> without any verification so it will GPF for wrong pointer item
> types.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Vailton Renato
SQL LIB, MyMake & xDev Developer
From kadziola at tlen.pl  Mon Mar 16 07:27:34 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Mon Mar 16 07:27:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10611] trunk/harbour
In-Reply-To: <E1LiwNO-0005wW-Fa@d5vjzd1.ch3.sourceforge.com>
References: <E1LiwNO-0005wW-Fa@d5vjzd1.ch3.sourceforge.com>
Message-ID: <99774337.20090316122734@tlen.pl>

Hi,


vusn> 2009-03-15 20:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
vusn>   * INSTALL
vusn>     + Documented cross-build config for minwgce.

After build harbour for WinCE by INSTALL's prescription
i'm trying build my first .exe with msys console, but...

$ sh hbcemk -n -w -es2 /harbour/tests/wcecon
Harbour 1.1.0dev (Rev. 10611)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'C:/msys/1.0/harbour/tests/wcecon.prg'...
Lines 282, Functions/Procedures 1
Generating C source output to 'wcecon.c'... Done.
./wcecon.o:wcecon.c:(.text+0x28): undefined reference to `hb_vmProcessSymbolsEx'
./wcecon.o:wcecon.c:(.text+0x64): undefined reference to `hb_vmExecute'
./wcecon.o:wcecon.c:(.data+0x18): undefined reference to `HB_FUN_HB_GTINFO'
./wcecon.o:wcecon.c:(.data+0x28): undefined reference to `HB_FUN_HB_SETCODEPAGE'
./wcecon.o:wcecon.c:(.data+0x38): undefined reference to `HB_FUN_HB_SETTERMCP'
./wcecon.o:wcecon.c:(.data+0x48): undefined reference to `HB_FUN_SETMODE'
./wcecon.o:wcecon.c:(.data+0x58): undefined reference to `HB_FUN_MAXROW'
./wcecon.o:wcecon.c:(.data+0x68): undefined reference to `HB_FUN_MAXCOL'
./wcecon.o:wcecon.c:(.data+0x78): undefined reference to `HB_FUN_QOUT'
./wcecon.o:wcecon.c:(.data+0x88): undefined reference to `HB_FUN_LTRIM'
./wcecon.o:wcecon.c:(.data+0x98): undefined reference to `HB_FUN_STR'
./wcecon.o:wcecon.c:(.data+0xa8): undefined reference to `HB_FUN_INKEY'
./wcecon.o:wcecon.c:(.data+0xb8): undefined reference to `HB_FUN_ALERT'
./wcecon.o:wcecon.c:(.data+0xc8): undefined reference to `HB_FUN_OS'
./wcecon.o:wcecon.c:(.data+0xd8): undefined reference to `HB_FUN_VERSION'
./wcecon.o:wcecon.c:(.data+0xe8): undefined reference to `HB_FUN_HB_GTVERSION'
./wcecon.o:wcecon.c:(.data+0xf8): undefined reference to `HB_FUN_HB_FNAMESPLIT'
./wcecon.o:wcecon.c:(.data+0x108): undefined reference to `HB_FUN_HB_ARGV'
./wcecon.o:wcecon.c:(.data+0x118): undefined reference to `HB_FUN_HB_OSPATHSEPARATOR'
./wcecon.o:wcecon.c:(.data+0x128): undefined reference to `HB_FUN_RDDSETDEFAULT'
./wcecon.o:wcecon.c:(.data+0x138): undefined reference to `HB_FUN_HB_DIREXISTS'
./wcecon.o:wcecon.c:(.data+0x148): undefined reference to `HB_FUN_MAKEDIR'
./wcecon.o:wcecon.c:(.data+0x158): undefined reference to `HB_FUN_DBCREATE'
./wcecon.o:wcecon.c:(.data+0x168): undefined reference to `HB_FUN_DBUSEAREA'
./wcecon.o:wcecon.c:(.data+0x178): undefined reference to `HB_FUN_ORDCONDSET'
./wcecon.o:wcecon.c:(.data+0x188): undefined reference to `HB_FUN_RECNO'
./wcecon.o:wcecon.c:(.data+0x198): undefined reference to `HB_FUN_ORDCREATE'
./wcecon.o:wcecon.c:(.data+0x1c8): undefined reference to `HB_FUN_LASTREC'
./wcecon.o:wcecon.c:(.data+0x1d8): undefined reference to `HB_FUN_DBAPPEND'
./wcecon.o:wcecon.c:(.data+0x1f8): undefined reference to `HB_FUN_DBCOMMIT'
./wcecon.o:wcecon.c:(.data+0x208): undefined reference to `HB_FUN_DBGOTOP'
./wcecon.o:wcecon.c:(.data+0x218): undefined reference to `HB_FUN_BROWSE'
./wcecon.o:wcecon.c:(.data+0x228): undefined reference to `HB_FUN_SCROLL'
./wcecon.o:wcecon.c:(.data+0x238): undefined reference to `HB_FUN_SETPOS'
./wcecon.o:wcecon.c:(.data+0x248): undefined reference to `HB_FUN_DISPOUT'
./wcecon.o:wcecon.c:(.data+0x258): undefined reference to `HB_FUN_CHR'
./wcecon.o:wcecon.c:(.data+0x268): undefined reference to `HB_FUN_DEVOUT'
./wcecon.o:wcecon.c:(.data+0x278): undefined reference to `HB_FUN_DBFCDX'
/cygdrive/c/WINNT/TEMP/ccKteN1f.o:hb-build--864.c:(.text+0xc): undefined reference to `HB_FUN_HB_GT_STD'
/cygdrive/c/WINNT/TEMP/ccKteN1f.o:hb-build--864.c:(.text+0x34): undefined reference to `__imp_hb_gt_szNameDefault'
/cygdrive/c/msys/1.0/opt/mingw32ce/bin/../lib/gcc/arm-wince-mingw32ce/4.1.0/../../../../arm-wince-mingw32ce/lib/libmingw32.a(winmain_ce.o): In function `WinMain':
/cygdrive/c/dada/cegcc/src/mingw/winmain_ce.c:146: undefined reference to `main'
collect2: ld returned 1 exit status

What's wrong ?


-- 
Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Mon Mar 16 07:45:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 07:39:04 2009
Subject: [Harbour] Block methods and extended codeblock
In-Reply-To: <000d01c9a616$cf62cda0$6c01a8c0@PcJuanxp>
References: <000701c9a401$3b32b030$6c01a8c0@PcJuanxp>
	<20090313181903.GB6894@uran.home.aster.pl>
	<000d01c9a616$cf62cda0$6c01a8c0@PcJuanxp>
Message-ID: <20090316114514.GA31692@uran.home.aster.pl>

On Mon, 16 Mar 2009, Juan G?lvez wrote:
> Hi Przemek,
> You're right. It works.
> My fault is I thought hbcompat.ch would make the work and it seems it 
> doesn't make it.
> Why ?

Because in your example PP has to know about extended codeblocks before it
begins any translations so before hbcompat.ch rules are applied. Translation
for xHarbour like extended codeblock syntax <|| ... > is not fully functional
and cannot be by definition when used at PP level. In code like:
   ? <||
      return "Hello"
     >:eval()
PP have to take three lines of code:
   <||
      return "Hello"
   >:eval()
before it begins to make ? <exp,...> translation and because it does not
know it's extended codeblock then it doesn't do that.

best regards,
Przemek
From soporte at dsgsoftware.com  Mon Mar 16 07:56:11 2009
From: soporte at dsgsoftware.com (=?UTF-8?Q?Juan_G=C3=A1lvez?=)
Date: Mon Mar 16 07:56:17 2009
Subject: [Harbour] Block methods and extended codeblock
References: <000701c9a401$3b32b030$6c01a8c0@PcJuanxp><20090313181903.GB6894@uran.home.aster.pl><000d01c9a616$cf62cda0$6c01a8c0@PcJuanxp>
	<20090316114514.GA31692@uran.home.aster.pl>
Message-ID: <000e01c9a62e$37484780$6c01a8c0@PcJuanxp>

Hi Przemek,

Many thanks for explanations.

Best regards
Juan

----- Original Message ----- 
From: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Monday, March 16, 2009 12:45 PM
Subject: Re: [Harbour] Block methods and extended codeblock


> On Mon, 16 Mar 2009, Juan G?lvez wrote:
>> Hi Przemek,
>> You're right. It works.
>> My fault is I thought hbcompat.ch would make the work and it seems it
>> doesn't make it.
>> Why ?
>
> Because in your example PP has to know about extended codeblocks before it
> begins any translations so before hbcompat.ch rules are applied. 
> Translation
> for xHarbour like extended codeblock syntax <|| ... > is not fully 
> functional
> and cannot be by definition when used at PP level. In code like:
>   ? <||
>      return "Hello"
>     >:eval()
> PP have to take three lines of code:
>   <||
>      return "Hello"
>   >:eval()
> before it begins to make ? <exp,...> translation and because it does not
> know it's extended codeblock then it doesn't do that.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Informacin de ESET NOD32 Antivirus, versin de la base de firmas 
> de virus 3938 (20090316) __________
>
> ESET NOD32 Antivirus ha comprobado este mensaje.
>
> http://www.eset.com
>
>
> 

From vszakats at users.sourceforge.net  Mon Mar 16 08:08:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 08:08:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10617] trunk/harbour
Message-ID: <E1LjBcI-0004Kg-VD@c3vjzd1.ch3.sourceforge.com>

Revision: 10617
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10617&view=rev
Author:   vszakats
Date:     2009-03-16 12:08:23 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 12:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbdefs.h
    + Enabled new Harbour types. Still incomplete, and relying
      on old unsafe types in places.

  * contrib/gtwvg/gtwvg.c
    ! Warning.

  * contrib/gtwvg/wvgcuig.c
    ! Cast errors.

  * config/win/msvc.cf
    + Enabled C++ mode. This should result in stricter compiler
      warnings/errors, and also enables to use standard init
      method (non-C++ method is broken when using LTCG
      and potentially in other scenarios like IA64). Note, this
      doesn't mean we'd allow non-ANSI C usage inside Harbour,
      so no C++ features are allowd. This won't cause any
      drawbacks for the user AFAIK, if you know otherwise, pls
      speak up. [Notice that we're using C++ mode for owatcom
      on all platforms.]

  * doc/whatsnew.txt
    + Documented win/owatcom and OpenSSL incompatibility.
      (maybe it can be resolved, I didn't spend time on it)

  * INSTALL
    * C compiler -> ANSI C compiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 16 08:19:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 08:13:39 2009
Subject: [Harbour] TIMESTAMP/DATETIME conversions
Message-ID: <20090316121949.GA32462@uran.home.aster.pl>

Hi All,

I would like to ask VFP users to give me an information about some
timestamp/datetime transformations in this language.
I'm interesting in existing functions transform pictures, etc.
I'm ready to commit timestamp support to HVM but I do not want
to reinvent the wheel and create corresponding functions which
will return different results then in other xbase languages.
In longer terms such differences creates serious problems, f.e.
when you try to share tables and indexes.
xHarbour has set of functions to operate on timestamp values but
I do not know if they exactly replicates VFP results. I'm interesting
mostly on functions like:
   TTOS()
   TTOC()
   CTOS()
   CTOT()
   <other functions which operates on timestamp/datetime values>
f.e. what is the results of this code:
   proc main()
      ? TTOS( {^ 2009/03/31 11:34:56.123 PM } )
      ? TTOC( {^ 2009/03/31 11:34:56.123 PM } )
   return

I'm also interesting also in picture modifiers which are used for
timestamp/datetime values in TRANSFORM() function and GET system.
Of course if any exists.

If someone has some knowledge about timestamp/datetime type conversions
in other xbase languages then I would like to hear about them too.

I hope that you can help. Otherwise I will have to make some arbitrary
decisions myself.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 16 08:28:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 08:22:38 2009
Subject: [Harbour] Question to xBase++ users
Message-ID: <20090316122848.GB32462@uran.home.aster.pl>

Hi All,

I would like to ask someone who uses xBase++ and Harbour to make
some tests with tests/speedtst.prg.

Current tests/speedtst.prg code can be compiled and executed by Clipper
so I hope it should also work with xBase++ as least in single thread
mode which I set as default when __XPP__ macro is defined.
I would like to compare the MT performance and scalability but before
I'll invest time in updating this test to use xBase++ API for MT mode
I would like to know if it's possible to compile and execute current
version and also see the results from Harbour and xBase++ builds
executed on the same machine.

Can you make such tests?
Or if xBase++ cannot compile current tests/speedtst.prg code can
you inform me about the exact problems?

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Mar 16 08:25:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 08:25:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10618] trunk/harbour
Message-ID: <E1LjBsb-000537-Sb@c3vjzd1.ch3.sourceforge.com>

Revision: 10618
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10618&view=rev
Author:   vszakats
Date:     2009-03-16 12:25:17 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 13:25 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for win/mingwce.
    + Honoring HB_CCPATH for ar in gcc *nix.
    + Honoring HB_CCPATH for gcc win.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 16 08:32:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 08:32:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10611] trunk/harbour
In-Reply-To: <99774337.20090316122734@tlen.pl>
References: <E1LiwNO-0005wW-Fa@d5vjzd1.ch3.sourceforge.com>
	<99774337.20090316122734@tlen.pl>
Message-ID: <18d502870903160532pcfe87dfm3a282152425f8af1@mail.gmail.com>

Hi Jaro,

Please try with hbmk2, latest revision:---
set PATH=C:\devl\msys\1.0.11\bin;%PATH%

set HB_LIB_INSTALL=C:\hb-mingwce\lib
set HB_CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
set HB_CCPREFIX=arm-wince-mingw32ce-

hbmk2 -comp=mingwce %*
---

Brgds,
Viktor

On Mon, Mar 16, 2009 at 12:27 PM, Jaroslaw Kadziola <kadziola@tlen.pl>wrote:

> Hi,
>
>
> vusn> 2009-03-15 20:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> vusn>   * INSTALL
> vusn>     + Documented cross-build config for minwgce.
>
> After build harbour for WinCE by INSTALL's prescription
> i'm trying build my first .exe with msys console, but...
>
> $ sh hbcemk -n -w -es2 /harbour/tests/wcecon
> Harbour 1.1.0dev (Rev. 10611)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'C:/msys/1.0/harbour/tests/wcecon.prg'...
> Lines 282, Functions/Procedures 1
> Generating C source output to 'wcecon.c'... Done.
> ./wcecon.o:wcecon.c:(.text+0x28): undefined reference to
> `hb_vmProcessSymbolsEx'
> ./wcecon.o:wcecon.c:(.text+0x64): undefined reference to `hb_vmExecute'
> ./wcecon.o:wcecon.c:(.data+0x18): undefined reference to `HB_FUN_HB_GTINFO'
> ./wcecon.o:wcecon.c:(.data+0x28): undefined reference to
> `HB_FUN_HB_SETCODEPAGE'
> ./wcecon.o:wcecon.c:(.data+0x38): undefined reference to
> `HB_FUN_HB_SETTERMCP'
> ./wcecon.o:wcecon.c:(.data+0x48): undefined reference to `HB_FUN_SETMODE'
> ./wcecon.o:wcecon.c:(.data+0x58): undefined reference to `HB_FUN_MAXROW'
> ./wcecon.o:wcecon.c:(.data+0x68): undefined reference to `HB_FUN_MAXCOL'
> ./wcecon.o:wcecon.c:(.data+0x78): undefined reference to `HB_FUN_QOUT'
> ./wcecon.o:wcecon.c:(.data+0x88): undefined reference to `HB_FUN_LTRIM'
> ./wcecon.o:wcecon.c:(.data+0x98): undefined reference to `HB_FUN_STR'
> ./wcecon.o:wcecon.c:(.data+0xa8): undefined reference to `HB_FUN_INKEY'
> ./wcecon.o:wcecon.c:(.data+0xb8): undefined reference to `HB_FUN_ALERT'
> ./wcecon.o:wcecon.c:(.data+0xc8): undefined reference to `HB_FUN_OS'
> ./wcecon.o:wcecon.c:(.data+0xd8): undefined reference to `HB_FUN_VERSION'
> ./wcecon.o:wcecon.c:(.data+0xe8): undefined reference to
> `HB_FUN_HB_GTVERSION'
> ./wcecon.o:wcecon.c:(.data+0xf8): undefined reference to
> `HB_FUN_HB_FNAMESPLIT'
> ./wcecon.o:wcecon.c:(.data+0x108): undefined reference to `HB_FUN_HB_ARGV'
> ./wcecon.o:wcecon.c:(.data+0x118): undefined reference to
> `HB_FUN_HB_OSPATHSEPARATOR'
> ./wcecon.o:wcecon.c:(.data+0x128): undefined reference to
> `HB_FUN_RDDSETDEFAULT'
> ./wcecon.o:wcecon.c:(.data+0x138): undefined reference to
> `HB_FUN_HB_DIREXISTS'
> ./wcecon.o:wcecon.c:(.data+0x148): undefined reference to `HB_FUN_MAKEDIR'
> ./wcecon.o:wcecon.c:(.data+0x158): undefined reference to `HB_FUN_DBCREATE'
> ./wcecon.o:wcecon.c:(.data+0x168): undefined reference to
> `HB_FUN_DBUSEAREA'
> ./wcecon.o:wcecon.c:(.data+0x178): undefined reference to
> `HB_FUN_ORDCONDSET'
> ./wcecon.o:wcecon.c:(.data+0x188): undefined reference to `HB_FUN_RECNO'
> ./wcecon.o:wcecon.c:(.data+0x198): undefined reference to
> `HB_FUN_ORDCREATE'
> ./wcecon.o:wcecon.c:(.data+0x1c8): undefined reference to `HB_FUN_LASTREC'
> ./wcecon.o:wcecon.c:(.data+0x1d8): undefined reference to `HB_FUN_DBAPPEND'
> ./wcecon.o:wcecon.c:(.data+0x1f8): undefined reference to `HB_FUN_DBCOMMIT'
> ./wcecon.o:wcecon.c:(.data+0x208): undefined reference to `HB_FUN_DBGOTOP'
> ./wcecon.o:wcecon.c:(.data+0x218): undefined reference to `HB_FUN_BROWSE'
> ./wcecon.o:wcecon.c:(.data+0x228): undefined reference to `HB_FUN_SCROLL'
> ./wcecon.o:wcecon.c:(.data+0x238): undefined reference to `HB_FUN_SETPOS'
> ./wcecon.o:wcecon.c:(.data+0x248): undefined reference to `HB_FUN_DISPOUT'
> ./wcecon.o:wcecon.c:(.data+0x258): undefined reference to `HB_FUN_CHR'
> ./wcecon.o:wcecon.c:(.data+0x268): undefined reference to `HB_FUN_DEVOUT'
> ./wcecon.o:wcecon.c:(.data+0x278): undefined reference to `HB_FUN_DBFCDX'
> /cygdrive/c/WINNT/TEMP/ccKteN1f.o:hb-build--864.c:(.text+0xc): undefined
> reference to `HB_FUN_HB_GT_STD'
> /cygdrive/c/WINNT/TEMP/ccKteN1f.o:hb-build--864.c:(.text+0x34): undefined
> reference to `__imp_hb_gt_szNameDefault'
> /cygdrive/c/msys/1.0/opt/mingw32ce/bin/../lib/gcc/arm-wince-mingw32ce/4.1.0/../../../../arm-wince-mingw32ce/lib/libmingw32.a(winmain_ce.o):
> In function `WinMain':
> /cygdrive/c/dada/cegcc/src/mingw/winmain_ce.c:146: undefined reference to
> `main'
> collect2: ld returned 1 exit status
>
> What's wrong ?
>
>
> --
> Regards,
>  Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/9f82594f/attachment.html
From harbour.01 at syenar.hu  Mon Mar 16 08:32:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 08:32:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10611] trunk/harbour
In-Reply-To: <18d502870903160532pcfe87dfm3a282152425f8af1@mail.gmail.com>
References: <E1LiwNO-0005wW-Fa@d5vjzd1.ch3.sourceforge.com>
	<99774337.20090316122734@tlen.pl>
	<18d502870903160532pcfe87dfm3a282152425f8af1@mail.gmail.com>
Message-ID: <18d502870903160532p51f83a03pdc56e892c11db812@mail.gmail.com>

Ops, forgot to say you need to run this from a native mingw build bin dir.

On Mon, Mar 16, 2009 at 1:32 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Jaro,
>
> Please try with hbmk2, latest revision:---
> set PATH=C:\devl\msys\1.0.11\bin;%PATH%
>
> set HB_LIB_INSTALL=C:\hb-mingwce\lib
> set HB_CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
> set HB_CCPREFIX=arm-wince-mingw32ce-
>
> hbmk2 -comp=mingwce %*
> ---
>
> Brgds,
> Viktor
>
>
> On Mon, Mar 16, 2009 at 12:27 PM, Jaroslaw Kadziola <kadziola@tlen.pl>wrote:
>
>> Hi,
>>
>>
>> vusn> 2009-03-15 20:51 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>> vusn>   * INSTALL
>> vusn>     + Documented cross-build config for minwgce.
>>
>> After build harbour for WinCE by INSTALL's prescription
>> i'm trying build my first .exe with msys console, but...
>>
>> $ sh hbcemk -n -w -es2 /harbour/tests/wcecon
>> Harbour 1.1.0dev (Rev. 10611)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'C:/msys/1.0/harbour/tests/wcecon.prg'...
>> Lines 282, Functions/Procedures 1
>> Generating C source output to 'wcecon.c'... Done.
>> ./wcecon.o:wcecon.c:(.text+0x28): undefined reference to
>> `hb_vmProcessSymbolsEx'
>> ./wcecon.o:wcecon.c:(.text+0x64): undefined reference to `hb_vmExecute'
>> ./wcecon.o:wcecon.c:(.data+0x18): undefined reference to
>> `HB_FUN_HB_GTINFO'
>> ./wcecon.o:wcecon.c:(.data+0x28): undefined reference to
>> `HB_FUN_HB_SETCODEPAGE'
>> ./wcecon.o:wcecon.c:(.data+0x38): undefined reference to
>> `HB_FUN_HB_SETTERMCP'
>> ./wcecon.o:wcecon.c:(.data+0x48): undefined reference to `HB_FUN_SETMODE'
>> ./wcecon.o:wcecon.c:(.data+0x58): undefined reference to `HB_FUN_MAXROW'
>> ./wcecon.o:wcecon.c:(.data+0x68): undefined reference to `HB_FUN_MAXCOL'
>> ./wcecon.o:wcecon.c:(.data+0x78): undefined reference to `HB_FUN_QOUT'
>> ./wcecon.o:wcecon.c:(.data+0x88): undefined reference to `HB_FUN_LTRIM'
>> ./wcecon.o:wcecon.c:(.data+0x98): undefined reference to `HB_FUN_STR'
>> ./wcecon.o:wcecon.c:(.data+0xa8): undefined reference to `HB_FUN_INKEY'
>> ./wcecon.o:wcecon.c:(.data+0xb8): undefined reference to `HB_FUN_ALERT'
>> ./wcecon.o:wcecon.c:(.data+0xc8): undefined reference to `HB_FUN_OS'
>> ./wcecon.o:wcecon.c:(.data+0xd8): undefined reference to `HB_FUN_VERSION'
>> ./wcecon.o:wcecon.c:(.data+0xe8): undefined reference to
>> `HB_FUN_HB_GTVERSION'
>> ./wcecon.o:wcecon.c:(.data+0xf8): undefined reference to
>> `HB_FUN_HB_FNAMESPLIT'
>> ./wcecon.o:wcecon.c:(.data+0x108): undefined reference to `HB_FUN_HB_ARGV'
>> ./wcecon.o:wcecon.c:(.data+0x118): undefined reference to
>> `HB_FUN_HB_OSPATHSEPARATOR'
>> ./wcecon.o:wcecon.c:(.data+0x128): undefined reference to
>> `HB_FUN_RDDSETDEFAULT'
>> ./wcecon.o:wcecon.c:(.data+0x138): undefined reference to
>> `HB_FUN_HB_DIREXISTS'
>> ./wcecon.o:wcecon.c:(.data+0x148): undefined reference to `HB_FUN_MAKEDIR'
>> ./wcecon.o:wcecon.c:(.data+0x158): undefined reference to
>> `HB_FUN_DBCREATE'
>> ./wcecon.o:wcecon.c:(.data+0x168): undefined reference to
>> `HB_FUN_DBUSEAREA'
>> ./wcecon.o:wcecon.c:(.data+0x178): undefined reference to
>> `HB_FUN_ORDCONDSET'
>> ./wcecon.o:wcecon.c:(.data+0x188): undefined reference to `HB_FUN_RECNO'
>> ./wcecon.o:wcecon.c:(.data+0x198): undefined reference to
>> `HB_FUN_ORDCREATE'
>> ./wcecon.o:wcecon.c:(.data+0x1c8): undefined reference to `HB_FUN_LASTREC'
>> ./wcecon.o:wcecon.c:(.data+0x1d8): undefined reference to
>> `HB_FUN_DBAPPEND'
>> ./wcecon.o:wcecon.c:(.data+0x1f8): undefined reference to
>> `HB_FUN_DBCOMMIT'
>> ./wcecon.o:wcecon.c:(.data+0x208): undefined reference to `HB_FUN_DBGOTOP'
>> ./wcecon.o:wcecon.c:(.data+0x218): undefined reference to `HB_FUN_BROWSE'
>> ./wcecon.o:wcecon.c:(.data+0x228): undefined reference to `HB_FUN_SCROLL'
>> ./wcecon.o:wcecon.c:(.data+0x238): undefined reference to `HB_FUN_SETPOS'
>> ./wcecon.o:wcecon.c:(.data+0x248): undefined reference to `HB_FUN_DISPOUT'
>> ./wcecon.o:wcecon.c:(.data+0x258): undefined reference to `HB_FUN_CHR'
>> ./wcecon.o:wcecon.c:(.data+0x268): undefined reference to `HB_FUN_DEVOUT'
>> ./wcecon.o:wcecon.c:(.data+0x278): undefined reference to `HB_FUN_DBFCDX'
>> /cygdrive/c/WINNT/TEMP/ccKteN1f.o:hb-build--864.c:(.text+0xc): undefined
>> reference to `HB_FUN_HB_GT_STD'
>> /cygdrive/c/WINNT/TEMP/ccKteN1f.o:hb-build--864.c:(.text+0x34): undefined
>> reference to `__imp_hb_gt_szNameDefault'
>> /cygdrive/c/msys/1.0/opt/mingw32ce/bin/../lib/gcc/arm-wince-mingw32ce/4.1.0/../../../../arm-wince-mingw32ce/lib/libmingw32.a(winmain_ce.o):
>> In function `WinMain':
>> /cygdrive/c/dada/cegcc/src/mingw/winmain_ce.c:146: undefined reference to
>> `main'
>> collect2: ld returned 1 exit status
>>
>> What's wrong ?
>>
>>
>> --
>> Regards,
>>  Jaroslaw Kadziola
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/62a1c5e0/attachment.html
From harbour.01 at syenar.hu  Mon Mar 16 08:36:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 08:37:01 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <20090316122848.GB32462@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>
Message-ID: <18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>

Hi Przemek,
---
Xbase++ (R) Compiler 1.90.331 Apr 27 2006
Copyright (c) Alaska Software. All rights reserved.
File: speedtst.prg Line:  816
speedtst.prg(182:0): error XBT0200: Syntax Error
speedtst.prg(265:0): warning XBT0105: Function t030 does not end with RETURN
speedtst.prg(306:0): error XBT0223: NEXT does not match FOR
speedtst.prg(308:0): error XBT0251: Reserved keyword
speedtst.prg(310:0): error XBT0251: Reserved keyword
speedtst.prg(312:0): error XBT0251: Reserved keyword
speedtst.prg(314:0): error XBT0251: Reserved keyword
speedtst.prg(318:0): error XBT0251: Reserved keyword
speedtst.prg(322:0): error XBT0251: Reserved keyword
speedtst.prg(326:0): error XBT0251: Reserved keyword
speedtst.prg(330:0): error XBT0251: Reserved keyword
speedtst.prg(334:0): error XBT0251: Reserved keyword
speedtst.prg(336:0): error XBT0251: Reserved keyword
speedtst.prg(338:0): error XBT0251: Reserved keyword
speedtst.prg(340:0): error XBT0251: Reserved keyword
speedtst.prg(342:0): error XBT0251: Reserved keyword
speedtst.prg(344:0): error XBT0251: Reserved keyword
speedtst.prg(376:0): error XBT0251: Reserved keyword
speedtst.prg(398:0): warning XBT0100: RETURN statement with no value in
function
speedtst.prg(543:0): warning XBT0100: RETURN statement with no value in
function
speedtst.prg(545:0): error XBT0251: Reserved keyword
speedtst.prg(548:0): error XBT0251: Reserved keyword
speedtst.prg(551:0): error XBT0251: Reserved keyword
speedtst.prg(555:0): error XBT0251: Reserved keyword
Too many errors, exiting
---

[ my demo has expired so I'm not sure I can even build a
running executable, but at least the compiler seems to work. ]

Brgds,
Viktor

On Mon, Mar 16, 2009 at 1:28 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> Hi All,
>
> I would like to ask someone who uses xBase++ and Harbour to make
> some tests with tests/speedtst.prg.
>
> Current tests/speedtst.prg code can be compiled and executed by Clipper
> so I hope it should also work with xBase++ as least in single thread
> mode which I set as default when __XPP__ macro is defined.
> I would like to compare the MT performance and scalability but before
> I'll invest time in updating this test to use xBase++ API for MT mode
> I would like to know if it's possible to compile and execute current
> version and also see the results from Harbour and xBase++ builds
> executed on the same machine.
>
> Can you make such tests?
> Or if xBase++ cannot compile current tests/speedtst.prg code can
> you inform me about the exact problems?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/7101bec5/attachment-0001.html
From harbour.01 at syenar.hu  Mon Mar 16 08:40:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 08:40:22 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
Message-ID: <18d502870903160540x10403ae6m94f9bc4d7a5bdf81@mail.gmail.com>

Oh and BTW, message to Alaska folks, maybe someone is reading this: I have
to be an Administrator (in XP) in order to make a compile
session, otherwise I'm getting an "Error / Error in saving message!"
messagebox. AFAIR this is so since at least 5 years (since I'm non
admin on my PC).

I think this should be fixed. [ Ignore this if it's already fixed in newer
editions. ]

Brgds,
Viktor

On Mon, Mar 16, 2009 at 1:36 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Przemek,
> ---
> Xbase++ (R) Compiler 1.90.331 Apr 27 2006
> Copyright (c) Alaska Software. All rights reserved.
> File: speedtst.prg Line:  816
> speedtst.prg(182:0): error XBT0200: Syntax Error
> speedtst.prg(265:0): warning XBT0105: Function t030 does not end with
> RETURN
> speedtst.prg(306:0): error XBT0223: NEXT does not match FOR
> speedtst.prg(308:0): error XBT0251: Reserved keyword
> speedtst.prg(310:0): error XBT0251: Reserved keyword
> speedtst.prg(312:0): error XBT0251: Reserved keyword
> speedtst.prg(314:0): error XBT0251: Reserved keyword
> speedtst.prg(318:0): error XBT0251: Reserved keyword
> speedtst.prg(322:0): error XBT0251: Reserved keyword
> speedtst.prg(326:0): error XBT0251: Reserved keyword
> speedtst.prg(330:0): error XBT0251: Reserved keyword
> speedtst.prg(334:0): error XBT0251: Reserved keyword
> speedtst.prg(336:0): error XBT0251: Reserved keyword
> speedtst.prg(338:0): error XBT0251: Reserved keyword
> speedtst.prg(340:0): error XBT0251: Reserved keyword
> speedtst.prg(342:0): error XBT0251: Reserved keyword
> speedtst.prg(344:0): error XBT0251: Reserved keyword
> speedtst.prg(376:0): error XBT0251: Reserved keyword
> speedtst.prg(398:0): warning XBT0100: RETURN statement with no value in
> function
> speedtst.prg(543:0): warning XBT0100: RETURN statement with no value in
> function
> speedtst.prg(545:0): error XBT0251: Reserved keyword
> speedtst.prg(548:0): error XBT0251: Reserved keyword
> speedtst.prg(551:0): error XBT0251: Reserved keyword
> speedtst.prg(555:0): error XBT0251: Reserved keyword
> Too many errors, exiting
> ---
>
> [ my demo has expired so I'm not sure I can even build a
> running executable, but at least the compiler seems to work. ]
>
> Brgds,
> Viktor
>
> On Mon, Mar 16, 2009 at 1:28 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:
>
>> Hi All,
>>
>> I would like to ask someone who uses xBase++ and Harbour to make
>> some tests with tests/speedtst.prg.
>>
>> Current tests/speedtst.prg code can be compiled and executed by Clipper
>> so I hope it should also work with xBase++ as least in single thread
>> mode which I set as default when __XPP__ macro is defined.
>> I would like to compare the MT performance and scalability but before
>> I'll invest time in updating this test to use xBase++ API for MT mode
>> I would like to know if it's possible to compile and execute current
>> version and also see the results from Harbour and xBase++ builds
>> executed on the same machine.
>>
>> Can you make such tests?
>> Or if xBase++ cannot compile current tests/speedtst.prg code can
>> you inform me about the exact problems?
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/2a5d7eb2/attachment.html
From lorenzo.fiorini at gmail.com  Mon Mar 16 08:50:47 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Mar 16 08:50:52 2009
Subject: [Harbour] DBFs permissions and ownership
Message-ID: <9257026e0903160550o205332eaya52ce46808b77305@mail.gmail.com>

I'm trying to find out the best way to secure dbfs.
I already know and use the SUID and SGID but they seem not suitable
for all envs since the files created by the app are not owned by the
user and this doesn't allow many typical import/export features like
sending pdfs by email with thunderbird, or export tbrowses as xls to
openoffice calc.

Any suggestion?

best regards,
Lorenzo
From druzus at acn.waw.pl  Mon Mar 16 09:03:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 08:56:52 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
Message-ID: <20090316130303.GA2771@uran.home.aster.pl>

On Mon, 16 Mar 2009, Szak?ts Viktor wrote:

Hi,

> ---
> Xbase++ (R) Compiler 1.90.331 Apr 27 2006
> Copyright (c) Alaska Software. All rights reserved.
> File: speedtst.prg Line:  816
> speedtst.prg(182:0): error XBT0200: Syntax Error
> speedtst.prg(265:0): warning XBT0105: Function t030 does not end with RETURN
> speedtst.prg(306:0): error XBT0223: NEXT does not match FOR
> speedtst.prg(308:0): error XBT0251: Reserved keyword
[...]
> speedtst.prg(398:0): warning XBT0100: RETURN statement with no value in
> function
> speedtst.prg(543:0): warning XBT0100: RETURN statement with no value in
> function
> speedtst.prg(545:0): error XBT0251: Reserved keyword
> speedtst.prg(548:0): error XBT0251: Reserved keyword
> speedtst.prg(551:0): error XBT0251: Reserved keyword
> speedtst.prg(555:0): error XBT0251: Reserved keyword
> Too many errors, exiting

Oops, seems that it's not Clipper compatible as I thought.
I'll try to change the code but I need more information about
xBase++.
Looks like F0(), F1(), F2(), ... as function names cannot be used
because these are reserved names. Is it documented?
Can you check if translation to FNC0(), FNC1(), FNC2(), ... is
enough.
END seems to be translated unconditionally to NEXT or it's some
other PP problem. Can you generate .ppo file with xBase++?
I would like to see the output.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 16 09:14:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 09:08:41 2009
Subject: [Harbour] DBFs permissions and ownership
In-Reply-To: <9257026e0903160550o205332eaya52ce46808b77305@mail.gmail.com>
References: <9257026e0903160550o205332eaya52ce46808b77305@mail.gmail.com>
Message-ID: <20090316131452.GA3117@uran.home.aster.pl>

On Mon, 16 Mar 2009, Lorenzo Fiorini wrote:
> I'm trying to find out the best way to secure dbfs.
> I already know and use the SUID and SGID but they seem not suitable
> for all envs since the files created by the app are not owned by the
> user and this doesn't allow many typical import/export features like
> sending pdfs by email with thunderbird, or export tbrowses as xls to
> openoffice calc.
> Any suggestion?

You can try to umask() to control file permission or you can
disable effective user and group IDs by seteuid(setuid())/setegid(setuid()).
Unfortunately it effects all threads so in some cases it's not good solution
for MT programs.

Probably we will have to introduce sth like _SET_UMASK to Harbour which
will be thread local. I'll think about it.
Meanwhile you can simply use:
   HB_FGETATTR( <cFile>, @<nAttr> ) -> <lOK>
   HB_FSETATTR( <cFile>, <nAttr> ) -> <lOK>

Here is the list of POSIX file attributes mapped to Harbour attributes.

/* POSIX file permission */
#define HB_FA_SUID            0x08000000     /* set user ID on execution */
#define HB_FA_SGID            0x04000000     /* set group ID on execution */
#define HB_FA_SVTX            0x02000000     /* sticky bit */
#define HB_FA_RUSR            0x01000000     /* read by owner */
#define HB_FA_WUSR            0x00800000     /* write by owner */
#define HB_FA_XUSR            0x00400000     /* execute/search by owner */
#define HB_FA_RGRP            0x00200000     /* read by group */
#define HB_FA_WGRP            0x00100000     /* write by group */
#define HB_FA_XGRP            0x00080000     /* execute/search by group */
#define HB_FA_ROTH            0x00040000     /* read by others */
#define HB_FA_WOTH            0x00020000     /* write by others */
#define HB_FA_XOTH            0x00010000     /* execute/search by others */

Probably we should add it to fileio.ch
You can also resolve the problem by using special attributes for
directories used to export data. If you set SGID on a directory
then each file create in this directory will inherit group from
the directory. It's quite good and efficient method ant it's not
necessary to modify code.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Mar 16 09:38:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 16 09:38:48 2009
Subject: [Harbour] now try with correct format.
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED8C2@PINK.zycie.pzu>
References: <609353e70903150511ob2abe1chba16fa79658c392c@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9501FED8C2@PINK.zycie.pzu>
Message-ID: <609353e70903160638w735832c4v53761fe9ce59f4a1@mail.gmail.com>

please can you try creating your lib with withhbmk2 homar1.prg homar2.PRG
-w2 -l -gc3  -hblib -ohomar.lib


2009/3/16 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> ________________________________
>
>        From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>        Sent: Sunday, March 15, 2009 1:11 PM
>        To: Harbour Project Main Developer List.
>        Subject: Re: [Harbour] now try with correct format.
>
>
>        With hbmk is possible create lib with bcc,msvc
>        yuo can easy add Support for owatcom
>
>
>         add at line 1397 something like
>                 cBin_Lib := "wlib.exe"
>                 cOpt_Lib := ""
>                 cLibObjPrefix := "+- "
>
>
>
>
>
>        2009/3/15 Massimo Belgrano <mbelgrano@deltain.it>
>
>
>                                -c
>                perform case-sensitive comparison
>
> http://www.users.pjwstk.edu.pl/~jms/qnx/help/watcom/utilities/wlib.html
>
> [ ... ]
>
> Now all is ok. I had wrong syntax of libName and other wlib option.
> When I send from www, I dont can properly see my post on list.harbour
> saite, therefore was not before.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/cbfbe479/attachment.html
From kleyber at tkinformidia.net  Mon Mar 16 09:44:15 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Mon Mar 16 09:44:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10618] trunk/harbour
In-Reply-To: <E1LjBsb-000537-Sb@c3vjzd1.ch3.sourceforge.com>
References: <E1LjBsb-000537-Sb@c3vjzd1.ch3.sourceforge.com>
Message-ID: <22538515.post@talk.nabble.com>


Hi Viktor,

After update my harbour with this [10618] I had troubles when generating
Harbour with MSVC, during compiling hbpp.exe and it gives me errors. I am
using this BAT to create harbour:

call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
set PATH=C:\harbour\bin;%PATH%
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=C:\harbour
call make_gnu.bat clean install

Is there anything that I have to change?

Regards,

Kleyber
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10618--trunk-harbour-tp22537086p22538515.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Mon Mar 16 09:48:26 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Mar 16 09:48:31 2009
Subject: [Harbour] DBFs permissions and ownership
In-Reply-To: <20090316131452.GA3117@uran.home.aster.pl>
References: <9257026e0903160550o205332eaya52ce46808b77305@mail.gmail.com>
	<20090316131452.GA3117@uran.home.aster.pl>
Message-ID: <9257026e0903160648ia559d62mb69a27b6e87e8ff2@mail.gmail.com>

On Mon, Mar 16, 2009 at 2:14 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> You can try to umask() to control file permission or you can
> disable effective user and group IDs by seteuid(setuid())/setegid(setuid()).
> Unfortunately it effects all threads so in some cases it's not good solution
> for MT programs.
> ...
> You can also resolve the problem by using special attributes for
> directories used to export data. If you set SGID on a directory
> then each file create in this directory will inherit group from
> the directory. It's quite good and efficient method ant it's not
> necessary to modify code.

Many thanks. I'll try them.

The main problem seems to be the "run as" situation.
Apps invoked weith xdg-email or xdg-open need to have user rights.
Actually in the SUID setup I send the files via email to the user but
it's more a solution for remote mobile users. Local desktop users
expects to have their pdf viewer open when they choose "export as
pdf".

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Mar 16 09:57:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 09:57:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10618] trunk/harbour
In-Reply-To: <22538515.post@talk.nabble.com>
References: <E1LjBsb-000537-Sb@c3vjzd1.ch3.sourceforge.com>
	<22538515.post@talk.nabble.com>
Message-ID: <18d502870903160657w477edcccndd62089a29ee0c34@mail.gmail.com>

Hi Kleyber,

Yes, my fault, CPPFLAGS and CFLAGS was again a source of confusion. I'll
rework the rules a bit to fix it. I'm
also seeing a different .lib format generated, which I'm
looking into.

Until then, pls move -TP switch from CFLAGS to CPPFLAGS (a line
above) in config/win/msvc.cf.

Brgds.
Viktor

On Mon, Mar 16, 2009 at 2:44 PM, Kleyber <kleyber@tkinformidia.net> wrote:

>
> Hi Viktor,
>
> After update my harbour with this [10618] I had troubles when generating
> Harbour with MSVC, during compiling hbpp.exe and it gives me errors. I am
> using this BAT to create harbour:
>
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> set PATH=C:\harbour\bin;%PATH%
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=C:\harbour
> call make_gnu.bat clean install
>
> Is there anything that I have to change?
>
> Regards,
>
> Kleyber
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10618--trunk-harbour-tp22537086p22538515.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/fcc41b1f/attachment.html
From lavr at ldz.lv  Mon Mar 16 10:22:00 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Mon Mar 16 10:22:10 2009
Subject: [Harbour] Latest SVN errors
Message-ID: <49BE6088.6040805@ldz.lv>

Hi,
building Harbour from latest SVN ( MinGW + MSYS ), I get errors
---
gcc -I. -I../../../../include -Wall -W -O3 -march=i586 
-mtune=pentiumpro  -pipe -fomit-frame-pointer -DHB_FM_STATISTICS_OFF 
-DHB_EXTENSION -I../../contrib/hbwin -I../../../../contrib/hbwin  -c 
../../wvgsink.c -owvgsink.o
In file included from 
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/ole2.h:11,
                 from 
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/windows.h:114,
                 from 
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oaidl.h:8,
                 from ../../wvgsink.c:96:
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oleauto.h:172: 
error: syntax error before "DISPID"
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oleauto.h:174: 
error: syntax error before "cc"
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oleauto.h:178: 
error: syntax error before '}' token
[...]
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oleauto.h:603: 
error: syntax error before '*' token
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oleauto.h:649: 
error: syntax error before "int"
c:/devtools/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/oleauto.h:650: 
error: syntax error before "LCID"
make[3]: *** [wvgsink.o] Error 1
make[3]: Leaving directory 
`/c/Harbour/SVN/trunk/harbour/contrib/gtwvg/win/mingw'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `/c/Harbour/SVN/trunk/harbour/contrib/gtwvg'
make[1]: *** [gtwvg.inst] Error 2
make[1]: Leaving directory `/c/Harbour/SVN/trunk/harbour/contrib'
make: *** [contrib.inst] Error 2
---
look like the reasons of errors, is
commented out include of windows.h in wvgsink.c,
 in one of the previous posts (seems at revision 10613)
//#include <windows.h>

From vszakats at users.sourceforge.net  Mon Mar 16 10:24:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 10:24:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10619] trunk/harbour
Message-ID: <E1LjDjn-0006Q3-2A@dn4whf1.ch3.sourceforge.com>

Revision: 10619
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10619&view=rev
Author:   vszakats
Date:     2009-03-16 14:24:15 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 15:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added 3.81 or upper as GNU Make requirement. Older ones
      have bugs exploitet by current .cf files.

  * contrib/hbssl/Makefile
    - Disabled for owatcom.

  * config/win/msvc.cf
    ! Fixed -TP switch. Stopped using CFLAGS.
    * Changed to use link.exe directly instead of cl.exe.

  * config/win/msvcce.cf
    * Minor cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/contrib/hbssl/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar 16 10:36:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 10:36:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10620] trunk/harbour
Message-ID: <E1LjDvK-0006dH-3M@dn4whf1.ch3.sourceforge.com>

Revision: 10620
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10620&view=rev
Author:   vszakats
Date:     2009-03-16 14:36:13 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 15:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    ! Typo in bcc / fbclient.
    % Cleanup for owatcom, fbclient fixed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Mon Mar 16 11:54:18 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 11:54:39 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316130303.GA2771@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
Message-ID: <gplsn2$trh$1@ger.gmane.org>

Here you have attacched errors & ppo file.
Too much preprocessor trick for me so I couldn`t even try to fix this code.

HTH
Angel

> On Mon, 16 Mar 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> ---
>> Xbase++ (R) Compiler 1.90.331 Apr 27 2006
>> Copyright (c) Alaska Software. All rights reserved.
>> File: speedtst.prg Line:  816
>> speedtst.prg(182:0): error XBT0200: Syntax Error
>> speedtst.prg(265:0): warning XBT0105: Function t030 does not end with RETURN
>> speedtst.prg(306:0): error XBT0223: NEXT does not match FOR
>> speedtst.prg(308:0): error XBT0251: Reserved keyword
> [...]
>> speedtst.prg(398:0): warning XBT0100: RETURN statement with no value in
>> function
>> speedtst.prg(543:0): warning XBT0100: RETURN statement with no value in
>> function
>> speedtst.prg(545:0): error XBT0251: Reserved keyword
>> speedtst.prg(548:0): error XBT0251: Reserved keyword
>> speedtst.prg(551:0): error XBT0251: Reserved keyword
>> speedtst.prg(555:0): error XBT0251: Reserved keyword
>> Too many errors, exiting
> 
> Oops, seems that it's not Clipper compatible as I thought.
> I'll try to change the code but I need more information about
> xBase++.
> Looks like F0(), F1(), F2(), ... as function names cannot be used
> because these are reserved names. Is it documented?
> Can you check if translation to FNC0(), FNC1(), FNC2(), ... is
> enough.
> END seems to be translated unconditionally to NEXT or it's some
> other PP problem. Can you generate .ppo file with xBase++?
> I would like to see the output.
> 
> best regards,
> Przemek

-------------- next part --------------
#line 1 "\ALASKA\XPPW32\INCLUDE\STD.CH"@"STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Set.ch"@"Set.ch" 
#line 1 "\ALASKA\XPPW32\INCLUDE\natmsg.ch"@"natmsg.ch" 
#line 18 "\ALASKA\XPPW32\INCLUDE\Set.ch" 
#line 37 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Get.ch"@"Get.ch" 
#line 42 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Prompt.ch"@"Prompt.ch" 
#line 47 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Memvar.ch"@"Memvar.ch" 
#line 53 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\collat.ch"@"collat.ch" 
#line 58 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "SPEEDTST.PRG" 
#line 1 "\ALASKA\XPPW32\INCLUDE\common.ch"@"common.ch" 
#line 70 "SPEEDTST.PRG" 






































proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )



   local aParams :=  asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 },  min( pCount(), 20 ) )

   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054 055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else

            cExclude += strtran( strtran( strtran( substr( cParam, 11 ),  ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to 55
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         outstd(chr(10));outstd("Unknown option:",cParam)
         outstd(chr(10));outstd("syntax: speedtst [--thread[=<num>]] [--only=<test(s)>] [--exclude=<test(s)>]")
         outstd(chr(10))
         return
      endif
   next
   test( nMT, cExclude, lScale )
return




func t000 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "empty loop overhead", "" ), time }

func t001 ;local time, i, x := nil ;local  L_C:=dtos(date()) ;time := seconds() ;for i:=1 to 1000000 ;x := L_C;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_C" ), time }

func t002 ;local time, i, x := nil ;local  L_N:=112345.67 ;time := seconds() ;for i:=1 to 1000000 ;x := L_N;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_N" ), time }

func t003 ;local time, i, x := nil ;local  L_D:=date() ;time := seconds() ;for i:=1 to 1000000 ;x := L_D;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_D" ), time }



TEST t004 INIT _( static s_once, S_C )  INIT hb_threadOnce( @s_once, {|| S_C := dtos( date() ) } )  CODE x := S_C



TEST t005 INIT _( static s_once, S_N )  INIT hb_threadOnce( @s_once, {|| S_N := 112345.67 } )  CODE x := S_N



TEST t006 INIT _( static s_once, S_D )  INIT hb_threadOnce( @s_once, {|| S_D := date() } )  CODE x := S_D


TEST t007 INIT _( memvar M_C ) INIT _( private M_C := dtos( date() ) )  CODE x := M_C


TEST t008 INIT _( memvar M_N ) INIT _( private M_N := 112345.67 )  CODE x := M_N


TEST t009 INIT _( memvar M_D ) INIT _( private M_D := date() )  CODE x := M_D





TEST t010 INIT _( memvar P_C )  INIT _( static s_once )  INIT _( public P_C )  INIT hb_threadOnce( @s_once, {|| P_C := dtos( date() ) } )  CODE x := P_C





TEST t011 INIT _( memvar P_N )  INIT _( static s_once )  INIT _( public P_N )  INIT hb_threadOnce( @s_once, {|| P_N := 112345.67 } )  CODE x := P_N





TEST t012 INIT _( memvar P_D )  INIT _( static s_once )  INIT _( public P_D )  INIT hb_threadOnce( @s_once, {|| P_D := date() } )  CODE x := P_D


TEST t013 INIT _( field F_C ) INIT use_dbsh() EXIT close_db()  CODE x := F_C


TEST t014 INIT _( field F_N ) INIT use_dbsh() EXIT close_db()  CODE x := F_N


TEST t015 INIT _( field F_D ) INIT use_dbsh() EXIT close_db()  CODE x := F_D

func t016 ;local time, i, x := nil ;local  o := errorNew() ;time := seconds() ;for i:=1 to 1000000 ;x := o:Args;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := o:Args" ), time }

func t017 ;local time, i, x := nil ;local  o := errorNew() ;time := seconds() ;for i:=1 to 1000000 ;x := o[2];next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := o[2]" ), time }

func t018 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;round( i / 1000, 2 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "round( i / 1000, 2 )" ), time }

func t019 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;str( i / 1000 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "str( i / 1000 )" ), time }

func t020 ;local time, i, x := nil ;local  s := stuff( dtos( date() ), 7, 0, "." ) ;time := seconds() ;for i:=1 to 1000000 ;val( s );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "val( s )" ), time }



func t021 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff( dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;val( a [ i % 16 + 1 ] );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "val( a [ i % 16 + 1 ] )" ), time }

func t022 ;local time, i, x := nil ;local  d := date() ;time := seconds() ;for i:=1 to 1000000 ;dtos( d - i % 10000 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "dtos( d - i % 10000 )" ), time }

func t023 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;eval( { || i % 16 } );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { || i % 16 } )" ), time }



func t024 ;local time, i, x := nil ;local  bc := { || i % 16 } ;time := seconds() ;for i:=1 to 1000000 ;eval( bc );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { || i % 16 } )", "eval( bc )" ), time }

func t025 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;eval( { |x| x % 16 }, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { |x| x % 16 }, i )" ), time }



func t026 ;local time, i, x := nil ;local  bc := { |x| x % 16 } ;time := seconds() ;for i:=1 to 1000000 ;eval( bc, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { |x| x % 16 }, i )", "eval( bc, i )" ), time }

func t027 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;eval( { |x| f1( x ) }, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { |x| f1( x ) }, i )" ), time }



func t028 ;local time, i, x := nil ;local  bc := { |x| f1( x ) } ;time := seconds() ;for i:=1 to 1000000 ;eval( bc, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { |x| f1( x ) }, i )", "eval( bc, i )" ), time }

func t029 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := &( "f1(" + str(i) + ")" );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , 'x := &( "f1(" + str(i) + ")" )' ), time }

func t030 ;local time, i, x := nil ;local  bc ;time := seconds() ;for i:=1 to 1000000 ;bc := &( "{|x|f1(x)}" );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , 'bc := &( "{|x|f1(x)}" )' ), time };eval( bc, i )

func t031 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := valtype( x ) +  valtype( i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := valtype( x ) +  valtype( i )" ), time }



func t032 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff( dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ];next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ]" ), time }



func t033 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] == s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] == s" ), time }



func t034 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] = s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] = s" ), time }



func t035 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] >= s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] >= s" ), time }



func t036 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] <= s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] <= s" ), time }



func t037 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] < s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] < s" ), time }



func t038 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] > s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] > s" ), time }



func t039 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, { |x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;ascan( a, i % 16 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "ascan( a, i % 16 )" ), time }



func t040 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, { |x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;ascan( a, { |x| x == i % 16 } );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "ascan( a, { |x| x == i % 16 } )" ), time }



func t041 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := { |x| f1(x) },s := dtos( date() ),s2 := "static text" ;time := seconds() ;for i:=1 to 1000000 ;if i%1000==0;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "if i%1000==0" ), time };a:={};end;aadd(a,{i,1,.t.,s,s2,a2,bc})

func t042 ;local time, i, x := nil ;local  a := {} ;time := seconds() ;for i:=1 to 1000000 ;x := a;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a" ), time }

func t043 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := {};next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := {}" ), time }

func t044 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;f0();next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f0()" ), time }

func t045 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;f1( i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f1( i )" ), time }



func t046 ;local time, i, x := nil ;local  c := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;f2( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( c[1...8] )", "f2( c )" ), time }



func t047 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 ) ;time := seconds() ;for i:=1 to 1000000 ;f2( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( c[1...40000] )", "f2( c )" ), time }



func t048 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 ) ;time := seconds() ;for i:=1 to 1000000 ;f2( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( @c[1...40000] )", "f2( c )" ), time }



func t049 ;local time, i, x := nil ;local  c := repl( dtos( date() ),5000 ),c2 ;time := seconds() ;for i:=1 to 1000000 ;f2( @c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( @c[1...40000] ), c2 := c", "f2( @c )" ), time };c2 := c



func t050 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := { |x| f1(x) },s := dtos( date() ),s2 := "static text",n := 1.23 ;time := seconds() ;for i:=1 to 1000000 ;f3( a, a2, s, i, s2, bc, i, n, x );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f3( a, a2, s, i, s2, bc, i, n, x )" ), time }

func t051 ;local time, i, x := nil ;local  a := { 1, 2, 3 } ;time := seconds() ;for i:=1 to 1000000 ;f2( a );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f2( a )" ), time }

func t052 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := f4();next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := f4()" ), time }

func t053 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := f5();next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := f5()" ), time }

func t054 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := space(16);next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := space(16)" ), time }

func t055 ;local time, i, x := nil ;local  c := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;f_prv( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f_prv( c )" ), time }































proc test( nMT, cExclude, lScale )


local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults,  mtxJobs, mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT,  cTest, x, i, j

create_db()












if !hb_mtvm()
   if lScale
      outstd(chr(10));outstd("scale test available only in MULTI THREAD mode")
      outstd(chr(10))
      return
   endif
   if nMT != 0
      outstd(chr(10));outstd("SINGLE THREAD mode, number of threads set to 0")
      nMT := 0
   endif
endif
outstd(chr(10));outstd(date(),time(),os())
outstd(chr(10));outstd(version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0, "+", "" ), "" ),"")




if lScale .and. nMT < 1
   nMT := 1
endif

outstd(chr(10));outstd("THREADS:",iif( nMT < 0, "all->" + ltrim( str( 55 ) ), ltrim( str( nMT ) ) ))
outstd(chr(10));outstd("N_LOOPS:",ltrim( str( 1000000 ) ))
if !empty( cExclude )
   outstd(chr(10));outstd("excluded tests:",cExclude)
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   outstd(chr(10));outstd(space(56) + "1 th." + str(nMT,3) + " th.  factor")
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(dsp_result( x, 0 ))
   outstd(chr(10));outstd(replicate("=",68))
endif

nSeconds := seconds()
nTimes := seconds()






















































































   for i:=1 to 55
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         outstd(chr(10));outstd(dsp_result( &( "t" + cNum )(), nLoopOverHead ))
      endif
   next


nTimes := seconds() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   outstd(chr(10));outstd(replicate("=",76))
   outstd(chr(10));outstd(dsp_scaleResult( "  TOTAL  ", nTimeTotST, nTimeTotMT, nMT, 0 ))
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(replicate("=",68))
endif
outstd(chr(10));outstd(dsp_result( { "total application time:", nTimes }, 0))
outstd(chr(10));outstd(dsp_result( { "total real time:", nSeconds }, 0 ))
outstd(chr(10))

remove_db()
return

function f0()
return nil

function f1(x)
return x

function f2(x)
( ( x ) )
return nil

function f3(a,b,c,d,e,f,g,h,i)
( ( a ) )
( ( b ) )
( ( c ) )
( ( d ) )
( ( e ) )
( ( f ) )
( ( g ) )
( ( h ) )
( ( i ) )
return nil

function f4()
return space(4000)

function f5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil













static func dsp_result( aResult, nLoopOverHead )

   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) +  strtran( str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif


   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) +  str( nTimeST, 6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" +  str( nTimeST / nTimeMT, 6, 2 )



static proc create_db()
   remove_db()


   dbcreate( "_tst_tmp.dbf", { {"F_C", "C", 10, 0}, {"F_N", "N", 10, 2}, {"F_D", "D",  8, 0} } )
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.F. .or. .T., !.T., NIL), .F.)  
   dbappend()
   FIELD->F_C := dtos(date()) 
   FIELD->F_N := 112345.67 
   FIELD->F_D := date() 
   dbCloseArea()
return

static proc remove_db()
   ferase( "_tst_tmp.dbf" )
return

static proc close_db()
   dbCloseArea()
return

static proc use_dbsh()
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.T. .or. .F., !.F., NIL), .F.)  
return











   function hb_mtvm()
   return .t.                 










   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall



























































































































































-------------- next part --------------
xpp /n /m /w /p /wi /wl @C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\03164437.tmp
SPEEDTST.PRG(182:0): error XBT0200: Syntax Error
SPEEDTST.PRG(265:0): warning XBT0105: Function t030 does not end with RETURN
SPEEDTST.PRG(306:0): error XBT0223: NEXT does not match FOR
SPEEDTST.PRG(308:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(310:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(312:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(314:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(318:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(322:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(326:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(330:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(334:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(336:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(338:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(340:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(342:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(344:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(376:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(398:0): warning XBT0100: RETURN statement with no value in function
SPEEDTST.PRG(543:0): warning XBT0100: RETURN statement with no value in function
SPEEDTST.PRG(545:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(548:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(551:0): error XBT0251: Reserved keyword
SPEEDTST.PRG(555:0): error XBT0251: Reserved keyword

Processing time:      0.52 secs.
From vouchcac at users.sourceforge.net  Mon Mar 16 12:08:44 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Mar 16 12:08:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10621] trunk/harbour
Message-ID: <E1LjFMq-0001Cj-Li@dn4whf1.ch3.sourceforge.com>

Revision: 10621
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10621&view=rev
Author:   vouchcac
Date:     2009-03-16 16:08:42 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 09:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgcuig.c
  * harbour/contrib/gtwvg/wvgsink.c
  * harbour/contrib/gtwvg/wvgwin.c
    ! Fixes for warnings on all compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 16 12:19:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 12:19:20 2009
Subject: [Harbour] Sample make scripts #3
Message-ID: <18d502870903160919r659f490cy43aa97cbc0d2256d@mail.gmail.com>

Hi All,

Added: mingwce, implib generation
Fixed/Added: HB_INC_OPENSSL dir, cross compilation settings, icc

To clear some misconceptions, here are a couple of sample make scripts
for Windows. Notice that it's impossible to list all combinations, so I hope
these are good to give an idea, and everyone can modify them to the local
needs. See INSTALL for reference, and if something still isn't clear, please
ask on the list. If you find any typos with these scripts, please also
report it, and I'll send updated versions.

NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your system.
         Don't use space in dirs.
NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
         depending on what you want to do.
NOTE #3: Windows implib creation setup may change in the future.
NOTE #4: Cross compile setup (HB_BIN_COMPILE, HB_COMP_PATH, HB_PPGEN_PATH)
         may change in the future.

--- MSVC 2008 + SDK
set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2008
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2008 x64 (requires native x86 Harbour binaries)
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86_amd64
rem
set HB_COMPILER=msvc64
rem
set HB_BIN_COMPILE=C:\hb-msvc\bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC 2005
call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MSVC .NET 2003 (untested)
call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
rem
set HB_COMPILER=msvc
set HB_VISUALC_VER_PRE80=yes
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Intel(R) C++
call "%ProgramFiles%\Intel\Compiler\C++\10.1.014\IA32\Bin\iclvars.bat"
rem
set HB_COMPILER=icc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Open Watcom C++
SET WATCOM=C:\devl\owatcom-1.8
SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
SET EDPATH=%WATCOM%\EDDAT
SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
rem
set HB_COMPILER=owatcom
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Borland/CodeGear C++
set PATH=C:\devl\bcc55\bin;%PATH%
rem
set HB_COMPILER=bcc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C
set PATH=C:\devl\PellesC-501\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
rem
set HB_COMPILER=pocc
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C x64
set PATH=C:\devl\PellesC-501-64\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
rem
set HB_COMPILER=pocc64
set HB_BIN_COMPILE=C:\hb-pocc\bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- Pelles C WinCE/ARM
set PATH=C:\devl\PellesC-501\bin;%PATH%
set
INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
rem
set HB_COMPILER=poccce
rem
set HB_BIN_COMPILE=C:\hb-pocc\bin
set HB_PPGEN_PATH=%HB_BIN_COMPILE%
rem
set PATH=C:\devl\make-3.81;%PATH%
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MinGW GCC
set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
rem
set HB_COMPILER=mingw
rem
set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--- MinGW GCC for WinCE/ARM
set CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
set PATH=C:\devl\msys\1.0.11\bin;%CCPATH%;%PATH%
rem
set HB_COMPILER=mingwce
rem
set HB_COMP_PATH=/c/hb-mingw/bin/harbour.exe
set HB_PPGEN_PATH=/c/hb-mingw/bin/hbpp.exe
rem
set HB_INSTALL_PREFIX=/c/hb-%HB_COMPILER%
sh make_gnu_xmingwce.sh %1 %2 > out.txt 2>&1
---

--- Cygwin GCC
set PATH=C:\devl\cygwin\bin;%PATH%
set
C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
set
LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
rem
set HB_COMPILER=cygwin
rem
set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
---

--8<--
rem ; Add these _before_ above sample scripts to configure 3rd party
dependencies.
rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
rem   also cygwin drive notation for 'cygwin'.
set HB_INC_ADS=C:\ads\acesdk
set HB_INC_ALLEGRO=C:\allegro\include
set HB_INC_APOLLO=C:\Apollo\include
set HB_INC_BLAT=C:\blat\full\source
set HB_INC_CURL=C:\curl\include
set HB_INC_FIREBIRD=C:\Firebird\include
set HB_INC_FREEIMAGE=C:\FreeImage\Dist
set HB_INC_GD=C:\gd\include
set HB_INC_LIBHARU=C:\libharu\include
set HB_INC_MYSQL=C:\mysql\include
set HB_INC_OPENSSL=C:\openssl\inc32
set HB_INC_PGSQL=C:\pgsql\include
-->8--

--8<--
rem ; Add these _before_ above sample scripts to configure 3rd party
dependencies
rem   for implib generation. This is needed for non-gcc compilers.
set HB_DIR_ADS=C:\ads\acesdk
set HB_DIR_ALLEGRO=C:\allegro
set HB_DIR_APOLLO=C:\Apollo
set HB_DIR_BLAT=C:\blat
set HB_DIR_CURL=C:\curl
set HB_DIR_FIREBIRD=C:\Firebird
set HB_DIR_FREEIMAGE=C:\FreeImage
set HB_DIR_GD=C:\gd
set HB_DIR_LIBHARU=C:\libharu
set HB_DIR_MYSQL=C:\mysql
set HB_DIR_OPENSSL=C:\openssl
set HB_DIR_PGSQL=C:\pgsql
rem
set HB_BUILD_IMPLIB=yes
-->8--

--8<--
rem ; To create installation packages (.exe + .zip),
rem   replace last lines (calling make_gnu.*) with these two:
set PATH=C:\devl\NSIS-2.44;%PATH%
call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
-->8--

Brgds.
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/63639982/attachment.html
From vouchcac at users.sourceforge.net  Mon Mar 16 12:41:16 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Mar 16 12:41:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10622] trunk/harbour
Message-ID: <E1LjFsK-0001xO-Qt@dn4whf1.ch3.sourceforge.com>

Revision: 10622
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10622&view=rev
Author:   vouchcac
Date:     2009-03-16 16:41:05 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 09:39 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wincallb.c
  * harbour/contrib/gtwvg/wvgwin.c
    ! Fixed MSVC warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wvgwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 16 13:30:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 13:24:38 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gplsn2$trh$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
Message-ID: <20090316173048.GA8963@uran.home.aster.pl>

On Mon, 16 Mar 2009, Angel Pais wrote:

Hi,

> Here you have attacched errors & ppo file.
> Too much preprocessor trick for me so I couldn`t even try to fix this code.

Thank you.
In few places xbase++ preprocessor is not Clipper compatible but it's not
our job to locate the exact problems.
I updated the speedtst.prg code to be more friendly for PPs which are not
fully Clipper compatible and I'm attaching modified speedtst2.prg.
Now it can be compiled also by CLIP (www.itk.ru) though it needs runtime
parameter "--exclude=017" for execution - CLIP does not support accesing
MAP items by index.

I would like to ask again you or other xbase++ users to try compile and
execute attached code and send the results or errors.

I haven't touched all reported errors but it's possible that some of them
are results of errors generated before due to PP problems so I don't want
to change sth what can be left as is.

best regards,
Przemek
-------------- next part --------------
/*
 * $Id: speedtst.prg 10578 2009-03-10 11:17:18Z druzus $
 */

/*
 * Harbour Project source code:
 *    HVM speed test program
 *
 * Copyright 2008 Przemyslaw Czerpak <druzus / at / priv.onet.pl>
 * www - http://www.harbour-project.org
 *
 */

#define N_TESTS 55
#define N_LOOPS 1000000
#define ARR_LEN 16

#ifndef __HARBOUR__
   #ifndef __XPP__
      #ifndef __CLIP__
        #define __CLIPPER__
      #endif
   #endif
#endif


#ifdef __CLIPPER__
   /* Clipper does not support multithreading */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __XPP__
   /* xBase++ version for MT performance testing is not ready yet */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __CLIP__
   /* CLIP version for MT performance testing is not ready yet */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __XHARBOUR__
   /* By default build xHarbour binaries without MT support
    * xHarbour needs separated version for MT and ST mode
    * because standard MT functions are not available in
    * ST libraries.
    */
   #ifndef __ST__
      #ifndef __MT__
         #ifndef MT
            #ifndef HB_THREAD_SUPPORT
               #define __ST__
            #endif
         #endif
      #endif
   #endif
#endif

/* by default create MT version */
#ifndef __MT__
   #ifndef __ST__
      #define __MT__
   #endif
#endif


#command ? => outstd(EOL)
#command ? <xx,...> => outstd(EOL);outstd(<xx>)
#command ?? <xx,...> => outstd(<xx>)

#include "common.ch"

#ifdef __HARBOUR__
   #define EOL hb_OSNewLine()
#else
   #define HB_SYMBOL_UNUSED( symbol )  ( ( symbol ) )
   #ifndef __CLIP__
      #xtranslate secondsCPU() => seconds()
   #endif
   #ifndef EOL
      #define EOL chr(10)
   #endif
#endif

#xcommand _( <exp> <explst,...> ) => <exp> <explst>

#xcommand TEST <testfunc>           ;
          [ WITH <locals,...> ]     ;
          [ INIT <init> ]           ;
          [ EXIT <exit> ]           ;
          [ INFO <info> ]           ;
          CODE [<*testExp*>] =>     ;
   func <testfunc> ;                ;
      local time, i, x := nil ;     ;
      [ local <locals> ; ]          ;
      [ <init> ; ]                  ;
      time := secondscpu() ;        ;
      for i:=1 to N_LOOPS ;         ;
         [<testExp>;]               ;
      next ;                        ;
      time := secondscpu() - time ; ;
      [ <exit> ; ]                  ;
   return { procname() + ": " + iif( <.info.>, <(info)>, #<testExp> ), time }

#ifdef __HARBOUR__
proc main( ... )
   local aParams := hb_aparams()
#else
proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10, ;
           _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )
   local aParams := ;
      asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10, ;
               _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 }, ;
             min( pCount(), 20 ) )
#endif
   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054 055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else
            cExclude += strtran( strtran( strtran( substr( cParam, 11 ), ;
                        ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to N_TESTS
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         ? "Unknown option:", cParam
         ? "syntax: speedtst [--thread[=<num>]] [--only=<test(s)>] [--exclude=<test(s)>]"
         ?
         return
      endif
   next
   test( nMT, cExclude, lScale )
return


/*** TESTS ***/

TEST t000 INFO "empty loop overhead" CODE

TEST t001 WITH L_C:=dtos(date()) CODE x := L_C

TEST t002 WITH L_N:=112345.67    CODE x := L_N

TEST t003 WITH L_D:=date()       CODE x := L_D

TEST t004 INIT _( static s_once, S_C ) ;
          INIT hb_threadOnce( @s_once, {|| S_C := dtos( date() ) } ) ;
          CODE x := S_C

TEST t005 INIT _( static s_once, S_N ) ;
          INIT hb_threadOnce( @s_once, {|| S_N := 112345.67 } ) ;
          CODE x := S_N

TEST t006 INIT _( static s_once, S_D ) ;
          INIT hb_threadOnce( @s_once, {|| S_D := date() } ) ;
          CODE x := S_D

TEST t007 INIT _( memvar M_C ) INIT _( private M_C := dtos( date() ) ) ;
          CODE x := M_C

TEST t008 INIT _( memvar M_N ) INIT _( private M_N := 112345.67 ) ;
          CODE x := M_N

TEST t009 INIT _( memvar M_D ) INIT _( private M_D := date() ) ;
          CODE x := M_D

TEST t010 INIT _( memvar P_C ) ;
          INIT _( static s_once ) ;
          INIT _( public P_C ) ;
          INIT hb_threadOnce( @s_once, {|| P_C := dtos( date() ) } ) ;
          CODE x := P_C

TEST t011 INIT _( memvar P_N ) ;
          INIT _( static s_once ) ;
          INIT _( public P_N ) ;
          INIT hb_threadOnce( @s_once, {|| P_N := 112345.67 } ) ;
          CODE x := P_N

TEST t012 INIT _( memvar P_D ) ;
          INIT _( static s_once ) ;
          INIT _( public P_D ) ;
          INIT hb_threadOnce( @s_once, {|| P_D := date() } ) ;
          CODE x := P_D

TEST t013 INIT _( field F_C ) INIT use_dbsh() EXIT close_db() ;
          CODE x := F_C

TEST t014 INIT _( field F_N ) INIT use_dbsh() EXIT close_db() ;
          CODE x := F_N

TEST t015 INIT _( field F_D ) INIT use_dbsh() EXIT close_db() ;
          CODE x := F_D

TEST t016 WITH o := errorNew() CODE x := o:Args

TEST t017 WITH o := errorNew() CODE x := o[2]

TEST t018 CODE round( i / 1000, 2 )

TEST t019 CODE str( i / 1000 )

TEST t020 WITH s := stuff( dtos( date() ), 7, 0, "." ) CODE val( s )

TEST t021 WITH a := afill( array( ARR_LEN ), ;
                           stuff( dtos( date() ), 7, 0, "." ) ) ;
          CODE val( a [ i % ARR_LEN + 1 ] )

TEST t022 WITH d := date() CODE dtos( d - i % 10000 )

TEST t023 CODE eval( { || i % ARR_LEN } )

TEST t024 WITH bc := { || i % ARR_LEN } ;
          INFO eval( bc := { || i % ARR_LEN } ) ;
          CODE eval( bc )

TEST t025 CODE eval( { |x| x % ARR_LEN }, i )

TEST t026 WITH bc := { |x| x % ARR_LEN } ;
          INFO eval( bc := { |x| x % ARR_LEN }, i ) ;
          CODE eval( bc, i )

TEST t027 CODE eval( { |x| f1( x ) }, i )

TEST t028 WITH bc := { |x| f1( x ) } ;
          INFO eval( bc := { |x| f1( x ) }, i ) ;
          CODE eval( bc, i )

TEST t029 CODE x := &( "f1(" + str(i) + ")" )

TEST t030 WITH bc CODE bc := &( "{|x|f1(x)}" ); eval( bc, i )

TEST t031 CODE x := valtype( x ) +  valtype( i )

TEST t032 WITH a := afill( array( ARR_LEN ), ;
                           stuff( dtos( date() ), 7, 0, "." ) ) ;
          CODE x := strzero( i % 100, 2 ) $ a[ i % ARR_LEN + 1 ]

TEST t033 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] == s

TEST t034 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] = s

TEST t035 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] >= s

TEST t036 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] <= s

TEST t037 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] < s

TEST t038 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] > s

TEST t039 WITH a := array( ARR_LEN ) ;
          INIT aeval( a, { |x,i| a[i] := i, x } ) ;
          CODE ascan( a, i % ARR_LEN )

TEST t040 WITH a := array( ARR_LEN ) ;
          INIT aeval( a, { |x,i| a[i] := i, x } ) ;
          CODE ascan( a, { |x| x == i % ARR_LEN } )

TEST t041 WITH a := {}, a2 := { 1, 2, 3 }, bc := { |x| f1(x) }, ;
               s := dtos( date() ), s2 := "static text" ;
          CODE iif( i%1000==0, a:={}, ) ; aadd(a,{i,1,.t.,s,s2,a2,bc})

TEST t042 WITH a := {} CODE x := a

TEST t043 CODE x := {}

TEST t044 CODE f0()

TEST t045 CODE f1( i )

TEST t046 WITH c := dtos( date() ) ;
          INFO f2( c[1...8] ) ;
          CODE f2( c )

TEST t047 WITH c := repl( dtos( date() ), 5000 ) ;
          INFO f2( c[1...40000] ) ;
          CODE f2( c )

TEST t048 WITH c := repl( dtos( date() ), 5000 ) ;
          INFO f2( @c[1...40000] ) ;
          CODE f2( c )

TEST t049 WITH c := repl( dtos( date() ),5000 ), c2 ;
          INFO "f2( @c[1...40000] ), c2 := c" ;
          CODE f2( @c ); c2 := c

TEST t050 WITH a := {}, a2 := { 1, 2, 3 }, bc := { |x| f1(x) }, ;
               s := dtos( date() ), s2 := "static text", n := 1.23 ;
          CODE f3( a, a2, s, i, s2, bc, i, n, x )

TEST t051 WITH a := { 1, 2, 3 } CODE f2( a )

TEST t052 CODE x := f4()

TEST t053 CODE x := f5()

TEST t054 CODE x := space(16)

TEST t055 WITH c := dtos( date() ) CODE f_prv( c )

/*** end of tests ***/


#ifdef __MT__

function thTest( mtxJobs, aResults )
   local xJob
   while .T.
      hb_mutexSubscribe( mtxJobs,, @xJob )
      if xJob == NIL
         exit
      endif
      aResults[ xJob ] := &( "t" + strzero( xJob, 3 ) )()
   enddo
return nil

function thTestScale( mtxJobs, mtxResults )
   local xJob
   while .T.
      hb_mutexSubscribe( mtxJobs,, @xJob )
      if xJob == NIL
         exit
      endif
      hb_mutexNotify( mtxResults, &( "t" + strzero( xJob, 3 ) )() )
   enddo
return nil

#endif


proc test( nMT, cExclude, lScale )
local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults, ;
      mtxJobs, mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT, ;
      cTest, x, i, j

create_db()

#ifdef __HARBOUR__
   #include "hbmemory.ch"
      if MEMORY( HB_MEM_USEDMAX ) != 0
      ? "Warning !!! Memory statistic enabled."
      ?
   endif
#endif

//? "Startup loop to increase CPU clock..."
//x := seconds() + 5; while x > seconds(); enddo

if !hb_mtvm()
   if lScale
      ? "scale test available only in MULTI THREAD mode"
      ?
      return
   endif
   if nMT != 0
      ? "SINGLE THREAD mode, number of threads set to 0"
      nMT := 0
   endif
endif
? date(), time(), os()
? version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0, "+", "" ), "" ), ""
#ifdef __HARBOUR__
   ?? hb_compiler()
#endif

if lScale .and. nMT < 1
   nMT := 1
endif

? "THREADS:", iif( nMT < 0, "all->" + ltrim( str( N_TESTS ) ), ltrim( str( nMT ) ) )
? "N_LOOPS:", ltrim( str( N_LOOPS ) )
if !empty( cExclude )
   ? "excluded tests:", cExclude
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   ? space(56) + "1 th." + str(nMT,3) + " th.  factor"
   ? replicate("=",76)
else
   ? dsp_result( x, 0 )
   ? replicate("=",68)
endif

nSeconds := seconds()
nTimes := secondsCPU()

#ifdef __MT__
   if lScale
      mtxJobs := hb_mutexCreate()
      mtxResults := hb_mutexCreate()
      nTimeTotST := nTimeTotMT := 0
      for i:=1 to nMT
         hb_threadStart( "thTestScale", mtxJobs, mtxResults )
      next
      for i:=1 to N_TESTS
         cTest := strzero( i, 3 )
         if !cTest $ cExclude

            /* linear execution */
            nTimeST := seconds()
            for j:=1 to nMT
               hb_mutexNotify( mtxJobs, i )
               hb_mutexSubscribe( mtxResults,, @x )
               cTest := x[1]
            next
            nTimeST := seconds() - nTimeST
            nTimeTotST += nTimeST

            /* simultaneous execution */
            nTimeMT := seconds()
            for j:=1 to nMT
               hb_mutexNotify( mtxJobs, i )
            next
            for j:=1 to nMT
               hb_mutexSubscribe( mtxResults,, @x )
               cTest := x[1]
            next
            nTimeMT := seconds() - nTimeMT
            nTimeTotMT += nTimeMT

            ? dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
         endif

      next
      for i:=1 to nMT
         hb_mutexNotify( mtxJobs, NIL )
      next
      hb_threadWaitForAll()
   elseif nMT < 0
      aThreads := array( N_TESTS )
      for i:=1 to N_TESTS
         cNum := strzero( i, 3 )
         if !cNum $ cExclude
            aThreads[ i ] := hb_threadStart( "t" + cNum )
         endif
      next
      for i:=1 to N_TESTS
         if aThreads[ i ] != NIL .and. hb_threadJoin( aThreads[ i ], @x )
            ? dsp_result( x, nLoopOverHead )
         endif
      next
   elseif nMT > 0
      aResults := array( N_TESTS )
      mtxJobs := hb_mutexCreate()
      for i:=1 to nMT
         hb_threadStart( "thTest", mtxJobs, aResults )
      next
      for i:=1 to N_TESTS
         if !strzero( i, 3 ) $ cExclude
            hb_mutexNotify( mtxJobs, i )
         endif
      next
      for i:=1 to nMT
         hb_mutexNotify( mtxJobs, NIL )
      next
      hb_threadWaitForAll()
      for i:=1 to N_TESTS
         if aResults[ i ] != NIL
            ? dsp_result( aResults[ i ], nLoopOverHead )
         endif
      next
      mtxJobs := NIL
   else
      for i:=1 to N_TESTS
         cNum := strzero( i, 3 )
         if !cNum $ cExclude
            ? dsp_result( &( "t" + cNum )(), nLoopOverHead )
         endif
      next
   endif
#else
   for i:=1 to N_TESTS
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         ? dsp_result( &( "t" + cNum )(), nLoopOverHead )
      endif
   next
#endif

nTimes := secondsCPU() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   ? replicate("=",76)
   ? dsp_scaleResult( "  TOTAL  ", nTimeTotST, nTimeTotMT, nMT, 0 )
   ? replicate("=",76)
else
   ? replicate("=",68)
endif
? dsp_result( { "total application time:", nTimes }, 0)
? dsp_result( { "total real time:", nSeconds }, 0 )
?

remove_db()
return

function f0()
return nil

function f1(x)
return x

function f2(x)
HB_SYMBOL_UNUSED( x )
return nil

function f3(a,b,c,d,e,f,g,h,i)
HB_SYMBOL_UNUSED( a )
HB_SYMBOL_UNUSED( b )
HB_SYMBOL_UNUSED( c )
HB_SYMBOL_UNUSED( d )
HB_SYMBOL_UNUSED( e )
HB_SYMBOL_UNUSED( f )
HB_SYMBOL_UNUSED( g )
HB_SYMBOL_UNUSED( h )
HB_SYMBOL_UNUSED( i )
return nil

function f4()
return space(4000)

function f5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil

/*
function f_pub(x)
   memvar PUB_C
   public PUB_C := x
return nil

function f_stat(x)
   static STAT_C
   STAT_C := x
return nil
*/

static func dsp_result( aResult, nLoopOverHead )
   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) + ;
          strtran( str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif
   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) + ;
          str( nTimeST, 6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" + ;
          str( nTimeST / nTimeMT, 6, 2 )


#define TMP_FILE "_tst_tmp.dbf"
static proc create_db()
   remove_db()
   dbcreate( TMP_FILE, { {"F_C", "C", 10, 0},;
                         {"F_N", "N", 10, 2},;
                         {"F_D", "D",  8, 0} } )
   use TMP_FILE exclusive
   dbappend()
   replace F_C with dtos(date())
   replace F_N with 112345.67
   replace F_D with date()
   close
return

static proc remove_db()
   ferase( TMP_FILE )
return

static proc close_db()
   close
return

static proc use_dbsh()
   use TMP_FILE shared
return


#ifdef __CLIPPER__
   function hb_mtvm()
   return .f.                 /* Clipper does not support MT */
#endif
#ifdef __CLIP__
   function hb_mtvm()
   return .t.                 /* CLIP always uses VM with MT support */
#endif
#ifdef __XPP__
   function hb_mtvm()
   return .t.                 /* xBase++ always uses VM with MT support */
#endif
#ifdef __XHARBOUR__
   function hb_mtvm()
   return hb_multiThread()    /* check for MT support in xHarbour VM */
#endif


#ifndef __MT__

   /* trivial single thread version of once execution */
   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall

#else

   /* Add support for MT functions for used compiler
    */

#ifdef __XHARBOUR__

   /* do not expect that this code will work with xHarbour.
    * xHarbour has many race conditions which are exploited quite fast
    * on real multi CPU machines so it crashes in different places :-(
    * probably this code should be forwared to xHarbour developers as
    * some type of MT test
    */

   /* this define is only to test if emulation function works
    * without running real test which causes that xHarbour crashes
    */
   //#define _DUMY_XHB_TEST_


   function hb_mutexSubscribe( mtx, nTimeOut, xSubscribed )
      local lSubscribed
      if valtype( nTimeOut ) == "N"
         nTimeOut := round( nTimeOut * 1000, 0 )
         xSubscribed := Subscribe( mtx, nTimeOut, @lSubscribed )
      else
         xSubscribed := Subscribe( mtx )
         lSubscribed := .t.
      endif
   return lSubscribed

   function hb_mutexNotify( mtx, xValue )
      Notify( mtx, xValue )
   return nil

   /* in xHarbour there is race condition in JoinThread() which
    * fails if thread end before we call it so we cannot use it :-(
    * this code tries to simulate it and also add support for thread
    * return value
    */

   function hb_threadStart( ... )
      local thId
      thId := StartThread( @threadFirstFunc(), hb_aParams() )
      /* Just like in JoinThread() the same race condition exists in
       * GetThreadId() so we will use HVM thread numbers internally
       */
#ifdef _DUMY_XHB_TEST_
   return val( substr( hb_aParams()[1], 2 ) )
#else
   return GetThreadId( thId )
#endif

   function hb_threadJoin( thId, xResult )
      xResult := results( thId )
   return .t.

   static function threadFirstFunc( aParams )
      local xResult
#ifdef _DUMY_XHB_TEST_
      xResult := { "skipped test " + aParams[1], val( substr( aParams[1], 2 ) ) + 0.99 }
      results( val( substr( aParams[1], 2 ) ), xResult )
#else
      xResult := hb_execFromArray( aParams )
      results( GetThreadId(), xResult )
#endif
   return nil

   static function results( nThread, xResult )
      static s_aResults
      static s_mutex
      if s_aResults == nil
         s_aResults := HSetAutoAdd( hash(), .t. )
         s_mutex := hb_mutexCreate()
      endif
      if pcount() < 2
         while ! nThread $ s_aResults
            Subscribe( s_mutex, 1000 )
         enddo
         xResult := s_aResults[ nThread ]
      else
         s_aResults[ nThread ] := xResult
         /* We cannot use NotifyAll() here because it will create
          * race condition. In this program only one thread join
          * results so we can use simple Notify() as workaround
          */
         //NotifyAll( s_mutex )
         Notify( s_mutex )
      endif
   return xResult

   function hb_threadWaitForAll()
      WaitForThreads()
   return nil

   function hb_threadOnce( xOnceControl, bAction )
      static s_mutex
      local lFirstCall := .f.
      if s_mutex == NIL
         s_mutex := hb_mutexCreate()
      endif
      if xOnceControl == NIL
         hb_mutexLock( s_mutex )
         if xOnceControl == NIL
            if bAction != NIL
               eval( bAction )
            endif
            xOnceControl := .t.
            lFirstCall := .t.
         endif
         hb_mutexUnlock( s_mutex )
      endif
   return lFirstCall

   init proc once_init()
      /* set workareas local to thread */
      set workarea private
      /* initialize mutex in hb_trheadDoOnce() */
      hb_threadOnce()
      /* initialize error object to reduce possible crashes when two
       * threads will try to create new error class simultaneously.
       * xHarbour does not have any protection against such situation
       */
      errorNew()
   return

#endif /* __XHARBOUR__ */


/*
   function hb_threadStart( cFunc, xPar1, xPar2, xPar3 )
   return nil

   function hb_threadJoin( thId, xResult )
   return nil

   function hb_mutexCreate()
   return nil

   function hb_mutexSubscribe()
   return nil
   function hb_mutexLock()
   return nil
   function hb_mutexUnlock()
   return nil
   function hb_mutexNotify()
   return nil
   function hb_threadWaitForAll()
   return nil
   function hb_mtvm()
   return .f.
*/

#endif
From vszakats at users.sourceforge.net  Mon Mar 16 13:32:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 13:32:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10623] trunk/harbour
Message-ID: <E1LjGg2-0003n2-A1@dn4whf1.ch3.sourceforge.com>

Revision: 10623
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10623&view=rev
Author:   vszakats
Date:     2009-03-16 17:32:26 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 18:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added __PLATFORM__* macro support for cross-compilation situations.

  * include/hbsetup.ch
    * Minor

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsetup.ch
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 16 13:41:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 13:35:38 2009
Subject: [Harbour] pCode dll
In-Reply-To: <20090316125733.A62C.422BA498@telkom.net.id>
References: <b7cd04c7.1c9a5b4.f46cb06.762e@mafact.com>
	<18d502870903151749o98bba23ic4ffe9506527e064@mail.gmail.com>
	<20090316125733.A62C.422BA498@telkom.net.id>
Message-ID: <20090316174144.GA9387@uran.home.aster.pl>

On Mon, 16 Mar 2009, Andi Jahja wrote:

Hi,

> OWatcom: I suggest you have oWatcom Harbour flags standardized as what
> other compilers use as of now. Take a look at -s and -r switch (default
> is -r which is "use register calling convention"). Other Windoze
> compiler are using -s equivalent (-s = "stack calling convention").It's
> should be OK if you're using -r but the creation of import library
> become rather clumpsy, because -r append an underscrore AFTER symbol
> name.

Have you made speed comparison for OwpenWatcom builds with and without
register calling convention?
I think it's good to check it 1-st to see potential overhead.
If possible try to compare tests/speedtst.prg results for both versions.

best regards,
Przemek
From amigosam at adinet.com.uy  Mon Mar 16 13:40:15 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 13:40:30 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316173048.GA8963@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
Message-ID: <gpm2tn$mla$1@ger.gmane.org>

Still some errors left...

Przemyslaw Czerpak escribi?:
> On Mon, 16 Mar 2009, Angel Pais wrote:
> 
> Hi,
> 
>> Here you have attacched errors & ppo file.
>> Too much preprocessor trick for me so I couldn`t even try to fix this code.
> 
> Thank you.
> In few places xbase++ preprocessor is not Clipper compatible but it's not
> our job to locate the exact problems.
> I updated the speedtst.prg code to be more friendly for PPs which are not
> fully Clipper compatible and I'm attaching modified speedtst2.prg.
> Now it can be compiled also by CLIP (www.itk.ru) though it needs runtime
> parameter "--exclude=017" for execution - CLIP does not support accesing
> MAP items by index.
> 
> I would like to ask again you or other xbase++ users to try compile and
> execute attached code and send the results or errors.
> 
> I haven't touched all reported errors but it's possible that some of them
> are results of errors generated before due to PP problems so I don't want
> to change sth what can be left as is.
> 
> best regards,
> Przemek
> 

-------------- next part --------------
#line 1 "\ALASKA\XPPW32\INCLUDE\STD.CH"@"STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Set.ch"@"Set.ch" 
#line 1 "\ALASKA\XPPW32\INCLUDE\natmsg.ch"@"natmsg.ch" 
#line 18 "\ALASKA\XPPW32\INCLUDE\Set.ch" 
#line 37 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Get.ch"@"Get.ch" 
#line 42 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Prompt.ch"@"Prompt.ch" 
#line 47 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Memvar.ch"@"Memvar.ch" 
#line 53 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\collat.ch"@"collat.ch" 
#line 58 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "SPEEDTST2.PRG" 
#line 1 "\ALASKA\XPPW32\INCLUDE\common.ch"@"common.ch" 
#line 77 "SPEEDTST2.PRG" 






































proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )



   local aParams :=  asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 },  min( pCount(), 20 ) )

   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054 055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else

            cExclude += strtran( strtran( strtran( substr( cParam, 11 ),  ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to 55
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         outstd(chr(10));outstd("Unknown option:",cParam)
         outstd(chr(10));outstd("syntax: speedtst [--thread[=<num>]] [--only=<test(s)>] [--exclude=<test(s)>]")
         outstd(chr(10))
         return
      endif
   next
   test( nMT, cExclude, lScale )
return




func t000 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "empty loop overhead", "" ), time }

func t001 ;local time, i, x := nil ;local  L_C:=dtos(date()) ;time := seconds() ;for i:=1 to 1000000 ;x := L_C;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_C" ), time }

func t002 ;local time, i, x := nil ;local  L_N:=112345.67 ;time := seconds() ;for i:=1 to 1000000 ;x := L_N;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_N" ), time }

func t003 ;local time, i, x := nil ;local  L_D:=date() ;time := seconds() ;for i:=1 to 1000000 ;x := L_D;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_D" ), time }



TEST t004 INIT _( static s_once, S_C )  INIT hb_threadOnce( @s_once, {|| S_C := dtos( date() ) } )  CODE x := S_C



TEST t005 INIT _( static s_once, S_N )  INIT hb_threadOnce( @s_once, {|| S_N := 112345.67 } )  CODE x := S_N



TEST t006 INIT _( static s_once, S_D )  INIT hb_threadOnce( @s_once, {|| S_D := date() } )  CODE x := S_D


TEST t007 INIT _( memvar M_C ) INIT _( private M_C := dtos( date() ) )  CODE x := M_C


TEST t008 INIT _( memvar M_N ) INIT _( private M_N := 112345.67 )  CODE x := M_N


TEST t009 INIT _( memvar M_D ) INIT _( private M_D := date() )  CODE x := M_D





TEST t010 INIT _( memvar P_C )  INIT _( static s_once )  INIT _( public P_C )  INIT hb_threadOnce( @s_once, {|| P_C := dtos( date() ) } )  CODE x := P_C





TEST t011 INIT _( memvar P_N )  INIT _( static s_once )  INIT _( public P_N )  INIT hb_threadOnce( @s_once, {|| P_N := 112345.67 } )  CODE x := P_N





TEST t012 INIT _( memvar P_D )  INIT _( static s_once )  INIT _( public P_D )  INIT hb_threadOnce( @s_once, {|| P_D := date() } )  CODE x := P_D


TEST t013 INIT _( field F_C ) INIT use_dbsh() EXIT close_db()  CODE x := F_C


TEST t014 INIT _( field F_N ) INIT use_dbsh() EXIT close_db()  CODE x := F_N


TEST t015 INIT _( field F_D ) INIT use_dbsh() EXIT close_db()  CODE x := F_D

func t016 ;local time, i, x := nil ;local  o := errorNew() ;time := seconds() ;for i:=1 to 1000000 ;x := o:Args;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := o:Args" ), time }

func t017 ;local time, i, x := nil ;local  o := errorNew() ;time := seconds() ;for i:=1 to 1000000 ;x := o[2];next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := o[2]" ), time }

func t018 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;round( i / 1000, 2 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "round( i / 1000, 2 )" ), time }

func t019 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;str( i / 1000 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "str( i / 1000 )" ), time }

func t020 ;local time, i, x := nil ;local  s := stuff( dtos( date() ), 7, 0, "." ) ;time := seconds() ;for i:=1 to 1000000 ;val( s );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "val( s )" ), time }



func t021 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff( dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;val( a [ i % 16 + 1 ] );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "val( a [ i % 16 + 1 ] )" ), time }

func t022 ;local time, i, x := nil ;local  d := date() ;time := seconds() ;for i:=1 to 1000000 ;dtos( d - i % 10000 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "dtos( d - i % 10000 )" ), time }

func t023 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;eval( { || i % 16 } );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { || i % 16 } )" ), time }



func t024 ;local time, i, x := nil ;local  bc := { || i % 16 } ;time := seconds() ;for i:=1 to 1000000 ;eval( bc );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { || i % 16 } )", "eval( bc )" ), time }

func t025 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;eval( { |x| x % 16 }, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { |x| x % 16 }, i )" ), time }



func t026 ;local time, i, x := nil ;local  bc := { |x| x % 16 } ;time := seconds() ;for i:=1 to 1000000 ;eval( bc, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { |x| x % 16 }, i )", "eval( bc, i )" ), time }

func t027 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;eval( { |x| f1( x ) }, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { |x| f1( x ) }, i )" ), time }



func t028 ;local time, i, x := nil ;local  bc := { |x| f1( x ) } ;time := seconds() ;for i:=1 to 1000000 ;eval( bc, i );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { |x| f1( x ) }, i )", "eval( bc, i )" ), time }

func t029 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := &( "f1(" + str(i) + ")" );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , 'x := &( "f1(" + str(i) + ")" )' ), time }

func t030 ;local time, i, x := nil ;local  bc ;time := seconds() ;for i:=1 to 1000000 ;bc := &( "{|x|f1(x)}" );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , 'bc := &( "{|x|f1(x)}" )' ), time };eval( bc, i )

func t031 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := valtype( x ) +  valtype( i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := valtype( x ) +  valtype( i )" ), time }



func t032 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff( dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ];next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ]" ), time }



func t033 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] == s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] == s" ), time }



func t034 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] = s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] = s" ), time }



func t035 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] >= s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] >= s" ), time }



func t036 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] <= s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] <= s" ), time }



func t037 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] < s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] < s" ), time }



func t038 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] > s;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] > s" ), time }



func t039 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, { |x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;ascan( a, i % 16 );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "ascan( a, i % 16 )" ), time }



func t040 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, { |x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;ascan( a, { |x| x == i % 16 } );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "ascan( a, { |x| x == i % 16 } )" ), time }



func t041 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := { |x| f1(x) },s := dtos( date() ),s2 := "static text" ;time := seconds() ;for i:=1 to 1000000 ;iif( i%1000==0, a:={}, );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "iif( i%1000==0, a:={}, )" ), time };aadd(a,{i,1,.t.,s,s2,a2,bc})

func t042 ;local time, i, x := nil ;local  a := {} ;time := seconds() ;for i:=1 to 1000000 ;x := a;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a" ), time }

func t043 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := {};next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := {}" ), time }

func t044 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;f0();next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f0()" ), time }

func t045 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;f1( i );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f1( i )" ), time }



func t046 ;local time, i, x := nil ;local  c := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;f2( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( c[1...8] )", "f2( c )" ), time }



func t047 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 ) ;time := seconds() ;for i:=1 to 1000000 ;f2( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( c[1...40000] )", "f2( c )" ), time }



func t048 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 ) ;time := seconds() ;for i:=1 to 1000000 ;f2( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( @c[1...40000] )", "f2( c )" ), time }



func t049 ;local time, i, x := nil ;local  c := repl( dtos( date() ),5000 ),c2 ;time := seconds() ;for i:=1 to 1000000 ;f2( @c );next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( @c[1...40000] ), c2 := c", "f2( @c )" ), time };c2 := c



func t050 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := { |x| f1(x) },s := dtos( date() ),s2 := "static text",n := 1.23 ;time := seconds() ;for i:=1 to 1000000 ;f3( a, a2, s, i, s2, bc, i, n, x );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f3( a, a2, s, i, s2, bc, i, n, x )" ), time }

func t051 ;local time, i, x := nil ;local  a := { 1, 2, 3 } ;time := seconds() ;for i:=1 to 1000000 ;f2( a );next ;time := seconds() - time ;return { procname() + ": " + iif( ..F., , "f2( a )" ), time }

func t052 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := f4();next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := f4()" ), time }

func t053 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := f5();next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := f5()" ), time }

func t054 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;x := space(16);next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := space(16)" ), time }

func t055 ;local time, i, x := nil ;local  c := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;f_prv( c );next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f_prv( c )" ), time }































proc test( nMT, cExclude, lScale )


local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults,  mtxJobs, mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT,  cTest, x, i, j

create_db()












if !hb_mtvm()
   if lScale
      outstd(chr(10));outstd("scale test available only in MULTI THREAD mode")
      outstd(chr(10))
      return
   endif
   if nMT != 0
      outstd(chr(10));outstd("SINGLE THREAD mode, number of threads set to 0")
      nMT := 0
   endif
endif
outstd(chr(10));outstd(date(),time(),os())
outstd(chr(10));outstd(version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0, "+", "" ), "" ),"")




if lScale .and. nMT < 1
   nMT := 1
endif

outstd(chr(10));outstd("THREADS:",iif( nMT < 0, "all->" + ltrim( str( 55 ) ), ltrim( str( nMT ) ) ))
outstd(chr(10));outstd("N_LOOPS:",ltrim( str( 1000000 ) ))
if !empty( cExclude )
   outstd(chr(10));outstd("excluded tests:",cExclude)
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   outstd(chr(10));outstd(space(56) + "1 th." + str(nMT,3) + " th.  factor")
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(dsp_result( x, 0 ))
   outstd(chr(10));outstd(replicate("=",68))
endif

nSeconds := seconds()
nTimes := seconds()






















































































   for i:=1 to 55
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         outstd(chr(10));outstd(dsp_result( &( "t" + cNum )(), nLoopOverHead ))
      endif
   next


nTimes := seconds() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   outstd(chr(10));outstd(replicate("=",76))
   outstd(chr(10));outstd(dsp_scaleResult( "  TOTAL  ", nTimeTotST, nTimeTotMT, nMT, 0 ))
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(replicate("=",68))
endif
outstd(chr(10));outstd(dsp_result( { "total application time:", nTimes }, 0))
outstd(chr(10));outstd(dsp_result( { "total real time:", nSeconds }, 0 ))
outstd(chr(10))

remove_db()
return

function f0()
return nil

function f1(x)
return x

function f2(x)
( ( x ) )
return nil

function f3(a,b,c,d,e,f,g,h,i)
( ( a ) )
( ( b ) )
( ( c ) )
( ( d ) )
( ( e ) )
( ( f ) )
( ( g ) )
( ( h ) )
( ( i ) )
return nil

function f4()
return space(4000)

function f5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil













static func dsp_result( aResult, nLoopOverHead )

   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) +  strtran( str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif


   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) +  str( nTimeST, 6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" +  str( nTimeST / nTimeMT, 6, 2 )



static proc create_db()
   remove_db()


   dbcreate( "_tst_tmp.dbf", { {"F_C", "C", 10, 0}, {"F_N", "N", 10, 2}, {"F_D", "D",  8, 0} } )
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.F. .or. .T., !.T., NIL), .F.)  
   dbappend()
   FIELD->F_C := dtos(date()) 
   FIELD->F_N := 112345.67 
   FIELD->F_D := date() 
   dbCloseArea()
return

static proc remove_db()
   ferase( "_tst_tmp.dbf" )
return

static proc close_db()
   dbCloseArea()
return

static proc use_dbsh()
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.T. .or. .F., !.F., NIL), .F.)  
return











   function hb_mtvm()
   return .t.                 










   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall



























































































































































-------------- next part --------------
xpp /n /m /w /p /wi /wl @C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\03160807.tmp
SPEEDTST2.PRG(189:0): error XBT0200: Syntax Error
SPEEDTST2.PRG(272:0): warning XBT0105: Function t030 does not end with RETURN
SPEEDTST2.PRG(314:0): warning XBT0105: Function t041 does not end with RETURN
SPEEDTST2.PRG(340:0): warning XBT0105: Function t049 does not end with RETURN

Processing time:      0.58 secs.
From druzus at acn.waw.pl  Mon Mar 16 14:29:11 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 14:23:01 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gpm2tn$mla$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
Message-ID: <20090316182911.GA10548@uran.home.aster.pl>

On Mon, 16 Mar 2009, Angel Pais wrote:
> Still some errors left...

Thank you for test.
Now it's much better but new PP rules are still not executed like
in Clipper.
I'm attaching 3-rd version and against asking for tests.

best regards,
Przemek
-------------- next part --------------
/*
 * $Id: speedtst.prg 10578 2009-03-10 11:17:18Z druzus $
 */

/*
 * Harbour Project source code:
 *    HVM speed test program
 *
 * Copyright 2008 Przemyslaw Czerpak <druzus / at / priv.onet.pl>
 * www - http://www.harbour-project.org
 *
 */

#define N_TESTS 55
#define N_LOOPS 1000000
#define ARR_LEN 16

#ifndef __HARBOUR__
   #ifndef __XPP__
      #ifndef __CLIP__
        #define __CLIPPER__
      #endif
   #endif
#endif


#ifdef __CLIPPER__
   /* Clipper does not support multithreading */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __XPP__
   /* xBase++ version for MT performance testing is not ready yet */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __CLIP__
   /* CLIP version for MT performance testing is not ready yet */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __XHARBOUR__
   /* By default build xHarbour binaries without MT support
    * xHarbour needs separated version for MT and ST mode
    * because standard MT functions are not available in
    * ST libraries.
    */
   #ifndef __ST__
      #ifndef __MT__
         #ifndef MT
            #ifndef HB_THREAD_SUPPORT
               #define __ST__
            #endif
         #endif
      #endif
   #endif
#endif

/* by default create MT version */
#ifndef __MT__
   #ifndef __ST__
      #define __MT__
   #endif
#endif


#command ? => outstd(EOL)
#command ? <xx,...> => outstd(EOL);outstd(<xx>)
#command ?? <xx,...> => outstd(<xx>)

#include "common.ch"

#ifdef __HARBOUR__
   #define EOL hb_OSNewLine()
#else
   #define HB_SYMBOL_UNUSED( symbol )  ( ( symbol ) )
   #ifndef __CLIP__
      #xtranslate secondsCPU() => seconds()
   #endif
   #ifndef EOL
      #define EOL chr(10)
   #endif
#endif

#xcommand TEST <testfunc>           ;
          [ WITH <locals,...> ]     ;
          [ STATIC <statics,...> ]  ;
          [ FIELD  <fields,...> ]   ;
          [ MEMVAR <memvars,...> ]  ;
          [ PRIVATE <privates,...> ];
          [ PUBLIC <publics,...> ]  ;
          [ INIT <init> ]           ;
          [ EXIT <exit> ]           ;
          [ INFO <info> ]           ;
          CODE [ <testExp,...> ] => ;
   func <testfunc> ;                ;
      local time, i, x := nil ;     ;
      [ local <locals> ; ]          ;
      [ static <statics> ; ]        ;
      [ field <fields> ; ]          ;
      [ memvar <memvars> ; ]        ;
      [ private <privates> ; ]      ;
      [ public <publics> ; ]        ;
      [ <init> ; ]                  ;
      time := secondscpu() ;        ;
      for i:=1 to N_LOOPS ;         ;
         [ ( <testExp> ) ] ;        ;
      next ;                        ;
      time := secondscpu() - time ; ;
      [ <exit> ; ]                  ;
   return { procname() + ": " + iif( <.info.>, <(info)>, #<testExp> ), time }

#ifdef __HARBOUR__
proc main( ... )
   local aParams := hb_aparams()
#else
proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10, ;
           _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )
   local aParams := ;
      asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10, ;
               _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 }, ;
             min( pCount(), 20 ) )
#endif
   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054 055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else
            cExclude += strtran( strtran( strtran( substr( cParam, 11 ), ;
                        ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to N_TESTS
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         ? "Unknown option:", cParam
         ? "syntax: speedtst [--thread[=<num>]] [--only=<test(s)>] [--exclude=<test(s)>]"
         ?
         return
      endif
   next
   test( nMT, cExclude, lScale )
return


/*** TESTS ***/

TEST t000 INFO "empty loop overhead" CODE

TEST t001 WITH L_C:=dtos(date()) CODE x := L_C

TEST t002 WITH L_N:=112345.67    CODE x := L_N

TEST t003 WITH L_D:=date()       CODE x := L_D

TEST t004 STATIC s_once, S_C ;
          INIT hb_threadOnce( @s_once, {|| S_C := dtos( date() ) } ) ;
          CODE x := S_C

TEST t005 STATIC s_once, S_N ;
          INIT hb_threadOnce( @s_once, {|| S_N := 112345.67 } ) ;
          CODE x := S_N

TEST t006 STATIC s_once, S_D ;
          INIT hb_threadOnce( @s_once, {|| S_D := date() } ) ;
          CODE x := S_D

TEST t007 MEMVAR M_C ;
          PRIVATE M_C := dtos( date() ) ;
          CODE x := M_C

TEST t008 MEMVAR M_N ;
          PRIVATE M_N := 112345.67 ;
          CODE x := M_N

TEST t009 MEMVAR M_D ;
          PRIVATE M_D := date() ;
          CODE x := M_D

TEST t010 STATIC s_once ;
          MEMVAR P_C ;
          PUBLIC P_C ;
          INIT hb_threadOnce( @s_once, {|| P_C := dtos( date() ) } ) ;
          CODE x := P_C

TEST t011 STATIC s_once ;
          MEMVAR P_N ;
          PUBLIC P_N ;
          INIT hb_threadOnce( @s_once, {|| P_N := 112345.67 } ) ;
          CODE x := P_N

TEST t012 STATIC s_once ;
          MEMVAR P_D ;
          PUBLIC P_D ;
          INIT hb_threadOnce( @s_once, {|| P_D := date() } ) ;
          CODE x := P_D

TEST t013 FIELD  F_C ;
          INIT use_dbsh() EXIT close_db() ;
          CODE x := F_C

TEST t014 FIELD F_N ;
          INIT use_dbsh() EXIT close_db() ;
          CODE x := F_N

TEST t015 FIELD F_D ;
          INIT use_dbsh() EXIT close_db() ;
          CODE x := F_D

TEST t016 WITH o := errorNew() CODE x := o:Args

TEST t017 WITH o := errorNew() CODE x := o[2]

TEST t018 CODE round( i / 1000, 2 )

TEST t019 CODE str( i / 1000 )

TEST t020 WITH s := stuff( dtos( date() ), 7, 0, "." ) CODE val( s )

TEST t021 WITH a := afill( array( ARR_LEN ), ;
                           stuff( dtos( date() ), 7, 0, "." ) ) ;
          CODE val( a [ i % ARR_LEN + 1 ] )

TEST t022 WITH d := date() CODE dtos( d - i % 10000 )

TEST t023 CODE eval( { || i % ARR_LEN } )

TEST t024 WITH bc := { || i % ARR_LEN } ;
          INFO eval( bc := { || i % ARR_LEN } ) ;
          CODE eval( bc )

TEST t025 CODE eval( { |x| x % ARR_LEN }, i )

TEST t026 WITH bc := { |x| x % ARR_LEN } ;
          INFO eval( bc := { |x| x % ARR_LEN }, i ) ;
          CODE eval( bc, i )

TEST t027 CODE eval( { |x| f1( x ) }, i )

TEST t028 WITH bc := { |x| f1( x ) } ;
          INFO eval( bc := { |x| f1( x ) }, i ) ;
          CODE eval( bc, i )

TEST t029 CODE x := &( "f1(" + str(i) + ")" )

TEST t030 WITH bc CODE bc := &( "{|x|f1(x)}" ), eval( bc, i )

TEST t031 CODE x := valtype( x ) +  valtype( i )

TEST t032 WITH a := afill( array( ARR_LEN ), ;
                           stuff( dtos( date() ), 7, 0, "." ) ) ;
          CODE x := strzero( i % 100, 2 ) $ a[ i % ARR_LEN + 1 ]

TEST t033 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] == s

TEST t034 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] = s

TEST t035 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] >= s

TEST t036 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] <= s

TEST t037 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] < s

TEST t038 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] > s

TEST t039 WITH a := array( ARR_LEN ) ;
          INIT aeval( a, { |x,i| a[i] := i, x } ) ;
          CODE ascan( a, i % ARR_LEN )

TEST t040 WITH a := array( ARR_LEN ) ;
          INIT aeval( a, { |x,i| a[i] := i, x } ) ;
          CODE ascan( a, { |x| x == i % ARR_LEN } )

TEST t041 WITH a := {}, a2 := { 1, 2, 3 }, bc := { |x| f1(x) }, ;
               s := dtos( date() ), s2 := "static text" ;
          CODE iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.t.,s,s2,a2,bc})

TEST t042 WITH a := {} CODE x := a

TEST t043 CODE x := {}

TEST t044 CODE f0()

TEST t045 CODE f1( i )

TEST t046 WITH c := dtos( date() ) ;
          INFO f2( c[1...8] ) ;
          CODE f2( c )

TEST t047 WITH c := repl( dtos( date() ), 5000 ) ;
          INFO f2( c[1...40000] ) ;
          CODE f2( c )

TEST t048 WITH c := repl( dtos( date() ), 5000 ) ;
          INFO f2( @c[1...40000] ) ;
          CODE f2( c )

TEST t049 WITH c := repl( dtos( date() ),5000 ), c2 ;
          INFO "f2( @c[1...40000] ), c2 := c" ;
          CODE f2( @c ), c2 := c

TEST t050 WITH a := {}, a2 := { 1, 2, 3 }, bc := { |x| f1(x) }, ;
               s := dtos( date() ), s2 := "static text", n := 1.23 ;
          CODE f3( a, a2, s, i, s2, bc, i, n, x )

TEST t051 WITH a := { 1, 2, 3 } CODE f2( a )

TEST t052 CODE x := f4()

TEST t053 CODE x := f5()

TEST t054 CODE x := space(16)

TEST t055 WITH c := dtos( date() ) CODE f_prv( c )

/*** end of tests ***/


#ifdef __MT__

function thTest( mtxJobs, aResults )
   local xJob
   while .T.
      hb_mutexSubscribe( mtxJobs,, @xJob )
      if xJob == NIL
         exit
      endif
      aResults[ xJob ] := &( "t" + strzero( xJob, 3 ) )()
   enddo
return nil

function thTestScale( mtxJobs, mtxResults )
   local xJob
   while .T.
      hb_mutexSubscribe( mtxJobs,, @xJob )
      if xJob == NIL
         exit
      endif
      hb_mutexNotify( mtxResults, &( "t" + strzero( xJob, 3 ) )() )
   enddo
return nil

#endif


proc test( nMT, cExclude, lScale )
local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults, ;
      mtxJobs, mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT, ;
      cTest, x, i, j

create_db()

#ifdef __HARBOUR__
   #include "hbmemory.ch"
      if MEMORY( HB_MEM_USEDMAX ) != 0
      ? "Warning !!! Memory statistic enabled."
      ?
   endif
#endif

//? "Startup loop to increase CPU clock..."
//x := seconds() + 5; while x > seconds(); enddo

if !hb_mtvm()
   if lScale
      ? "scale test available only in MULTI THREAD mode"
      ?
      return
   endif
   if nMT != 0
      ? "SINGLE THREAD mode, number of threads set to 0"
      nMT := 0
   endif
endif
? date(), time(), os()
? version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0, "+", "" ), "" ), ""
#ifdef __HARBOUR__
   ?? hb_compiler()
#endif

if lScale .and. nMT < 1
   nMT := 1
endif

? "THREADS:", iif( nMT < 0, "all->" + ltrim( str( N_TESTS ) ), ltrim( str( nMT ) ) )
? "N_LOOPS:", ltrim( str( N_LOOPS ) )
if !empty( cExclude )
   ? "excluded tests:", cExclude
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   ? space(56) + "1 th." + str(nMT,3) + " th.  factor"
   ? replicate("=",76)
else
   ? dsp_result( x, 0 )
   ? replicate("=",68)
endif

nSeconds := seconds()
nTimes := secondsCPU()

#ifdef __MT__
   if lScale
      mtxJobs := hb_mutexCreate()
      mtxResults := hb_mutexCreate()
      nTimeTotST := nTimeTotMT := 0
      for i:=1 to nMT
         hb_threadStart( "thTestScale", mtxJobs, mtxResults )
      next
      for i:=1 to N_TESTS
         cTest := strzero( i, 3 )
         if !cTest $ cExclude

            /* linear execution */
            nTimeST := seconds()
            for j:=1 to nMT
               hb_mutexNotify( mtxJobs, i )
               hb_mutexSubscribe( mtxResults,, @x )
               cTest := x[1]
            next
            nTimeST := seconds() - nTimeST
            nTimeTotST += nTimeST

            /* simultaneous execution */
            nTimeMT := seconds()
            for j:=1 to nMT
               hb_mutexNotify( mtxJobs, i )
            next
            for j:=1 to nMT
               hb_mutexSubscribe( mtxResults,, @x )
               cTest := x[1]
            next
            nTimeMT := seconds() - nTimeMT
            nTimeTotMT += nTimeMT

            ? dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
         endif

      next
      for i:=1 to nMT
         hb_mutexNotify( mtxJobs, NIL )
      next
      hb_threadWaitForAll()
   elseif nMT < 0
      aThreads := array( N_TESTS )
      for i:=1 to N_TESTS
         cNum := strzero( i, 3 )
         if !cNum $ cExclude
            aThreads[ i ] := hb_threadStart( "t" + cNum )
         endif
      next
      for i:=1 to N_TESTS
         if aThreads[ i ] != NIL .and. hb_threadJoin( aThreads[ i ], @x )
            ? dsp_result( x, nLoopOverHead )
         endif
      next
   elseif nMT > 0
      aResults := array( N_TESTS )
      mtxJobs := hb_mutexCreate()
      for i:=1 to nMT
         hb_threadStart( "thTest", mtxJobs, aResults )
      next
      for i:=1 to N_TESTS
         if !strzero( i, 3 ) $ cExclude
            hb_mutexNotify( mtxJobs, i )
         endif
      next
      for i:=1 to nMT
         hb_mutexNotify( mtxJobs, NIL )
      next
      hb_threadWaitForAll()
      for i:=1 to N_TESTS
         if aResults[ i ] != NIL
            ? dsp_result( aResults[ i ], nLoopOverHead )
         endif
      next
      mtxJobs := NIL
   else
      for i:=1 to N_TESTS
         cNum := strzero( i, 3 )
         if !cNum $ cExclude
            ? dsp_result( &( "t" + cNum )(), nLoopOverHead )
         endif
      next
   endif
#else
   for i:=1 to N_TESTS
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         ? dsp_result( &( "t" + cNum )(), nLoopOverHead )
      endif
   next
#endif

nTimes := secondsCPU() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   ? replicate("=",76)
   ? dsp_scaleResult( "  TOTAL  ", nTimeTotST, nTimeTotMT, nMT, 0 )
   ? replicate("=",76)
else
   ? replicate("=",68)
endif
? dsp_result( { "total application time:", nTimes }, 0)
? dsp_result( { "total real time:", nSeconds }, 0 )
?

remove_db()
return

function f0()
return nil

function f1(x)
return x

function f2(x)
HB_SYMBOL_UNUSED( x )
return nil

function f3(a,b,c,d,e,f,g,h,i)
HB_SYMBOL_UNUSED( a )
HB_SYMBOL_UNUSED( b )
HB_SYMBOL_UNUSED( c )
HB_SYMBOL_UNUSED( d )
HB_SYMBOL_UNUSED( e )
HB_SYMBOL_UNUSED( f )
HB_SYMBOL_UNUSED( g )
HB_SYMBOL_UNUSED( h )
HB_SYMBOL_UNUSED( i )
return nil

function f4()
return space(4000)

function f5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil

/*
function f_pub(x)
   memvar PUB_C
   public PUB_C := x
return nil

function f_stat(x)
   static STAT_C
   STAT_C := x
return nil
*/

static func dsp_result( aResult, nLoopOverHead )
   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) + ;
          strtran( str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif
   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) + ;
          str( nTimeST, 6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" + ;
          str( nTimeST / nTimeMT, 6, 2 )


#define TMP_FILE "_tst_tmp.dbf"
static proc create_db()
   remove_db()
   dbcreate( TMP_FILE, { {"F_C", "C", 10, 0},;
                         {"F_N", "N", 10, 2},;
                         {"F_D", "D",  8, 0} } )
   use TMP_FILE exclusive
   dbappend()
   replace F_C with dtos(date())
   replace F_N with 112345.67
   replace F_D with date()
   close
return

static proc remove_db()
   ferase( TMP_FILE )
return

static proc close_db()
   close
return

static proc use_dbsh()
   use TMP_FILE shared
return


#ifdef __CLIPPER__
   function hb_mtvm()
   return .f.                 /* Clipper does not support MT */
#endif
#ifdef __CLIP__
   function hb_mtvm()
   return .t.                 /* CLIP always uses VM with MT support */
#endif
#ifdef __XPP__
   function hb_mtvm()
   return .t.                 /* xBase++ always uses VM with MT support */
#endif
#ifdef __XHARBOUR__
   function hb_mtvm()
   return hb_multiThread()    /* check for MT support in xHarbour VM */
#endif


#ifndef __MT__

   /* trivial single thread version of once execution */
   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall

#else

   /* Add support for MT functions for used compiler
    */

#ifdef __XHARBOUR__

   /* do not expect that this code will work with xHarbour.
    * xHarbour has many race conditions which are exploited quite fast
    * on real multi CPU machines so it crashes in different places :-(
    * probably this code should be forwared to xHarbour developers as
    * some type of MT test
    */

   /* this define is only to test if emulation function works
    * without running real test which causes that xHarbour crashes
    */
   //#define _DUMY_XHB_TEST_


   function hb_mutexSubscribe( mtx, nTimeOut, xSubscribed )
      local lSubscribed
      if valtype( nTimeOut ) == "N"
         nTimeOut := round( nTimeOut * 1000, 0 )
         xSubscribed := Subscribe( mtx, nTimeOut, @lSubscribed )
      else
         xSubscribed := Subscribe( mtx )
         lSubscribed := .t.
      endif
   return lSubscribed

   function hb_mutexNotify( mtx, xValue )
      Notify( mtx, xValue )
   return nil

   /* in xHarbour there is race condition in JoinThread() which
    * fails if thread end before we call it so we cannot use it :-(
    * this code tries to simulate it and also add support for thread
    * return value
    */

   function hb_threadStart( ... )
      local thId
      thId := StartThread( @threadFirstFunc(), hb_aParams() )
      /* Just like in JoinThread() the same race condition exists in
       * GetThreadId() so we will use HVM thread numbers internally
       */
#ifdef _DUMY_XHB_TEST_
   return val( substr( hb_aParams()[1], 2 ) )
#else
   return GetThreadId( thId )
#endif

   function hb_threadJoin( thId, xResult )
      xResult := results( thId )
   return .t.

   static function threadFirstFunc( aParams )
      local xResult
#ifdef _DUMY_XHB_TEST_
      xResult := { "skipped test " + aParams[1], val( substr( aParams[1], 2 ) ) + 0.99 }
      results( val( substr( aParams[1], 2 ) ), xResult )
#else
      xResult := hb_execFromArray( aParams )
      results( GetThreadId(), xResult )
#endif
   return nil

   static function results( nThread, xResult )
      static s_aResults
      static s_mutex
      if s_aResults == nil
         s_aResults := HSetAutoAdd( hash(), .t. )
         s_mutex := hb_mutexCreate()
      endif
      if pcount() < 2
         while ! nThread $ s_aResults
            Subscribe( s_mutex, 1000 )
         enddo
         xResult := s_aResults[ nThread ]
      else
         s_aResults[ nThread ] := xResult
         /* We cannot use NotifyAll() here because it will create
          * race condition. In this program only one thread join
          * results so we can use simple Notify() as workaround
          */
         //NotifyAll( s_mutex )
         Notify( s_mutex )
      endif
   return xResult

   function hb_threadWaitForAll()
      WaitForThreads()
   return nil

   function hb_threadOnce( xOnceControl, bAction )
      static s_mutex
      local lFirstCall := .f.
      if s_mutex == NIL
         s_mutex := hb_mutexCreate()
      endif
      if xOnceControl == NIL
         hb_mutexLock( s_mutex )
         if xOnceControl == NIL
            if bAction != NIL
               eval( bAction )
            endif
            xOnceControl := .t.
            lFirstCall := .t.
         endif
         hb_mutexUnlock( s_mutex )
      endif
   return lFirstCall

   init proc once_init()
      /* set workareas local to thread */
      set workarea private
      /* initialize mutex in hb_trheadDoOnce() */
      hb_threadOnce()
      /* initialize error object to reduce possible crashes when two
       * threads will try to create new error class simultaneously.
       * xHarbour does not have any protection against such situation
       */
      errorNew()
   return

#endif /* __XHARBOUR__ */


/*
   function hb_threadStart( cFunc, xPar1, xPar2, xPar3 )
   return nil

   function hb_threadJoin( thId, xResult )
   return nil

   function hb_mutexCreate()
   return nil

   function hb_mutexSubscribe()
   return nil
   function hb_mutexLock()
   return nil
   function hb_mutexUnlock()
   return nil
   function hb_mutexNotify()
   return nil
   function hb_threadWaitForAll()
   return nil
   function hb_mtvm()
   return .f.
*/

#endif
From amigosam at adinet.com.uy  Mon Mar 16 14:40:44 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 14:41:02 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316182911.GA10548@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
Message-ID: <gpm6f6$4t0$1@ger.gmane.org>

getting close !!

Przemyslaw Czerpak escribi?:
> On Mon, 16 Mar 2009, Angel Pais wrote:
>> Still some errors left...
> 
> Thank you for test.
> Now it's much better but new PP rules are still not executed like
> in Clipper.
> I'm attaching 3-rd version and against asking for tests.
> 
> best regards,
> Przemek
> 

-------------- next part --------------
#line 1 "\ALASKA\XPPW32\INCLUDE\STD.CH"@"STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Set.ch"@"Set.ch" 
#line 1 "\ALASKA\XPPW32\INCLUDE\natmsg.ch"@"natmsg.ch" 
#line 18 "\ALASKA\XPPW32\INCLUDE\Set.ch" 
#line 37 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Get.ch"@"Get.ch" 
#line 42 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Prompt.ch"@"Prompt.ch" 
#line 47 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\Memvar.ch"@"Memvar.ch" 
#line 53 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "\ALASKA\XPPW32\INCLUDE\collat.ch"@"collat.ch" 
#line 58 "\ALASKA\XPPW32\INCLUDE\STD.CH" 
#line 1 "SPEEDTST3.PRG" 
#line 1 "\ALASKA\XPPW32\INCLUDE\common.ch"@"common.ch" 
#line 77 "SPEEDTST3.PRG" 














































proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )



   local aParams :=  asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 },  min( pCount(), 20 ) )

   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054 055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else

            cExclude += strtran( strtran( strtran( substr( cParam, 11 ),  ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to 55
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         outstd(chr(10));outstd("Unknown option:",cParam)
         outstd(chr(10));outstd("syntax: speedtst [--thread[=<num>]] [--only=<test(s)>] [--exclude=<test(s)>]")
         outstd(chr(10))
         return
      endif
   next
   test( nMT, cExclude, lScale )
return




func t000 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "empty loop overhead", "" ), time }

func t001 ;local time, i, x := nil ;local  L_C:=dtos(date()) ;time := seconds() ;for i:=1 to 1000000 ;(  x := L_C )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_C" ), time }

func t002 ;local time, i, x := nil ;local  L_N:=112345.67 ;time := seconds() ;for i:=1 to 1000000 ;(  x := L_N )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_N" ), time }

func t003 ;local time, i, x := nil ;local  L_D:=date() ;time := seconds() ;for i:=1 to 1000000 ;(  x := L_D )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := L_D" ), time }



func t004 ;local time, i, x := nil ;static  s_once,S_C ;hb_threadOnce( @s_once, {|| S_C := dtos( date() ) } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := S_C )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := S_C" ), time }



func t005 ;local time, i, x := nil ;static  s_once,S_N ;hb_threadOnce( @s_once, {|| S_N := 112345.67 } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := S_N )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := S_N" ), time }



func t006 ;local time, i, x := nil ;static  s_once,S_D ;hb_threadOnce( @s_once, {|| S_D := date() } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := S_D )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := S_D" ), time }



func t007 ;local time, i, x := nil ;memvar  M_C ;private  M_C := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := M_C )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := M_C" ), time }



func t008 ;local time, i, x := nil ;memvar  M_N ;private  M_N := 112345.67 ;time := seconds() ;for i:=1 to 1000000 ;(  x := M_N )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := M_N" ), time }



func t009 ;local time, i, x := nil ;memvar  M_D ;private  M_D := date() ;time := seconds() ;for i:=1 to 1000000 ;(  x := M_D )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := M_D" ), time }





func t010 ;local time, i, x := nil ;static  s_once ;memvar  P_C ;public  P_C ;hb_threadOnce( @s_once, {|| P_C := dtos( date() ) } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := P_C )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := P_C" ), time }





func t011 ;local time, i, x := nil ;static  s_once ;memvar  P_N ;public  P_N ;hb_threadOnce( @s_once, {|| P_N := 112345.67 } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := P_N )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := P_N" ), time }





func t012 ;local time, i, x := nil ;static  s_once ;memvar  P_D ;public  P_D ;hb_threadOnce( @s_once, {|| P_D := date() } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := P_D )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := P_D" ), time }



func t013 ;local time, i, x := nil ;field  F_C ;use_dbsh() ;time := seconds() ;for i:=1 to 1000000 ;(  x := F_C )  ;next ;time := seconds() - time ;close_db() ;return { procname() + ": " + iif( .F., , "x := F_C" ), time }



func t014 ;local time, i, x := nil ;field  F_N ;use_dbsh() ;time := seconds() ;for i:=1 to 1000000 ;(  x := F_N )  ;next ;time := seconds() - time ;close_db() ;return { procname() + ": " + iif( .F., , "x := F_N" ), time }



func t015 ;local time, i, x := nil ;field  F_D ;use_dbsh() ;time := seconds() ;for i:=1 to 1000000 ;(  x := F_D )  ;next ;time := seconds() - time ;close_db() ;return { procname() + ": " + iif( .F., , "x := F_D" ), time }

func t016 ;local time, i, x := nil ;local  o := errorNew() ;time := seconds() ;for i:=1 to 1000000 ;(  x := o:Args )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := o:Args" ), time }

func t017 ;local time, i, x := nil ;local  o := errorNew() ;time := seconds() ;for i:=1 to 1000000 ;(  x := o[2] )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := o[2]" ), time }

func t018 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  round( i / 1000, 2 ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "round( i / 1000, 2 )" ), time }

func t019 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  str( i / 1000 ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "str( i / 1000 )" ), time }

func t020 ;local time, i, x := nil ;local  s := stuff( dtos( date() ), 7, 0, "." ) ;time := seconds() ;for i:=1 to 1000000 ;(  val( s ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "val( s )" ), time }



func t021 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff( dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;(  val( a [ i % 16 + 1 ] ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "val( a [ i % 16 + 1 ] )" ), time }

func t022 ;local time, i, x := nil ;local  d := date() ;time := seconds() ;for i:=1 to 1000000 ;(  dtos( d - i % 10000 ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "dtos( d - i % 10000 )" ), time }

func t023 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  eval( { || i % 16 } ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { || i % 16 } )" ), time }



func t024 ;local time, i, x := nil ;local  bc := { || i % 16 } ;time := seconds() ;for i:=1 to 1000000 ;(  eval( bc ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { || i % 16 } )", "eval( bc )" ), time }

func t025 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  eval( { |x| x % 16 }, i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { |x| x % 16 }, i )" ), time }



func t026 ;local time, i, x := nil ;local  bc := { |x| x % 16 } ;time := seconds() ;for i:=1 to 1000000 ;(  eval( bc, i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { |x| x % 16 }, i )", "eval( bc, i )" ), time }

func t027 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  eval( { |x| f1( x ) }, i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "eval( { |x| f1( x ) }, i )" ), time }



func t028 ;local time, i, x := nil ;local  bc := { |x| f1( x ) } ;time := seconds() ;for i:=1 to 1000000 ;(  eval( bc, i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "eval( bc := { |x| f1( x ) }, i )", "eval( bc, i )" ), time }

func t029 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  x := &( "f1(" + str(i) + ")" ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , 'x := &( "f1(" + str(i) + ")" )' ), time }

func t030 ;local time, i, x := nil ;local  bc ;time := seconds() ;for i:=1 to 1000000 ;(  bc := &( "{|x|f1(x)}" ),eval( bc, i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , 'bc := &( "{|x|f1(x)}" ), eval( bc, i )' ), time }

func t031 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  x := valtype( x ) +  valtype( i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := valtype( x ) +  valtype( i )" ), time }



func t032 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff( dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ]" ), time }



func t033 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := a[ i % 16 + 1 ] == s )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] == s" ), time }



func t034 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := a[ i % 16 + 1 ] = s )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] = s" ), time }



func t035 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := a[ i % 16 + 1 ] >= s )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] >= s" ), time }



func t036 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := a[ i % 16 + 1 ] <= s )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] <= s" ), time }



func t037 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := a[ i % 16 + 1 ] < s )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] < s" ), time }



func t038 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos( date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  x := a[ i % 16 + 1 ] > s )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 + 1 ] > s" ), time }



func t039 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, { |x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  ascan( a, i % 16 ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "ascan( a, i % 16 )" ), time }



func t040 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, { |x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;(  ascan( a, { |x| x == i % 16 } ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "ascan( a, { |x| x == i % 16 } )" ), time }



func t041 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := { |x| f1(x) },s := dtos( date() ),s2 := "static text" ;time := seconds() ;for i:=1 to 1000000 ;(  iif( i%1000==0, a:={}, ),aadd(a,{i,1,.t.,s,s2,a2,bc}) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2,bc})" ), time }

func t042 ;local time, i, x := nil ;local  a := {} ;time := seconds() ;for i:=1 to 1000000 ;(  x := a )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := a" ), time }

func t043 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  x := {} )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := {}" ), time }

func t044 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  f0() )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f0()" ), time }

func t045 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  f1( i ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f1( i )" ), time }



func t046 ;local time, i, x := nil ;local  c := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;(  f2( c ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( c[1...8] )", "f2( c )" ), time }



func t047 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 ) ;time := seconds() ;for i:=1 to 1000000 ;(  f2( c ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( c[1...40000] )", "f2( c )" ), time }



func t048 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 ) ;time := seconds() ;for i:=1 to 1000000 ;(  f2( c ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( @c[1...40000] )", "f2( c )" ), time }



func t049 ;local time, i, x := nil ;local  c := repl( dtos( date() ),5000 ),c2 ;time := seconds() ;for i:=1 to 1000000 ;(  f2( @c ),c2 := c )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .T., "f2( @c[1...40000] ), c2 := c", "f2( @c ), c2 := c" ), time }



func t050 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := { |x| f1(x) },s := dtos( date() ),s2 := "static text",n := 1.23 ;time := seconds() ;for i:=1 to 1000000 ;(  f3( a, a2, s, i, s2, bc, i, n, x ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f3( a, a2, s, i, s2, bc, i, n, x )" ), time }

func t051 ;local time, i, x := nil ;local  a := { 1, 2, 3 } ;time := seconds() ;for i:=1 to 1000000 ;(  f2( a ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f2( a )" ), time }

func t052 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  x := f4() )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := f4()" ), time }

func t053 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  x := f5() )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := f5()" ), time }

func t054 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000 ;(  x := space(16) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "x := space(16)" ), time }

func t055 ;local time, i, x := nil ;local  c := dtos( date() ) ;time := seconds() ;for i:=1 to 1000000 ;(  f_prv( c ) )  ;next ;time := seconds() - time ;return { procname() + ": " + iif( .F., , "f_prv( c )" ), time }































proc test( nMT, cExclude, lScale )


local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults,  mtxJobs, mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT,  cTest, x, i, j

create_db()












if !hb_mtvm()
   if lScale
      outstd(chr(10));outstd("scale test available only in MULTI THREAD mode")
      outstd(chr(10))
      return
   endif
   if nMT != 0
      outstd(chr(10));outstd("SINGLE THREAD mode, number of threads set to 0")
      nMT := 0
   endif
endif
outstd(chr(10));outstd(date(),time(),os())
outstd(chr(10));outstd(version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0, "+", "" ), "" ),"")




if lScale .and. nMT < 1
   nMT := 1
endif

outstd(chr(10));outstd("THREADS:",iif( nMT < 0, "all->" + ltrim( str( 55 ) ), ltrim( str( nMT ) ) ))
outstd(chr(10));outstd("N_LOOPS:",ltrim( str( 1000000 ) ))
if !empty( cExclude )
   outstd(chr(10));outstd("excluded tests:",cExclude)
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   outstd(chr(10));outstd(space(56) + "1 th." + str(nMT,3) + " th.  factor")
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(dsp_result( x, 0 ))
   outstd(chr(10));outstd(replicate("=",68))
endif

nSeconds := seconds()
nTimes := seconds()






















































































   for i:=1 to 55
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         outstd(chr(10));outstd(dsp_result( &( "t" + cNum )(), nLoopOverHead ))
      endif
   next


nTimes := seconds() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   outstd(chr(10));outstd(replicate("=",76))
   outstd(chr(10));outstd(dsp_scaleResult( "  TOTAL  ", nTimeTotST, nTimeTotMT, nMT, 0 ))
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(replicate("=",68))
endif
outstd(chr(10));outstd(dsp_result( { "total application time:", nTimes }, 0))
outstd(chr(10));outstd(dsp_result( { "total real time:", nSeconds }, 0 ))
outstd(chr(10))

remove_db()
return

function f0()
return nil

function f1(x)
return x

function f2(x)
( ( x ) )
return nil

function f3(a,b,c,d,e,f,g,h,i)
( ( a ) )
( ( b ) )
( ( c ) )
( ( d ) )
( ( e ) )
( ( f ) )
( ( g ) )
( ( h ) )
( ( i ) )
return nil

function f4()
return space(4000)

function f5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil













static func dsp_result( aResult, nLoopOverHead )

   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) +  strtran( str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif


   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) +  str( nTimeST, 6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" +  str( nTimeST / nTimeMT, 6, 2 )



static proc create_db()
   remove_db()


   dbcreate( "_tst_tmp.dbf", { {"F_C", "C", 10, 0}, {"F_N", "N", 10, 2}, {"F_D", "D",  8, 0} } )
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.F. .or. .T., !.T., NIL), .F.)  
   dbappend()
   FIELD->F_C := dtos(date()) 
   FIELD->F_N := 112345.67 
   FIELD->F_D := date() 
   dbCloseArea()
return

static proc remove_db()
   ferase( "_tst_tmp.dbf" )
return

static proc close_db()
   dbCloseArea()
return

static proc use_dbsh()
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.T. .or. .F., !.F., NIL), .F.)  
return











   function hb_mtvm()
   return .t.                 










   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall



























































































































































-------------- next part --------------
xpp /n /m /w /p /wi /wl @C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\03166601.tmp
SPEEDTST3.PRG(197:0): warning XBT0121: STATIC variable s_once may not have been set before first use
SPEEDTST3.PRG(201:0): warning XBT0121: STATIC variable s_once may not have been set before first use
SPEEDTST3.PRG(205:0): warning XBT0121: STATIC variable s_once may not have been set before first use
SPEEDTST3.PRG(209:0): warning XBT0114: Usage of dynamic scoped variable M_C
SPEEDTST3.PRG(213:0): warning XBT0114: Usage of dynamic scoped variable M_N
SPEEDTST3.PRG(217:0): warning XBT0114: Usage of dynamic scoped variable M_D
SPEEDTST3.PRG(223:0): warning XBT0121: STATIC variable s_once may not have been set before first use
SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C
SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C
SPEEDTST3.PRG(229:0): warning XBT0121: STATIC variable s_once may not have been set before first use
SPEEDTST3.PRG(229:0): warning XBT0114: Usage of dynamic scoped variable P_N
SPEEDTST3.PRG(229:0): warning XBT0114: Usage of dynamic scoped variable P_N
SPEEDTST3.PRG(235:0): warning XBT0121: STATIC variable s_once may not have been set before first use
SPEEDTST3.PRG(235:0): warning XBT0114: Usage of dynamic scoped variable P_D
SPEEDTST3.PRG(235:0): warning XBT0114: Usage of dynamic scoped variable P_D
SPEEDTST3.PRG(269:0): warning XBT0120: LOCAL variable i may not have been set before first use
SPEEDTST3.PRG(554:0): warning XBT0120: LOCAL variable nTimeTotST may not have been set before first use
SPEEDTST3.PRG(554:0): warning XBT0120: LOCAL variable nTimeTotMT may not have been set before first use
SPEEDTST3.PRG(573:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(577:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(578:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(579:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(580:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(581:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(582:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(583:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(584:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(585:0): error XBT0250: Incomplete expression
SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C
SPEEDTST3.PRG(229:0): warning XBT0114: Usage of dynamic scoped variable P_N
SPEEDTST3.PRG(235:0): warning XBT0114: Usage of dynamic scoped variable P_D

Processing time:      0.53 secs.
From harbour.01 at syenar.hu  Mon Mar 16 15:02:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 15:02:38 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316182911.GA10548@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
Message-ID: <18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>

After fixing the HB_SYMBOL_UNUSED() issue in XPP and
making T017 equivalent to T016 (there is no array access of
objects in XPP), here are the results:

03/16/2009 19:56:03 Windows XP 05.01 Build 02600 Service Pack 3
Xbase++ (R) Version 1.90 (MT)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.04
[ T002: x := L_N ]..............................................0.01
[ T003: x := L_D ]..............................................0.01
[ T004: x := S_C ]..............................................0.07
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.05
[ T007: x := M_C ]..............................................0.27
[ T008: x := M_N ]..............................................0.19
[ T009: x := M_D ]..............................................0.17
[ T010: x := P_C ]..............................................0.25
[ T011: x := P_N ]..............................................0.21
[ T012: x := P_D ]..............................................0.19
[ T013: x := F_C ]..............................................0.38
[ T014: x := F_N ]..............................................0.33
[ T015: x := F_D ]..............................................0.29
[ T016: x := o:Args ]...........................................0.24
[ T017: x := o:Args ]...........................................0.22
[ T018: round( i / 1000, 2 ) ]..................................1.55
[ T019: str( i / 1000 ) ].......................................9.97
[ T020: val( s ) ]..............................................0.44
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.07
[ T022: dtos( d - i % 10000 ) ].................................1.50
[ T023: eval( { || i % 16 } ) ].................................1.53
[ T024: eval( bc := { || i % 16 } ) ]...........................0.98
[ T025: eval( { |x| x % 16 }, i ) ].............................0.66
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.57
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.86
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.72
[ T029: x := &( "f1(" + str(i) + ")" ) ].......................25.50
[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............25.70
[ T031: x := valtype( x ) +  valtype( i ) ].....................0.46
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.31
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.39
[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.60
[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.56
[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.58
[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.61
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.58
[ T039: ascan( a, i % 16 ) ]....................................0.99
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.86
[ T041: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....9.00
[ T042: x := a ]................................................0.01
[ T043: x := {} ]...............................................0.52
[ T044: f0() ]..................................................0.14
[ T045: f1( i ) ]...............................................0.30
[ T046: f2( c[1...8] ) ]........................................0.22
[ T047: f2( c[1...40000] ) ]....................................0.22
[ T048: f2( @c[1...40000] ) ]...................................0.22
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.25
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.33
[ T051: f2( a ) ]...............................................0.19
[ T052: x := f4() ].............................................1.27
[ T053: x := f5() ].............................................0.61
[ T054: x := space(16) ]........................................0.41
[ T055: f_prv( c ) ]............................................0.72
====================================================================
[ total application time: ]...................................112.04
[ total real time: ]..........................................112.04


03/16/09 20:00:22 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10601) (MT) Microsoft Visual C 14.0.24999 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.08
====================================================================
[ T001: x := L_C ]..............................................0.20
[ T002: x := L_N ]..............................................0.09
[ T003: x := L_D ]..............................................0.11
[ T004: x := S_C ]..............................................0.19
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.05
[ T007: x := M_C ]..............................................0.20
[ T008: x := M_N ]..............................................0.11
[ T009: x := M_D ]..............................................0.09
[ T010: x := P_C ]..............................................0.20
[ T011: x := P_N ]..............................................0.09
[ T012: x := P_D ]..............................................0.09
[ T013: x := F_C ]..............................................0.50
[ T014: x := F_N ]..............................................0.36
[ T015: x := F_D ]..............................................0.19
[ T016: x := o:Args ]...........................................0.38
[ T017: x := o[2] ].............................................0.31
[ T018: round( i / 1000, 2 ) ]..................................0.50
[ T019: str( i / 1000 ) ].......................................1.06
[ T020: val( s ) ]..............................................0.52
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.02
[ T022: dtos( d - i % 10000 ) ].................................1.05
[ T023: eval( { || i % 16 } ) ].................................1.50
[ T024: eval( bc := { || i % 16 } ) ]...........................0.56
[ T025: eval( { |x| x % 16 }, i ) ].............................1.02
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.64
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.16
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.72
[ T029: x := &( "f1(" + str(i) + ")" ) ]........................7.50
[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............10.11
[ T031: x := valtype( x ) +  valtype( i ) ].....................1.02
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.84
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.97
[ T034: x := a[ i % 16 + 1 ] = s ]..............................1.00
[ T035: x := a[ i % 16 + 1 ] >= s ].............................1.02
[ T036: x := a[ i % 16 + 1 ] <= s ].............................1.00
[ T037: x := a[ i % 16 + 1 ] < s ]..............................1.02
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.98
[ T039: ascan( a, i % 16 ) ]....................................0.70
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.52
[ T041: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.88
[ T042: x := a ]................................................0.20
[ T043: x := {} ]...............................................0.63
[ T044: f0() ]..................................................0.28
[ T045: f1( i ) ]...............................................0.39
[ T046: f2( c[1...8] ) ]........................................0.38
[ T047: f2( c[1...40000] ) ]....................................0.39
[ T048: f2( @c[1...40000] ) ]...................................0.39
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.45
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.09
[ T051: f2( a ) ]...............................................0.38
[ T052: x := f4() ].............................................1.70
[ T053: x := f5() ].............................................0.75
[ T054: x := space(16) ]........................................0.61
[ T055: f_prv( c ) ]............................................1.36
====================================================================
[ total application time: ]....................................62.91
[ total real time: ]...........................................63.50

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/9629baf8/attachment-0001.html
From harbour.01 at syenar.hu  Mon Mar 16 15:11:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 15:11:35 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
Message-ID: <18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>

To be fair with Harbour, here are the Harbour results repeated with -gc3
(XPP always uses such mode).

03/16/09 20:04:46 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10601) (MT) Microsoft Visual C 14.0.24999 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.16
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.16
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.06
[ T007: x := M_C ]..............................................0.17
[ T008: x := M_N ]..............................................0.06
[ T009: x := M_D ]..............................................0.08
[ T010: x := P_C ]..............................................0.17
[ T011: x := P_N ]..............................................0.06
[ T012: x := P_D ]..............................................0.08
[ T013: x := F_C ]..............................................0.48
[ T014: x := F_N ]..............................................0.31
[ T015: x := F_D ]..............................................0.17
[ T016: x := o:Args ]...........................................0.31
[ T017: x := o[2] ].............................................0.22
[ T018: round( i / 1000, 2 ) ]..................................0.30
[ T019: str( i / 1000 ) ].......................................0.94
[ T020: val( s ) ]..............................................0.47
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.80
[ T022: dtos( d - i % 10000 ) ].................................0.92
[ T023: eval( { || i % 16 } ) ].................................1.42
[ T024: eval( bc := { || i % 16 } ) ]...........................0.53
[ T025: eval( { |x| x % 16 }, i ) ].............................0.97
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.50
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.95
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.53
[ T029: x := &( "f1(" + str(i) + ")" ) ]........................7.05
[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................8.67
[ T031: x := valtype( x ) +  valtype( i ) ].....................0.86
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.52
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.69
[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.75
[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.75
[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.75
[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.75
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.73
[ T039: ascan( a, i % 16 ) ]....................................0.52
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.05
[ T041: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.30
[ T042: x := a ]................................................0.17
[ T043: x := {} ]...............................................0.58
[ T044: f0() ]..................................................0.14
[ T045: f1( i ) ]...............................................0.16
[ T046: f2( c[1...8] ) ]........................................0.23
[ T047: f2( c[1...40000] ) ]....................................0.25
[ T048: f2( @c[1...40000] ) ]...................................0.25
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.30
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.80
[ T051: f2( a ) ]...............................................0.27
[ T052: x := f4() ].............................................1.48
[ T053: x := f5() ].............................................0.64
[ T054: x := space(16) ]........................................0.55
[ T055: f_prv( c ) ]............................................1.14
====================================================================
[ total application time: ]....................................51.05
[ total real time: ]...........................................51.56


On Mon, Mar 16, 2009 at 8:02 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> After fixing the HB_SYMBOL_UNUSED() issue in XPP and
> making T017 equivalent to T016 (there is no array access of
> objects in XPP), here are the results:
>
> 03/16/2009 19:56:03 Windows XP 05.01 Build 02600 Service Pack 3
> Xbase++ (R) Version 1.90 (MT)
> THREADS: 0
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.03
> ====================================================================
> [ T001: x := L_C ]..............................................0.04
> [ T002: x := L_N ]..............................................0.01
> [ T003: x := L_D ]..............................................0.01
> [ T004: x := S_C ]..............................................0.07
> [ T005: x := S_N ]..............................................0.05
> [ T006: x := S_D ]..............................................0.05
> [ T007: x := M_C ]..............................................0.27
> [ T008: x := M_N ]..............................................0.19
> [ T009: x := M_D ]..............................................0.17
> [ T010: x := P_C ]..............................................0.25
> [ T011: x := P_N ]..............................................0.21
> [ T012: x := P_D ]..............................................0.19
> [ T013: x := F_C ]..............................................0.38
> [ T014: x := F_N ]..............................................0.33
> [ T015: x := F_D ]..............................................0.29
> [ T016: x := o:Args ]...........................................0.24
> [ T017: x := o:Args ]...........................................0.22
> [ T018: round( i / 1000, 2 ) ]..................................1.55
> [ T019: str( i / 1000 ) ].......................................9.97
> [ T020: val( s ) ]..............................................0.44
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................1.07
> [ T022: dtos( d - i % 10000 ) ].................................1.50
> [ T023: eval( { || i % 16 } ) ].................................1.53
> [ T024: eval( bc := { || i % 16 } ) ]...........................0.98
> [ T025: eval( { |x| x % 16 }, i ) ].............................0.66
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.57
> [ T027: eval( { |x| f1( x ) }, i ) ]............................0.86
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.72
> [ T029: x := &( "f1(" + str(i) + ")" ) ].......................25.50
> [ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............25.70
> [ T031: x := valtype( x ) +  valtype( i ) ].....................0.46
> [ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.31
> [ T033: x := a[ i % 16 + 1 ] == s ].............................0.39
> [ T034: x := a[ i % 16 + 1 ] = s ]..............................0.60
> [ T035: x := a[ i % 16 + 1 ] >= s ].............................0.56
> [ T036: x := a[ i % 16 + 1 ] <= s ].............................0.58
> [ T037: x := a[ i % 16 + 1 ] < s ]..............................0.61
> [ T038: x := a[ i % 16 + 1 ] > s ]..............................0.58
> [ T039: ascan( a, i % 16 ) ]....................................0.99
> [ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.86
> [ T041: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....9.00
> [ T042: x := a ]................................................0.01
> [ T043: x := {} ]...............................................0.52
> [ T044: f0() ]..................................................0.14
> [ T045: f1( i ) ]...............................................0.30
> [ T046: f2( c[1...8] ) ]........................................0.22
> [ T047: f2( c[1...40000] ) ]....................................0.22
> [ T048: f2( @c[1...40000] ) ]...................................0.22
> [ T049: f2( @c[1...40000] ), c2 := c ]..........................0.25
> [ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.33
> [ T051: f2( a ) ]...............................................0.19
> [ T052: x := f4() ].............................................1.27
> [ T053: x := f5() ].............................................0.61
> [ T054: x := space(16) ]........................................0.41
> [ T055: f_prv( c ) ]............................................0.72
> ====================================================================
> [ total application time: ]...................................112.04
> [ total real time: ]..........................................112.04
>
>
> 03/16/09 20:00:22 Windows XP 5.1.2600 Service Pack 3
> Harbour 1.1.0dev (Rev. 10601) (MT) Microsoft Visual C 14.0.24999 (32-bit)
> THREADS: 0
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.08
> ====================================================================
> [ T001: x := L_C ]..............................................0.20
> [ T002: x := L_N ]..............................................0.09
> [ T003: x := L_D ]..............................................0.11
> [ T004: x := S_C ]..............................................0.19
> [ T005: x := S_N ]..............................................0.05
> [ T006: x := S_D ]..............................................0.05
> [ T007: x := M_C ]..............................................0.20
> [ T008: x := M_N ]..............................................0.11
> [ T009: x := M_D ]..............................................0.09
> [ T010: x := P_C ]..............................................0.20
> [ T011: x := P_N ]..............................................0.09
> [ T012: x := P_D ]..............................................0.09
> [ T013: x := F_C ]..............................................0.50
> [ T014: x := F_N ]..............................................0.36
> [ T015: x := F_D ]..............................................0.19
> [ T016: x := o:Args ]...........................................0.38
> [ T017: x := o[2] ].............................................0.31
> [ T018: round( i / 1000, 2 ) ]..................................0.50
> [ T019: str( i / 1000 ) ].......................................1.06
> [ T020: val( s ) ]..............................................0.52
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................1.02
> [ T022: dtos( d - i % 10000 ) ].................................1.05
> [ T023: eval( { || i % 16 } ) ].................................1.50
> [ T024: eval( bc := { || i % 16 } ) ]...........................0.56
> [ T025: eval( { |x| x % 16 }, i ) ].............................1.02
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.64
> [ T027: eval( { |x| f1( x ) }, i ) ]............................1.16
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.72
> [ T029: x := &( "f1(" + str(i) + ")" ) ]........................7.50
> [ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............10.11
> [ T031: x := valtype( x ) +  valtype( i ) ].....................1.02
> [ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.84
> [ T033: x := a[ i % 16 + 1 ] == s ].............................0.97
> [ T034: x := a[ i % 16 + 1 ] = s ]..............................1.00
> [ T035: x := a[ i % 16 + 1 ] >= s ].............................1.02
> [ T036: x := a[ i % 16 + 1 ] <= s ].............................1.00
> [ T037: x := a[ i % 16 + 1 ] < s ]..............................1.02
> [ T038: x := a[ i % 16 + 1 ] > s ]..............................0.98
> [ T039: ascan( a, i % 16 ) ]....................................0.70
> [ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.52
> [ T041: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.88
> [ T042: x := a ]................................................0.20
> [ T043: x := {} ]...............................................0.63
> [ T044: f0() ]..................................................0.28
> [ T045: f1( i ) ]...............................................0.39
> [ T046: f2( c[1...8] ) ]........................................0.38
> [ T047: f2( c[1...40000] ) ]....................................0.39
> [ T048: f2( @c[1...40000] ) ]...................................0.39
> [ T049: f2( @c[1...40000] ), c2 := c ]..........................0.45
> [ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.09
> [ T051: f2( a ) ]...............................................0.38
> [ T052: x := f4() ].............................................1.70
> [ T053: x := f5() ].............................................0.75
> [ T054: x := space(16) ]........................................0.61
> [ T055: f_prv( c ) ]............................................1.36
> ====================================================================
> [ total application time: ]....................................62.91
> [ total real time: ]...........................................63.50
>
> Brgds,
> Viktor
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/d3d3923d/attachment-0001.html
From harbour.01 at syenar.hu  Mon Mar 16 15:21:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 15:21:24 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
Message-ID: <18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>

with 2 threads (The Harbour results look this weird on every run):
03/16/2009 20:08:01 Windows XP 05.01 Build 02600 Service Pack 3
Xbase++ (R) Version 1.90 (MT)+
THREADS: 2
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.04
[ T002: x := L_N ]..............................................0.01
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.08
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.05
[ T007: x := M_C ]..............................................0.23
[ T008: x := M_N ]..............................................0.19
[ T009: x := M_D ]..............................................0.19
[ T010: x := P_C ]..............................................0.25
[ T011: x := P_N ]..............................................0.19
[ T012: x := P_D ]..............................................0.19
[ T013: x := F_C ]..............................................0.39
[ T014: x := F_N ]..............................................0.32
[ T015: x := F_D ]..............................................0.33
[ T016: x := o:Args ]...........................................0.22
[ T017: x := o:Args ]...........................................0.23
[ T018: round( i / 1000, 2 ) ]..................................1.60
[ T019: str( i / 1000 ) ]......................................10.00
[ T020: val( s ) ]..............................................0.45
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.11
[ T022: dtos( d - i % 10000 ) ].................................1.52
[ T023: eval( { || i % 16 } ) ].................................1.56
[ T024: eval( bc := { || i % 16 } ) ]...........................0.96
[ T025: eval( { |x| x % 16 }, i ) ].............................0.67
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.53
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.85
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.73
[ T029: x := &( "f1(" + str(i) + ")" ) ].......................25.36
[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............25.38
[ T031: x := valtype( x ) +  valtype( i ) ].....................0.42
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.27
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.41
[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.58
[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.58
[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.59
[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.58
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.60
[ T039: ascan( a, i % 16 ) ]....................................1.00
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................7.34
[ T041: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....9.02
[ T042: x := a ]................................................0.03
[ T043: x := {} ]...............................................0.46
[ T044: f0() ]..................................................0.22
[ T045: f1( i ) ]...............................................0.22
[ T046: f2( c[1...8] ) ]........................................0.26
[ T047: f2( c[1...40000] ) ]....................................0.22
[ T048: f2( @c[1...40000] ) ]...................................0.22
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.25
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.35
[ T051: f2( a ) ]...............................................0.17
[ T052: x := f4() ].............................................1.47
[ T053: x := f5() ].............................................0.59
[ T054: x := space(16) ]........................................0.41
[ T055: f_prv( c ) ]............................................0.66
====================================================================
[ total application time: ]...................................112.27
[ total real time: ]..........................................112.27


03/16/09 20:06:19 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10601) (MT)+ Microsoft Visual C 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.84
[ T002: x := L_N ]..............................................0.38
[ T003: x := L_D ]..............................................0.36
[ T004: x := S_C ]..............................................1.02
[ T005: x := S_N ]..............................................0.45
[ T006: x := S_D ]..............................................0.48
[ T007: x := M_C ]..............................................1.28
[ T008: x := M_N ]..............................................0.66
[ T009: x := M_D ]..............................................0.70
[ T010: x := P_C ]..............................................1.27
[ T011: x := P_N ]..............................................0.61
[ T012: x := P_D ]..............................................0.64
[ T013: x := F_C ]..............................................2.03
[ T014: x := F_N ]..............................................1.61
[ T015: x := F_D ]..............................................1.03
[ T016: x := o:Args ]...........................................1.70
[ T017: x := o[2] ].............................................1.25
[ T018: round( i / 1000, 2 ) ]..................................1.44
[ T019: str( i / 1000 ) ].......................................3.94
[ T020: val( s ) ]..............................................2.28
[ T021: val( a [ i % 16 + 1 ] ) ]...............................3.72
[ T022: dtos( d - i % 10000 ) ].................................3.78
[ T023: eval( { || i % 16 } ) ].................................6.50
[ T024: eval( bc := { || i % 16 } ) ]...........................2.39
[ T025: eval( { |x| x % 16 }, i ) ].............................4.50
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.36
[ T027: eval( { |x| f1( x ) }, i ) ]............................4.31
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.59
[ T029: x := &( "f1(" + str(i) + ")" ) ].......................43.30
[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............47.59
[ T031: x := valtype( x ) +  valtype( i ) ].....................4.48
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........5.94
[ T033: x := a[ i % 16 + 1 ] == s ].............................2.75
[ T034: x := a[ i % 16 + 1 ] = s ]..............................3.00
[ T035: x := a[ i % 16 + 1 ] >= s ].............................3.20
[ T036: x := a[ i % 16 + 1 ] <= s ].............................3.20
[ T037: x := a[ i % 16 + 1 ] < s ]..............................3.17
[ T038: x := a[ i % 16 + 1 ] > s ]..............................3.20
[ T039: ascan( a, i % 16 ) ]....................................2.11
[ T040: ascan( a, { |x| x == i % 16 } ) ]......................22.83
[ T041: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....8.27
[ T042: x := a ]................................................0.59
[ T043: x := {} ]...............................................2.19
[ T044: f0() ]..................................................0.56
[ T045: f1( i ) ]...............................................0.78
[ T046: f2( c[1...8] ) ]........................................1.05
[ T047: f2( c[1...40000] ) ]....................................1.05
[ T048: f2( @c[1...40000] ) ]...................................1.00
[ T049: f2( @c[1...40000] ), c2 := c ]..........................1.19
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.98
[ T051: f2( a ) ]...............................................1.08
[ T052: x := f4() ].............................................7.08
[ T053: x := f5() ].............................................2.64
[ T054: x := space(16) ]........................................2.61
[ T055: f_prv( c ) ]............................................2.08
====================================================================
[ total application time: ]...................................118.78
[ total real time: ]...........................................61.03
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/b3b14bb2/attachment.html
From druzus at acn.waw.pl  Mon Mar 16 15:30:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 15:24:46 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gpm6f6$4t0$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
Message-ID: <20090316193057.GA20578@uran.home.aster.pl>

On Mon, 16 Mar 2009, Angel Pais wrote:

Hi,

> getting close !!

Fine and thanks.

> xpp /n /m /w /p /wi /wl @C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\03166601.tmp
> SPEEDTST3.PRG(197:0): warning XBT0121: STATIC variable s_once may not have been set before first use
[...]

Looks that they reports some warnings for which we had some doubts.
I added explicit initialization to NIL ( := NIL ) to pacify this warnings.

> SPEEDTST3.PRG(209:0): warning XBT0114: Usage of dynamic scoped variable M_C
> SPEEDTST3.PRG(213:0): warning XBT0114: Usage of dynamic scoped variable M_N
> SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C
> SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C

these warnings are new for me. The variables are declared by MEMVAR.
What else should I use to pacify such warnings? Or maybe it's some
compiler switch which enables warnings for all memvars usage in any context.
I added M-> prefix (f.e. M->P_C) to disable them but if it does not work
or create some other problems in XPP then please remove it.

> SPEEDTST3.PRG(573:0): error XBT0250: Incomplete expression
> SPEEDTST3.PRG(577:0): error XBT0250: Incomplete expression
[...]

Yet another incompatibility to Clipper.
I've removed HB_SYMBOL_UNUSED() macro usage so this should be resolved.

Next version in attachment.
Please test.

best regards,
Przemek
-------------- next part --------------
/*
 * $Id: speedtst.prg 10578 2009-03-10 11:17:18Z druzus $
 */

/*
 * Harbour Project source code:
 *    HVM speed test program
 *
 * Copyright 2008 Przemyslaw Czerpak <druzus / at / priv.onet.pl>
 * www - http://www.harbour-project.org
 *
 */

#define N_TESTS 55
#define N_LOOPS 1000000
#define ARR_LEN 16

#ifndef __HARBOUR__
   #ifndef __XPP__
      #ifndef __CLIP__
        #define __CLIPPER__
      #endif
   #endif
#endif


#ifdef __CLIPPER__
   /* Clipper does not support multithreading */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __XPP__
   /* xBase++ version for MT performance testing is not ready yet */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __CLIP__
   /* CLIP version for MT performance testing is not ready yet */
   #ifndef __ST__
      #define __ST__
   #endif
#endif

#ifdef __XHARBOUR__
   /* By default build xHarbour binaries without MT support
    * xHarbour needs separated version for MT and ST mode
    * because standard MT functions are not available in
    * ST libraries.
    */
   #ifndef __ST__
      #ifndef __MT__
         #ifndef MT
            #ifndef HB_THREAD_SUPPORT
               #define __ST__
            #endif
         #endif
      #endif
   #endif
#endif

/* by default create MT version */
#ifndef __MT__
   #ifndef __ST__
      #define __MT__
   #endif
#endif


#command ? => outstd(EOL)
#command ? <xx,...> => outstd(EOL);outstd(<xx>)
#command ?? <xx,...> => outstd(<xx>)

#ifdef __HARBOUR__
   #define EOL hb_OSNewLine()
#else
   #ifndef __CLIP__
      #xtranslate secondsCPU() => seconds()
   #endif
   #ifndef EOL
      #define EOL chr(10)
   #endif
#endif

#xcommand TEST <testfunc>           ;
          [ WITH <locals,...> ]     ;
          [ STATIC <statics,...> ]  ;
          [ FIELD  <fields,...> ]   ;
          [ MEMVAR <memvars,...> ]  ;
          [ PRIVATE <privates,...> ];
          [ PUBLIC <publics,...> ]  ;
          [ INIT <init> ]           ;
          [ EXIT <exit> ]           ;
          [ INFO <info> ]           ;
          CODE [ <testExp,...> ] => ;
   func <testfunc> ;                ;
      local time, i:=nil, x:=nil ;  ;
      [ local <locals> ; ]          ;
      [ static <statics> ; ]        ;
      [ field <fields> ; ]          ;
      [ memvar <memvars> ; ]        ;
      [ private <privates> ; ]      ;
      [ public <publics> ; ]        ;
      [ <init> ; ]                  ;
      time := secondscpu() ;        ;
      for i:=1 to N_LOOPS ;         ;
         [ ( <testExp> ) ] ;        ;
      next ;                        ;
      time := secondscpu() - time ; ;
      [ <exit> ; ]                  ;
   return { procname() + ": " + iif( <.info.>, <(info)>, #<testExp> ), time }

#ifdef __HARBOUR__
proc main( ... )
   local aParams := hb_aparams()
#else
proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10, ;
           _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )
   local aParams := ;
      asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10, ;
               _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 }, ;
             min( pCount(), 20 ) )
#endif
   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054 055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else
            cExclude += strtran( strtran( strtran( substr( cParam, 11 ), ;
                        ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to N_TESTS
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         ? "Unknown option:", cParam
         ? "syntax: speedtst [--thread[=<num>]] [--only=<test(s)>] [--exclude=<test(s)>]"
         ?
         return
      endif
   next
   test( nMT, cExclude, lScale )
return


/*** TESTS ***/

TEST t000 INFO "empty loop overhead" CODE

TEST t001 WITH L_C:=dtos(date()) CODE x := L_C

TEST t002 WITH L_N:=112345.67    CODE x := L_N

TEST t003 WITH L_D:=date()       CODE x := L_D

TEST t004 STATIC s_once := NIL, S_C ;
          INIT hb_threadOnce( @s_once, {|| S_C := dtos( date() ) } ) ;
          CODE x := S_C

TEST t005 STATIC s_once := NIL, S_N ;
          INIT hb_threadOnce( @s_once, {|| S_N := 112345.67 } ) ;
          CODE x := S_N

TEST t006 STATIC s_once := NIL, S_D ;
          INIT hb_threadOnce( @s_once, {|| S_D := date() } ) ;
          CODE x := S_D

TEST t007 MEMVAR M_C ;
          PRIVATE M_C := dtos( date() ) ;
          CODE x := M->M_C

TEST t008 MEMVAR M_N ;
          PRIVATE M_N := 112345.67 ;
          CODE x := M->M_N

TEST t009 MEMVAR M_D ;
          PRIVATE M_D := date() ;
          CODE x := M->M_D

TEST t010 STATIC s_once := NIL ;
          MEMVAR P_C ;
          PUBLIC P_C ;
          INIT hb_threadOnce( @s_once, {|| M->P_C := dtos( date() ) } ) ;
          CODE x := M->P_C

TEST t011 STATIC s_once := NIL ;
          MEMVAR P_N ;
          PUBLIC P_N ;
          INIT hb_threadOnce( @s_once, {|| M->P_N := 112345.67 } ) ;
          CODE x := M->P_N

TEST t012 STATIC s_once := NIL ;
          MEMVAR P_D ;
          PUBLIC P_D ;
          INIT hb_threadOnce( @s_once, {|| M->P_D := date() } ) ;
          CODE x := M->P_D

TEST t013 FIELD  F_C ;
          INIT use_dbsh() EXIT close_db() ;
          CODE x := F_C

TEST t014 FIELD F_N ;
          INIT use_dbsh() EXIT close_db() ;
          CODE x := F_N

TEST t015 FIELD F_D ;
          INIT use_dbsh() EXIT close_db() ;
          CODE x := F_D

TEST t016 WITH o := errorNew() CODE x := o:Args

TEST t017 WITH o := errorNew() CODE x := o[2]

TEST t018 CODE round( i / 1000, 2 )

TEST t019 CODE str( i / 1000 )

TEST t020 WITH s := stuff( dtos( date() ), 7, 0, "." ) CODE val( s )

TEST t021 WITH a := afill( array( ARR_LEN ), ;
                           stuff( dtos( date() ), 7, 0, "." ) ) ;
          CODE val( a [ i % ARR_LEN + 1 ] )

TEST t022 WITH d := date() CODE dtos( d - i % 10000 )

TEST t023 CODE eval( { || i % ARR_LEN } )

TEST t024 WITH bc := { || i % ARR_LEN } ;
          INFO eval( bc := { || i % ARR_LEN } ) ;
          CODE eval( bc )

TEST t025 CODE eval( { |x| x % ARR_LEN }, i )

TEST t026 WITH bc := { |x| x % ARR_LEN } ;
          INFO eval( bc := { |x| x % ARR_LEN }, i ) ;
          CODE eval( bc, i )

TEST t027 CODE eval( { |x| f1( x ) }, i )

TEST t028 WITH bc := { |x| f1( x ) } ;
          INFO eval( bc := { |x| f1( x ) }, i ) ;
          CODE eval( bc, i )

TEST t029 CODE x := &( "f1(" + str(i) + ")" )

TEST t030 WITH bc CODE bc := &( "{|x|f1(x)}" ), eval( bc, i )

TEST t031 CODE x := valtype( x ) +  valtype( i )

TEST t032 WITH a := afill( array( ARR_LEN ), ;
                           stuff( dtos( date() ), 7, 0, "." ) ) ;
          CODE x := strzero( i % 100, 2 ) $ a[ i % ARR_LEN + 1 ]

TEST t033 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] == s

TEST t034 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] = s

TEST t035 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] >= s

TEST t036 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] <= s

TEST t037 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] < s

TEST t038 WITH a := array( ARR_LEN ), s := dtos( date() ) ;
          INIT aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;
          CODE x := a[ i % ARR_LEN + 1 ] > s

TEST t039 WITH a := array( ARR_LEN ) ;
          INIT aeval( a, { |x,i| a[i] := i, x } ) ;
          CODE ascan( a, i % ARR_LEN )

TEST t040 WITH a := array( ARR_LEN ) ;
          INIT aeval( a, { |x,i| a[i] := i, x } ) ;
          CODE ascan( a, { |x| x == i % ARR_LEN } )

TEST t041 WITH a := {}, a2 := { 1, 2, 3 }, bc := { |x| f1(x) }, ;
               s := dtos( date() ), s2 := "static text" ;
          CODE iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.t.,s,s2,a2,bc})

TEST t042 WITH a := {} CODE x := a

TEST t043 CODE x := {}

TEST t044 CODE f0()

TEST t045 CODE f1( i )

TEST t046 WITH c := dtos( date() ) ;
          INFO f2( c[1...8] ) ;
          CODE f2( c )

TEST t047 WITH c := repl( dtos( date() ), 5000 ) ;
          INFO f2( c[1...40000] ) ;
          CODE f2( c )

TEST t048 WITH c := repl( dtos( date() ), 5000 ) ;
          INFO f2( @c[1...40000] ) ;
          CODE f2( c )

TEST t049 WITH c := repl( dtos( date() ),5000 ), c2 ;
          INFO "f2( @c[1...40000] ), c2 := c" ;
          CODE f2( @c ), c2 := c

TEST t050 WITH a := {}, a2 := { 1, 2, 3 }, bc := { |x| f1(x) }, ;
               s := dtos( date() ), s2 := "static text", n := 1.23 ;
          CODE f3( a, a2, s, i, s2, bc, i, n, x )

TEST t051 WITH a := { 1, 2, 3 } CODE f2( a )

TEST t052 CODE x := f4()

TEST t053 CODE x := f5()

TEST t054 CODE x := space(16)

TEST t055 WITH c := dtos( date() ) CODE f_prv( c )

/*** end of tests ***/


#ifdef __MT__

function thTest( mtxJobs, aResults )
   local xJob
   while .T.
      hb_mutexSubscribe( mtxJobs,, @xJob )
      if xJob == NIL
         exit
      endif
      aResults[ xJob ] := &( "t" + strzero( xJob, 3 ) )()
   enddo
return nil

function thTestScale( mtxJobs, mtxResults )
   local xJob
   while .T.
      hb_mutexSubscribe( mtxJobs,, @xJob )
      if xJob == NIL
         exit
      endif
      hb_mutexNotify( mtxResults, &( "t" + strzero( xJob, 3 ) )() )
   enddo
return nil

#endif


proc test( nMT, cExclude, lScale )
local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults, ;
      mtxJobs, mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT, ;
      cTest, x, i, j

create_db()

#ifdef __HARBOUR__
   #include "hbmemory.ch"
      if MEMORY( HB_MEM_USEDMAX ) != 0
      ? "Warning !!! Memory statistic enabled."
      ?
   endif
#endif

//? "Startup loop to increase CPU clock..."
//x := seconds() + 5; while x > seconds(); enddo

if !hb_mtvm()
   if lScale
      ? "scale test available only in MULTI THREAD mode"
      ?
      return
   endif
   if nMT != 0
      ? "SINGLE THREAD mode, number of threads set to 0"
      nMT := 0
   endif
endif
? date(), time(), os()
? version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0, "+", "" ), "" ), ""
#ifdef __HARBOUR__
   ?? hb_compiler()
#endif

if lScale .and. nMT < 1
   nMT := 1
endif

? "THREADS:", iif( nMT < 0, "all->" + ltrim( str( N_TESTS ) ), ltrim( str( nMT ) ) )
? "N_LOOPS:", ltrim( str( N_LOOPS ) )
if !empty( cExclude )
   ? "excluded tests:", cExclude
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   ? space(56) + "1 th." + str(nMT,3) + " th.  factor"
   ? replicate("=",76)
else
   ? dsp_result( x, 0 )
   ? replicate("=",68)
endif

nSeconds := seconds()
nTimes := secondsCPU()

nTimeTotST := nTimeTotMT := 0

#ifdef __MT__
   if lScale
      mtxJobs := hb_mutexCreate()
      mtxResults := hb_mutexCreate()
      for i:=1 to nMT
         hb_threadStart( "thTestScale", mtxJobs, mtxResults )
      next
      for i:=1 to N_TESTS
         cTest := strzero( i, 3 )
         if !cTest $ cExclude

            /* linear execution */
            nTimeST := seconds()
            for j:=1 to nMT
               hb_mutexNotify( mtxJobs, i )
               hb_mutexSubscribe( mtxResults,, @x )
               cTest := x[1]
            next
            nTimeST := seconds() - nTimeST
            nTimeTotST += nTimeST

            /* simultaneous execution */
            nTimeMT := seconds()
            for j:=1 to nMT
               hb_mutexNotify( mtxJobs, i )
            next
            for j:=1 to nMT
               hb_mutexSubscribe( mtxResults,, @x )
               cTest := x[1]
            next
            nTimeMT := seconds() - nTimeMT
            nTimeTotMT += nTimeMT

            ? dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
         endif

      next
      for i:=1 to nMT
         hb_mutexNotify( mtxJobs, NIL )
      next
      hb_threadWaitForAll()
   elseif nMT < 0
      aThreads := array( N_TESTS )
      for i:=1 to N_TESTS
         cNum := strzero( i, 3 )
         if !cNum $ cExclude
            aThreads[ i ] := hb_threadStart( "t" + cNum )
         endif
      next
      for i:=1 to N_TESTS
         if aThreads[ i ] != NIL .and. hb_threadJoin( aThreads[ i ], @x )
            ? dsp_result( x, nLoopOverHead )
         endif
      next
   elseif nMT > 0
      aResults := array( N_TESTS )
      mtxJobs := hb_mutexCreate()
      for i:=1 to nMT
         hb_threadStart( "thTest", mtxJobs, aResults )
      next
      for i:=1 to N_TESTS
         if !strzero( i, 3 ) $ cExclude
            hb_mutexNotify( mtxJobs, i )
         endif
      next
      for i:=1 to nMT
         hb_mutexNotify( mtxJobs, NIL )
      next
      hb_threadWaitForAll()
      for i:=1 to N_TESTS
         if aResults[ i ] != NIL
            ? dsp_result( aResults[ i ], nLoopOverHead )
         endif
      next
      mtxJobs := NIL
   else
      for i:=1 to N_TESTS
         cNum := strzero( i, 3 )
         if !cNum $ cExclude
            ? dsp_result( &( "t" + cNum )(), nLoopOverHead )
         endif
      next
   endif
#else
   for i:=1 to N_TESTS
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         ? dsp_result( &( "t" + cNum )(), nLoopOverHead )
      endif
   next
#endif

nTimes := secondsCPU() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   ? replicate("=",76)
   ? dsp_scaleResult( "  TOTAL  ", nTimeTotST, nTimeTotMT, nMT, 0 )
   ? replicate("=",76)
else
   ? replicate("=",68)
endif
? dsp_result( { "total application time:", nTimes }, 0)
? dsp_result( { "total real time:", nSeconds }, 0 )
?

remove_db()
return

function f0()
return nil

function f1(x)
return x

function f2(x)
return nil

function f3(a,b,c,d,e,f,g,h,i)
return nil

function f4()
return space(4000)

function f5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil

/*
function f_pub(x)
   memvar PUB_C
   public PUB_C := x
return nil

function f_stat(x)
   static STAT_C
   STAT_C := x
return nil
*/

static func dsp_result( aResult, nLoopOverHead )
   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) + ;
          strtran( str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif
   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) + ;
          str( nTimeST, 6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" + ;
          str( nTimeST / nTimeMT, 6, 2 )


#define TMP_FILE "_tst_tmp.dbf"
static proc create_db()
   remove_db()
   dbcreate( TMP_FILE, { {"F_C", "C", 10, 0},;
                         {"F_N", "N", 10, 2},;
                         {"F_D", "D",  8, 0} } )
   use TMP_FILE exclusive
   dbappend()
   replace F_C with dtos(date())
   replace F_N with 112345.67
   replace F_D with date()
   close
return

static proc remove_db()
   ferase( TMP_FILE )
return

static proc close_db()
   close
return

static proc use_dbsh()
   use TMP_FILE shared
return


#ifdef __CLIPPER__
   function hb_mtvm()
   return .f.                 /* Clipper does not support MT */
#endif
#ifdef __CLIP__
   function hb_mtvm()
   return .t.                 /* CLIP always uses VM with MT support */
#endif
#ifdef __XPP__
   function hb_mtvm()
   return .t.                 /* xBase++ always uses VM with MT support */
#endif
#ifdef __XHARBOUR__
   function hb_mtvm()
   return hb_multiThread()    /* check for MT support in xHarbour VM */
#endif


#ifndef __MT__

   /* trivial single thread version of once execution */
   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall

#else

   /* Add support for MT functions for used compiler
    */

#ifdef __XHARBOUR__

   /* do not expect that this code will work with xHarbour.
    * xHarbour has many race conditions which are exploited quite fast
    * on real multi CPU machines so it crashes in different places :-(
    * probably this code should be forwared to xHarbour developers as
    * some type of MT test
    */

   /* this define is only to test if emulation function works
    * without running real test which causes that xHarbour crashes
    */
   //#define _DUMY_XHB_TEST_


   function hb_mutexSubscribe( mtx, nTimeOut, xSubscribed )
      local lSubscribed
      if valtype( nTimeOut ) == "N"
         nTimeOut := round( nTimeOut * 1000, 0 )
         xSubscribed := Subscribe( mtx, nTimeOut, @lSubscribed )
      else
         xSubscribed := Subscribe( mtx )
         lSubscribed := .t.
      endif
   return lSubscribed

   function hb_mutexNotify( mtx, xValue )
      Notify( mtx, xValue )
   return nil

   /* in xHarbour there is race condition in JoinThread() which
    * fails if thread end before we call it so we cannot use it :-(
    * this code tries to simulate it and also add support for thread
    * return value
    */

   function hb_threadStart( ... )
      local thId
      thId := StartThread( @threadFirstFunc(), hb_aParams() )
      /* Just like in JoinThread() the same race condition exists in
       * GetThreadId() so we will use HVM thread numbers internally
       */
#ifdef _DUMY_XHB_TEST_
   return val( substr( hb_aParams()[1], 2 ) )
#else
   return GetThreadId( thId )
#endif

   function hb_threadJoin( thId, xResult )
      xResult := results( thId )
   return .t.

   static function threadFirstFunc( aParams )
      local xResult
#ifdef _DUMY_XHB_TEST_
      xResult := { "skipped test " + aParams[1], val( substr( aParams[1], 2 ) ) + 0.99 }
      results( val( substr( aParams[1], 2 ) ), xResult )
#else
      xResult := hb_execFromArray( aParams )
      results( GetThreadId(), xResult )
#endif
   return nil

   static function results( nThread, xResult )
      static s_aResults
      static s_mutex
      if s_aResults == nil
         s_aResults := HSetAutoAdd( hash(), .t. )
         s_mutex := hb_mutexCreate()
      endif
      if pcount() < 2
         while ! nThread $ s_aResults
            Subscribe( s_mutex, 1000 )
         enddo
         xResult := s_aResults[ nThread ]
      else
         s_aResults[ nThread ] := xResult
         /* We cannot use NotifyAll() here because it will create
          * race condition. In this program only one thread join
          * results so we can use simple Notify() as workaround
          */
         //NotifyAll( s_mutex )
         Notify( s_mutex )
      endif
   return xResult

   function hb_threadWaitForAll()
      WaitForThreads()
   return nil

   function hb_threadOnce( xOnceControl, bAction )
      static s_mutex
      local lFirstCall := .f.
      if s_mutex == NIL
         s_mutex := hb_mutexCreate()
      endif
      if xOnceControl == NIL
         hb_mutexLock( s_mutex )
         if xOnceControl == NIL
            if bAction != NIL
               eval( bAction )
            endif
            xOnceControl := .t.
            lFirstCall := .t.
         endif
         hb_mutexUnlock( s_mutex )
      endif
   return lFirstCall

   init proc once_init()
      /* set workareas local to thread */
      set workarea private
      /* initialize mutex in hb_trheadDoOnce() */
      hb_threadOnce()
      /* initialize error object to reduce possible crashes when two
       * threads will try to create new error class simultaneously.
       * xHarbour does not have any protection against such situation
       */
      errorNew()
   return

#endif /* __XHARBOUR__ */


/*
   function hb_threadStart( cFunc, xPar1, xPar2, xPar3 )
   return nil

   function hb_threadJoin( thId, xResult )
   return nil

   function hb_mutexCreate()
   return nil

   function hb_mutexSubscribe()
   return nil
   function hb_mutexLock()
   return nil
   function hb_mutexUnlock()
   return nil
   function hb_mutexNotify()
   return nil
   function hb_threadWaitForAll()
   return nil
   function hb_mtvm()
   return .f.
*/

#endif
From makis1970 at gmail.com  Mon Mar 16 15:33:59 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Mar 16 15:41:06 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>	<20090316182911.GA10548@uran.home.aster.pl>	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
Message-ID: <004c01c9a66e$28c062c0$7a412840$@com>

Hi Viktor,

As far as I know Xbase++ is always executed in MT mode cause at least the GC
is executed in a different Thread. 

 

Brgds

Mike Evans

 

From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szakats
Sent: Monday, March 16, 2009 9:21 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: Question to xBase++ users

 

with 2 threads (The Harbour results look this weird on every run):

 

03/16/2009 20:08:01 Windows XP 05.01 Build 02600 Service Pack 3

Xbase++ (R) Version 1.90 (MT)+ 

THREADS: 2

N_LOOPS: 1000000

[ T000: empty loop overhead ]...................................0.03

====================================================================

[ T001: x := L_C ]..............................................0.04

[ T002: x := L_N ]..............................................0.01

[ T003: x := L_D ]..............................................0.00

[ T004: x := S_C ]..............................................0.08

[ T005: x := S_N ]..............................................0.05

[ T006: x := S_D ]..............................................0.05

[ T007: x := M_C ]..............................................0.23

[ T008: x := M_N ]..............................................0.19

[ T009: x := M_D ]..............................................0.19

[ T010: x := P_C ]..............................................0.25

[ T011: x := P_N ]..............................................0.19

[ T012: x := P_D ]..............................................0.19

[ T013: x := F_C ]..............................................0.39

[ T014: x := F_N ]..............................................0.32

[ T015: x := F_D ]..............................................0.33

[ T016: x := o:Args ]...........................................0.22

[ T017: x := o:Args ]...........................................0.23

[ T018: round( i / 1000, 2 ) ]..................................1.60

[ T019: str( i / 1000 ) ]......................................10.00

[ T020: val( s ) ]..............................................0.45

[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.11

[ T022: dtos( d - i % 10000 ) ].................................1.52

[ T023: eval( { || i % 16 } ) ].................................1.56

[ T024: eval( bc := { || i % 16 } ) ]...........................0.96

[ T025: eval( { |x| x % 16 }, i ) ].............................0.67

[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.53

[ T027: eval( { |x| f1( x ) }, i ) ]............................0.85

[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.73

[ T029: x := &( "f1(" + str(i) + ")" ) ].......................25.36

[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............25.38

[ T031: x := valtype( x ) +  valtype( i ) ].....................0.42

[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.27

[ T033: x := a[ i % 16 + 1 ] == s ].............................0.41

[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.58

[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.58

[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.59

[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.58

[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.60

[ T039: ascan( a, i % 16 ) ]....................................1.00

[ T040: ascan( a, { |x| x == i % 16 } ) ].......................7.34

[ T041: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....9.02

[ T042: x := a ]................................................0.03

[ T043: x := {} ]...............................................0.46

[ T044: f0() ]..................................................0.22

[ T045: f1( i ) ]...............................................0.22

[ T046: f2( c[1...8] ) ]........................................0.26

[ T047: f2( c[1...40000] ) ]....................................0.22

[ T048: f2( @c[1...40000] ) ]...................................0.22

[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.25

[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.35

[ T051: f2( a ) ]...............................................0.17

[ T052: x := f4() ].............................................1.47

[ T053: x := f5() ].............................................0.59

[ T054: x := space(16) ]........................................0.41

[ T055: f_prv( c ) ]............................................0.66

====================================================================

[ total application time: ]...................................112.27

[ total real time: ]..........................................112.27

 

 

03/16/09 20:06:19 Windows XP 5.1.2600 Service Pack 3

Harbour 1.1.0dev (Rev. 10601) (MT)+ Microsoft Visual C 14.0.24999 (32-bit)

THREADS: 2

N_LOOPS: 1000000

[ T000: empty loop overhead ]...................................0.05

====================================================================

[ T001: x := L_C ]..............................................0.84

[ T002: x := L_N ]..............................................0.38

[ T003: x := L_D ]..............................................0.36

[ T004: x := S_C ]..............................................1.02

[ T005: x := S_N ]..............................................0.45

[ T006: x := S_D ]..............................................0.48

[ T007: x := M_C ]..............................................1.28

[ T008: x := M_N ]..............................................0.66

[ T009: x := M_D ]..............................................0.70

[ T010: x := P_C ]..............................................1.27

[ T011: x := P_N ]..............................................0.61

[ T012: x := P_D ]..............................................0.64

[ T013: x := F_C ]..............................................2.03

[ T014: x := F_N ]..............................................1.61

[ T015: x := F_D ]..............................................1.03

[ T016: x := o:Args ]...........................................1.70

[ T017: x := o[2] ].............................................1.25

[ T018: round( i / 1000, 2 ) ]..................................1.44

[ T019: str( i / 1000 ) ].......................................3.94

[ T020: val( s ) ]..............................................2.28

[ T021: val( a [ i % 16 + 1 ] ) ]...............................3.72

[ T022: dtos( d - i % 10000 ) ].................................3.78

[ T023: eval( { || i % 16 } ) ].................................6.50

[ T024: eval( bc := { || i % 16 } ) ]...........................2.39

[ T025: eval( { |x| x % 16 }, i ) ].............................4.50

[ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.36

[ T027: eval( { |x| f1( x ) }, i ) ]............................4.31

[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.59

[ T029: x := &( "f1(" + str(i) + ")" ) ].......................43.30

[ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............47.59

[ T031: x := valtype( x ) +  valtype( i ) ].....................4.48

[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........5.94

[ T033: x := a[ i % 16 + 1 ] == s ].............................2.75

[ T034: x := a[ i % 16 + 1 ] = s ]..............................3.00

[ T035: x := a[ i % 16 + 1 ] >= s ].............................3.20

[ T036: x := a[ i % 16 + 1 ] <= s ].............................3.20

[ T037: x := a[ i % 16 + 1 ] < s ]..............................3.17

[ T038: x := a[ i % 16 + 1 ] > s ]..............................3.20

[ T039: ascan( a, i % 16 ) ]....................................2.11

[ T040: ascan( a, { |x| x == i % 16 } ) ]......................22.83

[ T041: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....8.27

[ T042: x := a ]................................................0.59

[ T043: x := {} ]...............................................2.19

[ T044: f0() ]..................................................0.56

[ T045: f1( i ) ]...............................................0.78

[ T046: f2( c[1...8] ) ]........................................1.05

[ T047: f2( c[1...40000] ) ]....................................1.05

[ T048: f2( @c[1...40000] ) ]...................................1.00

[ T049: f2( @c[1...40000] ), c2 := c ]..........................1.19

[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.98

[ T051: f2( a ) ]...............................................1.08

[ T052: x := f4() ].............................................7.08

[ T053: x := f5() ].............................................2.64

[ T054: x := space(16) ]........................................2.61

[ T055: f_prv( c ) ]............................................2.08

====================================================================

[ total application time: ]...................................118.78

[ total real time: ]...........................................61.03

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/f84b1588/attachment-0001.html
From druzus at acn.waw.pl  Mon Mar 16 15:53:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 15:46:49 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
Message-ID: <20090316195300.GA21558@uran.home.aster.pl>

On Mon, 16 Mar 2009, Szak?ts Viktor wrote:

Hi,

Thank you for your results.

> with 2 threads (The Harbour results look this weird on every run):
> 03/16/2009 20:08:01 Windows XP 05.01 Build 02600 Service Pack 3
> Xbase++ (R) Version 1.90 (MT)+
> THREADS: 2
> N_LOOPS: 1000000

Do you modified speedtst and added support MT in XPP builds?
If not then it's still ST test.

best regards,
Przemek
From amigosam at adinet.com.uy  Mon Mar 16 15:47:43 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 15:47:57 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316193057.GA20578@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>	<20090316182911.GA10548@uran.home.aster.pl>	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
Message-ID: <gpmacp$llm$1@ger.gmane.org>

As you may have noticed as per Viktor's message test 017 doesn?t work.
This version had no warnigns nor error.
Error log attached.
In general Alaska's filosofy about public and privates is to eliminate 
them if you want maximum performance.
'm->' is the correct way to avoid dynamic scoped warnings.
In terms of compatibility with clipper Harbour is far superior to 
Alaska's compiler.
The other thing Harbour does much faster is dbf indexing, your RDDs are 
really awesome !!!
I'd only wish there were an in-memory RDD full with indexing and so.
The other app killer RDD would be an official Net RDD ( like letto but 
officialy supported by Harbour Team ).
I'm also very interested in a multiplatform QT based gui framework.
I'm not wanting to sound like a professional requester as Massimo is, 
just wanted to illustrate my humble Xbase++ developper POV.
Keep up the good work and thank you !!!

Regards
Angel

Przemyslaw Czerpak escribi?:
> On Mon, 16 Mar 2009, Angel Pais wrote:
> 
> Hi,
> 
>> getting close !!
> 
> Fine and thanks.
> 
>> xpp /n /m /w /p /wi /wl @C:\DOCUME~1\ADMINI~1\CONFIG~1\Temp\03166601.tmp
>> SPEEDTST3.PRG(197:0): warning XBT0121: STATIC variable s_once may not have been set before first use
> [...]
> 
> Looks that they reports some warnings for which we had some doubts.
> I added explicit initialization to NIL ( := NIL ) to pacify this warnings.
> 
>> SPEEDTST3.PRG(209:0): warning XBT0114: Usage of dynamic scoped variable M_C
>> SPEEDTST3.PRG(213:0): warning XBT0114: Usage of dynamic scoped variable M_N
>> SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C
>> SPEEDTST3.PRG(223:0): warning XBT0114: Usage of dynamic scoped variable P_C
> 
> these warnings are new for me. The variables are declared by MEMVAR.
> What else should I use to pacify such warnings? Or maybe it's some
> compiler switch which enables warnings for all memvars usage in any context.
> I added M-> prefix (f.e. M->P_C) to disable them but if it does not work
> or create some other problems in XPP then please remove it.
> 
>> SPEEDTST3.PRG(573:0): error XBT0250: Incomplete expression
>> SPEEDTST3.PRG(577:0): error XBT0250: Incomplete expression
> [...]
> 
> Yet another incompatibility to Clipper.
> I've removed HB_SYMBOL_UNUSED() macro usage so this should be resolved.
> 
> Next version in attachment.
> Please test.
> 
> best regards,
> Przemek
> 

-------------- next part --------------

------------------------------------------------------------------------------
ERROR LOG of "C:\experimentos\speedhb\speedtst4.exe" Date: 03/16/2009 16:33:54

Xbase++ version     : Xbase++ (R) Version 1.90.331
Operating system    : Windows XP 05.01 Build 02600 Service Pack 2
------------------------------------------------------------------------------
oError:args         :
          -> VALTYPE: O CLASS: Error
          -> VALTYPE: N VALUE: 2
oError:canDefault   : N
oError:canRetry     : N
oError:canSubstitute: Y
oError:cargo        : NIL
oError:description  : Parameter has a wrong data type
oError:filename     : 
oError:genCode      :          2
oError:operation    : <O of >[<2>]
oError:osCode       :          0
oError:severity     :          2
oError:subCode      :          3
oError:subSystem    : BASE
oError:thread       :          1
oError:tries        :          0
------------------------------------------------------------------------------
CALLSTACK:
------------------------------------------------------------------------------
Called from T017(248)
Called from TEST(542)
Called from MAIN(178)
From druzus at acn.waw.pl  Mon Mar 16 15:58:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 15:52:43 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <004c01c9a66e$28c062c0$7a412840$@com>
References: <18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
Message-ID: <20090316195855.GA22375@uran.home.aster.pl>

On Mon, 16 Mar 2009, Mike Evans (Gmail) wrote:

Hi,

> As far as I know Xbase++ is always executed in MT mode cause at least the GC
> is executed in a different Thread. 

Viktor also used HVM with MT support:
   Harbour 1.1.0dev (Rev. 10601) (MT)+ Microsoft Visual C 14.0.24999 (32-bit)
                                 ^^^^
so this part is comparable. speedtst informs about possible MT support
in above statement.
But so far speedtst code has not been updated to test MT performance in
XPP builds so always is executed only once by one thread.
Such modification will be next the step.
Now only Harbour and xHarbour builds can use more then one thread.

best regards,
Przemek
From amigosam at adinet.com.uy  Mon Mar 16 15:51:36 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 15:55:10 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <004c01c9a66e$28c062c0$7a412840$@com>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>	<20090316182911.GA10548@uran.home.aster.pl>	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
Message-ID: <gpmak1$llm$2@ger.gmane.org>

Hi Mike

AFAIK Xbase++ has two automatic and hidden threads, one for the GC and 
the other for GUI Parts.

Regards
Angel


Mike Evans (Gmail) escribi?:
> Hi Viktor,
> 
> As far as I know Xbase++ is always executed in MT mode cause at least 
> the GC is executed in a different Thread.
> 
>  
> 
> Brgds
> 
> Mike Evans
> 

From harbour.01 at syenar.hu  Mon Mar 16 15:56:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 15:56:22 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <004c01c9a66e$28c062c0$7a412840$@com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
Message-ID: <18d502870903161256sa54ccf9nb348df80597ddc34@mail.gmail.com>

Hi Mike,
Yes, I know. For comparison, I've made the Harbour test run in MT mode,
too,
first with no threads, then with 2 threads.

I'm interested to see the conclusions (not necessarily from my results).

Brgds,
Viktor

2009/3/16 Mike Evans (Gmail) <makis1970@gmail.com>

>  Hi Viktor,
>
> As far as I know Xbase++ is always executed in MT mode cause at least the
> GC is executed in a different Thread.
>
>
>
> Brgds
>
> Mike Evans
>
>
>
> *From:* harbour-bounces@harbour-project.org [mailto:
> harbour-bounces@harbour-project.org] *On Behalf Of *Viktor Szakats
> *Sent:* Monday, March 16, 2009 9:21 PM
> *To:* Harbour Project Main Developer List.
> *Subject:* Re: [Harbour] Re: Question to xBase++ users
>
>
>
> with 2 threads (The Harbour results look this weird on every run):
>
>
>
> 03/16/2009 20:08:01 Windows XP 05.01 Build 02600 Service Pack 3
>
> Xbase++ (R) Version 1.90 (MT)+
>
> THREADS: 2
>
> N_LOOPS: 1000000
>
> [ T000: empty loop overhead ]...................................0.03
>
> ====================================================================
>
> [ T001: x := L_C ]..............................................0.04
>
> [ T002: x := L_N ]..............................................0.01
>
> [ T003: x := L_D ]..............................................0.00
>
> [ T004: x := S_C ]..............................................0.08
>
> [ T005: x := S_N ]..............................................0.05
>
> [ T006: x := S_D ]..............................................0.05
>
> [ T007: x := M_C ]..............................................0.23
>
> [ T008: x := M_N ]..............................................0.19
>
> [ T009: x := M_D ]..............................................0.19
>
> [ T010: x := P_C ]..............................................0.25
>
> [ T011: x := P_N ]..............................................0.19
>
> [ T012: x := P_D ]..............................................0.19
>
> [ T013: x := F_C ]..............................................0.39
>
> [ T014: x := F_N ]..............................................0.32
>
> [ T015: x := F_D ]..............................................0.33
>
> [ T016: x := o:Args ]...........................................0.22
>
> [ T017: x := o:Args ]...........................................0.23
>
> [ T018: round( i / 1000, 2 ) ]..................................1.60
>
> [ T019: str( i / 1000 ) ]......................................10.00
>
> [ T020: val( s ) ]..............................................0.45
>
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................1.11
>
> [ T022: dtos( d - i % 10000 ) ].................................1.52
>
> [ T023: eval( { || i % 16 } ) ].................................1.56
>
> [ T024: eval( bc := { || i % 16 } ) ]...........................0.96
>
> [ T025: eval( { |x| x % 16 }, i ) ].............................0.67
>
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.53
>
> [ T027: eval( { |x| f1( x ) }, i ) ]............................0.85
>
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.73
>
> [ T029: x := &( "f1(" + str(i) + ")" ) ].......................25.36
>
> [ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............25.38
>
> [ T031: x := valtype( x ) +  valtype( i ) ].....................0.42
>
> [ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.27
>
> [ T033: x := a[ i % 16 + 1 ] == s ].............................0.41
>
> [ T034: x := a[ i % 16 + 1 ] = s ]..............................0.58
>
> [ T035: x := a[ i % 16 + 1 ] >= s ].............................0.58
>
> [ T036: x := a[ i % 16 + 1 ] <= s ].............................0.59
>
> [ T037: x := a[ i % 16 + 1 ] < s ]..............................0.58
>
> [ T038: x := a[ i % 16 + 1 ] > s ]..............................0.60
>
> [ T039: ascan( a, i % 16 ) ]....................................1.00
>
> [ T040: ascan( a, { |x| x == i % 16 } ) ].......................7.34
>
> [ T041: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....9.02
>
> [ T042: x := a ]................................................0.03
>
> [ T043: x := {} ]...............................................0.46
>
> [ T044: f0() ]..................................................0.22
>
> [ T045: f1( i ) ]...............................................0.22
>
> [ T046: f2( c[1...8] ) ]........................................0.26
>
> [ T047: f2( c[1...40000] ) ]....................................0.22
>
> [ T048: f2( @c[1...40000] ) ]...................................0.22
>
> [ T049: f2( @c[1...40000] ), c2 := c ]..........................0.25
>
> [ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.35
>
> [ T051: f2( a ) ]...............................................0.17
>
> [ T052: x := f4() ].............................................1.47
>
> [ T053: x := f5() ].............................................0.59
>
> [ T054: x := space(16) ]........................................0.41
>
> [ T055: f_prv( c ) ]............................................0.66
>
> ====================================================================
>
> [ total application time: ]...................................112.27
>
> [ total real time: ]..........................................112.27
>
>
>
>
>
> 03/16/09 20:06:19 Windows XP 5.1.2600 Service Pack 3
>
> Harbour 1.1.0dev (Rev. 10601) (MT)+ Microsoft Visual C 14.0.24999 (32-bit)
>
> THREADS: 2
>
> N_LOOPS: 1000000
>
> [ T000: empty loop overhead ]...................................0.05
>
> ====================================================================
>
> [ T001: x := L_C ]..............................................0.84
>
> [ T002: x := L_N ]..............................................0.38
>
> [ T003: x := L_D ]..............................................0.36
>
> [ T004: x := S_C ]..............................................1.02
>
> [ T005: x := S_N ]..............................................0.45
>
> [ T006: x := S_D ]..............................................0.48
>
> [ T007: x := M_C ]..............................................1.28
>
> [ T008: x := M_N ]..............................................0.66
>
> [ T009: x := M_D ]..............................................0.70
>
> [ T010: x := P_C ]..............................................1.27
>
> [ T011: x := P_N ]..............................................0.61
>
> [ T012: x := P_D ]..............................................0.64
>
> [ T013: x := F_C ]..............................................2.03
>
> [ T014: x := F_N ]..............................................1.61
>
> [ T015: x := F_D ]..............................................1.03
>
> [ T016: x := o:Args ]...........................................1.70
>
> [ T017: x := o[2] ].............................................1.25
>
> [ T018: round( i / 1000, 2 ) ]..................................1.44
>
> [ T019: str( i / 1000 ) ].......................................3.94
>
> [ T020: val( s ) ]..............................................2.28
>
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................3.72
>
> [ T022: dtos( d - i % 10000 ) ].................................3.78
>
> [ T023: eval( { || i % 16 } ) ].................................6.50
>
> [ T024: eval( bc := { || i % 16 } ) ]...........................2.39
>
> [ T025: eval( { |x| x % 16 }, i ) ].............................4.50
>
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.36
>
> [ T027: eval( { |x| f1( x ) }, i ) ]............................4.31
>
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.59
>
> [ T029: x := &( "f1(" + str(i) + ")" ) ].......................43.30
>
> [ T030: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............47.59
>
> [ T031: x := valtype( x ) +  valtype( i ) ].....................4.48
>
> [ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........5.94
>
> [ T033: x := a[ i % 16 + 1 ] == s ].............................2.75
>
> [ T034: x := a[ i % 16 + 1 ] = s ]..............................3.00
>
> [ T035: x := a[ i % 16 + 1 ] >= s ].............................3.20
>
> [ T036: x := a[ i % 16 + 1 ] <= s ].............................3.20
>
> [ T037: x := a[ i % 16 + 1 ] < s ]..............................3.17
>
> [ T038: x := a[ i % 16 + 1 ] > s ]..............................3.20
>
> [ T039: ascan( a, i % 16 ) ]....................................2.11
>
> [ T040: ascan( a, { |x| x == i % 16 } ) ]......................22.83
>
> [ T041: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....8.27
>
> [ T042: x := a ]................................................0.59
>
> [ T043: x := {} ]...............................................2.19
>
> [ T044: f0() ]..................................................0.56
>
> [ T045: f1( i ) ]...............................................0.78
>
> [ T046: f2( c[1...8] ) ]........................................1.05
>
> [ T047: f2( c[1...40000] ) ]....................................1.05
>
> [ T048: f2( @c[1...40000] ) ]...................................1.00
>
> [ T049: f2( @c[1...40000] ), c2 := c ]..........................1.19
>
> [ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.98
>
> [ T051: f2( a ) ]...............................................1.08
>
> [ T052: x := f4() ].............................................7.08
>
> [ T053: x := f5() ].............................................2.64
>
> [ T054: x := space(16) ]........................................2.61
>
> [ T055: f_prv( c ) ]............................................2.08
>
> ====================================================================
>
> [ total application time: ]...................................118.78
>
> [ total real time: ]...........................................61.03
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/2956a0bc/attachment-0001.html
From harbour.01 at syenar.hu  Mon Mar 16 15:58:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 15:58:11 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gpmacp$llm$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
Message-ID: <18d502870903161258o439cde0fpf8da0c617fab2430@mail.gmail.com>

>
> I'm not wanting to sound like a professional requester as Massimo is, just
> wanted to illustrate my humble Xbase++ developper POV.


:)

Well, if we're at it: +1 for NetRDD, +1 for GTNET and +1 for Unicode.
(in reverse order)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/31f12b0b/attachment.html
From harbour.01 at syenar.hu  Mon Mar 16 16:00:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 16:00:18 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316195855.GA22375@uran.home.aster.pl>
References: <18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
	<20090316195855.GA22375@uran.home.aster.pl>
Message-ID: <18d502870903161300u57542f45n2975a47284e4bff7@mail.gmail.com>

>
> Viktor also used HVM with MT support:
>    Harbour 1.1.0dev (Rev. 10601) (MT)+ Microsoft Visual C 14.0.24999
> (32-bit)
>                                  ^^^^
> so this part is comparable. speedtst informs about possible MT support
> in above statement.
> But so far speedtst code has not been updated to test MT performance in
> XPP builds so always is executed only once by one thread.
> Such modification will be next the step.
> Now only Harbour and xHarbour builds can use more then one thread.


That explains the flat performance with 2 threads in XPP. It would
have been too good to be true.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/51a1bf6c/attachment.html
From mbelgrano at deltain.it  Mon Mar 16 16:16:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 16 16:16:29 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gpmacp$llm$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
Message-ID: <609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>

Hi Angel
Thanks for explain us your  Xbase++ developer POV.

Regarding GUI Have you tried Pritpal's harbour\contrib\gtwvg Xbase Part
compatible?Easy to switch from xbase++ and imo same test will be useful

regarding rdd In past Przemyslaw have announced idea about native client
server named netrdd and afaik this ideas are still present in his brain


2009/3/16 Angel Pais <amigosam@adinet.com.uy>

> As you may have noticed as per Viktor's message test 017 doesn?t work.
> This version had no warnigns nor error.
> Error log attached.
> In general Alaska's filosofy about public and privates is to eliminate them
> if you want maximum performance.
> 'm->' is the correct way to avoid dynamic scoped warnings.
> In terms of compatibility with clipper Harbour is far superior to Alaska's
> compiler.
> The other thing Harbour does much faster is dbf indexing, your RDDs are
> really awesome !!!
> I'd only wish there were an in-memory RDD full with indexing and so.
> The other app killer RDD would be an official Net RDD ( like letto but
> officialy supported by Harbour Team ).
> I'm also very interested in a multiplatform QT based gui framework.
> I'm not wanting to sound like a professional requester as Massimo is, just
> wanted to illustrate my humble Xbase++ developper POV.
> Keep up the good work and thank you !!!
>
> Regards
> Angel
>

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/e299288f/attachment.html
From mbelgrano at deltain.it  Mon Mar 16 16:20:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 16 16:20:38 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161258o439cde0fpf8da0c617fab2430@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<18d502870903161258o439cde0fpf8da0c617fab2430@mail.gmail.com>
Message-ID: <609353e70903161320s11f5f1a9tab8b09eea764c3a9@mail.gmail.com>

In order
+1 for GTNET
+1 for Unicode.
 +1 for NetRDD,

2009/3/16 Viktor Szak?ts <harbour.01@syenar.hu>

>
>> :)
>
> Well, if we're at it: +1 for NetRDD, +1 for GTNET and +1 for Unicode.
> (in reverse order)
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/3ca0a255/attachment.html
From amigosam at adinet.com.uy  Mon Mar 16 16:29:02 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 16:29:16 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>	<20090316182911.GA10548@uran.home.aster.pl>	<gpm6f6$4t0$1@ger.gmane.org>	<20090316193057.GA20578@uran.home.aster.pl>	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
Message-ID: <gpmcq8$vaa$1@ger.gmane.org>

I've tried them, but test sample painted slow and did nothing.
Not tried latest improvements though.
Anyway if I'd wanted to stick whit a windows-only GUI I'd stick with 
Xbase++.
What I need is a multiplatform write once-deploy anywhere GUI framework.

Quote from QT's whitepaper...

QT supports the development of cross-platform GUI aplications with it's 
"write once, compile anywhere" aproach. Using a single source tree and a 
simple recompilation, applications can be written for Windows 98 to XP 
and Vista, Mac OS X, Linux, Solaris, HP-UX, and many other versions of 
Unix with X11. QT applications can also be compiled to run on embedded 
Linux and Windows CE plattforms.

EndQuote

Regards
Angel

Massimo Belgrano escribi?:
> Hi Angel
> Thanks for explain us your  Xbase++ developer POV.
> 
> Regarding GUI Have you tried Pritpal's harbour\contrib\gtwvg Xbase Part 
> compatible?
> Easy to switch from xbase++ and imo same test will be useful 
> 
> regarding rdd In past Przemyslaw have announced idea about native client 
> server named netrdd and afaik this ideas are still present in his brain
> 
> 

From harbour.01 at syenar.hu  Mon Mar 16 16:40:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 16:40:39 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gpmcq8$vaa$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
Message-ID: <18d502870903161340y655b0bcfh5fc4ee2faa580a71@mail.gmail.com>

Totally agree.
One problem with Windows API is that even porting to
WinCE is a huge pain (or even between compilers).
All that energy is IMO much better spent on GTK or QT.

The next big feature for a GUI is remote support, like
X Window. I'm not sure how QT shines here, but GTK
must support it somehow because it's based on X.
(it's another question I got completely lost when trying
to create a test setup with Windows client and Linux
(or Darwin) X server.)

This way you can get a proper GUI through the net,
so you don't need Terminal Server, fragile and slow
data connection.

Brgds,
Viktor

On Mon, Mar 16, 2009 at 9:29 PM, Angel Pais <amigosam@adinet.com.uy> wrote:

> I've tried them, but test sample painted slow and did nothing.
> Not tried latest improvements though.
> Anyway if I'd wanted to stick whit a windows-only GUI I'd stick with
> Xbase++.
> What I need is a multiplatform write once-deploy anywhere GUI framework.
>
> Quote from QT's whitepaper...
>
> QT supports the development of cross-platform GUI aplications with it's
> "write once, compile anywhere" aproach. Using a single source tree and a
> simple recompilation, applications can be written for Windows 98 to XP and
> Vista, Mac OS X, Linux, Solaris, HP-UX, and many other versions of Unix with
> X11. QT applications can also be compiled to run on embedded Linux and
> Windows CE plattforms.
>
> EndQuote
>
> Regards
> Angel
>
> Massimo Belgrano escribi?:
>
>> Hi Angel
>> Thanks for explain us your  Xbase++ developer POV.
>>
>> Regarding GUI Have you tried Pritpal's harbour\contrib\gtwvg Xbase Part
>> compatible?
>> Easy to switch from xbase++ and imo same test will be useful
>> regarding rdd In past Przemyslaw have announced idea about native client
>> server named netrdd and afaik this ideas are still present in his brain
>>
>>
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/2779a4f6/attachment.html
From mbelgrano at deltain.it  Mon Mar 16 16:46:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 16 16:46:40 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <gpmcq8$vaa$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
Message-ID: <609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>

Hi agree with you but think that This is one side of the problem
The other side is that rewriting each times that you change gui is wasting
time
The right idea of gtwvg is that a unified class (compatible with xbase++
part)  will allow change you with more little effert
So i hope that when somebody write a wrapper for QT it will based on xbase++
class & support basic fivewin syntax)
If Pritpal give this way it can resolve a lot of multiplatform effort and
with Gtnet it can nearly perfect for web deployment
Is qt so easy that  you use a single source tree and a simple recompilation,
applications can be written for Windows 98 to XP and Vista, Mac OS X, Linux,
Solaris, HP-UX


2009/3/16 Angel Pais <amigosam@adinet.com.uy>

> I've tried them, but test sample painted slow and did nothing.
> Not tried latest improvements though.
> Anyway if I'd wanted to stick whit a windows-only GUI I'd stick with
> Xbase++.
> What I need is a multiplatform write once-deploy anywhere GUI framework.
>
> Quote from QT's whitepaper...
>
> QT supports the development of cross-platform GUI aplications with it's
> "write once, compile anywhere" aproach. Using a single source tree and a
> simple recompilation, applications can be written for Windows 98 to XP and
> Vista, Mac OS X, Linux, Solaris, HP-UX, and many other versions of Unix with
> X11. QT applications can also be compiled to run on embedded Linux and
> Windows CE plattforms.
>
> EndQuote
>
> Regards
> Angel
>
> Massimo Belgrano escribi?:
>
>> Hi Angel
>> Thanks for explain us your  Xbase++ developer POV.
>>
>> Regarding GUI Have you tried Pritpal's harbour\contrib\gtwvg Xbase Part
>> compatible?
>> Easy to switch from xbase++ and imo same test will be useful
>> regarding rdd In past Przemyslaw have announced idea about native client
>> server named netrdd and afaik this ideas are still present in his brain
>>
>>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/e99356e3/attachment-0001.html
From amigosam at adinet.com.uy  Mon Mar 16 17:02:44 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 17:03:01 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>	<20090316182911.GA10548@uran.home.aster.pl>	<gpm6f6$4t0$1@ger.gmane.org>	<20090316193057.GA20578@uran.home.aster.pl>	<gpmacp$llm$1@ger.gmane.org>	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
Message-ID: <gpmepf$728$1@ger.gmane.org>

I've no moral authority to ask anything from anyone since this is an 
open source project and each developer does as much as they like, when 
they can.
I can only express what i'd like and test their labour.
Anything else  is nothing but wishes. And wishes are less than nothing 
in this field.
Anyway better true developers know my wishes than ignore them. Maybe I 
can inspire them.
I wish I had the technical habilities to do it myself but I dont.
I'm only a bussiness apps developper.

Regards
Angel


Massimo Belgrano escribi?:
> Hi agree with you but think that This is one side of the problem
> The other side is that rewriting each times that you change gui is 
> wasting time
> The right idea of gtwvg is that a unified class (compatible with xbase++ 
> part)  will allow change you with more little effert
> So i hope that when somebody write a wrapper for QT it will based on 
> xbase++ class & support basic fivewin syntax)
> If Pritpal give this way it can resolve a lot of multiplatform effort 
> and with Gtnet it can nearly perfect for web deployment
> Is qt so easy that  you use a single source tree and a simple 
> recompilation, applications can be written for Windows 98 to XP and 
> Vista, Mac OS X, Linux, Solaris, HP-UX
> 

From druzus at acn.waw.pl  Mon Mar 16 17:10:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 17:04:41 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161300u57542f45n2975a47284e4bff7@mail.gmail.com>
References: <gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
	<20090316195855.GA22375@uran.home.aster.pl>
	<18d502870903161300u57542f45n2975a47284e4bff7@mail.gmail.com>
Message-ID: <20090316211052.GA30160@uran.home.aster.pl>

On Mon, 16 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > But so far speedtst code has not been updated to test MT performance in
> > XPP builds so always is executed only once by one thread.
> > Such modification will be next the step.
> > Now only Harbour and xHarbour builds can use more then one thread.
> That explains the flat performance with 2 threads in XPP. It would
> have been too good to be true.

How much CPUs do you have?

best regards,
Przemek
From vladnet at livas.lv  Mon Mar 16 17:11:16 2009
From: vladnet at livas.lv (Vladislav Lavrecky)
Date: Mon Mar 16 17:11:21 2009
Subject: [Harbour] hbdoc and \doc question
Message-ID: <49BEC074.7070200@livas.lv>

Hi,

Please shortly explain, what is the current state of  hbdoc
and documents in \doc folder,
for example I can`t create htm docs from base txt,
is it deprecate (unsupported), or ... ?

Brgds,
Vlad

From harbour.01 at syenar.hu  Mon Mar 16 17:11:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 17:11:50 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
Message-ID: <18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>

>
> Hi agree with you but think that This is one side of the problem
> The other side is that rewriting each times that you change gui is wasting
> time
>

For me this isn't a problem yet, since my app is still CUI.

The question is which way to choose to rewrite it _once_.
Options: GUI and WUI (web UI). For me a GUI is only an
option if it's at least portable, and it's a plus if it's relatively
easy to migrate CUI source, possibly with gradual rewrite.


> The right idea of gtwvg is that a unified class (compatible with xbase++
> part)  will allow change you with more little effert
> So i hope that when somebody write a wrapper for QT it will based on
> xbase++ class & support basic fivewin syntax)
>

GTWVG is IMO a bit too much things stuck together. My
opinion is that it would be much better to somehow logically
separate its components (to layers, modules, libs), because
currently it's too big and you either use the whole thing, or
you don't use it at all. For me its unclear how the Xbase++
classes can live by themselves (or not), and its also unclear
how the different namespaces / internal components are
connected to each other.

It's also a question whether Xbase++ classes are the ultimate
answer for a portable GUI class. I cannot answer that. Anyhow
if we have proper layers, these components can be swapped
one by one, at least ideally.


> If Pritpal give this way it can resolve a lot of multiplatform effort and
> with Gtnet it can nearly perfect for web deployment
> Is qt so easy that  you use a single source tree and a simple
> recompilation, applications can be written for Windows 98 to XP and Vista,
> Mac OS X, Linux, Solaris, HP-UX
>

I don't know, but since QT is probably the best product on the
scene with such goal, I believe it is. Portability goes a long way
however, and each components (like Harbour wrapper, class
implementation) has to be equally developed with portability in
mind. A lot depends on the accessibility to Harbour programs, too.

All this is just (repeated) speculation unfortunately. We don't
really seem to move anywhere.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/f6517140/attachment.html
From harbour.01 at syenar.hu  Mon Mar 16 17:16:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 17:16:24 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316211052.GA30160@uran.home.aster.pl>
References: <gplsn2$trh$1@ger.gmane.org> <gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
	<20090316195855.GA22375@uran.home.aster.pl>
	<18d502870903161300u57542f45n2975a47284e4bff7@mail.gmail.com>
	<20090316211052.GA30160@uran.home.aster.pl>
Message-ID: <18d502870903161416u56ff38b2n6a5aaaa145f77190@mail.gmail.com>

Oh, just one :) an old one, it's still a P4 2.6 / 800 with Hyperthreading.
[ Last week I was checking the market, but I just don't feel
like assembling yet another junk PC, so for now I keep waiting,
maybe a new Mac Mini will be the answer with native Linux
or OSX. Nothing has matured yet. For me power consumption,
noise and size are the major factors, it also has to be future
proof as I tend not to swap machines every few years. ]

Brgds,
Viktor

On Mon, Mar 16, 2009 at 10:10 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 16 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > > But so far speedtst code has not been updated to test MT performance in
> > > XPP builds so always is executed only once by one thread.
> > > Such modification will be next the step.
> > > Now only Harbour and xHarbour builds can use more then one thread.
> > That explains the flat performance with 2 threads in XPP. It would
> > have been too good to be true.
>
> How much CPUs do you have?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/4bda1957/attachment.html
From harbour.01 at syenar.hu  Mon Mar 16 17:21:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 17:21:59 2009
Subject: [Harbour] xhb MT functions vs Harbour ones
Message-ID: <18d502870903161421m464ef940hb6a1cddb6034f5e7@mail.gmail.com>

Hi Przemek and all,
I'm trying to map all xhb MT functions to Harbour equivalents
to aid porting some MT dependent parts. Here's my rough
results. Please extend, correct and if we reach a usable state,
I'd like to add it to hbcompat.ch.

DESTROYMUTEX                 -
GETCURRENTTHREAD             HB_THREADSELF
GETSYSTEMTHREADID            ?
GETTHREADID                  HB_THREADID
HB_MUTEXCREATE               HB_MUTEXCREATE
HB_MUTEXLOCK                 HB_MUTEXLOCK
HB_MUTEXTIMEOUTLOCK          HB_MUTEXLOCK
HB_MUTEXTRYLOCK            ~ HB_MUTEXLOCK
HB_MUTEXUNLOCK               HB_MUTEXUNLOCK
HB_THREADCOUNTSTACKS         (debug)
HB_THREADGETTRYERRORARRAY    (internal)
ISSAMETHREAD( x, y )         ( x == y )
ISVALIDTHREAD( x )           ( HB_THREADID( x ) != 0 )
JOINTHREAD                   HB_THREADJOIN
KILLALLTHREADS               HB_THREADTERMINATEALL
KILLTHREAD                   HB_THREADDETACH
NOTIFY                       HB_MUTEXNOTIFY
NOTIFYALL                    HB_MUTEXNOTIFYALL
SECONDSSLEEP( x )            HB_THREADWAIT( , x * 1000 )
STARTTHREAD                  HB_THREADSTART
STOPTHREAD                   HB_THREADQUITREQUEST
SUBSCRIBE                    HB_MUTEXSUBSCRIBE
SUBSCRIBENOW                 HB_MUTEXSUBSCRIBENOW
THREADGETCURRENT             HB_THREADID
THREADGETCURRENTINTERNAL     (debug)
THREADIDLEFENCE              ?
THREADINSPECT                (debug)
THREADINSPECTEND             (debug)
THREADISINSPECTOR            (debug)
THREADSLEEP( x )             HB_THREADWAIT( , x )
WAITFORTHREADS               HB_THREADWAITFORALL

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/7adba612/attachment-0001.html
From druzus at acn.waw.pl  Mon Mar 16 17:30:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 17:24:34 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161416u56ff38b2n6a5aaaa145f77190@mail.gmail.com>
References: <gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
	<20090316195855.GA22375@uran.home.aster.pl>
	<18d502870903161300u57542f45n2975a47284e4bff7@mail.gmail.com>
	<20090316211052.GA30160@uran.home.aster.pl>
	<18d502870903161416u56ff38b2n6a5aaaa145f77190@mail.gmail.com>
Message-ID: <20090316213046.GA32150@uran.home.aster.pl>

On Mon, 16 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Oh, just one :) an old one, it's still a P4 2.6 / 800 with Hyperthreading.
> [ Last week I was checking the market, but I just don't feel
> like assembling yet another junk PC, so for now I keep waiting,
> maybe a new Mac Mini will be the answer with native Linux
> or OSX. Nothing has matured yet. For me power consumption,
> noise and size are the major factors, it also has to be future
> proof as I tend not to swap machines every few years. ]

:-)

Two notes about your results.
1. they were nearly linear. Please look at real time not CPU time.
2. it's intereseting that you have noticable real time difference.
   I do not have it on single CPU machine. HT should rather reduce
   the real time not increase (I do not have any computer with HT
   to make tests) and here I would like to ask you about testing
   MinGW builds for:
      speedtst --thread=1
   and:
      speedtst --thread=2
   what is the real time difference.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Mar 16 18:18:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 18:18:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10624] trunk/harbour
Message-ID: <E1LjL95-00050D-4g@d5vjzd1.ch3.sourceforge.com>

Revision: 10624
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10624&view=rev
Author:   vszakats
Date:     2009-03-16 22:18:54 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-16 23:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * harbour-win-spec
  * harbour-wce-spec
    % Removed forced -O2 options, -O3/-O2 are the defaults already.

  * mpkg_win.bat
    + Adds -DHB_FM_STATISTICS_OFF to HB_USER_CFLAGS.

  * utils/hbmk2/hbmk2.prg
    ! Setting gtwvt for msvcce targets as default GT.

  * source/debug/debugger.prg
    % Minor optimization. (platform branching done at PP 
      time rather than runtime).

  * contrib/xhb/hbcompat.ch
    + Added DestroyMutex() compatibility #translate.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/mpkg_win.bat
    trunk/harbour/source/debug/debugger.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 16 18:47:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 18:47:43 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <20090316213046.GA32150@uran.home.aster.pl>
References: <gpm2tn$mla$1@ger.gmane.org>
	<18d502870903161202u7d2ebccaqbcea43bafaf405a5@mail.gmail.com>
	<18d502870903161211j55cd287br4b1085602a2617fe@mail.gmail.com>
	<18d502870903161221m3da2879nc89d5d27ad4aef3@mail.gmail.com>
	<004c01c9a66e$28c062c0$7a412840$@com>
	<20090316195855.GA22375@uran.home.aster.pl>
	<18d502870903161300u57542f45n2975a47284e4bff7@mail.gmail.com>
	<20090316211052.GA30160@uran.home.aster.pl>
	<18d502870903161416u56ff38b2n6a5aaaa145f77190@mail.gmail.com>
	<20090316213046.GA32150@uran.home.aster.pl>
Message-ID: <18d502870903161547x1c999743j984da5bcdad84224@mail.gmail.com>

Here are the results:
03/16/09 23:42:47 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10624) (MT)+ MinGW GNU C 4.3.2 (32-bit)
THREADS: 1
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.13
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.14
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.05
[ T007: x := M_C ]..............................................0.14
[ T008: x := M_N ]..............................................0.06
[ T009: x := M_D ]..............................................0.06
[ T010: x := P_C ]..............................................0.14
[ T011: x := P_N ]..............................................0.06
[ T012: x := P_D ]..............................................0.06
[ T013: x := F_C ]..............................................0.45
[ T014: x := F_N ]..............................................0.34
[ T015: x := F_D ]..............................................0.16
[ T016: x := o:Args ]...........................................0.30
[ T017: x := o[2] ].............................................0.22
[ T018: round( i / 1000, 2 ) ]..................................0.52
[ T019: str( i / 1000 ) ].......................................3.28
[ T020: val( s ) ]..............................................0.50
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.81
[ T022: dtos( d - i % 10000 ) ].................................0.83
[ T023: eval( { || i % 16 } ) ].................................1.41
[ T024: eval( bc := { || i % 16 } ) ]...........................0.47
[ T025: eval( { |x| x % 16 }, i ) ].............................0.89
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.45
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.94
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.53
[ T029: x := &( "f1(" + str(i) + ")" ) ]........................7.00
[ T030: bc := &( "{|x|f1(x)}" ); eval( bc, i ) ]................9.53
[ T031: x := valtype( x ) +  valtype( i ) ].....................0.88
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.66
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.64
[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.67
[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.66
[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.66
[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.67
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.67
[ T039: ascan( a, i % 16 ) ]....................................0.53
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.17
[ T041: if i%1000==0;a:={};end; aadd(a,{i,1,.T.,s,s2,a2,bc ]....2.30
[ T042: x := a ]................................................0.13
[ T043: x := {} ]...............................................0.56
[ T044: f0() ]..................................................0.14
[ T045: f1( i ) ]...............................................0.17
[ T046: f2( c[1...8] ) ]........................................0.25
[ T047: f2( c[1...40000] ) ]....................................0.25
[ T048: f2( @c[1...40000] ) ]...................................0.25
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.28
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.88
[ T051: f2( a ) ]...............................................0.27
[ T052: x := f4() ].............................................1.47
[ T053: x := f5() ].............................................0.69
[ T054: x := space(16) ]........................................0.56
[ T055: f_prv( c ) ]............................................1.16
====================================================================
[ total application time: ]....................................55.80
[ total real time: ]...........................................55.83


03/16/09 23:43:43 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10624) (MT)+ MinGW GNU C 4.3.2 (32-bit)
THREADS: 2
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.83
[ T002: x := L_N ]..............................................0.39
[ T003: x := L_D ]..............................................0.42
[ T004: x := S_C ]..............................................0.91
[ T005: x := S_N ]..............................................0.47
[ T006: x := S_D ]..............................................0.48
[ T007: x := M_C ]..............................................1.08
[ T008: x := M_N ]..............................................0.61
[ T009: x := M_D ]..............................................0.61
[ T010: x := P_C ]..............................................1.08
[ T011: x := P_N ]..............................................0.58
[ T012: x := P_D ]..............................................0.55
[ T013: x := F_C ]..............................................1.83
[ T014: x := F_N ]..............................................1.64
[ T015: x := F_D ]..............................................0.95
[ T016: x := o:Args ]...........................................1.70
[ T017: x := o[2] ].............................................1.20
[ T018: round( i / 1000, 2 ) ]..................................1.77
[ T019: str( i / 1000 ) ].......................................8.95
[ T020: val( s ) ]..............................................1.80
[ T021: val( a [ i % 16 + 1 ] ) ]...............................2.77
[ T022: dtos( d - i % 10000 ) ].................................3.39
[ T023: eval( { || i % 16 } ) ].................................6.27
[ T024: eval( bc := { || i % 16 } ) ]...........................2.23
[ T025: eval( { |x| x % 16 }, i ) ].............................4.52
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.27
[ T027: eval( { |x| f1( x ) }, i ) ]............................4.17
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.70
[ T029: x := &( "f1(" + str(i) + ")" ) ].......................42.59
[ T030: bc := &( "{|x|f1(x)}" ); eval( bc, i ) ]...............46.25
[ T031: x := valtype( x ) +  valtype( i ) ].....................4.27
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........8.64
[ T033: x := a[ i % 16 + 1 ] == s ].............................2.36
[ T034: x := a[ i % 16 + 1 ] = s ]..............................2.55
[ T035: x := a[ i % 16 + 1 ] >= s ].............................2.55
[ T036: x := a[ i % 16 + 1 ] <= s ].............................2.92
[ T037: x := a[ i % 16 + 1 ] < s ]..............................3.08
[ T038: x := a[ i % 16 + 1 ] > s ]..............................2.95
[ T039: ascan( a, i % 16 ) ]....................................2.61
[ T040: ascan( a, { |x| x == i % 16 } ) ]......................23.55
[ T041: if i%1000==0;a:={};end; aadd(a,{i,1,.T.,s,s2,a2,bc ]....8.58
[ T042: x := a ]................................................0.61
[ T043: x := {} ]...............................................2.27
[ T044: f0() ]..................................................0.73
[ T045: f1( i ) ]...............................................0.95
[ T046: f2( c[1...8] ) ]........................................1.23
[ T047: f2( c[1...40000] ) ]....................................1.20
[ T048: f2( @c[1...40000] ) ]...................................1.23
[ T049: f2( @c[1...40000] ), c2 := c ]..........................1.33
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................3.39
[ T051: f2( a ) ]...............................................1.23
[ T052: x := f4() ].............................................7.14
[ T053: x := f5() ].............................................2.92
[ T054: x := space(16) ]........................................2.61
[ T055: f_prv( c ) ]............................................2.14
====================================================================
[ total application time: ]...................................120.86
[ total real time: ]...........................................61.06

Brgds,
Viktor

On Mon, Mar 16, 2009 at 10:30 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 16 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > Oh, just one :) an old one, it's still a P4 2.6 / 800 with
> Hyperthreading.
> > [ Last week I was checking the market, but I just don't feel
> > like assembling yet another junk PC, so for now I keep waiting,
> > maybe a new Mac Mini will be the answer with native Linux
> > or OSX. Nothing has matured yet. For me power consumption,
> > noise and size are the major factors, it also has to be future
> > proof as I tend not to swap machines every few years. ]
>
> :-)
>
> Two notes about your results.
> 1. they were nearly linear. Please look at real time not CPU time.
> 2. it's intereseting that you have noticable real time difference.
>   I do not have it on single CPU machine. HT should rather reduce
>   the real time not increase (I do not have any computer with HT
>   to make tests) and here I would like to ask you about testing
>   MinGW builds for:
>      speedtst --thread=1
>   and:
>      speedtst --thread=2
>   what is the real time difference.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/26103bb8/attachment-0001.html
From vszakats at users.sourceforge.net  Mon Mar 16 19:18:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 16 19:18:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10625] trunk/harbour
Message-ID: <E1LjM4j-0001Ae-Es@3kljzd1.ch3.sourceforge.com>

Revision: 10625
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10625&view=rev
Author:   vszakats
Date:     2009-03-16 23:18:28 +0000 (Mon, 16 Mar 2009)

Log Message:
-----------
2009-03-17 00:18 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed mingw -fmstat in static mode. (shared mode gives
      warnings and doesn't work)
    + Added -[no]fmstat for all compilers. (untested)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 16 20:21:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 16 20:21:47 2009
Subject: [Harbour] hbdoc and \doc question
In-Reply-To: <49BEC074.7070200@livas.lv>
References: <49BEC074.7070200@livas.lv>
Message-ID: <18d502870903161721l2504a89brc52f041c82177c8c@mail.gmail.com>

Hi Vlad,

It's rather just abandoned. The code is hopelessly buggy.
Brgds,
Viktor

On Mon, Mar 16, 2009 at 10:11 PM, Vladislav Lavrecky <vladnet@livas.lv>wrote:

> Hi,
>
> Please shortly explain, what is the current state of  hbdoc
> and documents in \doc folder,
> for example I can`t create htm docs from base txt,
> is it deprecate (unsupported), or ... ?
>
> Brgds,
> Vlad
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/d842f3dd/attachment.html
From bedipritpal at hotmail.com  Mon Mar 16 20:39:28 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 16 20:39:37 2009
Subject: [Harbour] Xbase++ Abstract() Class
Message-ID: <22550533.post@talk.nabble.com>


Hi

I need to know how Harbour Class modal simulate
this Xbase++ behavior. OR can we have this feature
in Harbour ?

Class Abstract()
============

Description 

This class is "the mother of all classes" and provides a common interface
for all Xbase++ classes. The class name Abstract reveals the class's nature:
it is an abstract class that can neither be instantiated nor can it be
inherited from on the PRG code level. All Xbase++ classes, however, can take
advantage of methods and member variables available in the Abstract class. 
Methods of this class can be used to obtain information about a class and
its superclasses, or are available for special purposes, such as
notifications, for example. 

Class methods 

Methods in this group are always executed by the class object. However, they
may be invoked via an instance object which directs a class method call to
the class object. 

:classDescribe()
Reflects the class definition 

:className() --> cClassName
Retrieves the name of the class an object belongs to. 

:classObject() --> oClassObject
Retrieves the class object of a class. 

:initClass() --> oClassObject
Method for class object initialization. 

:isDerivedFrom() --> lIsDerived
Checks if an object belongs to or is derived from a particular class. 

:new() --> oInstance
Creates instances of a class. 

Instance methods 

Methods in this group cannot be executed by a class object but only by its
instances. 

:init()
Method for instance object initialization. 

:eval()
Evaluates a code block. 

:set/getNoIVar()
Handles access and assign operations to undefined instance variables. 

:noMethod()
[pre-prerelease] Handles calls to undefined methods 

:notify()
Receives notifications from DatabaseEngines 

:notifyLoaded()
Handles persistency issues. 


-----------------------------------

:classDescribe( [<nInfo>] ) --> aReturn 

Parameters 
<nInfo>

A #define constant from CLASS.CH must be used for this parameter. It
defaults to CLASS_DESCR_ALL and defines the type of information included in
the return value. 

Constants for :classDescribe() 

  Constant                    Return value                               

  CLASS_DESCR_ALL         *)  All available information in one array.    
  CLASS_DESCR_CLASSNAME       Class name as character string             
  CLASS_DESCR_SUPERCLASSES    One-dimensional array holding the          
                              class objects of all superclasses.         
  CLASS_DESCR_MEMBERS         3-column array holding information         
                              about member variables.                    
  CLASS_DESCR_METHODS         5-column array holding information         

                              about methods.                             
  CLASS_DESCR_SUPERDETAILS    3-column array holding details             
                              about superclasses.                        

 *) default

Return 

If <nInfo> is omitted or set to CLASS_DESCR_ALL, an array with four elements
is returned. They contain the information resulting from passing one of the
following constants to this method: 

   obj:classDescribe()  -->   { CLASS_DESCR_CLASSNAME   , ; 
                                CLASS_DESCR_SUPERCLASSES, ; 
                                CLASS_DESCR_MEMBERS     , ; 

                                CLASS_DESCR_METHODS       } 

The elements of this array reflect the parameter profile of the function
ClassCreate(). 
CLASS_DESCR_CLASSNAME 

 	The class name as character string. 

CLASS_DESCR_SUPERCLASSES 

 	One-dimensional array containing the class objects of the superclasses. 

CLASS_DESCR_MEMBERS 

 	Two-dimensional array with three columns. It holds information about
member variables of the class. Each column can be accessed using the
following #define constants: 

Constants for the member-variable array 

  Constant                Description                                  

  CLASS_MEMBER_NAME       Character string representing the name of    

                          a single member variable                     

  CLASS_MEMBER_ATTR       Member variable attributes as numeric        

  CLASS_MEMBER_TYPE       Reserved                                     

CLASS_DESCR_METHODS 

 	Two-dimensional array with five columns. It holds information about
methods of the class. Each column can be accessed using the following define
constants: 

Constants for the method array 

  Constant                Description                                         

  CLASS_METHOD_NAME       Character string with the name of the method        

  CLASS_METHOD_ATTR       Method attributes as numeric                        

  CLASS_METHOD_BLOCK      Method code block, if the method was dynamically    

                          created with ClassCreate()                          

  CLASS_METHOD_VARNAME    The name of the redirected variable if it is        

                          an ACCESS|ASSIGN method                             

  CLASS_METHOD_TYPE       Reserved                                            

CLASS_DESCR_SUPERDETAILS 

 	Two-dimensional array with three columns. It holds detailed information
about the superclasses of the class. Note that this array is not included in
the CLASS_DESCR_ALL array. It is only returned when CLASS_DESCR_SUPERDETAILS
is passed to :classDescribe() . 

Constants for the superclass details array 

  Constant                    Description                                  

  CLASS_SUPERCLASS_NAME       Character string representing the name of    

                              the superclass.                              

  CLASS_SUPERCLASS_ATTR       Class attributes                             

  CLASS_SUPERCLASS_TYPE       Reserved                                     

Description 

The generic method :classDescribe() is used to inspect the structure of a
class and its superclasses at runtime. Individual information about member
variables, methods or superclasses can be obtained by passing the
corresponding #define constants to this method. If :classDescribe() is
called without a parameter, the returned array reflects the parameter
profile of the ClassCreate() function. This allows for easy creation or
modification of the structure of dynamic classes. 

Example 

// Inspecting an unknown object 

// The following code demonstrates how to obtain information about

// the structure of a class and how to retrieve values contained in

// member variables of an unknown object.

   #include "Class.ch"

   PROCEDURE Main

      LOCAL oXbp

      oXbp := XbpDialog():new( AppDesktop(),, {10,10}, {200,200} )

      oXbp:create()

      SET ALTERNATE TO Dialog.txt

      SET ALTERNATE ON

      InspectObject( oXbp )

   RETURN

   PROCEDURE InspectObject( obj )

      STATIC saObj := {}

      LOCAL aIVars, i, imax, xVal, cType

      ? Replicate( "*", 40 ) 
      ? obj:className() 
      ? Replicate( "*", 40 ) 
      AAdd( saObj, obj )

      aIVars := obj:classDescribe( CLASS_DESCR_MEMBERS ) 

      imax   := Len( aIvars )
      ASort( aIVars ,,,{|x,y| Upper( x[CLASS_MEMBER_NAME] ) < ;
                              Upper( y[CLASS_MEMBER_NAME] ) } )
      FOR i:=1 TO imax

         ? aIvars[i, CLASS_MEMBER_NAME], "= "

         IF aIVars[i, CLASS_MEMBER_ATTR] == VAR_ASSIGN_HIDDEN

            ?? "HIDDEN"

            LOOP

         ENDIF

         IF aIVars[i, CLASS_MEMBER_ATTR] == VAR_ASSIGN_PROTECTED

            ?? "PROTECTED"

            LOOP

         ENDIF

         // Obtain value of exported member variable via
         // symbolic name and macro operator
         xVal  := obj:&( aIvars[i, CLASS_MEMBER_NAME] )
         cType := Valtype( xVal )

         DO CASE

         CASE cType == "O"

            IF AScan( saObj, xVal ) == 0
               // Avoid recursion for objects already inspected 

               AAdd( saObj, xVal )
               InspectObject( xVal )
               ASize( saObj, Len( saObj ) - 1 )

            ELSE

               QQOut( Var2Char(xVal) )

            ENDIF

         CASE cType == "A"
            AEval( xVal, {|x| IIF( Valtype(x) == "O"  , ;
                                   InspectObject( x ) , ;
                                   QQOut( Var2Char(x) ) ;
                 )       }       )

         OTHERWISE
            QQOut( Var2Char(xVal) )
         ENDCASE
      NEXT
   RETURN




:className() --> cClassName 
The method returns a character string representing the name of a class. 

Description 
The name of a class is identical with the name of its class function. The
class function, in turn, results from the CLASS declaration. 


:classObject() --> oClassObject 
The method returns the class object of a class. 

Description 
The class object exists only once per class. It is usually obtained by
calling the class function and creates instance objects with its :new()
method. Two instances belong to the same class, when :classObject() returns
the same object for both. 



CLASS METHOD initClass 
 
Implementation 
    CLASS METHOD <classname>:initClass( [<paramList,...>] ) 
    RETURN self 

<classname>
The name of the class for which the method is implemented 

<paramList>
The parameters passed to the class function are also passed to :initClass()
. 

Return 
The method returns the class object of a class. 

Description 
The class method :initClass() can optionally be declared within the class
declaration (between the CLASS...ENDCLASS statements). When it is declared,
it is executed immediately after the first call to the class function, as
soon as the class object has been generated. It can be used to initialize
class variables with default values and must be programmed separately. The
arguments passed to the class function are passed to the method :initClass()
. The class object can be referenced within the source code of :initClass()
via the variable self . 

Note: if :initClass() is not declared in a subclass, the :initClass() method
of the superclass is implicitly executed when the class object of the
subclass is created. When :initClass() is declared and implemented, the
:initClass() method of the super class must be called explicitly. 

Example 

// Initializing a class object 
// The example illustrates the procedure for the initialization
// of class variables. The class method :initClass() is first
// declared and then programmed.

    CLASS WindowManager
       CLASS VAR aStack, nCurWin
       EXPORTED:
       CLASS METHOD initClass             // Declares method
    ENDCLASS

    CLASS METHOD WindowManager:initClass  // Source code for method
       ::aStack  := {}                    // Initializes
       ::nCurWin := 0
    RETURN self                           // class variables



:isDerivedFrom( <cClassName>|<oClassObject> ) --> lIsDerived 

Parameters 

<cClassName>

A character string containing the name of the class an object belongs to or
is derived from. 

<oClassObject>

Alternatively, the class object can be passed instead of the class name. 

Return 

The method returns .T. (true) if the object executing the method belongs to
or is derived from the specified class. 

Description 

This method is used to check if an unknown object has features of a known
class. This is especially useful for event driven programming or when
classes are inherited from other classes. 

Example 

//  
// This code outlines an example how to react to a specific
// event. In this case, the Return key is processed for
// a pushbutton.

   nEvent := AppEvent( @mp1, @mp2, @oXbp )

   IF nEvent == xbeP_Keyboard .AND. ;
      mp1    == xbeK_RETURN   .AND. ;
      oXbp:isDerivedFrom( "XbpPushbutton" )

      PostAppEvent( xbeP_Activate, NIL, NIL, oXbp )
   ELSE
      oXbp:handleEvent( nEvent, mp1, mp2 )
   ENDIF




<ClassFunction>():new( [<paramList,...>] ) --> oInstance 

<ClassFunction>
The class function is usually called to retrieve the class object before
:new() is executed. 

<paramList>
The parameters passed to the :new() method are also passed to :init() . 

Return 
The method returns a new instance of a class. 

Description 
:new() is the only method of a class object that creates new objects, or
instances, of that class. This method cannot be overloaded. Immediately
after the class object has created the instance, it calls the :init() method
of the new object and passes the received parameters on to :init() . 



    METHOD init 
 
Implementation 
    METHOD <classname>:init( [<paramList,...>] ) 
    RETURN self 

<classname>
The name of the class for which the method is implemented 

<paramList>
The parameters passed to the :new() method are also passed to :init() . 

Return 
The method returns the object executing the method. 

Description 
The method :init() can optionally be declared within the class declaration
(between the CLASS...ENDCLASS statements). If it is declared, it is executed
immediately after calling the class method :new() , i.e. as soon as a new
instance of the class (the new object) is created. The method is used to
initialize instance variables of the object with default values. If :init()
is declared, it must be implemented for the class. The same arguments are
passed to the instance method :init() as to the class method :new() . Within
the source code of the method :init() , the object can be referenced through
the variable self . The operator :: can also be used (as an abbreviation for
self: ) to send a message to the object. 

When a class is derived from other classes (superclasses), and the
superclasses have their own :init() methods, the :init() method of each such
superclass must be explicitly called from within the subclass :init(): , by
using the superclasses name. However, if :init() is not declared in a
subclass, the :init() method of the superclass is implicitly executed when
an object of the subclass is created. 

Example 

// :init() method implementation 
// The example illustrates the general procedure for the
// initialization of instances.

   CLASS classA                        // Class declaration
      EXPORTED:
      VAR    varA1, varA2
      METHOD init                      // Declares method  :init()
   ENDCLASS

   METHOD init( n1, n2 )               // Implements the method
      ::varA1 := n1                    // Assigns default values
      ::varA2 := n2                    // to the instance variables

   RETURN self

// In this procedure an object of the class classA is produced
// once without and then with arguments for the
// initialization of the object.

   PROCEDURE Test
      LOCAL oVar
      oVar := classA():new()          // No arguments with :new()
      ? oVar:varA1                    // result: NIL
      ? oVar:varA2                    // result: NIL
      oVar := classA():new( 10, 20 )  // Default values as arguments
      ? oVar:varA1                    // result: 10
      ? oVar:varA2                    // result: 20

   RETURN



self:eval( <bBlock>, [<ExpressionList,...>]) --> xLastValue 

Parameters 

<bBlock>

<bBlock> is a codeblock whose program code is executed. 

<ExpressionList,...>

<ExpressionList,...> is a list of expressions whose values are passed to the
code block as parameters. 

Return 

The return value of :eval() is the value of the last expression in the
program code of <bBlock> . :eval() can thus return a value with any data
type. 

Description 

The :eval() method has the PROTECTED: attribute which means that it can only
be called within methods of a class. It is used in the same way as the
Eval() function, i.e. method and function evaluate a code block and pass
parameters on to it. The difference between Eval() function and :eval()
method lies in the accessibility of member variables within the code block.
If member variables are declared with the HIDDEN: or PROTECTED: attribute,
they cannot be accessed in a code block when it is executed using the Eval()
function. This results from the fact that the function provides no method
context when it evaluates the code block. In contrast, the method context
stays intact when a code block is passed to the :eval() method. This way,
the accessibility of hidden or protected member variables within the code
block follows the same rules as for accessing member variables in methods of
the class. 

Example 

// Accessing a HIDDEN variable in a code block 
// The example demonstrates the difference between
// the :eval() method and the Eval() function.
// Accessing a HIDDEN variable within a code block is
// only possible with the method, not with the function.

   PROCEDURE Main
      LOCAL obj := Test():new()

      obj:show()
   RETURN

   CLASS Test
      HIDDEN:
      VAR cText

      EXPORTED:
      VAR bBlock
      METHOD init, show
   ENDCLASS


   METHOD Test:init()
      ::cText  := "I am a HIDDEN member variable"
      ::bBlock := {|o| QOut( o:cText ) } 
   RETURN self

   METHOD Test:show()
      ::eval( ::bBlock, self )   // This works since the method
                                 // context stays intact

      Eval( ::bBlock  , self )   // This fails since the code block
   RETURN                        // is executed in a function, not
                                 // in a method. There is no method
                                 // context for the code block.



:setNoIVar( <cMessage>, <xValue> ) 

:getNoIVar( <cMessage> ) --> xReturn 

Parameters 

<cMessage>

The message send to the object. 

<xValue>

The value of an assignment. 

Return 

The return value of the method :getNoIvar() will be interpreted as the
instance variable's value. The return value of the method :setNoIvar() is
ignored. 

Description 

If a message is sent to an object for which no corresponding instance
variable exist, a runtime error would be generated. This runtime error is
not raised if :setNoIvar() and :getNoIVar() methods are defined. The
:getNoIvar( <cMessage> ) method handles read-access to the member variable
<cMessage>, while the :setNoIvar( <cMessage> , <xValue>) method handles
write-access. If :setNoIVar() is implemented, :getNoIVar() has to be
implemented too otherwise pre/post increment and inline assignment
operations will fail. 

Both methods receive as their first parameter the message sent to the
object. These methods can be used to simulate non-existing variables, or to
implement other class-local error handling for this specific error. 

Example 

// setNoIvar()/getNoIVar() 
// The sample illustrates the behaviour of :setNoIVar()
// and :getNoIvar() methods under different usage 
// patterns.
PROCEDURE Main()
  LOCAL oRW := OReadWrite():New()

  // read operation
  ? oRW:NonExistent                  

  // write operation (assignment)
  oRW:NonExistent := 10

  // Post Increment
  oRW:NonExistent++

  // call of a function passing a non
  // existing IVar by reference
  MyFunc( @oRW:NonExistent )

RETURN

// Class illustrating NoIvar handling by
// simple dumping out message name and
// the optional assignment value.
//
CLASS OReadWrite
  EXPORTED:
  METHOD GetNoIVar(cMessage)
  METHOD SetNoIVar(cMessage,xval)
ENDCLASS

METHOD OReadWrite:GetNoIVar(cMessage)
  ? ::ClassName(),"::GetNoIVar(",cMessage,")"
RETURN(5)

METHOD OReadWrite:SetNoIVar(cMessage,xValue)
  ? ::ClassName(),"::SetNoIVar(",cMessage,",", xValue , ")"
RETURN

// function is not aware if a local var, a

// member variable or even a member variable
// which is simulated using set/getNoIVar()
// is passed in.
FUNCTION MyFunc(xVal)
  ? xVal
  xVal := 100
RETURN



:noMethod( cMessage, [<xValue>,...] ) --> xReturn 

Parameters 

<cMessage>

The message send to the object. 

<xValue>

The parameters passed by the callee to the undefined method. 

Return 

The return value will be interpreted as the return value of the called
undefined method. 

Description 

If an undefined method is called, a runtime error is raised. However, when
:noMethod() is declared in the class, the runtime error will not occur.
Instead, program execution is directed to this method. The parameter
<cMessage> contains the name of the undefined method, followed by the
parameters the callee has passed to the method call. 

Example 

// noMethod() 
// The sample illustrates how :noMethod()
// behaves and does handle passed parameters.
PROCEDURE Main
  LOCAL oH := OHandler():New()

  ? oH:Foo()
  ? oH:FooWithParameter("One","Two",3)

RETURN

// Simple class which redirects any unknown
// method access to the ::NoMethod()
// implementation.
CLASS OHandler
  EXPORTED:
  METHOD NoMethod
ENDCLASS

METHOD OHandler:NoMethod(cMessage,p1,p2)
  LOCAL n
  ? ::ClassName(),"::NoMethod(",cMessage

  FOR n:=2 TO PCount()
    ?? ",",PValue(n)
  NEXT
  ?? " )"
RETURN(PCount())



    METHOD notify 
 
Implementation 
    METHOD <classname>:notify( <nEvent>, <nNotification> ) 

    RETURN self 

Parameters 

<classname>

The name of the class for which the method is implemented. 

<nEvent>

This parameter receives a numeric value that corresponds with a #define
constant listed in APPEVENT.CH. Database Engines pass xbeDBO_Notify for
<nEvent> . 

<nNotification>

The second parameter identifies the situation for which an object is
notified. The file DMLB.CH lists #define constants that can be used to test
in a program which situation occurred. 

Constants for identifying database operations 

  Constant           Description                                 

  DBO_CLOSE_REQUEST  File in work area will be closed            
  DBO_BULK_REQUEST   Time consuming database operation begins    
  DBO_BULK_COMPLETE  Time consuming database operation ends      
  DBO_CHANGE_ORDER   Order of records changed (logical or        
                     physical order)                             
  DBO_TABLE_UPDATE   Data in current record modified             
  DBO_TABLE_DELETED  Record deleted                              
  DBO_TABLE_APPEND   New record created                          

  DBO_MOVE_PROLOG    Record pointer will be moved                
  DBO_MOVE_DONE      Movement of record pointer ends             
  DBO_GOTOP          Record pointer set to beginning of file     
  DBO_GOBOTTOM       Record pointer set to the end of file       

Return 

The return value of :notify() is ignored. 

Description 

The method :notify() is used in conjunction with DbRegisterClient() which
registers objects as notification recipients in a used work area. Database
Engines then call the :notify() method for all registered objects when the
state in the corresponding work area changes. This can be induced by record
pointer movement or by changing data in the work area. When :notify() is
called, the work area is current in which the object is registered. 

Example 

// Receiving notifications from Database Engines 
// The example outlines the steps necessary for receiving
// database notifications. A class is implemented with
// the method :notify() and an object of that class is
// registered in two work areas.

   #include "Appevent.ch"
   #include "Dmlb.ch"

   PROCEDURE Main
      LOCAL obj := Test():new()

      USE Customer
      DbRegisterClient( obj )

      USE Orders NEW
      DbRegisterClient( obj )

      Customer->(DbSkip())

      Orders->(DbSkip())

      CLOSE ALL
   RETURN

   CLASS Test
      EXPORTED:
      METHOD notify
   ENDCLASS

   METHOD Test:notify( nEvent, nNotify )
      IF nEvent <> xbeDBO_Notify 
         RETURN self
      ENDIF

      DO CASE
      CASE nNotify == DBO_CLOSE_REQUEST
         ? Alias(), "Database will be closed"
      CASE nNotify == DBO_MOVE_PROLOG
         ? Alias(), "About to move record pointer"
      CASE nNotify == DBO_MOVE_DONE
         ? Alias(), "Navigation is complete"

      ENDCASE
   RETURN self



    METHOD notifyLoaded 
 
Implementation 
    METHOD <classname>:notifyLoaded() 

    RETURN self 

Parameters 

<classname>

The name of the class for which the method is implemented. 

Return 

The return value of :notifyLoaded() is ignored. 

Description 

The method is used when objects are made persistent and transformed back to
the Object data type. Objects become persistent when they are stored in a
file by the SAVE command or by transforming them into a binary string with
the Var2Bin() function. If an object is loaded back to memory using RESTORE
or Bin2Var(), the :notifyLoaded() method is executed when it is implemented
in a class. The task of this method is to restore all data required by an
object that cannot be saved in a file. This applies to all member variables
of a class having the NOSAVE attribute or to system resources that must be
requested from the operating system, such as a window handle, for example. 

Example 

// Making a window persistent 
// The example outlines a scenario that allows for storing
// user-defined window objects to disk. The window class is
// derived from XbpDialog and holds data in member variables
// that is required for restoring the object. This information
// is retrieved within :fetchData(). The window object is created,
// destroyed and rebuilt with Bin2Var(). The :notifyLoaded() method
// requests system resources by calling the superclass's

// :init() and :create() methods.

   PROCEDURE AppSys()
   RETURN

   PROCEDURE Main
      LOCAL oXbp, cData

      oXbp := TestWin():new( AppDeskTop(), , {50,50}, {600,400} )
      oXbp:create()
      MsgBox( "Window created" )

      oXbp:fetchData()
      cData := Var2Bin( oXbp )

      oXbp:destroy()
      oXbp := NIL

      MsgBox( "Window destroyed" )
      oXbp := Bin2Var( cData )
   RETURN

   CLASS TestWin FROM XbpDialog
      EXPORTED:
      VAR aPos, aSize

      METHOD fetchData, notifyLoaded
   ENDCLASS

   METHOD TestWin:fetchData()
      ::aPos  := ::currentPos()
      ::aSize := ::currentSize()
   RETURN self

   METHOD TestWin:notifyLoaded()
      ::XbpDialog:init( AppDeskTop(), , ::aPos, ::aSize )
      ::XbpDialog:create()

      MsgBox( "Window rebuilt", ":notifyLoaded()" )
   RETURN self


---------------------------------


Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Xbase%2B%2B-Abstract%28%29-Class-tp22550533p22550533.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ssbbstw at yahoo.com  Mon Mar 16 20:55:45 2009
From: ssbbstw at yahoo.com (WenSheng)
Date: Mon Mar 16 20:55:58 2009
Subject: [Harbour] compiler error
Message-ID: <20090317084037.214D.84A669A0@mail.zzz.com.tw>


my OS compiler environment is:
Windows XP SP3 / Borland C++ 5.51 / mingw-make 3.81 / Chinese Language 

I have config dos environment:

d:\>set path=d:\mingw-make\bin;d:\bcc55\bin;%path%
d:\>set HB_COMPILER=<msvc|owatcom|bcc|pocc|...>
d:\>set HB_INSTALL_PREFIX=d:\harbour
d:\>make_gnu.bat install

everytime copmpiler harbour (or xharbour) path 
   about ".\source\codepage\" & ".\source\lang\",
I alway get error message:
------------------------------
mingw32-make.exe[3]: Entering directory `E:/harbour/source/codepage/win/bcc'
bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov -Oi
-Oc    -c ../../cpbg866.c -ocpbg866.obj
../../cpbg866.c:
Error E2380 ../../cpbg866.c 87: Unterminated string or character constant
*** 1 errors in Compile ***
mingw32-make.exe[3]: *** [cpbg866.obj] Error 1
------------------------------

I think the error message is make by OS language.
someboday can fix the long time problem?

From bedipritpal at hotmail.com  Mon Mar 16 20:59:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 16 20:59:14 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
	<18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
Message-ID: <22550722.post@talk.nabble.com>


Hello


Viktor Szak?ts wrote:
> 
> The question is which way to choose to rewrite it _once_.
> Options: GUI and WUI (web UI). For me a GUI is only an
> option if it's at least portable, and it's a plus if it's relatively
> easy to migrate CUI source, possibly with gradual rewrite.
> 

This is EXACTLY the theme of GTWVG. Reusability of Clipper source.
Just add few lines and have a nice look and feel.




> GTWVG is IMO a bit too much things stuck together. My
> opinion is that it would be much better to somehow logically
> separate its components (to layers, modules, libs), because
> currently it's too big and you either use the whole thing, or
> you don't use it at all. For me its unclear how the Xbase++
> classes can live by themselves (or not), and its also unclear
> how the different namespaces / internal components are
> connected to each other.
> 

Yes, off course, too many things. But all are detachable, all 
can be used separately as well as cummulatively. Namespaces 
are strikingly distinguished. None interfare with others. And it is 
relatively easy to separate if there is a need for so.



> It's also a question whether Xbase++ classes are the ultimate
> answer for a portable GUI class. I cannot answer that. Anyhow
> if we have proper layers, these components can be swapped
> one by one, at least ideally.
> 

This is a question of debate. I choose Xbase++ modal on the strength
of its sheer uniformity in calling conventions and parameter passing
PLUS a decent documentation you need not to rewrite PLUS a large
user base. Enough reasons to base. 



> I don't know, but since QT is probably the best product on the
> scene with such goal, I believe it is. Portability goes a long way
> however, and each components (like Harbour wrapper, class
> implementation) has to be equally developed with portability in
> mind. A lot depends on the accessibility to Harbour programs, too.
> 

Xbase++ compatible framework is purely on PRG level. To make it 
multi-platform you need to call the OS API. So it it is just a matter
of time when someone copy its class structure and implement the 
next platform.



> All this is just (repeated) speculation unfortunately. We don't
> really seem to move anywhere.
> 

Sadly. And hence GTWVG + Xbase++ implementation is a 
single handed effort in that direction.


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Question-to-xBase%2B%2B-users-tp22537039p22550722.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Mar 16 21:07:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 16 21:08:00 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <gpmcq8$vaa$1@ger.gmane.org>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
	<gplsn2$trh$1@ger.gmane.org>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
Message-ID: <22550818.post@talk.nabble.com>


Hello


Angel Pais wrote:
> 
> I've tried them, but test sample painted slow and did nothing.
> Not tried latest improvements though.
> Anyway if I'd wanted to stick whit a windows-only GUI I'd stick with 
> Xbase++.
> What I need is a multiplatform write once-deploy anywhere GUI framework.
> 

Do not know what did you try.
Please investigate code in harbout/contrib/gtwvg/tests/demoxbp.prg
compile it as -mt -gui and see for yourself what is the difference
in Xbase++ and Harbour implementation. The only different in the code
is "event loop" which at this momemnt is INKEY() in Harbour vs 
AppEvent() in Xbase++. 



> Quote from QT's whitepaper...
> 
> QT supports the development of cross-platform GUI aplications with it's 
> "write once, compile anywhere" aproach. Using a single source tree and a 
> simple recompilation, applications can be written for Windows 98 to XP 
> and Vista, Mac OS X, Linux, Solaris, HP-UX, and many other versions of 
> Unix with X11. QT applications can also be compiled to run on embedded 
> Linux and Windows CE plattforms.
> 
> EndQuote
> 

Seems interesting. Can someone points me to the 
directions how I can setup QT on my XP machine and what should I 
look into, just to save me of some time. May be I put hands on QT and
Xbase++ compatible GUI modal.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Question-to-xBase%2B%2B-users-tp22537039p22550818.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Mon Mar 16 21:26:36 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Mar 16 21:26:55 2009
Subject: [Harbour] compiler error
In-Reply-To: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
References: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
Message-ID: <531d7a750903161826r3a696f7u497853d2deaebb2e@mail.gmail.com>

Try:
set path=d:\mingw-make\bin;d:\bcc55\bin;%path%
set HB_COMPILER=bcc
set HB_INSTALL_PREFIX=d:\harbour
make_gnu.bat install

Vailton Renato
From amigosam at adinet.com.uy  Mon Mar 16 22:08:08 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 16 22:08:22 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <22550818.post@talk.nabble.com>
References: <20090316122848.GB32462@uran.home.aster.pl>	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>	<20090316130303.GA2771@uran.home.aster.pl>	<gplsn2$trh$1@ger.gmane.org>	<20090316173048.GA8963@uran.home.aster.pl>	<gpm2tn$mla$1@ger.gmane.org>	<20090316182911.GA10548@uran.home.aster.pl>	<gpm6f6$4t0$1@ger.gmane.org>	<20090316193057.GA20578@uran.home.aster.pl>	<gpmacp$llm$1@ger.gmane.org>	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>	<gpmcq8$vaa$1@ger.gmane.org>
	<22550818.post@talk.nabble.com>
Message-ID: <gpn0m1$pvl$1@ger.gmane.org>

Hi Pritpal.

I tried exactly the same prg you pointed out.
I will give it a second look since I'm compiling from svn now.
About Qt you can download their SDK from http://www.qtsoftware.com

Regards
Angel


Pritpal Bedi escribi?:
> Hello
> 
> 
> Angel Pais wrote:
>> I've tried them, but test sample painted slow and did nothing.
>> Not tried latest improvements though.
>> Anyway if I'd wanted to stick whit a windows-only GUI I'd stick with 
>> Xbase++.
>> What I need is a multiplatform write once-deploy anywhere GUI framework.
>>
> 
> Do not know what did you try.
> Please investigate code in harbout/contrib/gtwvg/tests/demoxbp.prg
> compile it as -mt -gui and see for yourself what is the difference
> in Xbase++ and Harbour implementation. The only different in the code
> is "event loop" which at this momemnt is INKEY() in Harbour vs 
> AppEvent() in Xbase++. 
> 
> 
> 
>> Quote from QT's whitepaper...
>>
>> QT supports the development of cross-platform GUI aplications with it's 
>> "write once, compile anywhere" aproach. Using a single source tree and a 
>> simple recompilation, applications can be written for Windows 98 to XP 
>> and Vista, Mac OS X, Linux, Solaris, HP-UX, and many other versions of 
>> Unix with X11. QT applications can also be compiled to run on embedded 
>> Linux and Windows CE plattforms.
>>
>> EndQuote
>>
> 
> Seems interesting. Can someone points me to the 
> directions how I can setup QT on my XP machine and what should I 
> look into, just to save me of some time. May be I put hands on QT and
> Xbase++ compatible GUI modal.
> 
> Regards
> Pritpal Bedi

From alex_degarate at hotmail.com  Mon Mar 16 22:49:53 2009
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Mon Mar 16 22:49:56 2009
Subject: [Harbour] hbdoc and documentation
Message-ID: <BLU145-W9EB481311215C2677385D85980@phx.gbl>


Sorry for not sending mails :(

 

I had to stop the harbour doc work some months ago due to serious family matters.

 

I am returning to work (october state), but quite slowly. I am not aware of current state, 
I could not even read the mailing list. 

 

Alejandro

_________________________________________________________________
More than messages?check out the rest of the Windows Live?.
http://www.microsoft.com/windows/windowslive/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/79d32956/attachment.html
From druzus at acn.waw.pl  Mon Mar 16 23:21:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 16 23:15:36 2009
Subject: [Harbour] xhb MT functions vs Harbour ones
In-Reply-To: <18d502870903161421m464ef940hb6a1cddb6034f5e7@mail.gmail.com>
References: <18d502870903161421m464ef940hb6a1cddb6034f5e7@mail.gmail.com>
Message-ID: <20090317032147.GA4502@uran.home.aster.pl>

On Mon, 16 Mar 2009, Szak?ts Viktor wrote:

Hi,

> I'm trying to map all xhb MT functions to Harbour equivalents
> to aid porting some MT dependent parts. Here's my rough
> results. Please extend, correct and if we reach a usable state,
> I'd like to add it to hbcompat.ch.

It may not be such simple. There are some serious differences between
Harbour and xHarbour in MT mode so even if we create final mapping
then it does not mean that the applications will work.
Anyhow we can alwas try ;-)

Here is the list of Harbour MT functions:

   hb_threadStart( [<nThreadAttrs> ,] <@sStart()> | <bStart> | <cStart> [, <params,...> ] ) -> <pThID>
   hb_threadSelf() -> <pThID> | NIL
   hb_threadId( [ <pThID> ] ) -> <nThNo>
   hb_threadJoin( <pThID> [, @<xRetCode> ] ) -> <lOK>
   hb_threadDetach( <pThID> ) -> <lOK>
 * hb_threadQuitRequest( <pThID> ) -> <lOK> /* can be ignored !!! */
   hb_threadTerminateAll() -> NIL
   hb_threadWaitForAll() -> NIL
   hb_threadWait( <pThID> | <apThID>, [ <nTimeOut> ] [, <lAll> ] ) => <nThInd> | <nThCount> | 0
   hb_threadOnce( @<onceControl> [, <bAction> ] ) -> <lFirstCall>
   hb_mutexCreate() -> <pMtx>
   hb_mutexLock( <pMtx> [, <nTimeOut> ] ) -> <lLocked>
   hb_mutexUnlock( <pMtx> ) -> <lOK>
   hb_mutexNotify( <pMtx> [, <xVal>] ) -> NIL
   hb_mutexNotifyAll( <pMtx> [, <xVal>] ) -> NIL
   hb_mutexSubscribe( <pMtx>, [ <nTimeOut> ] [, @<xSubscribed> ] ) -> <lSubscribed>
   hb_mutexSubscribeNow( <pMtx>, [ <nTimeOut> ] [, @<xSubscribed> ] ) -> <lSubscribed>

   * - this function call can be ignored by the destination thread in some
       cases. HVM does not guaranties that the QUIT signal will be always
       delivered.

Now translations from xHarbour code to Harbour:

   #xtranslate hb_MultiThread()           => hb_mtvm()
   #xtranslate GetCurrentThread()         => hb_threadSelf()
   #xtranslate GetThreadId( [<x,...>] )   => hb_threadId( <x> )
   #xtranslate ThreadGetCurrentInternal() => hb_threadId()
   #xtranslate IsSameThread( <x> [,<y>] ) => ( hb_threadId( <x> ) == hb_threadId( <y> ) )
   #xtranslate IsValidThread( <x> )       => ( hb_threadId( <x> ) != 0 )
   #xtranslate JoinThread( <x> )          => hb_threadJoin( <x> )
   #xtranslate KillThread( <x> )          => hb_threadQuitRequest( <x> )
   #xtranslate StopThread( <x> )          => hb_threadQuitRequest( <x> );hb_threadJoin( <x> )
   #xtranslate KillAllThreads()           => hb_threadTerminateAll()
   #xtranslate WaitForThreads()           => hb_threadWaitForAll()

   #xtranslate ThreadSleep( <x> )         => hb_idleSleep( <x> / 1000 )
   #xtranslate SecondsSleep( <x> )        => hb_idleSleep( <x> )

   #xtranslate DestroyMutex( <x> )        =>
   #xtranslate hb_MutexTryLock( <x> )     => hb_MutexLock( <x>, 0 )
   #xtranslate hb_MutexTimeOutLock( <x> ) => hb_MutexLock( <x>, 0 )
   #xtranslate hb_MutexTimeOutLock( <x>, <n> ) => ;
                                             hb_MutexLock( <x>, <n> / 1000 )
   #xtranslate Notify( <x,...> )          => hb_mutexNotify( <x> )
   #xtranslate NotifyAll( <x,...> )       => hb_mutexNotifyAll( <x> )
   #xtranslate Subscribe( <x,...> )       => xhb_mutexSubscribe( <x> )
   #xtranslate SubscribeNow( <x,...> )    => xhb_mutexSubscribeNow( <x> )
   #xtranslate StartThread( <x,...> )     => xhb_StartThread( <x> )

/* do not need translation */
// hb_MutexCreate()           => hb_mutexCreate()
// hb_mutexUnlock( <x> )      => hb_mutexUnlock( <x> )

/* do not need translation only when xHarbour code is compiled by Harbour */
// hb_MutexLock( <x> )        => hb_MutexLock( <x> )

/* not possible to well replicate xHarbour behavior because its buggy
these function results are different on different platform, chosen
translation which returns compatible types (numeric) */
   #xtranslate ThreadGetCurrent()               => hb_threadId()
   #xtranslate GetSystemThreadId( [<x,...>] )   => hb_threadId( <x> )

/* functions I do not want to document as public .prg API in Harbour */
// ThreadInspect()
// ThreadInspectEnd()
// ThreadIsInspect()

/* functions which are not necessary in Harbour */
// hb_ThreadGetTryErrorArray()
// ThreadIdleFence()

/* function which I can add but it's not very usable in real life */
// hb_ThreadCountStacks()


/* real functions used as wrappers in above translations */

function xhb_StartThread( p1, p2, ... )
   if PCount() < 2
      return hb_threadStart( p1 )
   elseif valtype( p1 ) == "O" .and. valtype( p2 ) == "C"
      return hb_threadStart( {|...| p1:&p2( ... ) }, ... )
   endif
   return hb_threadStart( p1, p2, ... )

function xhb_mutexSubscribe( mtx, nTimeOut, lSubscribed )
   local xSubscribed
   lSubscribed := hb_mutexSubscribe( mtx, nTimeOut, @xSubscribed )
   return xSubscribed

function xhb_mutexSubscribeNow( mtx, nTimeOut, lSubscribed )
   local xSubscribed
   lSubscribed := hb_mutexSubscribeNow( mtx, nTimeOut, @xSubscribed )
   return xSubscribed


best regards,
Przemek
From niki at synel.co.il  Tue Mar 17 03:03:43 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 17 03:07:24 2009
Subject: [Harbour] hbdoc and \doc question
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9A@Mail-yoq.SYNEL-COMPANY.LTD>

Vlad,

> Please shortly explain, what is the current state of  hbdoc
> and documents in \doc folder,

As Viktor had said, hbdoc is a bit dodgy. As for the doc directory, it contain group
of white paper and how-to's in it root, and doc/en contain original work documentation.
The docs were not updated in the past 9 years (sorry, not in a position to do that anymore)
so parts marked as Harbour Exceptions are probably obsolete. Basic clipper functions
and command are probably accurate. doc/es is translated subset of doc/en but as I don't
read Spanish, I can't tell you much about the quality of those.


  Chen.
From harbour.01 at syenar.hu  Tue Mar 17 03:10:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 03:10:47 2009
Subject: [Harbour] compiler error
In-Reply-To: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
References: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
Message-ID: <18d502870903170010u7a412e65s1ecc589e86bffdbb@mail.gmail.com>

Hi WenSheng,

I would, but I have no idea how to fix this for Chinese OS.One idea is to
replace chars with hexadecimal notation, but
we need to know what we're doing, since a) other parts may
also need a fix b) maybe this isn't the proper solution. It could
even be a compiler problem.

For the time being, you may give it another shot with a
different compiler (MinGW, MSVC), maybe they are working
better in your environment.

Also, to give a better idea of the nature of this problem, please
send your complete error list by using -i make option:
d:\>make_gnu.bat -i install

Brgds,
Viktor

On Tue, Mar 17, 2009 at 1:55 AM, WenSheng <ssbbstw@yahoo.com> wrote:

>
> my OS compiler environment is:
> Windows XP SP3 / Borland C++ 5.51 / mingw-make 3.81 / Chinese Language
>
> I have config dos environment:
>
> d:\>set path=d:\mingw-make\bin;d:\bcc55\bin;%path%
> d:\>set HB_COMPILER=<msvc|owatcom|bcc|pocc|...>
> d:\>set HB_INSTALL_PREFIX=d:\harbour
> d:\>make_gnu.bat install
>
> everytime copmpiler harbour (or xharbour) path
>   about ".\source\codepage\" & ".\source\lang\",
> I alway get error message:
> ------------------------------
> mingw32-make.exe[3]: Entering directory
> `E:/harbour/source/codepage/win/bcc'
> bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov
> -Oi
> -Oc    -c ../../cpbg866.c -ocpbg866.obj
> ../../cpbg866.c:
> Error E2380 ../../cpbg866.c 87: Unterminated string or character constant
> *** 1 errors in Compile ***
> mingw32-make.exe[3]: *** [cpbg866.obj] Error 1
> ------------------------------
>
> I think the error message is make by OS language.
> someboday can fix the long time problem?
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/d93b2438/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 03:21:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 03:21:48 2009
Subject: [Harbour] hbdoc and \doc question
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9A@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9A@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903170021o159a8ce0p2880cbcca9be2e29@mail.gmail.com>

hbdoc got seriously broken when we attempted to make it EOL independent. The
problem with the code is that it has
so many potential bugs, that even the smallest modification
can cause serious breakage (in some completely different
parts of the app).

If I wanted to invest (more) time in this (which I don't), I'd start
by replacing the file handling class hierarchy with a few simple
functions.

It's probably much more easy and convenient to write a new
reader from scratch and a writer to some other text formats
which can then be processed by an existing, portable
documentation tool.

The Spanish translation was suggested for deletion, which
I agree with (and without having any specific problem with
Spanish language itself of course), since English is already
enough of a job to maintain, especially without having native
Spanish speakers around.

Since hbdoc is broken and unless someone volunteers, it's
broken beyond repair, I'll move it to examples, along with
support files in the SVN tree until we find a better solution.
Having it that way is surely better than distributing a fully
broken app in /bin.

So please speak up if you intent to contribute to:
- hbdoc fixage
- Spanish translation
or have any other suggestions, otherwise I'll do these
two moves ASAP.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 8:03 AM, Chen Kedem <niki@synel.co.il> wrote:

> Vlad,
>
> > Please shortly explain, what is the current state of  hbdoc
> > and documents in \doc folder,
>
> As Viktor had said, hbdoc is a bit dodgy. As for the doc directory, it
> contain group
> of white paper and how-to's in it root, and doc/en contain original work
> documentation.
> The docs were not updated in the past 9 years (sorry, not in a position to
> do that anymore)
> so parts marked as Harbour Exceptions are probably obsolete. Basic clipper
> functions
> and command are probably accurate. doc/es is translated subset of doc/en
> but as I don't
> read Spanish, I can't tell you much about the quality of those.
>
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/5e623b6c/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 03:23:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 03:23:46 2009
Subject: [Harbour] hbdoc and documentation
In-Reply-To: <BLU145-W9EB481311215C2677385D85980@phx.gbl>
References: <BLU145-W9EB481311215C2677385D85980@phx.gbl>
Message-ID: <18d502870903170023y67eb5d05v99d5390b49cfd0ed@mail.gmail.com>

Hi Alejandro,

Thanks for jumping in, and sorry to hear these news.
I just hope your health is in good shape now.

On Tue, Mar 17, 2009 at 3:49 AM, Alejandro de Garate <
alex_degarate@hotmail.com> wrote:

>  Sorry for not sending mails :(
>
> I had to stop the harbour doc work some months ago due to serious family
> matters.
>
> I am returning to work (october state), but quite slowly. I am not aware of
> current state,
> I could not even read the mailing list.
>

Nothing has changed compared to October regarding docs.

See my other mail just sent a minute ago for more thoughts.
Your help would be very welcome.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/e1c3caab/attachment.html
From ssbbstw at yahoo.com  Tue Mar 17 03:23:38 2009
From: ssbbstw at yahoo.com (WenSheng)
Date: Tue Mar 17 03:23:54 2009
Subject: [Harbour] compiler error
In-Reply-To: <531d7a750903161826r3a696f7u497853d2deaebb2e@mail.gmail.com>
References: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
	<531d7a750903161826r3a696f7u497853d2deaebb2e@mail.gmail.com>
Message-ID: <20090317151139.DF44.84A669A0@mail.zzz.com.tw>


> Try:
> set path=d:\mingw-make\bin;d:\bcc55\bin;%path%
> set HB_COMPILER=bcc
> set HB_INSTALL_PREFIX=d:\harbour
> make_gnu.bat install
> 
> Vailton Renato

The problem is not 'install' is from 'compiler'.
diffent 'language' & 'codepage' can't exact read .c
like msgzhb5.c is exact:


msgbg866.c isn't exact!!  --> read word: lost symbol ["] ....
the problem is make by OS language.

-------------- next part --------------
Skipped content of type multipart/related
From lavr at ldz.lv  Tue Mar 17 03:39:33 2009
From: lavr at ldz.lv (Vladislav Lavrecky)
Date: Tue Mar 17 03:39:38 2009
Subject: [Harbour] hbdoc and \doc question
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9A@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9A@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <49BF53B5.3040400@ldz.lv>

Chen Kedem wrote:
> Vlad,
>
>   
>> Please shortly explain, what is the current state of  hbdoc
>> and documents in \doc folder,
>>     
>
> As Viktor had said, hbdoc is a bit dodgy. As for the doc directory, it contain group
> of white paper and how-to's in it root, and doc/en contain original work documentation.
> The docs were not updated in the past 9 years (sorry, not in a position to do that anymore)
> so parts marked as Harbour Exceptions are probably obsolete. Basic clipper functions
> and command are probably accurate. doc/es is translated subset of doc/en but as I don't
> read Spanish, I can't tell you much about the quality of those.
>
>
>   Chen.
>
>   
Viktor, Chen

Thanks a lot,
I just were to know is it worst of time trying to extract something 
useful from doc\en,
in doc root documents are in plain text, it's ok.

Best regards,
Vlad

From ssbbstw at yahoo.com  Tue Mar 17 03:42:31 2009
From: ssbbstw at yahoo.com (WenSheng)
Date: Tue Mar 17 03:42:44 2009
Subject: [Harbour] compiler error
In-Reply-To: <18d502870903170010u7a412e65s1ecc589e86bffdbb@mail.gmail.com>
References: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
	<18d502870903170010u7a412e65s1ecc589e86bffdbb@mail.gmail.com>
Message-ID: <20090317152712.DF4C.84A669A0@mail.zzz.com.tw>


> I would, but I have no idea how to fix this for Chinese OS.One idea is to
> replace chars with hexadecimal notation, 

This is a good idea to solution the problem!!
use 0x?? to replace word.

> but we need to know what we're doing, since a) other parts may
> also need a fix b) maybe this isn't the proper solution. It could
> even be a compiler problem.

You can use UltraEdit to show ASCII & HEX code like:

ASCII code image:



HEX code image:


change to:  0x81 0xea, 0xab, 0xa3, 0xa0, 0xe0, 0xe1, 0xaa, 0xa8.

> For the time being, you may give it another shot with a
> different compiler (MinGW, MSVC), maybe they are working
> better in your environment.

This is not nice solution!!

> >
> > my OS compiler environment is:
> > Windows XP SP3 / Borland C++ 5.51 / mingw-make 3.81 / Chinese Language
> >
> > I have config dos environment:
> >
> > d:\>set path=d:\mingw-make\bin;d:\bcc55\bin;%path%
> > d:\>set HB_COMPILER=<msvc|owatcom|bcc|pocc|...>
> > d:\>set HB_INSTALL_PREFIX=d:\harbour
> > d:\>make_gnu.bat install
> >
> > everytime copmpiler harbour (or xharbour) path
> >   about ".\source\codepage\" & ".\source\lang\",
> > I alway get error message:
> > ------------------------------
> > mingw32-make.exe[3]: Entering directory
> > `E:/harbour/source/codepage/win/bcc'
> > bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov
> > -Oi
> > -Oc    -c ../../cpbg866.c -ocpbg866.obj
> > ../../cpbg866.c:
> > Error E2380 ../../cpbg866.c 87: Unterminated string or character constant
> > *** 1 errors in Compile ***
> > mingw32-make.exe[3]: *** [cpbg866.obj] Error 1
> > ------------------------------
> >
> > I think the error message is make by OS language.
> > someboday can fix the long time problem?
> >

-------------- next part --------------
Skipped content of type multipart/related
From harbour.01 at syenar.hu  Tue Mar 17 03:42:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 03:43:02 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <22550722.post@talk.nabble.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
	<18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
	<22550722.post@talk.nabble.com>
Message-ID: <18d502870903170042n250d8f4ej5bda9870555e9486@mail.gmail.com>

Hi Pritpal,


> > The question is which way to choose to rewrite it _once_.
> > Options: GUI and WUI (web UI). For me a GUI is only an
> > option if it's at least portable, and it's a plus if it's relatively
> > easy to migrate CUI source, possibly with gradual rewrite.
> >
>
> This is EXACTLY the theme of GTWVG. Reusability of Clipper source.
> Just add few lines and have a nice look and feel.


Personally I don't want to keep UI source code by all means.
The problem with this approach is that it rarely gives a native
GUI feel. What would be important though is to have a relatively
easy upgrade path, and what helps a lot is if you can convert
your app window-by-window.

> classes can live by themselves (or not), and its also unclear
> > how the different namespaces / internal components are
> > connected to each other.
> >
>
> Yes, off course, too many things. But all are detachable, all
> can be used separately as well as cummulatively. Namespaces
> are strikingly distinguished. None interfare with others. And it is
> relatively easy to separate if there is a need for so.


I would suggest this route, if for nothing else, for the reason of clarity.
If it's clear, maybe other can also join the effort of developing it,
or we can at least have a better idea of what "assets" we have
there.

This is a question of debate. I choose Xbase++ modal on the strength
> of its sheer uniformity in calling conventions and parameter passing
> PLUS a decent documentation you need not to rewrite PLUS a large
> user base. Enough reasons to base.


Yes, these are absolutely valid ones. I really cannot judge here by
lack of experience and knowledge.

Xbase++ compatible framework is purely on PRG level. To make it
> multi-platform you need to call the OS API. So it it is just a matter
> of time when someone copy its class structure and implement the
> next platform.


Jumping on the theoretical level: .prg code _can_ be non-portable
for several reasons, starting from non-portable concepts, through
focusing on OS specific features / models, ending with simple
non-portable code (filename handling, using OS specific Harbour
features, using non-portable OS features.) So, generally speaking
.prg code is not a guarantee for portable code. I didn't speak here
about Xbase++ classes, or your implementation, since I don't know
them enough, but rather in general terms.

Sadly. And hence GTWVG + Xbase++ implementation is a
> single handed effort in that direction.


Yes, one problem I see, is the mentioned problem of everything
being meshed together which makes is very difficult to oversee.
The sheer size of GTWVG also became huge, 1.5MB of source.
This IMO needs to be organized. The other part is deep deep
Windows dependence. I understand this is a Windows-only
contrib, but still, staying along the Harbour dev guidelines and
trying to isolate (or even avoid some of) these parts would certainly
help in suggesting a portable approach. GTWVG is doing everything
by itself, I don't see why does it need to have a duplicated OLE
engine. Time would better be spent on fixing our existing implementation,
rather than adding another one with similar or other flaws.
Big problem is that Xbase++ parts are closely tied to WVG GT,
so it cannot even be tried out without using WVG GT.

A few points which could be fixed:
- To avoid xhb.lib (which isn't terribly portable)
- To not use Harbour internals.
- To not use CPU specific code.
- Separation of OLE/ActiveX.
- Maybe it's impossible now, but GTWVG could inherit from GTWVT,
  instead of copy-pasting (duplicating) functionality.
- Modularize, modularize, modularize :)

I'd imaging these layers with clear namespace and file structure:
- GT (inheriting from WVT and others in the future)
- WAPI functions
- WIN functions
- WVG functions (named WVT_* - this is also a big reason for confusion)
- Xbase++ parts
- GTWVW functions.

With clear call rules:
- Xbase++ parts call WAPI/WIN API only.
- WVG functions call WAPI/WIN API, uses WVG GT dependent features only.
- GTWVW functions call WAPI/WIN API only.
- WIN calls WAPI only.
- All above parts can of course you any std Harbour API.

Since I understand you have a strong concern of being compatible
with your own software, I think you should somehow detach this
need from GTWVG general development, maybe with a set of
compatibility API (not necessarily public), or by other means. But
this is really something I can only advise on, it's your time and
your effort.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/54e72fc9/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 03:47:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 03:48:01 2009
Subject: [Harbour] compiler error
In-Reply-To: <20090317152712.DF4C.84A669A0@mail.zzz.com.tw>
References: <20090317084037.214D.84A669A0@mail.zzz.com.tw>
	<18d502870903170010u7a412e65s1ecc589e86bffdbb@mail.gmail.com>
	<20090317152712.DF4C.84A669A0@mail.zzz.com.tw>
Message-ID: <18d502870903170047w1258e3ccpf183bb41edcc1e9d@mail.gmail.com>

>
> > I would, but I have no idea how to fix this for Chinese OS.One idea is to
> > replace chars with hexadecimal notation,
>
> This is a good idea to solution the problem!!
> use 0x?? to replace word.
>

Yes, but I'm not sure what we're fixing here and why,
so at this point it's a rather a workaround or even worse,
just plain guess.


> > For the time being, you may give it another shot with a
> > different compiler (MinGW, MSVC), maybe they are working
> > better in your environment.
>
> This is not nice solution!!
>

If this is a BCC problem, it may be one.

You seem to have ignored my requests, so probably
that's all I can do to help on this matter for now.

Anyhow if someone has -i compilation results for BCC
and possibly for MinGW/MSVC in Chinese systems,
I'd like to see them.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/209c1b4d/attachment.html
From niki at synel.co.il  Tue Mar 17 04:04:22 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 17 04:07:59 2009
Subject: [Harbour] compiler error
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9B@Mail-yoq.SYNEL-COMPANY.LTD>

Viktoer,

> If this is a BCC problem, it may be one.

Just tested rev10625, and all files in source/lang compiled with no problem
(like it was for quite long time).

I'm using Borland C++Builder 5.0, WinNT 4 sp6a (Hebrew Enabled),
mingw32-make.exe 3.81

Maybe it is something with UNICODE or double-byes OS specific.
I'll try now with UNICODE build...

  Chen.
From vszakats at users.sourceforge.net  Tue Mar 17 04:28:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 04:28:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10626] trunk/harbour
Message-ID: <E1LjUeZ-00039T-Rw@dn4whf1.ch3.sourceforge.com>

Revision: 10626
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10626&view=rev
Author:   vszakats
Date:     2009-03-17 08:28:01 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 09:26 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbdoc/genos2.prg
  * utils/hbdoc/genng.prg
  * utils/hbdoc/genasc.prg
  * utils/hbdoc/genchm.prg
  * utils/hbdoc/genhpc.prg
  * utils/hbdoc/ft_funcs.prg
  * utils/hbdoc/hbdoc.prg
  * utils/hbdoc/genhtm.prg
  * utils/hbdoc/genpdf1.prg
  * utils/hbdoc/gentrf.prg
  * utils/hbdoc/genrtf.prg
    + Enabled line number for all files to aid finding crashes.
    ! Few crashes fixed. Still far from usable state.

  * source/vm/thread.c
    + Added short Harbour level API description. (from Przemek)

  * contrib/xhb/Makefile
  * contrib/xhb/hbcompat.ch
  + contrib/xhb/xhbmt.prg
    + Added translation for all xhb MT functions.
      (Thanks a lot Przemek)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/source/vm/thread.c
    trunk/harbour/utils/hbdoc/ft_funcs.prg
    trunk/harbour/utils/hbdoc/genasc.prg
    trunk/harbour/utils/hbdoc/genchm.prg
    trunk/harbour/utils/hbdoc/genhpc.prg
    trunk/harbour/utils/hbdoc/genhtm.prg
    trunk/harbour/utils/hbdoc/genng.prg
    trunk/harbour/utils/hbdoc/genos2.prg
    trunk/harbour/utils/hbdoc/genpdf1.prg
    trunk/harbour/utils/hbdoc/genrtf.prg
    trunk/harbour/utils/hbdoc/gentrf.prg
    trunk/harbour/utils/hbdoc/hbdoc.prg

Added Paths:
-----------
    trunk/harbour/contrib/xhb/xhbmt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 17 04:28:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 04:28:19 2009
Subject: [Harbour] compiler error
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9B@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52A9B@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903170128r82f13d6t40df1bc2a7a70e2a@mail.gmail.com>

Thanks Chen, yes, it's DBCS OS issue, what I'm unsure of if it's a compiler
issue or some more general stuff. Both ways, we should identity all similar
spots in Harbour source (and the rule
to avoid that in the future as well). This may also happen in generated
.c code. It seems strange that a compiler parser should behave differently
due to OS language, but maybe the OS text stream reader functions
do some magic on the input and pass that to BCC. Impossible (for me)
to tell without more tests.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 9:04 AM, Chen Kedem <niki@synel.co.il> wrote:

> Viktoer,
>
> > If this is a BCC problem, it may be one.
>
> Just tested rev10625, and all files in source/lang compiled with no problem
> (like it was for quite long time).
>
> I'm using Borland C++Builder 5.0, WinNT 4 sp6a (Hebrew Enabled),
> mingw32-make.exe 3.81
>
> Maybe it is something with UNICODE or double-byes OS specific.
> I'll try now with UNICODE build...
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/27eac59f/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 17 05:09:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 05:09:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10627] trunk/harbour
Message-ID: <E1LjVID-0006CU-VK@d5vjzd1.ch3.sourceforge.com>

Revision: 10627
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10627&view=rev
Author:   vszakats
Date:     2009-03-17 09:09:00 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 10:00 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * debian/rules
  * harbour-win-spec
  * harbour-wce-spec
  * harbour.spec
  * mpkg_tgz.sh
    - hbdoc removed from core.

  - doc/Makefile
  - doc/es
  + contrib/examples/hbdoc/examples/core_es
    * Moved.

  - doc/man/hbdoc.1
  + contrib/examples/hbdoc/hbdoc.1
    * Moved.

  - doc/en/genhtm.lnk
  - doc/en/genhtm.sh
  - doc/en/genhtm.rsp
  - doc/en/genhtm.bat
  + contrib/examples/hbdoc/examples/core_en/genhtm.rsp
  + contrib/examples/hbdoc/examples/core_en/genhtm.lnk
  + contrib/examples/hbdoc/examples/core_en/genhtm.bat
  + contrib/examples/hbdoc/examples/core_en/genhtm.sh
    * Moved.

  - contrib/hbgt/doc/gendoc.bat
  - contrib/hbgt/doc/libgt.lnk
  - contrib/hbgt/doc/libgt.rsp
  - contrib/rddads/doc/gendoc.bat
  - contrib/rddads/doc/rddads.lnk
  - contrib/rddads/doc/rddads.rsp
    - Deleted.

  * utils/Makefile
  - utils/hbdoc
  + contrib/examples/hbdoc
  - contrib/hbmisc/doc/gendoc.bat
  - contrib/hbmisc/doc/hbmisc.lnk
  - contrib/hbmisc/doc/hbmisc.rsp
  + contrib/examples/hbdoc/examples/hbmisc/gendoc.bat
  + contrib/examples/hbdoc/examples/hbmisc/hbmisc.lnk
  + contrib/examples/hbdoc/examples/hbmisc/hbmisc.rsp
    * Moved.

  - contrib/hbgt/doc/en/ht_gt.txt
  + contrib/hbgt/doc/en/hbgt.txt
    * Renamed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/hbdoc/Makefile
    trunk/harbour/debian/rules
    trunk/harbour/doc/Makefile
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/utils/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/examples/hbdoc/
    trunk/harbour/contrib/examples/hbdoc/examples/
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/genhtm.bat
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/genhtm.lnk
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/genhtm.rsp
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/genhtm.sh
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/
    trunk/harbour/contrib/examples/hbdoc/examples/hbmisc/
    trunk/harbour/contrib/examples/hbdoc/examples/hbmisc/gendoc.bat
    trunk/harbour/contrib/examples/hbdoc/examples/hbmisc/hbmisc.lnk
    trunk/harbour/contrib/examples/hbdoc/examples/hbmisc/hbmisc.rsp
    trunk/harbour/contrib/examples/hbdoc/ft_funcs.prg
    trunk/harbour/contrib/examples/hbdoc/genasc.prg
    trunk/harbour/contrib/examples/hbdoc/genchm.prg
    trunk/harbour/contrib/examples/hbdoc/genhpc.prg
    trunk/harbour/contrib/examples/hbdoc/genhtm.prg
    trunk/harbour/contrib/examples/hbdoc/genng.prg
    trunk/harbour/contrib/examples/hbdoc/genos2.prg
    trunk/harbour/contrib/examples/hbdoc/genpdf1.prg
    trunk/harbour/contrib/examples/hbdoc/genrtf.prg
    trunk/harbour/contrib/examples/hbdoc/gentrf.prg
    trunk/harbour/contrib/examples/hbdoc/hbdoc.1
    trunk/harbour/contrib/examples/hbdoc/hbdoc.prg
    trunk/harbour/contrib/hbgt/doc/en/hbgt.txt

Removed Paths:
-------------
    trunk/harbour/contrib/examples/hbdoc/ft_funcs.prg
    trunk/harbour/contrib/examples/hbdoc/genasc.prg
    trunk/harbour/contrib/examples/hbdoc/genchm.prg
    trunk/harbour/contrib/examples/hbdoc/genhpc.prg
    trunk/harbour/contrib/examples/hbdoc/genhtm.prg
    trunk/harbour/contrib/examples/hbdoc/genng.prg
    trunk/harbour/contrib/examples/hbdoc/genos2.prg
    trunk/harbour/contrib/examples/hbdoc/genpdf1.prg
    trunk/harbour/contrib/examples/hbdoc/genrtf.prg
    trunk/harbour/contrib/examples/hbdoc/gentrf.prg
    trunk/harbour/contrib/examples/hbdoc/hbdoc.prg
    trunk/harbour/contrib/hbgt/doc/en/ht_gt.txt
    trunk/harbour/contrib/hbgt/doc/gendoc.bat
    trunk/harbour/contrib/hbgt/doc/libgt.lnk
    trunk/harbour/contrib/hbgt/doc/libgt.rsp
    trunk/harbour/contrib/hbmisc/doc/gendoc.bat
    trunk/harbour/contrib/hbmisc/doc/hbmisc.lnk
    trunk/harbour/contrib/hbmisc/doc/hbmisc.rsp
    trunk/harbour/contrib/rddads/doc/gendoc.bat
    trunk/harbour/contrib/rddads/doc/rddads.lnk
    trunk/harbour/contrib/rddads/doc/rddads.rsp
    trunk/harbour/doc/en/genhtm.bat
    trunk/harbour/doc/en/genhtm.lnk
    trunk/harbour/doc/en/genhtm.rsp
    trunk/harbour/doc/en/genhtm.sh
    trunk/harbour/doc/es/
    trunk/harbour/doc/man/hbdoc.1
    trunk/harbour/utils/hbdoc/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar 17 05:55:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 05:55:50 2009
Subject: [Harbour] How can manage two different versione of ads
Message-ID: <609353e70903170255i25580679xefb745d0b9099e8@mail.gmail.com>

I need in different project manage ads 8.1 and ads 9.1 (with special feature
opening foxpro 9 table)
How can setup harbour to having either version library compiled?
Thanks in advance

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/82f02801/attachment.html
From mbelgrano at deltain.it  Tue Mar 17 06:54:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 06:54:59 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <22550818.post@talk.nabble.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316173048.GA8963@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org> <22550818.post@talk.nabble.com>
Message-ID: <609353e70903170354g1e13d92cod57d5fffd5dc7f79@mail.gmail.com>

Hello Pritpal
You can find info about qt with harbour at
http://www.magsoftinfo.com.br/blog/?cat=9

2009/3/17 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello
>
>
> Angel Pais wrote:
> Seems interesting. Can someone points me to the
> directions how I can setup QT on my XP machine and what should I
> look into, just to save me of some time. May be I put hands on QT and
> Xbase++ compatible GUI modal.
>
> Regards
> Pritpal Bedi
> --
>

-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/1747473b/attachment.html
From lorenzo.fiorini at gmail.com  Tue Mar 17 07:15:41 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Mar 17 07:15:47 2009
Subject: [Harbour] ../../thread.c:61:44: warning: "/*" within comment
Message-ID: <9257026e0903170415m2bb8e797p7d64b2e3470f2b49@mail.gmail.com>

as subject

best regards,
Lorenzo
From mbelgrano at deltain.it  Tue Mar 17 07:17:21 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 07:17:26 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<gpm2tn$mla$1@ger.gmane.org>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
	<18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
Message-ID: <609353e70903170417g7bbbe896j8abb447c72b94590@mail.gmail.com>

Wich path allow GUI and WUI?

2009/3/16 Viktor Szak?ts <harbour.01@syenar.hu>

>
> For me this isn't a problem yet, since my app is still CUI.
>
> The question is which way to choose to rewrite it _once_.
> Options: GUI and WUI (web UI). For me a GUI is only an
> option if it's at least portable, and it's a plus if it's relatively
> easy to migrate CUI source, possibly with gradual rewrite.
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/88cb6b3f/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 07:20:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 07:20:12 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <609353e70903170417g7bbbe896j8abb447c72b94590@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316182911.GA10548@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
	<18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
	<609353e70903170417g7bbbe896j8abb447c72b94590@mail.gmail.com>
Message-ID: <18d502870903170420r76d1d79bx7b526c5a4bcebb5d@mail.gmail.com>

both? probably none.
Brgds,
Viktor

On Tue, Mar 17, 2009 at 12:17 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Wich path allow GUI and WUI?
>
> 2009/3/16 Viktor Szak?ts <harbour.01@syenar.hu>
>
>>
>> For me this isn't a problem yet, since my app is still CUI.
>>
>> The question is which way to choose to rewrite it _once_.
>> Options: GUI and WUI (web UI). For me a GUI is only an
>> option if it's at least portable, and it's a plus if it's relatively
>> easy to migrate CUI source, possibly with gradual rewrite.
>>
>>
>
>
> --
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/5f84fbcd/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 17 07:23:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 07:23:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10628] trunk/harbour
Message-ID: <E1LjXOO-0001PN-9C@d5vjzd1.ch3.sourceforge.com>

Revision: 10628
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10628&view=rev
Author:   vszakats
Date:     2009-03-17 11:23:27 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 12:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + tests/server.prg
  * tests/Makefile
    + Added inet example from xhb.

  * source/vm/thread.c
    ! Fixed nested comment.

  * contrib/xhb/hbcompat.ch
  * contrib/xhb/xhb.ch
    ! Moved xhb.lib dependent translation to xhb.ch.

  * contrib/examples/hbdoc/examples/core_es/Makefile
  * contrib/examples/hbdoc/examples/core_en/genhtm.bat
  - contrib/examples/hbdoc/examples/core_en/genhtm.sh
    * Cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/genhtm.bat
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/Makefile
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/contrib/xhb/xhb.ch
    trunk/harbour/source/vm/thread.c
    trunk/harbour/tests/Makefile

Added Paths:
-----------
    trunk/harbour/tests/server.prg

Removed Paths:
-------------
    trunk/harbour/contrib/examples/hbdoc/examples/core_en/genhtm.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar 17 07:58:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 07:58:50 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
Message-ID: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>

Using Qt, you can write applications once and deploy them across many
desktop and embedded operating systems without rewriting the source code.is
possible Develop applications and user interfaces once, and deploy them
across Windows, Mac, Linux/X11, embedded Linux, Windows CE and S60 (coming
soon) without rewriting the source code.
Qt is a complete C++ application development framework, including

   - A comprehensive C++ class library
   - RAD GUI development tool (Qt Designer)
   - Internationalization tool (Qt Linguist)
   - Help browser (Qt Assistant)
   - Source code and comprehensive documentation

Qt supplies 80-90% of commonly needed functionality for rich client
developers
400+ fully documented classes
Core libs: GUI, Utility, Events, File, Print, Network, Plugins, Threads,
Date and Time, Image processing, Styles, Standard dialogs
Modules: Canvas, Iconview, Network, OpenGL?, SQL, Table, Workspace, XML
Tools: Designer, Assistant, Linguist
Extensions: ActiveQt, Motif migration, MFC migration
Qt Solutions for platform-specific customer requests
Easy to add/extend/customize
The Qt API and tools are consistent across all supported platforms
Qt runs on mobile phones to Cray supercomputers
Consequence for users and customers
Freedom of choice in terms of development and deployment platform
Protection against changing platform fashions

Qt Have Native look on windows and linux
QT requires a commercial license if you plan to sell your product written in
QT
Qt is used as the basis of the Linux KDE (K Desktop Environment)
Millions of lines of code, strong reliability requirements, industry
strength stability
Widely used by Linux community thousands of developers millions of end-users
Used commercially in a wide variety of demanding applications (Medical
devices,Air traffic guidance)
A Sample application of qt will be Abobe Photoshop Album

Use the standard native tools to build Qt apps (IDE, debugger etc.)
Qt provides a platform-independent encapsulation of the local window system
and operating system
The Qt API is identical on every platform, applications are compiled to
native executables
Result: Write once, compile everywhere

Here hello word
#include <qapplication.h>
#include <qlabel.h>

int main(int argc, char* argv[]) {
  QApplication myapp(argc, argv);

  QLabel* mylabel = new QLabel("Hello MSU?,0);
  mylabel->resize(80,30);

  myapp.setMainWidget(mylabel);
  mylabel->show();
  return myapp.exec();

Developement tools overview
Qt Designer (Visual GUI builder)
Qt Linguist (Language translators? tool)
Qt Assistant (Help browser)
qmake (Makefile generator, eases cross-platform builds)

A lot of intresting info regarding qt can be found at
http://doc.trolltech.com/4.5/index.html
The qt home page is at http://www.qtsoftware.com/
The forum is at http://labs.trolltech.com/forums/
It support Active X http://doc.trolltech.com/4.5/activeqt.html
it have a web kit  http://doc.trolltech.com/4.5/qtwebkit.html
Qt is available under the GPL. http://doc.trolltech.com/4.5/gpl.html


An harbour qt implementation at http://www.magsoftinfo.com.br/blog/?cat=9

Plase add here any interesting information regarding qt
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/7b5bf112/attachment-0001.html
From harbour.01 at syenar.hu  Tue Mar 17 08:16:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 08:16:56 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
Message-ID: <18d502870903170516r5c8408daj942c121d27b70fe8@mail.gmail.com>

It would be nice if you would post your sources when you copy paste such
stuff.

Without it, it's impossible to tell whether for example this
very important statement is really true or false:
"QT requires a commercial license if you plan to sell your product written
in QT"

AFAIK this is not true anymore. But, read more here:
http://www.ics.com/files/docs/Qt_LGPL.pdf

Brgds,
Viktor

On Tue, Mar 17, 2009 at 12:58 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Using Qt, you can write applications once and deploy them across many
> desktop and embedded operating systems without rewriting the source code.is
> possible Develop applications and user interfaces once, and deploy them
> across Windows, Mac, Linux/X11, embedded Linux, Windows CE and S60 (coming
> soon) without rewriting the source code.
> Qt is a complete C++ application development framework, including
>
>    - A comprehensive C++ class library
>    - RAD GUI development tool (Qt Designer)
>    - Internationalization tool (Qt Linguist)
>    - Help browser (Qt Assistant)
>    - Source code and comprehensive documentation
>
> Qt supplies 80-90% of commonly needed functionality for rich client
> developers
> 400+ fully documented classes
> Core libs: GUI, Utility, Events, File, Print, Network, Plugins, Threads,
> Date and Time, Image processing, Styles, Standard dialogs
> Modules: Canvas, Iconview, Network, OpenGL?, SQL, Table, Workspace, XML
> Tools: Designer, Assistant, Linguist
> Extensions: ActiveQt, Motif migration, MFC migration
> Qt Solutions for platform-specific customer requests
> Easy to add/extend/customize
> The Qt API and tools are consistent across all supported platforms
> Qt runs on mobile phones to Cray supercomputers
> Consequence for users and customers
> Freedom of choice in terms of development and deployment platform
> Protection against changing platform fashions
>
> Qt Have Native look on windows and linux
> QT requires a commercial license if you plan to sell your product written
> in QT
> Qt is used as the basis of the Linux KDE (K Desktop Environment)
> Millions of lines of code, strong reliability requirements, industry
> strength stability
> Widely used by Linux community thousands of developers millions of
> end-users
> Used commercially in a wide variety of demanding applications (Medical
> devices,Air traffic guidance)
> A Sample application of qt will be Abobe Photoshop Album
>
> Use the standard native tools to build Qt apps (IDE, debugger etc.)
> Qt provides a platform-independent encapsulation of the local window system
> and operating system
> The Qt API is identical on every platform, applications are compiled to
> native executables
> Result: Write once, compile everywhere
>
> Here hello word
> #include <qapplication.h>
> #include <qlabel.h>
>
> int main(int argc, char* argv[]) {
>   QApplication myapp(argc, argv);
>
>   QLabel* mylabel = new QLabel("Hello MSU?,0);
>   mylabel->resize(80,30);
>
>   myapp.setMainWidget(mylabel);
>   mylabel->show();
>   return myapp.exec();
>
> Developement tools overview
> Qt Designer (Visual GUI builder)
> Qt Linguist (Language translators? tool)
> Qt Assistant (Help browser)
> qmake (Makefile generator, eases cross-platform builds)
>
> A lot of intresting info regarding qt can be found at
> http://doc.trolltech.com/4.5/index.html
> The qt home page is at http://www.qtsoftware.com/
> The forum is at http://labs.trolltech.com/forums/
> It support Active X http://doc.trolltech.com/4.5/activeqt.html
> it have a web kit  http://doc.trolltech.com/4.5/qtwebkit.html
> Qt is available under the GPL. http://doc.trolltech.com/4.5/gpl.html
>
>
> An harbour qt implementation at http://www.magsoftinfo.com.br/blog/?cat=9
>
> Plase add here any interesting information regarding qt
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/c0310cb7/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 17 08:41:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 08:41:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10629] trunk/harbour
Message-ID: <E1LjYba-0006TL-SG@74yxhf1.ch3.sourceforge.com>

Revision: 10629
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10629&view=rev
Author:   vszakats
Date:     2009-03-17 12:41:13 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 13:40 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * harbour-win-spec
  * harbour-wce-spec
  * make_gnu_xmingw.sh
  * make_gnu_xmingwce.sh
  * mpkg_rpm_win.sh
  * mpkg_tgz.sh
  * bin/hb-mkdyn.sh
  * bin/hb-func.sh
  * bin/postinst.sh
  * config/win/mingwce.cf
  * config/win/mingw.cf
    * CCPATH -> HB_CCPATH
    * CCPREFIX -> HB_CCPREFIX

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh
    trunk/harbour/mpkg_rpm_win.sh
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Mar 17 10:26:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 10:26:21 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <18d502870903170516r5c8408daj942c121d27b70fe8@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<18d502870903170516r5c8408daj942c121d27b70fe8@mail.gmail.com>
Message-ID: <609353e70903170726p16892432p13398b4f3ee325a3@mail.gmail.com>

You are right from 14th of January, 2009 add qt  lgpl
So the explicit goal of the LGPL is to allow ?non-free? (e.g., proprietary)
applications to
use a piece of software without being forced to release the source code of
the proprietary
portions of the application to others. This is the fundamental difference
between the two
open source licenses.

My source is www.cs.montana.edu/~acm/res/*qt*/qtpresentation.pp


2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>

> It would be nice if you would post your sources when you copy paste such
> stuff.
>
> Without it, it's impossible to tell whether for example this
> very important statement is really true or false:
> "QT requires a commercial license if you plan to sell your product written
> in QT"
>
> AFAIK this is not true anymore. But, read more here:
> http://www.ics.com/files/docs/Qt_LGPL.pdf
>
> Brgds,
> Viktor
>
> On Tue, Mar 17, 2009 at 12:58 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> Using Qt, you can write applications once and deploy them across many
>> desktop and embedded operating systems without rewriting the source code.is
>> possible Develop applications and user interfaces once, and deploy them
>> across Windows, Mac, Linux/X11, embedded Linux, Windows CE and S60 (coming
>> soon) without rewriting the source code.
>> Qt is a complete C++ application development framework, including
>>
>>    - A comprehensive C++ class library
>>    - RAD GUI development tool (Qt Designer)
>>    - Internationalization tool (Qt Linguist)
>>    - Help browser (Qt Assistant)
>>    - Source code and comprehensive documentation
>>
>> Qt supplies 80-90% of commonly needed functionality for rich client
>> developers
>> 400+ fully documented classes
>> Core libs: GUI, Utility, Events, File, Print, Network, Plugins, Threads,
>> Date and Time, Image processing, Styles, Standard dialogs
>> Modules: Canvas, Iconview, Network, OpenGL?, SQL, Table, Workspace, XML
>> Tools: Designer, Assistant, Linguist
>> Extensions: ActiveQt, Motif migration, MFC migration
>> Qt Solutions for platform-specific customer requests
>> Easy to add/extend/customize
>> The Qt API and tools are consistent across all supported platforms
>> Qt runs on mobile phones to Cray supercomputers
>> Consequence for users and customers
>> Freedom of choice in terms of development and deployment platform
>> Protection against changing platform fashions
>>
>> Qt Have Native look on windows and linux
>> QT requires a commercial license if you plan to sell your product written
>> in QT
>> Qt is used as the basis of the Linux KDE (K Desktop Environment)
>> Millions of lines of code, strong reliability requirements, industry
>> strength stability
>> Widely used by Linux community thousands of developers millions of
>> end-users
>> Used commercially in a wide variety of demanding applications (Medical
>> devices,Air traffic guidance)
>> A Sample application of qt will be Abobe Photoshop Album
>>
>> Use the standard native tools to build Qt apps (IDE, debugger etc.)
>> Qt provides a platform-independent encapsulation of the local window
>> system and operating system
>> The Qt API is identical on every platform, applications are compiled to
>> native executables
>> Result: Write once, compile everywhere
>>
>> Here hello word
>> #include <qapplication.h>
>> #include <qlabel.h>
>>
>> int main(int argc, char* argv[]) {
>>   QApplication myapp(argc, argv);
>>
>>   QLabel* mylabel = new QLabel("Hello MSU?,0);
>>   mylabel->resize(80,30);
>>
>>   myapp.setMainWidget(mylabel);
>>   mylabel->show();
>>   return myapp.exec();
>>
>> Developement tools overview
>> Qt Designer (Visual GUI builder)
>> Qt Linguist (Language translators? tool)
>> Qt Assistant (Help browser)
>> qmake (Makefile generator, eases cross-platform builds)
>>
>> A lot of intresting info regarding qt can be found at
>> http://doc.trolltech.com/4.5/index.html
>> The qt home page is at http://www.qtsoftware.com/
>> The forum is at http://labs.trolltech.com/forums/
>> It support Active X http://doc.trolltech.com/4.5/activeqt.html
>> it have a web kit  http://doc.trolltech.com/4.5/qtwebkit.html
>> Qt is available under the GPL. http://doc.trolltech.com/4.5/gpl.html
>>
>>
>> An harbour qt implementation at http://www.magsoftinfo.com.br/blog/?cat=9
>>
>> Plase add here any interesting information regarding qt
>> --
>> Massimo Belgrano
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/97d18147/attachment.html
From druzus at users.sourceforge.net  Tue Mar 17 11:15:27 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 17 11:15:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
Message-ID: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>

Revision: 10630
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10630&view=rev
Author:   druzus
Date:     2009-03-17 15:15:18 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 16:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    + added new tests of dynamic code blocks performance
    * modified to compile by __XPP__ and __CLIP__ - now for single
      thread only

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 17 11:29:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 11:29:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>

Hi Przemek,
Probably you missed my message yesterday, but
this line will RTE in Xbase++:

TEST t017 WITH o := errorArray() CODE x := o[2]

Brgds,
Viktor

On Tue, Mar 17, 2009 at 4:15 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10630
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10630&view=rev
> Author:   druzus
> Date:     2009-03-17 15:15:18 +0000 (Tue, 17 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-17 16:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/tests/speedtst.prg
>    + added new tests of dynamic code blocks performance
>    * modified to compile by __XPP__ and __CLIP__ - now for single
>      thread only
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/tests/speedtst.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/8b4c1f5c/attachment.html
From druzus at acn.waw.pl  Tue Mar 17 11:46:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 11:39:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
Message-ID: <20090317154600.GA17587@uran.home.aster.pl>

On Tue, 17 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Probably you missed my message yesterday, but
> this line will RTE in Xbase++:
> TEST t017 WITH o := errorArray() CODE x := o[2]

No I haven't and above is fixed version.

Now I would like to ask you and other xbase++ users to send here
the results from Harbour and XPP binaries executed on the same
computer from exactly this version. I want to compare them.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 17 11:45:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 11:45:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317154600.GA17587@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
Message-ID: <18d502870903170845m3fc70ef6u5c422541fa112daa@mail.gmail.com>

Yep, sorry, I was only focusing on the array access, I see you've added more
logic there.

I'll do tests a bit later.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 4:46 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Tue, 17 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > Probably you missed my message yesterday, but
> > this line will RTE in Xbase++:
> > TEST t017 WITH o := errorArray() CODE x := o[2]
>
> No I haven't and above is fixed version.
>
> Now I would like to ask you and other xbase++ users to send here
> the results from Harbour and XPP binaries executed on the same
> computer from exactly this version. I want to compare them.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/e07eea4f/attachment.html
From amigosam at adinet.com.uy  Tue Mar 17 12:00:26 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar 17 12:00:34 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
Message-ID: <gpohef$8bp$1@ger.gmane.org>

Attached xbase++  test.

Compiled same prg with: hbmk2 speedtst.prg.
exe generated, does nothing on run

HTH
Angel


druzus@users.sourceforge.net escribi?:
> Revision: 10630
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10630&view=rev
> Author:   druzus
> Date:     2009-03-17 15:15:18 +0000 (Tue, 17 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-17 16:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/tests/speedtst.prg
>     + added new tests of dynamic code blocks performance
>     * modified to compile by __XPP__ and __CLIP__ - now for single
>       thread only
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/tests/speedtst.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.

-------------- next part --------------
Intel Celeron CPU 560 @ 2.13GHz 1 MB RAM

03/17/2009 12:34:04 Windows XP 05.01 Build 02600 Service Pack 2
Xbase++ (R) Version 1.90 (MT) 
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................0.08
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.21
[ T005: x := S_N ]..............................................0.16
[ T006: x := S_D ]..............................................0.14
[ T007: x := M->M_C ]...........................................0.49
[ T008: x := M->M_N ]...........................................0.39
[ T009: x := M->M_D ]...........................................0.39
[ T010: x := M->P_C ]...........................................0.52
[ T011: x := M->P_N ]...........................................0.44
[ T012: x := M->P_D ]...........................................0.49
[ T013: x := F_C ]..............................................0.80
[ T014: x := F_N ]..............................................0.72
[ T015: x := F_D ]..............................................0.71
[ T016: x := o:Args ]...........................................0.47
[ T017: x := o[2] ].............................................0.11
[ T018: round( i / 1000, 2 ) ]..................................1.52
[ T019: str( i / 1000 ) ].......................................7.96
[ T020: val( s ) ]..............................................0.89
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.30
[ T022: dtos( d - i % 10000 ) ].................................1.97
[ T023: eval( { || i % 16 } ) ].................................3.66
[ T024: eval( bc := { || i % 16 } ) ]...........................1.88
[ T025: eval( { |x| x % 16 }, i ) ].............................1.51
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.15
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.75
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.53
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.46
[ T030: x := &( 'f1(' + str(i) + ')' ) ].......................31.16
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............47.67
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.21
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........6.94
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.83
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.14
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.43
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.27
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.15
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.13
[ T040: ascan( a, i % 16 ) ]....................................2.44
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................15.11
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]...12.08
[ T043: x := a ]................................................0.07
[ T044: x := {} ]...............................................1.13
[ T045: f0() ]..................................................0.42
[ T046: f1( i ) ]...............................................0.55
[ T047: f2( c[1...8] ) ]........................................0.44
[ T048: f2( c[1...40000] ) ]....................................0.41
[ T049: f2( @c[1...40000] ) ]...................................0.60
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.50
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.78
[ T052: f2( a ) ]...............................................0.39
[ T053: x := f4() ].............................................2.73
[ T054: x := f5() ].............................................1.86
[ T055: x := space(16) ]........................................0.97
[ T056: f_prv( c ) ]............................................1.42
====================================================================
[ total application time: ]...................................173.01
[ total real time: ]..........................................173.01
From vszakats at users.sourceforge.net  Tue Mar 17 12:30:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 12:30:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10631] trunk/harbour
Message-ID: <E1LjcBY-0001Np-Ee@d5vjzd1.ch3.sourceforge.com>

Revision: 10631
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10631&view=rev
Author:   vszakats
Date:     2009-03-17 16:30:35 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 17:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.sh
  * bin/hb-mkdyn.bat
  * source/vm/maindllp.c
  * utils/hbmk2/hbmk2.prg
    + Renamed all Windows Harbour .dlls to harbour-11.dll and
      harbourmt-11.dll. This means that MinGW will now have a versioned
      name to be in sync with other builds. It also means that
      -vc, -pocc, -ow postfixes are gone (and additionally DMC
      could also be supported). What remains is -x64 to
      signal an x64 and -ia64 to signal a IA64 build. Another thing
      which remains is -b32 (now renamed to -bcc to be in sync with
      rest of Harbour), because Borland has an non-standard
      name mangling, and while it can be made work with other
      compilers since the calling convention is the same, it requires
      the .dll user applications to be rebuilt with some implib tricks.
      Overall Borland isn't recommended for .dll creation.
      Please do further tests for binary compatibility.

    ; TOFIX: Location of .dll still differs for mingw/cygwin, they
             are created in lib while rest of compilers create it in
             bin. I think we should sync them by creating a copy
             of the .dlls in bin for mingw/cygwin. Przemek, could
             you help here?
    ; TOFIX: "Making <dllname>..." screen messages. I'll need some  
             help here also.

  * bin/hb-mkdyn.sh
    * ${MAJOR} default set to 1.

  * make_gnu_os2.cmd
    * Minor formatting.

  * contrib/hbgd/gdwrp.c
    ! Minor correction to recent change. (avoiding warning for MinGW)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/contrib/hbgd/gdwrp.c
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 17 12:45:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 12:45:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317154600.GA17587@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
Message-ID: <18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>

Here are the results:
>xpp speedtst.prg /n && alink speedtst

03/17/2009 17:34:57 Windows XP 05.01 Build 02600 Service Pack 3
Xbase++ (R) Version 1.90 (MT)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.08
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.04
[ T007: x := M->M_C ]...........................................0.24
[ T008: x := M->M_N ]...........................................0.17
[ T009: x := M->M_D ]...........................................0.18
[ T010: x := M->P_C ]...........................................0.25
[ T011: x := M->P_N ]...........................................0.19
[ T012: x := M->P_D ]...........................................0.18
[ T013: x := F_C ]..............................................0.35
[ T014: x := F_N ]..............................................0.30
[ T015: x := F_D ]..............................................0.30
[ T016: x := o:Args ]...........................................0.20
[ T017: x := o[2] ].............................................0.05
[ T018: round( i / 1000, 2 ) ]..................................1.51
[ T019: str( i / 1000 ) ].......................................9.72
[ T020: val( s ) ]..............................................0.44
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.05
[ T022: dtos( d - i % 10000 ) ].................................1.47
[ T023: eval( { || i % 16 } ) ].................................1.52
[ T024: eval( bc := { || i % 16 } ) ]...........................0.94
[ T025: eval( { |x| x % 16 }, i ) ].............................0.65
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.55
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.83
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.74
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.03
[ T030: x := &( 'f1(' + str(i) + ')' ) ].......................23.89
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............24.41
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.44
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.00
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.38
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.56
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.56
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.57
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.56
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.56
[ T040: ascan( a, i % 16 ) ]....................................0.97
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................6.82
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....8.89
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.44
[ T045: f0() ]..................................................0.24
[ T046: f1( i ) ]...............................................0.22
[ T047: f2( c[1...8] ) ]........................................0.26
[ T048: f2( c[1...40000] ) ]....................................0.21
[ T049: f2( @c[1...40000] ) ]...................................0.22
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.23
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.33
[ T052: f2( a ) ]...............................................0.18
[ T053: x := f4() ].............................................1.04
[ T054: x := f5() ].............................................0.62
[ T055: x := space(16) ]........................................0.36
[ T056: f_prv( c ) ]............................................0.70
====================================================================
[ total application time: ]...................................108.45
[ total real time: ]..........................................108.45


>hbmk2 speedtst.prg -shared -mt -gc3

03/17/09 17:39:33 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10630) (MT) MinGW GNU C 4.3.2 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................0.11
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.13
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M_C ]..............................................0.16
[ T008: x := M_N ]..............................................0.06
[ T009: x := M_D ]..............................................0.06
[ T010: x := P_C ]..............................................0.16
[ T011: x := P_N ]..............................................0.06
[ T012: x := P_D ]..............................................0.06
[ T013: x := F_C ]..............................................0.47
[ T014: x := F_N ]..............................................0.34
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.31
[ T017: x := o[2] ].............................................0.20
[ T018: round( i / 1000, 2 ) ]..................................0.52
[ T019: str( i / 1000 ) ].......................................3.31
[ T020: val( s ) ]..............................................0.53
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.81
[ T022: dtos( d - i % 10000 ) ].................................0.86
[ T023: eval( { || i % 16 } ) ].................................1.41
[ T024: eval( bc := { || i % 16 } ) ]...........................0.48
[ T025: eval( { |x| x % 16 }, i ) ].............................0.89
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.48
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.95
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.56
[ T029: x := &( "f1(" + str(i) + ")" ) ]........................9.47
[ T030: bc := &( "{|x|f1(x)}" ); eval( bc, i ) ]...............10.80
[ T031: x := valtype( x ) +  valtype( i ) ].....................0.86
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.67
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.63
[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.69
[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.66
[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.66
[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.67
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.67
[ T039: ascan( a, i % 16 ) ]....................................0.53
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.16
[ T041: if i%1000==0;a:={};end; aadd(a,{i,1,.T.,s,s2,a2,bc ]....2.27
[ T042: x := a ]................................................0.13
[ T043: x := {} ]...............................................0.56
[ T044: f0() ]..................................................0.11
[ T045: f1( i ) ]...............................................0.16
[ T046: f2( c[1...8] ) ]........................................0.27
[ T047: f2( c[1...40000] ) ]....................................0.25
[ T048: f2( @c[1...40000] ) ]...................................0.25
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.30
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.84
[ T051: f2( a ) ]...............................................0.27
[ T052: x := f4() ].............................................1.52
[ T053: x := f5() ].............................................0.67
[ T054: x := space(16) ]........................................0.55
[ T055: f_prv( c ) ]............................................1.17
====================================================================
[ total application time: ]....................................60.41
[ total real time: ]...........................................60.52

>hbmk2 speedtst.prg -mt -gc3

03/17/09 17:43:12 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10630) (MT) MinGW GNU C 4.3.2 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.14
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.16
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.06
[ T007: x := M_C ]..............................................0.17
[ T008: x := M_N ]..............................................0.08
[ T009: x := M_D ]..............................................0.06
[ T010: x := P_C ]..............................................0.17
[ T011: x := P_N ]..............................................0.06
[ T012: x := P_D ]..............................................0.06
[ T013: x := F_C ]..............................................0.50
[ T014: x := F_N ]..............................................0.36
[ T015: x := F_D ]..............................................0.16
[ T016: x := o:Args ]...........................................0.30
[ T017: x := o[2] ].............................................0.22
[ T018: round( i / 1000, 2 ) ]..................................0.56
[ T019: str( i / 1000 ) ].......................................3.38
[ T020: val( s ) ]..............................................0.50
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.80
[ T022: dtos( d - i % 10000 ) ].................................0.86
[ T023: eval( { || i % 16 } ) ].................................1.42
[ T024: eval( bc := { || i % 16 } ) ]...........................0.48
[ T025: eval( { |x| x % 16 }, i ) ].............................0.86
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.48
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.94
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.55
[ T029: x := &( "f1(" + str(i) + ")" ) ]........................7.17
[ T030: bc := &( "{|x|f1(x)}" ); eval( bc, i ) ]................8.66
[ T031: x := valtype( x ) +  valtype( i ) ].....................0.83
[ T032: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.66
[ T033: x := a[ i % 16 + 1 ] == s ].............................0.66
[ T034: x := a[ i % 16 + 1 ] = s ]..............................0.69
[ T035: x := a[ i % 16 + 1 ] >= s ].............................0.67
[ T036: x := a[ i % 16 + 1 ] <= s ].............................0.67
[ T037: x := a[ i % 16 + 1 ] < s ]..............................0.69
[ T038: x := a[ i % 16 + 1 ] > s ]..............................0.70
[ T039: ascan( a, i % 16 ) ]....................................0.56
[ T040: ascan( a, { |x| x == i % 16 } ) ].......................6.81
[ T041: if i%1000==0;a:={};end; aadd(a,{i,1,.T.,s,s2,a2,bc ]....2.23
[ T042: x := a ]................................................0.16
[ T043: x := {} ]...............................................0.58
[ T044: f0() ]..................................................0.13
[ T045: f1( i ) ]...............................................0.19
[ T046: f2( c[1...8] ) ]........................................0.25
[ T047: f2( c[1...40000] ) ]....................................0.27
[ T048: f2( @c[1...40000] ) ]...................................0.25
[ T049: f2( @c[1...40000] ), c2 := c ]..........................0.30
[ T050: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.84
[ T051: f2( a ) ]...............................................0.25
[ T052: x := f4() ].............................................1.52
[ T053: x := f5() ].............................................0.66
[ T054: x := space(16) ]........................................0.55
[ T055: f_prv( c ) ]............................................1.14
====================================================================
[ total application time: ]....................................55.31
[ total real time: ]...........................................55.41

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/3f529b4c/attachment-0001.html
From druzus at acn.waw.pl  Tue Mar 17 12:54:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 12:48:35 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <gpohef$8bp$1@ger.gmane.org>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
Message-ID: <20090317165449.GA19029@uran.home.aster.pl>

On Tue, 17 Mar 2009, Angel Pais wrote:
> Attached xbase++  test.

Thank you very much.
I would like to ask you also about Harbour results.
To compare them the test code should be executed on the same machine.
For Harbour compilation -gc3 should be used. AFAIK xbase++ does not
generate PCODE but code similar to Harbour -gc3 output.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Mar 17 12:53:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 12:53:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10632] trunk/harbour
Message-ID: <E1LjcXE-0007K8-Cb@c3vjzd1.ch3.sourceforge.com>

Revision: 10632
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10632&view=rev
Author:   vszakats
Date:     2009-03-17 16:52:59 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 17:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbmysql/readme.txt
  * contrib/hbapollo/readme.txt
  * contrib/gtwvg/tests/demowvg.prg
  * contrib/rddads/doc/en/readme.txt
  * contrib/rddads/readme.txt
  * contrib/hbbtree/hb_btree.c
    * Minor updates to make method/b32 references.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/hbapollo/readme.txt
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbmysql/readme.txt
    trunk/harbour/contrib/rddads/doc/en/readme.txt
    trunk/harbour/contrib/rddads/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 17 12:53:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 12:53:26 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <gpohef$8bp$1@ger.gmane.org>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
Message-ID: <18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>

Hi Angel,


> Compiled same prg with: hbmk2 speedtst.prg.
> exe generated, does nothing on run


Which compiler and Harbour revision? [ You can try with -n. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/c4f86772/attachment.html
From druzus at acn.waw.pl  Tue Mar 17 13:03:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 12:57:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
Message-ID: <20090317170349.GA19626@uran.home.aster.pl>

On Tue, 17 Mar 2009, Szak?ts Viktor wrote:
> Here are the results:
> >xpp speedtst.prg /n && alink speedtst

Thank you very much.

best regards,
Przemek
From amigosam at adinet.com.uy  Tue Mar 17 13:02:43 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar 17 13:02:58 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
Message-ID: <gpol38$ms3$1@ger.gmane.org>

I'm recompiling Harbour from svn right now.
Then inform success/failure properly

Viktor Szak?ts escribi?:
> Hi Angel,
>  
> 
>     Compiled same prg with: hbmk2 speedtst.prg.
>     exe generated, does nothing on run
> 
> 
> Which compiler and Harbour revision? [ You can try with -n. ]
> 
> Brgds,
> Viktor
> 

From druzus at acn.waw.pl  Tue Mar 17 13:10:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 13:04:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317170349.GA19626@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<20090317170349.GA19626@uran.home.aster.pl>
Message-ID: <20090317171031.GA19718@uran.home.aster.pl>

On Tue, 17 Mar 2009, Przemyslaw Czerpak wrote:

Hi,

> > Here are the results:
> > >xpp speedtst.prg /n && alink speedtst
> Thank you very much.

I would like to ask you to repeat Harbour tests using current
speedtsts.prg code from SVN.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 17 13:07:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 13:07:56 2009
Subject: [Harbour] hbsqlit3 license (Petr)
Message-ID: <18d502870903171007p68a9af5l4bcb6f52bc413229@mail.gmail.com>

Hi Petr,
I've noticed the license on hbsqlit3 is pure GPL.

Have you considered changing this to GPL + Harbour exception?
This would allow using your wrapper lib in commercial apps, too.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/fd593280/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 13:18:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 13:18:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317171031.GA19718@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<20090317170349.GA19626@uran.home.aster.pl>
	<20090317171031.GA19718@uran.home.aster.pl>
Message-ID: <18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>

Here are the results with latest speedtst.prg:
>hbmk2 speedtst.prg -shared -strip -mt -gc3

03/17/09 18:14:13 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10630) (MT) MinGW GNU C 4.3.2 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.14
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.16
[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.05
[ T007: x := M->M_C ]...........................................0.17
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.17
[ T011: x := M->P_N ]...........................................0.08
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.50
[ T014: x := F_N ]..............................................0.34
[ T015: x := F_D ]..............................................0.16
[ T016: x := o:Args ]...........................................0.31
[ T017: x := o[2] ].............................................0.22
[ T018: round( i / 1000, 2 ) ]..................................0.50
[ T019: str( i / 1000 ) ].......................................3.28
[ T020: val( s ) ]..............................................0.52
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.84
[ T022: dtos( d - i % 10000 ) ].................................0.86
[ T023: eval( { || i % 16 } ) ].................................1.39
[ T024: eval( bc := { || i % 16 } ) ]...........................0.50
[ T025: eval( { |x| x % 16 }, i ) ].............................0.89
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.48
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.94
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.53
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.52
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................9.45
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............10.72
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.86
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.67
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.66
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.69
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.66
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.67
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.69
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.69
[ T040: ascan( a, i % 16 ) ]....................................0.55
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................6.17
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.27
[ T043: x := a ]................................................0.14
[ T044: x := {} ]...............................................0.58
[ T045: f0() ]..................................................0.14
[ T046: f1( i ) ]...............................................0.16
[ T047: f2( c[1...8] ) ]........................................0.27
[ T048: f2( c[1...40000] ) ]....................................0.27
[ T049: f2( @c[1...40000] ) ]...................................0.28
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.30
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.84
[ T052: f2( a ) ]...............................................0.28
[ T053: x := f4() ].............................................1.52
[ T054: x := f5() ].............................................0.67
[ T055: x := space(16) ]........................................0.55
[ T056: f_prv( c ) ]............................................1.20
====================================================================
[ total application time: ]....................................60.44
[ total real time: ]...........................................60.61

>hbmk2 speedtst.prg -strip -mt -gc3

03/17/09 18:15:30 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10630) (MT) MinGW GNU C 4.3.2 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.13
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.16
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.05
[ T007: x := M->M_C ]...........................................0.16
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.05
[ T010: x := M->P_C ]...........................................0.17
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.48
[ T014: x := F_N ]..............................................0.34
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.30
[ T017: x := o[2] ].............................................0.23
[ T018: round( i / 1000, 2 ) ]..................................0.52
[ T019: str( i / 1000 ) ].......................................3.38
[ T020: val( s ) ]..............................................0.48
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.81
[ T022: dtos( d - i % 10000 ) ].................................0.83
[ T023: eval( { || i % 16 } ) ].................................1.39
[ T024: eval( bc := { || i % 16 } ) ]...........................0.48
[ T025: eval( { |x| x % 16 }, i ) ].............................0.84
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.45
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.92
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.53
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.52
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................7.13
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................9.56
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.84
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.69
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.66
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.67
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.67
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.67
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.67
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.69
[ T040: ascan( a, i % 16 ) ]....................................0.56
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................6.66
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.27
[ T043: x := a ]................................................0.13
[ T044: x := {} ]...............................................0.56
[ T045: f0() ]..................................................0.09
[ T046: f1( i ) ]...............................................0.16
[ T047: f2( c[1...8] ) ]........................................0.27
[ T048: f2( c[1...40000] ) ]....................................0.25
[ T049: f2( @c[1...40000] ) ]...................................0.27
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.28
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.83
[ T052: f2( a ) ]...............................................0.27
[ T053: x := f4() ].............................................1.45
[ T054: x := f5() ].............................................0.66
[ T055: x := space(16) ]........................................0.55
[ T056: f_prv( c ) ]............................................1.19
====================================================================
[ total application time: ]....................................57.02
[ total real time: ]...........................................57.06

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/6756e85a/attachment-0001.html
From druzus at acn.waw.pl  Tue Mar 17 13:48:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 13:42:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<20090317170349.GA19626@uran.home.aster.pl>
	<20090317171031.GA19718@uran.home.aster.pl>
	<18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>
Message-ID: <20090317174839.GA21733@uran.home.aster.pl>

On Tue, 17 Mar 2009, Szak?ts Viktor wrote:
> Here are the results with latest speedtst.prg:

Thank you very much.

best regards,
Przemek
From amigosam at adinet.com.uy  Tue Mar 17 13:42:30 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar 17 13:42:42 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
Message-ID: <gponds$vtm$1@ger.gmane.org>

Sorry, all paths have changed, can't compile harbour programs anymore.

I ussually compile like this:

compile.bat
-----------------------------------------------------------------
SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin;
SET LIB=C:\vsk\vc\lib;C:\vsk\lib;C:\harbour\lib\win\msvc;
SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;C:\harbour\include;

set HB_VISUALC_VER=90

hbmk2.exe speedtst.prg -shared -mt -gc3
-----------------------------------------------------------------

Problem:
in C:\harbour\bin there's a february version of harbour and hbmk2
New exe ares in C:\harbour\bin\vc

So far so good

So I changed my bat line to:
SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin\vc;
and then hbmk2.exe bombs out with this message:

hbmk: Error: Running harbour compiler. 1:
C:\harbour\bin\bin\harbour.exe speedtst.prg -iC:\harbour\bin\include 

                ^^^

Obviously such directory does not exist.
Someone confused some paths
HTH
Angel

Viktor Szak?ts escribi?:
> Hi Angel,
>  
> 
>     Compiled same prg with: hbmk2 speedtst.prg.
>     exe generated, does nothing on run
> 
> 
> Which compiler and Harbour revision? [ You can try with -n. ]
> 
> Brgds,
> Viktor
> 

From harbour.01 at syenar.hu  Tue Mar 17 13:55:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 13:55:31 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <gponds$vtm$1@ger.gmane.org>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
	<gponds$vtm$1@ger.gmane.org>
Message-ID: <18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>

Hi Angel,
You need to update your environment, it's difficult to follow
what's happening exactly.

I've been posting ready-to-use sample make scripts to this
list (last time yesterday), there is an extensive INSTALL doc
for details, and you may also download pre-built installer or
.zip for MSVC 2008 (posted a few days ago).

compile.bat
> -----------------------------------------------------------------
> SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin;
> SET LIB=C:\vsk\vc\lib;C:\vsk\lib;C:\harbour\lib\win\msvc;
> SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;C:\harbour\include;
>
> set HB_VISUALC_VER=90
>
> hbmk2.exe speedtst.prg -shared -mt -gc3
> -----------------------------------------------------------------
>
> Problem:
> in C:\harbour\bin there's a february version of harbour and hbmk2
> New exe ares in C:\harbour\bin\vc


Normally they shouldn't be there, this is old non-GNU
target area, no longer used.

HB_VISUALC_VER=90 is also no longer used and needed.


> So I changed my bat line to:
> SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin\vc;
> and then hbmk2.exe bombs out with this message:

hbmk: Error: Running harbour compiler. 1:
> C:\harbour\bin\bin\harbour.exe speedtst.prg -iC:\harbour\bin\include
>               ^^^


hbmk2 expects to be run from bin dir directly. bin/vc which
also contains harbour.exe will confuse it, but such layout
isn't possible when using current build tools.

I'd suggest to you to start over with a fresh source dir, then
using the build sample script posted yesterday (or any other
option from above).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/cd3b71a7/attachment.html
From druzus at acn.waw.pl  Tue Mar 17 14:13:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 14:06:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<20090317170349.GA19626@uran.home.aster.pl>
	<20090317171031.GA19718@uran.home.aster.pl>
	<18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>
Message-ID: <20090317181308.GA22630@uran.home.aster.pl>

On Tue, 17 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Here are the results with latest speedtst.prg:
[...]

My last request. Can you also send Harbour results for ST mode?
I would like to compare some tests.

best regards and thank you for your tets.
Przemek
From harbour.01 at syenar.hu  Tue Mar 17 14:17:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 14:17:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317181308.GA22630@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<20090317170349.GA19626@uran.home.aster.pl>
	<20090317171031.GA19718@uran.home.aster.pl>
	<18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>
	<20090317181308.GA22630@uran.home.aster.pl>
Message-ID: <18d502870903171117u7f25a20ev210edb0115152b4c@mail.gmail.com>

Here they are:
>hbmk2 speedtst.prg -gc3 -shared

03/17/09 19:10:59 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10630) MinGW GNU C 4.3.2 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.05
[ T009: x := M->M_D ]...........................................0.05
[ T010: x := M->P_C ]...........................................0.05
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.05
[ T013: x := F_C ]..............................................0.20
[ T014: x := F_N ]..............................................0.34
[ T015: x := F_D ]..............................................0.13
[ T016: x := o:Args ]...........................................0.23
[ T017: x := o[2] ].............................................0.11
[ T018: round( i / 1000, 2 ) ]..................................0.48
[ T019: str( i / 1000 ) ].......................................2.86
[ T020: val( s ) ]..............................................0.41
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.66
[ T022: dtos( d - i % 10000 ) ].................................0.55
[ T023: eval( { || i % 16 } ) ].................................0.61
[ T024: eval( bc := { || i % 16 } ) ]...........................0.39
[ T025: eval( { |x| x % 16 }, i ) ].............................0.48
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.39
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.56
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.44
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.45
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................4.95
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................5.89
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.56
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.08
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.36
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.39
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.39
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.39
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.39
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.39
[ T040: ascan( a, i % 16 ) ]....................................0.44
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................4.45
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.08
[ T043: x := a ]................................................0.05
[ T044: x := {} ]...............................................0.19
[ T045: f0() ]..................................................0.09
[ T046: f1( i ) ]...............................................0.14
[ T047: f2( c[1...8] ) ]........................................0.16
[ T048: f2( c[1...40000] ) ]....................................0.17
[ T049: f2( @c[1...40000] ) ]...................................0.16
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.19
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.48
[ T052: f2( a ) ]...............................................0.17
[ T053: x := f4() ].............................................1.22
[ T054: x := f5() ].............................................0.34
[ T055: x := space(16) ]........................................0.27
[ T056: f_prv( c ) ]............................................0.48
====================================================================
[ total application time: ]....................................38.36
[ total real time: ]...........................................38.48

>hbmk2 speedtst.prg -gc3

03/17/09 19:09:48 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10630) MinGW GNU C 4.3.2 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.05
[ T010: x := M->P_C ]...........................................0.05
[ T011: x := M->P_N ]...........................................0.05
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.19
[ T014: x := F_N ]..............................................0.34
[ T015: x := F_D ]..............................................0.13
[ T016: x := o:Args ]...........................................0.20
[ T017: x := o[2] ].............................................0.11
[ T018: round( i / 1000, 2 ) ]..................................0.52
[ T019: str( i / 1000 ) ].......................................2.84
[ T020: val( s ) ]..............................................0.41
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.63
[ T022: dtos( d - i % 10000 ) ].................................0.56
[ T023: eval( { || i % 16 } ) ].................................0.61
[ T024: eval( bc := { || i % 16 } ) ]...........................0.38
[ T025: eval( { |x| x % 16 }, i ) ].............................0.45
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.36
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.50
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.41
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.41
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................4.30
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.88
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.47
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.13
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.38
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.39
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.39
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.41
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.41
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.41
[ T040: ascan( a, i % 16 ) ]....................................0.47
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................8.33
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.08
[ T043: x := a ]................................................0.05
[ T044: x := {} ]...............................................0.17
[ T045: f0() ]..................................................0.08
[ T046: f1( i ) ]...............................................0.14
[ T047: f2( c[1...8] ) ]........................................0.16
[ T048: f2( c[1...40000] ) ]....................................0.14
[ T049: f2( @c[1...40000] ) ]...................................0.16
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.17
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.45
[ T052: f2( a ) ]...............................................0.16
[ T053: x := f4() ].............................................1.16
[ T054: x := f5() ].............................................0.34
[ T055: x := space(16) ]........................................0.25
[ T056: f_prv( c ) ]............................................0.47
====================================================================
[ total application time: ]....................................40.08
[ total real time: ]...........................................40.20

Brdgs,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/4d937e23/attachment-0001.html
From druzus at acn.waw.pl  Tue Mar 17 14:40:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 14:33:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903171117u7f25a20ev210edb0115152b4c@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<20090317170349.GA19626@uran.home.aster.pl>
	<20090317171031.GA19718@uran.home.aster.pl>
	<18d502870903171018j37ef2d54n6f7df918d3701a7d@mail.gmail.com>
	<20090317181308.GA22630@uran.home.aster.pl>
	<18d502870903171117u7f25a20ev210edb0115152b4c@mail.gmail.com>
Message-ID: <20090317184003.GA23250@uran.home.aster.pl>

On Tue, 17 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Here they are:
[...]

Again, thank you.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Mar 17 15:06:00 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 17 15:06:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
Message-ID: <22565803.post@talk.nabble.com>


Hello Viktor, Angel


Viktor Szak?ts wrote:
> 
>>xpp speedtst.prg /n && alink speedtst
> 
> 03/17/2009 17:34:57 Windows XP 05.01 Build 02600 Service Pack 3
> Xbase++ (R) Version 1.90 (MT)
> THREADS: 0
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.03
> ====================================================================
> [ T001: x := L_C ]..............................................0.03
> [ T002: x := L_N ]..............................................0.02
> [ T003: x := L_D ]..............................................0.00
> [ T004: x := S_C ]..............................................0.08
> [ T005: x := S_N ]..............................................0.05
> [ T006: x := S_D ]..............................................0.04
> [ T007: x := M->M_C ]...........................................0.24
> 

I am executing the same command;

xpp speedtst.prg /n && alink speedtst

speedtst.exe is generated but when I run it, it soes not show
the results in console as in Harbour, rather flushes the contents
of the results after it finished the operations. But even then
first few output lines of the test are missing. The console is opened with 
cmd.exe. What I am doing wrong. Please note that it has been a while
when I compiled something with Xbase++.


[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.05
[ T007: x := M->M_C ]...........................................0.18
[ T008: x := M->M_N ]...........................................0.13
[ T009: x := M->M_D ]...........................................0.13
[ T010: x := M->P_C ]...........................................0.32
[ T011: x := M->P_N ]...........................................0.21
[ T012: x := M->P_D ]...........................................0.15
[ T013: x := F_C ]..............................................0.29
[ T014: x := F_N ]..............................................0.27
[ T015: x := F_D ]..............................................0.24
[ T016: x := o:Args ]...........................................0.20
[ T017: x := o[2] ].............................................0.05
[ T018: round( i / 1000, 2 ) ]..................................1.51
[ T019: str( i / 1000 ) ]......................................10.28
[ T020: val( s ) ]..............................................0.43
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.13
[ T022: dtos( d - i % 10000 ) ].................................1.48
[ T023: eval( { || i % 16 } ) ].................................1.29
[ T024: eval( bc := { || i % 16 } ) ]...........................0.76
[ T025: eval( { |x| x % 16 }, i ) ].............................0.63
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.46
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.80
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.65
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.85
[ T030: x := &( 'f1(' + str(i) + ')' ) ].......................26.71
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............25.48
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.40
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........11.16
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.40
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.57
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.58
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.60
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.59
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.58
[ T040: ascan( a, i % 16 ) ]....................................1.06
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................5.71
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....8.52
[ T043: x := a ]................................................0.02
[ T044: x := {} ]...............................................0.38
[ T045: f0() ]..................................................0.17
[ T046: f1( i ) ]...............................................0.19
[ T047: f2( c[1...8] ) ]........................................0.24
[ T048: f2( c[1...40000] ) ]....................................0.21
[ T049: f2( @c[1...40000] ) ]...................................0.18
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.21
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.31
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................1.13
[ T054: x := f5() ].............................................0.55
[ T055: x := space(16) ]........................................0.34
[ T056: f_prv( c ) ]............................................0.60
====================================================================
[ total application time: ]...................................111.95
[ total real time: ]..........................................111.95


Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10630--trunk-harbour-tp22561423p22565803.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Mar 17 15:10:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 15:10:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <22565803.post@talk.nabble.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<18d502870903170829x6dbd19c4p3ceb45e1a3e7e30d@mail.gmail.com>
	<20090317154600.GA17587@uran.home.aster.pl>
	<18d502870903170945s24a09e00o42dc399513939b40@mail.gmail.com>
	<22565803.post@talk.nabble.com>
Message-ID: <18d502870903171210v500a65a7yf5e9c56f4b935753@mail.gmail.com>

Hi Pritpal,


> speedtst.exe is generated but when I run it, it soes not show
> the results in console as in Harbour, rather flushes the contents
> of the results after it finished the operations. But even then
> first few output lines of the test are missing. The console is opened with
> cmd.exe. What I am doing wrong. Please note that it has been a while
> when I compiled something with Xbase++.


I couldn't see any screen output either, so I simply redirected output
to a file, and this way it worked. I had to be an administrator even to
run speedtst.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/992235bb/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 17 15:15:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 15:15:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10633] trunk/harbour
Message-ID: <E1LjelB-0005xt-Q8@dn4whf1.ch3.sourceforge.com>

Revision: 10633
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10633&view=rev
Author:   vszakats
Date:     2009-03-17 19:15:32 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-17 20:15 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.sh
  * bin/hb-func.sh
    ! mingw/cygwin .dll name generation tweaked to work 
      properly. This fixes both TOFIXes in prev commit.

  * mpkg_win.bat
    + Added -9 switch to zip.

  - contrib/examples/hbdoc/examples/core_es/hbpplib.txt
  * contrib/examples/hbdoc/examples/core_es/dirstruc.txt
    * Cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/dirstruc.txt
    trunk/harbour/mpkg_win.bat

Removed Paths:
-------------
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/hbpplib.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Tue Mar 17 15:31:31 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar 17 15:31:39 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317165449.GA19029@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>	<gpohef$8bp$1@ger.gmane.org>
	<20090317165449.GA19029@uran.home.aster.pl>
Message-ID: <gpotq8$m84$1@ger.gmane.org>

Finally!!!
After spending my afternoon re compiling Harbour y could run the test.
Attached results for both compilers.

HTH
Angel

Przemyslaw Czerpak escribi?:
> On Tue, 17 Mar 2009, Angel Pais wrote:
>> Attached xbase++  test.
> 
> Thank you very much.
> I would like to ask you also about Harbour results.
> To compare them the test code should be executed on the same machine.
> For Harbour compilation -gc3 should be used. AFAIK xbase++ does not
> generate PCODE but code similar to Harbour -gc3 output.
> 
> best regards,
> Przemek

-------------- next part --------------
Intel Celeron CPU 560 @ 2.13GHz 1 MB RAM

03/17/2009 12:34:04 Windows XP 05.01 Build 02600 Service Pack 2
Xbase++ (R) Version 1.90 (MT) 
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................0.08
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.21
[ T005: x := S_N ]..............................................0.16
[ T006: x := S_D ]..............................................0.14
[ T007: x := M->M_C ]...........................................0.49
[ T008: x := M->M_N ]...........................................0.39
[ T009: x := M->M_D ]...........................................0.39
[ T010: x := M->P_C ]...........................................0.52
[ T011: x := M->P_N ]...........................................0.44
[ T012: x := M->P_D ]...........................................0.49
[ T013: x := F_C ]..............................................0.80
[ T014: x := F_N ]..............................................0.72
[ T015: x := F_D ]..............................................0.71
[ T016: x := o:Args ]...........................................0.47
[ T017: x := o[2] ].............................................0.11
[ T018: round( i / 1000, 2 ) ]..................................1.52
[ T019: str( i / 1000 ) ].......................................7.96
[ T020: val( s ) ]..............................................0.89
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.30
[ T022: dtos( d - i % 10000 ) ].................................1.97
[ T023: eval( { || i % 16 } ) ].................................3.66
[ T024: eval( bc := { || i % 16 } ) ]...........................1.88
[ T025: eval( { |x| x % 16 }, i ) ].............................1.51
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.15
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.75
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.53
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.46
[ T030: x := &( 'f1(' + str(i) + ')' ) ].......................31.16
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............47.67
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.21
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........6.94
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.83
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.14
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.43
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.27
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.15
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.13
[ T040: ascan( a, i % 16 ) ]....................................2.44
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................15.11
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]...12.08
[ T043: x := a ]................................................0.07
[ T044: x := {} ]...............................................1.13
[ T045: f0() ]..................................................0.42
[ T046: f1( i ) ]...............................................0.55
[ T047: f2( c[1...8] ) ]........................................0.44
[ T048: f2( c[1...40000] ) ]....................................0.41
[ T049: f2( @c[1...40000] ) ]...................................0.60
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.50
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.78
[ T052: f2( a ) ]...............................................0.39
[ T053: x := f4() ].............................................2.73
[ T054: x := f5() ].............................................1.86
[ T055: x := space(16) ]........................................0.97
[ T056: f_prv( c ) ]............................................1.42
====================================================================
[ total application time: ]...................................173.01
[ total real time: ]..........................................173.01



Warning !!! Memory statistic enabled.

03/17/09 16:23:21 Windows XP 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10630) (MT) Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.13
====================================================================
[ T001: x := L_C ]..............................................0.31
[ T002: x := L_N ]..............................................0.09
[ T003: x := L_D ]..............................................0.11
[ T004: x := S_C ]..............................................0.36
[ T005: x := S_N ]..............................................0.16
[ T006: x := S_D ]..............................................0.16
[ T007: x := M->M_C ]...........................................0.44
[ T008: x := M->M_N ]...........................................0.22
[ T009: x := M->M_D ]...........................................0.23
[ T010: x := M->P_C ]...........................................0.42
[ T011: x := M->P_N ]...........................................0.25
[ T012: x := M->P_D ]...........................................0.23
[ T013: x := F_C ]..............................................1.75
[ T014: x := F_N ]..............................................0.81
[ T015: x := F_D ]..............................................0.42
[ T016: x := o:Args ]...........................................0.91
[ T017: x := o[2] ].............................................0.55
[ T018: round( i / 1000, 2 ) ]..................................1.06
[ T019: str( i / 1000 ) ].......................................3.36
[ T020: val( s ) ]..............................................1.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.97
[ T022: dtos( d - i % 10000 ) ].................................2.77
[ T023: eval( { || i % 16 } ) ].................................4.53
[ T024: eval( bc := { || i % 16 } ) ]...........................1.25
[ T025: eval( { |x| x % 16 }, i ) ].............................2.84
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.28
[ T027: eval( { |x| f1( x ) }, i ) ]............................3.03
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.55
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.50
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................21.67
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............27.23
[ T032: x := valtype( x ) +  valtype( i ) ].....................2.72
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........4.34
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.61
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.78
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.80
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.81
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.78
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.81
[ T040: ascan( a, i % 16 ) ]....................................1.48
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................18.16
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....6.92
[ T043: x := a ]................................................0.31
[ T044: x := {} ]...............................................1.73
[ T045: f0() ]..................................................0.39
[ T046: f1( i ) ]...............................................0.55
[ T047: f2( c[1...8] ) ]........................................0.70
[ T048: f2( c[1...40000] ) ]....................................0.70
[ T049: f2( @c[1...40000] ) ]...................................0.72
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.75
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.38
[ T052: f2( a ) ]...............................................0.72
[ T053: x := f4() ].............................................3.55
[ T054: x := f5() ].............................................2.34
[ T055: x := space(16) ]........................................1.98
[ T056: f_prv( c ) ]............................................3.47
====================================================================
[ total application time: ]...................................154.20
[ total real time: ]..........................................156.17

From amigosam at adinet.com.uy  Tue Mar 17 15:37:13 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar 17 15:37:24 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>	<gpohef$8bp$1@ger.gmane.org>	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>	<gponds$vtm$1@ger.gmane.org>
	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
Message-ID: <gpou50$nq4$1@ger.gmane.org>

That behaviour is caused by this 3 commands:
#command ? => outstd(EOL)
#command ? <xx,...> => outstd(EOL);outstd(<xx>)
#command ?? <xx,...> => outstd(<xx>)

qout() sends output to console window
outstd() sends output to standar program output, and you only use this 
if you want to write a cgi program.
So in alaska's dialect    console <> stdout
HTH
Angel


Viktor Szak?ts escribi?:
> Hi Angel,
> 
> You need to update your environment, it's difficult to follow 
> what's happening exactly.
> 
> I've been posting ready-to-use sample make scripts to this 
> list (last time yesterday), there is an extensive INSTALL doc 
> for details, and you may also download pre-built installer or 
> .zip for MSVC 2008 (posted a few days ago).
> 
>     compile.bat
>     -----------------------------------------------------------------
>     SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin;
>     SET LIB=C:\vsk\vc\lib;C:\vsk\lib;C:\harbour\lib\win\msvc;
>     SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;C:\harbour\include;
> 
>     set HB_VISUALC_VER=90
> 
>     hbmk2.exe speedtst.prg -shared -mt -gc3
>     -----------------------------------------------------------------
> 
>     Problem:
>     in C:\harbour\bin there's a february version of harbour and hbmk2
>     New exe ares in C:\harbour\bin\vc
> 
> 
> Normally they shouldn't be there, this is old non-GNU 
> target area, no longer used.
> 
> HB_VISUALC_VER=90 is also no longer used and needed.
>  
> 
>     So I changed my bat line to:
>     SET PATH=C:\vsk\vc\bin;C:\vsk\bin;C:\harbour\bin\vc;
>     and then hbmk2.exe bombs out with this message:
> 
>     hbmk: Error: Running harbour compiler. 1:
>     C:\harbour\bin\bin\harbour.exe speedtst.prg -iC:\harbour\bin\include
>                   ^^^
> 
> 
> hbmk2 expects to be run from bin dir directly. bin/vc which 
> also contains harbour.exe will confuse it, but such layout 
> isn't possible when using current build tools.
> 
> I'd suggest to you to start over with a fresh source dir, then 
> using the build sample script posted yesterday (or any other 
> option from above).
> 
> Brgds,
> Viktor
> 

From harbour.01 at syenar.hu  Tue Mar 17 15:43:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 15:43:17 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <gpotq8$m84$1@ger.gmane.org>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<20090317165449.GA19029@uran.home.aster.pl>
	<gpotq8$m84$1@ger.gmane.org>
Message-ID: <18d502870903171243h47266ec2mfb9bb039945f4828@mail.gmail.com>

Hi Angel,
I'd suggest to disable memory statistics by using:
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
before doing the build.

Harbour will run significantly faster this way.

[ Unfortunately current -nofmstat/-fmstat solution isn't
convenient for all situations. F.e. it can only turn on
FM stats for a build which has it turned off by default.
Probably the dynamic approach with some public
functions plus stub helper could clean this up nicely,
and this way hbfm* libs wouldn't even be needed.
Przemek, if you think, we can talk about it, maybe
there is better/other solution. ]

Brgds,
Viktor

2009/3/17 Angel Pais <amigosam@adinet.com.uy>

> Finally!!!
> After spending my afternoon re compiling Harbour y could run the test.
> Attached results for both compilers.
>
> HTH
> Angel
>
> Przemyslaw Czerpak escribi?:
>
>  On Tue, 17 Mar 2009, Angel Pais wrote:
>>
>>> Attached xbase++  test.
>>>
>>
>> Thank you very much.
>> I would like to ask you also about Harbour results.
>> To compare them the test code should be executed on the same machine.
>> For Harbour compilation -gc3 should be used. AFAIK xbase++ does not
>> generate PCODE but code similar to Harbour -gc3 output.
>>
>> best regards,
>> Przemek
>>
>
>
> Intel Celeron CPU 560 @ 2.13GHz 1 MB RAM
>
> 03/17/2009 12:34:04 Windows XP 05.01 Build 02600 Service Pack 2
> Xbase++ (R) Version 1.90 (MT)
> THREADS: 0
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.06
> ====================================================================
> [ T001: x := L_C ]..............................................0.08
> [ T002: x := L_N ]..............................................0.03
> [ T003: x := L_D ]..............................................0.05
> [ T004: x := S_C ]..............................................0.21
> [ T005: x := S_N ]..............................................0.16
> [ T006: x := S_D ]..............................................0.14
> [ T007: x := M->M_C ]...........................................0.49
> [ T008: x := M->M_N ]...........................................0.39
> [ T009: x := M->M_D ]...........................................0.39
> [ T010: x := M->P_C ]...........................................0.52
> [ T011: x := M->P_N ]...........................................0.44
> [ T012: x := M->P_D ]...........................................0.49
> [ T013: x := F_C ]..............................................0.80
> [ T014: x := F_N ]..............................................0.72
> [ T015: x := F_D ]..............................................0.71
> [ T016: x := o:Args ]...........................................0.47
> [ T017: x := o[2] ].............................................0.11
> [ T018: round( i / 1000, 2 ) ]..................................1.52
> [ T019: str( i / 1000 ) ].......................................7.96
> [ T020: val( s ) ]..............................................0.89
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................1.30
> [ T022: dtos( d - i % 10000 ) ].................................1.97
> [ T023: eval( { || i % 16 } ) ].................................3.66
> [ T024: eval( bc := { || i % 16 } ) ]...........................1.88
> [ T025: eval( { |x| x % 16 }, i ) ].............................1.51
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.15
> [ T027: eval( { |x| f1( x ) }, i ) ]............................1.75
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.53
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.46
> [ T030: x := &( 'f1(' + str(i) + ')' ) ].......................31.16
> [ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............47.67
> [ T032: x := valtype( x ) +  valtype( i ) ].....................1.21
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........6.94
> [ T034: x := a[ i % 16 + 1 ] == s ].............................0.83
> [ T035: x := a[ i % 16 + 1 ] = s ]..............................1.14
> [ T036: x := a[ i % 16 + 1 ] >= s ].............................1.43
> [ T037: x := a[ i % 16 + 1 ] <= s ].............................1.27
> [ T038: x := a[ i % 16 + 1 ] < s ]..............................1.15
> [ T039: x := a[ i % 16 + 1 ] > s ]..............................1.13
> [ T040: ascan( a, i % 16 ) ]....................................2.44
> [ T041: ascan( a, { |x| x == i % 16 } ) ]......................15.11
> [ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]...12.08
> [ T043: x := a ]................................................0.07
> [ T044: x := {} ]...............................................1.13
> [ T045: f0() ]..................................................0.42
> [ T046: f1( i ) ]...............................................0.55
> [ T047: f2( c[1...8] ) ]........................................0.44
> [ T048: f2( c[1...40000] ) ]....................................0.41
> [ T049: f2( @c[1...40000] ) ]...................................0.60
> [ T050: f2( @c[1...40000] ), c2 := c ]..........................0.50
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.78
> [ T052: f2( a ) ]...............................................0.39
> [ T053: x := f4() ].............................................2.73
> [ T054: x := f5() ].............................................1.86
> [ T055: x := space(16) ]........................................0.97
> [ T056: f_prv( c ) ]............................................1.42
> ====================================================================
> [ total application time: ]...................................173.01
> [ total real time: ]..........................................173.01
>
>
>
> Warning !!! Memory statistic enabled.
>
> 03/17/09 16:23:21 Windows XP 5.1.2600 Service Pack 2
> Harbour 1.1.0dev (Rev. 10630) (MT) Microsoft Visual C++ 14.0.24999 (32-bit)
> THREADS: 0
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.13
> ====================================================================
> [ T001: x := L_C ]..............................................0.31
> [ T002: x := L_N ]..............................................0.09
> [ T003: x := L_D ]..............................................0.11
> [ T004: x := S_C ]..............................................0.36
> [ T005: x := S_N ]..............................................0.16
> [ T006: x := S_D ]..............................................0.16
> [ T007: x := M->M_C ]...........................................0.44
> [ T008: x := M->M_N ]...........................................0.22
> [ T009: x := M->M_D ]...........................................0.23
> [ T010: x := M->P_C ]...........................................0.42
> [ T011: x := M->P_N ]...........................................0.25
> [ T012: x := M->P_D ]...........................................0.23
> [ T013: x := F_C ]..............................................1.75
> [ T014: x := F_N ]..............................................0.81
> [ T015: x := F_D ]..............................................0.42
> [ T016: x := o:Args ]...........................................0.91
> [ T017: x := o[2] ].............................................0.55
> [ T018: round( i / 1000, 2 ) ]..................................1.06
> [ T019: str( i / 1000 ) ].......................................3.36
> [ T020: val( s ) ]..............................................1.16
> [ T021: val( a [ i % 16 + 1 ] ) ]...............................1.97
> [ T022: dtos( d - i % 10000 ) ].................................2.77
> [ T023: eval( { || i % 16 } ) ].................................4.53
> [ T024: eval( bc := { || i % 16 } ) ]...........................1.25
> [ T025: eval( { |x| x % 16 }, i ) ].............................2.84
> [ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.28
> [ T027: eval( { |x| f1( x ) }, i ) ]............................3.03
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.55
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.50
> [ T030: x := &( "f1(" + str(i) + ")" ) ].......................21.67
> [ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............27.23
> [ T032: x := valtype( x ) +  valtype( i ) ].....................2.72
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........4.34
> [ T034: x := a[ i % 16 + 1 ] == s ].............................1.61
> [ T035: x := a[ i % 16 + 1 ] = s ]..............................1.78
> [ T036: x := a[ i % 16 + 1 ] >= s ].............................1.80
> [ T037: x := a[ i % 16 + 1 ] <= s ].............................1.81
> [ T038: x := a[ i % 16 + 1 ] < s ]..............................1.78
> [ T039: x := a[ i % 16 + 1 ] > s ]..............................1.81
> [ T040: ascan( a, i % 16 ) ]....................................1.48
> [ T041: ascan( a, { |x| x == i % 16 } ) ]......................18.16
> [ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....6.92
> [ T043: x := a ]................................................0.31
> [ T044: x := {} ]...............................................1.73
> [ T045: f0() ]..................................................0.39
> [ T046: f1( i ) ]...............................................0.55
> [ T047: f2( c[1...8] ) ]........................................0.70
> [ T048: f2( c[1...40000] ) ]....................................0.70
> [ T049: f2( @c[1...40000] ) ]...................................0.72
> [ T050: f2( @c[1...40000] ), c2 := c ]..........................0.75
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.38
> [ T052: f2( a ) ]...............................................0.72
> [ T053: x := f4() ].............................................3.55
> [ T054: x := f5() ].............................................2.34
> [ T055: x := space(16) ]........................................1.98
> [ T056: f_prv( c ) ]............................................3.47
> ====================================================================
> [ total application time: ]...................................154.20
> [ total real time: ]..........................................156.17
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/1a6e3f48/attachment-0001.html
From amigosam at adinet.com.uy  Tue Mar 17 15:50:32 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Mar 17 15:50:43 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <gpou50$nq4$1@ger.gmane.org>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>	<gpohef$8bp$1@ger.gmane.org>	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>	<gponds$vtm$1@ger.gmane.org>	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
	<gpou50$nq4$1@ger.gmane.org>
Message-ID: <gpoutt$pim$1@ger.gmane.org>

This post was meant to Pritpal about his "no console output" problem in 
xbase++ test.
Sorry

Angel Pais escribi?:
> That behaviour is caused by this 3 commands:
> #command ? => outstd(EOL)
> #command ? <xx,...> => outstd(EOL);outstd(<xx>)
> #command ?? <xx,...> => outstd(<xx>)
> 
> qout() sends output to console window
> outstd() sends output to standar program output, and you only use this 
> if you want to write a cgi program.
> So in alaska's dialect    console <> stdout
> HTH
> Angel

From bedipritpal at hotmail.com  Tue Mar 17 16:07:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 17 16:07:52 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
Message-ID: <22566838.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> An harbour qt implementation at http://www.magsoftinfo.com.br/blog/?cat=9
> 

I need more info, and if possible the wrapper base. I think I can 
invest some time on the project.

Also advise how to setup the environment.

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/Undestranding-qt-in-an-harbour-sharing-point-tp22557617p22566838.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Mar 17 16:46:38 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 16:40:24 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <gpou50$nq4$1@ger.gmane.org>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
	<gponds$vtm$1@ger.gmane.org>
	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
	<gpou50$nq4$1@ger.gmane.org>
Message-ID: <20090317204638.GA32231@uran.home.aster.pl>

On Tue, 17 Mar 2009, Angel Pais wrote:

Hi,

> That behaviour is caused by this 3 commands:
> #command ? => outstd(EOL)
> #command ? <xx,...> => outstd(EOL);outstd(<xx>)
> #command ?? <xx,...> => outstd(<xx>)
> qout() sends output to console window

Yes it is.

> outstd() sends output to standar program output, and you only use this if 
> you want to write a cgi program.

when you write any program which should send its output to stdout not
only CGI. speedtst is such program and it intentionally sends results
to stdout for easy redirection.

> So in alaska's dialect    console <> stdout

Just like in Harbour and Clipper but looks that in xbase++ stdout
output redirected to console is broken.

I also suggest to build Harbour with
   set HB_USER_CFLAGS="-DHB_FM_STATISTICS_OFF"
FM statistic module may have serious speed overhead.
There are also some other things which may cause some small speed
overhead in both compilers like:
- debugger support (-b option in Harbour)
- line numbers (can be disabled by -l Harbour option)
To make the test comparable I suggest to not enable any debug information
and disable line numbering (-l) in both compilers.
For Harbour speedtst builds use -gc3 and -ko switches. -ko enables some
optimizations which breaks some strict Clipper compatibility, f.e.
different RT errors on wrong types in math operations but as I can see
XPP does not respect Clipper compatibility in much more serious places
so we should enable such optimizations also in Harbour.

The results are quite interesting, f.e. even when test is executed by
single thread we can see what speed improvement we should expect if we
add support for whole function optimization on expression level. Now
we only have only few full function optimizations only on PCODE level.
But I'll write more about it when I collect more results to confirm
few things.


Meanwhile I have a question about MSVC. The MSWIN documentation says
that Interlocked*() functions should be inlined by compiler if possible.
Viktor's ST and MT Harbour results suggests that MSVC does not make it.
So I would like to ask MSVC developers to create inline assembler
macros for for atomic inc/dec operation and make tests. It should be
very simple job for someone who know MSVC ASM syntax (of course if
this compiler has such functionality).
Here is the code I made for GCC x86 builds:

      static __inline__ void hb_atomic_inc32( volatile int * p )
      {
         __asm__ __volatile__(
            "lock; incl %0\n"
            :"=m" (*p) :"m" (*p)
         );
      }

      static __inline__ int hb_atomic_dec32( volatile int * p )
      {
         unsigned char c;
         __asm__ __volatile__(
            "lock; decl %0\n"
            "sete %1\n"
            :"=m" (*p), "=qm" (c) :"m" (*p) : "memory"
         );
         return c == 0;
      }

Can you try to make sth similar for MSVC?
For hb_atomic_inc32 we need only:
      LOCK;
      INC p;

and for hb_atomic_dec32:
      LOCK;
      DEC p;
      SETNE;

written in the form acceptable for MSVC.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Tue Mar 17 16:48:22 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar 17 16:48:27 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com><gpohef$8bp$1@ger.gmane.org><18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com><gponds$vtm$1@ger.gmane.org><18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com><gpou50$nq4$1@ger.gmane.org>
	<20090317204638.GA32231@uran.home.aster.pl>
Message-ID: <5A96106C9BC945789D597B320C2504B5@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 17 marzo 2009 21.46
Oggetto: Re: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour


> I also suggest to build Harbour with
>   set HB_USER_CFLAGS="-DHB_FM_STATISTICS_OFF"

Why the double quotes? And, by the way, shouldn't it be the default?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From abe.buch at att.net  Tue Mar 17 16:52:13 2009
From: abe.buch at att.net (AbeB)
Date: Tue Mar 17 16:52:17 2009
Subject: [Harbour] LIB_PREF = lib  in  mingwce.cf
Message-ID: <1237323133663-2493768.post@n2.nabble.com>


is

LIB_PREF = lib  

in  mingwce.cf correct?

it looks like hbmk  tries to link in libs without the lib prefix.




-- 
View this message in context: http://n2.nabble.com/LIB_PREF-%3D-lib--in--mingwce.cf-tp2493768p2493768.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From abe.buch at att.net  Tue Mar 17 17:10:30 2009
From: abe.buch at att.net (AbeB)
Date: Tue Mar 17 17:10:34 2009
Subject: [Harbour] Sample make scripts #3
In-Reply-To: <18d502870903160919r659f490cy43aa97cbc0d2256d@mail.gmail.com>
References: <18d502870903160919r659f490cy43aa97cbc0d2256d@mail.gmail.com>
Message-ID: <1237324230307-2493859.post@n2.nabble.com>


Hi Viktor,

how about some hbmk samples. especially for MinGW GCC for WinCE/ARM
I cant figure out what the PATH , CCPATH etc env variables need to be set
to.

thanks
abe
 


Viktor Szak?ts wrote:
> 
> Hi All,
> 
> Added: mingwce, implib generation
> Fixed/Added: HB_INC_OPENSSL dir, cross compilation settings, icc
> 
> To clear some misconceptions, here are a couple of sample make scripts
> for Windows. Notice that it's impossible to list all combinations, so I
> hope
> these are good to give an idea, and everyone can modify them to the local
> needs. See INSTALL for reference, and if something still isn't clear,
> please
> ask on the list. If you find any typos with these scripts, please also
> report it, and I'll send updated versions.
> 
> NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your
> system.
>          Don't use space in dirs.
> NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
>          depending on what you want to do.
> NOTE #3: Windows implib creation setup may change in the future.
> NOTE #4: Cross compile setup (HB_BIN_COMPILE, HB_COMP_PATH, HB_PPGEN_PATH)
>          may change in the future.
> 
> --- MSVC 2008 + SDK
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- MSVC 2008
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- MSVC 2008 x64 (requires native x86 Harbour binaries)
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> x86_amd64
> rem
> set HB_COMPILER=msvc64
> rem
> set HB_BIN_COMPILE=C:\hb-msvc\bin
> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- MSVC 2005
> call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- MSVC .NET 2003 (untested)
> call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
> rem
> set HB_COMPILER=msvc
> set HB_VISUALC_VER_PRE80=yes
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- Intel(R) C++
> call "%ProgramFiles%\Intel\Compiler\C++\10.1.014\IA32\Bin\iclvars.bat"
> rem
> set HB_COMPILER=icc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- Open Watcom C++
> SET WATCOM=C:\devl\owatcom-1.8
> SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
> SET EDPATH=%WATCOM%\EDDAT
> SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
> rem
> set HB_COMPILER=owatcom
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- Borland/CodeGear C++
> set PATH=C:\devl\bcc55\bin;%PATH%
> rem
> set HB_COMPILER=bcc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- Pelles C
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
> rem
> set HB_COMPILER=pocc
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- Pelles C x64
> set PATH=C:\devl\PellesC-501-64\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
> set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
> rem
> set HB_COMPILER=pocc64
> set HB_BIN_COMPILE=C:\hb-pocc\bin
> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- Pelles C WinCE/ARM
> set PATH=C:\devl\PellesC-501\bin;%PATH%
> set
> INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
> set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
> rem
> set HB_COMPILER=poccce
> rem
> set HB_BIN_COMPILE=C:\hb-pocc\bin
> set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> rem
> set PATH=C:\devl\make-3.81;%PATH%
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- MinGW GCC
> set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
> rem
> set HB_COMPILER=mingw
> rem
> set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --- MinGW GCC for WinCE/ARM
> set CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
> set PATH=C:\devl\msys\1.0.11\bin;%CCPATH%;%PATH%
> rem
> set HB_COMPILER=mingwce
> rem
> set HB_COMP_PATH=/c/hb-mingw/bin/harbour.exe
> set HB_PPGEN_PATH=/c/hb-mingw/bin/hbpp.exe
> rem
> set HB_INSTALL_PREFIX=/c/hb-%HB_COMPILER%
> sh make_gnu_xmingwce.sh %1 %2 > out.txt 2>&1
> ---
> 
> --- Cygwin GCC
> set PATH=C:\devl\cygwin\bin;%PATH%
> set
> C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
> set
> LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
> rem
> set HB_COMPILER=cygwin
> rem
> set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
> sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---
> 
> --8<--
> rem ; Add these _before_ above sample scripts to configure 3rd party
> dependencies.
> rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
> rem   also cygwin drive notation for 'cygwin'.
> set HB_INC_ADS=C:\ads\acesdk
> set HB_INC_ALLEGRO=C:\allegro\include
> set HB_INC_APOLLO=C:\Apollo\include
> set HB_INC_BLAT=C:\blat\full\source
> set HB_INC_CURL=C:\curl\include
> set HB_INC_FIREBIRD=C:\Firebird\include
> set HB_INC_FREEIMAGE=C:\FreeImage\Dist
> set HB_INC_GD=C:\gd\include
> set HB_INC_LIBHARU=C:\libharu\include
> set HB_INC_MYSQL=C:\mysql\include
> set HB_INC_OPENSSL=C:\openssl\inc32
> set HB_INC_PGSQL=C:\pgsql\include
> -->8--
> 
> --8<--
> rem ; Add these _before_ above sample scripts to configure 3rd party
> dependencies
> rem   for implib generation. This is needed for non-gcc compilers.
> set HB_DIR_ADS=C:\ads\acesdk
> set HB_DIR_ALLEGRO=C:\allegro
> set HB_DIR_APOLLO=C:\Apollo
> set HB_DIR_BLAT=C:\blat
> set HB_DIR_CURL=C:\curl
> set HB_DIR_FIREBIRD=C:\Firebird
> set HB_DIR_FREEIMAGE=C:\FreeImage
> set HB_DIR_GD=C:\gd
> set HB_DIR_LIBHARU=C:\libharu
> set HB_DIR_MYSQL=C:\mysql
> set HB_DIR_OPENSSL=C:\openssl
> set HB_DIR_PGSQL=C:\pgsql
> rem
> set HB_BUILD_IMPLIB=yes
> -->8--
> 
> --8<--
> rem ; To create installation packages (.exe + .zip),
> rem   replace last lines (calling make_gnu.*) with these two:
> set PATH=C:\devl\NSIS-2.44;%PATH%
> call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
> -->8--
> 
> Brgds.
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/Sample-make-scripts--3-tp2487037p2493859.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Tue Mar 17 17:11:46 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 17:11:52 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <22566838.post@talk.nabble.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<22566838.post@talk.nabble.com>
Message-ID: <609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>

Dear  Marcos Gambeta (author of hb qt wrapper) Can you help us tu use & test
"Testando Harbour e QT <http://www.magsoftinfo.com.br/blog/?p=139>" ?


2009/3/17 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Massimo Belgrano-3 wrote:
> >
> > An harbour qt implementation at
> http://www.magsoftinfo.com.br/blog/?cat=9
> >
>
> I need more info, and if possible the wrapper base. I think I can
> invest some time on the project.
>
> Also advise how to setup the environment.
>
> Regards
> Pritpal Bedi
>
>
>
> --
> View this message in context:
> http://www.nabble.com/Undestranding-qt-in-an-harbour-sharing-point-tp22557617p22566838.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/94607de3/attachment-0001.html
From mbelgrano at deltain.it  Tue Mar 17 17:17:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 17:17:16 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<22566838.post@talk.nabble.com>
	<609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>
Message-ID: <609353e70903171417p504fcd8eo55807ac8d9f7bb02@mail.gmail.com>

Newsgroup regarding hbqt
http://br.groups.yahoo.com/group/hbqt/messages

2009/3/17 Massimo Belgrano <mbelgrano@deltain.it>

> Dear  Marcos Gambeta (author of hb qt wrapper) Can you help us tu use &
> test "Testando Harbour e QT <http://www.magsoftinfo.com.br/blog/?p=139>" ?
>
>
> 2009/3/17 Pritpal Bedi <bedipritpal@hotmail.com>
>
>
>> Hi
>>
>>
>> Massimo Belgrano-3 wrote:
>> >
>> > An harbour qt implementation at
>> http://www.magsoftinfo.com.br/blog/?cat=9
>> >
>>
>> I need more info, and if possible the wrapper base. I think I can
>> invest some time on the project.
>>
>> Also advise how to setup the environment.
>>
>> Regards
>> Pritpal Bedi
>>
>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Undestranding-qt-in-an-harbour-sharing-point-tp22557617p22566838.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>
>
>


-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/dcf4c583/attachment.html
From mbelgrano at deltain.it  Tue Mar 17 17:24:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 17:24:45 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <18d502870903170420r76d1d79bx7b526c5a4bcebb5d@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<gpm6f6$4t0$1@ger.gmane.org>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
	<18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
	<609353e70903170417g7bbbe896j8abb447c72b94590@mail.gmail.com>
	<18d502870903170420r76d1d79bx7b526c5a4bcebb5d@mail.gmail.com>
Message-ID: <609353e70903171424j7cdafc32g75456395a2336380@mail.gmail.com>

can be interesting Also only WUI?

2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>

> both? probably none.
> Brgds,
> Viktor
>
> On Tue, Mar 17, 2009 at 12:17 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>
>> Wich path allow GUI and WUI?
>>
>> 2009/3/16 Viktor Szak?ts <harbour.01@syenar.hu>
>>
>>>
>>> For me this isn't a problem yet, since my app is still CUI.
>>>
>>> The question is which way to choose to rewrite it _once_.
>>> Options: GUI and WUI (web UI). For me a GUI is only an
>>> option if it's at least portable, and it's a plus if it's relatively
>>> easy to migrate CUI source, possibly with gradual rewrite.
>>>
>>>
>>
>>
>> --
>> Massimo Belgrano
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/b692e4b7/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 17:27:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 17:27:49 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <5A96106C9BC945789D597B320C2504B5@emag>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
	<gponds$vtm$1@ger.gmane.org>
	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
	<gpou50$nq4$1@ger.gmane.org>
	<20090317204638.GA32231@uran.home.aster.pl>
	<5A96106C9BC945789D597B320C2504B5@emag>
Message-ID: <18d502870903171427q7555b17do146269324bac30c2@mail.gmail.com>

>
> I also suggest to build Harbour with
>>  set HB_USER_CFLAGS="-DHB_FM_STATISTICS_OFF"
>>
>
> Why the double quotes? And, by the way, shouldn't it be the default?


Double quotes were my fault, sorry.

OFF is only default for release branches. In development we must
be informed about leaks and other memory problems. It's however
disabled by default even in devel branches, if you use one of the
mpkg_*.* scripts to create a release package.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/5943a8ab/attachment.html
From e.m.giordano at emagsoftware.it  Tue Mar 17 17:29:41 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Mar 17 17:29:46 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com><gpohef$8bp$1@ger.gmane.org><18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com><gponds$vtm$1@ger.gmane.org><18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com><gpou50$nq4$1@ger.gmane.org><20090317204638.GA32231@uran.home.aster.pl><5A96106C9BC945789D597B320C2504B5@emag>
	<18d502870903171427q7555b17do146269324bac30c2@mail.gmail.com>
Message-ID: <8298BB67735C40CD98A23B854174A29E@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: marted? 17 marzo 2009 22.27
Oggetto: Re: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour


> Double quotes were my fault, sorry.
>
> OFF is only default for release branches. In development we must
> be informed about leaks and other memory problems. It's however
> disabled by default even in devel branches, if you use one of the
> mpkg_*.* scripts to create a release package.

Ok, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Mar 17 17:32:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 17:32:17 2009
Subject: [Harbour] Sample make scripts #3
In-Reply-To: <1237324230307-2493859.post@n2.nabble.com>
References: <18d502870903160919r659f490cy43aa97cbc0d2256d@mail.gmail.com>
	<1237324230307-2493859.post@n2.nabble.com>
Message-ID: <18d502870903171432h12e9392ek348e4aecfa481a58@mail.gmail.com>

Hi Abeb,
Please search back the mailing list, I posted an example around yesterday
or
before yesterday. Search for CCPATH. The only change since then is that
you have to use HB_CCPATH in fresh builds.

This topic is pretty much the edge of development, and even a MinGWCE
build (on Windows) was just documented two days ago, so please patient
until things settle, it may change of even become simpler in future Harbour
versions. For now it's too early to document anything.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 10:10 PM, AbeB <abe.buch@att.net> wrote:

>
> Hi Viktor,
>
> how about some hbmk samples. especially for MinGW GCC for WinCE/ARM
> I cant figure out what the PATH , CCPATH etc env variables need to be set
> to.
>
> thanks
> abe
>
>
>
> Viktor Szak?ts wrote:
> >
> > Hi All,
> >
> > Added: mingwce, implib generation
> > Fixed/Added: HB_INC_OPENSSL dir, cross compilation settings, icc
> >
> > To clear some misconceptions, here are a couple of sample make scripts
> > for Windows. Notice that it's impossible to list all combinations, so I
> > hope
> > these are good to give an idea, and everyone can modify them to the local
> > needs. See INSTALL for reference, and if something still isn't clear,
> > please
> > ask on the list. If you find any typos with these scripts, please also
> > report it, and I'll send updated versions.
> >
> > NOTE #1: Naturally, you'll need to adapt dirs to valid ones on your
> > system.
> >          Don't use space in dirs.
> > NOTE #2: '%1 %2' can be empty, 'clean', 'install' or 'clean install'
> >          depending on what you want to do.
> > NOTE #3: Windows implib creation setup may change in the future.
> > NOTE #4: Cross compile setup (HB_BIN_COMPILE, HB_COMP_PATH,
> HB_PPGEN_PATH)
> >          may change in the future.
> >
> > --- MSVC 2008 + SDK
> > set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> > call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> > rem
> > set HB_COMPILER=msvc
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- MSVC 2008
> > call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> > rem
> > set HB_COMPILER=msvc
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- MSVC 2008 x64 (requires native x86 Harbour binaries)
> > call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> > x86_amd64
> > rem
> > set HB_COMPILER=msvc64
> > rem
> > set HB_BIN_COMPILE=C:\hb-msvc\bin
> > set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- MSVC 2005
> > call "%ProgramFiles%\Microsoft Visual Studio 8\VC\vcvarsall.bat"
> > rem
> > set HB_COMPILER=msvc
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- MSVC .NET 2003 (untested)
> > call "%ProgramFiles%\Microsoft Visual Studio .NET 2003\VC7\vcvarsall.bat"
> > rem
> > set HB_COMPILER=msvc
> > set HB_VISUALC_VER_PRE80=yes
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- Intel(R) C++
> > call "%ProgramFiles%\Intel\Compiler\C++\10.1.014\IA32\Bin\iclvars.bat"
> > rem
> > set HB_COMPILER=icc
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- Open Watcom C++
> > SET WATCOM=C:\devl\owatcom-1.8
> > SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%
> > SET EDPATH=%WATCOM%\EDDAT
> > SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT
> > rem
> > set HB_COMPILER=owatcom
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- Borland/CodeGear C++
> > set PATH=C:\devl\bcc55\bin;%PATH%
> > rem
> > set HB_COMPILER=bcc
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- Pelles C
> > set PATH=C:\devl\PellesC-501\bin;%PATH%
> > set
> >
> INCLUDE=C:\devl\PellesC-501\include;C:\devl\PellesC-501\include\win;%INCLUDE%
> > set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\win;%LIB%
> > rem
> > set HB_COMPILER=pocc
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- Pelles C x64
> > set PATH=C:\devl\PellesC-501-64\bin;%PATH%
> > set
> >
> INCLUDE=C:\devl\PellesC-501-64\include;C:\devl\PellesC-501-64\include\win;%INCLUDE%
> > set LIB=C:\devl\PellesC-501-64\lib;C:\devl\PellesC-501-64\lib\win64;%LIB%
> > rem
> > set HB_COMPILER=pocc64
> > set HB_BIN_COMPILE=C:\hb-pocc\bin
> > set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- Pelles C WinCE/ARM
> > set PATH=C:\devl\PellesC-501\bin;%PATH%
> > set
> >
> INCLUDE=C:\devl\PellesC-501\include\wince;C:\devl\PellesC-501\include;%INCLUDE%
> > set LIB=C:\devl\PellesC-501\lib;C:\devl\PellesC-501\lib\wince;%INCLUDE%
> > rem
> > set HB_COMPILER=poccce
> > rem
> > set HB_BIN_COMPILE=C:\hb-pocc\bin
> > set HB_PPGEN_PATH=%HB_BIN_COMPILE%
> > rem
> > set PATH=C:\devl\make-3.81;%PATH%
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- MinGW GCC
> > set PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-432\bin;%PATH%
> > rem
> > set HB_COMPILER=mingw
> > rem
> > set HB_INSTALL_PREFIX=C:\hb-%HB_COMPILER%
> > sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --- MinGW GCC for WinCE/ARM
> > set CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
> > set PATH=C:\devl\msys\1.0.11\bin;%CCPATH%;%PATH%
> > rem
> > set HB_COMPILER=mingwce
> > rem
> > set HB_COMP_PATH=/c/hb-mingw/bin/harbour.exe
> > set HB_PPGEN_PATH=/c/hb-mingw/bin/hbpp.exe
> > rem
> > set HB_INSTALL_PREFIX=/c/hb-%HB_COMPILER%
> > sh make_gnu_xmingwce.sh %1 %2 > out.txt 2>&1
> > ---
> >
> > --- Cygwin GCC
> > set PATH=C:\devl\cygwin\bin;%PATH%
> > set
> >
> C_INCLUDE_PATH=/cygdrive/c/devl/cygwin/usr/include:/cygdrive/c/devl/cygwin/usr/include/w32api
> > set
> >
> LIBRARY_PATH=/cygdrive/c/devl/cygwin/usr/lib:/cygdrive/c/devl/cygwin/usr/lib/w32api
> > rem
> > set HB_COMPILER=cygwin
> > rem
> > set HB_INSTALL_PREFIX=/cygdrive/c/hb-%HB_COMPILER%
> > sh make_gnu.sh %1 %2 > log-%HB_COMPILER%.txt 2>&1
> > ---
> >
> > --8<--
> > rem ; Add these _before_ above sample scripts to configure 3rd party
> > dependencies.
> > rem   For 'mingw' and 'cygwin' you'll have to use forward slashes and
> > rem   also cygwin drive notation for 'cygwin'.
> > set HB_INC_ADS=C:\ads\acesdk
> > set HB_INC_ALLEGRO=C:\allegro\include
> > set HB_INC_APOLLO=C:\Apollo\include
> > set HB_INC_BLAT=C:\blat\full\source
> > set HB_INC_CURL=C:\curl\include
> > set HB_INC_FIREBIRD=C:\Firebird\include
> > set HB_INC_FREEIMAGE=C:\FreeImage\Dist
> > set HB_INC_GD=C:\gd\include
> > set HB_INC_LIBHARU=C:\libharu\include
> > set HB_INC_MYSQL=C:\mysql\include
> > set HB_INC_OPENSSL=C:\openssl\inc32
> > set HB_INC_PGSQL=C:\pgsql\include
> > -->8--
> >
> > --8<--
> > rem ; Add these _before_ above sample scripts to configure 3rd party
> > dependencies
> > rem   for implib generation. This is needed for non-gcc compilers.
> > set HB_DIR_ADS=C:\ads\acesdk
> > set HB_DIR_ALLEGRO=C:\allegro
> > set HB_DIR_APOLLO=C:\Apollo
> > set HB_DIR_BLAT=C:\blat
> > set HB_DIR_CURL=C:\curl
> > set HB_DIR_FIREBIRD=C:\Firebird
> > set HB_DIR_FREEIMAGE=C:\FreeImage
> > set HB_DIR_GD=C:\gd
> > set HB_DIR_LIBHARU=C:\libharu
> > set HB_DIR_MYSQL=C:\mysql
> > set HB_DIR_OPENSSL=C:\openssl
> > set HB_DIR_PGSQL=C:\pgsql
> > rem
> > set HB_BUILD_IMPLIB=yes
> > -->8--
> >
> > --8<--
> > rem ; To create installation packages (.exe + .zip),
> > rem   replace last lines (calling make_gnu.*) with these two:
> > set PATH=C:\devl\NSIS-2.44;%PATH%
> > call mpkg_win.bat > log-%HB_COMPILER%.txt 2>&1
> > -->8--
> >
> > Brgds.
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
> --
> View this message in context:
> http://n2.nabble.com/Sample-make-scripts--3-tp2487037p2493859.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/b0ebdc1c/attachment-0001.html
From harbour.01 at syenar.hu  Tue Mar 17 17:37:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 17:38:04 2009
Subject: [Harbour] LIB_PREF = lib in mingwce.cf
In-Reply-To: <1237323133663-2493768.post@n2.nabble.com>
References: <1237323133663-2493768.post@n2.nabble.com>
Message-ID: <18d502870903171437s497b8f0cv94b99be5c3fdd71f@mail.gmail.com>

[ mingwce.cf is independent from hbmk. It looks correct to me. ]
The only problem I can see is that 'lib' isn't _removed_ from libnames
passed to hbmk.

Could you post an example with -trace to see what's happening in
your case?

Brgds,
Viktor


On Tue, Mar 17, 2009 at 9:52 PM, AbeB <abe.buch@att.net> wrote:

>
> is
>
> LIB_PREF = lib
>
> in  mingwce.cf correct?
>
> it looks like hbmk  tries to link in libs without the lib prefix.
>
>
>
>
> --
> View this message in context:
> http://n2.nabble.com/LIB_PREF-%3D-lib--in--mingwce.cf-tp2493768p2493768.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/85b9fd98/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 17:41:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 17:41:04 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <22566838.post@talk.nabble.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<22566838.post@talk.nabble.com>
Message-ID: <18d502870903171441t5a88dabj2ff831e00090c91f@mail.gmail.com>

I've installed the SDK today and it looks very nicely and cleanly done.It
resembled me to Harbour is many respects :)

Demos are super impressive. You have headers and libs, even static
ones, and even an IDE, so starting up seems pretty much straightforward,
just try.

The package is big, it needs 1.6GB on disk.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 9:07 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> Massimo Belgrano-3 wrote:
> >
> > An harbour qt implementation at
> http://www.magsoftinfo.com.br/blog/?cat=9
> >
>
> I need more info, and if possible the wrapper base. I think I can
> invest some time on the project.
>
> Also advise how to setup the environment.
>
> Regards
> Pritpal Bedi
>
>
>
> --
> View this message in context:
> http://www.nabble.com/Undestranding-qt-in-an-harbour-sharing-point-tp22557617p22566838.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/7b56ee7a/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 17:42:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 17:42:15 2009
Subject: [Harbour] Re: Question to xBase++ users
In-Reply-To: <609353e70903171424j7cdafc32g75456395a2336380@mail.gmail.com>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<20090316193057.GA20578@uran.home.aster.pl>
	<gpmacp$llm$1@ger.gmane.org>
	<609353e70903161316w74411a3eqfc4a219a55cb2d5e@mail.gmail.com>
	<gpmcq8$vaa$1@ger.gmane.org>
	<609353e70903161346r7f4c918cwc983c0e1e59d39b@mail.gmail.com>
	<18d502870903161411u77220c93n247ce360e691748b@mail.gmail.com>
	<609353e70903170417g7bbbe896j8abb447c72b94590@mail.gmail.com>
	<18d502870903170420r76d1d79bx7b526c5a4bcebb5d@mail.gmail.com>
	<609353e70903171424j7cdafc32g75456395a2336380@mail.gmail.com>
Message-ID: <18d502870903171442o33d4be48v542555a70ba53c7d@mail.gmail.com>

Sorry, I lost it...
But let's be a bit more productive, I think most things has been
already said in this topic here :)

Brgds,
Viktor

On Tue, Mar 17, 2009 at 10:24 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> can be interesting Also only WUI?
>
> 2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>
>
> both? probably none.
>> Brgds,
>> Viktor
>>
>> On Tue, Mar 17, 2009 at 12:17 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:
>>
>>> Wich path allow GUI and WUI?
>>>
>>> 2009/3/16 Viktor Szak?ts <harbour.01@syenar.hu>
>>>
>>>>
>>>> For me this isn't a problem yet, since my app is still CUI.
>>>>
>>>> The question is which way to choose to rewrite it _once_.
>>>> Options: GUI and WUI (web UI). For me a GUI is only an
>>>> option if it's at least portable, and it's a plus if it's relatively
>>>> easy to migrate CUI source, possibly with gradual rewrite.
>>>>
>>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> Massimo Belgrano
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/c408153a/attachment.html
From mbelgrano at deltain.it  Tue Mar 17 17:44:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 17:44:05 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <49B90908.3070603@uol.com.br>
References: <24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br>
Message-ID: <609353e70903171444j459f6340t311d758489fd4c47@mail.gmail.com>

I vote  for hbqt in contrib +1

2009/3/12 Marcos Gambeta <marcosgambeta@uol.com.br>

> I am following the same "Class Inheritance Hierarchy" of the Qt.
>
> The project was started few days ago. If Harbour developers agree, i can
>  continue in the Harbour contrib dir. Vailton Renato is ready to help me in
> the development.
>
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/341c4b85/attachment.html
From bedipritpal at hotmail.com  Tue Mar 17 18:08:08 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 17 18:08:12 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <49B90908.3070603@uol.com.br>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br>
Message-ID: <22568921.post@talk.nabble.com>


Hi Marcos



Marcos Gambeta wrote:
> 
> The work is done manually. See the example:
> 
> -----------------
> File: qdialog.cpp
> -----------------
> 
> #include <QDialog>
> #include "hbapi.h"
> 
> /*
> QDialog ( QWidget * parent = 0, Qt::WindowFlags f = 0 )
> */
> HB_FUNC( QT_QDIALOG )
> {
>    QDialog* dialog = NULL;
>    QWidget* parent = ISNIL(1)? 0 : (QWidget*) hb_parptr(1);
>    int f = ISNIL(2)? 0 : hb_parni(2);
>    dialog = new QDialog( parent, (Qt::WindowFlags) f );
>    hb_retptr( (QDialog*) dialog );
> }
> 
> ...
> 

Sounds very much portable.
If group agrees, post it in contrib. Przemek, Viktor ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Build-xhgtk-inside-harbour-tp20867759p22568921.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Mar 17 18:10:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 18:10:38 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317204638.GA32231@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
	<gponds$vtm$1@ger.gmane.org>
	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
	<gpou50$nq4$1@ger.gmane.org>
	<20090317204638.GA32231@uran.home.aster.pl>
Message-ID: <18d502870903171510nea6f1efl461e0a90dea9c995@mail.gmail.com>

>
> For Harbour speedtst builds use -gc3 and -ko switches. -ko enables some
> optimizations which breaks some strict Clipper compatibility, f.e.
> different RT errors on wrong types in math operations but as I can see
> XPP does not respect Clipper compatibility in much more serious places
> so we should enable such optimizations also in Harbour.


I think we should enable -ko for Harbour builds. What do you think?


> Meanwhile I have a question about MSVC. The MSWIN documentation says
> that Interlocked*() functions should be inlined by compiler if possible.
> Viktor's ST and MT Harbour results suggests that MSVC does not make it.


Yes, indeed:
---
_hb_atomic_inc:
  00000000: 8B 44 24 04        mov         eax,dword ptr [esp+4]
  00000004: 50                 push        eax
  00000005: FF 15 00 00 00 00  call        dword ptr
[__imp__InterlockedIncrement@4]
  0000000B: C3                 ret

_hb_atomic_dec:
  00000000: 8B 44 24 04        mov         eax,dword ptr [esp+4]
  00000004: 50                 push        eax
  00000005: FF 15 00 00 00 00  call        dword ptr
[__imp__InterlockedDecrement@4]
  0000000B: F7 D8              neg         eax
  0000000D: 1B C0              sbb         eax,eax
  0000000F: 83 C0 01           add         eax,1
  00000012: C3                 ret
---


> Can you try to make sth similar for MSVC?
> For hb_atomic_inc32 we need only:
>      LOCK;
>      INC p;
>
> and for hb_atomic_dec32:
>      LOCK;
>      DEC p;
>      SETNE;
>

Maybe this code:
---
void hb_atomic_inc32( volatile int * p )
{
   __asm
   {
      lock inc p
   }
}

int hb_atomic_dec32( volatile int * p )
{
   unsigned char c;
   __asm
   {
      lock dec p
      setne c
   }
   return c == 0;
}
---

Which results in this ASM:
---
_hb_atomic_inc32:
  00000000: 55                 push        ebp
  00000001: 8B EC              mov         ebp,esp
  00000003: F0 FF 45 08        lock inc    dword ptr [ebp+8]
  00000007: 5D                 pop         ebp
  00000008: C3                 ret
_hb_atomic_dec32:
  00000010: 55                 push        ebp
  00000011: 8B EC              mov         ebp,esp
  00000013: 51                 push        ecx
  00000014: F0 FF 4D 08        lock dec    dword ptr [ebp+8]
  00000018: 0F 95 45 FF        setne       byte ptr [ebp-1]
  0000001C: 0F B6 45 FF        movzx       eax,byte ptr [ebp-1]
  00000020: F7 D8              neg         eax
  00000022: 1B C0              sbb         eax,eax
  00000024: 83 C0 01           add         eax,1
  00000027: 8B E5              mov         esp,ebp
  00000029: 5D                 pop         ebp
  0000002A: C3                 ret
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/49071eeb/attachment-0001.html
From marcosgambeta at uol.com.br  Tue Mar 17 18:15:54 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Tue Mar 17 18:15:56 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>	
	<22566838.post@talk.nabble.com>
	<609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>
Message-ID: <49C0211A.9020607@uol.com.br>

Massimo Belgrano escreveu:
> Dear  Marcos Gambeta (author of hb qt wrapper) 
> Can you help us tu use & test "Testando Harbour e QT 
> <http://www.magsoftinfo.com.br/blog/?p=139>" ?
> 

I need some days to complete recent changes and stabilize the code.

I changed from manual creation of wrappers to a automated creation using 
php scripts.

The development are done using Windows Vista, Qt SDK and Harbour 
compiled with MinGW (installed by Qt SDK).

Steps:

1. Download and install Qt SDK:

http://www.qtsoftware.com/downloads
(direct download or torrent)

2. Download and install MSYS

http://www.mingw.org

3. Compile Harbour using MSYS and MinGW (from SDK)

4. HbQt need PHP to generate .cpp files

http://www.php.net

5. Compile the HbQt source code (after release of the sources, of course).



Regards,
Marcos Gambeta

From harbour.01 at syenar.hu  Tue Mar 17 18:23:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 18:23:12 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <22568921.post@talk.nabble.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
Message-ID: <18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>

Yes, we can put it into contrib. But do we have anything to put there
already?

I'd suggest a few minor cleanups:
---
#include <QtGui\QDialog>
#include "hbapi.h"

HB_FUNC( QT_QDIALOG )
{
   QWidget * parent = ( QWidget * ) hb_parptr( 1 );
   hb_retptr( new QDialog( parent, ( Qt::WindowFlags ) hb_parni( 2 ) ) );
}
---

Plus I'd strongly suggest considering GC collected pointers.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 11:08 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi Marcos
> >
> > #include <QDialog>
> > #include "hbapi.h"
> >
> > /*
> > QDialog ( QWidget * parent = 0, Qt::WindowFlags f = 0 )
> > */
> > HB_FUNC( QT_QDIALOG )
> > {
> >    QDialog* dialog = NULL;
> >    QWidget* parent = ISNIL(1)? 0 : (QWidget*) hb_parptr(1);
> >    int f = ISNIL(2)? 0 : hb_parni(2);
> >    dialog = new QDialog( parent, (Qt::WindowFlags) f );
> >    hb_retptr( (QDialog*) dialog );
> > }
> >
> > ...
> >
>
> Sounds very much portable.
> If group agrees, post it in contrib. Przemek, Viktor ?
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Build-xhgtk-inside-harbour-tp20867759p22568921.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/95d0ec57/attachment.html
From harbour.01 at syenar.hu  Tue Mar 17 18:24:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 18:24:09 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
Message-ID: <18d502870903171524x73f1175g9533923627eecc59@mail.gmail.com>

Or even:---
#include <QtGui\QDialog>
#include "hbapi.h"

HB_FUNC( QT_QDIALOG )
{
   hb_retptr( new QDialog( ( QWidget * ) hb_parptr( 1 ),
                           ( Qt::WindowFlags ) hb_parni( 2 ) ) );
}
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/bc5669be/attachment.html
From mbelgrano at deltain.it  Tue Mar 17 18:30:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 18:30:19 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <49C0211A.9020607@uol.com.br>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<22566838.post@talk.nabble.com>
	<609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>
	<49C0211A.9020607@uol.com.br>
Message-ID: <609353e70903171530m6db1ccd5k3a3beb3a32937637@mail.gmail.com>

>
> 1. Download and install Qt SDK: http://www.qtsoftware.com/downloads (direct
> download or torrent)
>
Done

> 2. Download and install MSYS  http://www.mingw.org

Done

> 3. Compile Harbour using MSYS and MinGW (from SDK)

Done

> 4. HbQt need PHP to generate .cpp files http://www.php.net

Done I have download  5.2.9.1
Wich  web server setup with windows vista?

> 5. Compile the HbQt source code (after release of the sources, of course).
>
Waiting for your release
I stay tuned
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/22605522/attachment.html
From mbelgrano at deltain.it  Tue Mar 17 18:35:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 18:35:29 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
Message-ID: <609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>

xhgtk if i remember right Przemyslaw post

2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>
>
> Yes, we can put it into contrib. But do we have anything to put?there already?

--
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Mar 17 18:45:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 18:45:14 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
Message-ID: <18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>

? In one mail you're talking about hbqt, now you're talking about xhgtk,
while Przemek and Phil has been talking about xbgtk.

Sorry I cannot follow.

IMO after looking at both projects, they are better fitted standalone
than inside our contrib tree.

As for hbqt, I'd vote to see some code first, then we can decide
how/where to place it. Since it needs a code generator written
in php, we will need to deal with some new stuff here.

Brgds,
Viktor

On Tue, Mar 17, 2009 at 11:35 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> xhgtk if i remember right Przemyslaw post
>
> 2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>
> >
> > Yes, we can put it into contrib. But do we have anything to put there
> already?
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090317/e503a67f/attachment.html
From marcosgambeta at uol.com.br  Tue Mar 17 18:45:53 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Tue Mar 17 18:45:50 2009
Subject: [Harbour] Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903171530m6db1ccd5k3a3beb3a32937637@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>	<22566838.post@talk.nabble.com>	<609353e70903171411s451e985fida13a436b5304703@mail.gmail.com>	<49C0211A.9020607@uol.com.br>
	<609353e70903171530m6db1ccd5k3a3beb3a32937637@mail.gmail.com>
Message-ID: <49C02821.1020000@uol.com.br>

Massimo Belgrano escreveu:
> 
>     4. HbQt need PHP to generate .cpp files http://www.php.net
> 
> Done I have download  5.2.9.1
> Wich  web server setup with windows vista?
> 

Only PHP. A web server is not a requisite. PHP is used as scripting 
language.

See example below:

File: QAbstractButton.php

<?php
$widget='QAbstractButton';
$inherit='QWidget';
include("header.php");
?>

#include <QAbstractButton>
#include "hbapi.h"

<?php

$funcprot='bool autoExclusive () const';
$funcname='autoExclusive';
$funcpar='';
$funcret='bool';
include("function.php");

$funcprot='bool autoRepeat () const ';
$funcname='autoRepeat';
$funcpar='';
$funcret='bool';
include("function.php");

$funcprot='int autoRepeatDelay () const ';
$funcname='autoRepeatDelay';
$funcpar='';
$funcret='int';
include("function.php");

$funcprot='int autoRepeatInterval () const ';
$funcname='autoRepeatInterval';
$funcpar='';
$funcret='int';
include("function.php");

$funcprot='QButtonGroup * group () const ';
$funcname='group';
$funcpar='';
$funcret='QButtonGroup *';
include("function.php");

// $funcprot='QIcon icon () const ';
// $funcname='icon';
// $funcpar='';
// $funcret='QIcon';
// include("function.php");

// $funcprot='QSize iconSize () const ';
// $funcname='iconSize';
// $funcpar='';
// $funcret='QSize *';
// include("function.php");

$funcprot='bool isCheckable () const ';
$funcname='isCheckable';
$funcpar='';
$funcret='bool';
include("function.php");

$funcprot='bool isChecked () const ';
$funcname='isChecked';
$funcpar='';
$funcret='bool';
include("function.php");

$funcprot='bool isDown () const ';
$funcname='isDown';
$funcpar='';
$funcret='bool';
include("function.php");

$funcprot='void setAutoExclusive ( bool ) ';
$funcname='setAutoExclusive';
$funcpar='bool';
$funcret='void';
include("function.php");

$funcprot='void setAutoRepeat ( bool ) ';
$funcname='setAutoRepeat';
$funcpar='bool';
$funcret='void';
include("function.php");

$funcprot='void setAutoRepeatDelay ( int ) ';
$funcname='setAutoRepeatDelay';
$funcpar='int';
$funcret='void';
include("function.php");

$funcprot='void setAutoRepeatInterval ( int ) ';
$funcname='setAutoRepeatInterval';
$funcpar='int';
$funcret='void';
include("function.php");

$funcprot='void setCheckable ( bool ) ';
$funcname='setCheckable';
$funcpar='bool';
$funcret='void';
include("function.php");

$funcprot='void setDown ( bool ) ';
$funcname='setDown';
$funcpar='bool';
$funcret='void';
include("function.php");

$funcprot='void setIcon ( const QIcon & icon ) ';
$funcname='setIcon';
$funcpar='QIcon';
$funcret='void';
include("function.php");

// $funcprot='void setShortcut ( const QKeySequence & key ) ';
// $funcname='setShortcut';
// $funcpar='QKeySequence';
// $funcret='void';
// include("function.php");

$funcprot='void setText ( const QString & text ) ';
$funcname='setText';
$funcpar='QString';
$funcret='void';
include("function.php");

// $funcprot='QKeySequence shortcut () const ';
// $funcname='shortcut';
// $funcpar='';
// $funcret='QKeySequence *';
// include("function.php");

$funcprot='QString text () const ';
$funcname='text';
$funcpar='';
$funcret='QString';
include("function.php");

$funcprot='void animateClick ( int msec = 100 )';
$funcname='animateClick';
$funcpar='int';
$funcret='void';
include("function.php");

$funcprot='void click () ';
$funcname='click';
$funcpar='';
$funcret='void';
include("function.php");

$funcprot='void setChecked ( bool ) ';
$funcname='setChecked';
$funcpar='bool';
$funcret='void';
include("function.php");

// $funcprot='void setIconSize ( const QSize & size ) ';
// $funcname='setIconSize';
// $funcpar='QSize';
// $funcret='void';
// include("function.php");

$funcprot='void toggle () ';
$funcname='toggle';
$funcpar='';
$funcret='void';
include("function.php");

?>

To create the source, i do:

php QAbstractButton.php > QAbstractButton.cpp

And i get:

/*
$Id: QAbstractButton.cpp 0 0000-00-00 00:00:00Z marcosgambeta $
*/

/*

  HbQt - Harbour/xHarbour Qt Library

  This library is free software; you can redistribute it and/or modify 
it under
  the terms of the GNU Lesser General Public License as published by the 
Free
  Software Foundation; either version 2.1 of the License, or (at your 
option)
  any later version.

  This library is distributed in the hope that it will be useful, but 
WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or 
FITNESS
  FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License 
for more
  details.

  You should have received a copy of the GNU Lesser General Public 
License along
  with this library; if not, write to the Free Software Foundation, Inc., 59
  Temple Place, Suite 330, Boston, MA 02111-1307 USA

  Copyright 2009 Marcos Antonio Gambeta <marcosgambeta at gmail dot com>

*/

/*
Auto-generated source code. DO NOT EDIT.
*/


#include <QAbstractButton>
#include "hbapi.h"

/*
bool autoExclusive () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOEXCLUSIVE )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool b = par1->autoExclusive (  );
   hb_retl( b );
}

/*
bool autoRepeat () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOREPEAT )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool b = par1->autoRepeat (  );
   hb_retl( b );
}

/*
int autoRepeatDelay () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOREPEATDELAY )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   int i = par1->autoRepeatDelay (  );
   hb_retni( i );
}

/*
int autoRepeatInterval () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOREPEATINTERVAL )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   int i = par1->autoRepeatInterval (  );
   hb_retni( i );
}

/*
QButtonGroup * group () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_GROUP )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   QButtonGroup * ptr = par1->group (  );
   hb_retptr( (QButtonGroup *) ptr );
}

/*
bool isCheckable () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_ISCHECKABLE )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool b = par1->isCheckable (  );
   hb_retl( b );
}

/*
bool isChecked () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_ISCHECKED )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool b = par1->isChecked (  );
   hb_retl( b );
}

/*
bool isDown () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_ISDOWN )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool b = par1->isDown (  );
   hb_retl( b );
}

/*
void setAutoExclusive ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOEXCLUSIVE )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool par2 = hb_parl(2);
   par1->setAutoExclusive ( par2 );
}

/*
void setAutoRepeat ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOREPEAT )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool par2 = hb_parl(2);
   par1->setAutoRepeat ( par2 );
}

/*
void setAutoRepeatDelay ( int )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOREPEATDELAY )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   int par2 = hb_parni(2);
   par1->setAutoRepeatDelay ( par2 );
}

/*
void setAutoRepeatInterval ( int )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOREPEATINTERVAL )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   int par2 = hb_parni(2);
   par1->setAutoRepeatInterval ( par2 );
}

/*
void setCheckable ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETCHECKABLE )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool par2 = hb_parl(2);
   par1->setCheckable ( par2 );
}

/*
void setDown ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETDOWN )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool par2 = hb_parl(2);
   par1->setDown ( par2 );
}

/*
void setIcon ( const QIcon & icon )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETICON )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   QString par2 = hb_parc(2);
   par1->setIcon ( QIcon( par2 ) );
}

/*
void setText ( const QString & text )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETTEXT )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   QString par2 = hb_parc(2);
   par1->setText ( par2 );
}

/*
QString text () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_TEXT )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   QString str1 = par1->text (  );
   QByteArray ba = str1.toLatin1();
   const char *c_str2 = ba.data();
   hb_retc( c_str2 );
}

/*
void animateClick ( int msec = 100 )
*/
HB_FUNC( QT_QABSTRACTBUTTON_ANIMATECLICK )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   int par2 = hb_parni(2);
   par1->animateClick ( par2 );
}

/*
void click ()
*/
HB_FUNC( QT_QABSTRACTBUTTON_CLICK )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   par1->click (  );
}

/*
void setChecked ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETCHECKED )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   bool par2 = hb_parl(2);
   par1->setChecked ( par2 );
}

/*
void toggle ()
*/
HB_FUNC( QT_QABSTRACTBUTTON_TOGGLE )
{
   QAbstractButton * par1 = (QAbstractButton *) hb_parptr(1);
   par1->toggle (  );
}


Is more easy and fast than manual creation. Only complex functions need 
manual creation.


Regards,
Marcos Gambeta
From mbelgrano at deltain.it  Tue Mar 17 18:51:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 17 18:51:49 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
	<18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
Message-ID: <609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>

I want only rember Przemek proposal of xhgtk

2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> ? In one mail you're talking about hbqt, now you're talking about
> xhgtk, while Przemek and Phil has been talking about xbgtk.
> Sorry I cannot follow.
> IMO after looking at both projects, they are?better fitted standalone
> than inside our contrib tree.
> As for hbqt, I'd vote to see some code first, then we can decide
> how/where to place it. Since it needs a code generator written
> in php, we will need to deal with some new stuff here.
> Brgds,
> Viktor
> On Tue, Mar 17, 2009 at 11:35 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> xhgtk if i remember right Przemyslaw post
>>
>> 2009/3/17 Viktor Szak?ts <harbour.01@syenar.hu>
>> >
>> > Yes, we can put it into contrib. But do we have anything to put?there
>> > already?
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Tue Mar 17 19:03:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 19:03:54 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
	<18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
	<609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>
Message-ID: <18d502870903171603r13caa9c3jfcf5850ffb337fe2@mail.gmail.com>

On Tue, Mar 17, 2009 at 11:51 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I want only rember Przemek proposal of xhgtk


Sorry, I don't understand you.

xhgtk uses several subdirs to store different part of the interface,
and these subdirs generate one unified library. This doesn't seem
possible with our current GNU-make system.

The other problem is handling the large amount of dependencies,
but that's probably manageable using existing Harbour techniques.
If xhgtk developers would agree to drop pkg-config requirement for
non-*nix builds. (or we need to rethink the whole current 3rd party
pkg handling situation).

It also has some other minor, but special and platform dependent
prerequisites.

Probably we'd need some sort of contrib local pre/post script
support to solve all these.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/e9c7c785/attachment.html
From druzus at acn.waw.pl  Tue Mar 17 19:12:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 19:06:37 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <18d502870903171510nea6f1efl461e0a90dea9c995@mail.gmail.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
	<gponds$vtm$1@ger.gmane.org>
	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
	<gpou50$nq4$1@ger.gmane.org>
	<20090317204638.GA32231@uran.home.aster.pl>
	<18d502870903171510nea6f1efl461e0a90dea9c995@mail.gmail.com>
Message-ID: <20090317231251.GA13346@uran.home.aster.pl>

On Tue, 17 Mar 2009, Szak?ts Viktor wrote:
> > For Harbour speedtst builds use -gc3 and -ko switches. -ko enables some
> > optimizations which breaks some strict Clipper compatibility, f.e.
> > different RT errors on wrong types in math operations but as I can see
> > XPP does not respect Clipper compatibility in much more serious places
> > so we should enable such optimizations also in Harbour.
> I think we should enable -ko for Harbour builds. What do you think?

IMHO it's good idea but we should remember to add
   #pragma -ko-
   #pragma -ko+
to hbtest in three places - otherwise it will report incompatible
error messages.


> > Can you try to make sth similar for MSVC?
> > For hb_atomic_inc32 we need only:
> >      LOCK;
> >      INC p;
> >
> > and for hb_atomic_dec32:
> >      LOCK;
> >      DEC p;
> >      SETNE;
> >
> Maybe this code:
> ---
> void hb_atomic_inc32( volatile int * p )
> {
>    __asm
>    {
>       lock inc p
>    }
> }
> int hb_atomic_dec32( volatile int * p )
> {
>    unsigned char c;
>    __asm
>    {
>       lock dec p
>       setne c
>    }
>    return c == 0;
> }
> ---
> Which results in this ASM:
> _hb_atomic_inc32:
>   00000000: 55                 push        ebp
>   00000001: 8B EC              mov         ebp,esp
>   00000003: F0 FF 45 08        lock inc    dword ptr [ebp+8]
>   00000007: 5D                 pop         ebp
>   00000008: C3                 ret

Good if you can also declare it as inline function then we will have
what we need. We can also try to create macro but I do not know if it
will not create some problems for MSVC like for BCC.

> _hb_atomic_dec32:
>   00000010: 55                 push        ebp
>   00000011: 8B EC              mov         ebp,esp
>   00000013: 51                 push        ecx
>   00000014: F0 FF 4D 08        lock dec    dword ptr [ebp+8]
>   00000018: 0F 95 45 FF        setne       byte ptr [ebp-1]
>   0000001C: 0F B6 45 FF        movzx       eax,byte ptr [ebp-1]
>   00000020: F7 D8              neg         eax
>   00000022: 1B C0              sbb         eax,eax
>   00000024: 83 C0 01           add         eax,1
>   00000027: 8B E5              mov         esp,ebp
>   00000029: 5D                 pop         ebp
>   0000002A: C3                 ret

In such version SETE should be used insted of SETNE or simply
   return c == 0;
changed to"
   return c;

It's also good though here compiler didn't optimize the code
In such case it will be better to change it and not use
memory variable. But I do not know how to set return value
in MSVC. Can it accept code like:

   int hb_atomic_dec32( volatile int * p )
   {
      __asm
      {
         xor eax, eax
         lock dec p
         setne
      }
   }

or maybe it's enough to use some pseudo register variable, f.e.:
   int hb_atomic_dec32( volatile int * p )
   {
      __asm
      {
         xor eax, eax
         lock dec p
         setne
      }
      return _EAX;   // or other name which in MSVC refers to EAX register
   }

If you can check it then I'll add macros for MSVC and we can see how
it changes to differnce between ST and MT modes for:
   T001, T004, T007, T010
in speedtst.prg.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 17 19:24:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 19:24:18 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <20090317231251.GA13346@uran.home.aster.pl>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<gpohef$8bp$1@ger.gmane.org>
	<18d502870903170953x74e9b67bj352d6fab36fb64a0@mail.gmail.com>
	<gponds$vtm$1@ger.gmane.org>
	<18d502870903171055m7eeeddb2me8a15cdaa6d24e4c@mail.gmail.com>
	<gpou50$nq4$1@ger.gmane.org>
	<20090317204638.GA32231@uran.home.aster.pl>
	<18d502870903171510nea6f1efl461e0a90dea9c995@mail.gmail.com>
	<20090317231251.GA13346@uran.home.aster.pl>
Message-ID: <18d502870903171624n18259617n29d9f8ca8612a3ba@mail.gmail.com>

>
> > I think we should enable -ko for Harbour builds. What do you think?
>
> IMHO it's good idea but we should remember to add
>   #pragma -ko-
>   #pragma -ko+
> to hbtest in three places - otherwise it will report incompatible
> error messages.


I'll add -ko to build, I'm leaving you adding #pragmas
to appropriate places.


> Good if you can also declare it as inline function then we will have
> what we need. We can also try to create macro but I do not know if it
> will not create some problems for MSVC like for BCC.


Update code with inline and setne fix, with optional alternate syntax:
---
void __inline hb_atomic_inc32( volatile int * p )
{
   __asm lock inc p
}

int __inline hb_atomic_dec32( volatile int * p )
{
   unsigned char c;
   __asm xor eax, eax
   __asm lock dec p
   __asm setne c
   return c;
}

void main( void )
{
   int a;

   hb_atomic_inc32( &a );
   hb_atomic_dec32( &a );
}
---

disassembly with default Harbour optimizations turned on:
---
_hb_atomic_inc32:
  00000000: F0 FF 44 24 04     lock inc    dword ptr [esp+4]
  00000005: C3                 ret

_hb_atomic_dec32:
  00000000: 51                 push        ecx
  00000001: 33 C0              xor         eax,eax
  00000003: F0 FF 4C 24 08     lock dec    dword ptr [esp+8]
  00000008: 0F 95 44 24 03     setne       byte ptr [esp+3]
  0000000D: 0F B6 44 24 03     movzx       eax,byte ptr [esp+3]
  00000012: 59                 pop         ecx
  00000013: C3                 ret

_main:
  00000000: 83 EC 0C           sub         esp,0Ch
  00000003: 8D 44 24 04        lea         eax,[esp+4]
  00000007: 89 44 24 08        mov         dword ptr [esp+8],eax
  0000000B: F0 FF 44 24 08     lock inc    dword ptr [esp+8]
  00000010: 8B C8              mov         ecx,eax
  00000012: 89 4C 24 08        mov         dword ptr [esp+8],ecx
  00000016: 33 C0              xor         eax,eax
  00000018: F0 FF 4C 24 08     lock dec    dword ptr [esp+8]
  0000001D: 0F 95 44 24 03     setne       byte ptr [esp+3]
  00000022: 83 C4 0C           add         esp,0Ch
  00000025: C3                 ret
---

     return _EAX;   // or other name which in MSVC refers to EAX register


It's not possible in MSVC.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/ae0293a5/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 17 19:31:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 19:31:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10634] trunk/harbour
Message-ID: <E1LjilD-0005OF-QK@3kljzd1.ch3.sourceforge.com>

Revision: 10634
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10634&view=rev
Author:   vszakats
Date:     2009-03-17 23:31:50 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-18 00:31 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/rules.cf
    + Added -ko optimization switch for Harbour.
    ; TODO: Disable it for specific places of hbtest.

  * bin/hb-mkdyn.bat
    + Added missing pocc implib generation.

  * utils/hbmk2/hbmk2.prg
    + mingwce support synced with mingw some more.
      F.e. now resources are supported for mingwce executables.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/rules.cf
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 17 19:44:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 19:44:42 2009
Subject: [Harbour] pCode dll
In-Reply-To: <20090316125733.A62C.422BA498@telkom.net.id>
References: <b7cd04c7.1c9a5b4.f46cb06.762e@mafact.com>
	<18d502870903151749o98bba23ic4ffe9506527e064@mail.gmail.com>
	<20090316125733.A62C.422BA498@telkom.net.id>
Message-ID: <18d502870903171644r232a09bbsa886cfb2c5820373@mail.gmail.com>

>
> > /half-off-off
>
> ALL are basically compatible, read below:
>
> OWatcom: I suggest you have oWatcom Harbour flags standardized as what
> other compilers use as of now. Take a look at -s and -r switch (default
> is -r which is "use register calling convention"). Other Windoze
> compiler are using -s equivalent (-s = "stack calling convention").It's
> should be OK if you're using -r but the creation of import library
> become rather clumpsy, because -r append an underscrore AFTER symbol
> name.


Thanks for the owatcom tip Andi. In OpenWatcom 1.8 -s and -r mean
something different, but the same idea can be accessed using s and r
postfixes for CPU family switches.


> MSVC,POCC,ICC and GCC are fully compatible. We can easily rename an
> MSVC-created import lib to GCC name, ie. harbour.lib->libharbour.a.
>
> Borland VS MSVC family only differs in an underscore. Borland requires
> an underscore IN FRONT OF symbol name. Take a look at switch -a in
> Borland's IMPLIB.EXE/IMPDEF.EXE.


Yes, problem is that it's not binary compatible, it needs implib tricks
(sometimes manual editing of .def files) and app rebuild. So it's
practically
not very usable. I just can wonder what was the goal of Borland with this
idea.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/144ee510/attachment.html
From bedipritpal at hotmail.com  Tue Mar 17 19:45:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Mar 17 19:45:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
Message-ID: <22570234.post@talk.nabble.com>


Hello Przemek

Here are the logs:


03/17/09 16:36:34 Windows XP 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10633) Borland C++ 5.5.1 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.05
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.08
[ T005: x := S_N ]..............................................0.08
[ T006: x := S_D ]..............................................0.06
[ T007: x := M->M_C ]...........................................0.08
[ T008: x := M->M_N ]...........................................0.09
[ T009: x := M->M_D ]...........................................0.08
[ T010: x := M->P_C ]...........................................0.08
[ T011: x := M->P_N ]...........................................0.08
[ T012: x := M->P_D ]...........................................0.08
[ T013: x := F_C ]..............................................0.17
[ T014: x := F_N ]..............................................0.27
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.22
[ T017: x := o[2] ].............................................0.16
[ T018: round( i / 1000, 2 ) ]..................................0.30
[ T019: str( i / 1000 ) ].......................................0.91
[ T020: val( s ) ]..............................................0.31
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.56
[ T022: dtos( d - i % 10000 ) ].................................0.53
[ T023: eval( { || i % 16 } ) ].................................0.52
[ T024: eval( bc := { || i % 16 } ) ]...........................0.30
[ T025: eval( { |x| x % 16 }, i ) ].............................0.42
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.33
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.50
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.44
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.42
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.42
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.38
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.48
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.00
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.41
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.44
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.44
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.44
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.45
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.44
[ T040: ascan( a, i % 16 ) ]....................................0.41
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................3.63
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.06
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.09
[ T046: f1( i ) ]...............................................0.19
[ T047: f2( c[1...8] ) ]........................................0.17
[ T048: f2( c[1...40000] ) ]....................................0.14
[ T049: f2( @c[1...40000] ) ]...................................0.16
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.17
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.58
[ T052: f2( a ) ]...............................................0.16
[ T053: x := f4() ].............................................0.91
[ T054: x := f5() ].............................................0.28
[ T055: x := space(16) ]........................................0.23
[ T056: f_prv( c ) ]............................................0.44
====================================================================
[ total application time: ]....................................30.70
[ total real time: ]...........................................30.78




03/17/09 16:33:46 Windows XP 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10633) (MT) Borland C++ 5.5.1 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................0.09
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.06
[ T004: x := S_C ]..............................................0.14
[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.06
[ T007: x := M->M_C ]...........................................0.16
[ T008: x := M->M_N ]...........................................0.09
[ T009: x := M->M_D ]...........................................0.08
[ T010: x := M->P_C ]...........................................0.14
[ T011: x := M->P_N ]...........................................0.08
[ T012: x := M->P_D ]...........................................0.08
[ T013: x := F_C ]..............................................0.34
[ T014: x := F_N ]..............................................0.27
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.31
[ T017: x := o[2] ].............................................0.20
[ T018: round( i / 1000, 2 ) ]..................................0.38
[ T019: str( i / 1000 ) ].......................................1.17
[ T020: val( s ) ]..............................................0.44
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.75
[ T022: dtos( d - i % 10000 ) ].................................0.80
[ T023: eval( { || i % 16 } ) ].................................0.94
[ T024: eval( bc := { || i % 16 } ) ]...........................0.39
[ T025: eval( { |x| x % 16 }, i ) ].............................0.70
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.41
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.84
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.56
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.56
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................5.42
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................6.56
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.83
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.33
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.56
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.61
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.61
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.61
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.61
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.61
[ T040: ascan( a, i % 16 ) ]....................................0.59
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................5.72
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.80
[ T043: x := a ]................................................0.11
[ T044: x := {} ]...............................................0.36
[ T045: f0() ]..................................................0.13
[ T046: f1( i ) ]...............................................0.20
[ T047: f2( c[1...8] ) ]........................................0.25
[ T048: f2( c[1...40000] ) ]....................................0.23
[ T049: f2( @c[1...40000] ) ]...................................0.25
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.27
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.84
[ T052: f2( a ) ]...............................................0.23
[ T053: x := f4() ].............................................1.19
[ T054: x := f5() ].............................................0.67
[ T055: x := space(16) ]........................................0.45
[ T056: f_prv( c ) ]............................................1.02
====================================================================
[ total application time: ]....................................45.86
[ total real time: ]...........................................46.16





03/17/09 16:44:28 Windows XP 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10633) (MT)+ Borland C++ 5.5.1 (32-bit)
THREADS: 2
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.13
====================================================================
[ T001: x := L_C ]..............................................0.39
[ T002: x := L_N ]..............................................0.27
[ T003: x := L_D ]..............................................0.09
[ T004: x := S_C ]..............................................0.25
[ T005: x := S_N ]..............................................0.13
[ T006: x := S_D ]..............................................0.13
[ T007: x := M->M_C ]...........................................0.28
[ T008: x := M->M_N ]...........................................0.16
[ T009: x := M->M_D ]...........................................0.19
[ T010: x := M->P_C ]...........................................0.31
[ T011: x := M->P_N ]...........................................0.16
[ T012: x := M->P_D ]...........................................0.16
[ T013: x := F_C ]..............................................0.69
[ T014: x := F_N ]..............................................0.56
[ T015: x := F_D ]..............................................0.31
[ T016: x := o:Args ]...........................................0.59
[ T017: x := o[2] ].............................................0.44
[ T018: round( i / 1000, 2 ) ]..................................0.72
[ T019: str( i / 1000 ) ].......................................2.17
[ T020: val( s ) ]..............................................0.81
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.42
[ T022: dtos( d - i % 10000 ) ].................................2.34
[ T023: eval( { || i % 16 } ) ].................................2.95
[ T024: eval( bc := { || i % 16 } ) ]...........................1.28
[ T025: eval( { |x| x % 16 }, i ) ].............................1.61
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.44
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.89
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.50
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.20
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................29.48
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............34.52
[ T032: x := valtype( x ) +  valtype( i ) ].....................3.23
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........4.00
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.30
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.25
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.22
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.22
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.25
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.22
[ T040: ascan( a, i % 16 ) ]....................................1.16
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................12.95
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....4.91
[ T043: x := a ]................................................0.22
[ T044: x := {} ]...............................................1.33
[ T045: f0() ]..................................................0.28
[ T046: f1( i ) ]...............................................0.39
[ T047: f2( c[1...8] ) ]........................................0.48
[ T048: f2( c[1...40000] ) ]....................................0.50
[ T049: f2( @c[1...40000] ) ]...................................0.50
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.53
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.80
[ T052: f2( a ) ]...............................................0.56
[ T053: x := f4() ].............................................2.98
[ T054: x := f5() ].............................................1.89
[ T055: x := space(16) ]........................................2.23
[ T056: f_prv( c ) ]............................................2.08
====================================================================
[ total application time: ]....................................72.86
[ total real time: ]...........................................37.30






03/17/2009 16:15:40 Windows XP 05.01 Build 02600 Service Pack 2
Xbase++ (R) Version 1.90 (MT) 
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.07
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.05
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.04
[ T007: x := M->M_C ]...........................................0.14
[ T008: x := M->M_N ]...........................................0.09
[ T009: x := M->M_D ]...........................................0.10
[ T010: x := M->P_C ]...........................................0.14
[ T011: x := M->P_N ]...........................................0.11
[ T012: x := M->P_D ]...........................................0.11
[ T013: x := F_C ]..............................................0.20
[ T014: x := F_N ]..............................................0.18
[ T015: x := F_D ]..............................................0.17
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.03
[ T018: round( i / 1000, 2 ) ]..................................0.42
[ T019: str( i / 1000 ) ].......................................2.04
[ T020: val( s ) ]..............................................0.26
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.39
[ T022: dtos( d - i % 10000 ) ].................................0.49
[ T023: eval( { || i % 16 } ) ].................................0.89
[ T024: eval( bc := { || i % 16 } ) ]...........................0.60
[ T025: eval( { |x| x % 16 }, i ) ].............................0.42
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.34
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.51
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.43
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.68
[ T030: x := &( 'f1(' + str(i) + ')' ) ]........................9.77
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............13.55
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.27
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.14
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.22
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.31
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.31
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.33
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.31
[ T040: ascan( a, i % 16 ) ]....................................0.67
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................4.29
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....6.34
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.22
[ T045: f0() ]..................................................0.08
[ T046: f1( i ) ]...............................................0.16
[ T047: f2( c[1...8] ) ]........................................0.19
[ T048: f2( c[1...40000] ) ]....................................0.11
[ T049: f2( @c[1...40000] ) ]...................................0.11
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.14
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.24
[ T052: f2( a ) ]...............................................0.09
[ T053: x := f4() ].............................................0.71
[ T054: x := f5() ].............................................0.30
[ T055: x := space(16) ]........................................0.20
[ T056: f_prv( c ) ]............................................0.44
====================================================================
[ total application time: ]....................................52.60
[ total real time: ]...........................................52.60


Harbour          -DHB_FM_STATISTICS_OFF
speedtst.exe   hbmk2.exe speedtst -gc3    |   -mt -gc3

Processor       Intel Core 2 Duo

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10630--trunk-harbour-tp22561423p22570234.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Tue Mar 17 19:49:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 17 19:49:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10635] trunk/harbour
Message-ID: <E1Ljj2c-0006vg-Ht@74yxhf1.ch3.sourceforge.com>

Revision: 10635
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10635&view=rev
Author:   druzus
Date:     2009-03-17 23:49:49 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-18 00:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    + added atomic inc/dec inline assembler code for 32bit MSVC builds
      and probably also to other compilers which defines _MSC_VER
      macro (XCC/POCC). Thanks to Viktor for help. Please make some tests.
      
  * harbour/source/compiler/hbopt.c
    ! disabled one assert() in PCODE optimization code.
      Mindaugas, I left note which explains why.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/source/compiler/hbopt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Mar 17 19:51:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 17 19:51:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10636] trunk/harbour
Message-ID: <E1Ljj3r-0006xj-Vu@74yxhf1.ch3.sourceforge.com>

Revision: 10636
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10636&view=rev
Author:   druzus
Date:     2009-03-17 23:51:07 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-18 00:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    % removed unnecessary in such version xor
    

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar 17 19:52:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 19:52:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10637] trunk/harbour
Message-ID: <E1Ljj5T-0005mk-Ae@3kljzd1.ch3.sourceforge.com>

Revision: 10637
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10637&view=rev
Author:   vszakats
Date:     2009-03-17 23:52:46 +0000 (Tue, 17 Mar 2009)

Log Message:
-----------
2009-03-18 00:50 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for -o for executables in win/pocc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar 17 20:09:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 20:02:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10630] trunk/harbour
In-Reply-To: <22570234.post@talk.nabble.com>
References: <E1Ljb0o-0004Xk-W8@c3vjzd1.ch3.sourceforge.com>
	<22570234.post@talk.nabble.com>
Message-ID: <20090318000912.GA16702@uran.home.aster.pl>

On Tue, 17 Mar 2009, Pritpal Bedi wrote:

Hi,

> Hello Przemek
> Here are the logs:

Thank you very much.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Mar 17 20:12:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 17 20:12:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10638] trunk/harbour
Message-ID: <E1LjjO8-00069Y-Cp@3kljzd1.ch3.sourceforge.com>

Revision: 10638
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10638&view=rev
Author:   vszakats
Date:     2009-03-18 00:12:03 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 01:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbatomic.h
    ! Typo (__inline__ -> __inline).
    ! Temply disabled new _MSC_VER inline asm code, because it causes this with POCC5:
      include\hbatomic.h(268): error #3114: [asm] Invalid combination of opcode and operands.
      include\hbatomic.h(273): error #3114: [asm] Invalid combination of opcode and operands.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Mar 17 20:14:48 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 17 20:14:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10639]
	trunk/harbour/utils/hbtest/rt_hvma.prg
Message-ID: <E1LjjQm-0006Cv-0n@3kljzd1.ch3.sourceforge.com>

Revision: 10639
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10639&view=rev
Author:   druzus
Date:     2009-03-18 00:14:47 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 01:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbtest/rt_hvma.prg
    * use #pragma -ko- / #pragma -ko+ to make 3 RTE messages clipper
      compatible

Modified Paths:
--------------
    trunk/harbour/utils/hbtest/rt_hvma.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 17 20:19:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 20:19:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10639] 
	trunk/harbour/utils/hbtest/rt_hvma.prg
In-Reply-To: <E1LjjQm-0006Cv-0n@3kljzd1.ch3.sourceforge.com>
References: <E1LjjQm-0006Cv-0n@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903171719u2df41807i52a7a3dcb560bf73@mail.gmail.com>

Thank you!
Brgds,
Viktor

On Wed, Mar 18, 2009 at 1:14 AM, <druzus@users.sourceforge.net> wrote:

> Revision: 10639
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10639&view=rev
> Author:   druzus
> Date:     2009-03-18 00:14:47 +0000 (Wed, 18 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-18 01:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/utils/hbtest/rt_hvma.prg
>    * use #pragma -ko- / #pragma -ko+ to make 3 RTE messages clipper
>      compatible
>
> Modified Paths:
> --------------
>    trunk/harbour/utils/hbtest/rt_hvma.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/ac8fccfe/attachment.html
From druzus at acn.waw.pl  Tue Mar 17 20:30:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 17 20:24:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10638] trunk/harbour
In-Reply-To: <E1LjjO8-00069Y-Cp@3kljzd1.ch3.sourceforge.com>
References: <E1LjjO8-00069Y-Cp@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090318003022.GA25734@uran.home.aster.pl>

On Wed, 18 Mar 2009, vszakats@users.sourceforge.net wrote:
> 2009-03-18 01:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * include/hbatomic.h
>     ! Typo (__inline__ -> __inline).

Thanks.

Can you check current speedtst -mt results in MSVC builds for:

   speedtst --only=001,002,003,004,005,006,007,008,009,010,011,012,043,044

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Mar 17 21:16:36 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 17 21:16:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10640] trunk/harbour
Message-ID: <E1LjkOa-0007f1-Jj@3kljzd1.ch3.sourceforge.com>

Revision: 10640
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10640&view=rev
Author:   druzus
Date:     2009-03-18 01:16:35 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 02:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    ! fixed inline assembler code for atomic inc/dec operations.
      It's late and I haven't wrote anything in assembler using
      Intel syntax for years.
    * reenabled inline assembler code for atomic inc/dec operations
      for POCC/XCC builds - such version should work. Please check.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ssbbs at mail.zzz.com.tw  Tue Mar 17 22:34:00 2009
From: ssbbs at mail.zzz.com.tw (=?BIG5?B?Irr0vXu46rBUoUW5+aTls9MoVw==?= =?BIG5?B?ZW5TaGVuZyki?=)
Date: Tue Mar 17 22:34:12 2009
Subject: [Harbour] compiler error
In-Reply-To: <18d502870903170047w1258e3ccpf183bb41edcc1e9d@mail.gmail.com>
References: <20090317152712.DF4C.84A669A0@mail.zzz.com.tw>
	<18d502870903170047w1258e3ccpf183bb41edcc1e9d@mail.gmail.com>
Message-ID: <20090318103009.7D59.84A669A0@mail.zzz.com.tw>



>=20
> If this is a BCC problem, it may be one.
>=20
> You seem to have ignored my requests, so probably
> that's all I can do to help on this matter for now.
>=20
> Anyhow if someone has -i compilation results for BCC
> and possibly for MinGW/MSVC in Chinese systems,
> I'd like to see them.

sorry!! this is message:
e:\>make_gnu.bat -i install
------------------------------------------
mingw32-make.exe[3]: Entering directory
`E:/harbour/source/codepage/win/bcc'
bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov=
 -Oi -Oc    -c ../../cpbg866.c -ocpbg866.obj
=2E./../cpbg866.c:
Error E2380 ../../cpbg866.c 87: Unterminated string or character constant
*** 1 errors in Compile ***
------------------------------------------

From harbour.01 at syenar.hu  Mon Mar 16 09:14:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 17 23:01:46 2009
Subject: [Harbour] Question to xBase++ users
In-Reply-To: <20090316130303.GA2771@uran.home.aster.pl>
References: <20090316122848.GB32462@uran.home.aster.pl>
	<18d502870903160536l4c3d255ei2044d03366aac538@mail.gmail.com>
	<20090316130303.GA2771@uran.home.aster.pl>
Message-ID: <18d502870903160614m68855a8p2171e7ad3f36d564@mail.gmail.com>

Changing to fnc* didn't make a difference, seems that the TEST command isn't
PPes:

---
#line 1 "STD.CH"@"STD.CH"
#line 1 "Set.ch"@"Set.ch"
#line 1 "natmsg.ch"@"natmsg.ch"
#line 18 "Set.ch"
#line 37 "STD.CH"
#line 1 "Get.ch"@"Get.ch"
#line 42 "STD.CH"
#line 1 "Prompt.ch"@"Prompt.ch"
#line 47 "STD.CH"
#line 1 "Memvar.ch"@"Memvar.ch"
#line 53 "STD.CH"
#line 1 "collat.ch"@"collat.ch"
#line 58 "STD.CH"
#line 1 "speedtst.prg"
#line 1 "common.ch"@"common.ch"
#line 70 "speedtst.prg"






































proc main( _p01, _p02, _p03, _p04, _p05, _p06, _p07, _p08, _p09, _p10,
 _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19, _p20 )



   local aParams :=  asize( { _p01, _p02, _p03, _p04, _p05, _p06, _p07,
_p08, _p09, _p10,  _p11, _p12, _p13, _p14, _p15, _p16, _p17, _p18, _p19,
_p20 },  min( pCount(), 20 ) )

   local nMT, cExclude, lScale, cParam, cMemTests, lSyntax, i, j

   lSyntax := lScale := .f.
   cMemTests := "029 030 023 025 027 040 041 043 052 053 019 022 031 032 054
055 "
   cExclude := ""
   nMT := 0
   for j := 1 to len( aParams )
      cParam := lower( aParams[ j ] )
      if cParam = "--thread"
         if substr( cParam, 9, 1 ) == "="
            if isdigit( substr( cParam, 10, 1 ) )
               nMT := val( substr( cParam, 10 ) )
            elseif substr( cParam, 10 ) == "all"
               nMT := -1
            else
               lSyntax = .t.
            endif
         elseif empty( substr( cParam, 9 ) )
            nMT := -1
         else
            lSyntax = .t.
         endif
      elseif cParam = "--exclude="
         if substr( cParam, 11 ) == "mem"
            cExclude += cMemTests
         else

            cExclude += strtran( strtran( strtran( substr( cParam, 11 ),
 ".", " " ), ".", " " ), "/", " " ) + " "
         endif
      elseif cParam = "--only="
         cExclude := ""
         if substr( cParam, 8 ) == "mem"
            cParam := cMemTests
         endif
         for i := 1 to 55
            if !strzero( i, 3 ) $ cParam
               cExclude += strzero( i, 3 ) + " "
            endif
         next
      elseif cParam = "--scale"
         lScale := .t.
      else
         lSyntax = .t.
      endif
      if lSyntax
         outstd(chr(10));outstd("Unknown option:",cParam)
         outstd(chr(10));outstd("syntax: speedtst [--thread[=<num>]]
[--only=<test(s)>] [--exclude=<test(s)>]")
         outstd(chr(10))
         return
      endif
   next
   test( nMT, cExclude, lScale )
return




func t000 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;next ;time := seconds() - time ;return { procname() + ": " + iif( .T.,
"empty loop overhead", "" ), time }

func t001 ;local time, i, x := nil ;local  L_C:=dtos(date()) ;time :=
seconds() ;for i:=1 to 1000000 ;x := L_C;next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "x := L_C" ), time }

func t002 ;local time, i, x := nil ;local  L_N:=112345.67 ;time := seconds()
;for i:=1 to 1000000 ;x := L_N;next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , "x := L_N" ), time }

func t003 ;local time, i, x := nil ;local  L_D:=date() ;time := seconds()
;for i:=1 to 1000000 ;x := L_D;next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , "x := L_D" ), time }



TEST t004 INIT _( static s_once, S_C )  INIT hb_threadOnce( @s_once, {|| S_C
:= dtos( date() ) } )  CODE x := S_C



TEST t005 INIT _( static s_once, S_N )  INIT hb_threadOnce( @s_once, {|| S_N
:= 112345.67 } )  CODE x := S_N



TEST t006 INIT _( static s_once, S_D )  INIT hb_threadOnce( @s_once, {|| S_D
:= date() } )  CODE x := S_D


TEST t007 INIT _( memvar M_C ) INIT _( private M_C := dtos( date() ) )  CODE
x := M_C


TEST t008 INIT _( memvar M_N ) INIT _( private M_N := 112345.67 )  CODE x :=
M_N


TEST t009 INIT _( memvar M_D ) INIT _( private M_D := date() )  CODE x :=
M_D





TEST t010 INIT _( memvar P_C )  INIT _( static s_once )  INIT _( public P_C
)  INIT hb_threadOnce( @s_once, {|| P_C := dtos( date() ) } )  CODE x := P_C





TEST t011 INIT _( memvar P_N )  INIT _( static s_once )  INIT _( public P_N
)  INIT hb_threadOnce( @s_once, {|| P_N := 112345.67 } )  CODE x := P_N





TEST t012 INIT _( memvar P_D )  INIT _( static s_once )  INIT _( public P_D
)  INIT hb_threadOnce( @s_once, {|| P_D := date() } )  CODE x := P_D


TEST t013 INIT _( field F_C ) INIT use_dbsh() EXIT close_db()  CODE x := F_C


TEST t014 INIT _( field F_N ) INIT use_dbsh() EXIT close_db()  CODE x := F_N


TEST t015 INIT _( field F_D ) INIT use_dbsh() EXIT close_db()  CODE x := F_D

func t016 ;local time, i, x := nil ;local  o := errorNew() ;time :=
seconds() ;for i:=1 to 1000000 ;x := o:Args;next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "x := o:Args" ), time }

func t017 ;local time, i, x := nil ;local  o := errorNew() ;time :=
seconds() ;for i:=1 to 1000000 ;x := o[2];next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "x := o[2]" ), time }

func t018 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;round( i / 1000, 2 );next ;time := seconds() - time ;return { procname() +
": " + iif( .F., , "round( i / 1000, 2 )" ), time }

func t019 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;str( i / 1000 );next ;time := seconds() - time ;return { procname() + ": "
+ iif( .F., , "str( i / 1000 )" ), time }

func t020 ;local time, i, x := nil ;local  s := stuff( dtos( date() ), 7, 0,
"." ) ;time := seconds() ;for i:=1 to 1000000 ;val( s );next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "val( s )" ),
time }



func t021 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff(
dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;val(
a [ i % 16 + 1 ] );next ;time := seconds() - time ;return { procname() + ":
" + iif( .F., , "val( a [ i % 16 + 1 ] )" ), time }

func t022 ;local time, i, x := nil ;local  d := date() ;time := seconds()
;for i:=1 to 1000000 ;dtos( d - i % 10000 );next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "dtos( d - i % 10000 )" ), time }

func t023 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;eval( { || i % 16 } );next ;time := seconds() - time ;return { procname() +
": " + iif( .F., , "eval( { || i % 16 } )" ), time }



func t024 ;local time, i, x := nil ;local  bc := { || i % 16 } ;time :=
seconds() ;for i:=1 to 1000000 ;eval( bc );next ;time := seconds() - time
;return { procname() + ": " + iif( .T., "eval( bc := { || i % 16 } )",
"eval( bc )" ), time }

func t025 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;eval( { |x| x % 16 }, i );next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , "eval( { |x| x % 16 }, i )" ), time }



func t026 ;local time, i, x := nil ;local  bc := { |x| x % 16 } ;time :=
seconds() ;for i:=1 to 1000000 ;eval( bc, i );next ;time := seconds() - time
;return { procname() + ": " + iif( .T., "eval( bc := { |x| x % 16 }, i )",
"eval( bc, i )" ), time }

func t027 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;eval( { |x| fnc1( x ) }, i );next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , "eval( { |x| fnc1( x ) }, i )" ), time }



func t028 ;local time, i, x := nil ;local  bc := { |x| fnc1( x ) } ;time :=
seconds() ;for i:=1 to 1000000 ;eval( bc, i );next ;time := seconds() - time
;return { procname() + ": " + iif( .T., "eval( bc := { |x| fnc1( x ) }, i
)", "eval( bc, i )" ), time }

func t029 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;x := &( "fnc1(" + str(i) + ")" );next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , 'x := &( "fnc1(" + str(i) + ")" )' ), time }

func t030 ;local time, i, x := nil ;local  bc ;time := seconds() ;for i:=1
to 1000000 ;bc := &( "{|x|fnc1(x)}" );next ;time := seconds() - time ;return
{ procname() + ": " + iif( .F., , 'bc := &( "{|x|fnc1(x)}" )' ), time
};eval( bc, i )

func t031 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;x := valtype( x ) +  valtype( i );next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , "x := valtype( x ) +  valtype( i )" ), time
}



func t032 ;local time, i, x := nil ;local  a := afill( array( 16 ),  stuff(
dtos( date() ), 7, 0, "." ) ) ;time := seconds() ;for i:=1 to 1000000 ;x :=
strzero( i % 100, 2 ) $ a[ i % 16 + 1 ];next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "x := strzero( i % 100, 2 ) $ a[ i
% 16 + 1 ]" ), time }



func t033 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos(
date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time :=
seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] == s;next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 +
1 ] == s" ), time }



func t034 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos(
date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time :=
seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] = s;next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 +
1 ] = s" ), time }



func t035 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos(
date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time :=
seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] >= s;next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 +
1 ] >= s" ), time }



func t036 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos(
date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time :=
seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] <= s;next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 +
1 ] <= s" ), time }



func t037 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos(
date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time :=
seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] < s;next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 +
1 ] < s" ), time }



func t038 ;local time, i, x := nil ;local  a := array( 16 ),s := dtos(
date() ) ;aeval( a, { |x,i| a[i] := left( s + s, i ), x } ) ;time :=
seconds() ;for i:=1 to 1000000 ;x := a[ i % 16 + 1 ] > s;next ;time :=
seconds() - time ;return { procname() + ": " + iif( .F., , "x := a[ i % 16 +
1 ] > s" ), time }



func t039 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, {
|x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;ascan( a, i
% 16 );next ;time := seconds() - time ;return { procname() + ": " + iif(
.F., , "ascan( a, i % 16 )" ), time }



func t040 ;local time, i, x := nil ;local  a := array( 16 ) ;aeval( a, {
|x,i| a[i] := i, x } ) ;time := seconds() ;for i:=1 to 1000000 ;ascan( a, {
|x| x == i % 16 } );next ;time := seconds() - time ;return { procname() + ":
" + iif( .F., , "ascan( a, { |x| x == i % 16 } )" ), time }



func t041 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := {
|x| fnc1(x) },s := dtos( date() ),s2 := "static text" ;time := seconds()
;for i:=1 to 1000000 ;if i%1000==0;next ;time := seconds() - time ;return {
procname() + ": " + iif( .F., , "if i%1000==0" ), time
};a:={};end;aadd(a,{i,1,.t.,s,s2,a2,bc})

func t042 ;local time, i, x := nil ;local  a := {} ;time := seconds() ;for
i:=1 to 1000000 ;x := a;next ;time := seconds() - time ;return { procname()
+ ": " + iif( .F., , "x := a" ), time }

func t043 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;x := {};next ;time := seconds() - time ;return { procname() + ": " + iif(
.F., , "x := {}" ), time }

func t044 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;fnc0();next ;time := seconds() - time ;return { procname() + ": " + iif(
.F., , "fnc0()" ), time }

func t045 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;fnc1( i );next ;time := seconds() - time ;return { procname() + ": " + iif(
.F., , "fnc1( i )" ), time }



func t046 ;local time, i, x := nil ;local  c := dtos( date() ) ;time :=
seconds() ;for i:=1 to 1000000 ;fnc2( c );next ;time := seconds() - time
;return { procname() + ": " + iif( .T., "fnc2( c[1...8] )", "fnc2( c )" ),
time }



func t047 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 )
;time := seconds() ;for i:=1 to 1000000 ;fnc2( c );next ;time := seconds() -
time ;return { procname() + ": " + iif( .T., "fnc2( c[1...40000] )", "fnc2(
c )" ), time }



func t048 ;local time, i, x := nil ;local  c := repl( dtos( date() ), 5000 )
;time := seconds() ;for i:=1 to 1000000 ;fnc2( c );next ;time := seconds() -
time ;return { procname() + ": " + iif( .T., "fnc2( @c[1...40000] )", "fnc2(
c )" ), time }



func t049 ;local time, i, x := nil ;local  c := repl( dtos( date() ),5000
),c2 ;time := seconds() ;for i:=1 to 1000000 ;fnc2( @c );next ;time :=
seconds() - time ;return { procname() + ": " + iif( .T., "fnc2(
@c[1...40000] ), c2 := c", "fnc2( @c )" ), time };c2 := c



func t050 ;local time, i, x := nil ;local  a := {},a2 := { 1, 2, 3 },bc := {
|x| fnc1(x) },s := dtos( date() ),s2 := "static text",n := 1.23 ;time :=
seconds() ;for i:=1 to 1000000 ;fnc3( a, a2, s, i, s2, bc, i, n, x );next
;time := seconds() - time ;return { procname() + ": " + iif( .F., , "fnc3(
a, a2, s, i, s2, bc, i, n, x )" ), time }

func t051 ;local time, i, x := nil ;local  a := { 1, 2, 3 } ;time :=
seconds() ;for i:=1 to 1000000 ;fnc2( a );next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "fnc2( a )" ), time }

func t052 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;x := fnc4();next ;time := seconds() - time ;return { procname() + ": " +
iif( .F., , "x := fnc4()" ), time }

func t053 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;x := fnc5();next ;time := seconds() - time ;return { procname() + ": " +
iif( .F., , "x := fnc5()" ), time }

func t054 ;local time, i, x := nil ;time := seconds() ;for i:=1 to 1000000
;x := space(16);next ;time := seconds() - time ;return { procname() + ": " +
iif( .F., , "x := space(16)" ), time }

func t055 ;local time, i, x := nil ;local  c := dtos( date() ) ;time :=
seconds() ;for i:=1 to 1000000 ;f_prv( c );next ;time := seconds() - time
;return { procname() + ": " + iif( .F., , "f_prv( c )" ), time }































proc test( nMT, cExclude, lScale )


local nLoopOverHead, nTimes, nSeconds, cNum, aThreads, aResults,  mtxJobs,
mtxResults, nTimeST, nTimeMT, nTimeTotST, nTimeTotMT,  cTest, x, i, j

create_db()












if !hb_mtvm()
   if lScale
      outstd(chr(10));outstd("scale test available only in MULTI THREAD
mode")
      outstd(chr(10))
      return
   endif
   if nMT != 0
      outstd(chr(10));outstd("SINGLE THREAD mode, number of threads set to
0")
      nMT := 0
   endif
endif
outstd(chr(10));outstd(date(),time(),os())
outstd(chr(10));outstd(version() + iif( hb_mtvm(), " (MT)" + iif( nMT != 0,
"+", "" ), "" ),"")




if lScale .and. nMT < 1
   nMT := 1
endif

outstd(chr(10));outstd("THREADS:",iif( nMT < 0, "all->" + ltrim( str( 55 )
), ltrim( str( nMT ) ) ))
outstd(chr(10));outstd("N_LOOPS:",ltrim( str( 1000000 ) ))
if !empty( cExclude )
   outstd(chr(10));outstd("excluded tests:",cExclude)
endif

x :=t000()
nLoopOverHead := x[2]

if lScale
   outstd(chr(10));outstd(space(56) + "1 th." + str(nMT,3) + " th.  factor")
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(dsp_result( x, 0 ))
   outstd(chr(10));outstd(replicate("=",68))
endif

nSeconds := seconds()
nTimes := seconds()






















































































   for i:=1 to 55
      cNum := strzero( i, 3 )
      if !cNum $ cExclude
         outstd(chr(10));outstd(dsp_result( &( "t" + cNum )(), nLoopOverHead
))
      endif
   next


nTimes := seconds() - nTimes
nSeconds := seconds() - nSeconds

if lScale
   outstd(chr(10));outstd(replicate("=",76))
   outstd(chr(10));outstd(dsp_scaleResult( "  TOTAL  ", nTimeTotST,
nTimeTotMT, nMT, 0 ))
   outstd(chr(10));outstd(replicate("=",76))
else
   outstd(chr(10));outstd(replicate("=",68))
endif
outstd(chr(10));outstd(dsp_result( { "total application time:", nTimes },
0))
outstd(chr(10));outstd(dsp_result( { "total real time:", nSeconds }, 0 ))
outstd(chr(10))

remove_db()
return

function fnc0()
return nil

function fnc1(x)
return x

function fnc2(x)
( ( x ) )
return nil

function fnc3(a,b,c,d,e,f,g,h,i)
( ( a ) )
( ( b ) )
( ( c ) )
( ( d ) )
( ( e ) )
( ( f ) )
( ( g ) )
( ( h ) )
( ( i ) )
return nil

function fnc4()
return space(4000)

function fnc5()
return space(5)

function f_prv(x)
   memvar PRV_C
   private PRV_C := x
return nil













static func dsp_result( aResult, nLoopOverHead )

   return padr( "[ " + left( aResult[1], 56 ) + " ]", 60, "." ) +  strtran(
str( max( aResult[2] - nLoopOverHead, 0 ), 8, 2 ), " ", "." )

static func dsp_scaleResult( cTest, nTimeST, nTimeMT, nMT, nLoopOverHead )
   if .f.
      nTimeST := max( 0, nTimeST - nMT * nLoopOverHead )
      nTimeMT := max( 0, nTimeMT - nMT * nLoopOverHead )
   endif


   return padr( "[ " + left( cTest, 50 ) + " ]", 54, "_" ) +  str( nTimeST,
6, 2 ) + " " + str( nTimeMT, 6, 2 ) + " ->" +  str( nTimeST / nTimeMT, 6, 2
)



static proc create_db()
   remove_db()


   dbcreate( "_tst_tmp.dbf", { {"F_C", "C", 10, 0}, {"F_N", "N", 10, 2},
{"F_D", "D",  8, 0} } )
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.F. .or. .T., !.T., NIL), .F.)
   dbappend()
   FIELD->F_C := dtos(date())
   FIELD->F_N := 112345.67
   FIELD->F_D := date()
   dbCloseArea()
return

static proc remove_db()
   ferase( "_tst_tmp.dbf" )
return

static proc close_db()
   dbCloseArea()
return

static proc use_dbsh()
   dbUseArea( .F., , "_tst_tmp.dbf", , iif(.T. .or. .F., !.F., NIL), .F.)
return











   function hb_mtvm()
   return .t.










   function hb_threadOnce( xOnceControl, bAction )
      local lFirstCall := .f.
      if xOnceControl == NIL
         if bAction != NIL
            eval( bAction )
         endif
         xOnceControl := .t.
         lFirstCall := .t.
      endif
   return lFirstCall



























































































































































---

Brgds,
Viktor

On Mon, Mar 16, 2009 at 2:03 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Mon, 16 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > ---
> > Xbase++ (R) Compiler 1.90.331 Apr 27 2006
> > Copyright (c) Alaska Software. All rights reserved.
> > File: speedtst.prg Line:  816
> > speedtst.prg(182:0): error XBT0200: Syntax Error
> > speedtst.prg(265:0): warning XBT0105: Function t030 does not end with
> RETURN
> > speedtst.prg(306:0): error XBT0223: NEXT does not match FOR
> > speedtst.prg(308:0): error XBT0251: Reserved keyword
> [...]
> > speedtst.prg(398:0): warning XBT0100: RETURN statement with no value in
> > function
> > speedtst.prg(543:0): warning XBT0100: RETURN statement with no value in
> > function
> > speedtst.prg(545:0): error XBT0251: Reserved keyword
> > speedtst.prg(548:0): error XBT0251: Reserved keyword
> > speedtst.prg(551:0): error XBT0251: Reserved keyword
> > speedtst.prg(555:0): error XBT0251: Reserved keyword
> > Too many errors, exiting
>
> Oops, seems that it's not Clipper compatible as I thought.
> I'll try to change the code but I need more information about
> xBase++.
> Looks like F0(), F1(), F2(), ... as function names cannot be used
> because these are reserved names. Is it documented?
> Can you check if translation to FNC0(), FNC1(), FNC2(), ... is
> enough.
> END seems to be translated unconditionally to NEXT or it's some
> other PP problem. Can you generate .ppo file with xBase++?
> I would like to see the output.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090316/faabb032/attachment-0001.html
From lorenzo.fiorini at gmail.com  Wed Mar 18 04:18:31 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar 18 04:18:36 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <18d502870903171603r13caa9c3jfcf5850ffb337fe2@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
	<18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
	<609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>
	<18d502870903171603r13caa9c3jfcf5850ffb337fe2@mail.gmail.com>
Message-ID: <9257026e0903180118s6f008ad9n92d72b0b7191ca99@mail.gmail.com>

On Wed, Mar 18, 2009 at 12:03 AM, Viktor Szak?ts

> Sorry, I don't understand you.
> xhgtk uses several subdirs to store different part of the interface,
> and these subdirs generate one unified library. This doesn't seem
> possible with our current GNU-make system.

I have integrated xhgtk in the contrib using "standard" makefiles and
so generating one lib for every dir.

AFAIK Marcos is also one of the xhgtk developers.

I will be interested to know his plans for xhgtk and hbqt.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Mar 18 04:41:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 04:41:16 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <9257026e0903180118s6f008ad9n92d72b0b7191ca99@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<24467868.1571236861886487.JavaMail.root@zimbra-1.sigma-com.net>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
	<18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
	<609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>
	<18d502870903171603r13caa9c3jfcf5850ffb337fe2@mail.gmail.com>
	<9257026e0903180118s6f008ad9n92d72b0b7191ca99@mail.gmail.com>
Message-ID: <18d502870903180141u42bacdabr5d293a63879b31c4@mail.gmail.com>

>
> > Sorry, I don't understand you.
> > xhgtk uses several subdirs to store different part of the interface,
> > and these subdirs generate one unified library. This doesn't seem
> > possible with our current GNU-make system.
>
> I have integrated xhgtk in the contrib using "standard" makefiles and
> so generating one lib for every dir.


Yes, after all this isn't the end of the world. With
consistently naming the related libs, it can be just as good.

Even the dependencies are easier to handle with the
approach.


> AFAIK Marcos is also one of the xhgtk developers.
>
> I will be interested to know his plans for xhgtk and hbqt.


[Me too.]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/b3e9790e/attachment.html
From lorenzo.fiorini at gmail.com  Wed Mar 18 04:47:53 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Mar 18 04:47:59 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <18d502870903180141u42bacdabr5d293a63879b31c4@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<49B90908.3070603@uol.com.br> <22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
	<18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
	<609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>
	<18d502870903171603r13caa9c3jfcf5850ffb337fe2@mail.gmail.com>
	<9257026e0903180118s6f008ad9n92d72b0b7191ca99@mail.gmail.com>
	<18d502870903180141u42bacdabr5d293a63879b31c4@mail.gmail.com>
Message-ID: <9257026e0903180147j7938b7afk5fe70eb49b544391@mail.gmail.com>

On Wed, Mar 18, 2009 at 9:41 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Yes, after all this isn't the end of the world. With
> consistently naming the related libs, it can be just as good.
> Even the dependencies are easier to handle with the
> approach.

This is what I use now in hb-func.sh:
...
if [ "\${HB_XHGTK}" = "yes" ]; then
    HARBOUR_LIBS="\${HARBOUR_LIBS} -lxhgtkmain -lxhgtkcairo
-lxhgtkglib -lxhgtkgdk -lxhgtkgtk -lxhgtkpango -lxhgtkclasses"
fi
...

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Wed Mar 18 04:50:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 04:50:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10641] trunk/harbour
Message-ID: <E1LjrTQ-0003cu-Ow@dn4whf1.ch3.sourceforge.com>

Revision: 10641
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10641&view=rev
Author:   vszakats
Date:     2009-03-18 08:50:04 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 09:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for multiple input files when using pocc.
    ! Fixed some mingw/mingwce mis-identifications.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 18 04:55:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 04:55:39 2009
Subject: [Harbour] Build xhgtk inside harbour
In-Reply-To: <9257026e0903180147j7938b7afk5fe70eb49b544391@mail.gmail.com>
References: <9257026e0812060002pac29f4y3370e699d4d47ff1@mail.gmail.com>
	<22568921.post@talk.nabble.com>
	<18d502870903171523ldccf03eu10b09919e3efac90@mail.gmail.com>
	<609353e70903171535n59a984ccy5f965193cbedac76@mail.gmail.com>
	<18d502870903171545y605861a4iedda14f355d48393@mail.gmail.com>
	<609353e70903171551h7f9bdb3v975db47411068fa1@mail.gmail.com>
	<18d502870903171603r13caa9c3jfcf5850ffb337fe2@mail.gmail.com>
	<9257026e0903180118s6f008ad9n92d72b0b7191ca99@mail.gmail.com>
	<18d502870903180141u42bacdabr5d293a63879b31c4@mail.gmail.com>
	<9257026e0903180147j7938b7afk5fe70eb49b544391@mail.gmail.com>
Message-ID: <18d502870903180155w758c44cagd986efc63ec90690@mail.gmail.com>

Perfectly fine. The technical side seems about alright.
In hbmk2 parlance:
--- xhgtk.hbp
libs=xhgtkmain xhgtkcairo xhgtkglib xhgtkgdk xhgtkgtk xhgtkpango
xhgtkclasses
{linux}ldflags="`pkg-config --libs gtk+-2.0 libglade-2.0`"
---

Brgds,
Viktor

On Wed, Mar 18, 2009 at 9:47 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com>wrote:

> On Wed, Mar 18, 2009 at 9:41 AM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>
> > Yes, after all this isn't the end of the world. With
> > consistently naming the related libs, it can be just as good.
> > Even the dependencies are easier to handle with the
> > approach.
>
> This is what I use now in hb-func.sh:
> ...
> if [ "\${HB_XHGTK}" = "yes" ]; then
>    HARBOUR_LIBS="\${HARBOUR_LIBS} -lxhgtkmain -lxhgtkcairo
> -lxhgtkglib -lxhgtkgdk -lxhgtkgtk -lxhgtkpango -lxhgtkclasses"
> fi
> ...
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/0310b4c2/attachment.html
From jfl at mafact.com  Wed Mar 18 04:56:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Mar 18 04:56:49 2009
Subject: [Harbour] pCode dll
Message-ID: <72c01d70.1c9a7a7.4ceff31.29@mafact.com>

J I like the idea of free discusion about general concept, but we first face a more basic problem.
 
Either on full Borland or full MSVC (no mix of compiler) You can create a pure pcode dll, you can load it, but it does'nt work at all, even dynamically (using HB_LIBLOAD, HB_LIBDO).
 
It seem that the exe generated does'nt export some needed function (like, at least,  hb_vmProcessDynLibSymbols, called from maindllp.c ).

I tried to add it to hbvmpub.ch (like hb_vmExecute ) but it does'nt solve anything.
 
For hb_vmExecute(), here is what we can found into hbvmpub.h.
"extern HB_EXPORT void hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */"

How could I render those two functions exported. If I do impdef myexe.def myexe.exe, nothing is exported ?
 
Any Idea, I'm ready to try to make it work but I need some idea on "where or what" to search .
 
Thanks to all,
 
Regards,
 
JF,
 
De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy? : mercredi 18 mars 2009 0:45
? : Harbour Project Main Developer List.
Objet : Re: [Harbour] pCode dll
 
> /half-off-off
ALL are basically compatible, read below:

OWatcom: I suggest you have oWatcom Harbour flags standardized as what
other compilers use as of now. Take a look at -s and -r switch (default
is -r which is "use register calling convention"). Other Windoze
compiler are using -s equivalent (-s = "stack calling convention").It's
should be OK if you're using -r but the creation of import library
become rather clumpsy, because -r append an underscrore AFTER symbol
name.
 
Thanks for the owatcom tip Andi. In OpenWatcom 1.8 -s and -r mean 
something different, but the same idea can be accessed using s and r 
postfixes for CPU family switches.
 
MSVC,POCC,ICC and GCC are fully compatible. We can easily rename an
MSVC-created import lib to GCC name, ie. harbour.lib->libharbour.a.

Borland VS MSVC family only differs in an underscore. Borland requires
an underscore IN FRONT OF symbol name. Take a look at switch -a in
Borland's IMPLIB.EXE/IMPDEF.EXE.
 
Yes, problem is that it's not binary compatible, it needs implib tricks 
(sometimes manual editing of .def files) and app rebuild. So it's practically 
not very usable. I just can wonder what was the goal of Borland with this idea.
 
Brgds,
Viktor
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/6a830c83/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar 18 04:57:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 04:57:46 2009
Subject: [Harbour] compiler error
In-Reply-To: <20090318103009.7D59.84A669A0@mail.zzz.com.tw>
References: <20090317152712.DF4C.84A669A0@mail.zzz.com.tw>
	<18d502870903170047w1258e3ccpf183bb41edcc1e9d@mail.gmail.com>
	<20090318103009.7D59.84A669A0@mail.zzz.com.tw>
Message-ID: <18d502870903180157t3a2d09b6rfd80f902240e21bc@mail.gmail.com>

Thank you, so I understand this is the _only_ such error while building
complete Harbour?

Can you make tests using MSVC or MinGW compiler? (both free)
Brgds,
Viktor

2009/3/18 "{TE(W <ssbbs@mail.zzz.com.tw>

>
>
> >
> > If this is a BCC problem, it may be one.
> >
> > You seem to have ignored my requests, so probably
> > that's all I can do to help on this matter for now.
> >
> > Anyhow if someone has -i compilation results for BCC
> > and possibly for MinGW/MSVC in Chinese systems,
> > I'd like to see them.
>
> sorry!! this is message:
> e:\>make_gnu.bat -i install
> ------------------------------------------
> mingw32-make.exe[3]: Entering directory
> `E:/harbour/source/codepage/win/bcc'
> bcc32.exe -I. -I../../../../include -q -d -Q -w -w-sig- -tWM -4 -O2 -OS -Ov
> -Oi -Oc    -c ../../cpbg866.c -ocpbg866.obj
> ../../cpbg866.c:
> Error E2380 ../../cpbg866.c 87: Unterminated string or character constant
> *** 1 errors in Compile ***
> ------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/1be73f46/attachment.html
From myorg63 at mail.ru  Wed Mar 18 04:59:22 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Mar 18 04:59:27 2009
Subject: [Harbour] hbsqlit3 license (Petr)
In-Reply-To: <18d502870903171007p68a9af5l4bcb6f52bc413229@mail.gmail.com>
References: <18d502870903171007p68a9af5l4bcb6f52bc413229@mail.gmail.com>
Message-ID: <22574968.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> Have you considered changing this to GPL + Harbour exception?
> 

Hi Viktor
Of course, why not? I fully agree with Harbour exception.
So please do it.

P.S. In next week I want update hbSQLite to ver. 3.6.11. 

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/hbsqlit3-license-%28Petr%29-tp22563818p22574968.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 18 05:05:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 05:05:41 2009
Subject: [Harbour] hbsqlit3 license (Petr)
In-Reply-To: <22574968.post@talk.nabble.com>
References: <18d502870903171007p68a9af5l4bcb6f52bc413229@mail.gmail.com>
	<22574968.post@talk.nabble.com>
Message-ID: <18d502870903180205o3fe5877fne7caf910c35f097c@mail.gmail.com>

Thank you very much Petr, I'll commit it.
Looking forward for the update.

Brgds,
Viktor

On Wed, Mar 18, 2009 at 9:59 AM, Petr Chornyj <myorg63@mail.ru> wrote:

>
>
>
> Viktor Szak?ts wrote:
> >
> > Have you considered changing this to GPL + Harbour exception?
> >
>
> Hi Viktor
> Of course, why not? I fully agree with Harbour exception.
> So please do it.
>
> P.S. In next week I want update hbSQLite to ver. 3.6.11.
>
> Regards,
> Petr
> --
> View this message in context:
> http://www.nabble.com/hbsqlit3-license-%28Petr%29-tp22563818p22574968.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/ecd45239/attachment.html
From vszakats at users.sourceforge.net  Wed Mar 18 05:09:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 05:09:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10642] trunk/harbour
Message-ID: <E1LjrmQ-0004VD-9D@dn4whf1.ch3.sourceforge.com>

Revision: 10642
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10642&view=rev
Author:   vszakats
Date:     2009-03-18 09:09:41 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 10:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbsqlit3/tests/blob.prg
  * contrib/hbsqlit3/tests/pack.prg
  * contrib/hbsqlit3/tests/metadata.prg
  * contrib/hbsqlit3/tests/sqlite3_test.prg
  * contrib/hbsqlit3/hbsqlit3.ch
  * contrib/hbsqlit3/hbsqlit3.c
    * Changed GPL license to GPL + Harbour exception with 
      kind permission of author Petr Chornyj. Many thanks!

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.ch
    trunk/harbour/contrib/hbsqlit3/tests/blob.prg
    trunk/harbour/contrib/hbsqlit3/tests/metadata.prg
    trunk/harbour/contrib/hbsqlit3/tests/pack.prg
    trunk/harbour/contrib/hbsqlit3/tests/sqlite3_test.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From myorg63 at mail.ru  Wed Mar 18 05:33:14 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Mar 18 05:33:18 2009
Subject: [Harbour] hbsqlit3 license (Petr)
In-Reply-To: <18d502870903171007p68a9af5l4bcb6f52bc413229@mail.gmail.com>
References: <18d502870903171007p68a9af5l4bcb6f52bc413229@mail.gmail.com>
Message-ID: <22575431.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> Have you considered changing this to GPL + Harbour exception?
> 

Hi Viktor
Of course, why not? I fully agree with Harbour exception.
So please do it.

P.S. In next week I want update hbSQLite to ver. 3.6.11. 

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/hbsqlit3-license-%28Petr%29-tp22563818p22575431.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 18 05:36:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 05:36:51 2009
Subject: [Harbour] pCode dll
In-Reply-To: <72c01d70.1c9a7a7.4ceff31.29@mafact.com>
References: <72c01d70.1c9a7a7.4ceff31.29@mafact.com>
Message-ID: <18d502870903180236u35ee165bk30b528a0ea52edb7@mail.gmail.com>

Hi JF,
I don't understand the concept and implications of pure pcode
.dll at all :) so I rather just listen to this thread, but for sure
maindllp.c doesn't seem to be used *anywhere* in Harbour.

Also, it would be good to know the concept here, as some certain
core API functions are declared in hbtypes.h and maindllp.c, but
why specifically these? What happens if someone creates a -gc3 .dll?

Just plain guess, but maybe we should generate a hbmaindllp lib,
and include it in hbmk2 when building a .dll.

In general terms I wonder what would be the benefit of using
pure pcode .dlls (with all the portability and other technical
complications with them) when we have our own native pcode .hrb.

Brgds,
Viktor

On Wed, Mar 18, 2009 at 9:56 AM, J. Lefebvre <jfl@mafact.com> wrote:

>  J I like the idea of free discusion about general concept, but we first
> face a more basic problem.
>
>
>
> Either on full Borland or full MSVC (no mix of compiler) You can create a
> pure pcode dll, you can load it, but it does?nt work at all, even
> dynamically (using HB_LIBLOAD, HB_LIBDO).
>
>
>
> It seem that the exe generated does?nt export some needed function (like,
> at least,  hb_vmProcessDynLibSymbols, called from maindllp.c ).
>
> I tried to add it to hbvmpub.ch (like hb_vmExecute ) but it does?nt solve
> anything.
>
>
>
> For hb_vmExecute(), here is what we can found into hbvmpub.h.
>
> ?extern HB_EXPORT void hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols
> ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */?
>
> How could I render those two functions exported. If I do impdef myexe.def
> myexe.exe, nothing is exported ?
>
>
>
> Any Idea, I?m ready to try to make it work but I need some idea on ?where
> or what? to search ?
>
>
>
> Thanks to all,
>
>
>
> Regards,
>
>
>
> JF,
>
>
>
> *De :* harbour-bounces@harbour-project.org [mailto:
> harbour-bounces@harbour-project.org] *De la part de* Viktor Szak?ts
> *Envoy? :* mercredi 18 mars 2009 0:45
> *? :* Harbour Project Main Developer List.
> *Objet :* Re: [Harbour] pCode dll
>
>
>
>  > /half-off-off
>
> ALL are basically compatible, read below:
>
> OWatcom: I suggest you have oWatcom Harbour flags standardized as what
> other compilers use as of now. Take a look at -s and -r switch (default
> is -r which is "use register calling convention"). Other Windoze
> compiler are using -s equivalent (-s = "stack calling convention").It's
> should be OK if you're using -r but the creation of import library
> become rather clumpsy, because -r append an underscrore AFTER symbol
> name.
>
>
>
> Thanks for the owatcom tip Andi. In OpenWatcom 1.8 -s and -r mean
>
> something different, but the same idea can be accessed using s and r
>
> postfixes for CPU family switches.
>
>
>
> MSVC,POCC,ICC and GCC are fully compatible. We can easily rename an
> MSVC-created import lib to GCC name, ie. harbour.lib->libharbour.a.
>
> Borland VS MSVC family only differs in an underscore. Borland requires
> an underscore IN FRONT OF symbol name. Take a look at switch -a in
> Borland's IMPLIB.EXE/IMPDEF.EXE.
>
>
>
> Yes, problem is that it's not binary compatible, it needs implib tricks
>
> (sometimes manual editing of .def files) and app rebuild. So it's
> practically
>
> not very usable. I just can wonder what was the goal of Borland with this
> idea.
>
>
>
> Brgds,
>
> Viktor
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/40d72128/attachment.html
From harbour.01 at syenar.hu  Wed Mar 18 06:20:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 06:20:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10638] trunk/harbour
In-Reply-To: <20090318003022.GA25734@uran.home.aster.pl>
References: <E1LjjO8-00069Y-Cp@3kljzd1.ch3.sourceforge.com>
	<20090318003022.GA25734@uran.home.aster.pl>
Message-ID: <18d502870903180320h5a32bfag61e98bac5f56ab9c@mail.gmail.com>

>hbmk2 speedtst.prg -gc3 -mt
>speedtst --only=001,002,003,004,005,006,007,008,009,010,011,012,043,044

[ I've double checked that thread.obj contains asm vs. Interlocked*() calls.
]

Results:

03/18/09 11:13:39 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10642) (MT) Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 0
N_LOOPS: 1000000
excluded tests: 013 014 015 016 017 018 019 020 021 022 023 024 025 026 027
028 029 030 031 032 033 034 035 036 037 038 039 040 041 042 045 046 047 048
049 050 051 052 053 054 055 056
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.13
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.14
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.19
[ T008: x := M->M_N ]...........................................0.05
[ T009: x := M->M_D ]...........................................0.05
[ T010: x := M->P_C ]...........................................0.19
[ T011: x := M->P_N ]...........................................0.05
[ T012: x := M->P_D ]...........................................0.05
[ T043: x := a ]................................................0.14
[ T044: x := {} ]...............................................0.58
====================================================================
[ total application time: ].....................................2.33
[ total real time: ]............................................2.34


03/18/09 11:13:27 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10633) (MT) Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 0
N_LOOPS: 1000000
excluded tests: 013 014 015 016 017 018 019 020 021 022 023 024 025 026 027
028 029 030 031 032 033 034 035 036 037 038 039 040 041 042 045 046 047 048
049 050 051 052 053 054 055 056
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.14
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.14
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.17
[ T008: x := M->M_N ]...........................................0.05
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.17
[ T011: x := M->P_N ]...........................................0.05
[ T012: x := M->P_D ]...........................................0.05
[ T043: x := a ]................................................0.14
[ T044: x := {} ]...............................................0.56
====================================================================
[ total application time: ].....................................2.33
[ total real time: ]............................................2.33

Brgds,
Viktor

On Wed, Mar 18, 2009 at 1:30 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 18 Mar 2009, vszakats@users.sourceforge.net wrote:
> > 2009-03-18 01:04 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >   * include/hbatomic.h
> >     ! Typo (__inline__ -> __inline).
>
> Thanks.
>
> Can you check current speedtst -mt results in MSVC builds for:
>
>   speedtst --only=001,002,003,004,005,006,007,008,009,010,011,012,043,044
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/2c143471/attachment-0001.html
From druzus at acn.waw.pl  Wed Mar 18 06:33:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 06:26:50 2009
Subject: [Harbour] pCode dll
In-Reply-To: <72c01d70.1c9a7a7.4ceff31.29@mafact.com>
References: <72c01d70.1c9a7a7.4ceff31.29@mafact.com>
Message-ID: <20090318103306.GA20690@uran.home.aster.pl>

On Wed, 18 Mar 2009, J. Lefebvre wrote:

Hi,

> J I like the idea of free discusion about general concept, but we first
> face a more basic problem.

It's working for me as it should.

> Either on full Borland or full MSVC (no mix of compiler) You can create
> a pure pcode dll, you can load it, but it does'nt work at all, even
> dynamically (using HB_LIBLOAD, HB_LIBDO).

Probably the .dll name in windows build was changed and source code was
not updated. I do not know but the names in source/vm/maindllp.c seems
to be synced by Viktor.

> It seem that the exe generated does'nt export some needed function
> (like, at least,  hb_vmProcessDynLibSymbols, called from maindllp.c ).

They have but I guess they are not exported.

> I tried to add it to hbvmpub.ch (like hb_vmExecute ) but it does'nt solve
> anything.

This part I do not understand. hb_vmProcessDynLibSymbols() is already
declared in hbvm.h. It's enough.

> For hb_vmExecute(), here is what we can found into hbvmpub.h.
> "extern HB_EXPORT void hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */"

Also good.

> How could I render those two functions exported. If I do impdef myexe.def
> myexe.exe, nothing is exported ?

So was not declared as exported.

> Any Idea, I'm ready to try to make it work but I need some idea on
> "where or what" to search .

I guess you build Harbour without HB_DYNLIB macro.
In such case HB_EXPORT is not defined. See hbdefs.h.
AFAIR HB_DYNLIB is set only for harbour.dll. At least it was working in
such way.
If you want to export symbols also in static harbour libraries so later
you can access them from external DLLs then you will have to recompile
whole Harbour code with -DHB_DYNLIB.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Mar 18 06:51:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 06:51:58 2009
Subject: [Harbour] Re: Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
Message-ID: <609353e70903180351v14c7b55dxd2d3ef870247b8d3@mail.gmail.com>

I suggest also read Intresting white papers:
Web Enabling your Native Apps With the WebKit Rendering Engine
http://www.qtsoftware.com/qt-in-use

the english page of wikipedia http://en.wikipedia.org/wiki/Qt_(toolkit)

-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Mar 18 06:58:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 06:52:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10640] trunk/harbour
In-Reply-To: <E1LjkOa-0007f1-Jj@3kljzd1.ch3.sourceforge.com>
References: <E1LjkOa-0007f1-Jj@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090318105843.GB20690@uran.home.aster.pl>

On Wed, 18 Mar 2009, druzus@users.sourceforge.net wrote:

Hi Viktor,

> 2009-03-18 02:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/include/hbatomic.h
>     ! fixed inline assembler code for atomic inc/dec operations.
>       It's late and I haven't wrote anything in assembler using
>       Intel syntax for years.
>     * reenabled inline assembler code for atomic inc/dec operations
>       for POCC/XCC builds - such version should work. Please check.

The code is ready but we should check if they work as expected.
Can you make some tests with harbour/tests/mt/mttest04.prg and
harbour/tests/mt/mttest07.prg with MSVC and POCC MT builds?

If possible I would like to see also how the results for your MSVC MT
build of speedtst changed in this test:

   speedtst --only=001,002,003,004,005,006,007,008,009,010,011,012,043,044

or simply run the whole test.

best regards,
Przemek
From niki at synel.co.il  Wed Mar 18 06:50:25 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Mar 18 06:54:09 2009
Subject: [Harbour] tests/speedtst.prg - wrong EOL
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA5@Mail-yoq.SYNEL-COMPANY.LTD>

(rev10642)
tests/speedtst.prg does not have svn:eol-style native.


And complied with Clipper 5.2e I get:

clipper speedtst /n

SPEEDTST.PRG(186) Error C2002  Incomplete statement or unbalanced delimiters
SPEEDTST.PRG(188) Error C2024  Unclosed control structures

And if I compile both Clipper and Harbour with /w /n /a I get also these:

SPEEDTST.PRG(208) Error C2017  Duplicate variable declaration: 'M_C'
SPEEDTST.PRG(212) Error C2017  Duplicate variable declaration: 'M_N'
SPEEDTST.PRG(216) Error C2017  Duplicate variable declaration: 'M_D'
SPEEDTST.PRG(222) Error C2017  Duplicate variable declaration: 'P_C'
SPEEDTST.PRG(228) Error C2017  Duplicate variable declaration: 'P_N'
SPEEDTST.PRG(234) Error C2017  Duplicate variable declaration: 'P_D'
SPEEDTST.PRG(594) Error C2017  Duplicate variable declaration: 'PRV_C'


  Chen.
From druzus at acn.waw.pl  Wed Mar 18 07:05:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 06:58:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10638] trunk/harbour
In-Reply-To: <18d502870903180320h5a32bfag61e98bac5f56ab9c@mail.gmail.com>
References: <E1LjjO8-00069Y-Cp@3kljzd1.ch3.sourceforge.com>
	<20090318003022.GA25734@uran.home.aster.pl>
	<18d502870903180320h5a32bfag61e98bac5f56ab9c@mail.gmail.com>
Message-ID: <20090318110501.GA22423@uran.home.aster.pl>

On Wed, 18 Mar 2009, Szak?ts Viktor wrote:

Hi,

> >hbmk2 speedtst.prg -gc3 -mt
> >speedtst --only=001,002,003,004,005,006,007,008,009,010,011,012,043,044
> [ I've double checked that thread.obj contains asm vs. Interlocked*() calls.
> ]

Thanks and please ignore my repeated request.
Interesting. No difference at all and still huge difference between
ST and MT mode or between string and other items.
I cannot replicate it in my Linux builds.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Mar 18 06:59:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 06:59:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10643] trunk/harbour
Message-ID: <E1LjtUN-0006rm-Ek@74yxhf1.ch3.sourceforge.com>

Revision: 10643
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10643&view=rev
Author:   vszakats
Date:     2009-03-18 10:59:10 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 11:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Enabled lib grouping for minwgce.

  * include/hbtypes.h
  * source/vm/maindllp.c
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbtypes.h
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 18 07:03:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 07:03:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10638] trunk/harbour
In-Reply-To: <20090318110501.GA22423@uran.home.aster.pl>
References: <E1LjjO8-00069Y-Cp@3kljzd1.ch3.sourceforge.com>
	<20090318003022.GA25734@uran.home.aster.pl>
	<18d502870903180320h5a32bfag61e98bac5f56ab9c@mail.gmail.com>
	<20090318110501.GA22423@uran.home.aster.pl>
Message-ID: <18d502870903180403v1649a560kea11aa6f73271e2d@mail.gmail.com>

>
> > >hbmk2 speedtst.prg -gc3 -mt
> > >speedtst --only=001,002,003,004,005,006,007,008,009,010,011,012,043,044
> > [ I've double checked that thread.obj contains asm vs. Interlocked*()
> calls.
> > ]
>
> Thanks and please ignore my repeated request.
> Interesting. No difference at all and still huge difference between
> ST and MT mode or between string and other items.
> I cannot replicate it in my Linux builds.


Yes, I hope it's not me messing up some parameters. There is
quite a Harbour build frenzy on my system lately.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/d7eb3588/attachment.html
From druzus at acn.waw.pl  Wed Mar 18 07:21:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 07:14:51 2009
Subject: [Harbour] tests/speedtst.prg - wrong EOL
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA5@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA5@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20090318112106.GA23217@uran.home.aster.pl>

On Wed, 18 Mar 2009, Chen Kedem wrote:

Hi,

> (rev10642)
> tests/speedtst.prg does not have svn:eol-style native.
> And complied with Clipper 5.2e I get:
> clipper speedtst /n
> SPEEDTST.PRG(186) Error C2002  Incomplete statement or unbalanced delimiters
> SPEEDTST.PRG(188) Error C2024  Unclosed control structures

Ups, my typo in recent modifications which exploited an old problem with
empty commands delimited by ; in Clipper. Harbour and other compilers
accepts such code. I'll fix it in a while. speedtst.prg[112]:
         [ ( <testExp> ) ] ;        ;
should be changed to:
         [ ( <testExp> ) ; ]        ;

> And if I compile both Clipper and Harbour with /w /n /a I get also these:
> SPEEDTST.PRG(208) Error C2017  Duplicate variable declaration: 'M_C'
> SPEEDTST.PRG(212) Error C2017  Duplicate variable declaration: 'M_N'
> SPEEDTST.PRG(216) Error C2017  Duplicate variable declaration: 'M_D'
> SPEEDTST.PRG(222) Error C2017  Duplicate variable declaration: 'P_C'
> SPEEDTST.PRG(228) Error C2017  Duplicate variable declaration: 'P_N'
> SPEEDTST.PRG(234) Error C2017  Duplicate variable declaration: 'P_D'
> SPEEDTST.PRG(594) Error C2017  Duplicate variable declaration: 'PRV_C'

Do not use /a for Harbour core code. It causes that all MEMVAR declarations
generate above warnings.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Mar 18 07:16:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 18 07:16:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10644] trunk/harbour
Message-ID: <E1LjtlJ-0006xc-5H@d5vjzd1.ch3.sourceforge.com>

Revision: 10644
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10644&view=rev
Author:   druzus
Date:     2009-03-18 11:16:40 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 12:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    ! fixed typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 18 07:20:52 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 07:20:56 2009
Subject: [Harbour] Re: Undestranding qt in an harbour sharing point
In-Reply-To: <609353e70903180351v14c7b55dxd2d3ef870247b8d3@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<609353e70903180351v14c7b55dxd2d3ef870247b8d3@mail.gmail.com>
Message-ID: <18d502870903180420q3467eb5crdb2ece77f24c743f@mail.gmail.com>

Massimo, "Web Enabling" is an empty marketing term, and in this case it has
probably mislead you.

This White Paper informs about a QT control (based on WebKit)
which enables apps to include an embedded browser. Useful, but
completely different from what we're talking about here (WUI).

Brgds,
Viktor

2009/3/18 Massimo Belgrano <mbelgrano@deltain.it>

> I suggest also read Intresting white papers:
> Web Enabling your Native Apps With the WebKit Rendering Engine
> http://www.qtsoftware.com/qt-in-use
>
> the english page of wikipedia http://en.wikipedia.org/wiki/Qt_(toolkit)
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/61bc07b2/attachment.html
From harbour.01 at syenar.hu  Wed Mar 18 07:24:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 07:24:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10640] trunk/harbour
In-Reply-To: <20090318105843.GB20690@uran.home.aster.pl>
References: <E1LjkOa-0007f1-Jj@3kljzd1.ch3.sourceforge.com>
	<20090318105843.GB20690@uran.home.aster.pl>
Message-ID: <18d502870903180424t65c8ddcblfca994b60a6219aa@mail.gmail.com>

>
> The code is ready but we should check if they work as expected.
> Can you make some tests with harbour/tests/mt/mttest04.prg and
> harbour/tests/mt/mttest07.prg with MSVC and POCC MT builds?


Both MT tests with both compilers reported OK. In mttest04 the
unprotected result is different, but that's ought to be normal.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/f25877d2/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Mar 18 08:10:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 08:10:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10645] trunk/harbour
Message-ID: <E1LjubE-0006LL-Mq@c3vjzd1.ch3.sourceforge.com>

Revision: 10645
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10645&view=rev
Author:   vszakats
Date:     2009-03-18 12:10:16 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------

2009-03-18 13:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * include/hbapi.h
    ! Added HB_EXPORT declaration for hb_vmSetLinkedMain().

  * utils/hbmk2/hbmk2.prg
    ! Regression regarding -ldflag: option handling.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Wed Mar 18 08:29:41 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Mar 18 08:33:20 2009
Subject: [Harbour] Re: tests/speedtst.prg - wrong EOL
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA5@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA5@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA6@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

With rev10644 speedtst.prg can be complied with Clipper 5.2e

There are still two problems with EOL:
1) speedtst.prg does not have svn:eol-style native (so the code is limited with LF instead od CRLF).
2) When complied with Clipper, the redirected output is LF (EOL always defined as chr(10),
     while Harbour uses hb_OSNewLime().

Next email will have the output logs.

  Chen.
From jfl at mafact.com  Wed Mar 18 08:45:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Mar 18 08:45:39 2009
Subject: [Harbour] pCode dll
Message-ID: <6c6ce118.1c9a7c7.5a08c46.72ae@mafact.com>

OK,

Now I see the problem.

Two solutions (tested and working :-) )


1) I can rebuild harbour and it's libs with -DHB_DYNLIB and it work !!! But I'm not sure what's it's implied exporting all harbour function ... I must say I don't like.

2) I created a new define HB_EXPORTP like HB_EXPORT, not disabled by HB_DYNLIB (but protected by the OS and or compiler, like HB_EXPORT) and used solely for exporting two functions

extern HB_EXPORTP void     hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */
extern HB_EXPORTP PHB_SYMB hb_vmProcessDynLibSymbols( PHB_SYMB pSymbols, USHORT uiSymbols, const char * szModuleName, ULONG ulID, USHORT uiPcodeVer ); /* module symbols initialization with extended information */

For that I only modified hbdefs.h, hbvm.h and hbvmpub.h

Then compiling Harbour without -DHB_DYNLIB give my exe export only two function, as needed for pcode only Dll.

What do you think about that ?

If nobody complaint, I can upload it to the SVN tonight or tomorrow !

Regards,

JF,

-----Message d'origine-----
De?: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Przemyslaw Czerpak
Envoy??: mercredi 18 mars 2009 11:33
??: Harbour Project Main Developer List.
Objet?: Re: RE: [Harbour] pCode dll

On Wed, 18 Mar 2009, J. Lefebvre wrote:

Hi,

> J I like the idea of free discusion about general concept, but we first
> face a more basic problem.

It's working for me as it should.

> Either on full Borland or full MSVC (no mix of compiler) You can create
> a pure pcode dll, you can load it, but it does'nt work at all, even
> dynamically (using HB_LIBLOAD, HB_LIBDO).

Probably the .dll name in windows build was changed and source code was
not updated. I do not know but the names in source/vm/maindllp.c seems
to be synced by Viktor.

> It seem that the exe generated does'nt export some needed function
> (like, at least,  hb_vmProcessDynLibSymbols, called from maindllp.c ).

They have but I guess they are not exported.

> I tried to add it to hbvmpub.ch (like hb_vmExecute ) but it does'nt solve
> anything.

This part I do not understand. hb_vmProcessDynLibSymbols() is already
declared in hbvm.h. It's enough.

> For hb_vmExecute(), here is what we can found into hbvmpub.h.
> "extern HB_EXPORT void hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */"

Also good.

> How could I render those two functions exported. If I do impdef myexe.def
> myexe.exe, nothing is exported ?

So was not declared as exported.

> Any Idea, I'm ready to try to make it work but I need some idea on
> "where or what" to search .

I guess you build Harbour without HB_DYNLIB macro.
In such case HB_EXPORT is not defined. See hbdefs.h.
AFAIR HB_DYNLIB is set only for harbour.dll. At least it was working in
such way.
If you want to export symbols also in static harbour libraries so later
you can access them from external DLLs then you will have to recompile
whole Harbour code with -DHB_DYNLIB.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Wed Mar 18 08:54:13 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Mar 18 08:57:56 2009
Subject: [Harbour] Speedtest results
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA7@Mail-yoq.SYNEL-COMPANY.LTD>

Pentium 4 2.4GHz 256MB ram, WindowsNT 4.0 workstation.
Program complied once and executed 3 times, the middle result is given.
Harbour was complied with -DHB_FM_STATISTICS_OFF

Either Clipper is that slow, or WinNT does not run DOS programs too fast.
(or Harbour just RULES!!)


Clipper 5.2e + Blinker 4.10

clipper speedtst /w/n
blinker fi speedtst

03/18/09 13:58:38 DOS 5.00
Clipper (R) 5.2e Intl. (x216)  (1995.02.07)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................1.54
====================================================================
[ T001: x := L_C ]..............................................0.16
[ T002: x := L_N ]..............................................0.16
[ T003: x := L_D ]..............................................0.16
[ T004: x := S_C ]..............................................0.17
[ T005: x := S_N ]..............................................0.16
[ T006: x := S_D ]..............................................0.16
[ T007: x := M->M_C ]...........................................0.49
[ T008: x := M->M_N ]...........................................0.44
[ T009: x := M->M_D ]...........................................0.44
[ T010: x := M->P_C ]...........................................0.44
[ T011: x := M->P_N ]...........................................0.49
[ T012: x := M->P_D ]...........................................0.44
[ T013: x := F_C ]..............................................2.03
[ T014: x := F_N ]..............................................3.56
[ T015: x := F_D ]..............................................1.21
[ T016: x := o:Args ]...........................................1.37
[ T017: x := o[2] ].............................................0.49
[ T018: round( i / 1000, 2 ) ]..................................5.11
[ T019: str( i / 1000 ) ].......................................5.27
[ T020: val( s ) ]..............................................4.17
[ T021: val( a [ i % 16 + 1 ] ) ]...............................8.18
[ T022: dtos( d - i % 10000 ) ].................................5.82
[ T023: eval( { || i % 16 } ) ].................................4.78
[ T024: eval( bc := { || i % 16 } ) ]...........................3.73
[ T025: eval( { |x| x % 16 }, i ) ].............................4.40
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................3.78
[ T027: eval( { |x| f1( x ) }, i ) ]............................2.86
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.19
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.97
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................24.71
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............26.97
[ T032: x := valtype( x ) +  valtype( i ) ].....................3.35
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........21.30
[ T034: x := a[ i % 16 + 1 ] == s ].............................4.23
[ T035: x := a[ i % 16 + 1 ] = s ]..............................4.94
[ T036: x := a[ i % 16 + 1 ] >= s ].............................4.89
[ T037: x := a[ i % 16 + 1 ] <= s ].............................4.94
[ T038: x := a[ i % 16 + 1 ] < s ]..............................5.00
[ T039: x := a[ i % 16 + 1 ] > s ]..............................4.94
[ T040: ascan( a, i % 16 ) ]...................................14.77
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................48.55
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]...12.30
[ T043: x := a ]................................................0.17
[ T044: x := {} ]...............................................0.54
[ T045: f0() ]..................................................0.66
[ T046: f1( i ) ]...............................................0.88
[ T047: f2( c[1...8] ) ]........................................0.76
[ T048: f2( c[1...40000] ) ]....................................0.77
[ T049: f2( @c[1...40000] ) ]...................................0.77
[ T050: f2( @c[1...40000] ), c2 := c ]..........................1.15
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.32
[ T052: f2( a ) ]...............................................0.76
[ T053: x := f4() ].............................................6.59
[ T054: x := f5() ].............................................1.48
[ T055: x := space(16) ]........................................0.71
[ T056: f_prv( c ) ]............................................2.20
====================================================================
[ total application time: ]...................................351.52
[ total real time: ]..........................................351.52


..\bin\hbmk2 -gc3 speedtst /w /n

03/18/09 14:15:50 Windows NT 4.0.1381 Service Pack 6
Harbour 1.1.0dev (Rev. 10644) Borland C++ 5.5.1 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.08
====================================================================
[ T001: x := L_C ]..............................................0.09
[ T002: x := L_N ]..............................................0.07
[ T003: x := L_D ]..............................................0.07
[ T004: x := S_C ]..............................................0.13
[ T005: x := S_N ]..............................................0.10
[ T006: x := S_D ]..............................................0.11
[ T007: x := M->M_C ]...........................................0.15
[ T008: x := M->M_N ]...........................................0.13
[ T009: x := M->M_D ]...........................................0.13
[ T010: x := M->P_C ]...........................................0.15
[ T011: x := M->P_N ]...........................................0.12
[ T012: x := M->P_D ]...........................................0.12
[ T013: x := F_C ]..............................................0.35
[ T014: x := F_N ]..............................................0.61
[ T015: x := F_D ]..............................................0.24
[ T016: x := o:Args ]...........................................0.36
[ T017: x := o[2] ].............................................0.26
[ T018: round( i / 1000, 2 ) ]..................................0.54
[ T019: str( i / 1000 ) ].......................................1.59
[ T020: val( s ) ]..............................................0.67
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.18
[ T022: dtos( d - i % 10000 ) ].................................1.35
[ T023: eval( { || i % 16 } ) ].................................0.94
[ T024: eval( bc := { || i % 16 } ) ]...........................0.59
[ T025: eval( { |x| x % 16 }, i ) ].............................0.73
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.57
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.83
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.71
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.71
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................7.60
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................9.33
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.86
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.03
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.73
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.82
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.82
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.82
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.82
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.84
[ T040: ascan( a, i % 16 ) ]....................................0.69
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................6.57
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....3.05
[ T043: x := a ]................................................0.10
[ T044: x := {} ]...............................................0.30
[ T045: f0() ]..................................................0.15
[ T046: f1( i ) ]...............................................0.27
[ T047: f2( c[1...8] ) ]........................................0.25
[ T048: f2( c[1...40000] ) ]....................................0.25
[ T049: f2( @c[1...40000] ) ]...................................0.25
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.30
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.91
[ T052: f2( a ) ]...............................................0.27
[ T053: x := f4() ].............................................1.94
[ T054: x := f5() ].............................................0.55
[ T055: x := space(16) ]........................................0.41
[ T056: f_prv( c ) ]............................................0.81
====================================================================
[ total application time: ]....................................59.91
[ total real time: ]...........................................59.97


..\bin\hbmk2 -mt -gc3 speedtst /w /n

03/18/09 14:22:42 Windows NT 4.0.1381 Service Pack 6
Harbour 1.1.0dev (Rev. 10644) (MT) Borland C++ 5.5.1 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.10
====================================================================
[ T001: x := L_C ]..............................................0.10
[ T002: x := L_N ]..............................................0.06
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.14
[ T005: x := S_N ]..............................................0.09
[ T006: x := S_D ]..............................................0.10
[ T007: x := M->M_C ]...........................................0.17
[ T008: x := M->M_N ]...........................................0.14
[ T009: x := M->M_D ]...........................................0.14
[ T010: x := M->P_C ]...........................................0.17
[ T011: x := M->P_N ]...........................................0.14
[ T012: x := M->P_D ]...........................................0.14
[ T013: x := F_C ]..............................................0.47
[ T014: x := F_N ]..............................................0.72
[ T015: x := F_D ]..............................................0.27
[ T016: x := o:Args ]...........................................0.46
[ T017: x := o[2] ].............................................0.26
[ T018: round( i / 1000, 2 ) ]..................................0.72
[ T019: str( i / 1000 ) ].......................................2.17
[ T020: val( s ) ]..............................................0.78
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.33
[ T022: dtos( d - i % 10000 ) ].................................1.51
[ T023: eval( { || i % 16 } ) ].................................1.29
[ T024: eval( bc := { || i % 16 } ) ]...........................0.66
[ T025: eval( { |x| x % 16 }, i ) ].............................1.01
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.67
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.19
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.86
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.85
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................9.22
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............12.25
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.17
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.10
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.75
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.83
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.85
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.85
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.84
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.85
[ T040: ascan( a, i % 16 ) ]....................................0.82
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................8.59
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.42
[ T043: x := a ]................................................0.11
[ T044: x := {} ]...............................................0.43
[ T045: f0() ]..................................................0.21
[ T046: f1( i ) ]...............................................0.38
[ T047: f2( c[1...8] ) ]........................................0.35
[ T048: f2( c[1...40000] ) ]....................................0.35
[ T049: f2( @c[1...40000] ) ]...................................0.34
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.38
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.00
[ T052: f2( a ) ]...............................................0.36
[ T053: x := f4() ].............................................2.23
[ T054: x := f5() ].............................................0.80
[ T055: x := space(16) ]........................................0.58
[ T056: f_prv( c ) ]............................................1.27
====================================================================
[ total application time: ]....................................72.69
[ total real time: ]...........................................72.76


  Chen.
From harbour.01 at syenar.hu  Wed Mar 18 09:05:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 09:05:09 2009
Subject: [Harbour] pCode dll
In-Reply-To: <6c6ce118.1c9a7c7.5a08c46.72ae@mafact.com>
References: <6c6ce118.1c9a7c7.5a08c46.72ae@mafact.com>
Message-ID: <18d502870903180605h2a9012etca665276a879e67e@mail.gmail.com>

Hi JF,


> 1) I can rebuild harbour and it's libs with -DHB_DYNLIB and it work !!! But
> I'm not sure what's it's implied exporting all harbour function ... I must
> say I don't like.


2) I created a new define HB_EXPORTP like HB_EXPORT, not disabled by
> HB_DYNLIB (but protected by the OS and or compiler, like HB_EXPORT) and used
> solely for exporting two functions
>
> extern HB_EXPORTP void     hb_vmExecute( const BYTE * pCode, PHB_SYMB
> pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */
> extern HB_EXPORTP PHB_SYMB hb_vmProcessDynLibSymbols( PHB_SYMB pSymbols,
> USHORT uiSymbols, const char * szModuleName, ULONG ulID, USHORT uiPcodeVer
> ); /* module symbols initialization with extended information */
>
> For that I only modified hbdefs.h, hbvm.h and hbvmpub.h
>
> Then compiling Harbour without -DHB_DYNLIB give my exe export only two
> function, as needed for pcode only Dll.
>
> What do you think about that ?


1) One problem with this is that an .exp / .lib file will be generated
for *every* Harbour executables created, at least with MSVC. This
is because these two symbols will now be exported from all
Harbour executables. [ I've been dealing with this issue in the last
few months quite heavily. ]

2) It won't solve -gc3 compiled .prg code. These need some more
functions to be exported.

3) I'd use some other name, like HB_EXPORTFORCED, because
the meaning of 'p' is very ambiguous (it was "*p*code dynamic lib
probably, but this isn't precise).

4) It's still unclear what is the importance of maindllp.c, as it's not
used anywhere inside Harbour.

I'd rather say to use HB_DYNLIB option by those who'd like this
functionality. I'd expect it's not widely used by too many ppl, as
such bugs have been unnoticed for at least 8 years :) Maybe there
are other solutions without downsides.

[ A possible one is to have stubs for these exported functions,
and these stubs be placed in a separate lib which would always
be built with exported symbols. This would need special Harbour
switch to generate code for these stubs. Probably -gc3 mode
should be disabled in such mode. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/0850aefd/attachment-0001.html
From jfl at mafact.com  Wed Mar 18 09:05:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Mar 18 09:05:34 2009
Subject: [Harbour] pCode dll
Message-ID: <33ed7f60.1c9a7ca.5b2c31d.6df1@mafact.com>

Hi Viktor,
 
As you can see on my other mail, the problem is nearly solved.
 
On the other hand, you are right, .hrb files should be a better alternative in term of multi platform use.
 
Is there any sample or howto doc somewhere ?
 
Thanks,
 
JF,
 
De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy? : mercredi 18 mars 2009 10:37
? : Harbour Project Main Developer List.
Objet : Re: [Harbour] pCode dll
 
Hi JF,
 
I don't understand the concept and implications of pure pcode 
.dll at all :) so I rather just listen to this thread, but for sure 
maindllp.c doesn't seem to be used *anywhere* in Harbour.
 
Also, it would be good to know the concept here, as some certain 
core API functions are declared in hbtypes.h and maindllp.c, but 
why specifically these? What happens if someone creates a -gc3 .dll?
 
Just plain guess, but maybe we should generate a hbmaindllp lib, 
and include it in hbmk2 when building a .dll.
 
In general terms I wonder what would be the benefit of using 
pure pcode .dlls (with all the portability and other technical 
complications with them) when we have our own native pcode .hrb.
 
Brgds,
Viktor
On Wed, Mar 18, 2009 at 9:56 AM, J. Lefebvre <jfl@mafact.com> wrote:
J I like the idea of free discusion about general concept, but we first face a more basic problem.
 
Either on full Borland or full MSVC (no mix of compiler) You can create a pure pcode dll, you can load it, but it does'nt work at all, even dynamically (using HB_LIBLOAD, HB_LIBDO).
 
It seem that the exe generated does'nt export some needed function (like, at least,  hb_vmProcessDynLibSymbols, called from maindllp.c ).

I tried to add it to hbvmpub.ch (like hb_vmExecute ) but it does'nt solve anything.
 
For hb_vmExecute(), here is what we can found into hbvmpub.h.
"extern HB_EXPORT void hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */"

How could I render those two functions exported. If I do impdef myexe.def myexe.exe, nothing is exported ?
 
Any Idea, I'm ready to try to make it work but I need some idea on "where or what" to search .
 
Thanks to all,
 
Regards,
 
JF,
 
De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy? : mercredi 18 mars 2009 0:45
? : Harbour Project Main Developer List.
Objet : Re: [Harbour] pCode dll
 
> /half-off-off
ALL are basically compatible, read below:

OWatcom: I suggest you have oWatcom Harbour flags standardized as what
other compilers use as of now. Take a look at -s and -r switch (default
is -r which is "use register calling convention"). Other Windoze
compiler are using -s equivalent (-s = "stack calling convention").It's
should be OK if you're using -r but the creation of import library
become rather clumpsy, because -r append an underscrore AFTER symbol
name.
 
Thanks for the owatcom tip Andi. In OpenWatcom 1.8 -s and -r mean 
something different, but the same idea can be accessed using s and r 
postfixes for CPU family switches.
 
MSVC,POCC,ICC and GCC are fully compatible. We can easily rename an
MSVC-created import lib to GCC name, ie. harbour.lib->libharbour.a.

Borland VS MSVC family only differs in an underscore. Borland requires
an underscore IN FRONT OF symbol name. Take a look at switch -a in
Borland's IMPLIB.EXE/IMPDEF.EXE.
 
Yes, problem is that it's not binary compatible, it needs implib tricks 
(sometimes manual editing of .def files) and app rebuild. So it's practically 
not very usable. I just can wonder what was the goal of Borland with this idea.
 
Brgds,
Viktor
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/a662a639/attachment.html
From jfl at mafact.com  Wed Mar 18 09:24:00 2009
From: jfl at mafact.com (J. Lefebvre)
Date: Wed Mar 18 09:25:05 2009
Subject: [Harbour] pCode dll
Message-ID: <ec8e84b6.1c9a7cc.5c4988b.26e9@mafact.com>

Hi Viktor,
 
See my remarks in blue,
 
Regards,
 
JF,
 
De : harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] De la part de Viktor Szak?ts
Envoy? : mercredi 18 mars 2009 14:05
? : Harbour Project Main Developer List.
Objet : Re: RE: [Harbour] pCode dll
 
Hi JF,
 
1) I can rebuild harbour and it's libs with -DHB_DYNLIB and it work !!! But I'm not sure what's it's implied exporting all harbour function ... I must say I don't like.
 
2) I created a new define HB_EXPORTP like HB_EXPORT, not disabled by HB_DYNLIB (but protected by the OS and or compiler, like HB_EXPORT) and used solely for exporting two functions

extern HB_EXPORTP void     hb_vmExecute( const BYTE * pCode, PHB_SYMB pSymbols ) HB_FLATTEN_ATTR;  /* invokes the virtual machine */
extern HB_EXPORTP PHB_SYMB hb_vmProcessDynLibSymbols( PHB_SYMB pSymbols, USHORT uiSymbols, const char * szModuleName, ULONG ulID, USHORT uiPcodeVer ); /* module symbols initialization with extended information */

For that I only modified hbdefs.h, hbvm.h and hbvmpub.h

Then compiling Harbour without -DHB_DYNLIB give my exe export only two function, as needed for pcode only Dll.

What do you think about that ?
 
1) One problem with this is that an .exp / .lib file will be generated 
for *every* Harbour executables created, at least with MSVC. This 
is because these two symbols will now be exported from all 
Harbour executables. [ I've been dealing with this issue in the last 
few months quite heavily. ]
 
I don't understand the problem here. Sorry, I just created a small exe, just calling a messagebox() function within a dll and it do not created any .exp nor .lib file.
(MSVC 2008)
 
2) It won't solve -gc3 compiled .prg code. These need some more 
functions to be exported.
 
I've not tryed yet. What is the diff between .c pcode and real c code ? 
I can understand it could not work because of needed exported function but in all case, if -gc3 can avoid working dll, I don't see why those two exported function could avoid the use of -gc3 if we don't use any DLL ?? 
 
3) I'd use some other name, like HB_EXPORTFORCED, because 
the meaning of 'p' is very ambiguous (it was "*p*code dynamic lib 
probably, but this isn't precise).
 
OK, it was just a first try J
 
4) It's still unclear what is the importance of maindllp.c, as it's not 
used anywhere inside Harbour.
 
Maindllp.c must be compiled and linked to create the pcode dll. It is the main startup for the dll and also contain some function allowing the code in the dll to use the exe internal function vmExecute and symbol mapping.
 
Like maindllh.c is the Harbour.dll startup code.
 
I'd rather say to use HB_DYNLIB option by those who'd like this 
functionality. I'd expect it's not widely used by too many ppl, as 
such bugs have been unnoticed for at least 8 years :) Maybe there 
are other solutions without downsides.
 
L
 
[ A possible one is to have stubs for these exported functions, 
and these stubs be placed in a separate lib which would always 
be built with exported symbols. This would need special Harbour 
switch to generate code for these stubs. Probably -gc3 mode 
should be disabled in such mode. ]
 
L
 
Brgds,
Viktor
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/b783a4c8/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar 18 09:48:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 09:48:06 2009
Subject: [Harbour] pCode dll
In-Reply-To: <ec8e84b6.1c9a7cc.5c4988b.26e9@mafact.com>
References: <ec8e84b6.1c9a7cc.5c4988b.26e9@mafact.com>
Message-ID: <18d502870903180648p1b22420eu30560dcd9eb4651e@mail.gmail.com>

>
> 1) One problem with this is that an .exp / .lib file will be generated
>
> for *every* Harbour executables created, at least with MSVC. This
>
> is because these two symbols will now be exported from all
>
> Harbour executables. [ I've been dealing with this issue in the last
>
> few months quite heavily. ]
>
>
>
> I don?t understand the problem here. Sorry, I just created a small exe,
> just calling a messagebox() function within a dll and it do not created any
> .exp nor .lib file.
>
> (MSVC 2008)
>
You should try to build a static .exe with same set of files.

> 2) It won't solve -gc3 compiled .prg code. These need some more
>
> functions to be exported.
>
> I?ve not tryed yet. What is the diff between .c pcode and real c code ?
>
> I can understand it could not work because of needed exported function but
> in all case, if ?gc3 can avoid working dll, I don?t see why those two
> exported function could avoid the use of ?gc3 if we don?t use any DLL ??
>
You misunderstood me, I'm talking about -gc3 compiled .prgs placed
*into* "pcode" .dlls. -gc3 generated .c code will call HVM functions
directly, instead of the hb_vmExecute() HVM loop entry. Since this is
a valid option for users, we should deal with it in some ways.


>  3) I'd use some other name, like HB_EXPORTFORCED, because
>
> the meaning of 'p' is very ambiguous (it was "*p*code dynamic lib
>
> probably, but this isn't precise).
>
> OK, it was just a first try J
>
Smallest detail anyway :)


>  4) It's still unclear what is the importance of maindllp.c, as it's not
>
> used anywhere inside Harbour.
>
>
>
> Maindllp.c must be compiled and linked to create the pcode dll. It is the
> main startup for the dll and also contain some function allowing the code in
> the dll to use the exe internal function vmExecute and symbol mapping.
>
Thanks. Now, this is a problem, because maindllp.c isn't distributed
in any of our binary packages, and it wouldn't be a very good idea
to distribute it as .c file anyway. Did you try creating a static .lib from
it, and adding that lib when you create pcode .dll? If this works, this
should be the way we should distribute it, and in this case, even hbmk
could make use of it. [ IOW, we would probably need a maindllp lib
in our binary distros, and this lib should be built by our make system.
*If* it works this way. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/e11d2600/attachment.html
From harbour.01 at syenar.hu  Wed Mar 18 09:55:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 09:55:16 2009
Subject: [Harbour] pCode dll
In-Reply-To: <33ed7f60.1c9a7ca.5b2c31d.6df1@mafact.com>
References: <33ed7f60.1c9a7ca.5b2c31d.6df1@mafact.com>
Message-ID: <18d502870903180655s4ffa5597l4a2754c77d525cbd@mail.gmail.com>

Hi,
I've seen ad-hoc documentation on the list a few times, up to the
point ones from Przemek (even recently), but I can't point you to
anywhere more specific. It should be quite straightforward though,
since there is only a few function calls involved.

You can also look into utils/hbrun/hbrun.prg which supports .hrb
files, this is the best example.

Brgds,
Viktor

On Wed, Mar 18, 2009 at 2:05 PM, J. Lefebvre <jfl@mafact.com> wrote:

>  Hi Viktor,
>
>
>
> As you can see on my other mail, the problem is nearly solved.
>
>
>
> On the other hand, you are right, .hrb files should be a better alternative
> in term of multi platform use.
>
>
>
> Is there any sample or howto doc somewhere ?
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/a1562b2e/attachment.html
From druzus at acn.waw.pl  Wed Mar 18 10:13:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 10:07:35 2009
Subject: [Harbour] pCode dll
In-Reply-To: <18d502870903180605h2a9012etca665276a879e67e@mail.gmail.com>
References: <6c6ce118.1c9a7c7.5a08c46.72ae@mafact.com>
	<18d502870903180605h2a9012etca665276a879e67e@mail.gmail.com>
Message-ID: <20090318141350.GA29772@uran.home.aster.pl>

On Wed, 18 Mar 2009, Szak?ts Viktor wrote:

Hi,

> 1) One problem with this is that an .exp / .lib file will be generated
> for *every* Harbour executables created, at least with MSVC. This
> is because these two symbols will now be exported from all
> Harbour executables. [ I've been dealing with this issue in the last
> few months quite heavily. ]
> 2) It won't solve -gc3 compiled .prg code. These need some more
> functions to be exported.
> 3) I'd use some other name, like HB_EXPORTFORCED, because
> the meaning of 'p' is very ambiguous (it was "*p*code dynamic lib
> probably, but this isn't precise).

If you export at least one symbol then you automatically disable
automatic conversion in MinGW builds. This conversion is enabled
only if application does not export any other symbols. It means
that in MinGW builds you will have to introduce to compilation
phases just like in other builds.

> 4) It's still unclear what is the importance of maindllp.c, as it's not
> used anywhere inside Harbour.

It has to be linked with DLL library created bu user. It allows to
use such DLL with static (of course if symbol used in maindllp.c are
exported) and dynamic (using harbour.dll) Harbour applications.

> I'd rather say to use HB_DYNLIB option by those who'd like this
> functionality. I'd expect it's not widely used by too many ppl, as
> such bugs have been unnoticed for at least 8 years :) Maybe there
> are other solutions without downsides.

IMHO it is widely used. Just check in the archive how many people asked
about it when __EXPORT__ macro name was changed to HB_DYNLIB. I guess
that so far most of users updated their build scripts and JF is one
of the last one. In xharbour.news you can also find that people quite
often ask how to make own .DLLs or how to use own .DLLs without
xharbour.dll but with static binaries (AFAIR some of them asked about
it on this list too).

> [ A possible one is to have stubs for these exported functions,
> and these stubs be placed in a separate lib which would always
> be built with exported symbols. This would need special Harbour
> switch to generate code for these stubs. Probably -gc3 mode
> should be disabled in such mode. ]

Yes, it's interesting solution. maindllp.c should be updated to look
also for alternative names of above functions. This new library should
not be a part of harbour.dll.
In such case it will be enough if user will add to his code linked
in static part of application a REQUEST, f.e.:
   REQUEST  HB_EXPORT
to force linking the library module. Or we can simply use .obj file.
In such case it will be enough to link it. We can also add an option
to hbmk2 to link such .obj file.
Such separated code linked with static part of applications resolves
also other problem. It's not necessary to know the exact name of
harbour.dll in dynamically linked applications. In fact we need only
one symbol to be exported. It can be function which will return addresses
of any other functions necessary for loaded module, f.e.:

   HB_EXPORT FARPROC hb_getProcAddres( int iFunc )
   {
      switch iFunc:
         case 1;
            return ( FARPROC ) &hb_vmExecute;
         case 2;
            return ( FARPROC ) &hb_vmProcessDllSymbols;
         [...]
         default:
            return NULL;
   }

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Mar 18 10:12:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 10:12:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10646] trunk/harbour
Message-ID: <E1LjwVp-0003cM-TH@74yxhf1.ch3.sourceforge.com>

Revision: 10646
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10646&view=rev
Author:   vszakats
Date:     2009-03-18 14:12:53 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 15:11 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    + Added .dll generation support for win/icc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Mar 18 10:27:19 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 10:27:27 2009
Subject: [Harbour] Re: Undestranding qt in an harbour sharing point
In-Reply-To: <18d502870903180420q3467eb5crdb2ece77f24c743f@mail.gmail.com>
References: <609353e70903170458x40c9555u138b639b7a951856@mail.gmail.com>
	<609353e70903180351v14c7b55dxd2d3ef870247b8d3@mail.gmail.com>
	<18d502870903180420q3467eb5crdb2ece77f24c743f@mail.gmail.com>
Message-ID: <609353e70903180727m33074010ybc1bf9a30d359761@mail.gmail.com>

Yes confirm, thanks for clarification
I hope that in harbour found a way for customizable & interchangeable GUI WUI.
Can be a command layer like fivewin, a class compatible with xbase++
parts or another way


2009/3/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> Massimo, "Web Enabling" is an empty marketing term, and
> in this case it has probably mislead you.
> This White Paper informs about a QT control (based on WebKit)
> which?enables apps to include an embedded browser. Useful, but
> completely different from what we're talking about here (WUI).
> Brgds,
> Viktor
> 2009/3/18 Massimo Belgrano <mbelgrano@deltain.it>
>>
>> I suggest also read Intresting white papers:
>> Web Enabling your Native Apps With the WebKit Rendering Engine
>> http://www.qtsoftware.com/qt-in-use
>>
>> the english page of wikipedia http://en.wikipedia.org/wiki/Qt_(toolkit)
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Mar 18 10:35:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 10:35:56 2009
Subject: [Harbour] pCode dll
In-Reply-To: <20090318141350.GA29772@uran.home.aster.pl>
References: <6c6ce118.1c9a7c7.5a08c46.72ae@mafact.com>
	<18d502870903180605h2a9012etca665276a879e67e@mail.gmail.com>
	<20090318141350.GA29772@uran.home.aster.pl>
Message-ID: <18d502870903180735r3b49274cle4442a050d95f30e@mail.gmail.com>

>
> > 3) I'd use some other name, like HB_EXPORTFORCED, because
> > the meaning of 'p' is very ambiguous (it was "*p*code dynamic lib
> > probably, but this isn't precise).
>
> If you export at least one symbol then you automatically disable
> automatic conversion in MinGW builds. This conversion is enabled
> only if application does not export any other symbols. It means
> that in MinGW builds you will have to introduce to compilation
> phases just like in other builds.


Doesn't sound very good, one more reason to avoid it.


> > 4) It's still unclear what is the importance of maindllp.c, as it's not
> > used anywhere inside Harbour.
>
> It has to be linked with DLL library created bu user. It allows to
> use such DLL with static (of course if symbol used in maindllp.c are
> exported) and dynamic (using harbour.dll) Harbour applications.


Thanks, I think I got it now. (except for the content of that file)


> IMHO it is widely used. Just check in the archive how many people asked
> about it when __EXPORT__ macro name was changed to HB_DYNLIB. I guess
> that so far most of users updated their build scripts and JF is one
> of the last one. In xharbour.news you can also find that people quite
> often ask how to make own .DLLs or how to use own .DLLs without
> xharbour.dll but with static binaries (AFAIR some of them asked about
> it on this list too).


Usage of harbour.dll per se was also changed by __EXPORT__, and
I assume this created most of the confusion. Difficult to know, even
.dlls were quickly changing and are very much immature areas (on Windows)
maybe even till today, so I'm not sure how many highly advanced users
are out there actually using this. I wouldn't think it's a very
high number.
Certainly not high enough to design whole Harbour around it, or
introduce bad side effects for 99% of users. BTW, so far no one could
tell any good reason to use it, which doesn't mean there aren't any, but
these
are probably less obvious than most other things. I'd certainly be
interested
to hear about them, after spending so much time making them available.


> > [ A possible one is to have stubs for these exported functions, ...
> > should be disabled in such mode. ]
>
> Yes, it's interesting solution. maindllp.c should be updated to look
> also for alternative names of above functions. This new library should
> not be a part of harbour.dll.


Of course. In fact it's already being filtered out at .dll creation
phase in hb-mkdyn.bat.


> In such case it will be enough if user will add to his code linked
> in static part of application a REQUEST, f.e.:
>   REQUEST  HB_EXPORT
> to force linking the library module. Or we can simply use .obj file.
> In such case it will be enough to link it. We can also add an option
> to hbmk2 to link such .obj file.
> Such separated code linked with static part of applications resolves
> also other problem. It's not necessary to know the exact name of
> harbour.dll in dynamically linked applications. In fact we need only
> one symbol to be exported. It can be function which will return addresses
> of any other functions necessary for loaded module, f.e.:
>
>   HB_EXPORT FARPROC hb_getProcAddres( int iFunc )
>   {
>      switch iFunc:
>         case 1;
>            return ( FARPROC ) &hb_vmExecute;
>         case 2;
>            return ( FARPROC ) &hb_vmProcessDllSymbols;
>         [...]
>         default:
>            return NULL;
>    }
>

Okay, so let's pick that for a direction. I will need help because
this is really an area very very, very off track of everything I'm
expert in or even interested in.

I'd avoid including object files in the distribution to keep things
consistent, so I'd say let's stick with a lib.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/2cd98753/attachment-0001.html
From bedipritpal at hotmail.com  Wed Mar 18 11:09:31 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 18 11:09:34 2009
Subject: [Harbour] QT and some ...
Message-ID: <22580862.post@talk.nabble.com>


Hi Marcos, All

Here is a bit refinement to the code posted on this list.
It compiles fine but I have not been able to create lib, by xMate.
To compile MinGW supplied with QT is used.

Marcos, can you tune up your wrapper engine to tune with 
following protocol.

/*----------------------------------------------------------------------*/

#include <QtGui\QDialog>
#include "hbapi.h"

/* hbqapi.h */

#define q_par_QWidget( n )          ( ( QWidget* ) hb_parptr( n ) )
#define q_par_QDialog( n )          ( ( QDialog* ) hb_parptr( n ) )
#define q_par_QAbstractButton( n )  ( ( QAbstractButton* ) hb_parptr( n ) )
#define q_par_QString( n )          ( ( QString ) hb_parc( n ) )
#define q_par_WindowFlags( n )      ( ( Qt::WindowFlags ) hb_parni( n ) )

/* /hbqapi.h */

/*----------------------------------------------------------------------*/

/*
QDialog ( QWidget * parent = 0, Qt::WindowFlags f = 0 )
*/
HB_FUNC( QT_QDIALOG )
{
   hb_retptr( new QDialog( q_par_QWidget( 1 ), q_par_WindowFlags( 2 ) ) );
}

/*
bool isModal () const
void setModal ( bool modal )
*/
HB_FUNC( QT_QDIALOG_ISMODAL )
{
   hb_retl( q_par_QDialog( 1 )->isModal() );
}

HB_FUNC( QT_QDIALOG_SETMODAL )
{
   q_par_QDialog( 1 )->setModal( hb_parl( 2 ) );
}

/*
bool isSizeGripEnabled () const
void setSizeGripEnabled ( bool )
*/
HB_FUNC( QT_QDIALOG_ISSIZEGRIPENABLED )
{
   hb_retl( q_par_QDialog( 1 )->isSizeGripEnabled() );
}

HB_FUNC( QT_QDIALOG_SETSIZEGRIPENABLED )
{
   q_par_QDialog( 1 )->setSizeGripEnabled( hb_parl( 2 ) );
}

/*
void QDialog::accept ()   [virtual slot]
*/
HB_FUNC( QT_QDIALOG_ACCEPT )
{
   q_par_QDialog( 1 )->accept();
}

/*
void QDialog::done ( int r )   [virtual slot]
*/
HB_FUNC( QT_QDIALOG_DONE )
{
   q_par_QDialog( 1 )->done( hb_parni( 2 ) );
}

/*
int QDialog::exec ()   [slot]
*/
HB_FUNC( QT_QDIALOG_EXEC )
{
   hb_retni( q_par_QDialog( 1 )->exec() );
}

/*
void QDialog::open ()   [slot]
*/
HB_FUNC( QT_QDIALOG_OPEN )
{
   q_par_QDialog( 1 )->open();
}

/*
void QDialog::reject ()   [virtual slot]
*/
HB_FUNC( QT_QDIALOG_REJECT )
{
   q_par_QDialog( 1 )->reject();
}

/*
int QDialog::result () const
void QDialog::setResult ( int i )
*/
HB_FUNC( QT_QDIALOG_RESULT )
{
   hb_retni( q_par_QDialog( 1 )->result() );
}

HB_FUNC( QT_QDIALOG_SETRESULT )
{
   q_par_QDialog( 1 )->setResult( hb_parni( 2 ) );
}


/*----------------------------------------------------------------------*/

#include <QtGui\QAbstractButton>


/*
bool autoExclusive () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOEXCLUSIVE )
{
   hb_retl( q_par_QAbstractButton( 1 )->autoExclusive() );
}

/*
bool autoRepeat () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOREPEAT )
{
   hb_retl( q_par_QAbstractButton( 1 )->autoRepeat() );
}

/*
int autoRepeatDelay () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOREPEATDELAY )
{
   hb_retni( q_par_QAbstractButton( 1 )->autoRepeatDelay() );
}

/*
int autoRepeatInterval () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_AUTOREPEATINTERVAL )
{
   hb_retni( q_par_QAbstractButton( 1 )->autoRepeatInterval() );
}

/*
QButtonGroup * group () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_GROUP )
{
   hb_retptr( ( QButtonGroup* ) q_par_QAbstractButton( 1 )->group() );
}

/*
bool isCheckable () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_ISCHECKABLE )
{
   hb_retl( q_par_QAbstractButton( 1 )->isCheckable() );
}

/*
bool isChecked () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_ISCHECKED )
{
   hb_retl( q_par_QAbstractButton( 1 )->isChecked() );
}

/*
bool isDown () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_ISDOWN )
{
   hb_retl( q_par_QAbstractButton( 1 )->isDown() );
}

/*
void setAutoExclusive ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOEXCLUSIVE )
{
   q_par_QAbstractButton( 1 )->setAutoExclusive( hb_parl( 2 ) );
}

/*
void setAutoRepeat ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOREPEAT )
{
   q_par_QAbstractButton( 1 )->setAutoRepeat( hb_parl( 2 ) );
}

/*
void setAutoRepeatDelay ( int )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOREPEATDELAY )
{
   q_par_QAbstractButton( 1 )->setAutoRepeatDelay( hb_parni( 2 ) );
}

/*
void setAutoRepeatInterval ( int )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETAUTOREPEATINTERVAL )
{
   q_par_QAbstractButton( 1 )->setAutoRepeatInterval( hb_parni( 2 ) );
}

/*
void setCheckable ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETCHECKABLE )
{
   q_par_QAbstractButton( 1 )->setCheckable( hb_parl( 2 ) );
}

/*
void setDown ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETDOWN )
{
   q_par_QAbstractButton( 1 )->setDown( hb_parl( 2 ) );
}

/*
void setIcon ( const QIcon & icon )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETICON )
{
   q_par_QAbstractButton( 1 )->setIcon( QIcon( q_par_QString( 2 ) ) );
}

/*
void setText ( const QString & text )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETTEXT )
{
   q_par_QAbstractButton( 1 )->setText( q_par_QString( 2 ) );
}

/*
QString text () const
*/
HB_FUNC( QT_QABSTRACTBUTTON_TEXT )
{
   QString      str1   = q_par_QAbstractButton( 1 )->text();
   QByteArray   ba     = str1.toLatin1();
   const char * c_str2 = ba.data();
   hb_retc( c_str2 );
}

/*
void animateClick ( int msec = 100 )
*/
HB_FUNC( QT_QABSTRACTBUTTON_ANIMATECLICK )
{
   q_par_QAbstractButton( 1 )->animateClick( hb_parni( 2 ) );
}

/*
void click ()
*/
HB_FUNC( QT_QABSTRACTBUTTON_CLICK )
{
   q_par_QAbstractButton( 1 )->click();
}

/*
void setChecked ( bool )
*/
HB_FUNC( QT_QABSTRACTBUTTON_SETCHECKED )
{
   q_par_QAbstractButton( 1 )->setChecked( hb_parl( 2 ) );
}

/*
void toggle ()
*/
HB_FUNC( QT_QABSTRACTBUTTON_TOGGLE )
{
   q_par_QAbstractButton( 1 )->toggle();
}

/*----------------------------------------------------------------------*/

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/QT-and-some-...-tp22580862p22580862.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ssbbstw at yahoo.com  Wed Mar 18 11:15:55 2009
From: ssbbstw at yahoo.com (WenSheng)
Date: Wed Mar 18 11:16:02 2009
Subject: [Harbour] compiler error
In-Reply-To: <18d502870903180157t3a2d09b6rfd80f902240e21bc@mail.gmail.com>
References: <20090318103009.7D59.84A669A0@mail.zzz.com.tw>
	<18d502870903180157t3a2d09b6rfd80f902240e21bc@mail.gmail.com>
Message-ID: <20090318213727.EF0A.84A669A0@mail.zzz.com.tw>


> Thank you, so I understand this is the _only_ such error while building
> complete Harbour?

No!! is BCC5.

> 
> Can you make tests using MSVC or MinGW compiler? (both free)

I just test MinGW(gcc 4.3.3) and can compiler lang & codepage *.c

ps. don't ask me to change MingW from BCC55.
From harbour.01 at syenar.hu  Wed Mar 18 11:33:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 11:33:13 2009
Subject: [Harbour] compiler error
In-Reply-To: <20090318213727.EF0A.84A669A0@mail.zzz.com.tw>
References: <20090318103009.7D59.84A669A0@mail.zzz.com.tw>
	<18d502870903180157t3a2d09b6rfd80f902240e21bc@mail.gmail.com>
	<20090318213727.EF0A.84A669A0@mail.zzz.com.tw>
Message-ID: <18d502870903180833o782ca4f1l78c3d32ecca31c22@mail.gmail.com>

>
> > Can you make tests using MSVC or MinGW compiler? (both free)
>

> I just test MinGW(gcc 4.3.3) and can compiler lang & codepage *.c


Good, so this looks like a BCC, or BCC55, but for sure compiler
specific problem.

ps. don't ask me to change MingW from BCC55.


I've never asked anybody to switch to whatever compiler, why would I?

Maybe you should try with BCC582 (also free) to see if they've fixed it.

Anyhow since this looks like a compiler specific problem, and and
I cannot see the root cause, a googling didn't give anything useful,
I'd like to leave this problem for someone who can make a better
judgment here regarding the proper fix.

Probably a complete list of Harbour build errors could help to
make a better judgement here, as I doubt cpbg866.c is the only one
file with problems. msgbg866.c also has similar chars, which you've
posted a screenshot for even. If 'make_gnu.bat -i clean install' doesn't
work for this purpose, the only sure way to find all files, is to remove
each problematic ones one by one from 'Makefile's (while making note
of them) and try creating another build.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/0124589f/attachment.html
From mbelgrano at deltain.it  Wed Mar 18 12:25:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 12:25:59 2009
Subject: [Harbour] HBMK2
Message-ID: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>

I receive following error
HBMK2 HBM -n
hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
Impossibile trovare il percorso specificato.(TRANSLATED: IMPOSSIBLE
FIND PATH SPECIFIED)
hbmk: Error: Running Harbour compiler. 1:
/c/harbour/mingw\bin\harbour.exe -n2 HBM -i/c/harbour/mingw\include -n


 c:\harbour\mingw\bin\hbmk.cfg is present and contain
# Harbour Make configuration
# Generated by Harbour build process
arch=win
comp=mingw

This is my setting

Path=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\mingw\bin;
LIB=C:\harbour\mingw\LIB;
INCLUDE=C:\harbour\mingw\INCLUDE;
HB_ARCHITECTURE=win
HB_COMPILER=mingw
HB_INSTALL_PREFIX=/c/harbour/mingw

What i have missed?

-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From harbour.01 at syenar.hu  Wed Mar 18 12:36:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 12:36:47 2009
Subject: [Harbour] HBMK2
In-Reply-To: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
Message-ID: <18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>

On Wed, Mar 18, 2009 at 5:25 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I receive following error
> HBMK2 HBM -n
> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> Impossibile trovare il percorso specificato.(TRANSLATED: IMPOSSIBLE
> FIND PATH SPECIFIED)
> hbmk: Error: Running Harbour compiler. 1:
> /c/harbour/mingw\bin\harbour.exe -n2 HBM -i/c/harbour/mingw\include -n
>
>
>  c:\harbour\mingw\bin\hbmk.cfg is present and contain
> # Harbour Make configuration
> # Generated by Harbour build process
> arch=win
> comp=mingw
>
> This is my setting
>
> Path=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\mingw\bin;
> LIB=C:\harbour\mingw\LIB;
> INCLUDE=C:\harbour\mingw\INCLUDE;
> HB_ARCHITECTURE=win
> HB_COMPILER=mingw
> HB_INSTALL_PREFIX=/c/harbour/mingw


> What i have missed?


You're making things too complicated as usual, and you're
confusing Harbour build requirements with hbmk2 requirements.
For hbmk2 you only need to put your compiler in PATH:

set PATH=C:\devl\MinGW\bin

Or c:\harbour\mingw\bin, if that's you MinGW path, but
for sure you don't need TWO MinGW installation to succeed.

Nothing else is needed, no msys, no HB_ envvars, nothing, really.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/fa5b1b8e/attachment.html
From bedipritpal at hotmail.com  Wed Mar 18 12:50:18 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 18 12:50:25 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <22580862.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com>
Message-ID: <22583405.post@talk.nabble.com>


Hello Viktor

Can you guide me what must I do to create
environment for harbour/contrib/hbqt/*.* 
( on my local machine, until it is placed officially ).

I want to set up my env properly just not to change
build requirements in future.

I think QT is just a fantastic tool to base GTQT at first 
place and Xbase++ Parts next.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/QT-and-some-...-tp22580862p22583405.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Mar 18 12:52:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 12:52:10 2009
Subject: [Harbour] HBMK2
In-Reply-To: <18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
Message-ID: <609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>

WITH set PATH=C:\devl\MinGW\bin
hbmk: Harbour Make couldn't detect any supported C compiler in your PATH.
      Please setup one or set -comp= option or envvar HB_COMPILER
      to one of these values:
      mingw, msvc, bcc, owatcom, icc, pocc, xcc, cygwin, msvc64,
msvcia64, pocc4, mingwce, msvcce, poccce
after Path=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\mingw\bin;
stille receive error
HBMK2 HBM -n
ERROR FINDING PATH SPECIFIED
hbmk: Error: Running Harbour compiler. 1:
 /c/harbour/mingw\bin\harbour.exe -n2 HBM -i/c/harbour/mingw\include -n

imo the proble is due  /c/harbour/mingw\ instead of  c:\harbour\mingw\
but if i use HB_INSTALL_PREFIX=c:\harbour\mingw sh make_gnu.sh clean
install  not copy any files in c:\harbour\mingw

2009/3/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> On Wed, Mar 18, 2009 at 5:25 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> I receive following error
>> HBMK2 HBM -n
>> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
>> Impossibile trovare il percorso specificato.(TRANSLATED: IMPOSSIBLE
>> FIND PATH SPECIFIED)
>> hbmk: Error: Running Harbour compiler. 1:
>> /c/harbour/mingw\bin\harbour.exe -n2 HBM -i/c/harbour/mingw\include -n
>>
>>
>> ?c:\harbour\mingw\bin\hbmk.cfg is present and contain
>> # Harbour Make configuration
>> # Generated by Harbour build process
>> arch=win
>> comp=mingw
>>
>> This is my setting
>>
>> Path=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\mingw\bin;
>> LIB=C:\harbour\mingw\LIB;
>> INCLUDE=C:\harbour\mingw\INCLUDE;
>> HB_ARCHITECTURE=win
>> HB_COMPILER=mingw
>> HB_INSTALL_PREFIX=/c/harbour/mingw
>>
>> What i have missed?
>
> You're making things too complicated as usual, and you're
> confusing Harbour build requirements with hbmk2 requirements.
> For hbmk2 you only need to put your compiler in PATH:
> set PATH=C:\devl\MinGW\bin
> Or c:\harbour\mingw\bin, if that's you MinGW path, but
> for sure you don't need TWO MinGW installation to succeed.
> Nothing else is needed, no msys, no HB_ envvars, nothing,?really.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Mar 18 12:58:33 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 12:58:38 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <22583405.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
Message-ID: <609353e70903180958t7c68da55jb997c963fe878443@mail.gmail.com>

I Agree qt look quite amazing
If you can remeber implement gtwvg in gtwvt i am very happy becuase i
will port last xharbour application
Thanks

2009/3/18 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Viktor
>
> I think QT is just a fantastic tool to base GTQT at first
> place and Xbase++ Parts next.
>
> Regards
> Pritpal Bedi
> --

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Mar 18 13:22:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 13:23:02 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <22583405.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
Message-ID: <18d502870903181022w57c70e6bt2b7825e3264a55df@mail.gmail.com>

Hi Pritpal,

Can you guide me what must I do to create
> environment for harbour/contrib/hbqt/*.*
> ( on my local machine, until it is placed officially ).
>
> I want to set up my env properly just not to change
> build requirements in future.


We will need a HB_INC_QT and HB_DIR_QT envvars
for include, otherwise the hbqt dir should look the exact
same as any other 3rd party dependent dirs. Only the
list of files, platform/compiler guards and autodetection
dirs will need to be adapted.

set HB_INC_QT=C:\devl\Qt\2009.01\qt\include
set HB_DIR_QT=C:\devl\Qt\2009.01\qt

For the case of hbqt (see next section for a proposed
component layout), Makefile would look like this:

--- contrib/hbqt/Makefile
#
# $Id$
#

ROOT = ../../

LIBNAME=hbqt

ifneq ($(HB_ARCHITECTURE),dos)
ifneq ($(HB_ARCHITECTURE),os2)

ifeq ($(HB_INC_QT),)
ifeq ($(HB_XBUILD),)
HB_INC_QT = /usr/include /opt/local/include
endif
endif

HB_INC_QT_OK += $(foreach d, $(HB_INC_QT), $(if $(wildcard
$(d)/Qt/qatomic.h),$(d),))

ifneq ($(strip $(HB_INC_QT_OK)),)

HB_USER_CFLAGS += $(foreach d, $(HB_INC_QT_OK), -I$(d))

CPP_SOURCES=\
hbqt_****.cpp \

PRG_HEADERS=\
hbqt.ch \
hbqtextern.ch \

PRG_SOURCES=\
....prg \

include $(TOP)$(ROOT)config/header.cf
INSTALL_RULE_HEADERS := $(INSTALL_RULE)
include $(TOP)$(ROOT)config/lib.cf

install::
$(INSTALL_RULE_HEADERS)

else
include $(TOP)$(ROOT)config/none.cf
endif
else
include $(TOP)$(ROOT)config/none.cf
endif
else
include $(TOP)$(ROOT)config/none.cf
endif
---

I think QT is just a fantastic tool to base GTQT at first
> place and Xbase++ Parts next.


Yes, it indeed looks very fine and has every property to
become a good base for a portable Harbour GUI.

Maybe it's not too late to ask such thing, and since QT
can easily become such crucial core component of Harbour,
I'd very strongly recommend for you and everyone involved
to try to create a well laid out, modular base, where we
use the Harbour API the best available way. This ensures
that QT won't become bloated and unmaintainable quickly.
For this to happen any QT related parts should only rely
on QT headers and Harbour API, most importantly *no*
Windows API in *any* form.

The other important part is modularity. Few things we can
create using QT:
- QT wrappers, in .cpp. Separate lib: "hbqt"
- Pure QT CUI GT: "GTQTC". This needs to be done separately and
  compatible with GTWVT, GTXWC.
- Xbase++ class on top of hbqt lib. Preferable a separate lib,
  or at least separate .prg-only files.
- Mixed CUI-GUI GT. I'm not sure if that was what you had
  in mind, but in this case, this should be a separate GT,
  by the name "GTQTG".

Since DOS isn't supported anyway in QT, I'd like to propose
to lift 8.3 rule in QT related contribs dirs. If there are no
objections, let's go that way.

In the future we can group these related contribs under one
main directory, or shuffle them as looks best, but let's keep
it clean and modular please.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/6023fdc5/attachment.html
From harbour.01 at syenar.hu  Wed Mar 18 13:38:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 13:38:21 2009
Subject: [Harbour] HBMK2
In-Reply-To: <609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
Message-ID: <18d502870903181038l3f43b5cejd32a283a9a4b11b4@mail.gmail.com>

>
> WITH set PATH=C:\devl\MinGW\bin
> hbmk: Harbour Make couldn't detect any supported C compiler in your PATH.


Do you have MinGW installed on this PATH? Is there any gcc.exe in that
directory?
I doubt there is.


> after Path=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\mingw\bin;


Nonsense. msys isn't needed for hbmk2. Your environment
is messed up, probably MinGW is installed into c:\harbour\mingw\bin.
But please check it yourself, for me it's more difficult. Also make
sure not to have HB_CCPREFIX set to some random leftover value.


> stille receive error
> HBMK2 HBM -n
> ERROR FINDING PATH SPECIFIED
> hbmk: Error: Running Harbour compiler. 1:
>  /c/harbour/mingw\bin\harbour.exe -n2 HBM -i/c/harbour/mingw\include -n
>
> imo the proble is due  /c/harbour/mingw\ instead of  c:\harbour\mingw\


It's because HB_INSTALL_PREFIX is still in your environment,
and it's wrong. Remove it.


> but if i use HB_INSTALL_PREFIX=c:\harbour\mingw sh make_gnu.sh clean
> install  not copy any files in c:\harbour\mingw


First decide what you're trying to do now. A build, or a Harbour binary?
Now you've jumped to build.

I'd suggest to start over with a clean environment and read the script
sample I posted lots of time here.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/94aff55e/attachment-0001.html
From mbelgrano at deltain.it  Wed Mar 18 13:50:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 13:51:03 2009
Subject: [Harbour] HBMK2
In-Reply-To: <18d502870903181038l3f43b5cejd32a283a9a4b11b4@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
	<18d502870903181038l3f43b5cejd32a283a9a4b11b4@mail.gmail.com>
Message-ID: <609353e70903181050v2d96cc8as6f8177c78d68ba63@mail.gmail.com>

removing HB_INSTALL_PREFIX all work fine
My problem is because hi made a set that i can use for build and
immediately after for a Harbour binary, because compile other program
that use as tool, my library
in mingw this is not possible because HB_INSTALL_PREFIX  not allow
this due to his different notation required like \c\harbour isntead
c:\harbour
Thanks

2009/3/18 Viktor Szak?ts <harbour.01@syenar.hu>:
>> WITH set PATH=C:\devl\MinGW\bin
>> hbmk: Harbour Make couldn't detect any supported C compiler in your PATH.
>
> Do you have MinGW installed on this PATH? Is there any gcc.exe?in that
> directory?
> I doubt there is.
>
>>
>> after Path=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\mingw\bin;
>
> Nonsense. msys isn't needed for hbmk2. Your environment
> is messed up, probably MinGW is installed into?c:\harbour\mingw\bin.
> But please check it yourself, for me it's more difficult. Also make
> sure not to have HB_CCPREFIX set to some random leftover value.
>
>>
>> stille receive error
>> HBMK2 HBM -n
>> ERROR FINDING PATH SPECIFIED
>> hbmk: Error: Running Harbour compiler. 1:
>> ?/c/harbour/mingw\bin\harbour.exe -n2 HBM -i/c/harbour/mingw\include -n
>>
>> imo the proble is due ?/c/harbour/mingw\ instead of ?c:\harbour\mingw\
>
> It's because HB_INSTALL_PREFIX is still in your environment,
> and it's wrong. Remove it.
>
>>
>> but if i use HB_INSTALL_PREFIX=c:\harbour\mingw sh make_gnu.sh clean
>> install ?not copy any files in c:\harbour\mingw
>
> First decide what you're trying to do now. A build, or a Harbour binary?
> Now you've jumped to build.
> I'd suggest to start over?with a clean?environment and read the script
> sample I posted lots?of time here.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Mar 18 14:16:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 14:17:02 2009
Subject: [Harbour] HBMK2
In-Reply-To: <609353e70903181050v2d96cc8as6f8177c78d68ba63@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
	<18d502870903181038l3f43b5cejd32a283a9a4b11b4@mail.gmail.com>
	<609353e70903181050v2d96cc8as6f8177c78d68ba63@mail.gmail.com>
Message-ID: <18d502870903181116w33f63d3dj27622c4c52faba74@mail.gmail.com>

>
> removing HB_INSTALL_PREFIX all work fine
> My problem is because hi made a set that i can use for build and
> immediately after for a Harbour binary, because compile other program
> that use as tool, my library
> in mingw this is not possible because HB_INSTALL_PREFIX  not allow
> this due to his different notation required like \c\harbour isntead
> c:\harbour


HB_INSTALL_PREFIX doesn't need special
notation anymore for mingw. Check my samples posted.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/b4e5ee9c/attachment.html
From bedipritpal at hotmail.com  Wed Mar 18 14:37:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 18 14:37:27 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <18d502870903181022w57c70e6bt2b7825e3264a55df@mail.gmail.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
	<18d502870903181022w57c70e6bt2b7825e3264a55df@mail.gmail.com>
Message-ID: <22585684.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> We will need a HB_INC_QT and HB_DIR_QT envvars
> for include, otherwise the hbqt dir should look the exact
> same as any other 3rd party dependent dirs. Only the
> list of files, platform/compiler guards and autodetection
> dirs will need to be adapted.
> 
> set HB_INC_QT=C:\devl\Qt\2009.01\qt\include
> set HB_DIR_QT=C:\devl\Qt\2009.01\qt
> ...
> 

Ok. I will try though I feel suseptible about my abilities.



> Yes, it indeed looks very fine and has every property to
> become a good base for a portable Harbour GUI.
> 
> Maybe it's not too late to ask such thing, and since QT
> can easily become such crucial core component of Harbour,
> I'd very strongly recommend for you and everyone involved
> to try to create a well laid out, modular base, where we
> use the Harbour API the best available way. This ensures
> that QT won't become bloated and unmaintainable quickly.
> For this to happen any QT related parts should only rely
> on QT headers and Harbour API, most importantly *no*
> Windows API in *any* form.
> 
> The other important part is modularity. Few things we can
> create using QT:
> - QT wrappers, in .cpp. Separate lib: "hbqt"
> - Pure QT CUI GT: "GTQTC". This needs to be done separately and
>   compatible with GTWVT, GTXWC.
> - Xbase++ class on top of hbqt lib. Preferable a separate lib,
>   or at least separate .prg-only files.
> - Mixed CUI-GUI GT. I'm not sure if that was what you had
>   in mind, but in this case, this should be a separate GT,
>   by the name "GTQTG".
> 

The above is almost right directions.

My proposed roadmap:

1) have QT wrappers in place in contrib/hbqt 
   - only HB Api and QT headers

2) GTQTC in contrib/gtqtc
   - a pure console implementation along lines of GTWVT
   - I do not much about GTXWC so cannot take advantage
   - probably it is similar to GTWVT as I could understood via this list.

3) On top of GTQTC, Xbase++ Parts
   - here Xbase++ parts PRG code will be common for GTWVG also
   - as it is purely a PRG code.

4) GTQTG - GTWVG implementation on top of GTQTC if there would be 
   - a need to do so.

For sure no Windows API at all, otherwise it will not be portable.

Can you setup contrib/hbqt environment there with 

hbqtapi.h
hbqt_qdialog.cpp
hbqt_qabstractbutton.cpp

as outlined in post above. keeping it away from default builds.



> Since DOS isn't supported anyway in QT, I'd like to propose
> to lift 8.3 rule in QT related contribs dirs. If there are no
> objections, let's go that way.
> 
> In the future we can group these related contribs under one
> main directory, or shuffle them as looks best, but let's keep
> it clean and modular please.
> 

Perfectly OK.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/QT-and-some-...-tp22580862p22585684.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From clipsupp at yahoo.com.ar  Wed Mar 18 14:44:22 2009
From: clipsupp at yahoo.com.ar (Claudio Torrillo)
Date: Wed Mar 18 14:44:27 2009
Subject: [Harbour] hbWhat construct
In-Reply-To: <609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
Message-ID: <272741.71830.qm@web111013.mail.gq1.yahoo.com>

I need to build the hbWhat library.
What should I do?


I need to use some functions of the Windows API, for example :

GETMODULEFILENAME()
GetLastError()

and others
 
Is there a replacement? Or any way to use these functions directly?

TIA.
Claudio G. Torrillo


      Yahoo! Cocina
Recetas pr?cticas y comida saludable
http://ar.mujer.yahoo.com/cocina/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/04c69732/attachment.html
From druzus at acn.waw.pl  Wed Mar 18 14:56:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 14:49:45 2009
Subject: [Harbour] Re: tests/speedtst.prg - wrong EOL
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA6@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA5@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C10F1D52AA6@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20090318185601.GA13957@uran.home.aster.pl>

On Wed, 18 Mar 2009, Chen Kedem wrote:

Hi,

> With rev10644 speedtst.prg can be complied with Clipper 5.2e
> There are still two problems with EOL:
> 1) speedtst.prg does not have svn:eol-style native (so the code is limited with LF instead od CRLF).

I've checked it and:
druzus:~/SVN/harbour/harbour/tests# svn -v pl speedtst.prg
Atrybuty dla 'speedtst.prg':
  svn:keywords : Author Date Id Revision
  svn:eol-style : native

so svn:eol-style attribute is correct. If you have LF in your local
repository copy then it's a problem with SVN client settings. It should
properly translate EOLs to platform native form.

> 2) When complied with Clipper, the redirected output is LF (EOL always defined as chr(10),
>      while Harbour uses hb_OSNewLime().

Yes, I know. It was intentional because I'm working only with *nixes but
of course I should change it before commiting. Thank you for information.
I'll update CLIPPER and XPP builds to use
   #define EOL chr(13)+chr(10)
ASAP.

> Next email will have the output logs.

Thank you. Just for information. Harbour is many times faster then
Clipper but please remember that Clipper was designed to work in 16bit
environment with 1MB address space so had to use many tricks as
workaround for limited memory. As result it had to decrease the speed.
Additionally current DPMI/EMS memory managers and can introduce additional
overhead.
When I was making some tests with Clipper the best speed results were with
pure rtlink. Of course if test didn't need too much memory. speedtst should
work also with //e:0 //swapk:0

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Mar 18 14:54:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 18 14:54:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10647] trunk/harbour
Message-ID: <E1Lk0uA-00031Y-Ql@d5vjzd1.ch3.sourceforge.com>

Revision: 10647
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10647&view=rev
Author:   druzus
Date:     2009-03-18 18:54:17 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 19:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-mkdyn.bat
  * harbour/config/linux/icc.cf
  * harbour/contrib/xhb/xhbcls.ch
  * harbour/contrib/hbblat/tests/f_listtext.txt
  * harbour/contrib/hbblat/tests/f_sample.txt
  * harbour/contrib/hbblat/tests/f_ps.txt
  * harbour/contrib/hbblat/tests/f_sample1.txt
  * harbour/contrib/hbblat/tests/blattest.prg
  * harbour/contrib/hbblat/tests/f_subjectline.txt
  * harbour/contrib/hbblat/tests/blatcmd.prg
  * harbour/contrib/hbblat/syntax.txt
  * harbour/contrib/hbblat/hbblat.ch
  * harbour/contrib/hbblat/blatcls.prg
  * harbour/contrib/hbblat/blatwrp.c
  * harbour/contrib/hbblat/Makefile
  * harbour/contrib/examples/uhttpd/session.prg
  * harbour/tests/ac_test2.prg
  * harbour/tests/gtxfnt.prg
    * updated SVN attributes

  * harbour/tests/speedtst.prg
    * use chr(13)+chr(10) as EOL in outstd() in Clipper and XPP builds.

  * harbour/source/compiler/genc.c
    ! fixed one printf modifier

  * harbour/source/compiler/gencc.c
  * harbour/include/hbcompdf.h
    % do not call hb_xvmExitProc() if hb_xvmEndProc() was not executed
      inside function compiled by -gc3

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/source/compiler/genc.c
    trunk/harbour/source/compiler/gencc.c
    trunk/harbour/tests/speedtst.prg

Property Changed:
----------------
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbblat/blatcls.prg
    trunk/harbour/contrib/hbblat/blatwrp.c
    trunk/harbour/contrib/hbblat/hbblat.ch
    trunk/harbour/contrib/hbblat/syntax.txt
    trunk/harbour/contrib/hbblat/tests/blatcmd.prg
    trunk/harbour/contrib/hbblat/tests/blattest.prg
    trunk/harbour/contrib/hbblat/tests/f_listtext.txt
    trunk/harbour/contrib/hbblat/tests/f_ps.txt
    trunk/harbour/contrib/hbblat/tests/f_sample.txt
    trunk/harbour/contrib/hbblat/tests/f_sample1.txt
    trunk/harbour/contrib/hbblat/tests/f_subjectline.txt
    trunk/harbour/contrib/xhb/xhbcls.ch
    trunk/harbour/tests/ac_test2.prg
    trunk/harbour/tests/gtxfnt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Mar 18 14:55:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 14:55:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10510] trunk/harbour
In-Reply-To: <E1LeGic-0003Ep-Pg@dn4whf1.ch3.sourceforge.com>
References: <E1LeGic-0003Ep-Pg@dn4whf1.ch3.sourceforge.com>
Message-ID: <609353e70903181155k437bbaacn442939633c06c4a8@mail.gmail.com>

You can found in
c:\harbour\contrib\examples\hbwhat

2009/3/2  <vszakats@users.sourceforge.net>:
> Revision: 10510
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10510&view=rev
> Author: ? vszakats
> Date: ? ? 2009-03-02 22:34:38 +0000 (Mon, 02 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-02 23:34 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?* contrib/Makefile
> ?- contrib/hbwhat
> ?+ contrib/examples/hbwhat
> ?* contrib/examples/hbwhat/Makefile
> ? ?* Moved hbwhat to contrib/examples.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/Makefile
> ? ?trunk/harbour/contrib/examples/hbwhat/Makefile
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/examples/hbwhat/
>
> Removed Paths:
> -------------
> ? ?trunk/harbour/contrib/hbwhat/
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From druzus at users.sourceforge.net  Wed Mar 18 15:01:30 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 18 15:01:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10648] trunk/harbour
Message-ID: <E1Lk118-0003BM-QF@d5vjzd1.ch3.sourceforge.com>

Revision: 10648
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10648&view=rev
Author:   druzus
Date:     2009-03-18 19:01:29 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 20:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/minmax.c
    ! fixed min()/max() functions to always return the 1-st item when
      items are equal. It's Clipper behavior and can be important when
      two items with the same wight have different other attributes
      like formatted value size or number of decimal places.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/minmax.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcosgambeta at uol.com.br  Wed Mar 18 15:09:15 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Mar 18 15:09:25 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <22583405.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
Message-ID: <49C146DB.7070903@uol.com.br>

Pritpal Bedi escreveu:
> 
> Can you guide me what must I do to create
> environment for harbour/contrib/hbqt/*.* 
> ( on my local machine, until it is placed officially ).
> 
> I want to set up my env properly just not to change
> build requirements in future.
> 
> I think QT is just a fantastic tool to base GTQT at first 
> place and Xbase++ Parts next.
> 

Pritpal,

Maybe this help. See the contents of my files used to build the lib:

buildlib.bat

call C:\Qt\2009.01\bin\qtenv.bat
set path=c:\qt\harbour\bin;c:\php;%path%
rem *.h -> moc_*.cpp
moc source\slots.h -o source\moc_slots.cpp
mingw32-make -f makefile.gcc

makefile.gcc

HRB_DIR = \qt\harbour
INC_DIR = include
OBJ_DIR = obj
LIB_DIR = lib
SRC_DIR = source
CXX = g++
CXXFLAGS = -c -O2 -frtti -fexceptions -mthreads -Wall -DUNICODE 
-DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB 
-DQT_THREAD_SUPPORT
CXXINCLUDE = -I$(QTDIR)\include\QtCore -I$(QTDIR)\include\QtGui 
-I$(QTDIR)\include -I$(QTDIR)\include\ActiveQt 
-I$(QTDIR)\include\QtWebKit -I$(QTDIR)\include\QtSql -I. 
-I$(QTDIR)\mkspecs\win32-g++ -I$(HRB_DIR)\include

all: $(LIB_DIR)/libhbqt.a

$(LIB_DIR)/libhbqt.a : \
    $(OBJ_DIR)/QAbstractButton.o \
    $(OBJ_DIR)/QAbstractButtonClass.o \
    $(OBJ_DIR)/QAbstractItemView.o \
    $(OBJ_DIR)/QAbstractItemViewClass.o \
    $(OBJ_DIR)/QAbstractPrintDialog.o \
    $(OBJ_DIR)/QAbstractPrintDialogClass.o \
    $(OBJ_DIR)/QAbstractScrollArea.o \
    $(OBJ_DIR)/QAbstractScrollAreaClass.o \
    $(OBJ_DIR)/QAbstractSpinBox.o \
    $(OBJ_DIR)/QAbstractSpinBoxClass.o \
    $(OBJ_DIR)/QAbstractSlider.o \
    $(OBJ_DIR)/QAbstractSliderClass.o \
    $(OBJ_DIR)/QAction.o \
    $(OBJ_DIR)/QActionClass.o \
    $(OBJ_DIR)/QApplication.o \
    $(OBJ_DIR)/QApplicationClass.o \
    $(OBJ_DIR)/QBoxLayout.o \
    $(OBJ_DIR)/QBoxLayoutClass.o \
    $(OBJ_DIR)/QCalendarWidget.o \
    $(OBJ_DIR)/QCalendarWidgetClass.o \
    $(OBJ_DIR)/QCheckBox.o \
    $(OBJ_DIR)/QCheckBoxClass.o \
    $(OBJ_DIR)/QColorDialog.o \
    $(OBJ_DIR)/QColorDialogClass.o \
    $(OBJ_DIR)/QComboBox.o \
    $(OBJ_DIR)/QComboBoxClass.o \
    $(OBJ_DIR)/QCommandLinkButton.o \
    $(OBJ_DIR)/QCommandLinkButtonClass.o \
    $(OBJ_DIR)/QCoreApplication.o \
    $(OBJ_DIR)/QCoreApplicationClass.o \
    $(OBJ_DIR)/QDateEdit.o \
    $(OBJ_DIR)/QDateEditClass.o \
    $(OBJ_DIR)/QDateTimeEdit.o \
    $(OBJ_DIR)/QDateTimeEditClass.o \
    $(OBJ_DIR)/QDial.o \
    $(OBJ_DIR)/QDialClass.o \
    $(OBJ_DIR)/QDialog.o \
    $(OBJ_DIR)/QDialogClass.o \
    $(OBJ_DIR)/QDoubleSpinBox.o \
    $(OBJ_DIR)/QDoubleSpinBoxClass.o \
    $(OBJ_DIR)/QErrorMessage.o \
    $(OBJ_DIR)/QErrorMessageClass.o \
    $(OBJ_DIR)/QFileDialog.o \
    $(OBJ_DIR)/QFileDialogClass.o \
    $(OBJ_DIR)/QFocusFrame.o \
    $(OBJ_DIR)/QFocusFrameClass.o \
    $(OBJ_DIR)/QFont.o \
    $(OBJ_DIR)/QFontClass.o \
    $(OBJ_DIR)/QFontComboBox.o \
    $(OBJ_DIR)/QFontComboBoxClass.o \
    $(OBJ_DIR)/QFontDialog.o \
    $(OBJ_DIR)/QFontDialogClass.o \
    $(OBJ_DIR)/QFormLayout.o \
    $(OBJ_DIR)/QFormLayoutClass.o \
    $(OBJ_DIR)/QFrame.o \
    $(OBJ_DIR)/QFrameClass.o \
    $(OBJ_DIR)/QGroupBox.o \
    $(OBJ_DIR)/QGroupBoxClass.o \
    $(OBJ_DIR)/QHBoxLayout.o \
    $(OBJ_DIR)/QHBoxLayoutClass.o \
    $(OBJ_DIR)/QInputDialog.o \
    $(OBJ_DIR)/QInputDialogClass.o \
    $(OBJ_DIR)/QLabel.o \
    $(OBJ_DIR)/QLabelClass.o \
    $(OBJ_DIR)/QLayout.o \
    $(OBJ_DIR)/QLayoutClass.o \
    $(OBJ_DIR)/QLayoutItem.o \
    $(OBJ_DIR)/QLayoutItemClass.o \
    $(OBJ_DIR)/QLCDNumber.o \
    $(OBJ_DIR)/QLCDNumberClass.o \
    $(OBJ_DIR)/QLineEdit.o \
    $(OBJ_DIR)/QLineEditClass.o \
    $(OBJ_DIR)/QListView.o \
    $(OBJ_DIR)/QListViewClass.o \
    $(OBJ_DIR)/QMainWindow.o \
    $(OBJ_DIR)/QMainWindowClass.o \
    $(OBJ_DIR)/QMenu.o \
    $(OBJ_DIR)/QMenuClass.o \
    $(OBJ_DIR)/QMenuBar.o \
    $(OBJ_DIR)/QMenuBarClass.o \
    $(OBJ_DIR)/QMessageBox.o \
    $(OBJ_DIR)/QMessageBoxClass.o \
    $(OBJ_DIR)/QObject.o \
    $(OBJ_DIR)/QObjectClass.o \
    $(OBJ_DIR)/QPageSetupDialog.o \
    $(OBJ_DIR)/QPageSetupDialogclass.o \
    $(OBJ_DIR)/QPrintDialog.o \
    $(OBJ_DIR)/QPrintDialogClass.o \
    $(OBJ_DIR)/QPrintPreviewDialog.o \
    $(OBJ_DIR)/QPrintPreviewDialogClass.o \
    $(OBJ_DIR)/QProgressBar.o \
    $(OBJ_DIR)/QProgressBarClass.o \
    $(OBJ_DIR)/QProgressDialog.o \
    $(OBJ_DIR)/QProgressDialogClass.o \
    $(OBJ_DIR)/QPushButton.o \
    $(OBJ_DIR)/QPushButtonClass.o \
    $(OBJ_DIR)/QRadioButton.o \
    $(OBJ_DIR)/QRadioButtonClass.o \
    $(OBJ_DIR)/QSizeGrip.o \
    $(OBJ_DIR)/QSizeGripClass.o \
    $(OBJ_DIR)/QScrollArea.o \
    $(OBJ_DIR)/QScrollAreaClass.o \
    $(OBJ_DIR)/QScrollBar.o \
    $(OBJ_DIR)/QScrollBarClass.o \
    $(OBJ_DIR)/QSlider.o \
    $(OBJ_DIR)/QSliderClass.o \
    $(OBJ_DIR)/QSpinBox.o \
    $(OBJ_DIR)/QSpinBoxClass.o \
    $(OBJ_DIR)/QSplitter.o \
    $(OBJ_DIR)/QSplitterClass.o \
    $(OBJ_DIR)/QTabBar.o \
    $(OBJ_DIR)/QTabBarClass.o \
    $(OBJ_DIR)/QTableView.o \
    $(OBJ_DIR)/QTableViewClass.o \
    $(OBJ_DIR)/QTableWidget.o \
    $(OBJ_DIR)/QTableWidgetClass.o \
    $(OBJ_DIR)/QTableWidgetItem.o \
    $(OBJ_DIR)/QTableWidgetItemClass.o \
    $(OBJ_DIR)/QTabWidget.o \
    $(OBJ_DIR)/QTabWidgetClass.o \
    $(OBJ_DIR)/QTextEdit.o \
    $(OBJ_DIR)/QTextEditClass.o \
    $(OBJ_DIR)/QTimeEdit.o \
    $(OBJ_DIR)/QTimeEditClass.o \
    $(OBJ_DIR)/QToolBar.o \
    $(OBJ_DIR)/QToolBarClass.o \
    $(OBJ_DIR)/QToolButton.o \
    $(OBJ_DIR)/QToolButtonClass.o \
    $(OBJ_DIR)/QToolBox.o \
    $(OBJ_DIR)/QToolBoxClass.o \
    $(OBJ_DIR)/QTreeView.o \
    $(OBJ_DIR)/QTreeViewClass.o \
    $(OBJ_DIR)/QVBoxLayout.o \
    $(OBJ_DIR)/QVBoxLayoutClass.o \
    $(OBJ_DIR)/QWidget.o \
    $(OBJ_DIR)/QWidgetClass.o \
    $(OBJ_DIR)/QWebView.o \
    $(OBJ_DIR)/QWebViewClass.o \
    $(OBJ_DIR)/QWizard.o \
    $(OBJ_DIR)/QWizardClass.o \
    $(OBJ_DIR)/slots.o \
    $(OBJ_DIR)/moc_slots.o
	ar rc $@ $^

.prg.c:
	$(HRB_DIR)/bin/harbour.exe $^ -n -w -I$(HRB_DIR)/include -i$(INC_DIR) 
-o$@ $^

.c.o:
	$(CXX) $(CXXFLAGS) $(CXXINCLUDE) -o $@ $^

.cpp.o:
	$(CXX) $(CXXFLAGS) $(CXXINCLUDE) -o $@ $^

$(OBJ_DIR)/%.c : $(SRC_DIR)/%.prg
	$(HRB_DIR)/bin/harbour.exe $^ -n -w -I$(HRB_DIR)/include -i$(INC_DIR) 
-o$@ $^

$(OBJ_DIR)/%.o : $(SRC_DIR)/%.c
	$(CXX) $(CXXFLAGS) $(CXXINCLUDE) -o $@ $^

$(OBJ_DIR)/%.o : $(SRC_DIR)/%.cpp
	$(CXX) $(CXXFLAGS) $(CXXINCLUDE) -o $@ $^


Regards,
Marcos Gambeta

From harbour.01 at syenar.hu  Wed Mar 18 15:09:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 15:09:52 2009
Subject: [Harbour] hbWhat construct
In-Reply-To: <272741.71830.qm@web111013.mail.gq1.yahoo.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
	<272741.71830.qm@web111013.mail.gq1.yahoo.com>
Message-ID: <18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>

Hi Claudio,

> I need to build the hbWhat library.What should I do?
>

You can find it in contrib/examples/hbwhat/ and you can build
it using the GNU Make system.


> I need to use some functions of the Windows API, for example :
>
> GETMODULEFILENAME()
>

Use hb_ProgName() instead, which is portable.


> GetLastError()
>

This is implemented in hbwin lib.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/dfbba66c/attachment.html
From clipsupp at yahoo.com.ar  Wed Mar 18 15:19:50 2009
From: clipsupp at yahoo.com.ar (Claudio Torrillo)
Date: Wed Mar 18 15:19:56 2009
Subject: [Harbour] hbWhat construct
In-Reply-To: <18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
	<272741.71830.qm@web111013.mail.gq1.yahoo.com>
	<18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>
Message-ID: <103906.38540.qm@web111006.mail.gq1.yahoo.com>


Thanks

 Claudio G. Torrillo



________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviado: mi?rcoles 18 de marzo de 2009, 16:09:47
Asunto: Re: [Harbour] hbWhat construct

Hi Claudio,

I need to build the hbWhat library.
What should I do?

You can find it in contrib/examples/hbwhat/ and you can build 
it using the GNU Make system.
 
I need to use some functions of the Windows API, for example :

GETMODULEFILENAME()

Use hb_ProgName() instead, which is portable.
 
GetLastError()

This is implemented in hbwin lib.

Brgds,
Viktor



      Yahoo! Cocina
Recetas pr?cticas y comida saludable
http://ar.mujer.yahoo.com/cocina/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/3c8d3260/attachment.html
From bedipritpal at hotmail.com  Wed Mar 18 15:22:18 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 18 15:22:22 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <49C146DB.7070903@uol.com.br>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
	<49C146DB.7070903@uol.com.br>
Message-ID: <22586627.post@talk.nabble.com>


Thanks Marcos


Maybe this help. See the contents of my files used to build the lib:

buildlib.bat

call C:\Qt\2009.01\bin\qtenv.bat
set path=c:\qt\harbour\bin;c:\php;%path%
rem *.h -> moc_*.cpp
moc source\slots.h -o source\moc_slots.cpp
mingw32-make -f makefile.gcc

makefile.gcc
...


Can you send me the sources of all these files.
It will be faster for me to take-off.

Regards
Pritpal Bedi 
( bedipritpal / at / hotmail.com )


-- 
View this message in context: http://www.nabble.com/QT-and-some-...-tp22580862p22586627.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Mar 18 15:22:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 15:22:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10649] trunk/harbour
Message-ID: <E1Lk1Lo-0005rr-Gy@dn4whf1.ch3.sourceforge.com>

Revision: 10649
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10649&view=rev
Author:   vszakats
Date:     2009-03-18 19:22:47 +0000 (Wed, 18 Mar 2009)

Log Message:
-----------
2009-03-18 20:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/vm/Makefile
  + source/vm/maindllp
  + source/vm/maindllp/Makefile
    + Added generation of hbmaindllp lib, to create pcode .dlls
      on Windows platform. -DHB_DYNLIB is always defined for
      this lib. This is just the first step, we will need compiler,
      hbmk2 and other changes. I'll contribute with hbmk2 changes.

  * source/vm/maindllp.c
    % Code made less verbose.
    ! Created HB_EXPORT declaration for DllEntryPoint().

  * config/win/icc.cf
    * Changed optimization to -O3 (from MSVC ones).
      With max optim (-Ox) it was just a bit faster than MSVC 2008.

  + contrib/hbqt
  + contrib/hbqt/hbqt_qabstractbutton.cpp
  + contrib/hbqt/hbqt_qdialog.cpp
  + contrib/hbqt/hbqt.h
  + contrib/hbqt/Makefile
    + Added initial QT wrapper lib layout with content posted
      by Pritpal to the list. (I did a few renames, please check
      them)

  * contrib/hbwin/hbwapi.h
    * Fixes in header.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/icc.cf
    trunk/harbour/contrib/hbwin/hbwapi.h
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllp.c

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdialog.cpp
    trunk/harbour/source/vm/maindllp/
    trunk/harbour/source/vm/maindllp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Mar 18 15:38:33 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Mar 18 15:38:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10649] trunk/harbour
In-Reply-To: <E1Lk1Lo-0005rr-Gy@dn4whf1.ch3.sourceforge.com>
References: <E1Lk1Lo-0005rr-Gy@dn4whf1.ch3.sourceforge.com>
Message-ID: <22586922.post@talk.nabble.com>


Thanks Viktor


vszakats wrote:
> 
>   + contrib/hbqt
>   + contrib/hbqt/hbqt_qabstractbutton.cpp
>   + contrib/hbqt/hbqt_qdialog.cpp
>   + contrib/hbqt/hbqt.h
>   + contrib/hbqt/Makefile
>     + Added initial QT wrapper lib layout with content posted
>       by Pritpal to the list. (I did a few renames, please check
>       them)
> 

It will help to sppedup things.
Renames are logical, thanks.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10649--trunk-harbour-tp22586639p22586922.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 18 15:42:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 15:42:28 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <22585684.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
	<18d502870903181022w57c70e6bt2b7825e3264a55df@mail.gmail.com>
	<22585684.post@talk.nabble.com>
Message-ID: <18d502870903181242i35b3623fsedbcc1ce47afb7e1@mail.gmail.com>

>
> The above is almost right directions.
>
> My proposed roadmap:
>
> 1) have QT wrappers in place in contrib/hbqt
>   - only HB Api and QT headers
>
> 2) GTQTC in contrib/gtqtc
>   - a pure console implementation along lines of GTWVT
>   - I do not much about GTXWC so cannot take advantage
>   - probably it is similar to GTWVT as I could understood via this list.


It should be absolutely similar, so taking GTWVT as the
GT to follow is just fine.


> 3) On top of GTQTC, Xbase++ Parts
>   - here Xbase++ parts PRG code will be common for GTWVG also
>   - as it is purely a PRG code.


Good.


> 4) GTQTG - GTWVG implementation on top of GTQTC if there would be
>   - a need to do so.


Okay.


> Can you setup contrib/hbqt environment there with
>
> hbqtapi.h
> hbqt_qdialog.cpp
> hbqt_qabstractbutton.cpp
>
> as outlined in post above. keeping it away from default builds.


Okay, committed already. Just forgot to press send on this one :)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/063c7795/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar 18 15:42:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 15:42:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10649] trunk/harbour
In-Reply-To: <22586922.post@talk.nabble.com>
References: <E1Lk1Lo-0005rr-Gy@dn4whf1.ch3.sourceforge.com>
	<22586922.post@talk.nabble.com>
Message-ID: <18d502870903181242y71f52e2ckebfe77556b80771e@mail.gmail.com>

You're welcome.
Brgds,
Viktor

On Wed, Mar 18, 2009 at 8:38 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Thanks Viktor
>
>
> vszakats wrote:
> >
> >   + contrib/hbqt
> >   + contrib/hbqt/hbqt_qabstractbutton.cpp
> >   + contrib/hbqt/hbqt_qdialog.cpp
> >   + contrib/hbqt/hbqt.h
> >   + contrib/hbqt/Makefile
> >     + Added initial QT wrapper lib layout with content posted
> >       by Pritpal to the list. (I did a few renames, please check
> >       them)
> >
>
> It will help to sppedup things.
> Renames are logical, thanks.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10649--trunk-harbour-tp22586639p22586922.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/c0709916/attachment.html
From eghorbino at yahoo.com  Wed Mar 18 16:21:14 2009
From: eghorbino at yahoo.com (Edmer)
Date: Wed Mar 18 16:21:18 2009
Subject: [Harbour] TIMESTAMP/DATETIME conversions
In-Reply-To: <20090316121949.GA32462@uran.home.aster.pl>
References: <20090316121949.GA32462@uran.home.aster.pl>
Message-ID: <22587668.post@talk.nabble.com>


Hi Przemek,

Has this been finalized already ?

Thanks,
Ed



Przemyslaw Czerpak-2 wrote:
> 
> Hi All,
> 
> I would like to ask VFP users to give me an information about some
> timestamp/datetime transformations in this language.
> I'm interesting in existing functions transform pictures, etc.
> I'm ready to commit timestamp support to HVM but I do not want
> to reinvent the wheel and create corresponding functions which
> will return different results then in other xbase languages.
> In longer terms such differences creates serious problems, f.e.
> when you try to share tables and indexes.
> xHarbour has set of functions to operate on timestamp values but
> I do not know if they exactly replicates VFP results. I'm interesting
> mostly on functions like:
>    TTOS()
>    TTOC()
>    CTOS()
>    CTOT()
>    <other functions which operates on timestamp/datetime values>
> f.e. what is the results of this code:
>    proc main()
>       ? TTOS( {^ 2009/03/31 11:34:56.123 PM } )
>       ? TTOC( {^ 2009/03/31 11:34:56.123 PM } )
>    return
> 
> I'm also interesting also in picture modifiers which are used for
> timestamp/datetime values in TRANSFORM() function and GET system.
> Of course if any exists.
> 
> If someone has some knowledge about timestamp/datetime type conversions
> in other xbase languages then I would like to hear about them too.
> 
> I hope that you can help. Otherwise I will have to make some arbitrary
> decisions myself.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/TIMESTAMP-DATETIME-conversions-tp22536898p22587668.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Wed Mar 18 16:29:39 2009
From: eghorbino at yahoo.com (Edmer)
Date: Wed Mar 18 16:29:43 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
Message-ID: <22587826.post@talk.nabble.com>


Hi Przemek & Viktor,

Is this a confirmed bug ?

Thanks,
Ed


Viktor Szak?ts wrote:
> 
> Seems like a valid problem. Anyone with a suggestion?
> Brgds,
> Viktor
> 
> On Sun, Mar 8, 2009 at 6:21 PM, AbeB <abe.buch@att.net> wrote:
> 
>>
>> dbskip(0) will move the record pointer to phantom record (honoring the
>> scope). other RDDS don't do that
>>
>>
>>
>> --------------
>> #include "ads.ch"
>>
>> proc main()
>>
>> rddregister( "ADS", 1 )
>> rddsetdefault( "ADSCDX" )
>> set server local
>> adslocking(  .f. )
>> adssetfiletype(ADS_CDX)
>> adslocking(  .f. )
>>
>> dbcreate("test.dbf",{ ;
>> {"tick" ,"n" , 10,0} })
>>
>> use test via "ADSCDX" excl
>> index on tick tag tick
>>
>> ordscope(0, 100)
>> ordscope(1, 200 )
>>
>> ? rddname()
>>
>> for lop := 1 to 10
>>
>>
>>        dbappend(  .t. )
>>
>> //refresh buffer (server's trigger populated some fields)
>>
>>        dbskip( 0 )
>>
>>        //goto recn()  //<----- this is ok
>>
>>        field->tick := 100 + lop
>>
>>        ? field->tick ,eof()
>>
>> next
>>
>> browse()   // looks like a corrupted index file , try browsing
>> *******************
>>
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp2445184p2445184.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp22400367p22587826.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 18 16:36:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 16:36:45 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <22587826.post@talk.nabble.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
	<22587826.post@talk.nabble.com>
Message-ID: <18d502870903181336j29c76172m1246250a55b9b08d@mail.gmail.com>

Hi Ed,
Yes, I can confirm the problem with the posted example.

hbmk2 test.prg -lrddads -lace32
[ MSVC 2005 + ACE 9.10 / LOCAL ]

Brgds,
Viktor

On Wed, Mar 18, 2009 at 9:29 PM, Edmer <eghorbino@yahoo.com> wrote:

>
> Hi Przemek & Viktor,
>
> Is this a confirmed bug ?
>
> Thanks,
> Ed
>
>
> Viktor Szak?ts wrote:
> >
> > Seems like a valid problem. Anyone with a suggestion?
> > Brgds,
> > Viktor
> >
> > On Sun, Mar 8, 2009 at 6:21 PM, AbeB <abe.buch@att.net> wrote:
> >
> >>
> >> dbskip(0) will move the record pointer to phantom record (honoring the
> >> scope). other RDDS don't do that
> >>
> >>
> >>
> >> --------------
> >> #include "ads.ch"
> >>
> >> proc main()
> >>
> >> rddregister( "ADS", 1 )
> >> rddsetdefault( "ADSCDX" )
> >> set server local
> >> adslocking(  .f. )
> >> adssetfiletype(ADS_CDX)
> >> adslocking(  .f. )
> >>
> >> dbcreate("test.dbf",{ ;
> >> {"tick" ,"n" , 10,0} })
> >>
> >> use test via "ADSCDX" excl
> >> index on tick tag tick
> >>
> >> ordscope(0, 100)
> >> ordscope(1, 200 )
> >>
> >> ? rddname()
> >>
> >> for lop := 1 to 10
> >>
> >>
> >>        dbappend(  .t. )
> >>
> >> //refresh buffer (server's trigger populated some fields)
> >>
> >>        dbskip( 0 )
> >>
> >>        //goto recn()  //<----- this is ok
> >>
> >>        field->tick := 100 + lop
> >>
> >>        ? field->tick ,eof()
> >>
> >> next
> >>
> >> browse()   // looks like a corrupted index file , try browsing
> >> *******************
> >>
> >>
> >> --
> >> View this message in context:
> >>
> http://n2.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp2445184p2445184.html
> >> Sent from the harbour-devel mailing list archive at Nabble.com.
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp22400367p22587826.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/2c8b7692/attachment.html
From phil at newstar.rinet.ru  Wed Mar 18 16:43:17 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Mar 18 16:43:21 2009
Subject: [Harbour] compiler error
In-Reply-To: <20090318213727.EF0A.84A669A0@mail.zzz.com.tw>
References: <20090318103009.7D59.84A669A0@mail.zzz.com.tw>
	<18d502870903180157t3a2d09b6rfd80f902240e21bc@mail.gmail.com>
	<20090318213727.EF0A.84A669A0@mail.zzz.com.tw>
Message-ID: <c10dbf450903181343p4b847b08g6119b2fa33db0dcb@mail.gmail.com>

Hi,

On Wed, Mar 18, 2009 at 6:15 PM, WenSheng <ssbbstw@yahoo.com> wrote:
>
>> Thank you, so I understand this is the _only_ such error while building
>> complete Harbour?
>
> No!! is BCC5.
>
>>
>> Can you make tests using MSVC or MinGW compiler? (both free)
>
> I just test MinGW(gcc 4.3.3) and can compiler lang & codepage *.c
>
> ps. don't ask me to change MingW from BCC55.

I'd try to enforce single-byte codepage in BCC by compiling with
HB_USER_CFLAGS=-CP437
Although docs say this only affects the preprocessor, I'd check it.

-- Ph.
From marcosgambeta at uol.com.br  Wed Mar 18 16:47:10 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Mar 18 16:47:04 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <22586627.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com>
	<22583405.post@talk.nabble.com>	<49C146DB.7070903@uol.com.br>
	<22586627.post@talk.nabble.com>
Message-ID: <49C15DCE.7010501@uol.com.br>

Pritpal Bedi escreveu:
> 
> Can you send me the sources of all these files.
> It will be faster for me to take-off.
> 

Get the sources here:

http://www.4shared.com/file/93650169/4fa09abb/hbqt001alpha.html

I have Harbour in c:\qt\harbour and the lib in c:\qt\hbqt. Update the 
.bat files with your configuration.

Run prompt.bat to compile the examples:

cd examples
build qapplication
build qmainwindow1
build qmainwindow2
build qmainwindow3
build qwebview

The classes need some fixes and changes, but the examples are working.

The main files:

qapplication.cpp
slots.cpp
slots.h


Regards,
Marcos Gambeta

From eghorbino at yahoo.com  Wed Mar 18 17:15:37 2009
From: eghorbino at yahoo.com (Edmer)
Date: Wed Mar 18 17:15:41 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <18d502870903181336j29c76172m1246250a55b9b08d@mail.gmail.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
	<22587826.post@talk.nabble.com>
	<18d502870903181336j29c76172m1246250a55b9b08d@mail.gmail.com>
Message-ID: <22588671.post@talk.nabble.com>


Hi Viktor,

Thank you for the quick reply. Is this bug have something to do with
ordscope() ? Is there somebody looking after this issue or if this issue is
only particular to ADS itself.

Thanks again,
Ed


-- 
View this message in context: http://www.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp22400367p22588671.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 18 17:30:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 17:30:05 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <22588671.post@talk.nabble.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
	<22587826.post@talk.nabble.com>
	<18d502870903181336j29c76172m1246250a55b9b08d@mail.gmail.com>
	<22588671.post@talk.nabble.com>
Message-ID: <18d502870903181430jfb646cew6593d5399f72ba8f@mail.gmail.com>

Hi Ed,

Thank you for the quick reply. Is this bug have something to do with
> ordscope() ? Is there somebody looking after this issue or if this issue is
> only particular to ADS itself.


If I remove OrdScope() calls, the problem goes away. If I compile
the same test with default Harbour RDD, the problem also goes away.

So, yes, it's a RDDADS problem and has something to do with
ordScope() and Skip(0).

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/dbc95e31/attachment-0001.html
From abe.buch at att.net  Wed Mar 18 17:56:55 2009
From: abe.buch at att.net (AbeB)
Date: Wed Mar 18 17:56:59 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <22588671.post@talk.nabble.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
	<22587826.post@talk.nabble.com>
	<18d502870903181336j29c76172m1246250a55b9b08d@mail.gmail.com>
	<22588671.post@talk.nabble.com>
Message-ID: <1237413415091-2499936.post@n2.nabble.com>


since the appended record is not in the scope the record pointer is moved to
eof()+1.

i got burnt with this bug in a real life app. 

i added a dbskip(0) after the append, so the record buffer will be refreshed
with the the server's data added by a 'Trigger On Insert'.



 

Edmer wrote:
> 
> 
> Hi Viktor,
> 
> Thank you for the quick reply. Is this bug have something to do with
> ordscope() ? Is there somebody looking after this issue or if this issue
> is
> only particular to ADS itself.
> 
> Thanks again,
> Ed
> 
> 
> -- 
> View this message in context:
> http://www.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp22400367p22588671.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/nasty-bug%3A-in-RDDADS-%2B-scopeactive-%2B-dbskip%280%29-tp2445184p2499936.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Mar 18 18:08:32 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 18:08:37 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <18d502870903181242i35b3623fsedbcc1ce47afb7e1@mail.gmail.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
	<18d502870903181022w57c70e6bt2b7825e3264a55df@mail.gmail.com>
	<22585684.post@talk.nabble.com>
	<18d502870903181242i35b3623fsedbcc1ce47afb7e1@mail.gmail.com>
Message-ID: <609353e70903181508l76bb18f4o12de5fccd65f163b@mail.gmail.com>

IMO will be intresting also a RDDQT
http://doc.trolltech.com/4.5/sql-sqlwidgetmapper.html

2009/3/18 Viktor Szak?ts <harbour.01@syenar.hu>:
>> The above is almost right directions.
>> My proposed roadmap:
>>
>> 1) have QT wrappers in place in contrib/hbqt
>> ? - only HB Api and QT headers
>>
>> 2) GTQTC in contrib/gtqtc
>> ? - a pure console implementation along lines of GTWVT
>> ? - I do not much about GTXWC so cannot take advantage
>> ? - probably it is similar to GTWVT as I could understood via this list.
>
> It should be absolutely similar, so taking GTWVT as the
> GT to follow is just fine.
>
>>
>> 3) On top of GTQTC, Xbase++ Parts
>> ? - here Xbase++ parts PRG code will be common for GTWVG also
>> ? - as it is purely a PRG code.
>
> Good.
>
>>
>> 4) GTQTG - GTWVG implementation on top of GTQTC if there would be
>> ? - a need to do so.
>
> Okay.
>
>>
>> Can you setup contrib/hbqt environment there with
>>
>> hbqtapi.h
>> hbqt_qdialog.cpp
>> hbqt_qabstractbutton.cpp
>>
>> as outlined in post above. keeping it away from default builds.
>
> Okay, committed already. Just forgot to press send on this one :)
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Wed Mar 18 18:11:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Mar 18 18:11:19 2009
Subject: [Harbour] QT and harbour/contrib/hbqt Environment
In-Reply-To: <609353e70903181508l76bb18f4o12de5fccd65f163b@mail.gmail.com>
References: <22580862.post@talk.nabble.com> <22583405.post@talk.nabble.com>
	<18d502870903181022w57c70e6bt2b7825e3264a55df@mail.gmail.com>
	<22585684.post@talk.nabble.com>
	<18d502870903181242i35b3623fsedbcc1ce47afb7e1@mail.gmail.com>
	<609353e70903181508l76bb18f4o12de5fccd65f163b@mail.gmail.com>
Message-ID: <609353e70903181511x57796968x39b5ddc9c3e3f4bd@mail.gmail.com>

This is link regarding database
http://doc.trolltech.com/4.5/qtsql.html

2009/3/18 Massimo Belgrano <mbelgrano@deltain.it>:
> IMO will be intresting also a RDDQT
> http://doc.trolltech.com/4.5/sql-sqlwidgetmapper.html
>
> 2009/3/18 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> The above is almost right directions.
>>> My proposed roadmap:
>>>
>>> 1) have QT wrappers in place in contrib/hbqt
>>> ? - only HB Api and QT headers
>>>
>>> 2) GTQTC in contrib/gtqtc
>>> ? - a pure console implementation along lines of GTWVT
>>> ? - I do not much about GTXWC so cannot take advantage
>>> ? - probably it is similar to GTWVT as I could understood via this list.
>>
>> It should be absolutely similar, so taking GTWVT as the
>> GT to follow is just fine.
>>
>>>
>>> 3) On top of GTQTC, Xbase++ Parts
>>> ? - here Xbase++ parts PRG code will be common for GTWVG also
>>> ? - as it is purely a PRG code.
>>
>> Good.
>>
>>>
>>> 4) GTQTG - GTWVG implementation on top of GTQTC if there would be
>>> ? - a need to do so.
>>
>> Okay.
>>
>>>
>>> Can you setup contrib/hbqt environment there with
>>>
>>> hbqtapi.h
>>> hbqt_qdialog.cpp
>>> hbqt_qabstractbutton.cpp
>>>
>>> as outlined in post above. keeping it away from default builds.
>>
>> Okay, committed already. Just forgot to press send on this one :)
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Mar 18 18:28:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 18:22:10 2009
Subject: [Harbour] TIMESTAMP/DATETIME conversions
In-Reply-To: <22587668.post@talk.nabble.com>
References: <20090316121949.GA32462@uran.home.aster.pl>
	<22587668.post@talk.nabble.com>
Message-ID: <20090318222827.GA3698@uran.home.aster.pl>

On Wed, 18 Mar 2009, Edmer wrote:

Hi,

> Has this been finalized already ?

Yes I implemented it. But before I'll commit it I would like to
cleanup function names and create some small set of functions
to operate on timestamp values.

I check in the internet functions used by ADS and VFP to operate
on timestamp/datetime types and they are not compatible in few
places so it will be hard to create sth strictly compatible with
both implemenation. I think we will have to stay with our own.

/* ADS functions: */
TSTOD( <timeStamp> ) -> <date>
STOTS( <cTimeStamp> ) -> <timeStamp>   // "YYYYMMDD HH:MM:SS.mmm"
CTOTS( <cTimeStamp> ) -> <timeStamp>   // "DTOC_DATE HH:MM:SS.mmm"
CTOT( <cTime> ) -> <time>              // "HH:MM:SS.mmm"
NOW() -> <timeStamp>
TODAY() -> <date>                      // the same as DATE()

/* VFP functions: */
TTOC( <timeStamp> [, <nMode> ] ) -> <cTimeStamp>
            // 1. yyyymmddhhmmss
            // 2. _SET_DATE HH:MM:SS.mmm(_SET_HOURS=12/24, _SET_SECONDS=ON/OFF)
            // 3. yyyy-mm-ddThh:mm:ss (XML DateTime format)
CTOT( <cTimeStamp> ) -> <timeStamp>    // "YYYY-MM-DDThh:mm:ss"
TTOD( <timeStamp> ) -> <date>
DTOT( <date> ) -> <timeStamp>
SEC( <timeStamp> ) -> <nSec>
MINUTE( <timeStamp> ) -> <nMinutes>
HOUR( <timeStamp> ) -> <nHour>
DATETIME() -> <timeStamp>
// DATE() and DATETIME() support optional numeric parameters to
// create new <date> or <dateTime> value in format:
// [nYear, nMonth, nDay [, nHours [, nMinutes [, nSeconds]]]]

Now I would like to ask your proposition for letter used to mark
milliseconds in _SET_TIME format. xHarbour use 'c', f.e.:
   hh:mm:ss.ccc
I used 'f':
   hh:mm:ss.fff
but of course I can change it but I would like to make it before
1-st commit to not increase the noise.
So I'm interesting in group opinion. It cannot be 'h', 'm' or 's'.
The next question is about default some modifiers for transform
function, f.e. to show only time part without date when timestamp
value is formatted. I haven't found any information about such modifiers
in ADS or VFP.
Do you have any propositions?

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar 18 18:39:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 18:39:20 2009
Subject: [Harbour] TIMESTAMP/DATETIME conversions
In-Reply-To: <20090318222827.GA3698@uran.home.aster.pl>
References: <20090316121949.GA32462@uran.home.aster.pl>
	<22587668.post@talk.nabble.com>
	<20090318222827.GA3698@uran.home.aster.pl>
Message-ID: <18d502870903181539h777e352bt87f9929d40b67e7d@mail.gmail.com>

Hi Przemek,


> Now I would like to ask your proposition for letter used to mark
> milliseconds in _SET_TIME format. xHarbour use 'c', f.e.:
>   hh:mm:ss.ccc
> I used 'f':
>   hh:mm:ss.fff


I trust you that .fff is the better choice, 'c' seems to be used
for other purposes in other languages, 'f' seems less overloaded.
'u' is used in PHP, in other systems I've seen 'S' (but that's
not good for us). So for me fff is good.

The next question is about default some modifiers for transform
> function, f.e. to show only time part without date when timestamp
> value is formatted. I haven't found any information about such modifiers
> in ADS or VFP.
> Do you have any propositions?


'T' seems like a logical choice and it isn't even used as picture
char AFACS.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/9739a8c3/attachment.html
From druzus at acn.waw.pl  Wed Mar 18 18:58:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 18 18:52:36 2009
Subject: [Harbour] TIMESTAMP/DATETIME conversions
In-Reply-To: <18d502870903181539h777e352bt87f9929d40b67e7d@mail.gmail.com>
References: <20090316121949.GA32462@uran.home.aster.pl>
	<22587668.post@talk.nabble.com>
	<20090318222827.GA3698@uran.home.aster.pl>
	<18d502870903181539h777e352bt87f9929d40b67e7d@mail.gmail.com>
Message-ID: <20090318225853.GA7040@uran.home.aster.pl>

On Wed, 18 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > Now I would like to ask your proposition for letter used to mark
> > milliseconds in _SET_TIME format. xHarbour use 'c', f.e.:
> >   hh:mm:ss.ccc
> > I used 'f':
> >   hh:mm:ss.fff
> I trust you that .fff is the better choice, 'c' seems to be used
> for other purposes in other languages, 'f' seems less overloaded.
> 'u' is used in PHP, in other systems I've seen 'S' (but that's
> not good for us). So for me fff is good.

The 'f' comes from 'f'ractional part but for me any proposition
which will not confuse user is good. IF PHP uses 'u' then we can
also use it. We should simply chose the most commonly used signature
which is different then: 'h', 'm' and 's'.

> The next question is about default some modifiers for transform
> > function, f.e. to show only time part without date when timestamp
> > value is formatted. I haven't found any information about such modifiers
> > in ADS or VFP.
> > Do you have any propositions?
> 'T' seems like a logical choice and it isn't even used as picture
> char AFACS.

Thank you.
Until we will not have other reasonable proposition we stay with 'T'.

BTW we will have to add support for timestamp value also to GET system
but I would like to leave it to someone more familiar with GET code.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Mar 18 19:11:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 19:11:11 2009
Subject: [Harbour] TIMESTAMP/DATETIME conversions
In-Reply-To: <20090318225853.GA7040@uran.home.aster.pl>
References: <20090316121949.GA32462@uran.home.aster.pl>
	<22587668.post@talk.nabble.com>
	<20090318222827.GA3698@uran.home.aster.pl>
	<18d502870903181539h777e352bt87f9929d40b67e7d@mail.gmail.com>
	<20090318225853.GA7040@uran.home.aster.pl>
Message-ID: <18d502870903181611l25bc340axe0c54ad8e8e4c392@mail.gmail.com>

>
> The 'f' comes from 'f'ractional part but for me any proposition
> which will not confuse user is good. IF PHP uses 'u' then we can
> also use it. We should simply chose the most commonly used signature
> which is different then: 'h', 'm' and 's'.


PHP uses u for *microsecond* (hence the "u"), and C# uses
'fff' for fraction of a second. I vote for fff, as it's more generic term.


> BTW we will have to add support for timestamp value also to GET system
> but I would like to leave it to someone more familiar with GET code.


Okay let's first see how it looks, I'll try to help, but I'm
not very familiar with this aspect of GET either. [ Otherwise
I'd have fixed the @E format problem already. ] I hope it
can be added following the date support code paths.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/186e6d2f/attachment.html
From harbour.01 at syenar.hu  Wed Mar 18 19:50:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 18 19:50:21 2009
Subject: [Harbour] firebird.c / hb_snprintf() format warnings in GCC
Message-ID: <18d502870903181650q697232bbr364475f1b050d053@mail.gmail.com>

Hi All,

What would be the solution for this?

../../firebird.c: In function 'HB_FUN_FBGETDATA':
../../firebird.c:570: warning: unknown conversion type character 'I' in
format
../../firebird.c:570: warning: unknown conversion type character 'I' in
format
../../firebird.c:570: warning: too many arguments for format
../../firebird.c:576: warning: unknown conversion type character 'I' in
format
../../firebird.c:576: warning: unknown conversion type character 'I' in
format
../../firebird.c:576: warning: too many arguments for format
../../firebird.c:582: warning: unknown conversion type character 'I' in
format
../../firebird.c:582: warning: too many arguments for format
../../firebird.c:585: warning: unknown conversion type character 'I' in
format
../../firebird.c:585: warning: field width should have type 'int', but
argument 5 has type 'ISC_INT64'
../../firebird.c:585: warning: too many arguments for format
../../firebird.c:587: warning: unknown conversion type character 'I' in
format
../../firebird.c:587: warning: too many arguments for format

---
[...]
#ifndef ISC_INT64_FORMAT
   #define ISC_INT64_FORMAT PFLL
#endif
[...]
               if( value >= 0 )
                  hb_snprintf( data, sizeof( data ), "%*" ISC_INT64_FORMAT
"d.%0*" ISC_INT64_FORMAT "d",
                            field_width - 1 + dscale,
                            ( ISC_INT64 ) value / tens,
                            -dscale,
                            ( ISC_INT64 ) value % tens );
               else if( ( value / tens ) != 0 )
                  hb_snprintf( data, sizeof( data ), "%*" ISC_INT64_FORMAT
"d.%0*" ISC_INT64_FORMAT "d",
                            field_width - 1 + dscale,
                            ( ISC_INT64 ) ( value / tens ),
                            -dscale,
                            ( ISC_INT64 ) -( value % tens ) );
               else
                  hb_snprintf( data, sizeof( data ), "%*s.%0*"
ISC_INT64_FORMAT "d",
                            field_width - 1 + dscale,
                            "-0",
                            -dscale,
                            ( ISC_INT64 ) -( value % tens ) );
[...]
---

Rgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/e73105d2/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Mar 18 20:16:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 18 20:16:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10650] trunk/harbour
Message-ID: <E1Lk5wD-00036C-93@d5vjzd1.ch3.sourceforge.com>

Revision: 10650
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10650&view=rev
Author:   vszakats
Date:     2009-03-19 00:16:43 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 01:14 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbmysql/mysql.c
  * contrib/hbmysql/tmysql.prg
    * Renamed all functions to standard mysql equivalents.
      Please update your code and turn off old function
      names with -DHB_MYSQL_LEGACY_LEVEL_OFF to test for
      success. Legacy function names will be removed from
      Harbour in the next release. This move allows to use
      hbmysql and hbodbc in the same app.
      SQLAND() has to be replaced with HB_BITAND(), be aware
      that latter will RTE when non-numeric var is passed,
      while SQLAND() was silently ignoring it.
      Changed functions names:
      SQLVERSION()      => mysql_get_server_version()
      SQLCONNECT()      => mysql_real_connect()
      SQLCLOSE()        => mysql_close()
      SQLCOMMIT()       => mysql_commit()
      SQLROLLBACK()     => mysql_rollback()
      SQLSELECTD()      => mysql_select_db()
      SQLQUERY()        => mysql_query()
      SQLSTORER()       => mysql_store_result()
      SQLUSERES()       => mysql_use_result()
      SQLFREER()        => mysql_free_result()
      SQLFETCHR()       => mysql_fetch_row()
      SQLDATAS()        => mysql_data_seek()
      SQLNROWS()        => mysql_num_rows()
      SQLFETCHF()       => mysql_fetch_field()
      SQLFSEEK()        => mysql_field_seek()
      SQLNUMFI()        => mysql_num_fields()
      SQLFICOU()        => mysql_field_count()
      SQLLISTF()        => mysql_list_fields()
      SQLGETERR()       => mysql_error()
      SQLLISTDB()       => mysql_list_dbs()
      SQLLISTTBL()      => mysql_list_tables()
      SQLAFFROWS()      => mysql_affected_rows()
      SQLHOSTINFO()     => mysql_get_host_info()
      SQLSRVINFO()      => mysql_get_server_info()
      DATATOSQL()       => mysql_escape_string()
      FILETOSQLBINARY() => mysql_escape_string_from_file()
      SQLAND()          => hb_bitAnd()

  * source/vm/maindll.c
  * source/vm/maindllh.c
  * source/vm/maindllp.c
  * contrib/hbodbc/odbc.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/source/vm/maindll.c
    trunk/harbour/source/vm/maindllh.c
    trunk/harbour/source/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ssbbs at mail.zzz.com.tw  Wed Mar 18 21:41:41 2009
From: ssbbs at mail.zzz.com.tw (=?BIG5?B?Irr0vXu46rBUoUW5+aTls9MoVw==?= =?BIG5?B?ZW5TaGVuZyki?=)
Date: Wed Mar 18 21:41:46 2009
Subject: [Harbour] compiler error
In-Reply-To: <18d502870903180833o782ca4f1l78c3d32ecca31c22@mail.gmail.com>
References: <20090318213727.EF0A.84A669A0@mail.zzz.com.tw>
	<18d502870903180833o782ca4f1l78c3d32ecca31c22@mail.gmail.com>
Message-ID: <20090319093534.5AF6.84A669A0@mail.zzz.com.tw>


>Maybe you should try with BCC582 (also free) to see if they've fixed it.
> If have more time I will try... Thank your suggest.
> 
> >Probably a complete list of Harbour build errors could help to
> >make a better judgement here, as I doubt cpbg866.c is the only one
> >file with problems. msgbg866.c also has similar chars, which you've
> >posted a screenshot for even. If 'make_gnu.bat -i clean install' doesn't
> >work for this purpose, the only sure way to find all files, is to remove
> >each problematic ones one by one from 'Makefile's (while making note
> >of them) and try creating another build.
> 
> Your are smart!! ;)
> the msgbg866 only to deliver problem,
> all file include:
> ---------------------------------------------
> CODEPAGE_BG866
> CODEPAGE_BGMIK
> CODEPAGE_CS852
> CODEPAGE_CSISO
> CODEPAGE_CSKAM
> CODEPAGE_CSWIN
> CODEPAGE_EL737
> CODEPAGE_ELWIN
> CODEPAGE_LTWIN
> CODEPAGE_RU866
> CODEPAGE_RUKOI
> CODEPAGE_SK852
> CODEPAGE_SKISO
> CODEPAGE_SKKAM
> CODEPAGE_SKWIN
> CODEPAGE_SV850
> CODEPAGE_SVCLI
> CODEPAGE_SVISO
> CODEPAGE_SVWIN
> CODEPAGE_UAKOI
> LANG_BE866
> LANG_BEWIN
> LANG_BG866
> LANG_BGISO
> LANG_BGMIK
> LANG_BGWIN
> LANG_CA
> LANG_CS852
> LANG_CSISO
> LANG_CSKAM
> LANG_CSWIN
> LANG_EL
> LANG_ELWIN
> LANG_HE862
> LANG_HEWIN
> LANG_HU852
> LANG_HUCWI
> LANG_HUISO
> LANG_HUWIN
> LANG_IS850
> LANG_IT
> LANG_LTWIN
> LANG_PL852
> LANG_PLISO
> LANG_PLMAZ
> LANG_PLWIN
> LANG_RO
> LANG_RU866
> LANG_RUKOI8
> LANG_RUWIN
> LANG_SK852
> LANG_SKISO
> LANG_SKKAM
> LANG_SKWIN
> LANG_SRWIN
> LANG_TR857
> LANG_TRWIN
> LANG_UA866
> LANG_UAKOI8
> LANG_UAWIN
> ---------------------------------------------
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/1a08e2f1/attachment.html
From niki at synel.co.il  Thu Mar 19 02:14:51 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Mar 19 02:21:13 2009
Subject: [Harbour] Re: Updated Instructions for Logo Display (Renato)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C0F59789D58@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F59789D58@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA8@Mail-yoq.SYNEL-COMPANY.LTD>

Renato,

Could you please update the SF logo on the Harbour page as per this updated instructions from SF:
http://lists.harbour-project.org/pipermail/harbour/2009-March/016796.html


Thanks,

  Chen.
From mbelgrano at deltain.it  Thu Mar 19 04:03:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 19 04:03:26 2009
Subject: [Harbour] Thanks to Marcos Gambeta for his exciting and inspiring
	works
Message-ID: <609353e70903190103k758e3c8dh669cd200030154c1@mail.gmail.com>

Thanks to Marcos Gambeta for his exciting and inspiring works
HB QT is a Great Milestone for harbour comunity now we will  able
develop state-of-the-art graphical user interfaces for harbour, and
easily port them to new platforms
Harbour and QT are either Mature,Modern,Portable,Efficient   and the
marriage hb,qta will give Popular and beautiful
Still Thanks also to all harbour developer that have joined to qt idea
-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Thu Mar 19 04:14:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 04:14:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10651] trunk/harbour
Message-ID: <E1LkDOR-0003od-24@c3vjzd1.ch3.sourceforge.com>

Revision: 10651
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10651&view=rev
Author:   vszakats
Date:     2009-03-19 08:14:22 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 09:10 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    - Removed generation of odbc32.lib for BCC.
      You should configure BCC to include <bcc>/Lib/PSDK in
      the lib paths in bcc32.cfg and ilink32.cfg. It's not
      Harbour's job to generate it.

  - contrib/hbodbc/tests/harbour.mdb
  + contrib/hbodbc/tests/test.mdb
  * contrib/hbodbc/tests/odbcdemo.prg
  * contrib/hbodbc/tests/odbccall.prg
  * contrib/hbodbc/tests/testodbc.prg
    * Created working test table from test.dbf.
      (previous .mdb was broken)

  * contrib/hbodbc/tests/odbcdemo.prg
  * contrib/hbodbc/tests/odbccall.prg
  * contrib/hbodbc/tests/testodbc.prg
  * contrib/hbodbc/todbc.prg
  * contrib/hbodbc/browodbc.prg
  * contrib/hbodbc/sql.ch
    * Formatting.
    * Optimizations and cleanups. (could still use a lot more)
    ! Fixed to not use Alert().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/hbodbc/browodbc.prg
    trunk/harbour/contrib/hbodbc/sql.ch
    trunk/harbour/contrib/hbodbc/tests/odbccall.prg
    trunk/harbour/contrib/hbodbc/tests/odbcdemo.prg
    trunk/harbour/contrib/hbodbc/tests/testodbc.prg
    trunk/harbour/contrib/hbodbc/todbc.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbodbc/tests/test.mdb

Removed Paths:
-------------
    trunk/harbour/contrib/hbodbc/tests/harbour.mdb


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 19 04:47:45 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 04:41:28 2009
Subject: [Harbour] nasty bug: in RDDADS + scopeactive + dbskip(0)
In-Reply-To: <22587826.post@talk.nabble.com>
References: <1236532908882-2445184.post@n2.nabble.com>
	<18d502870903120300g4574e14fy27c42c2eca31705c@mail.gmail.com>
	<22587826.post@talk.nabble.com>
Message-ID: <20090319084745.GA13240@uran.home.aster.pl>

On Wed, 18 Mar 2009, Edmer wrote:

Hi,

> Is this a confirmed bug ?
> >> dbskip(0) will move the record pointer to phantom record (honoring the
> >> scope). other RDDS don't do that

It's cause by ADS behavior.

> >> #include "ads.ch"
> >> proc main()
> >> rddregister( "ADS", 1 )

Not necessary from over 5 years, please remove this line from
all you Harbour and xHarbouyr sopurce code.

> >> rddsetdefault( "ADSCDX" )
> >> set server local
> >> adslocking(  .f. )
> >> adssetfiletype(ADS_CDX)

It's not necessary if you are using ADSCDX, ADSNTX, ADT RDDs.
adssetfiletype() is used only by "ADS" RDD for backward compatibility.
As above, please remove it.

> >> adslocking(  .f. )

Repeated. Always try to no add any redundant code to examples or developers
will have to look if it's not a reason of problem.

> >> dbcreate("test.dbf",{ ;
> >> {"tick" ,"n" , 10,0} })
> >> use test via "ADSCDX" excl
> >> index on tick tag tick
> >> ordscope(0, 100)
> >> ordscope(1, 200 )
> >> ? rddname()
> >> for lop := 1 to 10
> >>        dbappend(  .t. )
> >> //refresh buffer (server's trigger populated some fields)
> >>        dbskip( 0 )

Here new record is out of scope, dbSkip(0) is redirected to AdsSkip(0)
functions which checks scopes and if record is out of the scope then
it moves records to phantom record (EOF position). It's not Clipper
compatible behavior but ADS work in such way. There are many others
incompatibilities to Clipper in ADS though this one we can try to
hide in our code if it's real problem.
It enough to comment line 1154 in ads.c:
   AdsSkip( (pArea->hOrdCurrent) ? pArea->hOrdCurrent : pArea->hTable, 0 );
Just try.

> >>        //goto recn()  //<----- this is ok
> >>        field->tick := 100 + lop

Here you are updating phantom record so nothing is written to table.

> >>        ? field->tick ,eof()
> >> next
> >> browse()   // looks like a corrupted index file , try browsing

It's not corrupted but empty. I guess because I haven't try to execute
this code.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 19 04:52:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 04:52:55 2009
Subject: [Harbour] xhb parts ported
Message-ID: <18d502870903190152n51d143d6u7d930fccdb8d0401@mail.gmail.com>

Hi All,
I've 'ported' these xhb files to the state where they compile without
warnings/errors:
xhb/hbserv.c
xhb/trpc.prg
xhb/trpccli.prg
xhb/ttable.prg

I don't know if they work. One piece is definitely missing: hbsrlraw.c,
but this file need some additional rework to avoid internals, it also
uses time support.

Should I upload current state?

Rgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/18e1692d/attachment.html
From elart at elart.it  Thu Mar 19 05:36:05 2009
From: elart at elart.it (elart)
Date: Thu Mar 19 05:36:09 2009
Subject: [Harbour] Harbour compile error
Message-ID: <ijAVIfZw.1237455365.1401520.marcobra@82.105.36.210>


I'm using

gcc -v
Using built-in specs.
Target: i486-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu
4.3.3-5ubuntu4' --with-bugurl=file:///usr/share/doc/gcc-4.3/README.Bugs
--enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr
--enable-shared --with-system-zlib --libexecdir=/usr/lib
--without-included-gettext --enable-threads=posix --enable-nls
--with-gxx-include-dir=/usr/include/c++/4.3 --program-suffix=-4.3
--enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc
--enable-mpfr --enable-targets=all --with-tune=generic
--enable-checking=release --build=i486-linux-gnu --host=i486-linux-gnu
--target=i486-linux-gnu
Thread model: posix
gcc version 4.3.3 (Ubuntu 4.3.3-5ubuntu4)

--------------------------------------------------------------
And i get the error below compiling from svn trunk
Thank you
--------------------------------------------------------------

make -C main
make[2]: ingresso nella directory ?/usr/src/harbour/harbour/source/main?
make[3]: ingresso nella directory
?/usr/src/harbour/harbour/source/main/linux/gcc?
gcc -I. -I../../../../include -Wall -W -O3    -c ../../harbour.c
-oharbour.o
gcc -Wall -W -O3 -oharbour harbour.o -L../../../../lib/linux/gcc 
-Wl,--start-group   -lhbcplr  -lhbpp  -lhbcommon -lm -lrt -ldl
-Wl,--end-group
harbour.o: In function `main':
harbour.c:(.text+0xee2): undefined reference to `hb_compMain'
collect2: ld returned 1 exit status
make[3]: *** [harbour] Errore 1
From vailtom at gmail.com  Thu Mar 19 05:53:02 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Thu Mar 19 05:53:06 2009
Subject: [Harbour] Re: Updated Instructions for Logo Display (Renato)
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA8@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C0F59789D58@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C10F1D52AA8@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <531d7a750903190253s6e59ae7o63e19db0fb678a08@mail.gmail.com>

Yes Chen! And not only that, but I'm also finishing a series of
articles and tutorials to put on the site. Already the weekend this
will be updated with new content.

Vailton Renato
From mbelgrano at deltain.it  Thu Mar 19 05:59:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 19 05:59:35 2009
Subject: [Harbour] Re: Updated Instructions for Logo Display (Renato)
In-Reply-To: <531d7a750903190253s6e59ae7o63e19db0fb678a08@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C0F59789D58@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C10F1D52AA8@Mail-yoq.SYNEL-COMPANY.LTD>
	<531d7a750903190253s6e59ae7o63e19db0fb678a08@mail.gmail.com>
Message-ID: <609353e70903190259u6c4632ehe7b6ba039bec963b@mail.gmail.com>

Good news

2009/3/19 Vailton Renato <vailtom@gmail.com>:
> Yes Chen! And not only that, but I'm also finishing a series of
> articles and tutorials to put on the site. Already the weekend this
> will be updated with new content.
>
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From clipsupp at yahoo.com.ar  Thu Mar 19 06:00:18 2009
From: clipsupp at yahoo.com.ar (Claudio G Torrillo)
Date: Thu Mar 19 06:00:35 2009
Subject: [Harbour] hbWhat construct
In-Reply-To: <18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>	<272741.71830.qm@web111013.mail.gq1.yahoo.com>
	<18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>
Message-ID: <00aa01c9a879$8388a750$8a99f5f0$@com.ar>

Sorry, but of course age does not come alone. ;)

 

>> you can build it using the GNU Make system.

 

I do not understand how to apply the GNU Make system.

 

There are some instructive? 

Could someone tell me how to do it?

 

TIA.

 

Claudio Torrillo

 

De: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] En nombre de Viktor Szak?ts
Enviado el: mi?rcoles, 18 de marzo de 2009 04:10 p.m.
Para: Harbour Project Main Developer List.
Asunto: Re: [Harbour] hbWhat construct

 

Hi Claudio,

 

I need to build the hbWhat library.

What should I do?

 

You can find it in contrib/examples/hbwhat/ and you can build 

it using the GNU Make system.

 

I need to use some functions of the Windows API, for example :

 

GETMODULEFILENAME()

 

Use hb_ProgName() instead, which is portable.

 

GetLastError()

 

This is implemented in hbwin lib.

 

Brgds,

Viktor

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/1f8a27bb/attachment.html
From harbour.01 at syenar.hu  Thu Mar 19 07:00:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 07:00:36 2009
Subject: [Harbour] hbWhat construct
In-Reply-To: <00aa01c9a879$8388a750$8a99f5f0$@com.ar>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
	<272741.71830.qm@web111013.mail.gq1.yahoo.com>
	<18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>
	<00aa01c9a879$8388a750$8a99f5f0$@com.ar>
Message-ID: <18d502870903190400x369efcfcxbc1ab1652e4f31f6@mail.gmail.com>

Hi,
Setup your Harbour build environment and issue the
'make' or 'mingw32-make' command in the hbwhat dir.

Brgds,
Viktor

On Thu, Mar 19, 2009 at 11:00 AM, Claudio G Torrillo
<clipsupp@yahoo.com.ar>wrote:

>  Sorry, but of course age does not come alone. ;)
>
>
>
> >> you can build it using the GNU Make system.
>
>
>
> I do not understand how to apply the GNU Make system.
>
>
>
> There are some instructive?
>
> Could someone tell me how to do it?
>
>
>
> TIA.
>
>
>
> Claudio Torrillo
>
>
>
> *De:* harbour-bounces@harbour-project.org [mailto:
> harbour-bounces@harbour-project.org] *En nombre de *Viktor Szak?ts
> *Enviado el:* mi?rcoles, 18 de marzo de 2009 04:10 p.m.
>
> *Para:* Harbour Project Main Developer List.
> *Asunto:* Re: [Harbour] hbWhat construct
>
>
>
> Hi Claudio,
>
>
>
>  I need to build the hbWhat library.
>
> What should I do?
>
>
>
> You can find it in contrib/examples/hbwhat/ and you can build
>
> it using the GNU Make system.
>
>
>
>   I need to use some functions of the Windows API, for example :
>
>
>
> GETMODULEFILENAME()
>
>
>
> Use hb_ProgName() instead, which is portable.
>
>
>
>   GetLastError()
>
>
>
> This is implemented in hbwin lib.
>
>
>
> Brgds,
>
> Viktor
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/aad8fb38/attachment.html
From lorenzo.fiorini at gmail.com  Thu Mar 19 07:01:58 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Mar 19 07:02:02 2009
Subject: [Harbour] hbqt can't be built under Ubuntu 8.10
Message-ID: <9257026e0903190401u57f59ad3r8aa4d919eb846e0d@mail.gmail.com>

Just few notes:

1 - include path is /usr/include/qt4
2 - #include <QtGui\QDialog> should use /
3 - ?class QDialog? has no member named
?open?	hbqt_qdialog.cpp	harbour/contrib/hbqt	line 122	C/C++ Problem
   method open is only in qt4.5

I think it's better to state that hbqt requires qt4.5.

Stable distros like RHEL, Suse Enterprise, Debian, Centos may take
time to get qt4.5.
This means that for years hbqt will remain "de facto" a GPL lib.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Mar 19 07:16:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 07:16:36 2009
Subject: [Harbour] hbqt can't be built under Ubuntu 8.10
In-Reply-To: <9257026e0903190401u57f59ad3r8aa4d919eb846e0d@mail.gmail.com>
References: <9257026e0903190401u57f59ad3r8aa4d919eb846e0d@mail.gmail.com>
Message-ID: <18d502870903190416m711cc267y3b82d667a37bfe4f@mail.gmail.com>

Thanks for the corrections.

Yes, obviously we don't want to focus on supporting older versions due the
licensing. (well, technically we could, but
it isn't worth the effort as I doubt users would use this lib for open
source development, nor do I think many would
like to buy a license).

I guess it's possible to use QT 4.5 on these Linuxes by
installing QT package downloaded from Nokia, so no need
to wait for the distro makers. (I didn't try)

If anyone knows a way how to check for QT version inside
source files, let us know.

Rgds,
Viktor

On Thu, Mar 19, 2009 at 12:01 PM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com
> wrote:

> Just few notes:
>
> 1 - include path is /usr/include/qt4
> 2 - #include <QtGui\QDialog> should use /
> 3 - ?class QDialog? has no member named
> ?open?  hbqt_qdialog.cpp        harbour/contrib/hbqt    line 122
>  C/C++ Problem
>   method open is only in qt4.5
>
> I think it's better to state that hbqt requires qt4.5.
>
> Stable distros like RHEL, Suse Enterprise, Debian, Centos may take
> time to get qt4.5.
> This means that for years hbqt will remain "de facto" a GPL lib.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/3b887670/attachment.html
From harbour.01 at syenar.hu  Thu Mar 19 07:19:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 07:19:25 2009
Subject: [Harbour] hbqt can't be built under Ubuntu 8.10
In-Reply-To: <18d502870903190416m711cc267y3b82d667a37bfe4f@mail.gmail.com>
References: <9257026e0903190401u57f59ad3r8aa4d919eb846e0d@mail.gmail.com>
	<18d502870903190416m711cc267y3b82d667a37bfe4f@mail.gmail.com>
Message-ID: <18d502870903190419l157bc237g94b7eb47a3d41522@mail.gmail.com>

Found it, don't bother.

On Thu, Mar 19, 2009 at 12:16 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Thanks for the corrections.
>
> Yes, obviously we don't want to focus on supporting older versions due the
> licensing. (well, technically we could, but
> it isn't worth the effort as I doubt users would use this  lib for open
> source development, nor do I think many would
> like to buy a license).
>
> I guess it's possible to use QT 4.5 on these Linuxes by
> installing QT package downloaded from Nokia, so no need
> to wait for the distro makers. (I didn't try)
>
> If anyone knows a way how to check for QT version inside
> source files, let us know.
>
> Rgds,
> Viktor
>
>
> On Thu, Mar 19, 2009 at 12:01 PM, Lorenzo Fiorini <
> lorenzo.fiorini@gmail.com> wrote:
>
>> Just few notes:
>>
>> 1 - include path is /usr/include/qt4
>> 2 - #include <QtGui\QDialog> should use /
>> 3 - ?class QDialog? has no member named
>> ?open?  hbqt_qdialog.cpp        harbour/contrib/hbqt    line 122
>>  C/C++ Problem
>>   method open is only in qt4.5
>>
>> I think it's better to state that hbqt requires qt4.5.
>>
>> Stable distros like RHEL, Suse Enterprise, Debian, Centos may take
>> time to get qt4.5.
>> This means that for years hbqt will remain "de facto" a GPL lib.
>>
>> best regards,
>> Lorenzo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/62667d97/attachment-0001.html
From vszakats at users.sourceforge.net  Thu Mar 19 07:28:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 07:28:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10652] trunk/harbour
Message-ID: <E1LkGQ7-0005uv-Q5@dn4whf1.ch3.sourceforge.com>

Revision: 10652
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10652&view=rev
Author:   vszakats
Date:     2009-03-19 11:28:18 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 12:27 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/xhb/Makefile
  + contrib/xhb/hbserv.h
  + contrib/xhb/hbserv.ch
  + contrib/xhb/trpccli.prg
  + contrib/xhb/hbrpc.ch
  + contrib/xhb/ttable.prg
  + contrib/xhb/trpc.prg
  + contrib/xhb/ttable.ch
  + contrib/xhb/hbserv.c
    + Added few components from xhb. They compile without warnings, 
      but I didn't try any of them.

  * contrib/hbqt/hbqt_qabstractbutton.cpp
  * contrib/hbqt/hbqt_qdialog.cpp
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/Makefile
    + Added QT_VERSION(), QT_VERSION_STR()
    + Added QT version protection.
    ! Fixed to use forward slashes in #include filenames.
    * Changed Linux include dir autodetection.
    * Changed autodetection to look for qglobal.h.

  * contrib/rddads/tests/testmg.prg
    - Removed unnecessary lines.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdialog.cpp
    trunk/harbour/contrib/rddads/tests/testmg.prg
    trunk/harbour/contrib/xhb/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/xhb/hbrpc.ch
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/contrib/xhb/hbserv.ch
    trunk/harbour/contrib/xhb/hbserv.h
    trunk/harbour/contrib/xhb/trpc.prg
    trunk/harbour/contrib/xhb/trpccli.prg
    trunk/harbour/contrib/xhb/ttable.ch
    trunk/harbour/contrib/xhb/ttable.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 19 07:59:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 07:59:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
Message-ID: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>

Revision: 10653
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10653&view=rev
Author:   vszakats
Date:     2009-03-19 11:59:40 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 12:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/rules.cf
    % Removed -ko option as it slightly decreases performance in -gc3 mode.
      (it's better in -gc[0-2] only)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 18 09:39:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 08:17:52 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA7@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA7@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>

Here is mine, just for fun :) [ BTW, Chen, you'd wonder how much faster
Harbour would be with MSVC or MinGW. ]

For sure Clipper is slower, and this can be felt when running
my real-life app. I blamed console output, but it seems it's not just
that. By dropping legacy stuff and using new Harbour techniques
(like hashes), my app startup time went from several seconds
to just instantenious. This got better and better in last half year
due to several Harbour enhancements in multiple areas.

See also an xhb test run (-gc3 ST), plus a Harbour -gc3 ST for
comparison, and also my previous posted XPP.

[ P4 2.6 HT 3GB RAM. Conditions similar to my other recent test results. ]

--- exe size: 271KB (static)
03/18/09 14:07:14 DOS 5.00
Clipper (R) 5.2e Intl. (x216)  (1995.02.07)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................1.10
====================================================================
[ T001: x := L_C ]..............................................0.11
[ T002: x := L_N ]..............................................0.16
[ T003: x := L_D ]..............................................0.11
[ T004: x := S_C ]..............................................0.11
[ T005: x := S_N ]..............................................0.16
[ T006: x := S_D ]..............................................0.11
[ T007: x := M->M_C ]...........................................0.33
[ T008: x := M->M_N ]...........................................0.33
[ T009: x := M->M_D ]...........................................0.33
[ T010: x := M->P_C ]...........................................0.32
[ T011: x := M->P_N ]...........................................0.33
[ T012: x := M->P_D ]...........................................0.33
[ T013: x := F_C ]..............................................1.48
[ T014: x := F_N ]..............................................2.52
[ T015: x := F_D ]..............................................0.87
[ T016: x := o:Args ]...........................................0.93
[ T017: x := o[2] ].............................................0.33
[ T018: round( i / 1000, 2 ) ]..................................3.84
[ T019: str( i / 1000 ) ].......................................3.85
[ T020: val( s ) ]..............................................3.02
[ T021: val( a [ i % 16 + 1 ] ) ]...............................6.20
[ T022: dtos( d - i % 10000 ) ].................................4.45
[ T023: eval( { || i % 16 } ) ].................................3.79
[ T024: eval( bc := { || i % 16 } ) ]...........................3.07
[ T025: eval( { |x| x % 16 }, i ) ].............................3.46
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................3.07
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.98
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.54
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.08
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................17.47
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............18.89
[ T032: x := valtype( x ) +  valtype( i ) ].....................2.36
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........15.60
[ T034: x := a[ i % 16 + 1 ] == s ].............................3.35
[ T035: x := a[ i % 16 + 1 ] = s ]..............................3.89
[ T036: x := a[ i % 16 + 1 ] >= s ].............................3.96
[ T037: x := a[ i % 16 + 1 ] <= s ].............................3.95
[ T038: x := a[ i % 16 + 1 ] < s ]..............................3.90
[ T039: x := a[ i % 16 + 1 ] > s ]..............................3.90
[ T040: ascan( a, i % 16 ) ]...................................11.04
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................37.29
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....9.50
[ T043: x := a ]................................................0.11
[ T044: x := {} ]...............................................0.44
[ T045: f0() ]..................................................0.49
[ T046: f1( i ) ]...............................................0.55
[ T047: f2( c[1...8] ) ]........................................0.60
[ T048: f2( c[1...40000] ) ]....................................0.55
[ T049: f2( @c[1...40000] ) ]...................................0.60
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.77
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.93
[ T052: f2( a ) ]...............................................0.55
[ T053: x := f4() ].............................................4.66
[ T054: x := f5() ].............................................0.99
[ T055: x := space(16) ]........................................0.55
[ T056: f_prv( c ) ]............................................1.42
====================================================================
[ total application time: ]...................................259.30
[ total real time: ]..........................................259.30
---

--- exe size: 962KB (static)
03/18/09 14:29:52 Windows  XP Professional 5.01.2600 Service Pack 3
xHarbour build 1.1.0 Intl. (SimpLex) (Rev. 6220) Pelles ISO C Compiler 2.70
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.17
====================================================================
[ T001: x := L_C ]..............................................0.20
[ T002: x := L_N ]..............................................0.17
[ T003: x := L_D ]..............................................0.16
[ T004: x := S_C ]..............................................0.19
[ T005: x := S_N ]..............................................0.17
[ T006: x := S_D ]..............................................0.16
[ T007: x := M->M_C ]...........................................0.19
[ T008: x := M->M_N ]...........................................0.20
[ T009: x := M->M_D ]...........................................0.17
[ T010: x := M->P_C ]...........................................0.20
[ T011: x := M->P_N ]...........................................0.17
[ T012: x := M->P_D ]...........................................0.16
[ T013: x := F_C ]..............................................0.92
[ T014: x := F_N ]..............................................0.52
[ T015: x := F_D ]..............................................0.30
[ T016: x := o:Args ]...........................................0.91
[ T017: x := o[2] ].............................................0.30
[ T018: round( i / 1000, 2 ) ]..................................0.91
[ T019: str( i / 1000 ) ].......................................2.70
[ T020: val( s ) ]..............................................1.00
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.44
[ T022: dtos( d - i % 10000 ) ].................................1.44
[ T023: eval( { || i % 16 } ) ].................................1.95
[ T024: eval( bc := { || i % 16 } ) ]...........................1.13
[ T025: eval( { |x| x % 16 }, i ) ].............................1.47
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.13
[ T027: eval( { |x| f1( x ) }, i ) ]............................2.14
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.77
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.77
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................14.89
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............16.23
[ T032: x := valtype( x ) +  valtype( i ) ].....................2.25
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.81
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.89
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.91
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.89
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.94
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.92
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.94
[ T040: ascan( a, i % 16 ) ]....................................1.14
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................12.63
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....4.33
[ T043: x := a ]................................................0.19
[ T044: x := {} ]...............................................0.64
[ T045: f0() ]..................................................0.59
[ T046: f1( i ) ]...............................................0.78
[ T047: f2( c[1...8] ) ]........................................0.73
[ T048: f2( c[1...40000] ) ]....................................0.77
[ T049: f2( @c[1...40000] ) ]...................................0.75
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.88
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.64
[ T052: f2( a ) ]...............................................0.75
[ T053: x := f4() ].............................................8.98
[ T054: x := f5() ].............................................2.09
[ T055: x := space(16) ]........................................1.41
[ T056: f_prv( c ) ]............................................2.48
====================================================================
[ total application time: ]...................................116.11
[ total real time: ]..........................................116.39
---

--- exe size: 586KB (static)
03/18/09 11:10:46 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10642) Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.02
[ T006: x := S_D ]..............................................0.02
[ T007: x := M->M_C ]...........................................0.05
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.05
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.02
[ T013: x := F_C ]..............................................0.22
[ T014: x := F_N ]..............................................0.38
[ T015: x := F_D ]..............................................0.17
[ T016: x := o:Args ]...........................................0.17
[ T017: x := o[2] ].............................................0.08
[ T018: round( i / 1000, 2 ) ]..................................0.27
[ T019: str( i / 1000 ) ].......................................0.55
[ T020: val( s ) ]..............................................0.34
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.58
[ T022: dtos( d - i % 10000 ) ].................................0.53
[ T023: eval( { || i % 16 } ) ].................................0.56
[ T024: eval( bc := { || i % 16 } ) ]...........................0.38
[ T025: eval( { |x| x % 16 }, i ) ].............................0.48
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.38
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.48
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.38
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.39
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.73
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.22
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.42
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.89
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.34
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.41
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.42
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.41
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.41
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.41
[ T040: ascan( a, i % 16 ) ]....................................0.41
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................3.92
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.95
[ T043: x := a ]................................................0.05
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.08
[ T046: f1( i ) ]...............................................0.14
[ T047: f2( c[1...8] ) ]........................................0.13
[ T048: f2( c[1...40000] ) ]....................................0.11
[ T049: f2( @c[1...40000] ) ]...................................0.13
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.16
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.39
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................1.17
[ T054: x := f5() ].............................................0.31
[ T055: x := space(16) ]........................................0.20
[ T056: f_prv( c ) ]............................................0.39
====================================================================
[ total application time: ]....................................29.81
[ total real time: ]...........................................29.98
---

--- exe size: 252KB (shared)
03/17/2009 17:34:57 Windows XP 05.01 Build 02600 Service Pack 3
Xbase++ (R) Version 1.90 (MT)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.08
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.04
[ T007: x := M->M_C ]...........................................0.24
[ T008: x := M->M_N ]...........................................0.17
[ T009: x := M->M_D ]...........................................0.18
[ T010: x := M->P_C ]...........................................0.25
[ T011: x := M->P_N ]...........................................0.19
[ T012: x := M->P_D ]...........................................0.18
[ T013: x := F_C ]..............................................0.35
[ T014: x := F_N ]..............................................0.30
[ T015: x := F_D ]..............................................0.30
[ T016: x := o:Args ]...........................................0.20
[ T017: x := o[2] ].............................................0.05
[ T018: round( i / 1000, 2 ) ]..................................1.51
[ T019: str( i / 1000 ) ].......................................9.72
[ T020: val( s ) ]..............................................0.44
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.05
[ T022: dtos( d - i % 10000 ) ].................................1.47
[ T023: eval( { || i % 16 } ) ].................................1.52
[ T024: eval( bc := { || i % 16 } ) ]...........................0.94
[ T025: eval( { |x| x % 16 }, i ) ].............................0.65
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.55
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.83
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.74
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.03
[ T030: x := &( 'f1(' + str(i) + ')' ) ].......................23.89
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]...............24.41
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.44
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........10.00
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.38
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.56
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.56
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.57
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.56
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.56
[ T040: ascan( a, i % 16 ) ]....................................0.97
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................6.82
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s,s2,a2, ]....8.89
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.44
[ T045: f0() ]..................................................0.24
[ T046: f1( i ) ]...............................................0.22
[ T047: f2( c[1...8] ) ]........................................0.26
[ T048: f2( c[1...40000] ) ]....................................0.21
[ T049: f2( @c[1...40000] ) ]...................................0.22
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.23
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.33
[ T052: f2( a ) ]...............................................0.18
[ T053: x := f4() ].............................................1.04
[ T054: x := f5() ].............................................0.62
[ T055: x := space(16) ]........................................0.36
[ T056: f_prv( c ) ]............................................0.70
====================================================================
[ total application time: ]...................................108.45
[ total real time: ]..........................................108.45
---

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090318/0eeac86e/attachment-0001.html
From M.Horodyski at pzuzycie.com.pl  Thu Mar 19 08:31:27 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Mar 19 08:31:34 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>

 

________________________________

	From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
	Sent: Wednesday, March 18, 2009 2:39 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Speedtest results
	
	
	Here is mine, just for fun :) [ BTW, Chen, you'd wonder how  
	much faster Harbour would be with MSVC or MinGW. ] 
	 

[...]

	 
	--- exe size: 586KB (static)
	03/18/09 11:10:46 Windows XP 5.1.2600 Service Pack 3
	Harbour 1.1.0dev (Rev. 10642) Microsoft Visual C++ 15.0.26569 (32-bit)
	THREADS: 0
	N_LOOPS: 1000000
	[ T000: empty loop overhead ]...................................0.05
	====================================================================
	[ T001: x := L_C ]..............................................0.03
	 

[...]

	 [ T056: f_prv( c ) ]............................................0.39
	====================================================================
	[ total application time: ]....................................29.81
	[ total real time: ]...........................................29.98

Viktor,
can you present too test with OW on this computer ?
 
Regards,
Marek Horodyski
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/12919db4/attachment.html
From harbour.01 at syenar.hu  Thu Mar 19 09:14:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 09:14:51 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
Message-ID: <18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>

Hi Marek,
Yes, I've run tests ST and MT with pocc, ow, bcc, mingw and
icc for comparison,
also included previous Clipper, xpp and xhb tests.

Get them here:
http://www.syenar.hu/harbour/winbench.zip

Machine:
P4 2.6 HT 3GB RAM. No other apps running.
Command lines:
hbmk2 speedtst.prg -gc3 -mt -ospeedtstmt
hbmk2 speedtst.prg -gc3

Ranks based on "Total app time" [sec]:
st-hb-icc      ..27.39
st-hb-msvc     ..29.88
st-hb-mingw432 ..40.08
st-hb-mingw433 ..41.91
st-hb-bcc      ..42.81
st-hb-pocc     ..42.86
mt-hb-icc      ..48.22
mt-hb-msvc     ..49.66
st-hb-ow       ..53.56
mt-hb-mingw433 ..56.94
mt-hb-mingw432 ..57.02
mt-hb-bcc      ..64.47
mt-hb-pocc     ..69.09
mt-hb-ow       ..77.03
mt-xpp         .108.45
st-xhb-xcc     .116.11
st-c52bli      .259.30

Rgds,
Viktor

2009/3/19 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

>
>
>  ------------------------------
> *From:* Viktor Szak?ts [mailto:harbour.01@syenar.hu]
> *Sent:* Wednesday, March 18, 2009 2:39 PM
> *To:* Harbour Project Main Developer List.
> *Subject:* Re: [Harbour] Speedtest results
>
> Here is mine, just for fun :) [ BTW, Chen, you'd wonder how  much faster
> Harbour would be with MSVC or MinGW. ]
>
>
> [...]
>
>
> --- exe size: 586KB (static)
>  03/18/09 11:10:46 Windows XP 5.1.2600 Service Pack 3
> Harbour 1.1.0dev (Rev. 10642) Microsoft Visual C++ 15.0.26569 (32-bit)
> THREADS: 0
> N_LOOPS: 1000000
> [ T000: empty loop overhead ]...................................0.05
> ====================================================================
> [ T001: x := L_C ]..............................................0.03
>
>
> [...]
>
>   [ T056: f_prv( c ) ]............................................0.39
> ====================================================================
> [ total application time: ]....................................29.81
> [ total real time: ]...........................................29.98
>
> Viktor,
> can you present too test with OW on this computer ?
>
> Regards,
> Marek Horodyski
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/3c729ecd/attachment.html
From mbelgrano at deltain.it  Thu Mar 19 10:02:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 19 10:02:57 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
	<18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
Message-ID: <609353e70903190702sbc66139rb72a956afda9e4c1@mail.gmail.com>

Intresting
in Multi Thread mode these are ranking (harbour vs xbase++)
Compiler	time
mt-hb-icc intel               48,22
mt-hb-msvc microsoft     49,66
mt-hb-mingw432            56,94
mt-hb-mingw432            57,02
mt-hb-bcc borland          64,47
mt-hb-ppoc pelles          69,09
mt-hb-ow watcom          77,03
mt-xpp xbase++	           108,45
	
In Single Thread mode harbour vs clipper/xharbour.com
Compiler	time
st-hb-icc intel                      27,39
st-hb-msvc microsoft           29,88
st-hb-mingw432.                 40,08
st-hb-mingw433                  41,91
st-hb-bcc borland                42,81
st-hb-pocc pelles                42,86
st-hb-ow watcom                 53,56
st-xhb-xcc xharbour com    116,11
st-c52bli clipper                   259,3


seem that harbour confirm his faster as light!

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Mar 19 10:09:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 10:09:43 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
	<18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
Message-ID: <18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>

Additional information, ranks by executable size in KB, plus some
conclusions:
st-c52bli        271
st-hb-msvc       566
mt-hb-msvc       586
st-hb-bcc        629
mt-hb-bcc        652
st-hb-pocc       669
mt-hb-pocc       695
st-hb-ow         760
mt-hb-ow         807
st-hb-icc        811
mt-hb-icc        843
st-xhb-xcc       962
st-hb-mingw432  1076
st-hb-mingw433  1100
mt-hb-mingw432  1136
mt-hb-mingw433  1160

mt-xpp           252 (shared)

For me the clear winner in all technical aspects is MSVC,
creating almost the quickest executables (probably LTCG
can enhance it a bit), and the smallest ones. It's also
gratis, supports x64, unfortunately it's not free software
and not multiplatform at all, but very-well supported by
3rd parties. Next one is MinGW, which is free, open source
and multiplatform, also very well supported, gives the best speed
amongst free tools (and the smallest MT overhead), but it
generates huge executables on Windows. ICC stays being
a curiosity because it's payware, Open Watcom performs
unfortunately poorly in all aspects, I'm not sure what benefit
can it do us for now, maybe in the future, or maybe it's possible
to tweak performance. BCC and POCC have similar middle-ground
performance, both closed-source and gratis, both with bugs
and largely missing support from 3rd parties, uncertain future.
POCC supports ARM and x64, uses standard COFF libs and
all editions are gratis (not just some old versions with weird
licensing), POCC can also generate proper .dlls, so it clearly
wins over BCC.

So my overall rank goes like this:
- MSVC
- MinGW (top rank, if being free software is important)
- POCC

Maybe owatcom, if it can be made faster, but otherwise,
it's unfortunately useless. I see no reason to deal with
BCC at all, since POCC is a better alternative.

Most of these isn't news, what's new is that POCC is a very
good replacement for BCC (if MSVC and MinGW isn't an option),
and the unfortunate results of Open Watcom.

[ Notice that Open Watcom's .dll support in Harbour is broken.
Anyone to help fixing it? ]

Rgds,
Viktor

On Thu, Mar 19, 2009 at 2:14 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi Marek,
> Yes, I've run tests ST and MT with pocc, ow, bcc, mingw and
> icc for comparison,
> also included previous Clipper, xpp and xhb tests.
>
> Get them here:
> http://www.syenar.hu/harbour/winbench.zip
>
> Machine:
> P4 2.6 HT 3GB RAM. No other apps running.
> Command lines:
> hbmk2 speedtst.prg -gc3 -mt -ospeedtstmt
> hbmk2 speedtst.prg -gc3
>
> Ranks based on "Total app time" [sec]:
> st-hb-icc      ..27.39
> st-hb-msvc     ..29.88
> st-hb-mingw432 ..40.08
> st-hb-mingw433 ..41.91
> st-hb-bcc      ..42.81
> st-hb-pocc     ..42.86
> mt-hb-icc      ..48.22
> mt-hb-msvc     ..49.66
> st-hb-ow       ..53.56
> mt-hb-mingw433 ..56.94
> mt-hb-mingw432 ..57.02
> mt-hb-bcc      ..64.47
> mt-hb-pocc     ..69.09
> mt-hb-ow       ..77.03
> mt-xpp         .108.45
> st-xhb-xcc     .116.11
> st-c52bli      .259.30
>
> Rgds,
> Viktor
>
> 2009/3/19 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>
>
>>
>>
>>  ------------------------------
>> *From:* Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>> *Sent:* Wednesday, March 18, 2009 2:39 PM
>> *To:* Harbour Project Main Developer List.
>> *Subject:* Re: [Harbour] Speedtest results
>>
>> Here is mine, just for fun :) [ BTW, Chen, you'd wonder how  much faster
>> Harbour would be with MSVC or MinGW. ]
>>
>>
>> [...]
>>
>>
>> --- exe size: 586KB (static)
>>  03/18/09 11:10:46 Windows XP 5.1.2600 Service Pack 3
>> Harbour 1.1.0dev (Rev. 10642) Microsoft Visual C++ 15.0.26569 (32-bit)
>> THREADS: 0
>> N_LOOPS: 1000000
>> [ T000: empty loop overhead ]...................................0.05
>> ====================================================================
>> [ T001: x := L_C ]..............................................0.03
>>
>>
>> [...]
>>
>>   [ T056: f_prv( c ) ]............................................0.39
>> ====================================================================
>> [ total application time: ]....................................29.81
>> [ total real time: ]...........................................29.98
>>
>> Viktor,
>> can you present too test with OW on this computer ?
>>
>> Regards,
>> Marek Horodyski
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/a9875608/attachment-0001.html
From bedipritpal at hotmail.com  Thu Mar 19 10:23:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 19 10:23:17 2009
Subject: [Harbour] hbqt.lib - How to build
In-Reply-To: <22580862.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com>
Message-ID: <22600993.post@talk.nabble.com>


Hello Viktor

I have put in batch file:

set HB_INC_QT=C:\devl\Qt\2009.01\qt\include
set HB_DIR_QT=C:\devl\Qt\2009.01\qt

But the make system does not enter contrib/hbqt.

Do I have to build it separately? If yes, what minimum 
I have to do ?

Also you have specified in <makefile>
   hbq_base.cpp
but I do not see this in SVN.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/QT-and-some-...-tp22580862p22600993.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar 19 10:30:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 10:30:12 2009
Subject: [Harbour] hbqt.lib - How to build
In-Reply-To: <22600993.post@talk.nabble.com>
References: <22580862.post@talk.nabble.com> <22600993.post@talk.nabble.com>
Message-ID: <18d502870903190730y78c6676t377d33b97ea7c4fc@mail.gmail.com>

Hi Pritpal,

I have put in batch file:
>
> set HB_INC_QT=C:\devl\Qt\2009.01\qt\include
> set HB_DIR_QT=C:\devl\Qt\2009.01\qt
>
> But the make system does not enter contrib/hbqt.


That's just generic configuration, for now only the
first line is important and hbqt is fully left out of the
default build so it won't enter automatically.

I could in fact enable it, since it won't be built anyway
unless someone has the QT environment setup.

Do I have to build it separately? If yes, what minimum
> I have to do ?


Same thing I wrote to Claudio just a few e-mails ago.

You need to setup your environment for Harbour build,
and start GNU Make in the hbqt dir. This method works
in every dirs which has a Makefile in it. It's very useful
feature.

The other method is to set this, and do a full Harbour build:
set HB_CONTRIB_ADDONS=hbqt


> Also you have specified in <makefile>
>   hbq_base.cpp
> but I do not see this in SVN.


True, sorry.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/9ab99904/attachment.html
From vszakats at users.sourceforge.net  Thu Mar 19 10:34:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 10:34:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10654] trunk/harbour
Message-ID: <E1LkJKP-0008Bx-3F@d5vjzd1.ch3.sourceforge.com>

Revision: 10654
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10654&view=rev
Author:   vszakats
Date:     2009-03-19 14:34:33 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 15:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * contrib/Makefile
    + Added QT to the mainstream build. See INSTALL how to 
      enable it. We will disable it before release if it will 
      be a build blocker.

  + contrib/hbqt/hbqt_base.cpp
    + Added missing file from previous commit.

  * utils/hbmk2/hbmk2.prg
    + Added -dflag: and -aflag: options.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_base.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From clipper5_y2d at versateladsl.be  Thu Mar 19 10:44:22 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Thu Mar 19 10:45:15 2009
Subject: [Harbour] Speedtest results
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu><18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
	<18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
Message-ID: <54517696FA644B93922324322CB303E8@ara>

Hi Viktor, 

To be concluded from your ranks is that POCC is indeed more intersting than BCC; is POCC the same as Pelles ISO C Compiler 2.70 
On their website there's only a download for version 5.00.1 - am i missing sth? 

best regards, 

frank 

----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Thursday, March 19, 2009 3:09 PM
  Subject: Re: [Harbour] Speedtest results


  Additional information, ranks by executable size in KB, plus 
  some conclusions:


  st-c52bli        271
  st-hb-msvc       566
  mt-hb-msvc       586
  st-hb-bcc        629
  mt-hb-bcc        652
  st-hb-pocc       669
  mt-hb-pocc       695
  st-hb-ow         760
  mt-hb-ow         807
  st-hb-icc        811
  mt-hb-icc        843
  st-xhb-xcc       962
  st-hb-mingw432  1076
  st-hb-mingw433  1100
  mt-hb-mingw432  1136
  mt-hb-mingw433  1160


  mt-xpp           252 (shared)


  For me the clear winner in all technical aspects is MSVC, 
  creating almost the quickest executables (probably LTCG 
  can enhance it a bit), and the smallest ones. It's also 
  gratis, supports x64, unfortunately it's not free software 
  and not multiplatform at all, but very-well supported by 
  3rd parties. Next one is MinGW, which is free, open source 
  and multiplatform, also very well supported, gives the best speed 
  amongst free tools (and the smallest MT overhead), but it 
  generates huge executables on Windows. ICC stays being 
  a curiosity because it's payware, Open Watcom performs 
  unfortunately poorly in all aspects, I'm not sure what benefit 
  can it do us for now, maybe in the future, or maybe it's possible 
  to tweak performance. BCC and POCC have similar middle-ground 
  performance, both closed-source and gratis, both with bugs 
  and largely missing support from 3rd parties, uncertain future. 
  POCC supports ARM and x64, uses standard COFF libs and 
  all editions are gratis (not just some old versions with weird 
  licensing), POCC can also generate proper .dlls, so it clearly 
  wins over BCC.


  So my overall rank goes like this:
  - MSVC
  - MinGW (top rank, if being free software is important)
  - POCC


  Maybe owatcom, if it can be made faster, but otherwise, 
  it's unfortunately useless. I see no reason to deal with 
  BCC at all, since POCC is a better alternative.


  Most of these isn't news, what's new is that POCC is a very 
  good replacement for BCC (if MSVC and MinGW isn't an option), 
  and the unfortunate results of Open Watcom.


  [ Notice that Open Watcom's .dll support in Harbour is broken.
  Anyone to help fixing it? ]


  Rgds,
  Viktor


  On Thu, Mar 19, 2009 at 2:14 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

    Hi Marek,


    Yes, I've run tests ST and MT with pocc, ow, bcc, mingw and icc for comparison, 
    also included previous Clipper, xpp and xhb tests.


    Get them here:
    http://www.syenar.hu/harbour/winbench.zip


    Machine:
    P4 2.6 HT 3GB RAM. No other apps running.
    Command lines:
    hbmk2 speedtst.prg -gc3 -mt -ospeedtstmt
    hbmk2 speedtst.prg -gc3


    Ranks based on "Total app time" [sec]:
    st-hb-icc      ..27.39
    st-hb-msvc     ..29.88
    st-hb-mingw432 ..40.08
    st-hb-mingw433 ..41.91
    st-hb-bcc      ..42.81
    st-hb-pocc     ..42.86
    mt-hb-icc      ..48.22
    mt-hb-msvc     ..49.66
    st-hb-ow       ..53.56
    mt-hb-mingw433 ..56.94
    mt-hb-mingw432 ..57.02
    mt-hb-bcc      ..64.47
    mt-hb-pocc     ..69.09
    mt-hb-ow       ..77.03
    mt-xpp         .108.45
    st-xhb-xcc     .116.11
    st-c52bli      .259.30


    Rgds,
    Viktor


    2009/3/19 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>



------------------------------------------------------------------------
        From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
        Sent: Wednesday, March 18, 2009 2:39 PM
        To: Harbour Project Main Developer List.
        Subject: Re: [Harbour] Speedtest results


        Here is mine, just for fun :) [ BTW, Chen, you'd wonder how  
        much faster Harbour would be with MSVC or MinGW. ] 

      [...]

        --- exe size: 586KB (static)
        03/18/09 11:10:46 Windows XP 5.1.2600 Service Pack 3
        Harbour 1.1.0dev (Rev. 10642) Microsoft Visual C++ 15.0.26569 (32-bit)
        THREADS: 0
        N_LOOPS: 1000000
        [ T000: empty loop overhead ]...................................0.05
        ====================================================================
        [ T001: x := L_C ]..............................................0.03

      [...]
         [ T056: f_prv( c ) ]............................................0.39
        ====================================================================
        [ total application time: ]....................................29.81
        [ total real time: ]...........................................29.98
      Viktor,
      can you present too test with OW on this computer ?

      Regards,
      Marek Horodyski



      _______________________________________________
      Harbour mailing list
      Harbour@harbour-project.org
      http://lists.harbour-project.org/mailman/listinfo/harbour








------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/3d87d1a2/attachment-0001.html
From druzus at acn.waw.pl  Thu Mar 19 10:42:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 10:49:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
Message-ID: <20090319144231.GA16694@uran.home.aster.pl>

On Thu, 19 Mar 2009, vszakats@users.sourceforge.net wrote:
> 2009-03-19 12:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * config/rules.cf
>     % Removed -ko option as it slightly decreases performance in -gc3 mode.
>       (it's better in -gc[0-2] only)

Viktor,
Please compile speedtst with -gc2 and safe (f.e. using MSVC and MINGW)
and safe your results.
Then recompile whole core Harbour code with -gc2 instead of -gc3 then
once again rebuild speedtst with -gc2 and compare results.
Use static speedtst builds only.
If possible please send the results here.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Thu Mar 19 10:57:14 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar 19 10:57:20 2009
Subject: [Harbour] hb_mouse_Col()
Message-ID: <07A88648D3E84F85B332E4E5C571B1FB@emag>

How about the function hb_mouse_Col()? I don't know what it is for but an 
italian colleague is trying to use it and get unresolved external.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Thu Mar 19 10:58:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 10:58:40 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <54517696FA644B93922324322CB303E8@ara>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
	<18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
	<18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
	<54517696FA644B93922324322CB303E8@ara>
Message-ID: <18d502870903190758u672e4f01rfdc11e6be062692@mail.gmail.com>

Hi Frank,
On Thu, Mar 19, 2009 at 3:44 PM, frank van nuffel <
clipper5_y2d@versateladsl.be> wrote:

>  To be concluded from your ranks is that POCC is indeed more intersting
> than BCC; is POCC the same as Pelles ISO C Compiler 2.70
> On their website there's only a download for version 5.00.1 - am i missing
> sth?
>

Yes, pocc is Pelles C. It has different versions, the one used
(and probably bought source/distribution licenses) by xhb is an
old version, numbered 2.70 and named xcc by xhb team, the
newest version is 5.00.1, which is a free download for everyone,
and this what I used for these tests.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/eb1b5a07/attachment.html
From lorenzo.fiorini at gmail.com  Thu Mar 19 11:04:45 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Mar 19 11:04:51 2009
Subject: [Harbour] hb_mouse_Col()
In-Reply-To: <07A88648D3E84F85B332E4E5C571B1FB@emag>
References: <07A88648D3E84F85B332E4E5C571B1FB@emag>
Message-ID: <9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com>

On Thu, Mar 19, 2009 at 3:57 PM, Enrico Maria Giordano
<e.m.giordano@emagsoftware.it> wrote:

> How about the function hb_mouse_Col()? I don't know what it is for but an
> italian colleague is trying to use it and get unresolved external.

Could it be hb_mouseCol()?

Here are the hb_mouseXYZ funcs I found:

extern HB_EXPORT BOOL       hb_mouseIsPresent( void );
extern HB_EXPORT BOOL       hb_mouseGetCursor( void );
extern HB_EXPORT void       hb_mouseSetCursor( BOOL bVisible );
extern HB_EXPORT int        hb_mouseCol( void );
extern HB_EXPORT int        hb_mouseRow( void );
extern HB_EXPORT void       hb_mouseGetPos( int * piRow, int * piCol );
extern HB_EXPORT void       hb_mouseSetPos( int iRow, int iCol );
extern HB_EXPORT void       hb_mouseSetBounds( int iTop, int iLeft,
int iBottom, int iRight );
extern HB_EXPORT void       hb_mouseGetBounds( int * piTop, int *
piLeft, int * piBottom, int * piRight );
extern HB_EXPORT int        hb_mouseStorageSize( void );
extern HB_EXPORT void       hb_mouseSaveState( BYTE * pBuffer );
extern HB_EXPORT void       hb_mouseRestoreState( BYTE * pBuffer );
extern HB_EXPORT int        hb_mouseGetDoubleClickSpeed( void );
extern HB_EXPORT void       hb_mouseSetDoubleClickSpeed( int iSpeed );
extern HB_EXPORT int        hb_mouseCountButton( void );
extern HB_EXPORT BOOL       hb_mouseButtonState( int iButton );
extern HB_EXPORT BOOL       hb_mouseButtonPressed( int iButton, int *
piRow, int * piCol );
extern HB_EXPORT BOOL       hb_mouseButtonReleased( int iButton, int *
piRow, int * piCol );
extern HB_EXPORT int        hb_mouseReadKey( int iEventMask );

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Thu Mar 19 11:08:04 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar 19 11:08:10 2009
Subject: [Harbour] Speedtest results
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu><18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
	<18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
Message-ID: <41A72CBA18DD4F908699E63F02607457@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 marzo 2009 15.09
Oggetto: Re: [Harbour] Speedtest results


> POCC can also generate proper .dlls, so it clearly
> wins over BCC.

I don't know what do you exactly mean with "proper .dlls" but I have no 
problem to make DLLs using BCC.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Thu Mar 19 11:12:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 19 11:12:31 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
	<18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
	<18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
Message-ID: <609353e70903190812j46d549d6ja73e1979de784d3@mail.gmail.com>

I propose to renato copy this post in harbour website
so it will be intresting for all harbour newbbies
2009 Speed Comparision

2009/3/19 Viktor Szak?ts <harbour.01@syenar.hu>:
> Additional information, ranks by executable size in KB,?plus
> some conclusions:
> st-c52bli ? ? ? ?271
> st-hb-msvc ? ? ? 566
> mt-hb-msvc ? ? ? 586
> st-hb-bcc ? ? ? ?629
> mt-hb-bcc ? ? ? ?652
> st-hb-pocc ? ? ? 669
> mt-hb-pocc ? ? ? 695
> st-hb-ow ? ? ? ? 760
> mt-hb-ow ? ? ? ? 807
> st-hb-icc ? ? ? ?811
> mt-hb-icc ? ? ? ?843
> st-xhb-xcc ? ? ? 962
> st-hb-mingw432 ?1076
> st-hb-mingw433 ?1100
> mt-hb-mingw432 ?1136
> mt-hb-mingw433 ?1160
> mt-xpp ? ? ? ? ? 252 (shared)
> For me the clear winner in all technical aspects is MSVC,
> creating almost the quickest executables (probably LTCG
> can enhance it a bit), and the smallest ones. It's also
> gratis, supports x64, unfortunately it's not free software
> and not multiplatform at all, but very-well supported by
> 3rd parties.?Next one is MinGW,?which is?free, open source
> and multiplatform, also very well supported,?gives the best speed
> amongst free tools (and the smallest MT overhead), but it
> generates huge executables on Windows.?ICC stays being
> a curiosity?because it's?payware, Open Watcom performs
> unfortunately?poorly in all aspects, I'm not sure what benefit
> can it do us?for now,?maybe?in the future, or maybe it's possible
> to tweak performance.?BCC and POCC have similar middle-ground
> performance,?both?closed-source and gratis, both with?bugs
> and largely?missing support from 3rd parties, uncertain future.
> POCC?supports ARM and x64, uses standard COFF libs and
> all editions?are gratis (not just?some old versions with weird
> licensing), POCC can?also generate proper?.dlls, so it clearly
> wins?over?BCC.
> So my overall rank goes like this:
> - MSVC
> - MinGW (top rank, if being free software is important)
> - POCC
> Maybe owatcom, if it can be made faster, but otherwise,
> it's unfortunately useless. I see no reason to deal with
> BCC at all,?since POCC is a better alternative.
> Most of these isn't news, what's new is that POCC is a very
> good replacement for BCC (if MSVC and MinGW isn't an option),
> and the unfortunate results of?Open Watcom.
> [ Notice that Open Watcom's .dll support in Harbour is broken.
> Anyone to help fixing it? ]
> Rgds,
> Viktor
> On Thu, Mar 19, 2009 at 2:14 PM, Viktor Szak?ts <harbour.01@syenar.hu>
> wrote:
>>
>> Hi Marek,
>> Yes, I've run tests ST and MT with pocc, ow, bcc, mingw and
>> icc?for?comparison,
>> also included previous Clipper, xpp and xhb tests.
>> Get them here:
>> http://www.syenar.hu/harbour/winbench.zip
>> Machine:
>> P4 2.6 HT 3GB RAM. No other apps running.
>> Command lines:
>> hbmk2 speedtst.prg -gc3 -mt -ospeedtstmt
>> hbmk2 speedtst.prg -gc3
>> Ranks based on "Total app time" [sec]:
>> st-hb-icc ? ? ?..27.39
>> st-hb-msvc ? ? ..29.88
>> st-hb-mingw432 ..40.08
>> st-hb-mingw433 ..41.91
>> st-hb-bcc ? ? ?..42.81
>> st-hb-pocc ? ? ..42.86
>> mt-hb-icc ? ? ?..48.22
>> mt-hb-msvc ? ? ..49.66
>> st-hb-ow ? ? ? ..53.56
>> mt-hb-mingw433 ..56.94
>> mt-hb-mingw432 ..57.02
>> mt-hb-bcc ? ? ?..64.47
>> mt-hb-pocc ? ? ..69.09
>> mt-hb-ow ? ? ? ..77.03
>> mt-xpp ? ? ? ? .108.45
>> st-xhb-xcc ? ? .116.11
>> st-c52bli ? ? ?.259.30
>> Rgds,
>> Viktor
>> 2009/3/19 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>
>>>
>>>
>>>
>>> ________________________________
>>> From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>>> Sent: Wednesday, March 18, 2009 2:39 PM
>>> To: Harbour Project Main Developer List.
>>> Subject: Re: [Harbour] Speedtest results
>>>
>>> Here is mine, just for fun :) [ BTW, Chen, you'd wonder how
>>> much faster Harbour would be with MSVC or MinGW. ]
>>>
>>>
>>> [...]
>>>
>>>
>>> --- exe size: 586KB (static)
>>> 03/18/09 11:10:46 Windows XP 5.1.2600 Service Pack 3
>>> Harbour 1.1.0dev (Rev. 10642) Microsoft Visual C++ 15.0.26569 (32-bit)
>>> THREADS: 0
>>> N_LOOPS: 1000000
>>> [ T000: empty loop overhead ]...................................0.05
>>> ====================================================================
>>> [ T001: x := L_C ]..............................................0.03
>>>
>>>
>>> [...]
>>>
>>> ?[ T056: f_prv( c ) ]............................................0.39
>>> ====================================================================
>>> [ total application time: ]....................................29.81
>>> [ total real time: ]...........................................29.98
>>>
>>> Viktor,
>>> can you present too test with OW on this computer ?
>>>
>>> Regards,
>>> Marek Horodyski
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From clipper5_y2d at versateladsl.be  Thu Mar 19 11:11:43 2009
From: clipper5_y2d at versateladsl.be (frank van nuffel)
Date: Thu Mar 19 11:12:38 2009
Subject: [Harbour] Speedtest results
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu><18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com><18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com><54517696FA644B93922324322CB303E8@ara>
	<18d502870903190758u672e4f01rfdc11e6be062692@mail.gmail.com>
Message-ID: <0261609796244C4880C740839FF73A7F@ara>

Thank you, Viktor, for confirming 

btw, my ISP account will expire within a few days, and i will unsubscribe from the Harbour list, for perhaps a year or longer, to remain offline; meanwhile i wish everyone here even more success with the results that are now already excellent; 

take care and all the best, 

frank 

  ----- Original Message ----- 
  From: Viktor Szak?ts 
  To: Harbour Project Main Developer List. 
  Sent: Thursday, March 19, 2009 3:58 PM
  Subject: Re: [Harbour] Speedtest results


  Hi Frank,


  On Thu, Mar 19, 2009 at 3:44 PM, frank van nuffel <clipper5_y2d@versateladsl.be> wrote:

    To be concluded from your ranks is that POCC is indeed more intersting than BCC; is POCC the same as Pelles ISO C Compiler 2.70
    On their website there's only a download for version 5.00.1 - am i missing sth?


  Yes, pocc is Pelles C. It has different versions, the one used 
  (and probably bought source/distribution licenses) by xhb is an 
  old version, numbered 2.70 and named xcc by xhb team, the 
  newest version is 5.00.1, which is a free download for everyone, 
  and this what I used for these tests.


  Brgds,
  Viktor




------------------------------------------------------------------------------


  _______________________________________________
  Harbour mailing list
  Harbour@harbour-project.org
  http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/ca2c1a22/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar 19 11:15:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 11:15:53 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <41A72CBA18DD4F908699E63F02607457@emag>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
	<18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
	<18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
	<41A72CBA18DD4F908699E63F02607457@emag>
Message-ID: <18d502870903190815i788a9cb3v6f21a01910553acf@mail.gmail.com>

>
> POCC can also generate proper .dlls, so it clearly
>> wins over BCC.
>>
>
> I don't know what do you exactly mean with "proper .dlls" but I have no
> problem to make DLLs using BCC.


Proper means exported symbols don't have a Borland proprietary
underscore prepended to them.

If you stay inside the Borland world and master implib with or
without -a switch you're safe (with surprises from time to time).
Otherwise it's a problem.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/d07c6aa8/attachment.html
From harbour.01 at syenar.hu  Thu Mar 19 11:17:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 11:17:20 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <0261609796244C4880C740839FF73A7F@ara>
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu>
	<18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com>
	<18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com>
	<54517696FA644B93922324322CB303E8@ara>
	<18d502870903190758u672e4f01rfdc11e6be062692@mail.gmail.com>
	<0261609796244C4880C740839FF73A7F@ara>
Message-ID: <18d502870903190817p22c9fd29ua7aa8ad400cbf2fa@mail.gmail.com>

>
> btw, my ISP account will expire within a few days, and i will unsubscribe
> from the Harbour list, for perhaps a year or longer, to remain offline;
> meanwhile i wish everyone here even more success with the results that are
> now
>

I envy you :)


> already excellent;
>
take care and all the best,
>

I hope to see you back soon. Wishing you a very nice offline time.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/14dc68b5/attachment.html
From vouchcac at users.sourceforge.net  Thu Mar 19 11:18:05 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 19 11:18:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10655] trunk/harbour
Message-ID: <E1LkK0T-0005Zz-VO@3kljzd1.ch3.sourceforge.com>

Revision: 10655
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10655&view=rev
Author:   vouchcac
Date:     2009-03-19 15:18:05 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 08:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbqt/hbqt.h
  * harbour/contrib/hbqt/hbqt_qdialog.cpp
  * harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
  + harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
  + harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
  + harbour/contrib/hbqt/hbqt_qwidget.cpp
    ! Formatting and new additions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdialog.cpp

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwidget.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Thu Mar 19 11:19:44 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar 19 11:19:52 2009
Subject: [Harbour] hb_mouse_Col()
In-Reply-To: <9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com>
References: <07A88648D3E84F85B332E4E5C571B1FB@emag>
	<9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com>
Message-ID: <49C26290.4060508@fsgiudice.com>

Hi,

or could it be MCol() as from CA Clipper 5.3 and as defined in
harbour/source/rtl/mouse53.c ?

Other mouse functions are:
MPRESENT
MHIDE
MSHOW
MSETCURSOR
MROW
MSETPOS
MLEFTDOWN
MRIGHTDOWN
MDBLCLK
MSAVESTATE
MRESTSTATE
MSETBOUNDS
HB_MMIDDLEDOWN

Obviously they are redirected to below harbour function list.

Best regards,
Francesco


Il 19/03/2009 16.04, Lorenzo Fiorini ha scritto:
> On Thu, Mar 19, 2009 at 3:57 PM, Enrico Maria Giordano
> <e.m.giordano@emagsoftware.it> wrote:
> 
>> How about the function hb_mouse_Col()? I don't know what it is for but an
>> italian colleague is trying to use it and get unresolved external.
> 
> Could it be hb_mouseCol()?
> 
> Here are the hb_mouseXYZ funcs I found:
> 
> extern HB_EXPORT BOOL       hb_mouseIsPresent( void );
> extern HB_EXPORT BOOL       hb_mouseGetCursor( void );
> extern HB_EXPORT void       hb_mouseSetCursor( BOOL bVisible );
> extern HB_EXPORT int        hb_mouseCol( void );
> extern HB_EXPORT int        hb_mouseRow( void );
> extern HB_EXPORT void       hb_mouseGetPos( int * piRow, int * piCol );
> extern HB_EXPORT void       hb_mouseSetPos( int iRow, int iCol );
> extern HB_EXPORT void       hb_mouseSetBounds( int iTop, int iLeft,
> int iBottom, int iRight );
> extern HB_EXPORT void       hb_mouseGetBounds( int * piTop, int *
> piLeft, int * piBottom, int * piRight );
> extern HB_EXPORT int        hb_mouseStorageSize( void );
> extern HB_EXPORT void       hb_mouseSaveState( BYTE * pBuffer );
> extern HB_EXPORT void       hb_mouseRestoreState( BYTE * pBuffer );
> extern HB_EXPORT int        hb_mouseGetDoubleClickSpeed( void );
> extern HB_EXPORT void       hb_mouseSetDoubleClickSpeed( int iSpeed );
> extern HB_EXPORT int        hb_mouseCountButton( void );
> extern HB_EXPORT BOOL       hb_mouseButtonState( int iButton );
> extern HB_EXPORT BOOL       hb_mouseButtonPressed( int iButton, int *
> piRow, int * piCol );
> extern HB_EXPORT BOOL       hb_mouseButtonReleased( int iButton, int *
> piRow, int * piCol );
> extern HB_EXPORT int        hb_mouseReadKey( int iEventMask );
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From e.m.giordano at emagsoftware.it  Thu Mar 19 11:22:45 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar 19 11:22:51 2009
Subject: [Harbour] Speedtest results
References: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com><FFAFD6EA63A3FC4784FBDA52BE7A7C9502067332@PINK.zycie.pzu><18d502870903190614v637870cak739db8e89f4c59aa@mail.gmail.com><18d502870903190709r6346a1b3jd534f42c3827dbff@mail.gmail.com><41A72CBA18DD4F908699E63F02607457@emag>
	<18d502870903190815i788a9cb3v6f21a01910553acf@mail.gmail.com>
Message-ID: <D6DF85A9476343CC807B47AC3E73429B@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 marzo 2009 16.15
Oggetto: Re: [Harbour] Speedtest results


> Proper means exported symbols don't have a Borland proprietary
> underscore prepended to them.
>
> If you stay inside the Borland world and master implib with or
> without -a switch you're safe (with surprises from time to time).
> Otherwise it's a problem.

Ok, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Thu Mar 19 11:29:02 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar 19 11:29:08 2009
Subject: [Harbour] hb_mouse_Col()
References: <07A88648D3E84F85B332E4E5C571B1FB@emag>
	<9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com>
Message-ID: <AED1FFBDAD574FBEAA372963502BCA47@emag>


-----Messaggio Originale----- 
Da: "Lorenzo Fiorini" <lorenzo.fiorini@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 marzo 2009 16.04
Oggetto: Re: [Harbour] hb_mouse_Col()


> Could it be hb_mouseCol()?

Most likely, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lorenzo.fiorini at gmail.com  Thu Mar 19 11:31:53 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Mar 19 11:31:58 2009
Subject: [Harbour] hb_mouse_Col()
In-Reply-To: <AED1FFBDAD574FBEAA372963502BCA47@emag>
References: <07A88648D3E84F85B332E4E5C571B1FB@emag>
	<9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com>
	<AED1FFBDAD574FBEAA372963502BCA47@emag>
Message-ID: <9257026e0903190831t38970dbend688b5bcc9fb9f9@mail.gmail.com>

On Thu, Mar 19, 2009 at 4:29 PM, Enrico Maria Giordano
<e.m.giordano@emagsoftware.it> wrote:

> Most likely, thank you.

I've also found this:

2007-12-07 10:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtcore.h
  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtapi.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/mouseapi.c
    - removed hb_gt_*(), hb_inkey_*(), hb_mouse_*() functions
    + implemented HB_GTSELF_*() functions and changed HB_GTSUPER_*()
      ones to operate on GT context passed ad 1-st parameter.
      Now GT API allows to create many GTs working simultaneously
    + added hb_gt_Base() core function which returns GT context
      it will be extended soon to allow using many GT contexts,
      setting thread default one or switch between them using some
      .prg function.

so maybe that function existed in the past.

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Thu Mar 19 11:39:46 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar 19 11:39:51 2009
Subject: [Harbour] hb_mouse_Col()
References: <07A88648D3E84F85B332E4E5C571B1FB@emag><9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com>
	<49C26290.4060508@fsgiudice.com>
Message-ID: <293E173D136B42EEBE15D2823431D094@emag>


-----Messaggio Originale----- 
Da: "Francesco Saverio Giudice" <info@fsgiudice.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 marzo 2009 16.19
Oggetto: Re: [Harbour] hb_mouse_Col()


> Hi,
>
> or could it be MCol() as from CA Clipper 5.3 and as defined in
> harbour/source/rtl/mouse53.c ?

No, I'm starting to think that he mixed old and new libraries.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Thu Mar 19 11:41:32 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Mar 19 11:41:37 2009
Subject: [Harbour] hb_mouse_Col()
References: <07A88648D3E84F85B332E4E5C571B1FB@emag><9257026e0903190804i3dc00024v81cbe550fa8b612@mail.gmail.com><AED1FFBDAD574FBEAA372963502BCA47@emag>
	<9257026e0903190831t38970dbend688b5bcc9fb9f9@mail.gmail.com>
Message-ID: <DB2D0833693249C2A18F9895050A9B50@emag>


-----Messaggio Originale----- 
Da: "Lorenzo Fiorini" <lorenzo.fiorini@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: gioved? 19 marzo 2009 16.31
Oggetto: Re: [Harbour] hb_mouse_Col()


> I've also found this:

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vouchcac at users.sourceforge.net  Thu Mar 19 12:20:04 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Mar 19 12:20:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10656]
	trunk/harbour/contrib/hbqt/hbqt.h
Message-ID: <E1LkKyS-0002RS-W2@d5vjzd1.ch3.sourceforge.com>

Revision: 10656
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10656&view=rev
Author:   vouchcac
Date:     2009-03-19 16:20:04 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 09:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbqt/hbqt.h
    ! Fix to last commit.

Modified Paths:
--------------
    trunk/harbour/contrib/hbqt/hbqt.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Mar 19 12:43:18 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 19 12:43:22 2009
Subject: [Harbour] Compile Error
Message-ID: <22603984.post@talk.nabble.com>


Hi

C:\harbour\source\vm\maindllp>if not exist ..\..\..\lib\win\msvc\. md
..\..\..\lib\win\msvc 
make.exe[4]: Entering directory `C:/harbour/source/vm/maindllp/win/msvc'
cl.exe -nologo -W4 -wd4127 -Gs -I. -I../../../../../include -TP -Ot2b1
-EHs-c- -MT   -DHB_DYNLIB  -c ../../../maindllp.c -Fomaindllp.obj
maindllp.c
../../../maindllp.c(112) : error C2059: syntax error :
'__declspec(dllexport)'
make.exe[4]: *** [maindllp.obj] Error 2


It was clean install build

May be some params are changed I am unable to recall.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Compile-Error-tp22603984p22603984.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Mar 19 13:04:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 19 13:04:40 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA7@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
Message-ID: <609353e70903191004rd2a26ebg57ba452f641ad62d@mail.gmail.com>

How using hashes or other technique you have the smallest startup
times with harbour compiled app?
Probably do you use msvc as compiler because it generate smallest and
fastest executable

2009/3/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> Here is mine, just for fun :) [ BTW, Chen, you'd wonder how
> much faster Harbour would be with MSVC or MinGW. ]
> For sure Clipper is slower, and this can be felt when running
> my real-life app. I blamed console output, but it seems?it's not just
> that. By dropping legacy stuff and using new Harbour?techniques
> (like hashes), my app startup time went from several?seconds
> to just instantenious. This got better and better in last half year
> due to several Harbour enhancements in multiple areas.
> See also an xhb test run (-gc3 ST), plus a Harbour -gc3 ST for
> comparison, and also my previous posted XPP.

-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Thu Mar 19 13:08:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 13:08:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10657] trunk/harbour
Message-ID: <E1LkLja-00070j-V3@dn4whf1.ch3.sourceforge.com>

Revision: 10657
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10657&view=rev
Author:   vszakats
Date:     2009-03-19 17:08:33 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 18:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/vm/maindll.c
  * source/vm/maindllp.c
    ! Fixed placement of HB_EXPORT in declaration.

  * contrib/hbmysql/tmysql.prg
    * Reformatting (heavy). Minor optimizations along the way. Pls test.
    ! S&R typo fixed.
    + Added lFormat parameter to FieldDec() method.
      Submitted by Mitja Podgornik.

  * contrib/xhb/Makefile
  + contrib/xhb/fparse.c
    + Added part from xhb RTL.
      (pls review changed PHB_ITEM usage)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/source/vm/maindll.c
    trunk/harbour/source/vm/maindllp.c

Added Paths:
-----------
    trunk/harbour/contrib/xhb/fparse.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mario at argoninformatica.com.br  Thu Mar 19 13:08:56 2009
From: mario at argoninformatica.com.br (Mario Simoes Filho)
Date: Thu Mar 19 13:09:16 2009
Subject: [Harbour] Re: TIMESTAMP/DATETIME conversions
In-Reply-To: <20090316121949.GA32462@uran.home.aster.pl>
References: <20090316121949.GA32462@uran.home.aster.pl>
Message-ID: <gptu79$qk5$1@ger.gmane.org>

Hi Przemyslaw Czerpak

I would like to make a suggestion for the function dTOc (), a second 
parameter with the output format, something like this:
? dtoc (date (), "MM-DD-YYYY)
? dtoc (date (), "MM-YYYY)
? dtoc (date (), "YYYY-DD)

I did this on xHarbour, follows the source:

#pragma BEGINDUMP
#include <ctype.h>
#include "hbapi.h"
#include "hbapierr.h"
#include "hbapiitm.h"
#include "hbset.h"
#include "hbdate.h"

HB_FUNC(  DTOC )
{
    if( ISDATE( 1 ) )
    {
       char szDate[9];
       char szFormatted[ 11 ];
       hb_retc( hb_dateFormat( hb_pardsbuff( szDate, 1 ), szFormatted, 
(ISCHAR(2)?hb_parcx(2):hb_set.HB_SET_DATEFORMAT) ) );
    }
     else
     {
        hb_errRT_BASE_SubstR( EG_ARG, 1118, NULL, "DTOC", 1, 
hb_paramError( 1 ) );
     }
  }

#pragma ENDDUMP





Przemyslaw Czerpak escreveu:
> Hi All,
> 
> I would like to ask VFP users to give me an information about some
> timestamp/datetime transformations in this language.
> I'm interesting in existing functions transform pictures, etc.
> I'm ready to commit timestamp support to HVM but I do not want
> to reinvent the wheel and create corresponding functions which
> will return different results then in other xbase languages.
> In longer terms such differences creates serious problems, f.e.
> when you try to share tables and indexes.
> xHarbour has set of functions to operate on timestamp values but
> I do not know if they exactly replicates VFP results. I'm interesting
> mostly on functions like:
>    TTOS()
>    TTOC()
>    CTOS()
>    CTOT()
>    <other functions which operates on timestamp/datetime values>
> f.e. what is the results of this code:
>    proc main()
>       ? TTOS( {^ 2009/03/31 11:34:56.123 PM } )
>       ? TTOC( {^ 2009/03/31 11:34:56.123 PM } )
>    return
> 
> I'm also interesting also in picture modifiers which are used for
> timestamp/datetime values in TRANSFORM() function and GET system.
> Of course if any exists.
> 
> If someone has some knowledge about timestamp/datetime type conversions
> in other xbase languages then I would like to hear about them too.
> 
> I hope that you can help. Otherwise I will have to make some arbitrary
> decisions myself.
> 
> best regards,
> Przemek

From harbour.01 at syenar.hu  Thu Mar 19 13:12:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 13:12:57 2009
Subject: [Harbour] Speedtest results
In-Reply-To: <609353e70903191004rd2a26ebg57ba452f641ad62d@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10F1D52AA7@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903180639u6ad102afpdf9cdd76ac679d0b@mail.gmail.com>
	<609353e70903191004rd2a26ebg57ba452f641ad62d@mail.gmail.com>
Message-ID: <18d502870903191012q6534aaf2n12a182a74cb0b02b@mail.gmail.com>

>
> How using hashes or other technique you have the smallest startup
> times with harbour compiled app?
> Probably do you use msvc as compiler because it generate smallest and
> fastest executable


Yes, I'm using MSVC on Windows, with MinGW as a backup.

The other question is very generic and really falls out of scope
of this mailing list to discuss the hundreds of changes that can
be made from Clipper to Harbour to run things more efficiently.
Not only for startup time of course.

Hashes in particular can search more quickly than AScan() or
even sorted array manual search methods.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/943be053/attachment.html
From druzus at acn.waw.pl  Thu Mar 19 13:27:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 13:21:08 2009
Subject: [Harbour] Re: TIMESTAMP/DATETIME conversions
In-Reply-To: <gptu79$qk5$1@ger.gmane.org>
References: <20090316121949.GA32462@uran.home.aster.pl>
	<gptu79$qk5$1@ger.gmane.org>
Message-ID: <20090319172726.GA26332@uran.home.aster.pl>

On Thu, 19 Mar 2009, Mario Simoes Filho wrote:

Hi,

> I would like to make a suggestion for the function dTOc (), a second 
> parameter with the output format, something like this:
> ? dtoc (date (), "MM-DD-YYYY)
> ? dtoc (date (), "MM-YYYY)
> ? dtoc (date (), "YYYY-DD)

I already added such parameters to HB_DTOC() and HB_TTOC() with
other timestamp modifications.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Mar 19 13:32:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 13:26:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10657] trunk/harbour
In-Reply-To: <E1LkLja-00070j-V3@dn4whf1.ch3.sourceforge.com>
References: <E1LkLja-00070j-V3@dn4whf1.ch3.sourceforge.com>
Message-ID: <20090319173226.GB26332@uran.home.aster.pl>

On Thu, 19 Mar 2009, vszakats@users.sourceforge.net wrote:

Hi,

> -----------
> 2009-03-19 18:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * source/vm/maindll.c
>   * source/vm/maindllp.c
>     ! Fixed placement of HB_EXPORT in declaration.

Which compiler needs separate declaration for DllEntryPoint()
with HB_EXPORT flag?
Maybe we can simply remove it?

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 19 13:29:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 13:29:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10657] trunk/harbour
In-Reply-To: <20090319173226.GB26332@uran.home.aster.pl>
References: <E1LkLja-00070j-V3@dn4whf1.ch3.sourceforge.com>
	<20090319173226.GB26332@uran.home.aster.pl>
Message-ID: <18d502870903191029l4a0fa8ack50b5d3174badb92f@mail.gmail.com>

I've added it for one of them... maybe it was ICC, or MSVC, otherwise it
warned that the entry point won't be exported.

Brgds,
Viktor

On Thu, Mar 19, 2009 at 6:32 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 19 Mar 2009, vszakats@users.sourceforge.net wrote:
>
> Hi,
>
> > -----------
> > 2009-03-19 18:06 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> >   * source/vm/maindll.c
> >   * source/vm/maindllp.c
> >     ! Fixed placement of HB_EXPORT in declaration.
>
> Which compiler needs separate declaration for DllEntryPoint()
> with HB_EXPORT flag?
> Maybe we can simply remove it?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/4f983e24/attachment.html
From druzus at acn.waw.pl  Thu Mar 19 13:49:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 13:43:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10657] trunk/harbour
In-Reply-To: <18d502870903191029l4a0fa8ack50b5d3174badb92f@mail.gmail.com>
References: <E1LkLja-00070j-V3@dn4whf1.ch3.sourceforge.com>
	<20090319173226.GB26332@uran.home.aster.pl>
	<18d502870903191029l4a0fa8ack50b5d3174badb92f@mail.gmail.com>
Message-ID: <20090319174930.GA32712@uran.home.aster.pl>

On Thu, 19 Mar 2009, Szak?ts Viktor wrote:
> I've added it for one of them... maybe it was ICC, or MSVC, otherwise it
> warned that the entry point won't be exported.

OK. Only one note:

   BOOL HB_EXPORT WINAPI DllEntryPoint( HINSTANCE hInstance, DWORD fdwReason, PVOID pvReserved );

always add HB_EXPORT before return type otherwise you may have
unexpected behavior, f.e.:

MYTYPE HBEXPORT func( void );

can be compiled if MYTYPE is defined as:
   typdef char * MYTYPE
but if you make:
   #define MYTYPE char *
then some compiler refuse compilation because they do not accept export
function attribute after * in return type.

So this should be changed to:

   HB_EXPORT BOOL WINAPI DllEntryPoint( HINSTANCE hInstance, DWORD fdwReason, PVOID pvReserved );

AFAIK it's the only one portable method which will not cause some
wrong results when different compilers are used.
And if possible please check if setting attribute directly in function is
not enough in this case.
In summary it's exception.

HB_EXPORT BOOL WINAPI DllEntryPoint( HINSTANCE hInstance, DWORD fdwReason, PVOID pvReserved )
{
   ...
}

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 19 14:11:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 14:11:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10657] trunk/harbour
In-Reply-To: <20090319174930.GA32712@uran.home.aster.pl>
References: <E1LkLja-00070j-V3@dn4whf1.ch3.sourceforge.com>
	<20090319173226.GB26332@uran.home.aster.pl>
	<18d502870903191029l4a0fa8ack50b5d3174badb92f@mail.gmail.com>
	<20090319174930.GA32712@uran.home.aster.pl>
Message-ID: <18d502870903191111j52f8c660k3f14862cc06b8752@mail.gmail.com>

Thanks for your notes.
I'll move HB_EXPORT to the beginning of declaration.

Truth is that I totally forgot which scenario and which
compiler was the complaining one, so I cannot test
if HB_EXPORT is enough in the definition. I remember
the warning said that a 'declaration' was missing, so
that's what I did.

I hope someone can jump in for these .dll things, as
it's still a grey area for me. My last thought, but I
didn't continue experimenting, was that pcode .dlls
will need different liblist in hbmk2 in order to succeed.
But the whole thing is trial and error for me.

Rdgs,
Viktor

On Thu, Mar 19, 2009 at 6:49 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 19 Mar 2009, Szak?ts Viktor wrote:
> > I've added it for one of them... maybe it was ICC, or MSVC, otherwise it
> > warned that the entry point won't be exported.
>
> OK. Only one note:
>
>   BOOL HB_EXPORT WINAPI DllEntryPoint( HINSTANCE hInstance, DWORD
> fdwReason, PVOID pvReserved );
>
> always add HB_EXPORT before return type otherwise you may have
> unexpected behavior, f.e.:
>
> MYTYPE HBEXPORT func( void );
>
> can be compiled if MYTYPE is defined as:
>   typdef char * MYTYPE
> but if you make:
>   #define MYTYPE char *
> then some compiler refuse compilation because they do not accept export
> function attribute after * in return type.
>
> So this should be changed to:
>
>   HB_EXPORT BOOL WINAPI DllEntryPoint( HINSTANCE hInstance, DWORD
> fdwReason, PVOID pvReserved );
>
> AFAIK it's the only one portable method which will not cause some
> wrong results when different compilers are used.
> And if possible please check if setting attribute directly in function is
> not enough in this case.
> In summary it's exception.
>
> HB_EXPORT BOOL WINAPI DllEntryPoint( HINSTANCE hInstance, DWORD fdwReason,
> PVOID pvReserved )
> {
>   ...
> }
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/3362ba61/attachment.html
From vszakats at users.sourceforge.net  Thu Mar 19 14:13:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 14:13:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10658] trunk/harbour
Message-ID: <E1LkMkK-0005Zr-CO@d5vjzd1.ch3.sourceforge.com>

Revision: 10658
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10658&view=rev
Author:   vszakats
Date:     2009-03-19 18:13:33 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 19:05 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * source/vm/maindll.c
  * source/vm/maindllp.c
    ! HB_EXPORT moved to beginning of declaration.

  * contrib/hbmysql/tmysql.prg
  * contrib/hbmysql/tsqlbrw.prg
    * More formatting.

  * xhb/Makefile
  * xhb/hbcompat.ch
  + xhb/xhbis.c
  + xhb/xhbscr.c
  + xhb/xhbat.c
  + xhb/txtline.c
  + xhb/dumpvar.prg
    + Added xhb remaining stuff:
      ISALNUM()
      ISSPACE()
      ISXDIGIT()
      ISCNTRL()
      ISGRAPH()
      ISPRINT()
      ISPUNCT()
      ISASCII()
      SCROLLFIXED()
      ATSKIPSTRINGS()
      HB_TABEXPAND()
      HB_READLINE()
      __OutDebug()
      HB_DumpVar()
      HBCONSOLELOCK() (emulation, might be wrong)
      HBCONSOLEUNLOCK() (emulation, might be wrong)
    ; Please review, my only goal was to make them compile.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/hbmysql/tsqlbrw.prg
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/source/vm/maindll.c
    trunk/harbour/source/vm/maindllp.c

Added Paths:
-----------
    trunk/harbour/contrib/xhb/dumpvar.prg
    trunk/harbour/contrib/xhb/txtline.c
    trunk/harbour/contrib/xhb/xhbat.c
    trunk/harbour/contrib/xhb/xhbis.c
    trunk/harbour/contrib/xhb/xhbscr.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 19 14:50:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 14:50:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10659] trunk/harbour
Message-ID: <E1LkNJu-0001CZ-0k@dn4whf1.ch3.sourceforge.com>

Revision: 10659
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10659&view=rev
Author:   vszakats
Date:     2009-03-19 18:50:21 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 19:49 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * xhb/Makefile
  * xhb/dumpvar.prg
  + xhb/decode.prg
    + Added HB_DECODE().
    * Syntax adapted for Harbour.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xhb/dumpvar.prg

Added Paths:
-----------
    trunk/harbour/contrib/xhb/decode.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 19 15:38:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 15:38:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10660] trunk/harbour
Message-ID: <E1LkO40-0007zr-Rm@d5vjzd1.ch3.sourceforge.com>

Revision: 10660
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10660&view=rev
Author:   vszakats
Date:     2009-03-19 19:37:56 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-19 20:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/xhb/Makefile
  + contrib/xhb/stream.prg
  + contrib/xhb/traceprg.prg
  + contrib/xhb/xhberr.prg
  * contrib/xhb/xhbfunc.c
    + More ports: HB_CMDARGARGV(), HB_VMMODE(), TRACELOG(), Stream classes,
      xhb errorsys (activate by calling xhb_ErrorSys())

  * contrib/xhb/fparse.c
  * contrib/xhb/dumpvar.prg
  * contrib/xhb/xhbat.c
  * contrib/xhb/ttable.prg
  * contrib/xhb/txtline.c
    * Fixes/cleanups to previous ports.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xhb/dumpvar.prg
    trunk/harbour/contrib/xhb/fparse.c
    trunk/harbour/contrib/xhb/ttable.prg
    trunk/harbour/contrib/xhb/txtline.c
    trunk/harbour/contrib/xhb/xhbat.c
    trunk/harbour/contrib/xhb/xhbfunc.c

Added Paths:
-----------
    trunk/harbour/contrib/xhb/stream.prg
    trunk/harbour/contrib/xhb/traceprg.prg
    trunk/harbour/contrib/xhb/xhberr.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 19 15:51:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 15:51:26 2009
Subject: [Harbour] hbWhat construct
In-Reply-To: <18d502870903190400x369efcfcxbc1ab1652e4f31f6@mail.gmail.com>
References: <609353e70903180925k571b3003h53c4106147fb8c9e@mail.gmail.com>
	<18d502870903180936j200cf296q5ef763fb8fb489b5@mail.gmail.com>
	<609353e70903180952t14bcfef4l9a335d150ba08e1d@mail.gmail.com>
	<272741.71830.qm@web111013.mail.gq1.yahoo.com>
	<18d502870903181209g7dfa5cafkb43685a097d04e61@mail.gmail.com>
	<00aa01c9a879$8388a750$8a99f5f0$@com.ar>
	<18d502870903190400x369efcfcxbc1ab1652e4f31f6@mail.gmail.com>
Message-ID: <18d502870903191251q33049d06w565e575e3c060052@mail.gmail.com>

Hi Claudio,
BTW, we can copy lighter functions from hbwhat to
hbwin (which is Harbour's official Windows lib), just
post the functions you'd need.

Brgds,
Viktor

On Thu, Mar 19, 2009 at 12:00 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi,
> Setup your Harbour build environment and issue the
> 'make' or 'mingw32-make' command in the hbwhat dir.
>
> Brgds,
> Viktor
>
> On Thu, Mar 19, 2009 at 11:00 AM, Claudio G Torrillo <
> clipsupp@yahoo.com.ar> wrote:
>
>>  Sorry, but of course age does not come alone. ;)
>>
>>
>>
>> >> you can build it using the GNU Make system.
>>
>>
>>
>> I do not understand how to apply the GNU Make system.
>>
>>
>>
>> There are some instructive?
>>
>> Could someone tell me how to do it?
>>
>>
>>
>> TIA.
>>
>>
>>
>> Claudio Torrillo
>>
>>
>>
>> *De:* harbour-bounces@harbour-project.org [mailto:
>> harbour-bounces@harbour-project.org] *En nombre de *Viktor Szak?ts
>> *Enviado el:* mi?rcoles, 18 de marzo de 2009 04:10 p.m.
>>
>> *Para:* Harbour Project Main Developer List.
>> *Asunto:* Re: [Harbour] hbWhat construct
>>
>>
>>
>> Hi Claudio,
>>
>>
>>
>>  I need to build the hbWhat library.
>>
>> What should I do?
>>
>>
>>
>> You can find it in contrib/examples/hbwhat/ and you can build
>>
>> it using the GNU Make system.
>>
>>
>>
>>   I need to use some functions of the Windows API, for example :
>>
>>
>>
>> GETMODULEFILENAME()
>>
>>
>>
>> Use hb_ProgName() instead, which is portable.
>>
>>
>>
>>   GetLastError()
>>
>>
>>
>> This is implemented in hbwin lib.
>>
>>
>>
>> Brgds,
>>
>> Viktor
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/c25bb4dd/attachment.html
From harbour.01 at syenar.hu  Thu Mar 19 18:50:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 18:50:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <20090319144231.GA16694@uran.home.aster.pl>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
Message-ID: <18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: winbenchgc2.zip
Type: application/zip
Size: 5336 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090319/b9b87dc9/winbenchgc2-0001.zip
From druzus at acn.waw.pl  Thu Mar 19 19:34:56 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 19:28:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
	<18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
Message-ID: <20090319233456.GA17878@uran.home.aster.pl>

On Thu, 19 Mar 2009, Szak?ts Viktor wrote:

Hi Viktor,

> Attached the -gc2 results. Notice that the results aren't
> suited for -ko comparison as I've used different revisions.
> I hope this wasn't your goal. If it was I can redo -gc3
> tests with current build (-ko disabled).

Thank you very much for test but I asked about reverted test. I want to
compare harbour-gc2 + speedtst-gc2 with harbour-gc3 + speedtst-gc2.
Can you send also harbour-gc3 + speedtst-gc2.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 19 19:36:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 19:36:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <20090319233456.GA17878@uran.home.aster.pl>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
	<18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
	<20090319233456.GA17878@uran.home.aster.pl>
Message-ID: <18d502870903191636w1fa382bbnacd3e4c197710c70@mail.gmail.com>

>
> > Attached the -gc2 results. Notice that the results aren't
> > suited for -ko comparison as I've used different revisions.
> > I hope this wasn't your goal. If it was I can redo -gc3
> > tests with current build (-ko disabled).
>
> Thank you very much for test but I asked about reverted test. I want to
> compare harbour-gc2 + speedtst-gc2 with harbour-gc3 + speedtst-gc2.
> Can you send also harbour-gc3 + speedtst-gc2.


Sorry, I didn't explain the filenames:

Harbour -gc3 + speedtst -gc2 (yesterday's builds):
   st-hb-icc-gc2.txt
   st-hb-msvc-gc2.txt
   st-hb-mingw433-gc2.txt
Harbour -gc2 + speedtst -gc2 (recent builds):
   st-hb-msvc-gc2-gc2.txt
   st-hb-mingw433-gc2-gc2.txt

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090320/53bb3995/attachment.html
From vszakats at users.sourceforge.net  Thu Mar 19 19:42:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 19 19:42:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10661] trunk/harbour
Message-ID: <E1LkRsu-0002Sd-Mt@c3vjzd1.ch3.sourceforge.com>

Revision: 10661
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10661&view=rev
Author:   vszakats
Date:     2009-03-19 23:42:42 +0000 (Thu, 19 Mar 2009)

Log Message:
-----------
2009-03-20 00:41 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + contrib/xhb/inet.h
    + Added from xhb.

  * contrib/xhb/xhbfunc.c
    + Added HB_POINTER2STRING() and HB_STRING2POINTER().
      Just for the record, I've commented them, as they're both
      very dangerous and violating basic programming rules.

  * contrib/hbwin/win_prn2.c
    + Added XISPRINTER() from xhb.
    % Optimizations / cleanups in Windows spaghetti code.
      Would need a complete 'refactor'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/xhb/xhbfunc.c

Added Paths:
-----------
    trunk/harbour/contrib/xhb/inet.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 19 20:24:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 20:17:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <18d502870903191636w1fa382bbnacd3e4c197710c70@mail.gmail.com>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
	<18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
	<20090319233456.GA17878@uran.home.aster.pl>
	<18d502870903191636w1fa382bbnacd3e4c197710c70@mail.gmail.com>
Message-ID: <20090320002401.GA19412@uran.home.aster.pl>

On Fri, 20 Mar 2009, Szak?ts Viktor wrote:
> > Thank you very much for test but I asked about reverted test. I want to
> > compare harbour-gc2 + speedtst-gc2 with harbour-gc3 + speedtst-gc2.
> > Can you send also harbour-gc3 + speedtst-gc2.
> Sorry, I didn't explain the filenames:
> Harbour -gc3 + speedtst -gc2 (yesterday's builds):
>    st-hb-icc-gc2.txt
>    st-hb-msvc-gc2.txt
>    st-hb-mingw433-gc2.txt
> Harbour -gc2 + speedtst -gc2 (recent builds):
>    st-hb-msvc-gc2-gc2.txt
>    st-hb-mingw433-gc2-gc2.txt

Viktor, 2-3 degrees difference in room temperature has noticeable speed
overhead for modern computers and I do not joke. It's documented by CPU
producers. Test should be done in as close period of time as possible
or repeated many times in long periods to well catch average results.

I can believe in many different things but I do not belive that:

03/19/09 23:05:24 Windows XP 5.1.2600 Service Pack 3
Harbour-gc2+speedtst-gc2 gives:
[ T000: empty loop overhead ]...................................0.06

Harbour-gc3+speedtst-gc2 gives:
03/19/09 23:45:50 Windows XP 5.1.2600 Service Pack 3
[ T000: empty loop overhead ]...................................0.11

:-)

The 1-st one for sure in not yesterday's builds and for sure speedtst
was not compiled with -gc2 but with -gc3 in this test.

No offence but I think that in similar way you found that -ko
gives slower code what is technically impossible because it only
reduce the code a little bit by stripping some dummy expressions
or replacing:
   <exp> 
   1
   plus
with:
   <exp> 
   inc

Anyhow now I would like to should you sth funny what can help you
in the future in checking the results.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 19 20:53:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 20:53:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <20090320002401.GA19412@uran.home.aster.pl>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
	<18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
	<20090319233456.GA17878@uran.home.aster.pl>
	<18d502870903191636w1fa382bbnacd3e4c197710c70@mail.gmail.com>
	<20090320002401.GA19412@uran.home.aster.pl>
Message-ID: <18d502870903191753i67f2ff4do7a914d0b9f90a9d6@mail.gmail.com>

>
> > Sorry, I didn't explain the filenames:
> > Harbour -gc3 + speedtst -gc2 (yesterday's builds):
> >    st-hb-icc-gc2.txt
> >    st-hb-msvc-gc2.txt
> >    st-hb-mingw433-gc2.txt
> > Harbour -gc2 + speedtst -gc2 (recent builds):
> >    st-hb-msvc-gc2-gc2.txt
> >    st-hb-mingw433-gc2-gc2.txt
>
> Viktor, 2-3 degrees difference in room temperature has noticeable speed
> overhead for modern computers and I do not joke. It's documented by CPU
> producers. Test should be done in as close period of time as possible
> or repeated many times in long periods to well catch average results.


In recent days I always did a reference measurement
using a known combination. I did it now too, and it stayed
well within the second threshold, it was in fact almost
identical (I used MSVC -gc3 ST mode). My environment
was pretty static in the last few days (both ambient and
inside the computer), I've always shut down all processes and
apps while running the tests, there was no network activity
and I didn't touch the mouse/keyboard. These values are
all repeatable.


> I can believe in many different things but I do not belive that:
>
> 03/19/09 23:05:24 Windows XP 5.1.2600 Service Pack 3
> Harbour-gc2+speedtst-gc2 gives:
> [ T000: empty loop overhead ]...................................0.06
>
> Harbour-gc3+speedtst-gc2 gives:
> 03/19/09 23:45:50 Windows XP 5.1.2600 Service Pack 3
> [ T000: empty loop overhead ]...................................0.11
>
> :-)


In fact it's not funny.

In this specific test (and only this one, it was the last one),
I was impatient and run the test while the last part of the
build process (zip.exe) didn't end yet. And you spotted it.
So I've rerun this test, see it at the end of this mail. Don't
discredit the rest of the results though, they were all run
in clean idle states.

The 1-st one for sure in not yesterday's builds and for sure speedtst
> was not compiled with -gc2 but with -gc3 in this test.


Are you talking about st-hb-icc-gc2.txt ?

It *is* a -gc3 default build I did on 2008-03-18, and
speedtst was compiled with -gc2 command.
I can send you the .exe if you don't believe me.

No offence but I think that in similar way you found that -ko
> gives slower code what is technically impossible because it only
> reduce the code a little bit by stripping some dummy expressions
> or replacing:
>   <exp>
>   1
>   plus
> with:
>   <exp>
>   inc


In -gc3 the only difference is a parameter passed
in normal mode and no parameter in -ko mode
passed to a different hb_xvm*() function. That
different function looks more heavy than the other,
that might explain. The difference is marginal, but
repeatable on my system. In -gc3 there is no
change in number of HVM calls made in -ko
and non--ko modes.

Specifically:
-ko mode:
if( hb_xvmDec() ) break;
default mode:
if( hb_xvmAddInt( -1 ) ) break;


> Anyhow now I would like to should you sth funny what can help you
> in the future in checking the results.


Sorry, I didn't get this :/

Finally the repeated "st-hb-mingw433-gc2-gc2.txt" result:
---
03/20/09 01:39:22 Windows XP 5.1.2600 Service Pack 3
Harbour 1.1.0dev (Rev. 10660) MinGW GNU C 4.3.3 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................0.11
[ T002: x := L_N ]..............................................0.05
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.09
[ T005: x := S_N ]..............................................0.05
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.08
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.09
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.05
[ T013: x := F_C ]..............................................0.20
[ T014: x := F_N ]..............................................0.38
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.25
[ T017: x := o[2] ].............................................0.17
[ T018: round( i / 1000, 2 ) ]..................................0.66
[ T019: str( i / 1000 ) ].......................................2.98
[ T020: val( s ) ]..............................................0.47
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.78
[ T022: dtos( d - i % 10000 ) ].................................0.66
[ T023: eval( { || i % 16 } ) ].................................0.84
[ T024: eval( bc := { || i % 16 } ) ]...........................0.39
[ T025: eval( { |x| x % 16 }, i ) ].............................0.52
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.41
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.63
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.55
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.55
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................4.53
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................5.27
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.58
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.31
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.55
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.56
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.55
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.55
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.56
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.56
[ T040: ascan( a, i % 16 ) ]....................................0.53
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................4.50
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.28
[ T043: x := a ]................................................0.11
[ T044: x := {} ]...............................................0.22
[ T045: f0() ]..................................................0.19
[ T046: f1( i ) ]...............................................0.23
[ T047: f2( c[1...8] ) ]........................................0.25
[ T048: f2( c[1...40000] ) ]....................................0.27
[ T049: f2( @c[1...40000] ) ]...................................0.25
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.36
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.66
[ T052: f2( a ) ]...............................................0.25
[ T053: x := f4() ].............................................1.28
[ T054: x := f5() ].............................................0.45
[ T055: x := space(16) ]........................................0.30
[ T056: f_prv( c ) ]............................................0.64
====================================================================
[ total application time: ]....................................42.77
[ total real time: ]...........................................43.01
---

Rgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090320/6eee2cc4/attachment-0001.html
From druzus at acn.waw.pl  Thu Mar 19 22:04:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 19 21:58:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <18d502870903191753i67f2ff4do7a914d0b9f90a9d6@mail.gmail.com>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
	<18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
	<20090319233456.GA17878@uran.home.aster.pl>
	<18d502870903191636w1fa382bbnacd3e4c197710c70@mail.gmail.com>
	<20090320002401.GA19412@uran.home.aster.pl>
	<18d502870903191753i67f2ff4do7a914d0b9f90a9d6@mail.gmail.com>
Message-ID: <20090320020454.GA12566@uran.home.aster.pl>

On Fri, 20 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > I can believe in many different things but I do not belive that:
> > 03/19/09 23:05:24 Windows XP 5.1.2600 Service Pack 3
> > Harbour-gc2+speedtst-gc2 gives:
> > [ T000: empty loop overhead ]...................................0.06
> > Harbour-gc3+speedtst-gc2 gives:
> > 03/19/09 23:45:50 Windows XP 5.1.2600 Service Pack 3
> > [ T000: empty loop overhead ]...................................0.11
> > :-)
> In fact it's not funny.
> 
> In this specific test (and only this one, it was the last one),
> I was impatient and run the test while the last part of the
> build process (zip.exe) didn't end yet. And you spotted it.
> So I've rerun this test, see it at the end of this mail. Don't
> discredit the rest of the results though, they were all run
> in clean idle states.

If the above is true then it discards all your results :-(
because your Windows calculated this second .zip process as
the speedtst time:
   [ total application time: ]....................................49.13
   [ total real time: ]...........................................49.45
The application time and real time are nearly identical. Such overhead
by other process should create huge difference between both times
and real time should be noticeable bigger.

> The 1-st one for sure in not yesterday's builds and for sure speedtst
> > was not compiled with -gc2 but with -gc3 in this test.
> Are you talking about st-hb-icc-gc2.txt ?

No, see times above. They come from MinGW builds.

> It *is* a -gc3 default build I did on 2008-03-18, and
> speedtst was compiled with -gc2 command.
> I can send you the .exe if you don't believe me.

You do not have to I see results :-)

> In -gc3 the only difference is a parameter passed
> in normal mode and no parameter in -ko mode
> passed to a different hb_xvm*() function. That
> different function looks more heavy than the other,
> that might explain. The difference is marginal, but
> repeatable on my system. In -gc3 there is no
> change in number of HVM calls made in -ko
> and non--ko modes.

You are talking about INC only so please look the body
of hb_vmInc() and hb_vmAddInt() and check if this parameter
is the only difference and it explains the difference.

> Specifically:
> -ko mode:
> if( hb_xvmDec() ) break;
> default mode:
> if( hb_xvmAddInt( -1 ) ) break;

Yes it is and look at this functions.
But this is only one modification in generated code which
should increase the speed.
-ko makes also other modifications, f.e. compare the code for:
   proc main()
   local x := 20
      ? x + 10 + 15 + 30 * 5 + 40 + 7
   return

> > Anyhow now I would like to should you sth funny what can help you
> > in the future in checking the results.
> Sorry, I didn't get this :/
> Finally the repeated "st-hb-mingw433-gc2-gc2.txt" result:

Thank you.

You are the 1-st on this list (and also xHarbour list) who does not
report small speed reduction when Harbour code code is compiled with
-gc3 and speedtst with -gc2. All other users reported small speed
overhead 1-2% in comparison to core code compiled with -gc2.
It is visible in both -gc3 and -gc2 compilations:
   timeof( harbour-gc2 + speedtst-gc2 ) < timeof( harbour-gc3 + speedtst-gc2 )
and:
   timeof( harbour-gc2 + speedtst-gc3 ) < timeof( harbour-gc2 + speedtst-gc3 )

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 19 22:24:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 19 22:24:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10653] trunk/harbour
In-Reply-To: <20090320020454.GA12566@uran.home.aster.pl>
References: <E1LkGuW-0006Uv-DU@dn4whf1.ch3.sourceforge.com>
	<20090319144231.GA16694@uran.home.aster.pl>
	<18d502870903191550i420354b5w1db815be1e279fad@mail.gmail.com>
	<20090319233456.GA17878@uran.home.aster.pl>
	<18d502870903191636w1fa382bbnacd3e4c197710c70@mail.gmail.com>
	<20090320002401.GA19412@uran.home.aster.pl>
	<18d502870903191753i67f2ff4do7a914d0b9f90a9d6@mail.gmail.com>
	<20090320020454.GA12566@uran.home.aster.pl>
Message-ID: <18d502870903191924nfd4550er431b35208ede1e21@mail.gmail.com>

>
> > In this specific test (and only this one, it was the last one),
> > I was impatient and run the test while the last part of the
> > build process (zip.exe) didn't end yet. And you spotted it.
> > So I've rerun this test, see it at the end of this mail. Don't
> > discredit the rest of the results though, they were all run
> > in clean idle states.
>
> If the above is true then it discards all your results :-(


Why?? I did this mistake only when testing this _one and
only_ combination.


> > speedtst was compiled with -gc2 command.
> > I can send you the .exe if you don't believe me.
>
> You do not have to I see results :-)


What you're trying to say, that I'm lying?

I can send you the .exes, but as far as I can see it from
here, the whole purpose of you asking me results is to make
a fool of me and discredit all my tests.

You are the 1-st on this list (and also xHarbour list) who does not
> report small speed reduction when Harbour code code is compiled with
> -gc3 and speedtst with -gc2. All other users reported small speed
> overhead 1-2% in comparison to core code compiled with -gc2.
> It is visible in both -gc3 and -gc2 compilations:
>   timeof( harbour-gc2 + speedtst-gc2 ) < timeof( harbour-gc3 + speedtst-gc2
> )
> and:
>   timeof( harbour-gc2 + speedtst-gc3 ) < timeof( harbour-gc2 + speedtst-gc3
> )


Yes, I inventing these numbers to entertain the list and myself.
I'm inventing them consistently for all compilers and all combinations,
just to mislead you. Then I'd like to ask the group to send similar
tests, because I've never ever seen any such comparison on
Harbour list.

As for -gc3 I can even *see* the difference visually in my own app.
It's clearly apparent with any larger TBrowse() object, no need
to really measure it.

I promise I won't ever send you any benchmark results in the
future, it's very time consuming and at the end is always
you ridiculing me in various ways. Very frustrating.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090320/3475cb2a/attachment.html
From harbour.01 at syenar.hu  Fri Mar 20 05:37:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 20 05:37:45 2009
Subject: [Harbour] More winbenches with details
Message-ID: <18d502870903200237s1df67c1bt57e3743b07b7885@mail.gmail.com>

Hi,
I've linked in test results with more info in them, and all batches
used in the process:
- CPU info dump from WMI
- Tasklist before and after test runs
- Complete dump of commands executed, hbmk2 output
- Dir listing of tested .exes
- Using r10643 where -ko was the default switch (it was turned off in
r10653)
- Unchanged: PC was left alone while running tests.
- All tests repeated three times
- Ordering ensures that CPU cannot "learn" any of the tests, since
  different scenarios are run after each other.

Test #1: Comparing -gc2 vs. -gc3 for speedtst in ST and MT modes.
Test #2: Comparing -ko vs. non -ko modes in -gc2 vs. -gc3 speedtsts in ST
mode.

Command lines run from Far Manager command prompt, in
C:\harbour-msvc-gc3\bin directory:
> test#1-hbbench.bat > test#1-results.txt 2>&1
> test#2-hbbench.bat > test#2-results.txt 2>&1

Link:
http://www.syenar.hu/harbour/winbench2.zip

Please challenge the measuring methodology (and I'll try
to further enhance it), also try to run it on your own system
(even with other Harbour builds / compilers), and post the
results here. In the end we can even include such batch
files under /tests directory.

Rgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090320/df6b2131/attachment.html
From dbtopas at dbtopas.lt  Fri Mar 20 08:42:29 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Mar 20 08:44:26 2009
Subject: [Harbour] More winbenches with details
In-Reply-To: <18d502870903200237s1df67c1bt57e3743b07b7885@mail.gmail.com>
References: <18d502870903200237s1df67c1bt57e3743b07b7885@mail.gmail.com>
Message-ID: <49C38F35.3090808@dbtopas.lt>

Viktor Szak?ts wrote:
> Test #1: Comparing -gc2 vs. -gc3 for speedtst in ST and MT modes.
> Test #2: Comparing -ko vs. non -ko modes in -gc2 vs. -gc3 speedtsts in 
> ST mode.
> 
> Command lines run from Far Manager command prompt, in 
> C:\harbour-msvc-gc3\bin directory:
>  > test#1-hbbench.bat > test#1-results.txt 2>&1
>  > test#2-hbbench.bat > test#2-results.txt 2>&1
> 
> Link:
> http://www.syenar.hu/harbour/winbench2.zip
> 
> Please challenge the measuring methodology (and I'll try 
> to further enhance it), also try to run it on your own system 
> (even with other Harbour builds / compilers), and post the 
> results here. In the end we can even include such batch 
> files under /tests directory.


Hi,


it seems, the only significant execution speed difference in gc3 mode is 
in T030 test. It's related to macro compiler. It is natural, that macro 
compiler speed is decreased, if -ko makes additional optimisation in 
macro compiler is done (but this is a subject to be checked!!!, I guess 
.prg compilation switch should not change macro compiler behaviour). 
Though, it is a little strange execution test T031 is not affected by 
-ko. Macro-compiled expressions are very similar.

N_LOOPS: 1000000                                          df    ko
[ T000: empty loop overhead ]............................0.03 .0.03
============================================================= =====
[ T001: x := L_C ].......................................0.05 .0.05
...
[ T030: x := &( "f1(" + str(i) + ")" ) ].................3.78 .6.14
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ].........4.25 .4.31
...
============================================================= =====
[ total application time: ].............................29.86 32.13
[ total real time: ]....................................29.92 32.19


Regards,
Mindaugas

From abe.buch at att.net  Fri Mar 20 11:07:10 2009
From: abe.buch at att.net (AbeB)
Date: Fri Mar 20 11:07:16 2009
Subject: [Harbour] Library not found: C:\Harbour\Dev\lib\hbmaindllh.lib
Message-ID: <1237561630893-2509367.post@n2.nabble.com>


Making .dlls for bcc...
Processing library: hbcommon
Processing library: hbpp
Processing library: hbrtl
Processing library: hbmacro
Processing library: hblang
Processing library: hbcpage
Processing library: hbpcre
Processing library: hbzlib
Processing library: hbextern
Processing library: hbrdd
Processing library: rddntx
Processing library: rddnsx
Processing library: rddcdx
Processing library: rddfpt
Processing library: hbsix
Processing library: hbhsx
Processing library: hbusrrdd
Processing library: gtcgi
Processing library: gtpca
Processing library: gtstd
Processing library: gtwin
Processing library: gtwvt
Processing library: gtgui
Library not found: C:\Harbour\Dev\lib\hbmaindllh.lib 
Processing library: hbvm
Processing library: hbvmmt
Making harbour-11-bcc.dll... 
Making harbourmt-11-bcc.dll... 
-- 
View this message in context: http://n2.nabble.com/Library-not-found%3A-C%3A%5CHarbour%5CDev%5Clib%5Chbmaindllh.lib-tp2509367p2509367.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Mar 20 12:38:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 20 12:38:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10662] trunk/harbour
Message-ID: <E1Lkhjd-0008Uv-CE@3kljzd1.ch3.sourceforge.com>

Revision: 10662
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10662&view=rev
Author:   vszakats
Date:     2009-03-20 16:38:16 +0000 (Fri, 20 Mar 2009)

Log Message:
-----------
2009-03-20 17:33 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * tests/bnchmark
  + tests/bnchmark/bnch_win.bat
    + Added speedtst comparison tool, featuring:
      - CPU + physical memory info dump from WMI
      - Tasklist before and after test runs
      - Harbour /build info included in output
      - Complete dump of commands executed, hbmk2 output
      - Dir listing of tested .exes
      - All tests repeated three times by default (configurable)
      - 8 slots maximum to compare different speedtst scenarios
      - By default it will run -st vs. -mt tests.
    ; Please read the comments in the file for usage instructions.
      Here's an example for parameter setup:
      --
      set PATH=C:\devl\MinGW-432\bin;%PATH%
      set HB_BENCH_RUNS=3
      set HB_RUN_FLAGS=--exclude=030
      set HB_CMP_FLAGS_1=-gc2
      set HB_CMP_FLAGS_2=-gc3
      call bnch_win.bat > results.txt 2>&1
      --

  * config/rules.cf
    + Restored -ko flag. Thanks Mindaugas for analysing test result.

  * contrib/hbodbc/todbc.prg
  * contrib/hbodbc/odbc.c
    * Formatting + minor cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.cf
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbodbc/todbc.prg

Added Paths:
-----------
    trunk/harbour/tests/bnchmark/
    trunk/harbour/tests/bnchmark/bnch_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From xharbour at telkom.net.id  Sat Mar 21 02:01:11 2009
From: xharbour at telkom.net.id (Andi Jahja)
Date: Sat Mar 21 02:01:26 2009
Subject: [Harbour] More winbenches with details
In-Reply-To: <49C38F35.3090808@dbtopas.lt>
References: <18d502870903200237s1df67c1bt57e3743b07b7885@mail.gmail.com>
	<49C38F35.3090808@dbtopas.lt>
Message-ID: <20090321125629.D488.422BA498@telkom.net.id>

> N_LOOPS: 1000000                                          df    ko
> [ T000: empty loop overhead ]............................0.03 .0.03
> ============================================================= =====
> [ T001: x := L_C ].......................................0.05 .0.05
> ...
> [ T030: x := &( "f1(" + str(i) + ")" ) ].................3.78 .6.14
> [ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ].........4.25 .4.31
> ...
> ============================================================= =====
> [ total application time: ].............................29.86 32.13
> [ total real time: ]....................................29.92 32.19

IMO, the speedtst is just a waste of time in real world, sorry.
For example, the overall diff between df and ko of about 2 seconds for
1000000 loop, means 0.000002 sec per loop should be unnoticable in real
application.

I believe there must be some more proper basis for benchmarking (of an
application). Sometimes, they vary from one to another. Cross-compiling
frequently takes great roles in optimizing an application.

One of my app uses Blade MP3 Encoder which can be found on:
http://home.swipnet.se/~w-82625/default.htm.
The encoding process is noticable slow when I compiled the encoder with
MSVC 2008, eventhough speedtst compiled with MSVC 2008 is the fastest one.
Same slowness was also  demonstrated by ICC, not to mention BCC or OW.
Unexpectedly, I compiled the encoder with GCC in DLL-format...and
kabooom !! ... I found that the module works 8 to 10 times faster than
if I compiled it with non-GCC.

My conclusion is, an experiment in using more than one C compiler in
building an application, is worth enough to achive a real speed.
--
Andi

From vszakats at users.sourceforge.net  Sat Mar 21 05:23:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 21 05:23:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10663] trunk/harbour
Message-ID: <E1LkxQT-0004ap-8J@d5vjzd1.ch3.sourceforge.com>

Revision: 10663
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10663&view=rev
Author:   vszakats
Date:     2009-03-21 09:23:32 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 10:17 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * tests/bnchmark/bnch_win.bat
    + Added option to override benchmark program name, so now
      it can be used with customized speedtst versions or other
      benchmark apps.
    + Added HB_CMP_FLAGS envvar to define common compilation flags.
    + Now echoing all benchmark settings to output.

  * config/win/icc.cf
    + Added -nologo.
    * Changed -W4 to -W3, as -W3 is really verbose in this compiler.

  * INSTALL
  * bin/hb-mkdyn.bat
  * utils/hbmk2/hbmk2.prg
  + config/win/iccia64.cf
    + Added Intel(R) C++ Compiler IA64 support.
      All Harbour libs (including contribs) compiled successfully,
      but I couldn't try linking any executables.
    ; TODO: Add processor information to appropriate places into
            Harbour. Currently we have only bit width and endianness,
            but no actual CPU family info. CPU instruction families
            Harbour can currently be built on out of the box:
            x86, amd64, IA64, PPC, PPC64, ARM.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/win/icc.cf
    trunk/harbour/tests/bnchmark/bnch_win.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/iccia64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar 21 05:38:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 21 05:39:08 2009
Subject: [Harbour] More winbenches with details
In-Reply-To: <20090321125629.D488.422BA498@telkom.net.id>
References: <18d502870903200237s1df67c1bt57e3743b07b7885@mail.gmail.com>
	<49C38F35.3090808@dbtopas.lt>
	<20090321125629.D488.422BA498@telkom.net.id>
Message-ID: <18d502870903210238v4503854dye03414031e610153@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: mingw-msvc-stmt-gc3-for-comparison.zip
Type: application/zip
Size: 12092 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090321/20749b92/mingw-msvc-stmt-gc3-for-comparison-0001.zip
From vszakats at users.sourceforge.net  Sat Mar 21 08:22:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 21 08:23:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10664] trunk/harbour
Message-ID: <E1Ll0E4-0000Fj-EE@d5vjzd1.ch3.sourceforge.com>

Revision: 10664
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10664&view=rev
Author:   vszakats
Date:     2009-03-21 12:22:55 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 13:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/mingwce.cf
  * config/win/cygwin.cf
  * config/win/mingw.cf
    + Added -fomit-frame-pointer switch for win/gcc family.
      It causes quite a huge improvement in all areas, bringing
      MinGW very close to MSVC and even faster in many aspects.
      Some FP operations are still slower a bit, and this seems
      to be the only remaining - small - disadvantage.
      For C level debugging this switch should be turned off AFAIK.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 21 09:26:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 21 09:26:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10665] trunk/harbour
Message-ID: <E1Ll1Dm-0001kl-LE@d5vjzd1.ch3.sourceforge.com>

Revision: 10665
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10665&view=rev
Author:   vszakats
Date:     2009-03-21 13:26:41 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 14:23 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  + config/win/mingw64.cf
  * config/win/mingw.cf
    + Added support for mingw64. MinGW 64-bit mode.
      Harbour doesn't build yet due to some compiling errors
      (plus some internal MinGW ones to be investigated).
    ; TODO: Add support in postinst.sh.

  * source/vm/extrap.c
    * win32 -> win.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/win/mingw64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 21 10:07:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 21 10:07:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10666] trunk/harbour
Message-ID: <E1Ll1rC-0006f6-Mc@c3vjzd1.ch3.sourceforge.com>

Revision: 10666
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10666&view=rev
Author:   vszakats
Date:     2009-03-21 14:07:25 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 15:02 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/owatcom.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
    * Changed Harbour to uniformly link against ws2_32 winsock
      lib on Windows. Previous we've been using a mixture of
      ws2_32 and wsock32, sometimes both. For some platforms
      one of these libs is automatically included by linker,
      f.e. for bcc, wsock32 is used.
    ! This fixes wsock32 no longer available for mingw64.
    ; These platforms should be retested if this causes any
      problems, but ws2_32 should be available for all since long.

  * utils/hbmk2/hbmk2.prg
    ! Typo in prev commit.

  * source/vm/maindllp.c
  * source/vm/extrap.c
    ! Fixed for mingw64.
    ! Fixed warning for mingw64.
      ; TODO: Check for possible regression.

  * contrib/hbodbc/odbc.c
    ! Fixed mingw64 warning.
    ; TODO: Check for possible regression.

    ; TOFIX: (3rd party dependent contribs not yet included)
      Errors/Core:
      Temp/ccVJXjZS.s: Assembler messages:
      Temp/ccVJXjZS.s:19: Error: Incorrect register `%rax' used with `l' suffix
      Temp/ccVJXjZS.s:20: Error: `0x0e10(%rax,%ecx,4)' is not a valid base/index expression
      Temp/ccVJXjZS.s:36: Error: Incorrect register `%rax' used with `l' suffix
      Temp/ccVJXjZS.s:37: Error: `0x0e10(%rax,%ecx,4)' is not a valid base/index expression
      + GTWVG (also lots of warning)

      Warnings/Core:
      ../../hbprintf.c: In function 'hb_snprintf':
      ../../hbprintf.c:1067: warning: implicit declaration of function 'finite'
      ../../hbprintf.c:1148: warning: cast from pointer to integer of different size
      ../../itemapi.c: In function 'hb_itemStrBuf':
      ../../itemapi.c:2159: warning: implicit declaration of function 'finite'
      ../../dbfntx1.c: In function 'hb_ntxTagHeaderCheck':
      ../../dbfntx1.c:1016: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfntx1.c:1016: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfntx1.c:1017: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfntx1.c:1017: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfntx1.c:1017: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfntx1.c:1017: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c: In function 'hb_nsxTagHeaderCheck':
      ../../dbfnsx1.c:1233: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1235: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1236: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1236: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1236: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1236: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c: In function 'hb_nsxPageFree':
      ../../dbfnsx1.c:1525: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1525: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1525: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1525: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c: In function 'hb_nsxPageNew':
      ../../dbfnsx1.c:1574: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1574: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1574: warning: dereferencing type-punned pointer will break strict-aliasing rules
      ../../dbfnsx1.c:1574: warning: dereferencing type-punned pointer will break strict-aliasing rules

      Warnings/Contrib:
      ../../files.c: In function 'HB_FUN_SETFDATI':
      ../../files.c:247: warning: cast to pointer from integer of different size
      ../../files.c:268: warning: cast from pointer to integer of different size
      ../../getenvrn.c: In function 'HB_FUN_FT_GETE':
      ../../getenvrn.c:178: warning: implicit declaration of function 'GetEnvironmentStrings'
      ../../getenvrn.c:178: warning: initialization makes pointer from integer without a cast
      ../../tpwin.c: In function 'HB_FUN_P_INITPORTSPEED':
      ../../tpwin.c:78: warning: cast to pointer from integer of different size
      ../../tpwin.c:89: warning: cast to pointer from integer of different size
      ../../tpwin.c: In function 'HB_FUN_P_READPORT':
      ../../tpwin.c:108: warning: cast to pointer from integer of different size
      ../../tpwin.c: In function 'HB_FUN_P_WRITEPORT':
      ../../tpwin.c:119: warning: cast to pointer from integer of different size
      ../../win_dll.c: In function 'DllExec':
      ../../win_dll.c:509: warning: cast from pointer to integer of different size
      ../../win_dll.c:603: warning: cast to pointer from integer of different size
      ../../win_dll.c:672: warning: cast to pointer from integer of different size
      ../../win_dll.c:689: warning: cast to pointer from integer of different size
      ../../win_dll.c: In function 'hb_getprocaddress':
      ../../win_dll.c:809: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'hb_oleItemToVariant':
      ../../win_ole.c:466: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'FreeParams':
      ../../win_ole.c:762: warning: cast from pointer to integer of different size
      ../../win_ole.c: In function 'hb_oleVariantToItem':
      ../../win_ole.c:1092: warning: cast from pointer to integer of different size
      ../../win_ole.c: In function 'HB_FUN_CREATEOLEOBJECT':
      ../../win_ole.c:1425: warning: cast from pointer to integer of different size
      ../../win_ole.c: In function 'HB_FUN_GETOLEOBJECT':
      ../../win_ole.c:1478: warning: cast from pointer to integer of different size
      ../../win_ole.c: In function 'HB_FUN_OLEADDREF':
      ../../win_ole.c:1486: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_OLERELEASEOBJECT':
      ../../win_ole.c:1498: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO_OLEVALUE':
      ../../win_ole.c:1648: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO__OLEVALUE':
      ../../win_ole.c:1675: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO_OLENEWENUMERATOR':
      ../../win_ole.c:1703: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO_INVOKE':
      ../../win_ole.c:1786: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO_SET':
      ../../win_ole.c:1810: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO_GET':
      ../../win_ole.c:1834: warning: cast to pointer from integer of different size
      ../../win_ole.c: In function 'HB_FUN_TOLEAUTO_ONERROR':
      ../../win_ole.c:1861: warning: cast to pointer from integer of different size
      ../../win_regc.c: In function 'hb_regkeyconv':
      ../../win_regc.c:77: warning: cast to pointer from integer of different size
      ../../win_regc.c: In function 'HB_FUN_WIN_REGCREATEKEYEX':
      ../../win_regc.c:82: warning: cast to pointer from integer of different size
      ../../win_regc.c:96: warning: cast from pointer to integer of different size
      ../../win_regc.c: In function 'HB_FUN_WIN_REGOPENKEYEX':
      ../../win_regc.c:118: warning: cast from pointer to integer of different size
      ../../win_regc.c: In function 'HB_FUN_WIN_REGCLOSEKEY':
      ../../win_regc.c:193: warning: cast to pointer from integer of different size
      ../../wapi_commctrl.c: In function 'HB_FUN_WAPI_TABCTRL_GETITEMRECT':
      ../../wapi_commctrl.c:521: warning: value computed is not used
      ../../wapi_commctrl.c: In function 'HB_FUN_WAPI_TABCTRL_GETIMAGELIST':
      ../../wapi_commctrl.c:553: warning: cast from pointer to integer of different size
      ../../wapi_commctrl.c: In function 'HB_FUN_WAPI_TABCTRL_ADJUSTRECT':
      ../../wapi_commctrl.c:632: warning: value computed is not used
      ../../wapi_commctrl.c: In function 'HB_FUN_WAPI_TABCTRL_CREATE':
      ../../wapi_commctrl.c:782: warning: cast to pointer from integer of different size
      ../../wapi_commctrl.c:786: warning: cast from pointer to integer of different size
      ../../wapi_winbase.c: In function 'HB_FUN_WAPI_GETMODULEHANDLE':
      ../../wapi_winbase.c:83: warning: cast to pointer from integer of different size
      ../../hbserv.c: In function 's_serviceSetHBSig':
      ../../hbserv.c:638: warning: passing argument 1 of 'SetUnhandledExceptionFilter' from incompatible pointer type
      ../../hbxml.c: In function 'HB_FUN_HBXML_DATAREAD':
      ../../hbxml.c:2321: warning: cast to pointer from integer of different size

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar 21 10:16:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 21 10:16:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10666] trunk/harbour
In-Reply-To: <E1Ll1rC-0006f6-Mc@c3vjzd1.ch3.sourceforge.com>
References: <E1Ll1rC-0006f6-Mc@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870903210716r793a8709x7514ee5d0e9f543@mail.gmail.com>

>
>    ; TOFIX: (3rd party dependent contribs not yet included)
>      Errors/Core:
>      Temp/ccVJXjZS.s: Assembler messages:
>      Temp/ccVJXjZS.s:19: Error: Incorrect register `%rax' used with `l'
> suffix
>      Temp/ccVJXjZS.s:20: Error: `0x0e10(%rax,%ecx,4)' is not a valid
> base/index expression
>      Temp/ccVJXjZS.s:36: Error: Incorrect register `%rax' used with `l'
> suffix
>      Temp/ccVJXjZS.s:37: Error: `0x0e10(%rax,%ecx,4)' is not a valid
> base/index expression
>

Forget to add that these happen when trying to compile vmmt lib,
and it probably has to do something with inlined asm code probably
in hbatomic.h

Rgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090321/a5cecefd/attachment.html
From vszakats at users.sourceforge.net  Sat Mar 21 10:26:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 21 10:26:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10667] trunk/harbour
Message-ID: <E1Ll29L-0007MO-Rl@c3vjzd1.ch3.sourceforge.com>

Revision: 10667
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10667&view=rev
Author:   vszakats
Date:     2009-03-21 14:26:10 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 15:12 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbwin/win_dll.c
  * contrib/hbwin/win_ole.c
    ! Fixed most mingw64 spotted errors/warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_ole.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Mar 21 10:54:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 21 10:54:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10668] trunk/harbour
Message-ID: <E1Ll2ak-00085o-KE@74yxhf1.ch3.sourceforge.com>

Revision: 10668
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10668&view=rev
Author:   vszakats
Date:     2009-03-21 14:54:29 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 15:44 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbtpathy/tpwin.c
  * contrib/hbwin/win_regc.c
    ! mingw64 reported (64-bit) problems fixed.

  * contrib/hbwin/wapi_winbase.c
    ! mingw64 reported (64-bit) problem fixed.
    ! ISNIL() -> ISCHAR(). It appear many times, but using ISNIL()
      has the same cost IS<ACTUAL_TYPE>(), yet only covers one
      case, so it's very dangerous and leave potential GPFs when
      passing wrong type. So, when there is no strong special reason
      to use ISNIL() (like we really want to allow all types except NIL),
      always use ISCHAR(), ISNUM(), ISPOINTER(), ... instead.

  * ChangeLog
    - Deleted resolved mingw64 warnings from entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Mar 21 11:04:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Mar 21 11:04:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
Message-ID: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>

Revision: 10669
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10669&view=rev
Author:   druzus
Date:     2009-03-21 15:04:43 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 16:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! restored default optimization flag (-O3) in hb* scripts

  * harbour/harbour.spec
    ! fixed recent modification

  * harbour/contrib/rddads/ads1.c
  * harbour/contrib/rddads/adsfunc.c
  * harbour/contrib/hbmisc/strfmt.c
  * harbour/contrib/hbcrypt/sha1.c
    ! fixed wrongly used C reference operator

  * harbour/contrib/hbwin/win_prn2.c
  * harbour/contrib/hbwin/wapi_commctrl.c
  * harbour/source/vm/maindllp.c
    ! fixes for unicode builds

  * harbour/include/std.ch
    + added SET TIME FORMAT [TO] <f>

  * harbour/include/set.ch
  * harbour/include/hbset.h
  * harbour/source/vm/set.c
    + added _SET_TIMEFORMAT
      The folowing modifiers are supported:
         hh - hours
         mm - minutes
         ss - seconds
         fff - fraction part of seconds
         p - 1-st letter from PM / AM signature. When used time is shown
             in 12 hour format otherwise 24 hour format is used
      ex: Set( __SET_TIMEFORMAT, "hh:mm pm" )
      default _SET_TIMEFORMAT value is "hh:mm:ss:fff"
    + added C function: char * hb_setGetTimeFormat( void );

  * harbour/include/hbpp.h
  * harbour/source/pp/ppcore.c
    + added support for timestamp constant values in the form:
         t"YYYY-MM-DD HH:MM:SS.fff"
      The exact accepted timestamp pattern is is:
         YYYY-MM-DD [H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
      i.e.:
         tValue := t"2009-03-21 5:31:45.437 PM"
      or:
         YYYY-MM-DDT[H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
      with literal "T" as date and time part delimiters (XML timestamp
      format), i.e.:
         tValue := t"2009-03-21T17:31:45.437"
      The folowing characters can be used as date delimiters: "-", "/", "."
      if PM or AM is used HH is in range < 1 : 12 > otherwise
      in range < 0 : 23 >

  * harbour/source/compiler/complex.c
  * harbour/source/compiler/harbour.y
  * harbour/source/compiler/harbour.yyc
  * harbour/source/compiler/harbour.yyh
    + added support for t"YYYY-MM-DD HH:MM:SS.fff" time stamp constant
      to compiler
    + added support for VFP datetime constant values:
         { ^ [ YYYY-MM-DD [,] ] [ HH[:MM[:SS][.FFF]] [AM|PM] ] }
      The following characters can be used as date delimiters: "-", "/".
      Dot "." as date delimiter is not supported.
      There is no limit on number of characters in YYYY, MM, DD, HH, MM,
      SS, FFF parts. Important is only their value. This is the format
      in semi PP notation:
         { ^ <YEAR> <sep:/-> <MONTH> <sep:/-> <DAY> [[<sep2:,>]
           [ <HOUR> [ : <MIN> [ : <SEC> [ . <FRAQ> ] ] ] [AM|PP] ] }
      In practice it allows to also parse xHarbour datetime constant
      values with compatible conditions though xHarbour support onlu "/"
      as date delimiter.
      NOTE: there is one important difference to VFP and xHarbour in
      decoding above format. In VFP and xHarbour when date part is
      missing then it's set by default to: 1899-12-30 so this code:
         { ^ 12:00 }
      gived the same results as:
         { ^ 1899/12/30 12:00 }
      Harbour does not set any default date value when timestamp
      constant value contains only time part.
      If you want we can change it for strict VFP compatiblity.
      Now this extension is enabled by default for testing. In the future
      it will be probably covered by HB_COMPAT_FOXPRO macro.

  * harbour/source/macro/macro.yyc
  * harbour/source/macro/macro.y
  * harbour/source/macro/macro.yyh
  * harbour/source/macro/macrolex.c
    + added support for t"YYYY-MM-DD HH:MM:SS.fff" time stamp constant
      to macro compiler

  * harbour/include/hbmacro.h
  * harbour/source/vm/macro.c
    + added new function:
      void hb_macroGenPushTimeStamp( LONG lDate, LONG lTime, HB_COMP_DECL );

  * harbour/include/hberrors.h
  * harbour/source/compiler/hbgenerr.c
    + added new compile time error: "Invalid timestamp constant '%s'"

  * harbour/source/compiler/cmdcheck.c
    * use Harbour API timestamp functions instead of calling system
      functions

  * harbour/include/hbpcode.h
  * harbour/source/compiler/hbfix.c
  * harbour/source/compiler/hbpcode.c
  * harbour/source/compiler/hbdead.c
  * harbour/source/compiler/genc.c
  * harbour/source/compiler/gencc.c
  * harbour/source/compiler/hblbl.c
  * harbour/source/compiler/hbstripl.c
  * harbour/source/compiler/hbopt.c
    + added new PCODE HB_P_PUSHTIMESTAMP (replaced one unused PCODE value)
      to store timestamp constant values in the PCODE

  * harbour/include/hbcomp.h
  * harbour/source/compiler/hbmain.c
    + added new function:
      void hb_compGenPushTimeStamp( LONG lDate, LONG lTime, HB_COMP_DECL );

  * harbour/include/hbexprop.h
  * harbour/source/common/expropt1.c
    + added new C functions:
      HB_EXPR_PTR hb_compExprNewTimeStamp( LONG, LONG, HB_COMP_DECL );

  * harbour/include/hbexprb.c
  * harbour/include/hbcompdf.h
  * harbour/source/common/expropt2.c
    + added timestamp expressions support
    + added compile time optimization for timestamp expressions
    * updated function optimization for timestamp expressions

  * harbour/include/hbdate.h
  * harbour/source/common/hbdate.c
    * changed hb_dateMilliSeconds() to return UTC julian timestamp in
      milliseconds
    * changed existing seconds, time and timestamp functions to operate
      on common OS specific functions to eliminate possible problems
      with different OS time counters
    + added new functions to operates on time and timestamp values.
      See source code for details.

  + harbour/source/rtl/cputime.c
    * moved double hb_secondsCPU( int n ) function to separate file

  * harbour/source/rtl/seconds.c
    - removed old version of date/seconds functions

  * harbour/source/vm/hashes.c
  * harbour/source/vm/arrays.c
    + added support for timestamp values as hash item indexes

  * harbour/source/vm/hashfunc.c
    + added support for find timestamp values in hash and array items
      by simple date value in AScan(), hb_HScan(), hb_AScan() and hb_RAScan()
      functions when exact comparison is not used.

  * harbour/source/vm/asort.c
    + added support for sorting timestamp values

  * harbour/source/vm/classes.c
    + added support for timestamp scallar classes
    + added support for timestamp typed instance variables

  * harbour/source/vm/memvars.c
    + added support for timestamp values in .mem files

  * harbour/source/vm/estack.c
    + show timestamp values in stack dump

  * harbour/include/hbapi.h
  * harbour/source/vm/arrays.c
    + added new C functions:
      double hb_arrayGetTD( PHB_ITEM pArray, ULONG ulIndex );
      BOOL hb_arraySetTD( PHB_ITEM pArray, ULONG ulIndex, double dTimeStamp )
      BOOL hb_arrayGetTDT( PHB_ITEM pArray, ULONG ulIndex,
                           LONG * plJulian, LONG * plMilliSec );
      BOOL hb_arraySetTDT( PHB_ITEM pArray, ULONG ulIndex,
                           LONG lJulian, LONG lMilliSec );

  * harbour/include/hbapi.h
  * harbour/source/vm/extend.c
    + accept timestamp items in date functions - use only date part of
      timestamp value
    + added new C functions:
      double hb_partd( int iParam, ... );
      BOOL hb_partdt( LONG * plJulian, LONG * plMilliSec , int iParam, ... );
      void hb_rettd( double dTimeStamp );
      void hb_rettdt( LONG lJulian, LONG lMilliSec );
      int hb_stortd( double dTimeStamp, int iParam, ... );
      int hb_stortdt( LONG lJulian, LONG lMilliSec, int iParam, ... );

  * harbour/include/hbapiitm.h
  * harbour/source/vm/itemapi.c
    + accept timestamp items in date functions - use only date part of
      timestamp value
    + added new C functions:
      char * hb_itemGetTS( PHB_ITEM pItem, char * szDateTime );
      PHB_ITEM hb_itemPutTS( PHB_ITEM pItem, const char * szDateTime );
      double hb_itemGetTD( PHB_ITEM pItem );
      PHB_ITEM hb_itemPutTD( PHB_ITEM pItem, double dTimeStamp )
      BOOL hb_itemGetTDT( PHB_ITEM pItem, LONG * plJulian, LONG * plMilliSec );
      PHB_ITEM hb_itemPutTDT( PHB_ITEM pItem, LONG lJulian, LONG lMilliSec );
    + support for timestamp items in hb_itemString(), hb_itemPadConv() and
      hb_itemTypeStr() functions

  * harbour/include/hbvm.h
  * harbour/include/hbxvm.h
  * harbour/include/hbapi.h
  * harbour/source/vm/hvm.c
    + added HB_IT_TIMESTAMP items
    * modified HB_IT_DATE internal item structure to use common structure
      with HB_IT_TIMESTAMP - it  simplifies HVM code and eliminates additional
      RT conditions.
    + added HB_IS_TIMESTAMP() and ISTIMESTAMP() macros
    + added HB_IS_DATETIME() and ISDATETIME() macros - they return true
      if item/parameter is DATE or TIMESTAMP type.
    + added void hb_vmPushTimeStamp( long lJulian, long lMilliSec );
      and xhb_vmPushTimeStamp()
    + added support for timestamp values in relational operators:
         <, <=, >, >=, =, ==
      When two timestamp values are compared then VM compares date and
      time parts in both values.
      When date and timestamp values are used in <, <=, >, >=, = operations
      then VM compares only date part in both values.
      When date and timestamp values are used in == operation then VM
      compares date part in both values and then check if time part
      of timestamp value is 0.
    + added support for timestamp values in + and - math operations.
      The following rules are used in timestamp arithmetic:
         <t> + <t> => <t>
         <t> - <t> => <n>
         <t> + <n> => <t>
         <n> + <t> => <t>
         <t> - <n> => <t>
         <d> + <t> => <t>
         <t> + <d> => <t>
         <d> - <t> => <n>
         <t> - <d> => <n>
      When number is result or argument of timestamp operation then the
      its integer part is a number of day and fractional part is the time.

  * harbour/source/rtl/dateshb.c
    + added new .prg functions to mange date and timestamp values:
      HB_DATETIME() -> <tTimeStamp>
      HB_CTOD( <cDate> [, <cDateFormat> ] ) -> <dDate>
      HB_DTOC( <dDate> [, <cDateFormat> ] ) -> <cDate>
      HB_NTOT( <nValue> ) -> <tTimeStamp>
      HB_TTON( <tTimeStamp> ) -> <nValue>
      HB_TTOC( <tTimeStamp>, [ <cDateFormat> ] [, <cTimeFormat> ] ) ->
                                                            <cTimeStamp>
      HB_CTOT( <cTimeStamp>, [ <cDateFormat> ] [, <cTimeFormat> ] ) ->
                                                            <tTimeStamp>
      HB_TTOS( <tTimeStamp> ) -> <cYYYYMMDDHHMMSSFFF>
      HB_STOT( <cDateTime> ) -> <tTimeStamp>
         <cDateTime> should be in one of the above form:
            - "YYYYMMDDHHMMSSFFF"
            - "YYYYMMDDHHMMSSFF"
            - "YYYYMMDDHHMMSSF"
            - "YYYYMMDDHHMMSS"
            - "YYYYMMDDHHMM"
            - "YYYYMMDDHH"
            - "YYYYMMDD"
            - "HHMMSSFFF"
            - "HHMMSSF"
            - "HHMMSS"
            - "HHMM"
            - "HH"
         Important is number of digits.
      HB_TSTOSTR( <tTimeStamp> ) -> <cTimeStamp> // YYYY-MM-DD HH:MM:SS.fff
      HB_STRTOTS( <cTimeStamp> ) -> <tTimeStamp>
         <cTimeStamp> should be in one of the above form:
            YYYY-MM-DD [H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
            YYYY-MM-DDT[H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
         The folowing characters can be used as date delimiters: "-", "/", "."
         T - is literal "T" - it's for XML timestamp format
         if PM or AM is used HH is in range < 1 : 12 > otherwise
         in range < 0 : 23 >
      HB_HOUR( <tTimeStamp> ) -> <nHour>
      HB_MINUTE( <tTimeStamp> ) -> <nMinute>
      HB_SEC( <tTimeStamp> ) -> <nSeconds>   // with milliseconds

  * harbour/source/rtl/datec.c
    + accept timestamp parameters in CMONTH() and CDOW() functions

  * harbour/source/rtl/empty.c
    + added support for timestamp items

  * harbour/source/rtl/itemseri.c
    + added support for timestamp items serialization

  * harbour/source/rtl/minmax.c
    + added support for timestamp values to MIN() and MAX() functions.
      when only one of given parameters is timestamp value and other
      is date value and date parts are equal then always date item
      is returned as both MIN() or MAX() value.

  * harbour/source/rtl/dates.c
    + added new C functions: hb_timeFormat(), hb_timeUnformat(),
      hb_timeStampFormat(), hb_timeStampUnformat()

  * harbour/source/rtl/valtype.c
    + added .prg functions: HB_ISDATETIME(), HB_ISTIMESTAMP()

  * harbour/source/rtl/transfrm.c
    + added support for timestamp items formatting.
    + added new function modifier @T.
      When @T is used without @D then only time part of timestamp value
      is formatted and return.
      When @D is used without @T then only date part of timestamp value
      is formatted and return.

  * harbour/source/rtl/tbrowse.prg
    + display timestamp values

  * harbour/source/rtl/philes.c
    + accept timestamp value as second parameter of HB_FSETDATETIME()
      function
    + store file data and time in second parameter of HB_FGETDATETIME()
      as timestamp value.
    Old parameters (2-dDate, 3-cTime) are still supported but please think
    about removing them - they are redundant.

  * harbour/source/rtl/filesys.c
    * updated function names


  * harbour/source/rdd/dbf1.c
    + added native support for time and timestamp fields

  * harbour/include/hbrddcdx.h
  * harbour/include/hbrddnsx.h
  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
    + added support for indexing timestamp fields
    + added support for using DATE values with timestamp fields
      which replicate HVM behavior.
      SEEK and SEEKLAST with date value when active index is on
      timestamp positions to 1-st or last record where date part
      of indexed timesamp value is equal.
      Settings scopes to date values when active index is on timestamp
      value reduce the visible record range to these ones which have
      date part of timestamp value in the range of dates values used
      for scopes. It possible to mix date and timestamp values in scope
      and set one scope to date value and the second to timesamp.

  * harbour/source/rdd/sdf1.c
  * harbour/source/rdd/delim1.c
    + added support for exporting timestamp fields

  * harbour/source/rdd/dbsql.c
    ! fixed typo in logical value export
    + export timestamp fields.
      Please update the format to given SQL syntax.


  * harbour/contrib/hbct/files.c
    + changed SETFDATI() to optionally accept timestamp parameter
      instead of two parameters dDate and cTime

  * harbour/contrib/hbct/misc1.c
    + added timestamp support to XTOC() function

  * harbour/contrib/hbct/misc2.c
    + added timestamp support to COMPLEMENT() function

  * harbour/contrib/hbct/dattime2.c
    + accept timestamp values in ADDMONTH(), DOY(), ISLEAP(), QUARTER()
      LASTDAYOM(), WEEK() functions

  * harbour/contrib/hbmzip/hbmzip.c
    + updated HB_ZipFileCreate( hZip, cZipName, tDateTime, cTime, ... )
      functions to optionaly accept timestamp value in 3-rd parameter
      instead od dDate, and cTime in 3-rd and 4-th parameters.
    + updated HB_UnzipFileInfo( hUnzip, @cZipName, @tDateTime, @cTime, ... )
      to return timestamp value in 3-rd parameter instead of date value.
      TODO: Please think about removing 4-th parameter from:
               HB_ZipFileCreate( hZip, cZipName, tDateTime, cTime, ... )
               HB_UnzipFileInfo( hUnzip, @cZipName, @tDateTime, @cTime, ... )
            Now it's redundant.
  * harbour/contrib/hbmzip/readme.txt
    * updated parameters description for above functions

  * harbour/contrib/hbnf/descendn.c
    + added timestamp support to FT_DESCEND() function

  * harbour/contrib/hbclipsm/date.c
    + accept timestamp values in DATEASAGE(), DATEASARRAY() and DATEISLEAP()
      functions

  * harbour/contrib/hbmisc/dates2.c
    + accept timestamp values in ISLEAPYEAR(), DAYSINMONTH(), EOM(), BOM(),
      WOM(), WOY(), EOY() and BOY() functions


   The following contrib files should be updated but I'm leaving it to
   other developers who want to keep this code alive:
         contrib/hbtip/utils.c
         contrib/hbvpdf/hbvpdf.prg
         contrib/hbvpdf/hbvpdft.prg
         contrib/hbwin/win_dll.c
            some minor cleanups if necessary and authors will find
            timestamp values usable

         contrib/hbole/ole2.c
         contrib/hbwin/win_ole.c
            add support for timestamp values in OLE

         contrib/rddado/adordd.prg
         contrib/rddads/ads1.c
         contrib/rddads/adsx.c
         contrib/rddsql/...
            add support for timestamp values in RDDs

   Warning: this implementation is not xHarbour compatible. There are many
   important differences. Mostly on C level and used API. Please be careful
   in porting xHarbour source code to Harbour.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/hbclipsm/date.c
    trunk/harbour/contrib/hbcrypt/sha1.c
    trunk/harbour/contrib/hbct/dattime2.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbct/misc1.c
    trunk/harbour/contrib/hbct/misc2.c
    trunk/harbour/contrib/hbmisc/dates2.c
    trunk/harbour/contrib/hbmisc/strfmt.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbmzip/readme.txt
    trunk/harbour/contrib/hbnf/descendn.c
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/include/hbdate.h
    trunk/harbour/include/hberrors.h
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbexprop.h
    trunk/harbour/include/hbmacro.h
    trunk/harbour/include/hbpcode.h
    trunk/harbour/include/hbpp.h
    trunk/harbour/include/hbrddcdx.h
    trunk/harbour/include/hbrddnsx.h
    trunk/harbour/include/hbset.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbxvm.h
    trunk/harbour/include/set.ch
    trunk/harbour/include/std.ch
    trunk/harbour/source/common/expropt1.c
    trunk/harbour/source/common/expropt2.c
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/complex.c
    trunk/harbour/source/compiler/genc.c
    trunk/harbour/source/compiler/gencc.c
    trunk/harbour/source/compiler/harbour.y
    trunk/harbour/source/compiler/harbour.yyc
    trunk/harbour/source/compiler/harbour.yyh
    trunk/harbour/source/compiler/hbdead.c
    trunk/harbour/source/compiler/hbfix.c
    trunk/harbour/source/compiler/hbgenerr.c
    trunk/harbour/source/compiler/hblbl.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/compiler/hbopt.c
    trunk/harbour/source/compiler/hbpcode.c
    trunk/harbour/source/compiler/hbstripl.c
    trunk/harbour/source/macro/macro.y
    trunk/harbour/source/macro/macro.yyc
    trunk/harbour/source/macro/macro.yyh
    trunk/harbour/source/macro/macrolex.c
    trunk/harbour/source/pp/ppcore.c
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rdd/dbsql.c
    trunk/harbour/source/rdd/delim1.c
    trunk/harbour/source/rdd/sdf1.c
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/datec.c
    trunk/harbour/source/rtl/dates.c
    trunk/harbour/source/rtl/dateshb.c
    trunk/harbour/source/rtl/empty.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/itemseri.c
    trunk/harbour/source/rtl/minmax.c
    trunk/harbour/source/rtl/philes.c
    trunk/harbour/source/rtl/seconds.c
    trunk/harbour/source/rtl/tbrowse.prg
    trunk/harbour/source/rtl/transfrm.c
    trunk/harbour/source/rtl/valtype.c
    trunk/harbour/source/vm/arrays.c
    trunk/harbour/source/vm/asort.c
    trunk/harbour/source/vm/classes.c
    trunk/harbour/source/vm/estack.c
    trunk/harbour/source/vm/extend.c
    trunk/harbour/source/vm/hashes.c
    trunk/harbour/source/vm/hashfunc.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/itemapi.c
    trunk/harbour/source/vm/macro.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/source/vm/memvars.c
    trunk/harbour/source/vm/set.c

Added Paths:
-----------
    trunk/harbour/source/rtl/cputime.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sat Mar 21 11:34:57 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar 21 11:35:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <49C50921.6020905@fsgiudice.com>

Hi Przemek,

Il 21/03/2009 16.04, druzus@users.sourceforge.net ha scritto:
> Revision: 10669
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10669&view=rev
> Author:   druzus
> Date:     2009-03-21 15:04:43 +0000 (Sat, 21 Mar 2009)
> 
Thank you for this great addition!

Best regards
Francesco
From vouchcac at users.sourceforge.net  Sat Mar 21 12:05:12 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 21 12:05:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
Message-ID: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>

Revision: 10670
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10670&view=rev
Author:   vouchcac
Date:     2009-03-21 16:05:10 +0000 (Sat, 21 Mar 2009)

Log Message:
-----------
2009-03-21 09:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbqt/Makefile
    + Added new files.

  * harbour/contrib/hbqt/hbqt.h
  + harbour/contrib/hbqt/slots.h
    + Slots.h could be renamed to hbqt_slots.h, Marcos ?

  + harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
  + harbour/contrib/hbqt/hbqt_qabstractslider.cpp
  + harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
  + harbour/contrib/hbqt/hbqt_qaction.cpp
  + harbour/contrib/hbqt/hbqt_qapplication.cpp
  + harbour/contrib/hbqt/hbqt_qboxlayout.cpp
  + harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
  + harbour/contrib/hbqt/hbqt_qcheckbox.cpp
  + harbour/contrib/hbqt/hbqt_qcolordialog.cpp
  + harbour/contrib/hbqt/hbqt_qcombobox.cpp
  + harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
  + harbour/contrib/hbqt/hbqt_qcoreapplication.cpp
  + harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
  + harbour/contrib/hbqt/hbqt_qdateedit.cpp
  + harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
  + harbour/contrib/hbqt/hbqt_qdial.cpp
  * harbour/contrib/hbqt/hbqt_qdialog.cpp
  + harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
  + harbour/contrib/hbqt/hbqt_qerrormessage.cpp
  + harbour/contrib/hbqt/hbqt_qfiledialog.cpp
  + harbour/contrib/hbqt/hbqt_qfocusframe.cpp
  + harbour/contrib/hbqt/hbqt_qfont.cpp
  + harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
  + harbour/contrib/hbqt/hbqt_qfontdialog.cpp
  + harbour/contrib/hbqt/hbqt_qformlayout.cpp
  + harbour/contrib/hbqt/hbqt_qframe.cpp
  + harbour/contrib/hbqt/hbqt_qgroupbox.cpp
  + harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
  + harbour/contrib/hbqt/hbqt_qinputdialog.cpp
  + harbour/contrib/hbqt/hbqt_qlabel.cpp
  + harbour/contrib/hbqt/hbqt_qlayout.cpp
  + harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
  + harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
  + harbour/contrib/hbqt/hbqt_qlinedit.cpp
  + harbour/contrib/hbqt/hbqt_qlineedit.cpp
  + harbour/contrib/hbqt/hbqt_qlistview.cpp
  + harbour/contrib/hbqt/hbqt_qmainwindow.cpp
  + harbour/contrib/hbqt/hbqt_qmenu.cpp
  + harbour/contrib/hbqt/hbqt_qmenubar.cpp
  + harbour/contrib/hbqt/hbqt_qmessagebox.cpp
  + harbour/contrib/hbqt/hbqt_qobject.cpp
  + harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
  + harbour/contrib/hbqt/hbqt_qprintdialog.cpp
  + harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
  + harbour/contrib/hbqt/hbqt_qprogressbar.cpp
  + harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
  + harbour/contrib/hbqt/hbqt_qpushbutton.cpp
  + harbour/contrib/hbqt/hbqt_qradiobutton.cpp
  + harbour/contrib/hbqt/hbqt_qscrollarea.cpp
  + harbour/contrib/hbqt/hbqt_qscrollbar.cpp
  + harbour/contrib/hbqt/hbqt_qsizegrip.cpp
  + harbour/contrib/hbqt/hbqt_qslider.cpp
  + harbour/contrib/hbqt/hbqt_qspinbox.cpp
  + harbour/contrib/hbqt/hbqt_qsplitter.cpp
  + harbour/contrib/hbqt/hbqt_qtabbar.cpp
  + harbour/contrib/hbqt/hbqt_qtableview.cpp
  + harbour/contrib/hbqt/hbqt_qtablewidget.cpp
  + harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
  + harbour/contrib/hbqt/hbqt_qtabwidget.cpp
  + harbour/contrib/hbqt/hbqt_qtextedit.cpp
  + harbour/contrib/hbqt/hbqt_qtimeedit.cpp
  + harbour/contrib/hbqt/hbqt_qtoolbar.cpp
  + harbour/contrib/hbqt/hbqt_qtoolbox.cpp
  + harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
  + harbour/contrib/hbqt/hbqt_qtreeview.cpp
  + harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
  + harbour/contrib/hbqt/hbqt_qwebview.cpp
  * harbour/contrib/hbqt/hbqt_qwidget.cpp
  + harbour/contrib/hbqt/hbqt_qwizard.cpp
  + harbour/contrib/hbqt/hbqt_slots.cpp
  + harbour/contrib/hbqt/moc_slots.cpp
    + Added re-worked code supplied by Marcos Gambeta, thanks.
      Please ensure that all future developments should respect
      hbqt.h api conventions.

  + harbour/contrib/hbqt/tests
  + harbour/contrib/hbqt/tests/demoqt.prg
    + Added a small test. Marcos please check which MinGW flag is
      needed so that it does not show up console screen as parent
      of App or Dialogs.

    ; NOTE: Marcos, can you update your PHP script to write
            output file in format I showed in above files?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_qdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwidget.cpp

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractslider.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qaction.cpp
    trunk/harbour/contrib/hbqt/hbqt_qapplication.cpp
    trunk/harbour/contrib/hbqt/hbqt_qboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcheckbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcolordialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcombobox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcoreapplication.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdateedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdial.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qerrormessage.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfiledialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfocusframe.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfont.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfontdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qformlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qframe.cpp
    trunk/harbour/contrib/hbqt/hbqt_qgroupbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qinputdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlabel.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlineedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlistview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmenu.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmenubar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmessagebox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qobject.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprintdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprogressbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpushbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qradiobutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qscrollarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_qscrollbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qsizegrip.cpp
    trunk/harbour/contrib/hbqt/hbqt_qslider.cpp
    trunk/harbour/contrib/hbqt/hbqt_qspinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qsplitter.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtabbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtablewidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtabwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtimeedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtreeview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwebview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwizard.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/slots.h
    trunk/harbour/contrib/hbqt/tests/
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar 21 12:07:38 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 21 12:07:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <22637254.post@talk.nabble.com>


Przemek


druzus wrote:
> 
> Revision: 10669
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10669&view=rev
> Author:   druzus
> Date:     2009-03-21 15:04:43 +0000 (Sat, 21 Mar 2009)
> 

Really a well needed contribution,
and a well integrated too.

Thank you very much.

Regards
Pritpal Bedi



-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10669--trunk-harbour-tp22636957p22637254.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Sat Mar 21 12:17:15 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Mar 21 12:19:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <49C5130B.5020406@dbtopas.lt>

Hi,


thank You, for this great contribution!!!

>       default _SET_TIMEFORMAT value is "hh:mm:ss:fff"

I guest You've meant "hh:mm:ss.fff".


Best regards,
Mindaugas
From info at fsgiudice.com  Sat Mar 21 12:24:58 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Mar 21 12:25:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <49C514DA.4020204@fsgiudice.com>

Hi,

Il 21/03/2009 16.04, druzus@users.sourceforge.net ha scritto:
> 
>    The following contrib files should be updated but I'm leaving it to
>    other developers who want to keep this code alive:

>          contrib/hbwin/win_ole.c
>             add support for timestamp values in OLE
> 

I'm updating ole in hbwin

Best regards,

Francesco
From lorenzo.fiorini at gmail.com  Sat Mar 21 12:41:34 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Mar 21 12:41:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <9257026e0903210941x53babc9by1209a3fae9a486f8@mail.gmail.com>

> 2009-03-21 16:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/bin/hb-func.sh
> ? ?! restored default optimization flag (-O3) in hb* scripts
> ...
> ? The following contrib files should be updated but I'm leaving it to
> ? other developers who want to keep this code alive:
> ? ? ? ? contrib/hbtip/utils.c
> ? ? ? ? contrib/hbvpdf/hbvpdf.prg
> ? ? ? ? contrib/hbvpdf/hbvpdft.prg
> ...

Many thanks.

I'll check if I can update sth.

best regards,
Lorenzo
From marcosgambeta at uol.com.br  Sat Mar 21 12:47:37 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Sat Mar 21 12:47:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
Message-ID: <49C51A29.1090509@uol.com.br>

vouchcac@users.sourceforge.net escreveu:
> Revision: 10670
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10670&view=rev
> Author:   vouchcac
> Date:     2009-03-21 16:05:10 +0000 (Sat, 21 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-21 09:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/contrib/hbqt/Makefile
>     + Added new files.
> 
>   * harbour/contrib/hbqt/hbqt.h
>   + harbour/contrib/hbqt/slots.h
>     + Slots.h could be renamed to hbqt_slots.h, Marcos ?
> 

Yes, no problem. Rename slots.h to hbqt_slots.h and update hbqt_slots.cpp:

#include "slots.h" -> #include "hbqt_slots.h"

With the file moc_slots.cpp, we have a puzzle:

. moc_slots.cpp is the result of the file slots.h processed by moc (a Qt 
tool)

. all times slots.h change, moc_slots.cpp need to be created again with moc

if we found a way to put the process above in the Makefile, 
moc_slots.cpp can be deleted and created only at the build process.

>   + harbour/contrib/hbqt/tests
>   + harbour/contrib/hbqt/tests/demoqt.prg
>     + Added a small test. Marcos please check which MinGW flag is
>       needed so that it does not show up console screen as parent
>       of App or Dialogs.

I tried with -mwindows, but don't worked for me. I continue searching 
for a solution.


>     ; NOTE: Marcos, can you update your PHP script to write
>             output file in format I showed in above files?

Ok, but only in the next week (very busy this weekend).

Many thanks!


Regards,
Marcos Gambeta

From lorenzo.fiorini at gmail.com  Sat Mar 21 12:49:04 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Mar 21 12:49:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10664] trunk/harbour
In-Reply-To: <E1Ll0E4-0000Fj-EE@d5vjzd1.ch3.sourceforge.com>
References: <E1Ll0E4-0000Fj-EE@d5vjzd1.ch3.sourceforge.com>
Message-ID: <9257026e0903210949u521f7f20r1133b897d6aaf591@mail.gmail.com>

> 2009-03-21 13:21 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?* config/win/mingwce.cf
> ?* config/win/cygwin.cf
> ?* config/win/mingw.cf
> ? ?+ Added -fomit-frame-pointer switch for win/gcc family.
> ? ? ?It causes quite a huge improvement in all areas, bringing
> ? ? ?MinGW very close to MSVC and even faster in many aspects.
> ? ? ?Some FP operations are still slower a bit, and this seems
> ? ? ?to be the only remaining - small - disadvantage.
> ? ? ?For C level debugging this switch should be turned off AFAIK.

Many thanks from a mingw user :)

best regards,
Lorenzo
From bedipritpal at hotmail.com  Sat Mar 21 13:20:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 21 13:20:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <49C51A29.1090509@uol.com.br>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
	<49C51A29.1090509@uol.com.br>
Message-ID: <22638314.post@talk.nabble.com>


Hi Marcos


Marcos Gambeta wrote:
> 
>>     ; NOTE: Marcos, can you update your PHP script to write
>>             output file in format I showed in above files?
> 
> Ok, but only in the next week (very busy this weekend).
> 

Can you show up "function.php" and "header.php" ?
Also can you guide how I set PHP and environments to run 
your shown script?

Somethings are needed faster than can be... :-(

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10670--trunk-harbour-tp22637569p22638314.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From marcosgambeta at uol.com.br  Sat Mar 21 14:03:34 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Sat Mar 21 14:03:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <22638314.post@talk.nabble.com>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>	<49C51A29.1090509@uol.com.br>
	<22638314.post@talk.nabble.com>
Message-ID: <49C52BF6.5010206@uol.com.br>

Pritpal Bedi escreveu:
> 
> Marcos Gambeta wrote:
>>>     ; NOTE: Marcos, can you update your PHP script to write
>>>             output file in format I showed in above files?
>> Ok, but only in the next week (very busy this weekend).
>>
> 
> Can you show up "function.php" and "header.php" ?
> Also can you guide how I set PHP and environments to run 
> your shown script?
> 

The php scripts are in the file hbqt001alpha.zip. Look in the folder 
gensource.

To run the scripts, go to www.php.net and download the zip version of PHP5.

Direct link:
http://www.php.net/get/php-5.2.9-1-Win32.zip/from/a/mirror

Unzip to c:\php and add c:\php to PATH.

The file \hbqt\gensource\phptocpp.bat process all files. The sources 
area generated in \hbqt\sources\.

header.php is used to create the header of the .cpp file.

function.php is used to create the wrappers.

Example:

// cpp declaration
$funcprot='void setAutoExclusive ( bool ) ';

// name of the function
$funcname='setAutoExclusive';
// to create a function with an alias
$funcname='setAutoExclusive,mySetAutoExclusive';

// parameters
$funcpar='bool';
// use , for more than one parameter
$funcpar='bool,int,QString,QIcon,QWidget *';
if the script found a *, process as pointer
if found a ::, process as enum/flag
// if no parameters
$funcpar='';

// return value
$funcret='void';
$funcret='bool';
$funcret='int';
if the script found a *, return as pointer
if found a ::, return as int (enum/flag)



Regards,
Marcos Gambeta

From bedipritpal at hotmail.com  Sat Mar 21 15:12:08 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 21 15:12:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <49C52BF6.5010206@uol.com.br>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
	<49C51A29.1090509@uol.com.br> <22638314.post@talk.nabble.com>
	<49C52BF6.5010206@uol.com.br>
Message-ID: <22639318.post@talk.nabble.com>


Thanks Marcos


Marcos Gambeta wrote:
> 
> The php scripts are in the file hbqt001alpha.zip. Look in the folder 
> gensource.
> 

I was just too fast, did not analyze your distro.

What benefits do we have creating sources through scripts?
It always implies that we cannot change the source if newer versions
have to be adopted. Anyway we NEED to write the base script to
supply to the script engine.

I need more opinions on this matter.


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10670--trunk-harbour-tp22637569p22639318.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From zen25000 at zen.co.uk  Sat Mar 21 20:22:57 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Sat Mar 21 20:23:01 2009
Subject: [Harbour] hbtpathy won't send chr(13) 
Message-ID: <49C584E1.1060200@zen.co.uk>

I just hit a problem with hbtpathy. It will not send chr(13).
All the other codes that I need it to transmit are OK.
Does anyone know what may be causing this?
I will try to make a self contained loopback test soon.
Thanks
Barry

----------snip------------
Com_Send(prt,CHR(13))
----------snip------------

FUNCTION Com_Send ( pt, sendstr )
LOCAL nTimeout:=1
tp_send( pt, sendstr, nTimeout )
RETURN nil
From bedipritpal at hotmail.com  Sat Mar 21 23:46:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 21 23:46:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <49C52BF6.5010206@uol.com.br>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
	<49C51A29.1090509@uol.com.br> <22638314.post@talk.nabble.com>
	<49C52BF6.5010206@uol.com.br>
Message-ID: <22643156.post@talk.nabble.com>


Marcos

Please download attached 

header.php
function.php
footer.php

and build your project after including 
<include "footer.php"> in each .php at the bottom.

I want to see if everything works ok, I believe it should.

Regards
Pritpal Bedi

http://www.nabble.com/file/p22643156/header_function_footer.zip
header_function_footer.zip 
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10670--trunk-harbour-tp22637569p22643156.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Sun Mar 22 13:10:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 22 13:10:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10671] trunk/harbour
Message-ID: <E1LlRC9-0000DV-5t@c3vjzd1.ch3.sourceforge.com>

Revision: 10671
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10671&view=rev
Author:   druzus
Date:     2009-03-22 17:10:43 +0000 (Sun, 22 Mar 2009)

Log Message:
-----------
2009-03-22 18:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
    * added alternative asm inline function to __MINGW32__ builds which
      operates on 64bit pointers. It's used when __MINGW64__ macro is
      defined. I do not know if such macro existing in 64bit MinGW version.

  * harbour/include/hbdefs.h
    + added HB_PTRUINT

  * harbour/source/common/hbprintf.c
    * used HB_PTRUINT for %p casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/source/common/hbprintf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sun Mar 22 15:59:38 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 22 15:59:48 2009
Subject: [Harbour] Null value in newTIMESTAMP
Message-ID: <49C698AA.2010806@fsgiudice.com>

Hi Przemek,

I'm updating some parts with new TIMESTAMP.
Question:
in hb_cStr() I have:

       CASE "D"
          RETURN iif( Empty( xVal ), "0d00000000", "0d" + DToS( xVal ) )

which is the string representing an empty TIMESTAMP ?
0t0000000T00:00:00.000 is it correct ?

So can I write below line ?

       CASE "T"
          RETURN iif( Empty( xVal ), "0t0000000T00:00:00.000", "0t" + 
hb_TSSToStr( xVal ) )


Best regards

Francesco
From info at fsgiudice.com  Sun Mar 22 16:04:41 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 22 16:04:53 2009
Subject: [Harbour] Null value in newTIMESTAMP
In-Reply-To: <49C698AA.2010806@fsgiudice.com>
References: <49C698AA.2010806@fsgiudice.com>
Message-ID: <49C699D9.104@fsgiudice.com>


Il 22/03/2009 20.59, Francesco Saverio Giudice ha scritto:
> which is the string representing an empty TIMESTAMP ?
> 0t0000000T00:00:00.000 is it correct ?
> 
> So can I write below line ?
> 
>       CASE "T"
>          RETURN iif( Empty( xVal ), "0t0000000T00:00:00.000", "0t" + 
> hb_TSSToStr( xVal ) )
> 
> 
or maybe is better:

       CASE "T"
          RETURN iif( Empty( xVal ), "0t00000000000000000", "0t" + 
HB_TTOS( xVal ) )

Best regards

Francesco
From druzus at users.sourceforge.net  Sun Mar 22 16:48:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 22 16:48:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10672] trunk/harbour
Message-ID: <E1LlUaU-0003xn-P3@74yxhf1.ch3.sourceforge.com>

Revision: 10672
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10672&view=rev
Author:   druzus
Date:     2009-03-22 20:48:05 +0000 (Sun, 22 Mar 2009)

Log Message:
-----------
2009-03-22 21:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/valtoexp.prg
    + added timestamp support to hb_valToExp() and hb_cStr() functions

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/valtoexp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Sun Mar 22 17:15:39 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Sun Mar 22 17:15:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10673] trunk/harbour
Message-ID: <E1LlV19-0006bD-3E@c3vjzd1.ch3.sourceforge.com>

Revision: 10673
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10673&view=rev
Author:   fsgiudice
Date:     2009-03-22 21:15:31 +0000 (Sun, 22 Mar 2009)

Log Message:
-----------
2009-03-22 22:13 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  + harbour/source/rtl/tscalart.c
    + Added scalar TIMESTAMP
  * harbour/source/rtl/Makefile
    + tscalart.c added
  * harbour/include/hbclass.ch
    * added HBTIMESTAMP scalar type to ENABLE TYPE CLASS
  * harbour/source/rtl/tscalar.prg
    + added scalar class TIMESTAMP with methods to extract
      parts from Timestamp:
      Date(), Time(), Year(), Month(), Day(), Hour(), Minute(), Sec()
    * added methods Year(), Month(), Day() to Date scalar class
  * harbour/contrib/hbwin/win_ole.c
    * updated for new Timestamp type

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_ole.c
    trunk/harbour/include/hbclass.ch
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/tscalar.prg

Added Paths:
-----------
    trunk/harbour/source/rtl/tscalart.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sun Mar 22 17:26:00 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 22 17:26:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10672] trunk/harbour
In-Reply-To: <E1LlUaU-0003xn-P3@74yxhf1.ch3.sourceforge.com>
References: <E1LlUaU-0003xn-P3@74yxhf1.ch3.sourceforge.com>
Message-ID: <49C6ACE8.20703@fsgiudice.com>

Hi Przemek,

Il 22/03/2009 21.48, druzus@users.sourceforge.net ha scritto:
> 2009-03-22 21:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/source/rtl/valtoexp.prg
>     + added timestamp support to hb_valToExp() and hb_cStr() functions
Thank you

Best regards,
Francesco
From info at fsgiudice.com  Sun Mar 22 17:26:09 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 22 17:26:18 2009
Subject: [Harbour] error in hbwin ole with msvc
Message-ID: <49C6ACF1.4080407@fsgiudice.com>

Hi,

I have problems with ole using msvc that always returns error creating a 
new ole object:
"Error: xxxxxx not available. [Unknown error]"
where xxxxxx is ole name, i.e. InternetExplorer.Application

but it was working surely until:
2009-03-11 17:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

that is last update I did on old SVN copy I have.
So now I have tested win_ole.c changes using BCC582 and I'm digging to 
find when it stops to work.

Best regards,
Francesco
From fsgiudice at users.sourceforge.net  Sun Mar 22 17:29:48 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Sun Mar 22 17:29:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10674] trunk/harbour
Message-ID: <E1LlVEq-0007GA-Jg@c3vjzd1.ch3.sourceforge.com>

Revision: 10674
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10674&view=rev
Author:   fsgiudice
Date:     2009-03-22 21:29:40 +0000 (Sun, 22 Mar 2009)

Log Message:
-----------
2009-03-22 22:28 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/source/rtl/tscalart.c
    ! fixed SVN attributes
    ; I hope I did correctly

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Property Changed:
----------------
    trunk/harbour/source/rtl/tscalart.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Sun Mar 22 17:35:17 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Sun Mar 22 17:35:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10675] trunk/harbour
Message-ID: <E1LlVK9-0007MI-Gt@c3vjzd1.ch3.sourceforge.com>

Revision: 10675
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10675&view=rev
Author:   fsgiudice
Date:     2009-03-22 21:35:10 +0000 (Sun, 22 Mar 2009)

Log Message:
-----------
2009-03-22 22:33 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/source/rtl/tscalart.c
    * fixed header
    ; copyright leaved to Przemek as I have only changed function name, but
      the code is the same

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/tscalart.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Sun Mar 22 17:52:15 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Sun Mar 22 17:52:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10676] trunk/harbour
Message-ID: <E1LlVaZ-0007eN-8x@c3vjzd1.ch3.sourceforge.com>

Revision: 10676
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10676&view=rev
Author:   fsgiudice
Date:     2009-03-22 21:52:06 +0000 (Sun, 22 Mar 2009)

Log Message:
-----------
2009-03-22 22:50 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/hbwin/win_ole.c
    * removed debug lines

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_ole.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Sun Mar 22 19:56:27 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Sun Mar 22 19:56:31 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <49C584E1.1060200@zen.co.uk>
References: <49C584E1.1060200@zen.co.uk>
Message-ID: <49C6D02B.4070406@zen.co.uk>

I made a simple test which demonstrates the missing codes.
Tab, LF, CR & SPACE are all missing.
I can't figure out where this is happening.

/* testsend.prg
* loopback connector on com 1
*/
proc main
local x:=0;ch:=""
    tp_open( 1,,, 57600, 8, "N", 1 )
do while x<=255
    tp_send( 1, chr(x),1 )
    tp_inkey( .05 )
    ch= tp_recv( 1 )
    ??str(asc(ch),4,0)
    x++
enddo
    tp_Close( 1 )
return
---------------------------------
[baz@jackodesktop hbr]$ testsend
    0   1   2   3   4   5   6   7   8   0   0  11  12   0  14  15  16 
17  18
   19  20  21  22  23  24  25  26  27  28  29  30  31   0  33  34  35 
36  37
   38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54 
55  56
   57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72  73 
74  75
   76  77  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92 
93  94
   95  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111 
112 113
  114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 
131 132
  133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 
150 151
  152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 
169 170
  171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 
188 189
  190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 
207 208
  209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 
226 227
  228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 
245 246
  247 248 249 250 251 252 253 254 255
[baz@jackodesktop hbr]$

Barry Jackson wrote:
> I just hit a problem with hbtpathy. It will not send chr(13).
> All the other codes that I need it to transmit are OK.
> Does anyone know what may be causing this?
> I will try to make a self contained loopback test soon.
> Thanks
> Barry
> 
> ----------snip------------
> Com_Send(prt,CHR(13))
> ----------snip------------
> 
> FUNCTION Com_Send ( pt, sendstr )
> LOCAL nTimeout:=1
> tp_send( pt, sendstr, nTimeout )
> RETURN nil
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
From druzus at users.sourceforge.net  Sun Mar 22 21:11:28 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 22 21:11:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10677] trunk/harbour
Message-ID: <E1LlYhM-0000sB-2n@dn4whf1.ch3.sourceforge.com>

Revision: 10677
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10677&view=rev
Author:   druzus
Date:     2009-03-23 01:11:27 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 02:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
  * harbour/source/common/hbdate.c
  * harbour/source/macro/macrolex.c
  * harbour/source/compiler/complex.c
    + added alternative support for date constant values as: d"YYYY-MM-DD"
      As delimiter the following characters can be used: "-", "/", "."
      Just like in t"..."

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/compiler/complex.c
    trunk/harbour/source/macro/macrolex.c
    trunk/harbour/source/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From leonardo at sygecom.com.br  Sun Mar 22 22:28:07 2009
From: leonardo at sygecom.com.br (sygecom)
Date: Sun Mar 22 22:28:12 2009
Subject: [Harbour] Functions compatible with xHarbour
Message-ID: <22653400.post@talk.nabble.com>


Anybody know what the functions below xharbour compatible with the Harbor ?
VALTOPRG()
HB_CRYPT()
MILLISEC()
CHARMIRR()
LASTDAYOM()
OS_ISWTSCLIENT()
HB_CMDARGARGV()

And if there is something consistent, it would be possible to place the
hbcompat.ch?
-- 
View this message in context: http://www.nabble.com/Functions-compatible-with-xHarbour-tp22653400p22653400.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Mar 23 04:52:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 04:52:48 2009
Subject: [Harbour] Functions compatible with xHarbour
In-Reply-To: <22653400.post@talk.nabble.com>
References: <22653400.post@talk.nabble.com>
Message-ID: <18d502870903230152h143cb854kac00a35d1aeef628@mail.gmail.com>

Hi,
In Harbour, you can find these in hbct, hbwin, xhb libs.
Link them and retry.

Brgds,
Viktor

On Mon, Mar 23, 2009 at 3:28 AM, sygecom <leonardo@sygecom.com.br> wrote:

>
> Anybody know what the functions below xharbour compatible with the Harbor ?
> VALTOPRG()
> HB_CRYPT()
> MILLISEC()
> CHARMIRR()
> LASTDAYOM()
> OS_ISWTSCLIENT()
> HB_CMDARGARGV()
>
> And if there is something consistent, it would be possible to place the
> hbcompat.ch?
> --
> View this message in context:
> http://www.nabble.com/Functions-compatible-with-xHarbour-tp22653400p22653400.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/3dadf72f/attachment.html
From sscc at mweb.co.za  Mon Mar 23 05:03:33 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Mar 23 05:03:43 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <49C6D02B.4070406@zen.co.uk>
References: <49C584E1.1060200@zen.co.uk> <49C6D02B.4070406@zen.co.uk>
Message-ID: <49C75065.7020209@mweb.co.za>

Barry Jackson wrote:
> I made a simple test which demonstrates the missing codes.
> Tab, LF, CR & SPACE are all missing.
> I can't figure out where this is happening.

Sounds like trim() in the source somewhere.

Regards
Alex
From harbour.01 at syenar.hu  Mon Mar 23 05:16:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 05:16:37 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <49C584E1.1060200@zen.co.uk>
References: <49C584E1.1060200@zen.co.uk>
Message-ID: <18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>

Hi Barry,
Pls try with latest Harbour version, I've fixed some bugs
recently which can cause this e

On Sun, Mar 22, 2009 at 1:22 AM, Barry Jackson <zen25000@zen.co.uk> wrote:

> I just hit a problem with hbtpathy. It will not send chr(13).
> All the other codes that I need it to transmit are OK.
> Does anyone know what may be causing this?
> I will try to make a self contained loopback test soon.
> Thanks
> Barry
>
> ----------snip------------
> Com_Send(prt,CHR(13))
> ----------snip------------
>
> FUNCTION Com_Send ( pt, sendstr )
> LOCAL nTimeout:=1
> tp_send( pt, sendstr, nTimeout )
> RETURN nil
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/6e2d00f5/attachment.html
From harbour.01 at syenar.hu  Mon Mar 23 05:20:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 05:20:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <22639318.post@talk.nabble.com>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
	<49C51A29.1090509@uol.com.br> <22638314.post@talk.nabble.com>
	<49C52BF6.5010206@uol.com.br> <22639318.post@talk.nabble.com>
Message-ID: <18d502870903230220s41e32eefxd5865beb3b33390c@mail.gmail.com>

I suggest to you a .prg script to do such conversion :)
Brgds,
Viktor

On Sat, Mar 21, 2009 at 8:12 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Thanks Marcos
>
>
> Marcos Gambeta wrote:
> >
> > The php scripts are in the file hbqt001alpha.zip. Look in the folder
> > gensource.
> >
>
> I was just too fast, did not analyze your distro.
>
> What benefits do we have creating sources through scripts?
> It always implies that we cannot change the source if newer versions
> have to be adopted. Anyway we NEED to write the base script to
> supply to the script engine.
>
> I need more opinions on this matter.
>
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10670--trunk-harbour-tp22637569p22639318.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/7bdeba8a/attachment.html
From harbour.01 at syenar.hu  Mon Mar 23 05:22:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 05:22:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10671] trunk/harbour
In-Reply-To: <E1LlRC9-0000DV-5t@c3vjzd1.ch3.sourceforge.com>
References: <E1LlRC9-0000DV-5t@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870903230222u37a6b57ax11dbd73b385957be@mail.gmail.com>

>
> 2009-03-22 18:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbstack.h
>    * added alternative asm inline function to __MINGW32__ builds which
>      operates on 64bit pointers. It's used when __MINGW64__ macro is
>      defined. I do not know if such macro existing in 64bit MinGW version.
>

Thanks, and yes, __MINGW64__ is the way to detect MinGW64.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/16199218/attachment.html
From harbour.01 at syenar.hu  Mon Mar 23 05:36:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 05:36:29 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49C6ACF1.4080407@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>
Message-ID: <18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>

Hi Francesco, could easily be my MinGW64 changes broke it.
Brgds,
Viktor

On Sun, Mar 22, 2009 at 10:26 PM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi,
>
> I have problems with ole using msvc that always returns error creating a
> new ole object:
> "Error: xxxxxx not available. [Unknown error]"
> where xxxxxx is ole name, i.e. InternetExplorer.Application
>
> but it was working surely until:
> 2009-03-11 17:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>
> that is last update I did on old SVN copy I have.
> So now I have tested win_ole.c changes using BCC582 and I'm digging to find
> when it stops to work.
>
> Best regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/cae530c3/attachment.html
From info at fsgiudice.com  Mon Mar 23 07:15:57 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 23 07:16:06 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
Message-ID: <49C76F6D.6050205@fsgiudice.com>

Hi Viktor,

Il 23/03/2009 10.36, Viktor Szak?ts ha scritto:
> Hi Francesco, could easily be my MinGW64 changes broke it.
> 
I will check.

Best regards,
Francesco
From harbour.01 at syenar.hu  Mon Mar 23 07:30:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 07:30:19 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49C76F6D.6050205@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
Message-ID: <18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbwin.dif
Type: application/octet-stream
Size: 5283 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/bd533112/hbwin-0001.obj
From zen25000 at zen.co.uk  Mon Mar 23 08:44:33 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Mar 23 08:44:34 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
References: <49C584E1.1060200@zen.co.uk>
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
Message-ID: <49C78431.8000005@zen.co.uk>

Sorry abt direct mail - my mistake I hit reply!

Thanks Viktor - however I can't build latest SVN with mpkg_rpm.sh.
I tried a clean build with no RPM folder and the script failed - I had 
to make the RPM tree manually before it would run.(I expected it to make 
a new one automatically)
Now it fails in the find-provides at the end :-

Warning: unused libraries in /usr/lib/harbour/libharbour-1.1.0.so: 
librt.so.1
Warning: unused libraries in /usr/bin/hbrun:    libharbour.so 
libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
Warning: unused libraries in /usr/bin/hbi18n:   libharbour.so 
libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
Warning: unused libraries in /usr/bin/hbpp: librt.so.1 libdl.so.2
Warning: unused libraries in /usr/bin/harbour: librt.so.1 libdl.so.2
Warning: unused libraries in /usr/bin/hbmk2:    libharbour.so 
libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
Processing files: harbour-1.1.0-devmdv20090
Executing(%doc): /bin/sh -e /var/tmp/rpm-tmp.44761
+ umask 022
+ cd /home/baz/RPM/BUILD
+ cd harbour-1.1.0
+ DOCDIR=/tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ export DOCDIR
+ rm -rf /tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ /bin/mkdir -p /tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ cp -pr ChangeLog /tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ cp -pr doc/class_tp.txt doc/cmdline.txt doc/cmpopt.txt 
doc/codebloc.txt doc/codestyl.txt doc/c_std.txt doc/destruct.txt 
doc/dirstruc.txt doc/gmake.txt doc/gtapi.txt doc/hdr_tpl.txt 
doc/howtobld.txt doc/howtobsd.txt doc/howtorel.txt doc/howtosvn.txt 
doc/inet.txt doc/license.txt doc/linux1st.txt doc/pcode.txt doc/pp.txt 
doc/pragma.txt doc/readme.txt doc/statics.txt doc/tracing.txt 
doc/transfrm.txt doc/vm.txt doc/whatsnew.txt doc/windll.txt 
/tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ cp -pr doc/README.RPM /tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ cp -pr doc/en/ /tmp/harbour-1.1.0-root/usr/share/doc/harbour
+ cp -pr doc/es/ /tmp/harbour-1.1.0-root/usr/share/doc/harbour
cp: cannot stat `doc/es/': No such file or directory
error: Bad exit status from /var/tmp/rpm-tmp.44761 (%doc)
Processing files: harbour-lib-1.1.0-devmdv20090
Finding  Provides: /usr/lib/rpm/mandriva/filter.sh ' ' ' ' 
'/tmp/harbour-1.1.0-root' /usr/lib/rpm/mandriva/find-provides
Died at /usr/lib/rpm/mandriva/php.req line 23, <> line 1.
Finding  Requires: /usr/lib/rpm/mandriva/filter.sh ' ' ' ' 
'/tmp/harbour-1.1.0-root' /usr/lib/rpm/mandriva/find-requires 
/tmp/harbour-1.1.0-root i586
Provides: libharbour.so libharbourmt.so libharbour-1.1.0.so 
libharbourmt-1.1.0.so libharbourmt.so libharbour.so
Requires(rpmlib): rpmlib(PayloadFilesHavePrefix) <= 4.0-1 
rpmlib(CompressedFileNames) <= 3.0.4-1
Requires: libc.so.6 libc.so.6(GLIBC_2.0) libc.so.6(GLIBC_2.1) 
libc.so.6(GLIBC_2.1.3) libc.so.6(GLIBC_2.2) libc.so.6(GLIBC_2.2.3) 
libc.so.6(GLIBC_2.3) libdl.so.2 libdl.so.2(GLIBC_2.0) 
libdl.so.2(GLIBC_2.1) libm.so.6 libm.so.6(GLIBC_2.0) 
libm.so.6(GLIBC_2.1) libncurses.so.5 libpthread.so.0 
libpthread.so.0(GLIBC_2.0) libpthread.so.0(GLIBC_2.1) 
libpthread.so.0(GLIBC_2.2) libpthread.so.0(GLIBC_2.3.2) librt.so.1 
librt.so.1(GLIBC_2.2) libslang.so.2 libX11.so.6 rtld(GNU_HASH)
Processing files: harbour-static-1.1.0-devmdv20090
Finding  Provides: /usr/lib/rpm/mandriva/filter.sh ' ' ' ' 
'/tmp/harbour-1.1.0-root' /usr/lib/rpm/mandriva/find-provides
Died at /usr/lib/rpm/mandriva/php.req line 23, <> line 1.
Finding  Requires: /usr/lib/rpm/mandriva/filter.sh ' ' ' ' 
'/tmp/harbour-1.1.0-root' /usr/lib/rpm/mandriva/find-requires 
/tmp/harbour-1.1.0-root i586
Requires(rpmlib): rpmlib(PayloadFilesHavePrefix) <= 4.0-1 
rpmlib(CompressedFileNames) <= 3.0.4-1
Processing files: harbour-contrib-1.1.0-devmdv20090
Finding  Provides: /usr/lib/rpm/mandriva/filter.sh ' ' ' ' 
'/tmp/harbour-1.1.0-root' /usr/lib/rpm/mandriva/find-provides
Died at /usr/lib/rpm/mandriva/php.req line 23, <> line 1.
Finding  Requires: /usr/lib/rpm/mandriva/filter.sh ' ' ' ' 
'/tmp/harbour-1.1.0-root' /usr/lib/rpm/mandriva/find-requires 
/tmp/harbour-1.1.0-root i586
Requires(rpmlib): rpmlib(PayloadFilesHavePrefix) <= 4.0-1 
rpmlib(CompressedFileNames) <= 3.0.4-1
Processing files: harbour-debug-1.1.0-devmdv20090
Checking for unpackaged file(s): /usr/lib/rpm/check-files 
/tmp/harbour-1.1.0-root


RPM build errors:
     Bad exit status from /var/tmp/rpm-tmp.44761 (%doc)

// snip from php.req in my current Mandriva ----------

foreach (@ARGV ? $ARGV : <> ) {
     chomp;
     $f = $_;
     push @files, $f;
     open(F, "< $f") or die;          <= line 23

Any ideas?
Barry.



Viktor Szak?ts wrote:
 > Hi Barry,
 >
 > Pls try with latest Harbour version, I've fixed some bugs recently 
which can cause this e
 >
 > On Sun, Mar 22, 2009 at 1:22 AM, Barry Jackson <zen25000@zen.co.uk 
<mailto:zen25000@zen.co.uk>> wrote:
 >
 >     I just hit a problem with hbtpathy. It will not send chr(13).
 >     All the other codes that I need it to transmit are OK.
 >     Does anyone know what may be causing this?
 >     I will try to make a self contained loopback test soon.
 >     Thanks
 >     Barry
 >
 >     ----------snip------------
 >     Com_Send(prt,CHR(13))
 >     ----------snip------------
 >
 >     FUNCTION Com_Send ( pt, sendstr )
 >     LOCAL nTimeout:=1
 >     tp_send( pt, sendstr, nTimeout )
 >     RETURN nil
 >     _______________________________________________
 >     Harbour mailing list
 >     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
 >     http://lists.harbour-project.org/mailman/listinfo/harbour
 >


Viktor Szak?ts wrote:
> Hi Barry,
> 
> Pls try with latest Harbour version, I've fixed some bugs 
> recently which can cause this e
> 
> On Sun, Mar 22, 2009 at 1:22 AM, Barry Jackson <zen25000@zen.co.uk 
> <mailto:zen25000@zen.co.uk>> wrote:
> 
>     I just hit a problem with hbtpathy. It will not send chr(13).
>     All the other codes that I need it to transmit are OK.
>     Does anyone know what may be causing this?
>     I will try to make a self contained loopback test soon.
>     Thanks
>     Barry
> 
>     ----------snip------------
>     Com_Send(prt,CHR(13))
>     ----------snip------------
> 
>     FUNCTION Com_Send ( pt, sendstr )
>     LOCAL nTimeout:=1
>     tp_send( pt, sendstr, nTimeout )
>     RETURN nil
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
From druzus at acn.waw.pl  Mon Mar 23 09:51:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 23 09:45:16 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <49C78431.8000005@zen.co.uk>
References: <49C584E1.1060200@zen.co.uk>
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
	<49C78431.8000005@zen.co.uk>
Message-ID: <20090323135143.GA15522@uran.home.aster.pl>

On Mon, 23 Mar 2009, Barry Jackson wrote:

Hi,

> Thanks Viktor - however I can't build latest SVN with mpkg_rpm.sh.
> I tried a clean build with no RPM folder and the script failed - I had to 
> make the RPM tree manually before it would run.(I expected it to make a new 
> one automatically)

It makes it if you do not have local ${HOME}/.rpmmacros file. Otherwise
it tries to use existing configuration and RPM build tree set by user.
I can only guess that you have some old .rpmmacros and you manually
removed the RPM build tree. But it's not Harbour job to fix user
RPM build settings. Of course it's also possible that it fails
for some other reasons with mandriva. In such case I would like to
ask you about details. But 1-st try to use it with from non root
account without any local ~/.rpmmacros

> Now it fails in the find-provides at the end :-

> Warning: unused libraries in /usr/lib/harbour/libharbour-1.1.0.so: 
> librt.so.1
> Warning: unused libraries in /usr/bin/hbrun:    libharbour.so 
> libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
> Warning: unused libraries in /usr/bin/hbi18n:   libharbour.so 
> libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
> Warning: unused libraries in /usr/bin/hbpp: librt.so.1 libdl.so.2
> Warning: unused libraries in /usr/bin/harbour: librt.so.1 libdl.so.2
> Warning: unused libraries in /usr/bin/hbmk2:    libharbour.so 
> libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2

Now harbour shared library has all external library bindings so we can
remove explicit bindings. I'll do that. Anyhow the above warning messages
can be ignored.

> /tmp/harbour-1.1.0-root/usr/share/doc/harbour
> + cp -pr doc/README.RPM /tmp/harbour-1.1.0-root/usr/share/doc/harbour
> + cp -pr doc/en/ /tmp/harbour-1.1.0-root/usr/share/doc/harbour
> + cp -pr doc/es/ /tmp/harbour-1.1.0-root/usr/share/doc/harbour
> cp: cannot stat `doc/es/': No such file or directory

this directory had been removed from SVN but RPM and DEB spec have not
been updated yet. I'll make it.

New build scripts creates doc directory but do not create en and es
subdirectories. It should be fixed too and probably scripts created
to build packages updated for modified make_gnu.*

> Requires(rpmlib): rpmlib(PayloadFilesHavePrefix) <= 4.0-1 
> rpmlib(CompressedFileNames) <= 3.0.4-1
> Processing files: harbour-debug-1.1.0-devmdv20090
> Checking for unpackaged file(s): /usr/lib/rpm/check-files 
> /tmp/harbour-1.1.0-root
> RPM build errors:
>     Bad exit status from /var/tmp/rpm-tmp.44761 (%doc)

I'll commit fix in few minutes, please tests.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Mar 23 09:48:24 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 09:48:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10678] trunk/harbour
Message-ID: <E1LlkVs-0003by-8k@3kljzd1.ch3.sourceforge.com>

Revision: 10678
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10678&view=rev
Author:   druzus
Date:     2009-03-23 13:48:23 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 14:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/debian/dirs
  * harbour/harbour.spec
    ! removed doc/es form direcotry list

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/dirs
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Mon Mar 23 10:09:15 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Mar 23 10:09:18 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <20090323135143.GA15522@uran.home.aster.pl>
References: <49C584E1.1060200@zen.co.uk>
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
	<49C78431.8000005@zen.co.uk>
	<20090323135143.GA15522@uran.home.aster.pl>
Message-ID: <49C7980B.2050009@zen.co.uk>

Thanks Przemek,
I did have .rpmmacros set.

When I used mpkg_rpm.sh in the past the install defaulted to:-
/usr/bin
/usr/lib/harbour
/usr/include/harbour

Just now to avoid the rpm I built harbour from $ make_gnu.sh and
# make_gnu.sh install (with no harbour paths set in environment) and it 
defaulted to:-
/usr/local/bin
/usr/local/lib/harbour
/usr/local/include/harbour

It compiled my test prg OK but on running :-

[baz@jackodesktop hbr]$ testsend
testsend: error while loading shared libraries: libharbour.so: cannot 
open shared object file: No such file or directory

What is now really needed in environment? I have nothing in there for 
harbour at present, preferring to go with defaults if possible.

Regards,
Barry



Przemyslaw Czerpak wrote:
> On Mon, 23 Mar 2009, Barry Jackson wrote:
> 
> Hi,
> 
>> Thanks Viktor - however I can't build latest SVN with mpkg_rpm.sh.
>> I tried a clean build with no RPM folder and the script failed - I had to 
>> make the RPM tree manually before it would run.(I expected it to make a new 
>> one automatically)
> 
> It makes it if you do not have local ${HOME}/.rpmmacros file. Otherwise
> it tries to use existing configuration and RPM build tree set by user.
> I can only guess that you have some old .rpmmacros and you manually
> removed the RPM build tree. But it's not Harbour job to fix user
> RPM build settings. Of course it's also possible that it fails
> for some other reasons with mandriva. In such case I would like to
> ask you about details. But 1-st try to use it with from non root
> account without any local ~/.rpmmacros
> 
>> Now it fails in the find-provides at the end :-
> 
>> Warning: unused libraries in /usr/lib/harbour/libharbour-1.1.0.so: 
>> librt.so.1
>> Warning: unused libraries in /usr/bin/hbrun:    libharbour.so 
>> libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
>> Warning: unused libraries in /usr/bin/hbi18n:   libharbour.so 
>> libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
>> Warning: unused libraries in /usr/bin/hbpp: librt.so.1 libdl.so.2
>> Warning: unused libraries in /usr/bin/harbour: librt.so.1 libdl.so.2
>> Warning: unused libraries in /usr/bin/hbmk2:    libharbour.so 
>> libncurses.so.5 libslang.so.2 libX11.so.6 libm.so.6 librt.so.1 libdl.so.2
> 
> Now harbour shared library has all external library bindings so we can
> remove explicit bindings. I'll do that. Anyhow the above warning messages
> can be ignored.
> 
>> /tmp/harbour-1.1.0-root/usr/share/doc/harbour
>> + cp -pr doc/README.RPM /tmp/harbour-1.1.0-root/usr/share/doc/harbour
>> + cp -pr doc/en/ /tmp/harbour-1.1.0-root/usr/share/doc/harbour
>> + cp -pr doc/es/ /tmp/harbour-1.1.0-root/usr/share/doc/harbour
>> cp: cannot stat `doc/es/': No such file or directory
> 
> this directory had been removed from SVN but RPM and DEB spec have not
> been updated yet. I'll make it.
> 
> New build scripts creates doc directory but do not create en and es
> subdirectories. It should be fixed too and probably scripts created
> to build packages updated for modified make_gnu.*
> 
>> Requires(rpmlib): rpmlib(PayloadFilesHavePrefix) <= 4.0-1 
>> rpmlib(CompressedFileNames) <= 3.0.4-1
>> Processing files: harbour-debug-1.1.0-devmdv20090
>> Checking for unpackaged file(s): /usr/lib/rpm/check-files 
>> /tmp/harbour-1.1.0-root
>> RPM build errors:
>>     Bad exit status from /var/tmp/rpm-tmp.44761 (%doc)
> 
> I'll commit fix in few minutes, please tests.
> 
> best regards,
> Przemek
> 
From druzus at acn.waw.pl  Mon Mar 23 10:31:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 23 10:24:48 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <49C7980B.2050009@zen.co.uk>
References: <49C584E1.1060200@zen.co.uk>
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
	<49C78431.8000005@zen.co.uk>
	<20090323135143.GA15522@uran.home.aster.pl>
	<49C7980B.2050009@zen.co.uk>
Message-ID: <20090323143116.GA30716@uran.home.aster.pl>

On Mon, 23 Mar 2009, Barry Jackson wrote:

Hi,


> [baz@jackodesktop hbr]$ testsend
> testsend: error while loading shared libraries: libharbour.so: cannot open 
> shared object file: No such file or directory
> What is now really needed in environment? I have nothing in there for 
> harbour at present, preferring to go with defaults if possible.

Nothing has changed here.
You do no thave hbarbour shared library or link to harbour shared
library in one of lib directories scanned by ldd.

best regards,
Przemek
From zen25000 at zen.co.uk  Mon Mar 23 10:42:01 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Mar 23 10:42:03 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <20090323143116.GA30716@uran.home.aster.pl>
References: <49C584E1.1060200@zen.co.uk>
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
	<49C78431.8000005@zen.co.uk>
	<20090323135143.GA15522@uran.home.aster.pl>
	<49C7980B.2050009@zen.co.uk>
	<20090323143116.GA30716@uran.home.aster.pl>
Message-ID: <49C79FB9.6000805@zen.co.uk>

@Przemek
Thanks - rpm builds fine now - I will check out your other comments.

@Viktor
The latest SVN has cured the hbtpathy problem - many thanks!

[baz@jackodesktop hbr]$ testsend
    0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16 
17  18  19  20  21  22  23  2
4  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41 
42  43  44  45  46  47  48 ....etc..

Regards,
Barry

Przemyslaw Czerpak wrote:
> On Mon, 23 Mar 2009, Barry Jackson wrote:
> 
> Hi,
> 
> 
>> [baz@jackodesktop hbr]$ testsend
>> testsend: error while loading shared libraries: libharbour.so: cannot open 
>> shared object file: No such file or directory
>> What is now really needed in environment? I have nothing in there for 
>> harbour at present, preferring to go with defaults if possible.
> 
> Nothing has changed here.
> You do no thave hbarbour shared library or link to harbour shared
> library in one of lib directories scanned by ldd.
> 
> best regards,
> Przemek
> 
From harbour.01 at syenar.hu  Mon Mar 23 10:57:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 10:57:10 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <49C79FB9.6000805@zen.co.uk>
References: <49C584E1.1060200@zen.co.uk>
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>
	<49C78431.8000005@zen.co.uk>
	<20090323135143.GA15522@uran.home.aster.pl>
	<49C7980B.2050009@zen.co.uk>
	<20090323143116.GA30716@uran.home.aster.pl>
	<49C79FB9.6000805@zen.co.uk>
Message-ID: <18d502870903230757g593887e4g2398147d155eed12@mail.gmail.com>

Thanks for the feedback.
Brgds,
Viktor

On Mon, Mar 23, 2009 at 3:42 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

> @Przemek
> Thanks - rpm builds fine now - I will check out your other comments.
>
> @Viktor
> The latest SVN has cured the hbtpathy problem - many thanks!
>
> [baz@jackodesktop hbr]$ testsend
>   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16 17  18
>  19  20  21  22  23  2
> 4  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41 42
>  43  44  45  46  47  48 ....etc..
>
> Regards,
> Barry
>
> Przemyslaw Czerpak wrote:
>
>> On Mon, 23 Mar 2009, Barry Jackson wrote:
>>
>> Hi,
>>
>>
>>  [baz@jackodesktop hbr]$ testsend
>>> testsend: error while loading shared libraries: libharbour.so: cannot
>>> open shared object file: No such file or directory
>>> What is now really needed in environment? I have nothing in there for
>>> harbour at present, preferring to go with defaults if possible.
>>>
>>
>> Nothing has changed here.
>> You do no thave hbarbour shared library or link to harbour shared
>> library in one of lib directories scanned by ldd.
>>
>> best regards,
>> Przemek
>>
>>  _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/cf521841/attachment-0001.html
From druzus at users.sourceforge.net  Mon Mar 23 11:00:48 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 11:00:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10679] trunk/harbour
Message-ID: <E1Llldv-0005Xx-W5@dn4whf1.ch3.sourceforge.com>

Revision: 10679
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10679&view=rev
Author:   druzus
Date:     2009-03-23 15:00:44 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 16:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
    ! fixed typo in data constant values written to .ppo files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Mon Mar 23 11:08:22 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 23 11:08:33 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
Message-ID: <49C7A5E6.5010808@fsgiudice.com>

Hi Viktor,
found the problem: is -TP flag used in config/win/msvc.cf at line 15.

I have removed it changing from
CPPFLAGS = -nologo -W4 -wd4127 -Gs -I. -I$(HB_INC_COMPILE) -TP
to
CPPFLAGS = -nologo -W4 -wd4127 -Gs -I. -I$(HB_INC_COMPILE)

and now ole works again with msvc.
Now I'm testing other parts because actually I did only a test using
contrib/hbwin/tests/testole.prg
contrib/hbole/tests/testole.prg
Both didn't work before and now both work again.

Surely this has to be checked, probably disabling c++ compilation for 
those folder only, but I suspect (but it is only a thought) that the 
problem resides in other part.

There are also a lot of warnings inside build log file about some wrong 
conversions, like (sorry if they are in Italian, but the warning should 
be clear):
../../expropt2.c(557) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../expropt2.c(559) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../expropt2.c(569) : warning C4244: 'funzione': conversione da 
'HB_LONG' a 'LONG'. Possibile perdita di dati.
../../expropt2.c(760) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../expropt2.c(762) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../expropt2.c(772) : warning C4244: 'funzione': conversione da 
'HB_LONG' a 'LONG'. Possibile perdita di dati.
../../expropt2.c(813) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../expropt2.c(815) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../expropt2.c(825) : warning C4244: 'funzione': conversione da 
'HB_LONG' a 'LONG'. Possibile perdita di dati.

harboury.c(4143) : warning C4244: '=': conversione da 'int' a 
'yytype_int16'. Possibile perdita di dati.
harbour.y(571) : warning C4244: 'funzione': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.

../../gencc.c(656) : warning C4244: '=': conversione da 'size_t' a 
'USHORT'. Possibile perdita di dati.
../../gencc.c(808) : warning C4244: '=': conversione da 'size_t' a 
'USHORT'. Possibile perdita di dati.
../../gencc.c(1558) : warning C4244: '=': conversione da 'size_t' a 
'USHORT'. Possibile perdita di dati.

../../complex.c(365) : warning C4244: '=': conversione da 'HB_LONG' a 
'LONG'. Possibile perdita di dati.
../../complex.c(416) : warning C4244: 'funzione': conversione da 
'HB_LONG' a 'int'. Possibile perdita di dati.
../../complex.c(416) : warning C4244: 'funzione': conversione da 
'HB_LONG' a 'int'. Possibile perdita di dati.
../../complex.c(416) : warning C4244: 'funzione': conversione da 
'HB_LONG' a 'int'. Possibile perdita di dati.

../../hbmain.c(298) : warning C4244: '=': conversione da 'int' a 
'USHORT'. Possibile perdita di dati.
../../hbmain.c(3518) : warning C4244: '+=': conversione da 'size_t' a 
'USHORT'. Possibile perdita di dati.

.....

Best regards,
Francesco

PS: I will test also you patch ASAP to see if it also solves the problem.


Il 23/03/2009 12.30, Viktor Szak?ts ha scritto:
> Thank you very much.
> 
> I've attached a small patch to convert some parameters to ptr type, 
> but it probably won't solve the problem by itself.
> 
> Whole OLE code is very flakey, I hope Mindaugas can send us 
> something before we release.
> 
> BTW, new xhb whatsnew advertised that they had an OLE update 
> which eliminated internals from the code. Unfortunately this change 
> isn't published in their CVS anymore.
> 
> Brgds,
> Viktor
> 
> 
> On Mon, Mar 23, 2009 at 12:15 PM, Francesco Saverio Giudice 
> <info@fsgiudice.com <mailto:info@fsgiudice.com>> wrote:
> 
>     Hi Viktor,
> 
>     Il 23/03/2009 10.36, Viktor Szak?ts ha scritto:
> 
>         Hi Francesco, could easily be my MinGW64 changes broke it.
> 
>     I will check.
> 
> 
>     Best regards,
>     Francesco
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Mon Mar 23 11:28:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 23 11:21:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10671] trunk/harbour
In-Reply-To: <18d502870903230222u37a6b57ax11dbd73b385957be@mail.gmail.com>
References: <E1LlRC9-0000DV-5t@c3vjzd1.ch3.sourceforge.com>
	<18d502870903230222u37a6b57ax11dbd73b385957be@mail.gmail.com>
Message-ID: <20090323152812.GA16395@uran.home.aster.pl>

On Mon, 23 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > 2009-03-22 18:16 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/include/hbstack.h
> >    * added alternative asm inline function to __MINGW32__ builds which
> >      operates on 64bit pointers. It's used when __MINGW64__ macro is
> >      defined. I do not know if such macro existing in 64bit MinGW version.
> Thanks, and yes, __MINGW64__ is the way to detect MinGW64.

Fine,
Can it cleanly compile it now?
It should fix this errors:
   Temp/ccVJXjZS.s:19: Error: Incorrect register `%rax' used with `l' suffix
   Temp/ccVJXjZS.s:20: Error: `0x0e10(%rax,%ecx,4)' is not a valid base/index expression

For this ones:
   ../../hbprintf.c:1067: warning: implicit declaration of function 'finite'
   ../../itemapi.c:2159: warning: implicit declaration of function 'finite'
look at MinGW64 header files and check if it has finite() function declared
somewhere.
If not then look for corresponding functions with the same functionality,
f.e. C99 functions: isfinite()/isnan()/isinf().
Probably it will have at least isfinite(). In such case add to this #if
#  if defined(__RSXNT__) || defined(__EMX__) || \
      defined(__XCC__) || defined(__POCC__) || \
      defined(HB_OS_HPUX)
#     define hb_isfinite( d )       isfinite( d )

also: || defined(__MINGW64__)

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Mar 23 11:57:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 11:57:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10680] trunk/harbour
Message-ID: <E1LlmWy-0003zs-Ao@3kljzd1.ch3.sourceforge.com>

Revision: 10680
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10680&view=rev
Author:   druzus
Date:     2009-03-23 15:57:39 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 17:04 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/itemapi.c
  * harbour/source/common/hbprintf.c
    * use isfinite() instead of finite() in MinGW builds.
      It's possible that it can resolve problems with MinGW64 builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/hbprintf.c
    trunk/harbour/source/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 23 12:05:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 12:05:24 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49C7A5E6.5010808@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49C7A5E6.5010808@fsgiudice.com>
Message-ID: <18d502870903230905w20a4ea01v80f58e106d300ea1@mail.gmail.com>

Hi Francesco,

found the problem: is -TP flag used in config/win/msvc.cf at line 15.
>
> I have removed it changing from
> CPPFLAGS = -nologo -W4 -wd4127 -Gs -I. -I$(HB_INC_COMPILE) -TP
> to
> CPPFLAGS = -nologo -W4 -wd4127 -Gs -I. -I$(HB_INC_COMPILE)
>
> and now ole works again with msvc.
> Now I'm testing other parts because actually I did only a test using
> contrib/hbwin/tests/testole.prg
> contrib/hbole/tests/testole.prg
> Both didn't work before and now both work again.


Many thanks. IMO we should try to find what gets broken in C++ mode,
rather than disabling it for this lib. Normally all our code should work in
C++ mode, and AFAICR it did last summer.

I suspect some of the compiler patches might be the culprit here,
as OLE code is normally C++ and we're doing hacks to access it
from plain C. This hack needs to be done differently from compiler
to compiler and maybe it went wrong. You're right that other
contribs may also be affected (GTWVG, hbole).

There are also a lot of warnings inside build log file about some wrong
> conversions, like (sorry if they are in Italian, but the warning should be
> clear):
> ../../expropt2.c(557) : warning C4244: '=': conversione da 'HB_LONG' a
> 'LONG'. Possibile perdita di dati.


Yes, I know about them, and I think we should deal with these when
switching to new Harbour types, I didn't want to start any cleanup
before that anyway.

PS: I will test also you patch ASAP to see if it also solves the problem.


Thanks a lot!

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/abcef197/attachment.html
From harbour.01 at syenar.hu  Mon Mar 23 12:14:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 12:14:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10671] trunk/harbour
In-Reply-To: <20090323152812.GA16395@uran.home.aster.pl>
References: <E1LlRC9-0000DV-5t@c3vjzd1.ch3.sourceforge.com>
	<18d502870903230222u37a6b57ax11dbd73b385957be@mail.gmail.com>
	<20090323152812.GA16395@uran.home.aster.pl>
Message-ID: <18d502870903230914x174d6176pa1618c91ddd482f0@mail.gmail.com>

Hi Przemek,

> Thanks, and yes, __MINGW64__ is the way to detect MinGW64.
>
> Fine,
> Can it cleanly compile it now?
> It should fix this errors:
>   Temp/ccVJXjZS.s:19: Error: Incorrect register `%rax' used with `l' suffix
>   Temp/ccVJXjZS.s:20: Error: `0x0e10(%rax,%ecx,4)' is not a valid
> base/index expression


I'll be able to check tomorrow, sorry, but this was the only kind of
error pattern I could see. Will report the results.


> For this ones:
>   ../../hbprintf.c:1067: warning: implicit declaration of function 'finite'
>   ../../itemapi.c:2159: warning: implicit declaration of function 'finite'
> look at MinGW64 header files and check if it has finite() function declared
> somewhere.
> If not then look for corresponding functions with the same functionality,
> f.e. C99 functions: isfinite()/isnan()/isinf().


Okay and thanks, I'll do it ASAP.

BTW, the mingw64 distro I used, was this one, for anyone interested:
mingw-w64-bin_i686-mingw_20090110.zip<http://downloads.sourceforge.net/mingw-w64/mingw-w64-bin_i686-mingw_20090110.zip?use_mirror=heanet>

There is also a Linux port there:
http://sourceforge.net/project/showfiles.php?group_id=202880

This also means we can have make_gnu_mingw64.sh for
64-bit cross builds.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/99ecd178/attachment.html
From harbour.01 at syenar.hu  Mon Mar 23 12:27:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 12:27:35 2009
Subject: [Harbour] Embedding 3rd party projects
Message-ID: <18d502870903230927y3e812371lce60a347d75a1e16@mail.gmail.com>

Hi All,


I'd like to propose a way to add 3rd party code to Harbour

in an organized way. We already have zlib and pcre in core,

and sqlite3 in contrib. In the first pass (or even at all) I wouldn't

like to touch zlib and pcre in this respect, but for sqlite3 and

some other potential libs like these might be useful because

in such way these libs will be available in tested (and if need

patched versions) for all Harbour users, even as static libs.


Problems to solve:

- We need a way to properly follow local changes, and allow

  us to propagate back these changes to 3rd party source tree,

  and to relatively easily update 3rd party code in our SVN.

  To ease this we definitely need a local ChangeLog which

  must be updated on each change. Furthermore, we might

  resort to only keep a .pat file, which is applied before doing

  the build. (we need to find a way how to do this using the

  GNU Make system in a manageable way, but since doesn't

  seem easy, let's skip it first)

- We need to keep these libs updated as the 3rd party libs

  get updates. This needs some work to do from one, to the

  benefit of all. This kind of job needs converting 3rd party

  source tree to a flat directory (or subdir per output lib) and

  adapt our local Makefile.

- Licensing: We must make sure the license allows such

  embedded source distribution for us and also for Harbour

  users in binary forms. (so pure GPL isn't good). The rules

  is the same as for pcre, zlib, sqlite3.


Misc issues:

- To make our job easier we can lift most of our uniformity

   rules for these libs, like the 8.3 filename rule.

- We should discuss each new such 3rd party lib before

  addition, and try to resort to universal, multiplatform,

  mature libs.

- Some versioning softwares, like GIT, allows to integrate

  local repository with external repositories, we may

  be able to extend in this direction in the future.

- Naturally no local changes are allowed besides

  portability or code quality patches and bugfixes.

- Naturally, we mustn't break compatibility with original

  libs (dynamic or static).

- We should be using the original libnames for output.

- We should think about distribution, whether to allow

  them, or build these by default. We can introduce make

  switches for this purpose and discuss a good default.


Future directions:

- We may add support to create dynamic libs from these

  3rd party libs and if we find a way may use the infrastructure

  to create dynamic libs from Harbour contrib libs too.


We could put all these libs in a new root dir called:

- /3rd


Some libs which may add in this form:

jpeg, libpng, libharu, sqlite3 (from current contrib subdir),

freetype, etcetc.


I'd welcome opinions from everyone.


Brgds,

Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/5a8442b3/attachment.html
From info at fsgiudice.com  Mon Mar 23 12:41:53 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 23 12:42:42 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <18d502870903230927y3e812371lce60a347d75a1e16@mail.gmail.com>
References: <18d502870903230927y3e812371lce60a347d75a1e16@mail.gmail.com>
Message-ID: <49C7BBD1.5010603@fsgiudice.com>

Hi Viktor,

Il 23/03/2009 17.27, Viktor Szak?ts ha scritto:
> I'd like to propose a way to add 3rd party code to Harbour 
> in an organized way. 

very interesting subject.
AFAIR SVN should permits to handle external projects.
I have seen this in other projects, but in this moment I don't recall 
any name.

Do I remember badly ?


Best regards,
Francesco
From harbour.01 at syenar.hu  Mon Mar 23 12:50:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 23 12:50:12 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <49C7BBD1.5010603@fsgiudice.com>
References: <18d502870903230927y3e812371lce60a347d75a1e16@mail.gmail.com>
	<49C7BBD1.5010603@fsgiudice.com>
Message-ID: <18d502870903230950m5aaa5d44g6c19355925e0d32b@mail.gmail.com>

>
> Il 23/03/2009 17.27, Viktor Szak?ts ha scritto:
>
>> I'd like to propose a way to add 3rd party code to Harbour in an organized
>> way.
>>
>
> very interesting subject.
> AFAIR SVN should permits to handle external projects.
> I have seen this in other projects, but in this moment I don't recall any
> name.
>
> Do I remember badly ?


No, not at all, I wasn't sure about it, and probably I have only
seen it with Git, but now I've checked and it seems SVN does
support it too.

http://jingyeluo.blogspot.com/2006/08/svn-external-steps.html

We need to carefully use it (I haven't read through the whole
documentation yet to see the capabilities), because one of the
points of bringing external stuff into our tree is to integrate them
in our make system.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/4f44dbdf/attachment-0001.html
From druzus at acn.waw.pl  Mon Mar 23 13:21:26 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 23 13:15:07 2009
Subject: [Harbour] DATETIME and memo FPT in VFP
Message-ID: <20090323172125.GA29494@uran.home.aster.pl>

Hi All,

I've got a question about VFP and storing DATETIME values in memo FPT
files. Is is possible?
If yes then I would like to ask about DBF/FPT files created in VFP
by this code:

   proc main()
      dbCreate( "_tsttime", { { "F1", "M", 4, 0 } } )
      use _tsttime
      append blank
      replace F1 with hb_datetime()
      close
   return

Can someone sent it to me?
I would like to add support for timestamp values in FPT files and
if possible I would like to make it binary compatible with other
languages which may also support it.

best regards,
Przemek
From marcosgambeta at uol.com.br  Mon Mar 23 15:07:18 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Mon Mar 23 15:07:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
Message-ID: <49C7DDE6.9040706@uol.com.br>

vouchcac@users.sourceforge.net escreveu:
> Revision: 10670
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10670&view=rev
> Author:   vouchcac
> Date:     2009-03-21 16:05:10 +0000 (Sat, 21 Mar 2009)
> 
> Log Message:
> -----------
> 
>   + harbour/contrib/hbqt/tests
>   + harbour/contrib/hbqt/tests/demoqt.prg
>     + Added a small test. Marcos please check which MinGW flag is
>       needed so that it does not show up console screen as parent
>       of App or Dialogs.
> 

Pritipal,

-mwindows e mno-cygwin can be removed. Only -Wl,-subsystem,windows is 
necessary.

But i need to add the lines below to remove console window:

REQUEST HB_GT_GUI_DEFAULT
ANNOUNCE HB_GT_WIN

My Harbour is compiled with default options.


Regards,
Marcos Gambeta

From druzus at users.sourceforge.net  Mon Mar 23 15:39:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 15:40:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10681] trunk/harbour
Message-ID: <E1Llq07-0000IW-Uz@74yxhf1.ch3.sourceforge.com>

Revision: 10681
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10681&view=rev
Author:   druzus
Date:     2009-03-23 19:39:59 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 20:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbclass.ch
    + added support for xBase++ method code declaration by
         METHOD <clasName>:<methodName>[ ( <parameters,...> ) ]
      f.e.:
         METHOD TBrowse:Configure( nMode )

  * harbour/source/rtl/tthreadx.prg
  * harbour/source/rtl/thfuncx.prg
    ! fixed 0 timeout parameter in some xBase++ compatible functions
      In xBase++ timeout 0 means wait forever

  * harbour/tests/speedtst.prg
    * update to compile with MT support using xBase++ MT .prg API.
      I tested it only using Harbour by compiling this code with
      -D__XPP__ macro and it works using only xBase++ MT .prg API
      we are emulating.
      Please make some tests with real xBase++ compiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbclass.ch
    trunk/harbour/source/rtl/thfuncx.prg
    trunk/harbour/source/rtl/tthreadx.prg
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Mar 23 15:55:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 23 15:48:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <49C7DDE6.9040706@uol.com.br>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
	<49C7DDE6.9040706@uol.com.br>
Message-ID: <20090323195503.GA4504@uran.home.aster.pl>

On Mon, 23 Mar 2009, Marcos Gambeta wrote:

Hi,

> -mwindows e mno-cygwin can be removed. Only -Wl,-subsystem,windows is 
> necessary.

AFAIK -mwindows/-mconsole should be used instead of using directly LD
parameters. Of course both will probably make the same job in your case
but GCC knows about -mwindows but may not know anything about linker
parameters passed by -Wl,... option. Probably it does not parse them
at all so in some cases it may behaves wrongly.

> But i need to add the lines below to remove console window:
> REQUEST HB_GT_GUI_DEFAULT
> ANNOUNCE HB_GT_WIN

This is wrong.
Instead of:
   ANNOUNCE HB_GT_WIN
Please use:
   ANNOUNCE HB_GTSYS
if you do not want to link GTWIN with your application.
Please also remember that you can create GUI programs and link them
with GTWIN or other GTs which will be activated only on user request,
f.e. as debug console.

best regards,
Przemek
From info at fsgiudice.com  Mon Mar 23 16:02:50 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 23 16:02:59 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903230905w20a4ea01v80f58e106d300ea1@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49C7A5E6.5010808@fsgiudice.com>
	<18d502870903230905w20a4ea01v80f58e106d300ea1@mail.gmail.com>
Message-ID: <49C7EAEA.5030702@fsgiudice.com>

Hi Viktor,

Il 23/03/2009 17.05, Viktor Szak?ts ha scritto:
> 
>     PS: I will test also you patch ASAP to see if it also solves the
>     problem.
> 
> 
I have tested your patch.
Results (full SVN rebuilt with MSVC 2008 express) :

1) without -TP flag in msvc.cf
contrib/hbwin/tests/testole.prg

selecting 1-st example (excel) I got GPF with follow hb_out.log:

----------------
Application Internal Error - 
J:\cvs\harbourSVN_trunk\contrib\hbwin\tests\testole.exe
Terminated at: 2009.03.23 20:00:34
Unrecoverable error 6005: Exception error:

     Exception Code:C0000005
     Exception Address:0045FBF8
     EAX:00699374  EBX:76863E22  ECX:C27C53D3  EDX:7FFB001C
     ESI:00000000  EDI:00491174  EBP:0012FE48
     CS:EIP:001B:0045FBF8  SS:ESP:0023:0012FE10
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010206
     CS:EIP: 8B 16 83 C4 04 55 6A 00 89 44 24 14 8B 4A 14 6A
     SS:ESP: 00491174 00000000 00481962 00000001 0012FE48 004602E4 
00491174 0012FE48 0012FE54 00152FCC 00491598 00481962 00000001 00000001 
00000001 00000000

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x0009A000 
J:\cvs\harbourSVN_trunk\contrib\hbwin\tests\testole.exe
0x77040000 0x00127000 C:\Windows\system32\ntdll.dll
0x766F0000 0x000DB000 C:\Windows\system32\kernel32.dll
0x764A0000 0x00144000 C:\Windows\system32\ole32.dll
0x76DF0000 0x000AA000 C:\Windows\system32\msvcrt.dll
0x766A0000 0x0004B000 C:\Windows\system32\GDI32.dll
0x76AE0000 0x0009D000 C:\Windows\system32\USER32.dll
0x76B80000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
0x768F0000 0x000C2000 C:\Windows\system32\RPCRT4.dll
0x76860000 0x0008D000 C:\Windows\system32\OLEAUT32.dll
0x76AC0000 0x0001E000 C:\Windows\system32\IMM32.DLL
0x758C0000 0x000C8000 C:\Windows\system32\MSCTF.dll
0x76EA0000 0x00009000 C:\Windows\system32\LPK.DLL
0x769E0000 0x0007D000 C:\Windows\system32\USP10.dll
0x73B40000 0x0003F000 C:\Windows\system32\uxtheme.dll
0x60000000 0x00005000 C:\Program 
Files\Real\RealPlayer\rpchromebrowserrecordhelper.dll
0x75990000 0x00B10000 C:\Windows\system32\SHELL32.dll
0x76A60000 0x00058000 C:\Windows\system32\SHLWAPI.dll
0x7C340000 0x00056000 C:\Windows\system32\MSVCR71.dll
0x74440000 0x0019E000 
C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.6001.18000_none_5cdbaa5a083979cc\comctl32.dll
0x10000000 0x00008000 C:\Program Files\Sizer\sizer.dll
0x736B0000 0x00085000 
C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_5.82.6001.18000_none_886786f450a74a05\COMCTL32.dll
0x10100000 0x0000E000 C:\Program Files\Logitech\SetPoint\lgscroll.dll
0x72170000 0x0009B000 
C:\Windows\WinSxS\x86_microsoft.vc80.crt_1fc8b3b9a1e18e3b_8.0.50727.3053_none_d08d7bba442a9b36\MSVCR80.dll
0x74B20000 0x00021000 C:\Windows\system32\NTMARTA.DLL
0x76DA0000 0x0004A000 C:\Windows\system32\WLDAP32.dll
0x76CA0000 0x0002D000 C:\Windows\system32\WS2_32.dll
0x769D0000 0x00006000 C:\Windows\system32\NSI.dll
0x758B0000 0x00007000 C:\Windows\system32\PSAPI.DLL
0x756D0000 0x00011000 C:\Windows\system32\SAMLIB.dll
0x767D0000 0x00084000 C:\Windows\system32\CLBCatQ.DLL
0x74BA0000 0x0003B000 C:\Windows\system32\rsaenh.dll

Called from TOLEAUTO:WORKBOOKS(0)
Called from EXM_MSEXCEL(136) in testole.prg
Called from MAIN(42) in testole.prg
------------------------------------------------------------------------

----------------

Same test done with hbole/tests/testole.prg and other my OLE tests with 
same result.


2) with -TP flag in msvc.cf
same problem that I found before, so OLE is not working at all.
"Error: xxxxxx not available. [Unknown error]"
Same error also with my OLE test files.

Then seems that pointers changes from your patch are not supported.
But I will do some other tests.

Surely the problem is -TP flag.
Now I have to find where is the blocking point. For sure isn't in hbwin 
only as also hbole is affected and probably other parts.
It should be related with code that built in C++ mode alters behavior: 
maybe sizeof() ? Surely is related to CreateOleObject() and to 
GetOleObject() functions.

I'm digging.

Best regards,
Francesco
From druzus at users.sourceforge.net  Mon Mar 23 16:36:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 16:36:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10682] trunk/harbour
Message-ID: <E1Llqss-0000Ja-Sf@c3vjzd1.ch3.sourceforge.com>

Revision: 10682
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10682&view=rev
Author:   druzus
Date:     2009-03-23 20:36:34 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 21:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbodbc/odbc.c
  * harbour/contrib/hbtpathy/tpwin.c
  * harbour/contrib/hbwin/win_ole.c
  * harbour/contrib/hbwin/win_regc.c
    ! casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/win_ole.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Mar 23 16:43:34 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 23 16:43:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10670] trunk/harbour
In-Reply-To: <18d502870903230220s41e32eefxd5865beb3b33390c@mail.gmail.com>
References: <E1Ll3hA-00019e-6S@c3vjzd1.ch3.sourceforge.com>
	<49C51A29.1090509@uol.com.br> <22638314.post@talk.nabble.com>
	<49C52BF6.5010206@uol.com.br> <22639318.post@talk.nabble.com>
	<18d502870903230220s41e32eefxd5865beb3b33390c@mail.gmail.com>
Message-ID: <22668681.post@talk.nabble.com>


Hi Viktor

> I suggest to you a .prg script to do such conversion :) 

I have already thought of it with much more capabilities.
Probably we can write the whole wrappers with validations 
with just prototypes.

I am working on it.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10670--trunk-harbour-tp22637569p22668681.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Mon Mar 23 17:02:05 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 17:02:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10683] trunk/harbour
Message-ID: <E1LlrHZ-0004Qj-NP@3kljzd1.ch3.sourceforge.com>

Revision: 10683
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10683&view=rev
Author:   druzus
Date:     2009-03-23 21:02:04 +0000 (Mon, 23 Mar 2009)

Log Message:
-----------
2009-03-23 22:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/gtwvg/wvgcuig.c
  * harbour/contrib/gtwvg/wvgcore.c
    ! pacified MinGW-CE builds warnings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvggui.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Mon Mar 23 17:21:27 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 23 17:21:34 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49C7EAEA.5030702@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49C7A5E6.5010808@fsgiudice.com>	<18d502870903230905w20a4ea01v80f58e106d300ea1@mail.gmail.com>
	<49C7EAEA.5030702@fsgiudice.com>
Message-ID: <49C7FD57.7060900@fsgiudice.com>

Hi Viktor, Przemek,

tested also after
2009-03-23 21:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
   * harbour/contrib/hbodbc/odbc.c
   * harbour/contrib/hbtpathy/tpwin.c
   * harbour/contrib/hbwin/win_ole.c
   * harbour/contrib/hbwin/win_regc.c
     ! casting

but the -TP problem is still there.

Przemek, do you have any idea ?

TIA
Best regards,
Francesco
From druzus at acn.waw.pl  Mon Mar 23 18:55:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 23 18:48:55 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49C7FD57.7060900@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49C7A5E6.5010808@fsgiudice.com>
	<18d502870903230905w20a4ea01v80f58e106d300ea1@mail.gmail.com>
	<49C7EAEA.5030702@fsgiudice.com> <49C7FD57.7060900@fsgiudice.com>
Message-ID: <20090323225514.GA26097@uran.home.aster.pl>

On Mon, 23 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

> tested also after
> 2009-03-23 21:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbodbc/odbc.c
>   * harbour/contrib/hbtpathy/tpwin.c
>   * harbour/contrib/hbwin/win_ole.c
>   * harbour/contrib/hbwin/win_regc.c
>     ! casting
> but the -TP problem is still there.
> Przemek, do you have any idea ?

No. It was not even my intetion to make any fixes. I just simply
corrected casting to pacify MinGW build warnings. Nothing more.

This whole code is waiting for someone who will rewrite it from
scratch. There are many things inside which has been never working
correctly. It's also not MT safe and should not be used in MT
programs.
I hope that some windows developers will work on it.
Sorry but I do not know anything about OLE and using it. I do not
even use Windows so I cannot easy make basic tests.
BTW does this code work with current BCC and MinGW builds?
Is this problem local to MSVS?
Does anyone test it with OpenWatcom?

best regards,
Przemek

ps. I see that you added:
      hb_itemPutTD( pItem, pVariant->n1.n2.n3.dblVal + ( double ) 2415019 );
    to store VT_DATE values. It means that all VT_DATE values read from OLE
    structure will be converted to Harbour timestamp items.
    Is it intentional?
From druzus at users.sourceforge.net  Mon Mar 23 20:02:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 23 20:02:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10684] trunk/harbour
Message-ID: <E1Llu66-0004hx-FP@dn4whf1.ch3.sourceforge.com>

Revision: 10684
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10684&view=rev
Author:   druzus
Date:     2009-03-24 00:02:25 +0000 (Tue, 24 Mar 2009)

Log Message:
-----------
2009-03-24 01:08 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    * updated to compile with FlagShip

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alex_degarate at hotmail.com  Tue Mar 24 00:04:48 2009
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Tue Mar 24 00:04:52 2009
Subject: [Harbour] hbdoc and documentation
Message-ID: <BLU145-W21BBF47D759B7720B45E4785930@phx.gbl>


 

Some thoughts about doc directory:

 

 Almost (if not all) the files in \doc directory do not have format (plain text) 
so it's difficult to aply them any category for menuing or classify it.

 

I think we must give some basic format to them to get more functionality (I did some basic test)

Also may be convinient to move all files in \doc to \doc\en so we can get english and spanish 
in parallel.

 

Some files like howtocvs.txt are quite outdated, need an update, and change format to html nor 
pdf, do not give any advantage.  Most of the mailing list developers could do that.

 

I am delayed for read the mailing list, so if somebody wants  to tell me something about hbdoc please write to me directly.

 

Alejandro

_________________________________________________________________
More than messages?check out the rest of the Windows Live?.
http://www.microsoft.com/windows/windowslive/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090324/707d4fc5/attachment.html
From niki at synel.co.il  Tue Mar 24 02:58:56 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 24 03:02:43 2009
Subject: [Harbour] Embedding 3rd party projects
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> I'd welcome opinions from everyone.

Personally I don't think we should add every 3rd party library in the market to the
Harbour repository. There are endless features out there that are "nice to have",
but not every such tool need to have wrapper functions in this project.

Look at the size of "core" tree compare with the size and number of files in "contrib".

The great part of Clipper was the fact that the basic complier had a huge 3rd party
companion market (both free and commercial). It was not integrated into one
monolithic product.

3rd party wrote libraries that worked with that compiler and default libraries
(plus the C-RTL).

Now, in Harbour, instead of the people that write the libraries try to adopt their
product to Harbour. The Harbour developers "hunt" for external projects and do
the adaption here (as the original lib team might not had even heard about Harbour).
I don't think this is good.

I know these tools are useful, but the scope is just too huge. And now you propose
to add even tighter integration which will force part of Harbour to be updated every
time an external library is being updated. Well, it looks like endless task.

BUT: As YOU are the one doing most (or all) the cleaning, and if you think this is
not a nightmare, and will even cause you less work in the future, go for it.


  Chen.
From info at fsgiudice.com  Tue Mar 24 04:23:24 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Mar 24 04:23:31 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <20090323225514.GA26097@uran.home.aster.pl>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49C7A5E6.5010808@fsgiudice.com>	<18d502870903230905w20a4ea01v80f58e106d300ea1@mail.gmail.com>	<49C7EAEA.5030702@fsgiudice.com>
	<49C7FD57.7060900@fsgiudice.com>
	<20090323225514.GA26097@uran.home.aster.pl>
Message-ID: <49C8987C.3040501@fsgiudice.com>

Hi Przemek,

Il 23/03/2009 23.55, Przemyslaw Czerpak ha scritto:
> 
> No. It was not even my intetion to make any fixes. I just simply
> corrected casting to pacify MinGW build warnings. Nothing more.
> 
> This whole code is waiting for someone who will rewrite it from
> scratch. There are many things inside which has been never working
> correctly. It's also not MT safe and should not be used in MT
> programs.
> I hope that some windows developers will work on it.
> Sorry but I do not know anything about OLE and using it. I do not
> even use Windows so I cannot easy make basic tests.
> BTW does this code work with current BCC and MinGW builds?

The problem is related to -TP flag of MSVC (in config/msvc.cf) that 
force to build all in cpp mode. Removing it ole works as before.

Tested with BCC and it works. But AFAIR there is no changes in BCC flags.

My question was if you have in mind what can change in code, probably 
only in CreateOleObject() or GetOleObject() functions, between c and c++ 
mode that results in error and I am thinking that is related to 
different type handling.

> Is this problem local to MSVS?

It's seems so.

> Does anyone test it with OpenWatcom?
> 
> best regards,
> Przemek
> 
> ps. I see that you added:
>       hb_itemPutTD( pItem, pVariant->n1.n2.n3.dblVal + ( double ) 2415019 );
>     to store VT_DATE values. It means that all VT_DATE values read from OLE
>     structure will be converted to Harbour timestamp items.
>     Is it intentional?

Actually yes, also if I'm still doing tests.

Best regards,
Francesco

From mbelgrano at deltain.it  Tue Mar 24 06:48:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 24 06:49:04 2009
Subject: [Harbour] hbqt.lib - How to build
In-Reply-To: <18d502870903190730y78c6676t377d33b97ea7c4fc@mail.gmail.com>
References: <22580862.post@talk.nabble.com> <22600993.post@talk.nabble.com>
	<18d502870903190730y78c6676t377d33b97ea7c4fc@mail.gmail.com>
Message-ID: <609353e70903240348h77f9f7d7hd2b092e3686b5ae2@mail.gmail.com>

How can build hbqt library?
set HB_INC_QT=C:\devl\Qt\2009.01\qt\include
set HB_DIR_QT=C:\devl\Qt\2009.01\qt
HB_CONTRIB_ADDONS=hbqt
c:\harbour\contrib\hbqt>make
"The 'hbqt' library ignored."



2009/3/19 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Pritpal,
>
>> I have put in batch file:
>>
>> set HB_INC_QT=C:\devl\Qt\2009.01\qt\include
>> set HB_DIR_QT=C:\devl\Qt\2009.01\qt
>>
>> But the make system does not enter contrib/hbqt.
>
> That's just generic configuration, for now only the
> first line is important and hbqt is fully left out of the
> default build so it won't enter automatically.
> I could in fact enable it, since it won't be built anyway
> unless someone has the QT environment setup.
>>
>> Do I have to build it separately? If yes, what minimum
>> I have to do ?
>
> Same thing I wrote to Claudio just a few e-mails ago.
> You need to setup your environment for Harbour build,
> and start GNU Make in the hbqt dir. This method works
> in every dirs which has a Makefile in it. It's very useful
> feature.
> The other method is to set this, and do a full Harbour build:
> set HB_CONTRIB_ADDONS=hbqt
>
>>
>> Also you have specified in <makefile>
>> ? hbq_base.cpp
>> but I do not see this in SVN.
>
> True, sorry.
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From druzus at users.sourceforge.net  Tue Mar 24 08:21:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 24 08:21:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10685] trunk/harbour
Message-ID: <E1Lm5dS-0007CM-M6@dn4whf1.ch3.sourceforge.com>

Revision: 10685
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10685&view=rev
Author:   druzus
Date:     2009-03-24 12:21:37 +0000 (Tue, 24 Mar 2009)

Log Message:
-----------
2009-03-24 13:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gttrm/gttrm.c
    * formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gttrm/gttrm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Mar 24 13:28:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 24 13:28:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10686] trunk/harbour
Message-ID: <E1LmAQ0-0001sn-1d@d5vjzd1.ch3.sourceforge.com>

Revision: 10686
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10686&view=rev
Author:   druzus
Date:     2009-03-24 17:28:02 +0000 (Tue, 24 Mar 2009)

Log Message:
-----------
2009-03-24 18:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/tbrowse.prg
    ! fixed Clipper compatibility in configure() action - it does not
      set refreshAll flag and only invalidates all records
    ! recalculate visible columns in colorRect() method
    * enabled strict Clipper compatible behavior for non character
      footers and headers

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/tbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Tue Mar 24 14:29:25 2009
From: abe.buch at att.net (AbeB)
Date: Tue Mar 24 14:29:29 2009
Subject: [Harbour] box characters in wcecon
Message-ID: <1237919365061-2528256.post@n2.nabble.com>


Hi All.
any help on getting the box characters displayed on wcecon ( running wince) instead of that little box placeholder?

Thanks,
Abe


-- 
View this message in context: http://n2.nabble.com/box-characters-in-wcecon-tp2528256p2528256.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From vitormangabeira at gmail.com  Tue Mar 24 16:41:38 2009
From: vitormangabeira at gmail.com (Vitor Mangabeira)
Date: Tue Mar 24 16:41:43 2009
Subject: [Harbour] testhtml
Message-ID: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>

Hi All,

I?ve been testing testhtml.prg from harbour/tests/ by compiling with "hbmk2
testhtml" and copying the resulting binary to cgi-bin folder of apache. In
both wndows and linux env I got same error: internal server error 500
Premature end of script headers: testhtml
I?d like to know what I am missing.

TIA

Vitor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090324/688b8564/attachment.html
From a.jurkiewicz at abix.info.pl  Tue Mar 24 16:55:50 2009
From: a.jurkiewicz at abix.info.pl (ABIX Adam Jurkiewicz)
Date: Tue Mar 24 16:55:54 2009
Subject: [Harbour] testhtml
In-Reply-To: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>
References: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>
Message-ID: <49C948D6.5070406@abix.info.pl>

Vitor Mangabeira pisze:
> Hi All,
>  
> I?ve been testing testhtml.prg from harbour/tests/ by compiling with

Read
http://httpd.apache.org/docs/1.3/misc/FAQ-F.html#premature-script-headers

Best regards,
Adam

-- 
ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
Gadu-Gadu: 302315
Skype: abix_adamj
Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
From vailtom at gmail.com  Tue Mar 24 16:59:34 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Mar 24 16:59:39 2009
Subject: [Harbour] testhtml
In-Reply-To: <49C948D6.5070406@abix.info.pl>
References: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>
	<49C948D6.5070406@abix.info.pl>
Message-ID: <531d7a750903241359k24b25241i3937c234b538a87b@mail.gmail.com>

See modified ShowResult() function in:
http://www.harbour-project.org/samples/testhtml.prg.html

Vailton Renato
"Quem ? fiel no m?nimo, ? tamb?m fiel no muito..."
From harbour.01 at syenar.hu  Tue Mar 24 17:48:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 24 17:48:40 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903241448x3b6c815ah1a45e23a769f3ffb@mail.gmail.com>

Hi Chen,
You're right the scope widens. Updating 3rd party stuff in Harbour isn't a
terribly difficult job (most of the time), at least for those projects I
had
in mind adding, which is just a few. To keep things under control, IMO we
should only add really basic libs, which are dependencies of many other
libs. Certainly not everything or anything.

As a first step I'd just propose to move sqlite3 embedded source tree
into the 3rd dir and lay the foundation for this direction, in this sense
this
is just a cleanup, and later we can think about adding some other stuff,
if we agree on and if this works out okay. Locally I'm updating libpng
(which is almost as basic as zlib) and libharu, so probably it's not
a huge job to do the updates here for me, but I'd only like to do any
changes if the group sees some general benefit and agrees on it. If
it's my own pet only, it's not worth it.

Brgds,
Viktor

On Tue, Mar 24, 2009 at 7:58 AM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> > I'd welcome opinions from everyone.
>
> Personally I don't think we should add every 3rd party library in the
> market to the
> Harbour repository. There are endless features out there that are "nice to
> have",
> but not every such tool need to have wrapper functions in this project.
>
> Look at the size of "core" tree compare with the size and number of files
> in "contrib".
>
> The great part of Clipper was the fact that the basic complier had a huge
> 3rd party
> companion market (both free and commercial). It was not integrated into one
> monolithic product.
>
> 3rd party wrote libraries that worked with that compiler and default
> libraries
> (plus the C-RTL).
>
> Now, in Harbour, instead of the people that write the libraries try to
> adopt their
> product to Harbour. The Harbour developers "hunt" for external projects and
> do
> the adaption here (as the original lib team might not had even heard about
> Harbour).
> I don't think this is good.
>
> I know these tools are useful, but the scope is just too huge. And now you
> propose
> to add even tighter integration which will force part of Harbour to be
> updated every
> time an external library is being updated. Well, it looks like endless
> task.
>
> BUT: As YOU are the one doing most (or all) the cleaning, and if you think
> this is
> not a nightmare, and will even cause you less work in the future, go for
> it.
>
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090324/f4fe9f6f/attachment.html
From druzus at users.sourceforge.net  Tue Mar 24 21:43:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Mar 24 21:43:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10687] trunk/harbour
Message-ID: <E1LmI9E-0006mt-Va@3kljzd1.ch3.sourceforge.com>

Revision: 10687
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10687&view=rev
Author:   druzus
Date:     2009-03-25 01:43:16 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 02:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    * simplified xHarbour MT test - use mutexes as internal thread IDs
      as workarounds for race conditions in xHarbour .prg MT API.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From myorg63 at mail.ru  Wed Mar 25 03:14:09 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Mar 25 03:14:13 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <18d502870903241448x3b6c815ah1a45e23a769f3ffb@mail.gmail.com>
References: <18d502870903230927y3e812371lce60a347d75a1e16@mail.gmail.com>
	<1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903241448x3b6c815ah1a45e23a769f3ffb@mail.gmail.com>
Message-ID: <22696271.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> As a first step I'd just propose to move sqlite3 embedded source tree
> into the 3rd dir and lay the foundation for this direction, in this sense
> this sence just a cleanup, and later we can think about adding some other
> stuff,
> if we agree on and if this works out okay. 
> 

Ok, we can try this way.
Is it not important for me, because I use my own copy of hbsqlite3 based on
latest version of SQLite (Anybody can use ver.3.6.11 with bcc582 and mingw
4.3.* without any changes in SQLite source and of course anybody can use
sqlite3.dll). 

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/Embedding-3rd-party-projects-tp22663784p22696271.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Mar 25 03:52:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 03:52:27 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <22696271.post@talk.nabble.com>
References: <18d502870903230927y3e812371lce60a347d75a1e16@mail.gmail.com>
	<1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903241448x3b6c815ah1a45e23a769f3ffb@mail.gmail.com>
	<22696271.post@talk.nabble.com>
Message-ID: <18d502870903250052k7f134983saa62ede6b2a34931@mail.gmail.com>

Thanks Petr.
This way we will be able to use the non-amalgamation version
which would resolve the compile error experienced with some
compilers (owatcom < 1.8, dmc).

Brgds,
Viktor

On Wed, Mar 25, 2009 at 8:14 AM, Petr Chornyj <myorg63@mail.ru> wrote:

>
>
>
> Viktor Szak?ts wrote:
> >
> > As a first step I'd just propose to move sqlite3 embedded source tree
> > into the 3rd dir and lay the foundation for this direction, in this sense
> > this sence just a cleanup, and later we can think about adding some other
> > stuff,
> > if we agree on and if this works out okay.
> >
>
> Ok, we can try this way.
> Is it not important for me, because I use my own copy of hbsqlite3 based on
> latest version of SQLite (Anybody can use ver.3.6.11 with bcc582 and mingw
> 4.3.* without any changes in SQLite source and of course anybody can use
> sqlite3.dll).
>
> Regards,
> Petr
> --
> View this message in context:
> http://www.nabble.com/Embedding-3rd-party-projects-tp22663784p22696271.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/f31e5bc5/attachment-0001.html
From harbour.01 at syenar.hu  Wed Mar 25 03:52:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 03:52:36 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>

Hi Chen and All,
One more thought to your e-mail.

Integration of 3rd party *Harbour* libs into Harbour SVN, while this is
off-topic regarding my first mail, and while I don't think the situation is
that
bad, because we've only added hbsqlit3 as a formerly existing independent
3rd party lib to our SVN, I do see what you mean and you're right. It would
indeed be better to leave many libs to live independently.

There are a few issue with Harbour 3rd party libs in general
(talking about open source ones for now):
1) Each has a different make system, which means each of them has
    to be learned, built and locally maintained in a completely different
way.
2) These make systems and libs are often targeting only a small subset
    of supported Harbour platforms.

With 2) we cannot really do anything besides providing all portable APIs
we have, and programming methods and every other rules we use throughout
Harbour development.

I wonder however, how could we help 3rd parties with 1), namely to give
them a good make system infrastructure.

For small projects hbmk2 can be an answer, but for larger ones, this isn't
enough, so either we should extend it, or think about applying our GNU
Make infrastructure to other projects. For the latter, maybe the easiest
way is our current HB_CONTRIB_ADDON method. With this, 3rd party
libs are expected to have one 'Makefile', copying their sources to contrib
and passing the dir name to HB_CONTRIB_ADDON envvar to get them
built, just like our regular "built-in" contribs.

Maybe, it would be better to provide and 'addon' dir for this purpose.

Again, more ideas are welcome. It would be nice to help other lib
developers, so that they don't have to reinvent the wheel make-system-wise,
and to provide Harbour users a easy to manage environment.

[[ I know this is just one side of 3rd party lib development. ]]

Brgds,
Viktor

On Tue, Mar 24, 2009 at 7:58 AM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> > I'd welcome opinions from everyone.
>
> Personally I don't think we should add every 3rd party library in the
> market to the
> Harbour repository. There are endless features out there that are "nice to
> have",
> but not every such tool need to have wrapper functions in this project.
>
> Look at the size of "core" tree compare with the size and number of files
> in "contrib".
>
> The great part of Clipper was the fact that the basic complier had a huge
> 3rd party
> companion market (both free and commercial). It was not integrated into one
> monolithic product.
>
> 3rd party wrote libraries that worked with that compiler and default
> libraries
> (plus the C-RTL).
>
> Now, in Harbour, instead of the people that write the libraries try to
> adopt their
> product to Harbour. The Harbour developers "hunt" for external projects and
> do
> the adaption here (as the original lib team might not had even heard about
> Harbour).
> I don't think this is good.
>
> I know these tools are useful, but the scope is just too huge. And now you
> propose
> to add even tighter integration which will force part of Harbour to be
> updated every
> time an external library is being updated. Well, it looks like endless
> task.
>
> BUT: As YOU are the one doing most (or all) the cleaning, and if you think
> this is
> not a nightmare, and will even cause you less work in the future, go for
> it.
>
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/1c8e44b0/attachment.html
From M.Horodyski at pzuzycie.com.pl  Wed Mar 25 04:17:06 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Mar 25 04:17:13 2009
Subject: [Harbour] testhtml
In-Reply-To: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502067C85@PINK.zycie.pzu>

 



________________________________

	From: Vitor Mangabeira [mailto:vitormangabeira@gmail.com] 
	Sent: Tuesday, March 24, 2009 9:42 PM
	To: harbour@harbour-project.org
	Subject: [Harbour] testhtml
	
	
	Hi All,
	 
	I?ve been testing testhtml.prg from harbour/tests/ by compiling with "hbmk2 testhtml" and copying the resulting binary to cgi-bin folder of apache. In both wndows and linux env I got same error: internal server error 500 Premature end of script headers: testhtml 
	I?d like to know what I am missing.
	 
	TIA
	 
	Vitor 

You can copying the resulting binary to cgi-bin folder of uHTTPD  :)
 
Regards,
Marek Horodyski
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/679b3926/attachment.html
From vszakats at users.sourceforge.net  Wed Mar 25 06:49:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 25 06:49:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10688] trunk/harbour
Message-ID: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>

Revision: 10688
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10688&view=rev
Author:   vszakats
Date:     2009-03-25 10:49:21 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 11:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * tests/testhtml.prg
    * Update by Vailton Renato applied.

  * INSTALL
    * Minor formatting.

  * bin/postinst.bat
    + Minor cleanup to creation of hbrun/hbtest dll versions.
      (now it's more difficult to mislead it by already existing
      foreign .dlls)

  * contrib/hbqt/Makefile
  * contrib/hbapollo/Makefile
    - Disabled for mingw64.

  * contrib/rddads/rddads.h
    + Added workaround to compile under mingw64.

  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
    ! Fixed to _not_ override _WIN32_IE. Overriding these version
      numbers is generally a very bad idea. Instead the code should
      adapt to whatever values are defined by system headers.
      This fixes most mingw64 errors. Please test other compilers.

  * contrib/xhb/hbxml.c
  * contrib/hbfimage/fi_winfu.c
  * contrib/hbwin/wapi_commctrl.c
    ! Pointer/handle to integer conversion.

  * contrib/gtwvg/wvgcuig.c
  * contrib/gtwvg/wvgwin.c
    ! Fixed NULL used instead of 0.
    ! Fixed ISNIL() usage. GTWVG code is full of ISNIL() macros,
      which makes the code prone to GPFs and other unexpected
      behaviour when wrong type is passed. The solution is to
      change all these to type specific IS*() macros.

  ; TOFIX: (core and all contribs)

    C:/DOCUME~1/vszakats/LOCALS~1/Temp/ccVcE53g.s: Assembler messages:
    C:/DOCUME~1/vszakats/LOCALS~1/Temp/ccVcE53g.s:20: Error: `0x0e10(%rax,%ecx,4)' is not a valid base/index expression

    In these files:
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../hvm.c -ohvm.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../arrays.c -oarrays.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../asort.c -oasort.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../classes.c -oclasses.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../cmdarg.c -ocmdarg.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../debug.c -odebug.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../dynlibhb.c -odynlibhb.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../dynsym.c -odynsym.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../codebloc.c -ocodebloc.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../estack.c -oestack.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../eval.c -oeval.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../evalhb.c -oevalhb.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../extend.c -oextend.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../fm.c -ofm.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../garbage.c -ogarbage.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../hashes.c -ohashes.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../hashfunc.c -ohashfunc.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../itemapi.c -oitemapi.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../macro.c -omacro.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../memvars.c -omemvars.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../pcount.c -opcount.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../proc.c -oproc.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../pvalue.c -opvalue.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../runner.c -orunner.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../set.c -oset.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer  -DHB_MT_VM  -c ../../../thread.c -othread.o
    x86_64-pc-mingw32-gcc -I. -I../../../../../include -Wall -W -O3 -fomit-frame-pointer   -DHB_FM_STATISTICS -DHB_MT_VM  -c ../../../fm.c -ofm.o

    ../../dbfntx1.c: In function 'hb_ntxTagHeaderCheck':
    ../../dbfntx1.c:1054: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfntx1.c:1054: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfntx1.c:1055: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfntx1.c:1055: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfntx1.c:1055: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfntx1.c:1055: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c: In function 'hb_nsxTagHeaderCheck':
    ../../dbfnsx1.c:1282: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1284: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1285: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1285: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1285: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1285: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c: In function 'hb_nsxPageFree':
    ../../dbfnsx1.c:1573: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1573: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1573: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1573: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c: In function 'hb_nsxPageNew':
    ../../dbfnsx1.c:1622: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1622: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1622: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ../../dbfnsx1.c:1622: warning: dereferencing type-punned pointer will break strict-aliasing rules

    ../../hb_btree.c: In function 'StackSkip':
    ../../hb_btree.c:643: warning: cast from pointer to integer of different size
    ../../hb_btree.c: In function 'Grow':
    ../../hb_btree.c:739: warning: cast from pointer to integer of different size

    ../../getenvrn.c: In function 'HB_FUN_FT_GETE':
    ../../getenvrn.c:178: warning: implicit declaration of function 'GetEnvironmentStrings'
    ../../getenvrn.c:178: warning: initialization makes pointer from integer without a cast

    ../../win_dll.c: In function 'DllExec':
    ../../win_dll.c:509: warning: cast from pointer to integer of different size
    ../../win_dll.c:603: warning: cast to pointer from integer of different size
    ../../win_dll.c:672: warning: cast to pointer from integer of different size
    ../../win_dll.c:689: warning: cast to pointer from integer of different size

    ../../hbserv.c: In function 's_serviceSetHBSig':
    ../../hbserv.c:638: warning: passing argument 1 of 'SetUnhandledExceptionFilter' from incompatible pointer type

    ../../firebird.c: In function 'HB_FUN_FBCREATEDB':
    ../../firebird.c:87: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:88: warning: initialization makes integer from pointer without a cast
    ../../firebird.c: In function 'HB_FUN_FBCONNECT':
    ../../firebird.c:115: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:143: warning: cast to pointer from integer of different size
    ../../firebird.c: In function 'HB_FUN_FBCLOSE':
    ../../firebird.c:149: warning: cast from pointer to integer of different size
    ../../firebird.c: In function 'HB_FUN_FBSTARTTRANSACTION':
    ../../firebird.c:172: warning: cast from pointer to integer of different size
    ../../firebird.c:173: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:179: warning: cast to pointer from integer of different size
    ../../firebird.c: In function 'HB_FUN_FBCOMMIT':
    ../../firebird.c:184: warning: cast from pointer to integer of different size
    ../../firebird.c: In function 'HB_FUN_FBROLLBACK':
    ../../firebird.c:195: warning: cast from pointer to integer of different size
    ../../firebird.c: In function 'HB_FUN_FBEXECUTE':
    ../../firebird.c:206: warning: cast from pointer to integer of different size
    ../../firebird.c:207: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:215: warning: cast from pointer to integer of different size
    ../../firebird.c: In function 'HB_FUN_FBQUERY':
    ../../firebird.c:249: warning: cast from pointer to integer of different size
    ../../firebird.c:250: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:253: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:270: warning: cast from pointer to integer of different size
    ../../firebird.c:375: warning: cast to pointer from integer of different size
    ../../firebird.c:379: warning: cast to pointer from integer of different size
    ../../firebird.c: In function 'HB_FUN_FBFETCH':
    ../../firebird.c:395: warning: cast from pointer to integer of different size
    ../../firebird.c: In function 'HB_FUN_FBFREE':
    ../../firebird.c:419: warning: cast from pointer to integer of different size
    ../../firebird.c:421: warning: cast from pointer to integer of different size
    ../../firebird.c: In function 'HB_FUN_FBGETBLOB':
    ../../firebird.c:613: warning: cast from pointer to integer of different size
    ../../firebird.c:614: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:615: warning: initialization makes integer from pointer without a cast
    ../../firebird.c:624: warning: cast from pointer to integer of different size

    ../../fbirddd.c: In function 'fbConnect':
    ../../fbirddd.c:164: warning: initialization makes integer from pointer without a cast
    ../../fbirddd.c:192: warning: cast to pointer from integer of different size
    ../../fbirddd.c: In function 'fbOpen':
    ../../fbirddd.c:217: warning: initialization makes integer from pointer without a cast
    ../../fbirddd.c:218: warning: initialization makes integer from pointer without a cast
    ../../fbirddd.c:409: warning: assignment makes pointer from integer without a cast
    ../../fbirddd.c:410: warning: assignment makes pointer from integer without a cast
    ../../fbirddd.c: In function 'fbClose':
    ../../fbirddd.c:446: warning: passing argument 2 of 'isc_dsql_free_statement' from incompatible pointer type
    c:/devl/Firebird-2.1.1/include/ibase.h:629: note: expected 'isc_stmt_handle *' but argument is of type 'void **'
    ../../fbirddd.c:451: warning: passing argument 2 of 'isc_rollback_transaction' from incompatible pointer type
    c:/devl/Firebird-2.1.1/include/ibase.h:780: note: expected 'isc_tr_handle *' but argument is of type 'void **'
    ../../fbirddd.c: In function 'fbGoTo':
    ../../fbirddd.c:469: warning: passing argument 2 of 'isc_dsql_fetch' from incompatible pointer type
    c:/devl/Firebird-2.1.1/include/ibase.h:622: note: expected 'isc_stmt_handle *' but argument is of type 'void **'
    ../../fbirddd.c:531: warning: passing argument 2 of 'isc_dsql_free_statement' from incompatible pointer type
    c:/devl/Firebird-2.1.1/include/ibase.h:629: note: expected 'isc_stmt_handle *' but argument is of type 'void **'
    ../../fbirddd.c:538: warning: passing argument 2 of 'isc_commit_transaction' from incompatible pointer type
    c:/devl/Firebird-2.1.1/include/ibase.h:524: note: expected 'isc_tr_handle *' but argument is of type 'void **'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/hbapollo/Makefile
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/tests/testhtml.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Mar 25 07:23:36 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 25 07:23:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10689] trunk/harbour
Message-ID: <E1LmRCq-0004Ms-KY@3kljzd1.ch3.sourceforge.com>

Revision: 10689
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10689&view=rev
Author:   druzus
Date:     2009-03-25 11:23:35 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 12:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
    ! disabled inline assembler code to retrieve HVM stack pointer from TLS
      in Win64 builds. In summary I do not even know if Win64 uses the same
      memory addresses for TLS as Win32 so it's not safe to enable such code
      now. Maybe in the future though I hope that new 64 bit compilers will
      have fast enough native TLS support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbstack.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Wed Mar 25 07:42:19 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Wed Mar 25 07:42:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10690] trunk/harbour
Message-ID: <E1LmRUx-00042O-1R@d5vjzd1.ch3.sourceforge.com>

Revision: 10690
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10690&view=rev
Author:   snaiperis
Date:     2009-03-25 11:42:18 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 13:35 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  - harbour/contrib/hbole/ole2.c
  * harbour/contrib/hbole/oleauto.prg
  + harbour/contrib/hbole/oleinit.c
  + harbour/contrib/hbole/olecore.c
    + added my own implementation of OLE library. It is bases on old 
      code written by Jose F. Gimenez. Code is changed to be reentrant,
      more clean, but only basic features are implemented. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbole/Makefile
    trunk/harbour/contrib/hbole/oleauto.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbole/olecore.c
    trunk/harbour/contrib/hbole/oleinit.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbole/ole2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 25 07:53:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 07:53:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10689] trunk/harbour
In-Reply-To: <E1LmRCq-0004Ms-KY@3kljzd1.ch3.sourceforge.com>
References: <E1LmRCq-0004Ms-KY@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903250453u6be2c799m7477cd72fbbf710@mail.gmail.com>

Thank you Przemek, now it compiles fine under mingw64.
Brgds,
Viktor

On Wed, Mar 25, 2009 at 12:23 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10689
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10689&view=rev
> Author:   druzus
> Date:     2009-03-25 11:23:35 +0000 (Wed, 25 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-25 12:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbstack.h
>    ! disabled inline assembler code to retrieve HVM stack pointer from TLS
>      in Win64 builds. In summary I do not even know if Win64 uses the same
>      memory addresses for TLS as Win32 so it's not safe to enable such code
>      now. Maybe in the future though I hope that new 64 bit compilers will
>      have fast enough native TLS support.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbstack.h
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/264dc298/attachment.html
From dbtopas at dbtopas.lt  Wed Mar 25 07:59:32 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar 25 08:01:17 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
Message-ID: <49CA1CA4.2050607@dbtopas.lt>

> Whole OLE code is very flakey, I hope Mindaugas can send us 
> something before we release.


Hi Viktor,


I've committed "my" OLE code. It is more clean, but not so many features 
implemented. I'm not sure it is that Harbour needs.


Best regards,
Mindaugas



From niki at synel.co.il  Wed Mar 25 08:03:44 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Mar 25 08:07:31 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8F4@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

What I don't understand, is why should 3rd party lib,
or wrapper functions to such lib should be the concern
of CORE Harbour?

I am NOT talking about:
1) Not helping such external library dev team.
2) Not fixing bugs.
3) Missing API issues.

(I might not explain myself very good with all this double negative
try to bear with my English)

Each person here is of course free to do as he/she likes,
I'm talking about the direction and goal of the project as whole.

Why it is the job of Harbour to supply make files for any external lib
or add-on?

For ME, any contrib part that rely on external resource in order to run
which is not part of the accepted standard OS and C compiler,
should not be included as part of the Harbour SVN tree, and should
be maintained elsewhere.

==========================

Hmm, sorry I'm talking too much again.
In practice there are less than 6 people here that actively write code
here, I'm not one of them so I probably should not tell you what to
do. I'm not even a Harbour user, and stopped using Clipper 7-8 year
ago, so I'm not even qualify as a user.


  Chen.
From vszakats at users.sourceforge.net  Wed Mar 25 09:22:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 25 09:22:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10691] trunk/harbour
Message-ID: <E1LmT47-0007H9-EV@dn4whf1.ch3.sourceforge.com>

Revision: 10691
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10691&view=rev
Author:   vszakats
Date:     2009-03-25 13:22:38 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 14:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added HB_INC_SQLITE3

  * include/hbapi.h
    + Added HB_IS*() flavour of classic Clipper compatibility IS*()
      macros. I'd recommend everyone to start using these new ones,
      as the old ones might be deprecated in future versions.

  * Makefile
    + Added new 'external' dir to host foreign, non-Harbour code.

  + external
  + external/sqlite3
  + external/sqlite3/_sqlite3.c
  + external/sqlite3/sqlite3.c
  + external/sqlite3/sqlite3.h
  + external/sqlite3/Makefile
  - contrib/hbsqlit3/sqlite3
    + Moved sqlite3 code into its dedicated place.

  * contrib/hbsqlit3/tests/hbsqlit3.hbp
    + Added sqlite3 to liblist.

  * contrib/hbsqlit3/hbsqlit3.c
  * contrib/hbsqlit3/Makefile
    + Changed to use external headers just like other external
      dependent libs. The only difference here is that it will
      pickup the locally hosted sqlite3 source from
      external/sqlite3 if not specified by user.
    * Changed to no embed sqlite3 code anymore.
      ATTENTION: This also means that hbsqlit3 users will now
                 have to add sqlite3 lib to their liblist, since
                 this code isn't anymore embedded into hbsqlit3.

  * contrib/hbqt/hbqt_qfontcombobox.cpp
  * contrib/hbqt/hbqt_qgroupbox.cpp
  * contrib/hbqt/hbqt_qcombobox.cpp
  * contrib/hbqt/hbqt_qtoolbutton.cpp
  * contrib/hbqt/slots.h
  * contrib/hbqt/hbqt_qpushbutton.cpp
  * contrib/hbqt/hbqt_qpagesetupdialog.cpp
  * contrib/hbqt/hbqt_qprintpreviewdialog.cpp
  * contrib/hbqt/hbqt_qlabel.cpp
  * contrib/hbqt/hbqt_qinputdialog.cpp
  * contrib/hbqt/hbqt_qprogressdialog.cpp
  * contrib/hbqt/hbqt_qtoolbox.cpp
  * contrib/hbqt/hbqt_qcommandlinkbutton.cpp
  * contrib/hbqt/hbqt_qmenubar.cpp
  * contrib/hbqt/hbqt_qhboxlayout.cpp
  * contrib/hbqt/hbqt_qabstractbutton.cpp
  * contrib/hbqt/hbqt_qabstractprintdialog.cpp
  * contrib/hbqt/hbqt_qwizard.cpp
  * contrib/hbqt/hbqt_qabstractspinbox.cpp
  * contrib/hbqt/hbqt_qfont.cpp
  * contrib/hbqt/hbqt_qdial.cpp
  * contrib/hbqt/hbqt_qtablewidgetitem.cpp
  * contrib/hbqt/hbqt_qlcdnumber.cpp
  * contrib/hbqt/hbqt_qmainwindow.cpp
  * contrib/hbqt/hbqt_qprintdialog.cpp
  * contrib/hbqt/hbqt_qcalendarwidget.cpp
  * contrib/hbqt/hbqt_qabstractitemview.cpp
  * contrib/hbqt/hbqt_qaction.cpp
  * contrib/hbqt/hbqt_qspinbox.cpp
  * contrib/hbqt/hbqt_qwidget.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_qdateedit.cpp
  * contrib/hbqt/hbqt_qcheckbox.cpp
  * contrib/hbqt/hbqt_qprogressbar.cpp
  * contrib/hbqt/hbqt_qframe.cpp
  * contrib/hbqt/hbqt_qfocusframe.cpp
  * contrib/hbqt/hbqt_qtabbar.cpp
  * contrib/hbqt/hbqt_qcqlendarwidget.cpp
  * contrib/hbqt/hbqt_qerrormessage.cpp
  * contrib/hbqt/hbqt_qfiledialog.cpp
  * contrib/hbqt/hbqt_qformlayout.cpp
  * contrib/hbqt/hbqt_qtoolbar.cpp
  * contrib/hbqt/hbqt_qdatetimeedit.cpp
  * contrib/hbqt/hbqt_qmenu.cpp
  * contrib/hbqt/hbqt_qabstractslider.cpp
  * contrib/hbqt/hbqt_qwebview.cpp
  * contrib/hbqt/hbqt_qlayout.cpp
  * contrib/hbqt/hbqt_qslider.cpp
  * contrib/hbqt/hbqt_qtableview.cpp
  * contrib/hbqt/hbqt_qfontdialog.cpp
  * contrib/hbqt/hbqt_qboxlayout.cpp
  * contrib/hbqt/hbqt_qtreeview.cpp
  * contrib/hbqt/hbqt_qtextedit.cpp
  * contrib/hbqt/hbqt_qradiobutton.cpp
  * contrib/hbqt/hbqt_qcolordialog.cpp
  * contrib/hbqt/hbqt_qapplication.cpp
  * contrib/hbqt/hbqt_qtimeedit.cpp
  * contrib/hbqt/hbqt_qsplitter.cpp
  * contrib/hbqt/hbqt_qlistview.cpp
  * contrib/hbqt/hbqt_qtabwidget.cpp
  * contrib/hbqt/hbqt_qabstractscrollarea.cpp
  * contrib/hbqt/hbqt_qvboxlayout.cpp
  * contrib/hbqt/hbqt_qdoublespinbox.cpp
  * contrib/hbqt/hbqt_qscrollbar.cpp
  * contrib/hbqt/hbqt_qscrollarea.cpp
  * contrib/hbqt/hbqt_qtablewidget.cpp
  * contrib/hbqt/hbqt_qsizegrip.cpp
  * contrib/hbqt/hbqt_qlayoutitem.cpp
  * contrib/hbqt/hbqt_qmessagebox.cpp
  * contrib/hbqt/hbqt_qlineedit.cpp
    * Formatting, indenting.
    ! ISNIL() usage removed.

  * contrib/hbwin/wapi_commctrl.c
  * contrib/hbwin/wapi_winuser.c
    ! ISNIL() usage removed.

  * contrib/hbfbird/tfirebrd.prg
  * contrib/hbpgsql/tests/simple.prg
  * contrib/hbpgsql/tests/test.prg
  * contrib/hbpgsql/tests/cache.prg
  * contrib/hbpgsql/tests/stress.prg
  * contrib/hbpgsql/tests/dbf2pg.prg
  * contrib/hbpgsql/tpostgre.prg
  * contrib/examples/uhttpd/uhttpd.prg
  * contrib/examples/uhttpd/uhttpdc.c
  * contrib/examples/terminal/trm_server.prg
    * ISNIL() usage and other code cleanup, formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/Makefile
    trunk/harbour/contrib/examples/terminal/trm_server.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c
    trunk/harbour/contrib/hbfbird/tfirebrd.prg
    trunk/harbour/contrib/hbpgsql/tests/cache.prg
    trunk/harbour/contrib/hbpgsql/tests/dbf2pg.prg
    trunk/harbour/contrib/hbpgsql/tests/simple.prg
    trunk/harbour/contrib/hbpgsql/tests/stress.prg
    trunk/harbour/contrib/hbpgsql/tests/test.prg
    trunk/harbour/contrib/hbpgsql/tpostgre.prg
    trunk/harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractslider.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qaction.cpp
    trunk/harbour/contrib/hbqt/hbqt_qapplication.cpp
    trunk/harbour/contrib/hbqt/hbqt_qboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcheckbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcolordialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcombobox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdateedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdial.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qerrormessage.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfiledialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfocusframe.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfont.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfontdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qformlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qframe.cpp
    trunk/harbour/contrib/hbqt/hbqt_qgroupbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qinputdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlabel.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlineedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlistview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmenu.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmenubar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmessagebox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprintdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprogressbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpushbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qradiobutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qscrollarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_qscrollbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qsizegrip.cpp
    trunk/harbour/contrib/hbqt/hbqt_qslider.cpp
    trunk/harbour/contrib/hbqt/hbqt_qspinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qsplitter.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtabbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtablewidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtabwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtimeedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtreeview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwebview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwizard.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/slots.h
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/hbsqlit3/tests/hbsqlit3.hbp
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/include/hbapi.h

Added Paths:
-----------
    trunk/harbour/external/
    trunk/harbour/external/sqlite3/
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/external/sqlite3/_sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.h

Removed Paths:
-------------
    trunk/harbour/contrib/hbsqlit3/sqlite3/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 25 09:32:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 09:32:36 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8F4@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C10FCC3D8F4@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903250632g20a02fd8g2f91619b5bc5fca0@mail.gmail.com>

Hi Chen,

On Wed, Mar 25, 2009 at 1:03 PM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> What I don't understand, is why should 3rd party lib,
> or wrapper functions to such lib should be the concern
> of CORE Harbour?


It's not a concern for core Harbour it's a concern for
Harbour users. I expect much of future development to
happen outside the core, and from a users POV it's just
as important to be able to use these components as
easily as possible as they can now do with the core.


> I am NOT talking about:
> 1) Not helping such external library dev team.
> 2) Not fixing bugs.
> 3) Missing API issues.
>
> (I might not explain myself very good with all this double negative
> try to bear with my English)
>
> Each person here is of course free to do as he/she likes,
> I'm talking about the direction and goal of the project as whole.
>
> Why it is the job of Harbour to supply make files for any external lib
> or add-on?


You misunderstood me, we shouldn't supply make files for external
projects, rather we should try to help them to not reinvent the wheel,
and provide some sort of solution for them, which *they* can update
and maintain.


> For ME, any contrib part that rely on external resource in order to run
> which is not part of the accepted standard OS and C compiler,
> should not be included as part of the Harbour SVN tree, and should
> be maintained elsewhere.


I'm not sure if it's good for Harbour if we cut it off from all external
components. Note that it's not just the contribs, even our core
depends on external packages (slang, curses, x11, gpm, zlib, pcre)
and it even contains foreign code (zlib, pcre). So we must deal with
this IMO, if we want to give a usable set of functionality. Of course
we can move some parts to other repositories, but currently I don't
see how it could make our tree cleaner.

Overall, dependence from external packages is something we simply
cannot live without these days.


> ==========================
>
> Hmm, sorry I'm talking too much again.
> In practice there are less than 6 people here that actively write code
> here, I'm not one of them so I probably should not tell you what to
> do. I'm not even a Harbour user, and stopped using Clipper 7-8 year
> ago, so I'm not even qualify as a user.


No, no, I always valued you opinion and input, so keep it up please.

[ I'm only using a very very small subset of all the things I used to
update
on SVN either. ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/78b04a83/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Mar 25 09:35:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 25 09:35:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10692] trunk/harbour
Message-ID: <E1LmTGg-0007c2-KB@dn4whf1.ch3.sourceforge.com>

Revision: 10692
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10692&view=rev
Author:   vszakats
Date:     2009-03-25 13:35:41 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 14:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  + external/Makefile
    + Added missing file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/external/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 25 09:37:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 09:37:20 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CA1CA4.2050607@dbtopas.lt>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
Message-ID: <18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>

Many thanks Mindaugas, very nice addition.
Can you tell what are the missing features? This can help us
decide if we can swap your code with the one in hbwin. I'd
certainly be happy to do so. If the missing bits are not that
important for OLE users, it may be enough to do the swap and
document the differences for now.

Brgds,
Viktor

On Wed, Mar 25, 2009 at 12:59 PM, Mindaugas Kavaliauskas <dbtopas@dbtopas.lt
> wrote:

> Whole OLE code is very flakey, I hope Mindaugas can send us something
>> before we release.
>>
>
>
> Hi Viktor,
>
>
> I've committed "my" OLE code. It is more clean, but not so many features
> implemented. I'm not sure it is that Harbour needs.
>
>
> Best regards,
> Mindaugas
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/694597ed/attachment.html
From dbtopas at dbtopas.lt  Wed Mar 25 09:41:02 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Mar 25 09:42:46 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
Message-ID: <49CA346E.7080409@dbtopas.lt>

> Can you tell what are the missing features? This can help us 
> decide if we can swap your code with the one in hbwin. I'd 
> certainly be happy to do so. If the missing bits are not that 
> important for OLE users, it may be enough to do the swap and 
> document the differences for now.

Hi,


one of missing features is parameters passed by reference. Iterators is 
not implemented also, but I do not know if it is implemented in current 
win_ole code.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Wed Mar 25 09:48:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 09:48:30 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CA346E.7080409@dbtopas.lt>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
Message-ID: <18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>

Thanks for the info.
IMO we can do without parameters passed by reference (iterators aren't
implemented in hbwin AFAIK) and this reduction in functionality is well
worth an otherwise stable and clean code.

I'd like to ask OLE users to the hbole, and give opinions about the above.

If there won't be any objections, I'll move hbole code to hbwin to replace
current implementation and delete separate hbole lib from repository.

Brds,
Viktor

On Wed, Mar 25, 2009 at 2:41 PM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt>wrote:

> Can you tell what are the missing features? This can help us decide if we
>> can swap your code with the one in hbwin. I'd certainly be happy to do so.
>> If the missing bits are not that important for OLE users, it may be enough
>> to do the swap and document the differences for now.
>>
>
> Hi,
>
>
> one of missing features is parameters passed by reference. Iterators is not
> implemented also, but I do not know if it is implemented in current win_ole
> code.
>
>
>
> Regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/eebabd43/attachment.html
From vszakats at users.sourceforge.net  Wed Mar 25 10:56:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 25 10:56:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10693] trunk/harbour
Message-ID: <E1LmUWS-0000vF-Mx@d5vjzd1.ch3.sourceforge.com>

Revision: 10693
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10693&view=rev
Author:   vszakats
Date:     2009-03-25 14:55:55 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 15:55 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * external/Makefile
    + Added HB_EXTERNAL_ADDON envvar support.

  * config/win/bcc.cf
    * -d moved to optimization switches.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/external/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Mar 25 11:33:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Mar 25 11:33:47 2009
Subject: [Harbour] hbdoc and documentation
In-Reply-To: <BLU145-W21BBF47D759B7720B45E4785930@phx.gbl>
References: <BLU145-W21BBF47D759B7720B45E4785930@phx.gbl>
Message-ID: <18d502870903250833q2a71beccn4affccb6438381e9@mail.gmail.com>

Hi Alejandro,


>  Almost (if not all) the files in \doc directory do not have format (plain
> text)
> so it's difficult to aply them any category for menuing or classify it.
>

Yes, they are in misc format, maybe they are good as they are,
and we should initially focus on assembling a language manual
and leaving these misc docs as is. Only a few of them is interesting
for end users.


> I think we must give some basic format to them to get more functionality (I
> did some basic test)
> Also may be convinient to move all files in \doc to \doc\en so we can get
> english and spanish
> in parallel.
>

I agree, but to make it fully multilanguage, we should move
\doc + \doc\en to \doc\en-EN and allow any other language.
If Spanish will be actively updated inside our repo, we can
add it, but first we should focus on English.


> Some files like howtocvs.txt are quite outdated, need an update, and change
> format to html nor
> pdf, do not give any advantage.  Most of the mailing list developers could
> do that.
>

In current repo we have howtosvn.txt and it's more or less updated.

I've recently moved hbdoc and some other doc related elements
under contrib/examples, pls check the latest repository, we may
move around anything if you think so.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/76072278/attachment.html
From vszakats at users.sourceforge.net  Wed Mar 25 11:34:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 25 11:34:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10694] trunk/harbour
Message-ID: <E1LmV7P-0002D8-Gi@d5vjzd1.ch3.sourceforge.com>

Revision: 10694
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10694&view=rev
Author:   vszakats
Date:     2009-03-25 15:34:09 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 16:19 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-func.sh
  * bin/hb-mkdyn.bat
  * bin/hb-mkdyn.sh
  * bin/postinst.bat
  * bin/postinst.cmd
  * bin/postinst.sh
  * contrib/examples/hbdoc/examples/core_es/array.txt
  * contrib/examples/hbdoc/examples/core_es/binnum.txt
  * contrib/examples/hbdoc/examples/core_es/browse.txt
  * contrib/examples/hbdoc/examples/core_es/clipper.txt
  * contrib/examples/hbdoc/examples/core_es/cmdline.txt
  * contrib/examples/hbdoc/examples/core_es/codebloc.txt
  * contrib/examples/hbdoc/examples/core_es/command.txt
  * contrib/examples/hbdoc/examples/core_es/compiler.txt
  * contrib/examples/hbdoc/examples/core_es/datetime.txt
  * contrib/examples/hbdoc/examples/core_es/dbdelim.txt
  * contrib/examples/hbdoc/examples/core_es/dbsdf.txt
  * contrib/examples/hbdoc/examples/core_es/dbstrux.txt
  * contrib/examples/hbdoc/examples/core_es/dir.txt
  * contrib/examples/hbdoc/examples/core_es/dirstruc.txt
  * contrib/examples/hbdoc/examples/core_es/diskspac.txt
  * contrib/examples/hbdoc/examples/core_es/error.txt
  * contrib/examples/hbdoc/examples/core_es/eval.txt
  * contrib/examples/hbdoc/examples/core_es/file.txt
  * contrib/examples/hbdoc/examples/core_es/garbage.txt
  * contrib/examples/hbdoc/examples/core_es/harbext.txt
  * contrib/examples/hbdoc/examples/core_es/hb_apiln.txt
  * contrib/examples/hbdoc/examples/core_es/hb_set.txt
  * contrib/examples/hbdoc/examples/core_es/hb_vm.txt
  * contrib/examples/hbdoc/examples/core_es/howtobsd.txt
  * contrib/examples/hbdoc/examples/core_es/hvm.txt
  * contrib/examples/hbdoc/examples/core_es/idle.txt
  * contrib/examples/hbdoc/examples/core_es/input.txt
  * contrib/examples/hbdoc/examples/core_es/lang.txt
  * contrib/examples/hbdoc/examples/core_es/license.txt
  * contrib/examples/hbdoc/examples/core_es/macro.txt
  * contrib/examples/hbdoc/examples/core_es/math.txt
  * contrib/examples/hbdoc/examples/core_es/memo.txt
  * contrib/examples/hbdoc/examples/core_es/memvar2.txt
  * contrib/examples/hbdoc/examples/core_es/misc.txt
  * contrib/examples/hbdoc/examples/core_es/nation.txt
  * contrib/examples/hbdoc/examples/core_es/objfunc.txt
  * contrib/examples/hbdoc/examples/core_es/pcode.txt
  * contrib/examples/hbdoc/examples/core_es/pragma.txt
  * contrib/examples/hbdoc/examples/core_es/rdd.txt
  * contrib/examples/hbdoc/examples/core_es/readme.txt
  * contrib/examples/hbdoc/examples/core_es/sayget.txt
  * contrib/examples/hbdoc/examples/core_es/setmode.txt
  * contrib/examples/hbdoc/examples/core_es/statics.txt
  * contrib/examples/hbdoc/examples/core_es/strotype.txt
  * contrib/examples/hbdoc/examples/core_es/subcodes.txt
  * contrib/examples/hbdoc/examples/core_es/tbrowse.txt
  * contrib/examples/hbdoc/examples/core_es/tclass.txt
  * contrib/examples/hbdoc/examples/core_es/tgetlist.txt
  * contrib/examples/hbdoc/examples/core_es/tlabel.txt
  * contrib/examples/hbdoc/examples/core_es/tracing.txt
  * contrib/examples/hbdoc/examples/core_es/treport.txt
  * contrib/examples/hbdoc/examples/core_es/var.txt
  * contrib/examples/hbdoc/examples/core_es/vm.txt
  * contrib/examples/pp/hbppcore.c
  * contrib/gtwvg/gtwvg.c
  * contrib/gtwvg/wvgcore.c
  * contrib/gtwvg/wvgcuig.c
  * contrib/gtwvg/wvggui.c
  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgwin.c
  * contrib/hbct/datetime.c
  * contrib/hbct/pack.c
  * contrib/hbct/video.c
  * contrib/hbfbird/firebird.c
  * contrib/hbfbird/tfirebrd.prg
  * contrib/hbfimage/readme.txt
  * contrib/hbgd/doc/hbgd.txt
  * contrib/hbmisc/dates2.c
  * contrib/hbmisc/doc/en/dates2.txt
  * contrib/hbmisc/doc/en/ht_class.txt
  * contrib/hbmisc/doc/en/ht_conv.txt
  * contrib/hbmisc/doc/en/ht_dbf.txt
  * contrib/hbmisc/doc/en/ht_doc.txt
  * contrib/hbmisc/doc/en/ht_str.txt
  * contrib/hbmysql/mysql.c
  * contrib/hbnf/fttext.c
  * contrib/hbodbc/odbc.c
  * contrib/hbpgsql/postgres.c
  * contrib/hbpgsql/tpostgre.prg
  * contrib/hbsqlit3/hbsqlit3.c
  * contrib/hbsqlit3/hbsqlit3.ch
  * contrib/hbsqlit3/tests/blob.prg
  * contrib/hbsqlit3/tests/metadata.prg
  * contrib/hbsqlit3/tests/pack.prg
  * contrib/hbsqlit3/tests/sqlite3_test.prg
  * contrib/hbtip/utils.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_tprn.prg
  * contrib/rddads/doc/en/adsfuncs.txt
  * doc/class_tp.txt
  * doc/en/array.txt
  * doc/en/binnum.txt
  * doc/en/browse.txt
  * doc/en/command.txt
  * doc/en/datetime.txt
  * doc/en/dbdelim.txt
  * doc/en/dbsdf.txt
  * doc/en/dbstrux.txt
  * doc/en/dir.txt
  * doc/en/diskspac.txt
  * doc/en/error.txt
  * doc/en/eval.txt
  * doc/en/file.txt
  * doc/en/hb_api.txt
  * doc/en/hb_apier.txt
  * doc/en/hb_apifs.txt
  * doc/en/hb_apigt.txt
  * doc/en/hb_apiit.txt
  * doc/en/hb_apiln.txt
  * doc/en/hb_apird.txt
  * doc/en/hb_compa.txt
  * doc/en/hb_date.txt
  * doc/en/hb_macro.txt
  * doc/en/hb_set.txt
  * doc/en/hb_vm.txt
  * doc/en/hvm.txt
  * doc/en/input.txt
  * doc/en/lang.txt
  * doc/en/math.txt
  * doc/en/memo.txt
  * doc/en/menu.txt
  * doc/en/misc.txt
  * doc/en/nation.txt
  * doc/en/objfunc.txt
  * doc/en/rdd.txt
  * doc/en/rdddb.txt
  * doc/en/rddmisc.txt
  * doc/en/rddord.txt
  * doc/en/set.txt
  * doc/en/setmode.txt
  * doc/en/string.txt
  * doc/en/tclass.txt
  * doc/en/terminal.txt
  * doc/en/tgetlist.txt
  * doc/en/tlabel.txt
  * doc/en/treport.txt
  * doc/en/var.txt
  * doc/hdr_tpl.txt
  * harbour-wce-spec
  * harbour-win-spec
  * harbour.spec
  * include/hbapigt.h
  * include/hbclass.ch
  * include/hboo.ch
  * make_gnu.bat
  * make_gnu.sh
  * mpkg_deb.sh
  * mpkg_rpm.sh
  * mpkg_rpm_from_svn.sh
  * mpkg_rpm_wce.sh
  * mpkg_rpm_win.sh
  * mpkg_tgz.sh
  * mpkg_win.bat
  * mpkg_win.nsi
  * source/common/hbdate.c
  * source/common/hbstr.c
  * source/common/hbver.c
  * source/compiler/cmdcheck.c
  * source/compiler/hbmain.c
  * source/debug/dbgtwin.prg
  * source/debug/debugger.prg
  * source/lang/msgpt.c
  * source/lang/msgptiso.c
  * source/rtl/accept.c
  * source/rtl/alert.prg
  * source/rtl/console.c
  * source/rtl/dates.c
  * source/rtl/dateshb.c
  * source/rtl/errorapi.c
  * source/rtl/filesys.c
  * source/rtl/gete.c
  * source/rtl/getsys.prg
  * source/rtl/getsys53.prg
  * source/rtl/gtapi.c
  * source/rtl/gtcrs/hb-charmap.def
  * source/rtl/gtdos/gtdos.c
  * source/rtl/gtos2/gtos2.c
  * source/rtl/gtwin/gtwin.c
  * source/rtl/gtwvt/gtwvt.c
  * source/rtl/gx.c
  * source/rtl/idle.c
  * source/rtl/inkey.c
  * source/rtl/mouseapi.c
  * source/rtl/natmsg.c
  * source/rtl/natmsgu.c
  * source/rtl/net.c
  * source/rtl/objfunc.prg
  * source/rtl/round.c
  * source/rtl/setpos.c
  * source/rtl/tclass.prg
  * source/rtl/tgetlist.prg
  * source/rtl/tobject.prg
  * source/rtl/transfrm.c
  * source/rtl/valtype.c
  * source/rtl/xsavescr.c
  * source/vm/arrays.c
  * source/vm/classes.c
  * source/vm/eval.c
  * source/vm/extend.c
  * source/vm/extrap.c
  * source/vm/fm.c
  * source/vm/hvm.c
  * source/vm/itemapi.c
  * source/vm/memvars.c
  * source/vm/proc.c
  * tests/bnchmark/bnch_win.bat
  * tests/langmsg.prg
  * tests/rto_tb.prg
  * utils/hbmk2/hbmk2.prg
  * utils/hbtest/make_c5x.bat
    * Changed reference:
      doc/license.txt -> COPYING.
      One step to allow the reorganization of doc dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/bin/postinst.sh
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/array.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/binnum.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/browse.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/clipper.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/cmdline.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/codebloc.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/command.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/compiler.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/datetime.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/dbdelim.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/dbsdf.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/dbstrux.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/dir.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/dirstruc.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/diskspac.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/error.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/eval.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/file.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/garbage.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/harbext.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/hb_apiln.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/hb_set.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/hb_vm.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/howtobsd.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/hvm.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/idle.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/input.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/lang.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/license.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/macro.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/math.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/memo.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/memvar2.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/misc.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/nation.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/objfunc.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/pcode.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/pragma.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/rdd.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/readme.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/sayget.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/setmode.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/statics.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/strotype.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/subcodes.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/tbrowse.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/tclass.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/tgetlist.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/tlabel.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/tracing.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/treport.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/var.txt
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/vm.txt
    trunk/harbour/contrib/examples/pp/hbppcore.c
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/hbct/datetime.c
    trunk/harbour/contrib/hbct/pack.c
    trunk/harbour/contrib/hbct/video.c
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbfbird/tfirebrd.prg
    trunk/harbour/contrib/hbfimage/readme.txt
    trunk/harbour/contrib/hbgd/doc/hbgd.txt
    trunk/harbour/contrib/hbmisc/dates2.c
    trunk/harbour/contrib/hbmisc/doc/en/dates2.txt
    trunk/harbour/contrib/hbmisc/doc/en/ht_class.txt
    trunk/harbour/contrib/hbmisc/doc/en/ht_conv.txt
    trunk/harbour/contrib/hbmisc/doc/en/ht_dbf.txt
    trunk/harbour/contrib/hbmisc/doc/en/ht_doc.txt
    trunk/harbour/contrib/hbmisc/doc/en/ht_str.txt
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbpgsql/tpostgre.prg
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.ch
    trunk/harbour/contrib/hbsqlit3/tests/blob.prg
    trunk/harbour/contrib/hbsqlit3/tests/metadata.prg
    trunk/harbour/contrib/hbsqlit3/tests/pack.prg
    trunk/harbour/contrib/hbsqlit3/tests/sqlite3_test.prg
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_tprn.prg
    trunk/harbour/contrib/rddads/doc/en/adsfuncs.txt
    trunk/harbour/doc/class_tp.txt
    trunk/harbour/doc/en/array.txt
    trunk/harbour/doc/en/binnum.txt
    trunk/harbour/doc/en/browse.txt
    trunk/harbour/doc/en/command.txt
    trunk/harbour/doc/en/datetime.txt
    trunk/harbour/doc/en/dbdelim.txt
    trunk/harbour/doc/en/dbsdf.txt
    trunk/harbour/doc/en/dbstrux.txt
    trunk/harbour/doc/en/dir.txt
    trunk/harbour/doc/en/diskspac.txt
    trunk/harbour/doc/en/error.txt
    trunk/harbour/doc/en/eval.txt
    trunk/harbour/doc/en/file.txt
    trunk/harbour/doc/en/hb_api.txt
    trunk/harbour/doc/en/hb_apier.txt
    trunk/harbour/doc/en/hb_apifs.txt
    trunk/harbour/doc/en/hb_apigt.txt
    trunk/harbour/doc/en/hb_apiit.txt
    trunk/harbour/doc/en/hb_apiln.txt
    trunk/harbour/doc/en/hb_apird.txt
    trunk/harbour/doc/en/hb_compa.txt
    trunk/harbour/doc/en/hb_date.txt
    trunk/harbour/doc/en/hb_macro.txt
    trunk/harbour/doc/en/hb_set.txt
    trunk/harbour/doc/en/hb_vm.txt
    trunk/harbour/doc/en/hvm.txt
    trunk/harbour/doc/en/input.txt
    trunk/harbour/doc/en/lang.txt
    trunk/harbour/doc/en/math.txt
    trunk/harbour/doc/en/memo.txt
    trunk/harbour/doc/en/menu.txt
    trunk/harbour/doc/en/misc.txt
    trunk/harbour/doc/en/nation.txt
    trunk/harbour/doc/en/objfunc.txt
    trunk/harbour/doc/en/rdd.txt
    trunk/harbour/doc/en/rdddb.txt
    trunk/harbour/doc/en/rddmisc.txt
    trunk/harbour/doc/en/rddord.txt
    trunk/harbour/doc/en/set.txt
    trunk/harbour/doc/en/setmode.txt
    trunk/harbour/doc/en/string.txt
    trunk/harbour/doc/en/tclass.txt
    trunk/harbour/doc/en/terminal.txt
    trunk/harbour/doc/en/tgetlist.txt
    trunk/harbour/doc/en/tlabel.txt
    trunk/harbour/doc/en/treport.txt
    trunk/harbour/doc/en/var.txt
    trunk/harbour/doc/hdr_tpl.txt
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbapigt.h
    trunk/harbour/include/hbclass.ch
    trunk/harbour/include/hboo.ch
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/mpkg_deb.sh
    trunk/harbour/mpkg_rpm.sh
    trunk/harbour/mpkg_rpm_from_svn.sh
    trunk/harbour/mpkg_rpm_wce.sh
    trunk/harbour/mpkg_rpm_win.sh
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/mpkg_win.bat
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/source/common/hbdate.c
    trunk/harbour/source/common/hbstr.c
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/debug/dbgtwin.prg
    trunk/harbour/source/debug/debugger.prg
    trunk/harbour/source/lang/msgpt.c
    trunk/harbour/source/lang/msgptiso.c
    trunk/harbour/source/rtl/accept.c
    trunk/harbour/source/rtl/alert.prg
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/rtl/dates.c
    trunk/harbour/source/rtl/dateshb.c
    trunk/harbour/source/rtl/errorapi.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/gete.c
    trunk/harbour/source/rtl/getsys.prg
    trunk/harbour/source/rtl/getsys53.prg
    trunk/harbour/source/rtl/gtapi.c
    trunk/harbour/source/rtl/gtcrs/hb-charmap.def
    trunk/harbour/source/rtl/gtdos/gtdos.c
    trunk/harbour/source/rtl/gtos2/gtos2.c
    trunk/harbour/source/rtl/gtwin/gtwin.c
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/rtl/gx.c
    trunk/harbour/source/rtl/idle.c
    trunk/harbour/source/rtl/inkey.c
    trunk/harbour/source/rtl/mouseapi.c
    trunk/harbour/source/rtl/natmsg.c
    trunk/harbour/source/rtl/natmsgu.c
    trunk/harbour/source/rtl/net.c
    trunk/harbour/source/rtl/objfunc.prg
    trunk/harbour/source/rtl/round.c
    trunk/harbour/source/rtl/setpos.c
    trunk/harbour/source/rtl/tclass.prg
    trunk/harbour/source/rtl/tgetlist.prg
    trunk/harbour/source/rtl/tobject.prg
    trunk/harbour/source/rtl/transfrm.c
    trunk/harbour/source/rtl/valtype.c
    trunk/harbour/source/rtl/xsavescr.c
    trunk/harbour/source/vm/arrays.c
    trunk/harbour/source/vm/classes.c
    trunk/harbour/source/vm/eval.c
    trunk/harbour/source/vm/extend.c
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/itemapi.c
    trunk/harbour/source/vm/memvars.c
    trunk/harbour/source/vm/proc.c
    trunk/harbour/tests/bnchmark/bnch_win.bat
    trunk/harbour/tests/langmsg.prg
    trunk/harbour/tests/rto_tb.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbtest/make_c5x.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Mar 25 11:35:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Mar 25 11:35:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10695] trunk/harbour
Message-ID: <E1LmV8x-0002FT-N8@d5vjzd1.ch3.sourceforge.com>

Revision: 10695
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10695&view=rev
Author:   vszakats
Date:     2009-03-25 15:35:49 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 16:32 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  - doc/license.txt
    % Removed duplicate copy of this text. Now /COPYING is the
      only one in repo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Removed Paths:
-------------
    trunk/harbour/doc/license.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Wed Mar 25 12:30:52 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Mar 25 12:29:59 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
Message-ID: <ktmks49k934rjp85edsmf7ou11punk38as@4ax.com>

>I'd like to ask OLE users to the hbole, and give opinions about the above.

Hi,

There are any problem to change:

static void hb_oleVariantToItem( PHB_ITEM pItem, VARIANT* pVariant )

to 

HRESULT hb_oleVariantToItem( PHB_ITEM pItem, VARIANT *pVariant );



Thanks and best regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From info at fsgiudice.com  Wed Mar 25 15:00:27 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar 25 15:00:38 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
Message-ID: <49CA7F4B.2020103@fsgiudice.com>

Hi Viktor,

Il 25/03/2009 14.48, Viktor Szak?ts ha scritto:
> 
> If there won't be any objections, I'll move hbole code to hbwin to replace 
> current implementation and delete separate hbole lib from repository.
> 
Please wait until I (and probably other: Pritpal ?) will check if there 
are problems with new and if we need some other parts before delete ole 
version in hbwin.

Give me some days.
Unless there are anyone that needs it urgently.

Best regards
Francesco


From zen25000 at zen.co.uk  Wed Mar 25 15:54:51 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Mar 25 15:54:51 2009
Subject: [Harbour] hbtpathy won't send chr(13)
In-Reply-To: <18d502870903230757g593887e4g2398147d155eed12@mail.gmail.com>
References: <49C584E1.1060200@zen.co.uk>	
	<18d502870903230216o73df18fes3fc427991624ea43@mail.gmail.com>	
	<49C78431.8000005@zen.co.uk>	
	<20090323135143.GA15522@uran.home.aster.pl>	
	<49C7980B.2050009@zen.co.uk>	
	<20090323143116.GA30716@uran.home.aster.pl>	
	<49C79FB9.6000805@zen.co.uk>
	<18d502870903230757g593887e4g2398147d155eed12@mail.gmail.com>
Message-ID: <49CA8C0B.7090101@zen.co.uk>

Viktor,
Any chance you can update /SVN/harbour/contrib/hbtpathy/tests/tptest.prg 
with the code below as it is broken at present.
telepath.prg has nTimeout which defaults to 0 so without a timeout
parameter passed to tp_send it fails.

function main
    ? tp_open( 1,, 9600, 8, "N", 1 )
    tp_send( 1, "Hi there Bob", 1 )    // One second timeout
    tp_inkey( .5 )
    ? tp_recv( 1 )
    ?
    tp_Close( 1 )
return nil

[baz@jackodesktop hbr]$ hbmk2 testtp
hbmk: Processing configuration: /usr/bin/hbmk.cfg
hbmk: Processing: hbtpathy.hbp
Harbour 1.1.0dev (Rev. 10678)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'testtp.prg'...
Lines 10, Functions/Procedures 1
Generating C source output to 'testtp.c'... Done.
[baz@jackodesktop hbr]$ testtp

          0
Hi there Bob
[baz@jackodesktop hbr]$

Regards, Barry

Viktor Szak?ts wrote:
> Thanks for the feedback.
> 
> Brgds,
> Viktor
> 
> On Mon, Mar 23, 2009 at 3:42 PM, Barry Jackson <zen25000@zen.co.uk 
> <mailto:zen25000@zen.co.uk>> wrote:
> 
>     @Przemek
>     Thanks - rpm builds fine now - I will check out your other comments.
> 
>     @Viktor
>     The latest SVN has cured the hbtpathy problem - many thanks!
> 
>     [baz@jackodesktop hbr]$ testsend
>       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16 ...

From druzus at users.sourceforge.net  Wed Mar 25 18:15:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Mar 25 18:15:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10696] trunk/harbour
Message-ID: <E1LmbNk-0005zW-8k@d5vjzd1.ch3.sourceforge.com>

Revision: 10696
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10696&view=rev
Author:   druzus
Date:     2009-03-25 22:15:31 +0000 (Wed, 25 Mar 2009)

Log Message:
-----------
2009-03-25 23:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/ppcore.c
    ! fixed line number set for C preprocessor in #pragma begindump

  * harbour/include/hbcomp.h
  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/genc.c
    * added detection of static Harbour functions in #pragma begindump
      code. I do not like it because it cannot be well implemented on
      other then real C compiler/preprocessor level but it's probably
      better then different workarounds I see in some [x]Harbour 3-rd
      party projects.
      Warning this functionality is not officially supported. It's a hack
      to existing #pragma begindump hack and activated only for dumped C
      code. It tries to detect Harbour static functions declared by
      HB_FUNC_STATIC( name ) but it does not make any real C preprocessing.
      Only strips comments and strings and then looks for above statement
      dividing the code to some basic tokens so it will give wrong results
      for code like:

         #if 0
            HB_FUNC_STATIC( MYFUNC )
         #else
            HB_FUNC( MYFUNC )
         #endif
            {
               hb_retc( "MyFunc" );
            }

      but it works correctly for simple code which does not use conditional
      compilation and does not try to redefine HB_FUNC_STATIC() macro, f.e:

         proc main()
            ? YEAR( DATE() ), MONTH( DATE() ), DAY( DATE() ), TEST()
         return
         #pragma begindump
         #include "hbapi.h"
         /* are comments stripped? If not then HB_FUNC_STATIC( DATE )
            in comment can create troubles. */
         // HB_FUNC_STATIC( YEAR ) just like this one in C++ comments
         #define MYHB_FUNC_STATIC( fun )  #fun // to test whole word tokens
         /* COMMENT */HB_FUNC_STATIC( TEST )
         {
            hb_retc( "HB_FUNC_STATIC( DAY )->" MYHB_FUNC_STATIC( MONTH ) );
         }
         #pragma enddump

      Before we had wrong results for any code like:

            HB_FUNC_STATIC( MYFUNC )
            {
               hb_retc( "MyFunc" );
            }

      so it's not making anything worse (I hope ;-)).
      The implementation is intentionally local to -gc output to not
      effect other compiler code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbxml.c
    trunk/harbour/include/hbcomp.h
    trunk/harbour/source/compiler/genc.c
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/pp/ppcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Wed Mar 25 18:17:15 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Mar 25 18:17:24 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CA7F4B.2020103@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
	<49CA7F4B.2020103@fsgiudice.com>
Message-ID: <49CAAD6B.2000707@fsgiudice.com>


Hi Viktor, Mindaugas,

Il 25/03/2009 20.00, Francesco Saverio Giudice ha scritto:
> Please wait until I (and probably other: Pritpal ?) will check if there 
> are problems with new and if we need some other parts before delete ole 
> version in hbwin.


building current SVN I got below error, am I missing something ?
(sorry for italian version, if it is needed I can install English 
version or translate it)

Best regards
Francesco


J:\cvs\harbourSVN_trunk\contrib\hbole>if not exist ..\..\lib\win\msvc\. 
md ..\..\lib\win\msvc
make[3]: Entering directory `J:/cvs/harbourSVN_trunk/contrib/hbole/win/msvc'
cl.exe -nologo -W4 -wd4127 -Gs -I. -I../../../../include -TP -Ot2b1 
-EHs-c- -MT   -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF  -c ../../oleinit.c 
-Fooleinit.obj
oleinit.c
cl.exe -nologo -W4 -wd4127 -Gs -I. -I../../../../include -TP -Ot2b1 
-EHs-c- -MT   -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF  -c ../../olecore.c 
-Foolecore.obj
olecore.c
../../olecore.c(116) : error C2440: '=': impossibile convertire da 'void 
*' a 'char *'
         La conversione da 'void*' a puntatori a valori non 'void' 
richiede un cast esplicito
../../olecore.c(134) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(134) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(134) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(136) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(136) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(136) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(136) : error C2228: l'elemento a sinistra di '.bstrVal' 
deve avere una classe, struttura o unione
../../olecore.c(141) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(141) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(141) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(142) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(142) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(142) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(142) : error C2228: l'elemento a sinistra di '.boolVal' 
deve avere una classe, struttura o unione
../../olecore.c(146) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(146) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(146) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(147) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(147) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(147) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(147) : error C2228: l'elemento a sinistra di '.lVal' 
deve avere una classe, struttura o unione
../../olecore.c(151) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(151) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(151) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(152) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(152) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(152) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(152) : error C2228: l'elemento a sinistra di '.llVal' 
deve avere una classe, struttura o unione
../../olecore.c(156) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(156) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(156) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(157) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(157) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(157) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(157) : error C2228: l'elemento a sinistra di '.dblVal' 
deve avere una classe, struttura o unione
../../olecore.c(161) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(161) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(161) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(162) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(162) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(162) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(162) : error C2228: l'elemento a sinistra di '.dblVal' 
deve avere una classe, struttura o unione
../../olecore.c(171) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(171) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(171) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(172) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(172) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(172) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(172) : error C2228: l'elemento a sinistra di '.pdispVal' 
deve avere una classe, struttura o unione
../../olecore.c(185) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(185) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(185) : error C2228: l'elemento a sinistra di '.vt' deve 
avere una classe, struttura o unione
../../olecore.c(188) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(188) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(188) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(188) : error C2228: l'elemento a sinistra di '.bstrVal' 
deve avere una classe, struttura o unione
../../olecore.c(194) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(194) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(194) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(194) : error C2228: l'elemento a sinistra di '.boolVal' 
deve avere una classe, struttura o unione
../../olecore.c(201) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(201) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(201) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(201) : error C2228: l'elemento a sinistra di '.pdispVal' 
deve avere una classe, struttura o unione
../../olecore.c(213) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(213) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(213) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(213) : error C2228: l'elemento a sinistra di '.pdispVal' 
deve avere una classe, struttura o unione
../../olecore.c(222) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(222) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(222) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(222) : error C2228: l'elemento a sinistra di '.cVal' 
deve avere una classe, struttura o unione
../../olecore.c(226) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(226) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(226) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(226) : error C2228: l'elemento a sinistra di '.iVal' 
deve avere una classe, struttura o unione
../../olecore.c(230) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(230) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(230) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(230) : error C2228: l'elemento a sinistra di '.lVal' 
deve avere una classe, struttura o unione
../../olecore.c(234) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(234) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(234) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(234) : error C2228: l'elemento a sinistra di '.llVal' 
deve avere una classe, struttura o unione
../../olecore.c(238) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(238) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(238) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(238) : error C2228: l'elemento a sinistra di '.bVal' 
deve avere una classe, struttura o unione
../../olecore.c(242) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(242) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(242) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(242) : error C2228: l'elemento a sinistra di '.uiVal' 
deve avere una classe, struttura o unione
../../olecore.c(246) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(246) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(246) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(246) : error C2228: l'elemento a sinistra di '.ulVal' 
deve avere una classe, struttura o unione
../../olecore.c(251) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
         c:\program files\microsoft 
sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
'tagVARIANT'
../../olecore.c(251) : error C2228: l'elemento a sinistra di '.n2' deve 
avere una classe, struttura o unione
../../olecore.c(251) : error C2228: l'elemento a sinistra di '.n3' deve 
avere una classe, struttura o unione
../../olecore.c(251) : error C2228: l'elemento a sinistra di '.ullVal' 
deve avere una classe, struttura o unione
../../olecore.c(251) : fatal error C1003: il conteggio degli errori 
supera 100. Interruzione della compilazione
make[3]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib/hbole/win/msvc'
make[2]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib/hbole'
make[1]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib'


From druzus at acn.waw.pl  Wed Mar 25 20:54:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Mar 25 20:47:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10688] trunk/harbour
In-Reply-To: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>
References: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090326005419.GA10556@uran.home.aster.pl>

On Wed, 25 Mar 2009, vszakats@users.sourceforge.net wrote:

Hi,

>   * contrib/gtwvg/gtwvg.h
>   * contrib/gtwvg/wvggui.h
>     ! Fixed to _not_ override _WIN32_IE. Overriding these version
>       numbers is generally a very bad idea. Instead the code should
>       adapt to whatever values are defined by system headers.
>       This fixes most mingw64 errors. Please test other compilers.

Many compilers does not set _WIN32_IE macro at all leaving the decision
to programmers. If this macro will not be defined to at least 0x0300 then
most of gtwvg code will not be usable.
So it has to be defined and it should be done before including windows
header files otherwise user will have to add it to CFLAGS.
In practice it means that sth like:

   #ifndef _WIN32_IE
      #define _WIN32_IE 0x0400
   #endif

should be added before any #include.
It can be added to gtwvg.h and
   #include "gtwvg.h"
should be included as 1-st file in all .c files using it.
The same should be done in all other files which use extended WinAPI
functionality.
The default setting can be improved using some information from
machine type, f.e. Win64 builds for sure cannot be run with some
older windows version, f.e.:
   #ifndef _WIN32_IE
      #ifdef _WIN64
         #define _WIN32_IE 0x0501
      #else
         #define _WIN32_IE 0x0400
      #endif
   #endif

It should also help to test the code for compilation with other versions.
Pritpal should decide about default value he needs for basic functionality.
User can overwrite it using HB_USER_CFLAGS.
For tests we can try to compile the code with different settings, f.e:
   HB_USER_CFLAGS=-D_WIN32_IE=0x0200
or:
   HB_USER_CFLAGS=-D_WIN32_IE=0x0300
but please remember that not all compiler properly use _WIN32_IE macro
to hide some definitions so such tests should be done with different C
compilers.

BTW: in hbsetup.h you added:
         ( defined(__POCC_TARGET__) && __POCC_TARGET__ == 2 )
     to detect HB_OS_WIN_CE builds. Maybe it's documented method in POCC
     and in such case should be left but if not then I suggest to rather
     use sth like:
         ( defined( HB_OS_WIN ) && defined( _M_ARM ) )

best regards,
Przemek

ps. with current code MinGW32 and MinGW32CE builds fails with:

../../gtwvg.c: In function 'hb_wvt_gtCreateToolTipWindow':
../../gtwvg.c:4379: error: 'INITCOMMONCONTROLSEX' undeclared (first use in this function)
../../gtwvg.c:4379: error: (Each undeclared identifier is reported only once
../../gtwvg.c:4379: error: for each function it appears in.)
../../gtwvg.c:4379: error: expected ';' before 'icex'
../../gtwvg.c:4384: error: 'icex' undeclared (first use in this function)
../../gtwvg.c:4387: warning: implicit declaration of function 'InitCommonControlsEx'
From vitormangabeira at gmail.com  Wed Mar 25 20:51:14 2009
From: vitormangabeira at gmail.com (Vitor Mangabeira)
Date: Wed Mar 25 20:51:20 2009
Subject: [Harbour] testhtml
In-Reply-To: <49C948D6.5070406@abix.info.pl>
References: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>
	<49C948D6.5070406@abix.info.pl>
Message-ID: <b17496760903251751k6a5686cekf534a459c5b87888@mail.gmail.com>

I already seen but did no help that much.

2009/3/24 ABIX Adam Jurkiewicz <a.jurkiewicz@abix.info.pl>

> Vitor Mangabeira pisze:
> > Hi All,
> >
> > I?e been testing testhtml.prg from harbour/tests/ by compiling with
>
> Read
> http://httpd.apache.org/docs/1.3/misc/FAQ-F.html#premature-script-headers
>
> Best regards,
> Adam
>
> --
> ABIX - Linuksowe Systemy Wspomagania Biznesu www.abix.info.pl
> Gadu-Gadu: 302315
> Skype: abix_adamj
> Wsparcie: http://groups-beta.google.com/group/abix-rcsoft?hl=pl
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/c77406e5/attachment.html
From vitormangabeira at gmail.com  Wed Mar 25 20:54:41 2009
From: vitormangabeira at gmail.com (Vitor Mangabeira)
Date: Wed Mar 25 20:54:46 2009
Subject: [Harbour] testhtml
In-Reply-To: <531d7a750903241359k24b25241i3937c234b538a87b@mail.gmail.com>
References: <b17496760903241341g67bd4b07i7e8ef73263a19fc9@mail.gmail.com>
	<49C948D6.5070406@abix.info.pl>
	<531d7a750903241359k24b25241i3937c234b538a87b@mail.gmail.com>
Message-ID: <b17496760903251754l5b3d4795ya87487e5a4aa45a4@mail.gmail.com>

Thanks Vailton worked under linux.

2009/3/24 Vailton Renato <vailtom@gmail.com>

> See modified ShowResult() function in:
> http://www.harbour-project.org/samples/testhtml.prg.html
>
> Vailton Renato
> "Quem ? fiel no m?nimo, ? tamb?m fiel no muito..."
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090325/936bf2c0/attachment.html
From philb at philb.us  Wed Mar 25 21:42:21 2009
From: philb at philb.us (Phil Barnett)
Date: Wed Mar 25 21:42:16 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
Message-ID: <49CADD7D.80203@philb.us>

Viktor Szak?ts wrote:
> There are a few issue with Harbour 3rd party libs in general
> (talking about open source ones for now):
> 1) Each has a different make system, which means each of them has 
>     to be learned, built and locally maintained in a completely 
> different way.
> 2) These make systems and libs are often targeting only a small subset 
>     of supported Harbour platforms.

And that is where we depart in general from what made Clipper the 3rd 
party success it was. Those third parties could distribute a library. 
Maybe two. We can't deal easily with precompiled code (libraries or 
objects) unless those same third parties distribute those libraries for 
multiple platforms and even perhaps multiple compilers. This raises the 
bar significantly for entry to the third party banquet. Our original 
goal was multiple compilers and multiple platforms. That has been 
accomplished, but in this respect, it's our Achilles heel. And, worst of 
all, we don't have 'the most popular compiler around', which is what 
made third party developers desire to put in the work. I'm not saying 
what we have is bad in any way. it's not. Harbour is vastly superior to 
Clipper.

At the very least, we would need to maintain a published list of 
compiler and target platforms so the large yet finite list is well 
known. That would at least give a third party developer a target, even 
if it is a huge one. I think it's a rather large problem.

This was perhaps the least understood trade off that we made with our 
multiplatform multicompiler goal. Our goal was not bad, but look what 
came with it.

I don't have the answer, just more things to ponder and some realities 
to accept.
From harbour.01 at syenar.hu  Mon Mar 23 04:50:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 00:06:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <18d502870903230150u69f69361y9d537d722486d85b@mail.gmail.com>

Hats of, great job! Thanks Przemek.
Brgds,
Viktor

On Sat, Mar 21, 2009 at 4:04 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10669
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10669&view=rev
> Author:   druzus
> Date:     2009-03-21 15:04:43 +0000 (Sat, 21 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-21 16:07 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/bin/hb-func.sh
>    ! restored default optimization flag (-O3) in hb* scripts
>
>  * harbour/harbour.spec
>    ! fixed recent modification
>
>  * harbour/contrib/rddads/ads1.c
>  * harbour/contrib/rddads/adsfunc.c
>  * harbour/contrib/hbmisc/strfmt.c
>  * harbour/contrib/hbcrypt/sha1.c
>    ! fixed wrongly used C reference operator
>
>  * harbour/contrib/hbwin/win_prn2.c
>  * harbour/contrib/hbwin/wapi_commctrl.c
>  * harbour/source/vm/maindllp.c
>    ! fixes for unicode builds
>
>  * harbour/include/std.ch
>    + added SET TIME FORMAT [TO] <f>
>
>  * harbour/include/set.ch
>  * harbour/include/hbset.h
>  * harbour/source/vm/set.c
>    + added _SET_TIMEFORMAT
>      The folowing modifiers are supported:
>         hh - hours
>         mm - minutes
>         ss - seconds
>         fff - fraction part of seconds
>         p - 1-st letter from PM / AM signature. When used time is shown
>             in 12 hour format otherwise 24 hour format is used
>      ex: Set( __SET_TIMEFORMAT, "hh:mm pm" )
>      default _SET_TIMEFORMAT value is "hh:mm:ss:fff"
>    + added C function: char * hb_setGetTimeFormat( void );
>
>  * harbour/include/hbpp.h
>  * harbour/source/pp/ppcore.c
>    + added support for timestamp constant values in the form:
>         t"YYYY-MM-DD HH:MM:SS.fff"
>      The exact accepted timestamp pattern is is:
>         YYYY-MM-DD [H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
>      i.e.:
>         tValue := t"2009-03-21 5:31:45.437 PM"
>      or:
>         YYYY-MM-DDT[H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
>      with literal "T" as date and time part delimiters (XML timestamp
>      format), i.e.:
>         tValue := t"2009-03-21T17:31:45.437"
>      The folowing characters can be used as date delimiters: "-", "/", "."
>      if PM or AM is used HH is in range < 1 : 12 > otherwise
>      in range < 0 : 23 >
>
>  * harbour/source/compiler/complex.c
>  * harbour/source/compiler/harbour.y
>  * harbour/source/compiler/harbour.yyc
>  * harbour/source/compiler/harbour.yyh
>    + added support for t"YYYY-MM-DD HH:MM:SS.fff" time stamp constant
>      to compiler
>    + added support for VFP datetime constant values:
>         { ^ [ YYYY-MM-DD [,] ] [ HH[:MM[:SS][.FFF]] [AM|PM] ] }
>      The following characters can be used as date delimiters: "-", "/".
>      Dot "." as date delimiter is not supported.
>      There is no limit on number of characters in YYYY, MM, DD, HH, MM,
>      SS, FFF parts. Important is only their value. This is the format
>      in semi PP notation:
>         { ^ <YEAR> <sep:/-> <MONTH> <sep:/-> <DAY> [[<sep2:,>]
>           [ <HOUR> [ : <MIN> [ : <SEC> [ . <FRAQ> ] ] ] [AM|PP] ] }
>      In practice it allows to also parse xHarbour datetime constant
>      values with compatible conditions though xHarbour support onlu "/"
>      as date delimiter.
>      NOTE: there is one important difference to VFP and xHarbour in
>      decoding above format. In VFP and xHarbour when date part is
>      missing then it's set by default to: 1899-12-30 so this code:
>         { ^ 12:00 }
>      gived the same results as:
>         { ^ 1899/12/30 12:00 }
>      Harbour does not set any default date value when timestamp
>      constant value contains only time part.
>      If you want we can change it for strict VFP compatiblity.
>      Now this extension is enabled by default for testing. In the future
>      it will be probably covered by HB_COMPAT_FOXPRO macro.
>
>  * harbour/source/macro/macro.yyc
>  * harbour/source/macro/macro.y
>  * harbour/source/macro/macro.yyh
>  * harbour/source/macro/macrolex.c
>    + added support for t"YYYY-MM-DD HH:MM:SS.fff" time stamp constant
>      to macro compiler
>
>  * harbour/include/hbmacro.h
>  * harbour/source/vm/macro.c
>    + added new function:
>      void hb_macroGenPushTimeStamp( LONG lDate, LONG lTime, HB_COMP_DECL );
>
>  * harbour/include/hberrors.h
>  * harbour/source/compiler/hbgenerr.c
>    + added new compile time error: "Invalid timestamp constant '%s'"
>
>  * harbour/source/compiler/cmdcheck.c
>    * use Harbour API timestamp functions instead of calling system
>      functions
>
>  * harbour/include/hbpcode.h
>  * harbour/source/compiler/hbfix.c
>  * harbour/source/compiler/hbpcode.c
>  * harbour/source/compiler/hbdead.c
>  * harbour/source/compiler/genc.c
>  * harbour/source/compiler/gencc.c
>  * harbour/source/compiler/hblbl.c
>  * harbour/source/compiler/hbstripl.c
>  * harbour/source/compiler/hbopt.c
>    + added new PCODE HB_P_PUSHTIMESTAMP (replaced one unused PCODE value)
>      to store timestamp constant values in the PCODE
>
>  * harbour/include/hbcomp.h
>  * harbour/source/compiler/hbmain.c
>    + added new function:
>      void hb_compGenPushTimeStamp( LONG lDate, LONG lTime, HB_COMP_DECL );
>
>  * harbour/include/hbexprop.h
>  * harbour/source/common/expropt1.c
>    + added new C functions:
>      HB_EXPR_PTR hb_compExprNewTimeStamp( LONG, LONG, HB_COMP_DECL );
>
>  * harbour/include/hbexprb.c
>  * harbour/include/hbcompdf.h
>  * harbour/source/common/expropt2.c
>    + added timestamp expressions support
>    + added compile time optimization for timestamp expressions
>    * updated function optimization for timestamp expressions
>
>  * harbour/include/hbdate.h
>  * harbour/source/common/hbdate.c
>    * changed hb_dateMilliSeconds() to return UTC julian timestamp in
>      milliseconds
>    * changed existing seconds, time and timestamp functions to operate
>      on common OS specific functions to eliminate possible problems
>      with different OS time counters
>    + added new functions to operates on time and timestamp values.
>      See source code for details.
>
>  + harbour/source/rtl/cputime.c
>    * moved double hb_secondsCPU( int n ) function to separate file
>
>  * harbour/source/rtl/seconds.c
>    - removed old version of date/seconds functions
>
>  * harbour/source/vm/hashes.c
>  * harbour/source/vm/arrays.c
>    + added support for timestamp values as hash item indexes
>
>  * harbour/source/vm/hashfunc.c
>    + added support for find timestamp values in hash and array items
>      by simple date value in AScan(), hb_HScan(), hb_AScan() and
> hb_RAScan()
>      functions when exact comparison is not used.
>
>  * harbour/source/vm/asort.c
>    + added support for sorting timestamp values
>
>  * harbour/source/vm/classes.c
>    + added support for timestamp scallar classes
>    + added support for timestamp typed instance variables
>
>  * harbour/source/vm/memvars.c
>    + added support for timestamp values in .mem files
>
>  * harbour/source/vm/estack.c
>    + show timestamp values in stack dump
>
>  * harbour/include/hbapi.h
>  * harbour/source/vm/arrays.c
>    + added new C functions:
>      double hb_arrayGetTD( PHB_ITEM pArray, ULONG ulIndex );
>      BOOL hb_arraySetTD( PHB_ITEM pArray, ULONG ulIndex, double dTimeStamp
> )
>      BOOL hb_arrayGetTDT( PHB_ITEM pArray, ULONG ulIndex,
>                           LONG * plJulian, LONG * plMilliSec );
>      BOOL hb_arraySetTDT( PHB_ITEM pArray, ULONG ulIndex,
>                           LONG lJulian, LONG lMilliSec );
>
>  * harbour/include/hbapi.h
>  * harbour/source/vm/extend.c
>    + accept timestamp items in date functions - use only date part of
>      timestamp value
>    + added new C functions:
>      double hb_partd( int iParam, ... );
>      BOOL hb_partdt( LONG * plJulian, LONG * plMilliSec , int iParam, ...
> );
>      void hb_rettd( double dTimeStamp );
>      void hb_rettdt( LONG lJulian, LONG lMilliSec );
>      int hb_stortd( double dTimeStamp, int iParam, ... );
>      int hb_stortdt( LONG lJulian, LONG lMilliSec, int iParam, ... );
>
>  * harbour/include/hbapiitm.h
>  * harbour/source/vm/itemapi.c
>    + accept timestamp items in date functions - use only date part of
>      timestamp value
>    + added new C functions:
>      char * hb_itemGetTS( PHB_ITEM pItem, char * szDateTime );
>      PHB_ITEM hb_itemPutTS( PHB_ITEM pItem, const char * szDateTime );
>      double hb_itemGetTD( PHB_ITEM pItem );
>      PHB_ITEM hb_itemPutTD( PHB_ITEM pItem, double dTimeStamp )
>      BOOL hb_itemGetTDT( PHB_ITEM pItem, LONG * plJulian, LONG * plMilliSec
> );
>      PHB_ITEM hb_itemPutTDT( PHB_ITEM pItem, LONG lJulian, LONG lMilliSec
> );
>    + support for timestamp items in hb_itemString(), hb_itemPadConv() and
>      hb_itemTypeStr() functions
>
>  * harbour/include/hbvm.h
>  * harbour/include/hbxvm.h
>  * harbour/include/hbapi.h
>  * harbour/source/vm/hvm.c
>    + added HB_IT_TIMESTAMP items
>    * modified HB_IT_DATE internal item structure to use common structure
>      with HB_IT_TIMESTAMP - it  simplifies HVM code and eliminates
> additional
>      RT conditions.
>    + added HB_IS_TIMESTAMP() and ISTIMESTAMP() macros
>    + added HB_IS_DATETIME() and ISDATETIME() macros - they return true
>      if item/parameter is DATE or TIMESTAMP type.
>    + added void hb_vmPushTimeStamp( long lJulian, long lMilliSec );
>      and xhb_vmPushTimeStamp()
>    + added support for timestamp values in relational operators:
>         <, <=, >, >=, =, ==
>      When two timestamp values are compared then VM compares date and
>      time parts in both values.
>      When date and timestamp values are used in <, <=, >, >=, = operations
>      then VM compares only date part in both values.
>      When date and timestamp values are used in == operation then VM
>      compares date part in both values and then check if time part
>      of timestamp value is 0.
>    + added support for timestamp values in + and - math operations.
>      The following rules are used in timestamp arithmetic:
>         <t> + <t> => <t>
>         <t> - <t> => <n>
>         <t> + <n> => <t>
>         <n> + <t> => <t>
>         <t> - <n> => <t>
>         <d> + <t> => <t>
>         <t> + <d> => <t>
>         <d> - <t> => <n>
>         <t> - <d> => <n>
>      When number is result or argument of timestamp operation then the
>      its integer part is a number of day and fractional part is the time.
>
>  * harbour/source/rtl/dateshb.c
>    + added new .prg functions to mange date and timestamp values:
>      HB_DATETIME() -> <tTimeStamp>
>      HB_CTOD( <cDate> [, <cDateFormat> ] ) -> <dDate>
>      HB_DTOC( <dDate> [, <cDateFormat> ] ) -> <cDate>
>      HB_NTOT( <nValue> ) -> <tTimeStamp>
>      HB_TTON( <tTimeStamp> ) -> <nValue>
>      HB_TTOC( <tTimeStamp>, [ <cDateFormat> ] [, <cTimeFormat> ] ) ->
>                                                            <cTimeStamp>
>      HB_CTOT( <cTimeStamp>, [ <cDateFormat> ] [, <cTimeFormat> ] ) ->
>                                                            <tTimeStamp>
>      HB_TTOS( <tTimeStamp> ) -> <cYYYYMMDDHHMMSSFFF>
>      HB_STOT( <cDateTime> ) -> <tTimeStamp>
>         <cDateTime> should be in one of the above form:
>            - "YYYYMMDDHHMMSSFFF"
>            - "YYYYMMDDHHMMSSFF"
>            - "YYYYMMDDHHMMSSF"
>            - "YYYYMMDDHHMMSS"
>            - "YYYYMMDDHHMM"
>            - "YYYYMMDDHH"
>            - "YYYYMMDD"
>            - "HHMMSSFFF"
>            - "HHMMSSF"
>            - "HHMMSS"
>            - "HHMM"
>            - "HH"
>         Important is number of digits.
>      HB_TSTOSTR( <tTimeStamp> ) -> <cTimeStamp> // YYYY-MM-DD HH:MM:SS.fff
>      HB_STRTOTS( <cTimeStamp> ) -> <tTimeStamp>
>         <cTimeStamp> should be in one of the above form:
>            YYYY-MM-DD [H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
>            YYYY-MM-DDT[H[H][:M[M][:S[S][.f[f[f[f]]]]]]] [PM|AM]
>         The folowing characters can be used as date delimiters: "-", "/",
> "."
>         T - is literal "T" - it's for XML timestamp format
>         if PM or AM is used HH is in range < 1 : 12 > otherwise
>         in range < 0 : 23 >
>      HB_HOUR( <tTimeStamp> ) -> <nHour>
>      HB_MINUTE( <tTimeStamp> ) -> <nMinute>
>      HB_SEC( <tTimeStamp> ) -> <nSeconds>   // with milliseconds
>
>  * harbour/source/rtl/datec.c
>    + accept timestamp parameters in CMONTH() and CDOW() functions
>
>  * harbour/source/rtl/empty.c
>    + added support for timestamp items
>
>  * harbour/source/rtl/itemseri.c
>    + added support for timestamp items serialization
>
>  * harbour/source/rtl/minmax.c
>    + added support for timestamp values to MIN() and MAX() functions.
>      when only one of given parameters is timestamp value and other
>      is date value and date parts are equal then always date item
>      is returned as both MIN() or MAX() value.
>
>  * harbour/source/rtl/dates.c
>    + added new C functions: hb_timeFormat(), hb_timeUnformat(),
>      hb_timeStampFormat(), hb_timeStampUnformat()
>
>  * harbour/source/rtl/valtype.c
>    + added .prg functions: HB_ISDATETIME(), HB_ISTIMESTAMP()
>
>  * harbour/source/rtl/transfrm.c
>    + added support for timestamp items formatting.
>    + added new function modifier @T.
>      When @T is used without @D then only time part of timestamp value
>      is formatted and return.
>      When @D is used without @T then only date part of timestamp value
>      is formatted and return.
>
>  * harbour/source/rtl/tbrowse.prg
>    + display timestamp values
>
>  * harbour/source/rtl/philes.c
>    + accept timestamp value as second parameter of HB_FSETDATETIME()
>      function
>    + store file data and time in second parameter of HB_FGETDATETIME()
>      as timestamp value.
>    Old parameters (2-dDate, 3-cTime) are still supported but please think
>    about removing them - they are redundant.
>
>  * harbour/source/rtl/filesys.c
>    * updated function names
>
>
>  * harbour/source/rdd/dbf1.c
>    + added native support for time and timestamp fields
>
>  * harbour/include/hbrddcdx.h
>  * harbour/include/hbrddnsx.h
>  * harbour/source/rdd/dbfntx/dbfntx1.c
>  * harbour/source/rdd/dbfcdx/dbfcdx1.c
>  * harbour/source/rdd/dbfnsx/dbfnsx1.c
>  * harbour/source/rdd/dbffpt/dbffpt1.c
>    + added support for indexing timestamp fields
>    + added support for using DATE values with timestamp fields
>      which replicate HVM behavior.
>      SEEK and SEEKLAST with date value when active index is on
>      timestamp positions to 1-st or last record where date part
>      of indexed timesamp value is equal.
>      Settings scopes to date values when active index is on timestamp
>      value reduce the visible record range to these ones which have
>      date part of timestamp value in the range of dates values used
>      for scopes. It possible to mix date and timestamp values in scope
>      and set one scope to date value and the second to timesamp.
>
>  * harbour/source/rdd/sdf1.c
>  * harbour/source/rdd/delim1.c
>    + added support for exporting timestamp fields
>
>  * harbour/source/rdd/dbsql.c
>    ! fixed typo in logical value export
>    + export timestamp fields.
>      Please update the format to given SQL syntax.
>
>
>  * harbour/contrib/hbct/files.c
>    + changed SETFDATI() to optionally accept timestamp parameter
>      instead of two parameters dDate and cTime
>
>  * harbour/contrib/hbct/misc1.c
>    + added timestamp support to XTOC() function
>
>  * harbour/contrib/hbct/misc2.c
>    + added timestamp support to COMPLEMENT() function
>
>  * harbour/contrib/hbct/dattime2.c
>    + accept timestamp values in ADDMONTH(), DOY(), ISLEAP(), QUARTER()
>      LASTDAYOM(), WEEK() functions
>
>  * harbour/contrib/hbmzip/hbmzip.c
>    + updated HB_ZipFileCreate( hZip, cZipName, tDateTime, cTime, ... )
>      functions to optionaly accept timestamp value in 3-rd parameter
>      instead od dDate, and cTime in 3-rd and 4-th parameters.
>    + updated HB_UnzipFileInfo( hUnzip, @cZipName, @tDateTime, @cTime, ... )
>      to return timestamp value in 3-rd parameter instead of date value.
>      TODO: Please think about removing 4-th parameter from:
>               HB_ZipFileCreate( hZip, cZipName, tDateTime, cTime, ... )
>               HB_UnzipFileInfo( hUnzip, @cZipName, @tDateTime, @cTime, ...
> )
>            Now it's redundant.
>  * harbour/contrib/hbmzip/readme.txt
>    * updated parameters description for above functions
>
>  * harbour/contrib/hbnf/descendn.c
>    + added timestamp support to FT_DESCEND() function
>
>  * harbour/contrib/hbclipsm/date.c
>    + accept timestamp values in DATEASAGE(), DATEASARRAY() and DATEISLEAP()
>      functions
>
>  * harbour/contrib/hbmisc/dates2.c
>    + accept timestamp values in ISLEAPYEAR(), DAYSINMONTH(), EOM(), BOM(),
>      WOM(), WOY(), EOY() and BOY() functions
>
>
>   The following contrib files should be updated but I'm leaving it to
>   other developers who want to keep this code alive:
>         contrib/hbtip/utils.c
>         contrib/hbvpdf/hbvpdf.prg
>         contrib/hbvpdf/hbvpdft.prg
>         contrib/hbwin/win_dll.c
>            some minor cleanups if necessary and authors will find
>            timestamp values usable
>
>         contrib/hbole/ole2.c
>         contrib/hbwin/win_ole.c
>            add support for timestamp values in OLE
>
>         contrib/rddado/adordd.prg
>         contrib/rddads/ads1.c
>         contrib/rddads/adsx.c
>         contrib/rddsql/...
>            add support for timestamp values in RDDs
>
>   Warning: this implementation is not xHarbour compatible. There are many
>   important differences. Mostly on C level and used API. Please be careful
>   in porting xHarbour source code to Harbour.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/bin/hb-func.sh
>    trunk/harbour/contrib/hbclipsm/date.c
>    trunk/harbour/contrib/hbcrypt/sha1.c
>    trunk/harbour/contrib/hbct/dattime2.c
>    trunk/harbour/contrib/hbct/files.c
>    trunk/harbour/contrib/hbct/misc1.c
>    trunk/harbour/contrib/hbct/misc2.c
>    trunk/harbour/contrib/hbmisc/dates2.c
>    trunk/harbour/contrib/hbmisc/strfmt.c
>    trunk/harbour/contrib/hbmzip/hbmzip.c
>    trunk/harbour/contrib/hbmzip/readme.txt
>    trunk/harbour/contrib/hbnf/descendn.c
>    trunk/harbour/contrib/hbwin/wapi_commctrl.c
>    trunk/harbour/contrib/hbwin/win_prn2.c
>    trunk/harbour/contrib/rddads/ads1.c
>    trunk/harbour/contrib/rddads/adsfunc.c
>    trunk/harbour/harbour.spec
>    trunk/harbour/include/hbapi.h
>    trunk/harbour/include/hbapiitm.h
>    trunk/harbour/include/hbcomp.h
>    trunk/harbour/include/hbcompdf.h
>    trunk/harbour/include/hbdate.h
>    trunk/harbour/include/hberrors.h
>    trunk/harbour/include/hbexprb.c
>    trunk/harbour/include/hbexprop.h
>    trunk/harbour/include/hbmacro.h
>    trunk/harbour/include/hbpcode.h
>    trunk/harbour/include/hbpp.h
>    trunk/harbour/include/hbrddcdx.h
>    trunk/harbour/include/hbrddnsx.h
>    trunk/harbour/include/hbset.h
>    trunk/harbour/include/hbvm.h
>    trunk/harbour/include/hbxvm.h
>    trunk/harbour/include/set.ch
>    trunk/harbour/include/std.ch
>    trunk/harbour/source/common/expropt1.c
>    trunk/harbour/source/common/expropt2.c
>    trunk/harbour/source/common/hbdate.c
>    trunk/harbour/source/compiler/cmdcheck.c
>    trunk/harbour/source/compiler/complex.c
>    trunk/harbour/source/compiler/genc.c
>    trunk/harbour/source/compiler/gencc.c
>    trunk/harbour/source/compiler/harbour.y
>    trunk/harbour/source/compiler/harbour.yyc
>    trunk/harbour/source/compiler/harbour.yyh
>    trunk/harbour/source/compiler/hbdead.c
>    trunk/harbour/source/compiler/hbfix.c
>    trunk/harbour/source/compiler/hbgenerr.c
>    trunk/harbour/source/compiler/hblbl.c
>    trunk/harbour/source/compiler/hbmain.c
>    trunk/harbour/source/compiler/hbopt.c
>    trunk/harbour/source/compiler/hbpcode.c
>    trunk/harbour/source/compiler/hbstripl.c
>    trunk/harbour/source/macro/macro.y
>    trunk/harbour/source/macro/macro.yyc
>    trunk/harbour/source/macro/macro.yyh
>    trunk/harbour/source/macro/macrolex.c
>    trunk/harbour/source/pp/ppcore.c
>    trunk/harbour/source/rdd/dbf1.c
>    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
>    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
>    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
>    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
>    trunk/harbour/source/rdd/dbsql.c
>    trunk/harbour/source/rdd/delim1.c
>    trunk/harbour/source/rdd/sdf1.c
>    trunk/harbour/source/rtl/Makefile
>    trunk/harbour/source/rtl/datec.c
>    trunk/harbour/source/rtl/dates.c
>    trunk/harbour/source/rtl/dateshb.c
>    trunk/harbour/source/rtl/empty.c
>    trunk/harbour/source/rtl/filesys.c
>    trunk/harbour/source/rtl/itemseri.c
>    trunk/harbour/source/rtl/minmax.c
>    trunk/harbour/source/rtl/philes.c
>    trunk/harbour/source/rtl/seconds.c
>    trunk/harbour/source/rtl/tbrowse.prg
>    trunk/harbour/source/rtl/transfrm.c
>    trunk/harbour/source/rtl/valtype.c
>    trunk/harbour/source/vm/arrays.c
>    trunk/harbour/source/vm/asort.c
>    trunk/harbour/source/vm/classes.c
>    trunk/harbour/source/vm/estack.c
>    trunk/harbour/source/vm/extend.c
>    trunk/harbour/source/vm/hashes.c
>    trunk/harbour/source/vm/hashfunc.c
>    trunk/harbour/source/vm/hvm.c
>    trunk/harbour/source/vm/itemapi.c
>    trunk/harbour/source/vm/macro.c
>    trunk/harbour/source/vm/maindllp.c
>    trunk/harbour/source/vm/memvars.c
>    trunk/harbour/source/vm/set.c
>
> Added Paths:
> -----------
>    trunk/harbour/source/rtl/cputime.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090323/4f67d269/attachment-0001.html
From philb at philb.us  Thu Mar 26 00:10:15 2009
From: philb at philb.us (Phil Barnett)
Date: Thu Mar 26 00:10:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10669] trunk/harbour
In-Reply-To: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
References: <E1Ll2kf-0001qz-9P@dn4whf1.ch3.sourceforge.com>
Message-ID: <49CB0027.60308@philb.us>

druzus@users.sourceforge.net wrote:
> Revision: 10669
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10669&view=rev
> Author:   druzus
> Date:     2009-03-21 15:04:43 +0000 (Sat, 21 Mar 2009)
>
>   
Outstanding work! Thanks so much for this great contribution!
From mbelgrano at deltain.it  Thu Mar 26 05:02:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 05:03:08 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CAAD6B.2000707@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com> 
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com> 
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com> 
	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com> 
	<49CA7F4B.2020103@fsgiudice.com> <49CAAD6B.2000707@fsgiudice.com>
Message-ID: <609353e70903260202q3d5593dbi27b0d6214f87927b@mail.gmail.com>

I confirm problem with msvc

Il 25 marzo 2009 23.17, Francesco Saverio Giudice <info@fsgiudice.com>
ha scritto:
>
> Hi Viktor, Mindaugas,
>
> Il 25/03/2009 20.00, Francesco Saverio Giudice ha scritto:
>>
>> Please wait until I (and probably other: Pritpal ?) will check if there
>> are problems with new and if we need some other parts before delete ole
>> version in hbwin.
>
>
> building current SVN I got below error, am I missing something ?
> (sorry for italian version, if it is needed I can install English version or
> translate it)
>
> Best regards
> Francesco
>
>
> J:\cvs\harbourSVN_trunk\contrib\hbole>if not exist ..\..\lib\win\msvc\. md
> ..\..\lib\win\msvc
> make[3]: Entering directory `J:/cvs/harbourSVN_trunk/contrib/hbole/win/msvc'
> cl.exe -nologo -W4 -wd4127 -Gs -I. -I../../../../include -TP -Ot2b1 -EHs-c-
> -MT ? -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF ?-c ../../oleinit.c
> -Fooleinit.obj
From niki at synel.co.il  Thu Mar 26 05:17:36 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Mar 26 05:21:26 2009
Subject: [Harbour] Re: Harbour] error in hbwin ole with msvc
Message-ID: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8FC@Mail-yoq.SYNEL-COMPANY.LTD>

> I confirm problem with msvc

I think its the same problem already reported with C++ mode
(the -TP switch) and some of the contribs

   Chen.
From harbour.01 at syenar.hu  Thu Mar 26 06:54:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 06:54:58 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CAAD6B.2000707@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
	<49CA7F4B.2020103@fsgiudice.com> <49CAAD6B.2000707@fsgiudice.com>
Message-ID: <18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>

Hi Francesco, Toninho,
Thanks for the feeback. I'm completely lost how to fix this
(except one obvious case) properly for C++ (bcc or msvc),
so I'd like kindly to ask OLE users to look into it. Apparently,
the method used in old code and hbwin will make it compile
in C++ mode, but it won't run.

Toninho, please provide a patch because I have no idea what
HRESULT should be. An hbwinole.h is also needed if we
want to publish C level functions. I'd appreciate if you could
provide such patch and I will upload it.

We're not in a hurry, but it would be good to fix these thing
ASAP, as Windows API related code cleanup seems to take
a disproportionally huge amount of time and work and I'm
personally not even a user of it, I only want clean and portable
builds for release.

Brgds,
Viktor

2009/3/25 Francesco Saverio Giudice <info@fsgiudice.com>

>
> Hi Viktor, Mindaugas,
>
> Il 25/03/2009 20.00, Francesco Saverio Giudice ha scritto:
>
>> Please wait until I (and probably other: Pritpal ?) will check if there
>> are problems with new and if we need some other parts before delete ole
>> version in hbwin.
>>
>
>
> building current SVN I got below error, am I missing something ?
> (sorry for italian version, if it is needed I can install English version
> or translate it)
>
> Best regards
> Francesco
>
>
> J:\cvs\harbourSVN_trunk\contrib\hbole>if not exist ..\..\lib\win\msvc\. md
> ..\..\lib\win\msvc
> make[3]: Entering directory
> `J:/cvs/harbourSVN_trunk/contrib/hbole/win/msvc'
> cl.exe -nologo -W4 -wd4127 -Gs -I. -I../../../../include -TP -Ot2b1 -EHs-c-
> -MT   -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF  -c ../../oleinit.c
> -Fooleinit.obj
> oleinit.c
> cl.exe -nologo -W4 -wd4127 -Gs -I. -I../../../../include -TP -Ot2b1 -EHs-c-
> -MT   -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF  -c ../../olecore.c
> -Foolecore.obj
> olecore.c
> ../../olecore.c(116) : error C2440: '=': impossibile convertire da 'void *'
> a 'char *'
>        La conversione da 'void*' a puntatori a valori non 'void' richiede
> un cast esplicito
> ../../olecore.c(134) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(134) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(134) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(136) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(136) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(136) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(136) : error C2228: l'elemento a sinistra di '.bstrVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(141) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(141) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(141) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(142) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(142) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(142) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(142) : error C2228: l'elemento a sinistra di '.boolVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(146) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(146) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(146) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(147) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(147) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(147) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(147) : error C2228: l'elemento a sinistra di '.lVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(151) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(151) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(151) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(152) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(152) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(152) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(152) : error C2228: l'elemento a sinistra di '.llVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(156) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(156) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(156) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(157) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(157) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(157) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(157) : error C2228: l'elemento a sinistra di '.dblVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(161) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(161) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(161) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(162) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(162) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(162) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(162) : error C2228: l'elemento a sinistra di '.dblVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(171) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(171) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(171) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(172) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(172) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(172) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(172) : error C2228: l'elemento a sinistra di '.pdispVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(185) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(185) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(185) : error C2228: l'elemento a sinistra di '.vt' deve
> avere una classe, struttura o unione
> ../../olecore.c(188) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(188) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(188) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(188) : error C2228: l'elemento a sinistra di '.bstrVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(194) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(194) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(194) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(194) : error C2228: l'elemento a sinistra di '.boolVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(201) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(201) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(201) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(201) : error C2228: l'elemento a sinistra di '.pdispVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(213) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(213) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(213) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(213) : error C2228: l'elemento a sinistra di '.pdispVal'
> deve avere una classe, struttura o unione
> ../../olecore.c(222) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(222) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(222) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(222) : error C2228: l'elemento a sinistra di '.cVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(226) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(226) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(226) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(226) : error C2228: l'elemento a sinistra di '.iVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(230) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(230) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(230) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(230) : error C2228: l'elemento a sinistra di '.lVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(234) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(234) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(234) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(234) : error C2228: l'elemento a sinistra di '.llVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(238) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(238) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(238) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(238) : error C2228: l'elemento a sinistra di '.bVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(242) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(242) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(242) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(242) : error C2228: l'elemento a sinistra di '.uiVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(246) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(246) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(246) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(246) : error C2228: l'elemento a sinistra di '.ulVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(251) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>        c:\program files\microsoft sdks\windows\v6.0a\include\oaidl.h(427):
> vedere la dichiarazione di 'tagVARIANT'
> ../../olecore.c(251) : error C2228: l'elemento a sinistra di '.n2' deve
> avere una classe, struttura o unione
> ../../olecore.c(251) : error C2228: l'elemento a sinistra di '.n3' deve
> avere una classe, struttura o unione
> ../../olecore.c(251) : error C2228: l'elemento a sinistra di '.ullVal' deve
> avere una classe, struttura o unione
> ../../olecore.c(251) : fatal error C1003: il conteggio degli errori supera
> 100. Interruzione della compilazione
> make[3]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib/hbole/win/msvc'
> make[2]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib/hbole'
> make[1]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib'
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/9cfe4059/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar 26 06:59:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 06:59:24 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <49CADD7D.80203@philb.us>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
	<49CADD7D.80203@philb.us>
Message-ID: <18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>

Yes, it's a problem, particularly when a lib is binary only.
The most affected platform is Windows, where there are
plenty of compilers with multiple CPUs, Unicode/non-Unicode,
C/C++ mode, plus - thank god... - WinCE.

Part of my effort is to find the "best" C compiler for Harbour.
We've started from BCC, I went to MSVC, but since last
week I think the strongest contender is MinGW. Now it
seems practically on par with MSVC regarding execution
speed and target CPUs. Its only downside is compiling speed
and slower linker. Even with these, I think we can easily make
it the "default" compiler (if that's what you meant) for Harbour
on Windows. MSVC could be the secondary compiler, because
it has very good support. With these two, 99.9% of professional
needs is covered. IMO we should go into this direction.

[ let me note that it's already a huge achievement that it's now
so easy to switch between these compilers. ]

And it's not only the C compiler, it's also the build tool (for
source distributed libs). GNU Make is good, but GNU Make
is not the friendliest tool on earth.

Brgds,
Viktor

On Thu, Mar 26, 2009 at 2:42 AM, Phil Barnett <philb@philb.us> wrote:

> Viktor Szak?ts wrote:
>
>> There are a few issue with Harbour 3rd party libs in general
>> (talking about open source ones for now):
>> 1) Each has a different make system, which means each of them has    to be
>> learned, built and locally maintained in a completely different way.
>> 2) These make systems and libs are often targeting only a small subset
>>  of supported Harbour platforms.
>>
>
> And that is where we depart in general from what made Clipper the 3rd party
> success it was. Those third parties could distribute a library. Maybe two.
> We can't deal easily with precompiled code (libraries or objects) unless
> those same third parties distribute those libraries for multiple platforms
> and even perhaps multiple compilers. This raises the bar significantly for
> entry to the third party banquet. Our original goal was multiple compilers
> and multiple platforms. That has been accomplished, but in this respect,
> it's our Achilles heel. And, worst of all, we don't have 'the most popular
> compiler around', which is what made third party developers desire to put in
> the work. I'm not saying what we have is bad in any way. it's not. Harbour
> is vastly superior to Clipper.
>
> At the very least, we would need to maintain a published list of compiler
> and target platforms so the large yet finite list is well known. That would
> at least give a third party developer a target, even if it is a huge one. I
> think it's a rather large problem.
>
> This was perhaps the least understood trade off that we made with our
> multiplatform multicompiler goal. Our goal was not bad, but look what came
> with it.
>
> I don't have the answer, just more things to ponder and some realities to
> accept.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/963c062c/attachment.html
From harbour.01 at syenar.hu  Thu Mar 26 07:06:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 07:06:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10688] trunk/harbour
In-Reply-To: <20090326005419.GA10556@uran.home.aster.pl>
References: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>
	<20090326005419.GA10556@uran.home.aster.pl>
Message-ID: <18d502870903260406r6c6cc85cq1fb4847589c84560@mail.gmail.com>

Hi Przemek,
You must be right. Since you know much better how
to fix these, please do whatever update needs to be done,
I have a limited knowledge of Windows API and all the
ugly details involved (MSDN is often not an answer), and
I'm not a user of it at all, nor interested in understanding its
"strange" details. I'm only interested in successful builds now.

My personal opinion is that we're spending way too much
time for very little benefit on hbwin's new wapi parts and
gtwvg (and some other places). There isn't any other part
of Harbour which causes that many build problems. I don't
know how to solve this, but currently it's a huge waste of
time IMO. We've finally dropped hbwhat and instead now
we have the exact same amount of problems with above parts.

It's probably possible to write fully correct Windows API code
(though I'm starting to suspect that it's not), but currently
some Harbour contribs parts fail in this area, and we're
only talking about successful builds, not even successful
test runs. Without cooperation/interest from authors, it's
probably impossible to solve these.

I hope Windows users will be able to help.

[ In this specific case, without my recent patch it doesn't
compile at all under mingw64, so I'm not sure what is the
proper solution. ]

Sorry for the rant.

Brgds,
Viktor

On Thu, Mar 26, 2009 at 1:54 AM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Wed, 25 Mar 2009, vszakats@users.sourceforge.net wrote:
>
> Hi,
>
> >   * contrib/gtwvg/gtwvg.h
> >   * contrib/gtwvg/wvggui.h
> >     ! Fixed to _not_ override _WIN32_IE. Overriding these version
> >       numbers is generally a very bad idea. Instead the code should
> >       adapt to whatever values are defined by system headers.
> >       This fixes most mingw64 errors. Please test other compilers.
>
> Many compilers does not set _WIN32_IE macro at all leaving the decision
> to programmers. If this macro will not be defined to at least 0x0300 then
> most of gtwvg code will not be usable.
> So it has to be defined and it should be done before including windows
> header files otherwise user will have to add it to CFLAGS.
> In practice it means that sth like:
>
>   #ifndef _WIN32_IE
>      #define _WIN32_IE 0x0400
>   #endif
>
> should be added before any #include.
> It can be added to gtwvg.h and
>   #include "gtwvg.h"
> should be included as 1-st file in all .c files using it.
> The same should be done in all other files which use extended WinAPI
> functionality.
> The default setting can be improved using some information from
> machine type, f.e. Win64 builds for sure cannot be run with some
> older windows version, f.e.:
>   #ifndef _WIN32_IE
>      #ifdef _WIN64
>         #define _WIN32_IE 0x0501
>      #else
>          #define _WIN32_IE 0x0400
>      #endif
>    #endif
>
> It should also help to test the code for compilation with other versions.
> Pritpal should decide about default value he needs for basic functionality.
> User can overwrite it using HB_USER_CFLAGS.
> For tests we can try to compile the code with different settings, f.e:
>   HB_USER_CFLAGS=-D_WIN32_IE=0x0200
> or:
>   HB_USER_CFLAGS=-D_WIN32_IE=0x0300
> but please remember that not all compiler properly use _WIN32_IE macro
> to hide some definitions so such tests should be done with different C
> compilers.
>
> BTW: in hbsetup.h you added:
>         ( defined(__POCC_TARGET__) && __POCC_TARGET__ == 2 )
>     to detect HB_OS_WIN_CE builds. Maybe it's documented method in POCC
>     and in such case should be left but if not then I suggest to rather
>     use sth like:
>         ( defined( HB_OS_WIN ) && defined( _M_ARM ) )
>
> best regards,
> Przemek
>
> ps. with current code MinGW32 and MinGW32CE builds fails with:
>
> ../../gtwvg.c: In function 'hb_wvt_gtCreateToolTipWindow':
> ../../gtwvg.c:4379: error: 'INITCOMMONCONTROLSEX' undeclared (first use in
> this function)
> ../../gtwvg.c:4379: error: (Each undeclared identifier is reported only
> once
> ../../gtwvg.c:4379: error: for each function it appears in.)
> ../../gtwvg.c:4379: error: expected ';' before 'icex'
> ../../gtwvg.c:4384: error: 'icex' undeclared (first use in this function)
> ../../gtwvg.c:4387: warning: implicit declaration of function
> 'InitCommonControlsEx'
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/153a8811/attachment.html
From mbelgrano at deltain.it  Thu Mar 26 07:21:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 07:21:30 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com> 
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
Message-ID: <609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>

Hi agree about importance of give a choice and agree mingw/msvc path
can we follow Minigui that  include harbour & MinGW to be ready to use
for windows platform?
it can be a strong messages for third parties libraries
we can cooperate (divide effort) with minigui project and
distribute/promote any library-tool for standard hbwin format based
mingw&msvc

2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
> Yes, it's a problem, particularly when a lib is binary only.
> The most affected platform is Windows, where there are
> plenty of compilers with multiple CPUs, Unicode/non-Unicode,
> C/C++ mode,?plus - thank god... -?WinCE.
> Part of my effort is to find the "best" C compiler for Harbour.
> We've started from BCC, I went to MSVC, but since last
> week I think the strongest contender is MinGW. Now it
> seems practically on par with MSVC regarding execution
> speed and target CPUs. Its only downside is compiling speed
> and slower linker. Even with these, I think we can easily make
> it?the "default" compiler (if that's what you meant) for Harbour
> on Windows. MSVC could be the secondary compiler, because
> it has very good support. With these two, 99.9% of professional
> needs is covered.?IMO we should go into?this direction.
> [ let me note that it's already a huge achievement that it's now
> so easy to switch between these compilers. ]
> And it's not only the C compiler, it's also the build?tool (for
> source distributed libs). GNU Make is good, but GNU Make
> is not the friendliest tool on earth.
> Brgds,
> Viktor
>
> On Thu, Mar 26, 2009 at 2:42 AM, Phil Barnett <philb@philb.us> wrote:
>>
>> Viktor Szak?ts wrote:
>>>
>>> There are a few issue with Harbour 3rd party libs in general
>>> (talking about open source ones for now):
>>> 1) Each has a different make system, which means each of them has ? ?to
>>> be learned, built and locally maintained in a completely different way.
>>> 2) These make systems and libs are often targeting only a small subset
>>> ?of supported Harbour platforms.
>>
>> And that is where we depart in general from what made Clipper the 3rd
>> party success it was. Those third parties could distribute a library. Maybe
>> two. We can't deal easily with precompiled code (libraries or objects)
>> unless those same third parties distribute those libraries for multiple
>> platforms and even perhaps multiple compilers. This raises the bar
>> significantly for entry to the third party banquet. Our original goal was
>> multiple compilers and multiple platforms. That has been accomplished, but
>> in this respect, it's our Achilles heel. And, worst of all, we don't have
>> 'the most popular compiler around', which is what made third party
>> developers desire to put in the work. I'm not saying what we have is bad in
>> any way. it's not. Harbour is vastly superior to Clipper.
>>
>> At the very least, we would need to maintain a published list of compiler
>> and target platforms so the large yet finite list is well known. That would
>> at least give a third party developer a target, even if it is a huge one. I
>> think it's a rather large problem.
>>
>> This was perhaps the least understood trade off that we made with our
>> multiplatform multicompiler goal. Our goal was not bad, but look what came
>> with it.
>>
>> I don't have the answer, just more things to ponder and some realities to
>> accept.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Mar 26 07:52:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 07:52:15 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
Message-ID: <18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>

>
> Hi agree about importance of give a choice and agree mingw/msvc path
> can we follow Minigui that  include harbour & MinGW to be ready to use
> for windows platform?


I don't know MiniGUI, so I cannot tell.

What is possible though is to provide such a binary distribution
which is based on MinGW, contains MinGW binaries and also
includes MSVC libs. Such package is a self-contained one being
able to create executables without any external tools, it also has
GNU Make, and it's also possible to use it with MSVC and even
POCC if someone has these installed.

I'll check if I can make hbmk2 detect such embedded mingw
installation automatically.

Such package is a 42MB .zip, and if this seems to be okay for
everyone such package may replace our current compiler
dependent distros, by the simple names of:

harbour-1.1.0-win-x86.zip
harbour-1.1.0-win-x86.exe
harbour-1.1.0-win-x64.zip
harbour-1.1.0-win-x64.exe
harbour-1.1.0-wince-arm.zip
harbour-1.1.0-wince-arm.exe

I think such distros would send a much better message
towards users and give them a much better service. Of course,
all BCC/owatcom users will have to migrate to above proper
compilers to be able to follow.

Opinions?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/6e544b10/attachment-0001.html
From info at fsgiudice.com  Thu Mar 26 07:53:53 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar 26 07:54:01 2009
Subject: [Harbour] Re: Harbour] error in hbwin ole with msvc
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8FC@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8FC@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <49CB6CD1.2050603@fsgiudice.com>

Hi Chen,

no the problem is related to hbole itself, as I have tested without and 
with -TP and error is the same (I'm missing to wrote it in my mail)

best regards,
Francesco

Il 26/03/2009 10.17, Chen Kedem ha scritto:
>> I confirm problem with msvc
> 
> I think its the same problem already reported with C++ mode
> (the -TP switch) and some of the contribs
> 
>    Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From snaiperis at users.sourceforge.net  Thu Mar 26 08:13:28 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Mar 26 08:13:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10697] trunk/harbour
Message-ID: <E1LmoSe-0003g9-5U@3kljzd1.ch3.sourceforge.com>

Revision: 10697
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10697&view=rev
Author:   snaiperis
Date:     2009-03-26 12:13:27 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-26 14:10 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbole/olecore.c
    * fixed compile time warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbole/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Mar 26 08:18:31 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar 26 08:20:14 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CAAD6B.2000707@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>	<49CA7F4B.2020103@fsgiudice.com>
	<49CAAD6B.2000707@fsgiudice.com>
Message-ID: <49CB7297.3000201@dbtopas.lt>

Hi,

> ../../olecore.c(116) : error C2440: '=': impossibile convertire da 'void 
> *' a 'char *'
>         La conversione da 'void*' a puntatori a valori non 'void' 
> richiede un cast esplicito

Fixed.

> ../../olecore.c(134) : error C2039: 'n1': non ? un membro di 'tagVARIANT'
>         c:\program files\microsoft 
> sdks\windows\v6.0a\include\oaidl.h(427): vedere la dichiarazione di 
> 'tagVARIANT'
> ../../olecore.c(134) : error C2228: l'elemento a sinistra di '.n2' deve 
> avere una classe, struttura o unione

Line 134 is:
      pVariant->n1.n2.vt = VT_BSTR;

contrib/hbwin/win_ole.c has plenty of lines like this, but as I 
understand it compiles without error.

Can anybody test on MSVC some "global" structure definition settings like:
   #define STRICT
   #define NONAMELESSUNIONS
etc.



Regards,
Mindaugas
From mbelgrano at deltain.it  Thu Mar 26 08:39:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 08:39:27 2009
Subject: [Harbour] Embedding 3rd party projects
In-Reply-To: <18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com> 
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com> 
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com> 
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
Message-ID: <609353e70903260539t15ff32ddue50a5eb22f6d3aab@mail.gmail.com>

I totaly agree with your path

all all BCC/owatcom users will easy recompile harbour from source
better having userbase focaluzed on Two compiler that give more
reliability to entire project

2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi agree about importance of give a choice and agree mingw/msvc path
>> can we follow Minigui that ?include harbour & MinGW to be ready to use
>> for windows platform?
>
> I don't know MiniGUI, so I cannot tell.
> What is possible though is to provide such a binary distribution
> which is based on MinGW, contains MinGW binaries and also
> includes MSVC libs. Such package is a self-contained one being
> able to create executables without any external tools, it also has
> GNU Make, and it's also possible to use it with MSVC and even
> POCC if someone?has these installed.
> I'll check if I can make hbmk2 detect such embedded mingw
> installation automatically.
> Such package is a 42MB .zip, and if this seems to be okay for
> everyone such package may replace our current compiler
> dependent distros, by the simple names of:
> harbour-1.1.0-win-x86.zip
> harbour-1.1.0-win-x86.exe
> harbour-1.1.0-win-x64.zip
> harbour-1.1.0-win-x64.exe
> harbour-1.1.0-wince-arm.zip
> harbour-1.1.0-wince-arm.exe
> I think such distros would send a much better message
> towards?users and give them a much better service. Of course,
> all BCC/owatcom users will have?to?migrate to above proper
> compilers to be able to follow.
> Opinions?
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From toninhofwi at yahoo.com.br  Thu Mar 26 08:41:27 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Mar 26 08:40:30 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>
References: <18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
	<49CA7F4B.2020103@fsgiudice.com> <49CAAD6B.2000707@fsgiudice.com>
	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>
Message-ID: <gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>

Hi VIktor,

>Toninho, please provide a patch because I have no idea what
>HRESULT should be. An hbwinole.h is also needed if we
>want to publish C level functions. I'd appreciate if you could
>provide such patch and I will upload it.

I looked at my code and I think that HRESULT is not needed. A simple
HB_FUNC() that call hb_oleVariantToItem solve my problem.

But with a more extensive test here I found that this code doesn?t
work:

---cut---
procedure testolenew()

   local oWord, oText

   begin sequence
      oWord = GetActiveObject( "Word.Application" )
   recover
      begin sequence
         oWord = CreateObject( "Word.Application" )
      recover
         alert( "ERROR! Word not avialable." )
         return
      end sequence
   end sequence

   oWord:Documents:Add()

   oText = oWord:Selection()

   oText:Text = "OLE from Harbour" + hb_OSNewLine()
   oText:Font:Name = "Arial"
   oText:Font:Size = 36
   oText:Font:Bold = .T.

   oWord:Visible = .T.
   oWord:WindowState = 1

return
---cut---


It fails in GetActiveObject(). I tried to see what is wrong in
GetActiveObject() but all seems to be fine. Mindaugas can you help
please ?

Regards,

Toninho.


	

	
		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor op??o para voc?! 
Experimente j? e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
From info at fsgiudice.com  Thu Mar 26 09:05:28 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar 26 09:05:37 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
References: <18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>	<49CA7F4B.2020103@fsgiudice.com>
	<49CAAD6B.2000707@fsgiudice.com>	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>
	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
Message-ID: <49CB7D98.2090004@fsgiudice.com>

Hi Toninho,


Il 26/03/2009 13.41, Toninho@fwi ha scritto:
> 
> But with a more extensive test here I found that this code doesn?t
> work:
> 
> ---cut---
> procedure testolenew()
> 
>    local oWord, oText
> 
>    begin sequence
>       oWord = GetActiveObject( "Word.Application" )
>    recover
>       begin sequence
>          oWord = CreateObject( "Word.Application" )
>       recover
>          alert( "ERROR! Word not avialable." )
>          return
>       end sequence
>    end sequence
> 
>    oWord:Documents:Add()
> 
>    oText = oWord:Selection()
> 
>    oText:Text = "OLE from Harbour" + hb_OSNewLine()
>    oText:Font:Name = "Arial"
>    oText:Font:Size = 36
>    oText:Font:Bold = .T.
> 
>    oWord:Visible = .T.
>    oWord:WindowState = 1
> 
> return
> ---cut---
> 
> 
> It fails in GetActiveObject(). I tried to see what is wrong in
> GetActiveObject() but all seems to be fine. Mindaugas can you help
> please ?
> 
do you use MSVC ? If yes, do you have tested same code after removing 
-TP flag in config/msvc.cf and rebuild entire SVN ?

Best regards,
Francesco

From vszakats at users.sourceforge.net  Thu Mar 26 10:48:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 26 10:48:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10698] trunk/harbour
Message-ID: <E1LmqsS-0007zQ-7I@3kljzd1.ch3.sourceforge.com>

Revision: 10698
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10698&view=rev
Author:   vszakats
Date:     2009-03-26 14:48:15 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-25 15:47 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * doc/en/Makefile
  * doc/Makefile
  - doc/en
  + doc/en-EN
    * Renamed.

  + man
  + man/nfdoc
  + man/manpages
    + Added new dir for Harbour manuals.
    ; TODO: Move files here from /doc.

  * contrib/hbtpathy/tests/testtp.prg
    * Applied update/fix by Barry Jackson.

  * utils/hbmk2/hbmk2.prg
    + Added autodetection of MinGW compiler if installed in the
      Harbour directory tree in the mingw dir.
      This way it's possible to create a fully setup-free
      install kit, which is able to produce Harbour executables
      right after unzip by simply issuing command: hbmk2 hello.prg

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/tests/testtp.prg
    trunk/harbour/doc/Makefile
    trunk/harbour/doc/en-EN/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/doc/en-EN/
    trunk/harbour/man/
    trunk/harbour/man/manpages/
    trunk/harbour/man/nfdoc/

Removed Paths:
-------------
    trunk/harbour/doc/en/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Mar 26 10:55:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 26 10:55:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10699] trunk/harbour
Message-ID: <E1Lmqz2-00087k-TY@3kljzd1.ch3.sourceforge.com>

Revision: 10699
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10699&view=rev
Author:   vszakats
Date:     2009-03-26 14:55:04 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-26 15:54 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added autodetection of embedded MinGW64 and MinGWCE 
      compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Mar 26 10:58:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 26 10:59:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10700] trunk/harbour
Message-ID: <E1Lmr2o-0005rJ-IX@c3vjzd1.ch3.sourceforge.com>

Revision: 10700
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10700&view=rev
Author:   druzus
Date:     2009-03-26 14:58:57 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-26 16:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbole/olecore.c
    * added two notes with default defines for windows header files
    ! small correction and fixes in casting
    ; Now this code can be compiled by MinGW and OpenWatcom if we uncomment
      CINTERFACE setting. Anyhow I'd prefer to use C++ friendly declarations.
      Mindaugas, this code uses static variable: s_lOleError.
      Can we make it thread local? It should resolve the problem with using
      this code in MT programs.
      The next thing is the place where OLE is uninitialized.
      It's done by hb_vmAtExit(). In some cases it may be problematic
      because after hb_vmAtExit() some .prg destructors can be executed
      yet, f.e. when public variables are destroyed. The HB_OLEAUTO()
      objects uses destructor which can be activated after executing
      hb_ole_exit(). To resolve this problem you can replicate the trick
      with pointer variable stored inside static .prg var I added to old
      OLE code in contrib/whbwin/ (.prg destructors are disabled just
      before releasing static variables). It's not elegant solution
      but it will work. Probably we should think about two levels of
      exit procedures. The second one can be used only for pure C code
      which does not try to reenter HVM.

  * harbour/contrib/gtwvg/gtwvg.h
    ! moved _WIN32_IE declaration before #include ... to fix MinGW32
      compilation

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/hbole/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Mar 26 11:13:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 11:13:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10700] trunk/harbour
In-Reply-To: <E1Lmr2o-0005rJ-IX@c3vjzd1.ch3.sourceforge.com>
References: <E1Lmr2o-0005rJ-IX@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870903260813m6bfe99efhabf86d8b96815bc9@mail.gmail.com>

>
>  * harbour/contrib/gtwvg/gtwvg.h

   ! moved _WIN32_IE declaration before #include ... to fix MinGW32

     compilation


After this, mingw64 fails with these messages (previously it compiled
cleanly):---
make -C gtwvg install
make[2]: Entering directory `/c/work/harbour-new/harbour/contrib/gtwvg'
make[3]: Entering directory
`/c/work/harbour-new/harbour/contrib/gtwvg/win/mingw64'
x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
-fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../gtwvg.c
-ogtwvg.o
In file included from ../../gtwvg.h:76,
                 from ../../gtwvg.c:90:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/commctrl.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from ../../gtwvg.h:83,
                 from ../../gtwvg.c:90:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:88,
                 from ../../gtwvg.h:83,
                 from ../../gtwvg.c:90:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlguid.h:13:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:98,
                 from ../../gtwvg.h:83,
                 from ../../gtwvg.c:90:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1760:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1761:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1762:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1783:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1785:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1787:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../gtwvg.c:90:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1660:
error: expected specifier-qualifier-list before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../gtwvg.c:90:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1703:
error: expected declaration specifiers or '...' before 'LPCSHCOLUMNID'
make[3]: [gtwvg.o] Error 1 (ignored)
x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
-fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../wvgcore.c
-owvgcore.o
In file included from ../../gtwvg.h:76,
                 from ../../wvgcore.c:81:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/commctrl.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from ../../gtwvg.h:83,
                 from ../../wvgcore.c:81:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:88,
                 from ../../gtwvg.h:83,
                 from ../../wvgcore.c:81:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlguid.h:13:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:98,
                 from ../../gtwvg.h:83,
                 from ../../wvgcore.c:81:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1760:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1761:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1762:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1783:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1785:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1787:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgcore.c:81:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1660:
error: expected specifier-qualifier-list before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgcore.c:81:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1703:
error: expected declaration specifiers or '...' before 'LPCSHCOLUMNID'
make[3]: [wvgcore.o] Error 1 (ignored)
x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
-fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../wvgutils.c
-owvgutils.o
In file included from ../../gtwvg.h:76,
                 from ../../wvgutils.c:73:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/commctrl.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from ../../gtwvg.h:83,
                 from ../../wvgutils.c:73:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:88,
                 from ../../gtwvg.h:83,
                 from ../../wvgutils.c:73:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlguid.h:13:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:98,
                 from ../../gtwvg.h:83,
                 from ../../wvgutils.c:73:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1760:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1761:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1762:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1783:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1785:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1787:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgutils.c:73:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1660:
error: expected specifier-qualifier-list before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgutils.c:73:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1703:
error: expected declaration specifiers or '...' before 'LPCSHCOLUMNID'
make[3]: [wvgutils.o] Error 1 (ignored)
x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
-fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../wvgwin.c
-owvgwin.o
In file included from ../../gtwvg.h:76,
                 from ../../wvgwin.c:88:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/commctrl.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from ../../gtwvg.h:83,
                 from ../../wvgwin.c:88:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:88,
                 from ../../gtwvg.h:83,
                 from ../../wvgwin.c:88:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlguid.h:13:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:98,
                 from ../../gtwvg.h:83,
                 from ../../wvgwin.c:88:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1760:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1761:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1762:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1783:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1785:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1787:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgwin.c:88:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1660:
error: expected specifier-qualifier-list before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgwin.c:88:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1703:
error: expected declaration specifiers or '...' before 'LPCSHCOLUMNID'
../../wvgwin.c: In function 'HB_FUN_WVG_ADDTOOLBARBUTTON':
../../wvgwin.c:2139: warning: cast from pointer to integer of different size
../../wvgwin.c: In function 'HB_FUN_WIN_SENDTOOLBARMESSAGE':
../../wvgwin.c:2208: warning: cast from pointer to integer of different size
make[3]: [wvgwin.o] Error 1 (ignored)
x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
-fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../wvggui.c
-owvggui.o
x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
-fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../wvgcuig.c
-owvgcuig.o
In file included from ../../gtwvg.h:76,
                 from ../../wvgcuig.c:87:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/commctrl.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from ../../gtwvg.h:83,
                 from ../../wvgcuig.c:87:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:14:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:88,
                 from ../../gtwvg.h:83,
                 from ../../wvgcuig.c:87:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlguid.h:13:2:
error: #error _WIN32_IE setting conflicts
In file included from
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:98,
                 from ../../gtwvg.h:83,
                 from ../../wvgcuig.c:87:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1760:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1761:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1762:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1783:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1785:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shobjidl.h:1787:
error: expected declaration specifiers or '...' before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgcuig.c:87:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1660:
error: expected specifier-qualifier-list before 'SHCOLUMNID'
In file included from ../../gtwvg.h:83,
                 from ../../wvgcuig.c:87:
c:/devl/mingw-440-64/lib/gcc/../../x86_64-pc-mingw32/include/shlobj.h:1703:
error: expected declaration specifiers or '...' before 'LPCSHCOLUMNID'
make[3]: [wvgcuig.o] Error 1 (ignored)
x86_64-pc-mingw32-ar  cr ../../../../lib/win/mingw64/libgtwvg.a gtwvg.o
wvgcore.o wvgutils.o wvgwin.o wvgsink.o wvggui.o wincallb.o wvgcuig.o
wvgclass.o wvgpaint.o wvgphdlr.o wvgwnd.o wvgcrt.o wvgax.o wvgdlg.o
wvgmenub.o wvgtoolb.o wvgcombo.o wvglistb.o wvgpushb.o wvgstatb.o wvgstatc.o
wvgtreev.o wincback.o wvgcheck.o wvgdatar.o wvgradio.o wvg3stat.o wvgbitmp.o
wvgsle.o wvgmle.o wvghtmlv.o wvgsysw.o wvgdarea.o wvgscrlb.o wvgtabpg.o &&
x86_64-pc-mingw32-ranlib ../../../../lib/win/mingw64/libgtwvg.a || rm -f
../../../../lib/win/mingw64/libgtwvg.a
make[3]: Leaving directory
`/c/work/harbour-new/harbour/contrib/gtwvg/win/mingw64'
! Installing ../../lib/win/mingw64/libgtwvg.a on
/c/devl/hbmingw6464-1.1-test/lib
! Installing ../../lib/win/mingw64/libgtwvg.a on
/c/devl/hbmingw6464-1.1-test/lib
! Installing hbgtwvg.ch on /c/devl/hbmingw6464-1.1-test/include
! Installing wvtwin.ch on /c/devl/hbmingw6464-1.1-test/include
! Installing wvgparts.ch on /c/devl/hbmingw6464-1.1-test/include
make[2]: Leaving directory `/c/work/harbour-new/harbour/contrib/gtwvg'
---

Brgds,
Viktor

On Thu, Mar 26, 2009 at 3:58 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10700
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10700&view=rev
> Author:   druzus
> Date:     2009-03-26 14:58:57 +0000 (Thu, 26 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-26 16:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbole/olecore.c
>    * added two notes with default defines for windows header files
>    ! small correction and fixes in casting
>    ; Now this code can be compiled by MinGW and OpenWatcom if we uncomment
>      CINTERFACE setting. Anyhow I'd prefer to use C++ friendly
> declarations.
>      Mindaugas, this code uses static variable: s_lOleError.
>      Can we make it thread local? It should resolve the problem with using
>      this code in MT programs.
>      The next thing is the place where OLE is uninitialized.
>      It's done by hb_vmAtExit(). In some cases it may be problematic
>      because after hb_vmAtExit() some .prg destructors can be executed
>      yet, f.e. when public variables are destroyed. The HB_OLEAUTO()
>      objects uses destructor which can be activated after executing
>      hb_ole_exit(). To resolve this problem you can replicate the trick
>      with pointer variable stored inside static .prg var I added to old
>      OLE code in contrib/whbwin/ (.prg destructors are disabled just
>      before releasing static variables). It's not elegant solution
>      but it will work. Probably we should think about two levels of
>      exit procedures. The second one can be used only for pure C code
>      which does not try to reenter HVM.
>
>  * harbour/contrib/gtwvg/gtwvg.h
>    ! moved _WIN32_IE declaration before #include ... to fix MinGW32
>      compilation
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/gtwvg.h
>    trunk/harbour/contrib/hbole/olecore.c
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/58c480a2/attachment-0001.html
From amigosam at adinet.com.uy  Thu Mar 26 11:34:03 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Mar 26 11:34:24 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>	<49CADD7D.80203@philb.us>	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
Message-ID: <gqg79b$u9c$1@ger.gmane.org>

Hello Viktor:

Here's an outsider's point of view and vision about harbour.
This is a multiplattform compiler so in my personall point of view the 
only c commpiler that should be guaranteed to work flawless is gcc/mingw.
Other compilers should be responsibility of special distros supporters.
Also hbmk2 should be the only and official way to compile and build 
everything, from core to utils to samples.

JMHO
Angel

PD: Same about gui. xbgtk and or QT should be the only ones officialy 
supported by this project.


Viktor Szak?ts escribi?:
>     Hi agree about importance of give a choice and agree mingw/msvc path
>     can we follow Minigui that  include harbour & MinGW to be ready to use
>     for windows platform?
> 
> 
> I don't know MiniGUI, so I cannot tell.
> 
> What is possible though is to provide such a binary distribution 
> which is based on MinGW, contains MinGW binaries and also 
> includes MSVC libs. Such package is a self-contained one being 
> able to create executables without any external tools, it also has 
> GNU Make, and it's also possible to use it with MSVC and even 
> POCC if someone has these installed.
> 
> I'll check if I can make hbmk2 detect such embedded mingw 
> installation automatically.
> 
> Such package is a 42MB .zip, and if this seems to be okay for 
> everyone such package may replace our current compiler 
> dependent distros, by the simple names of:
> 
> harbour-1.1.0-win-x86.zip
> harbour-1.1.0-win-x86.exe
> harbour-1.1.0-win-x64.zip
> harbour-1.1.0-win-x64.exe
> harbour-1.1.0-wince-arm.zip
> harbour-1.1.0-wince-arm.exe
> 
> I think such distros would send a much better message 
> towards users and give them a much better service. Of course, 
> all BCC/owatcom users will have to migrate to above proper 
> compilers to be able to follow.
> 
> Opinions?
> 
> Brgds,
> Viktor
> 

From hernad at sigma-com.net  Thu Mar 26 11:49:39 2009
From: hernad at sigma-com.net (Ernad Husremovic)
Date: Thu Mar 26 11:49:49 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <22903398.2091238082576736.JavaMail.root@zimbra-1.sigma-com.net>
Message-ID: <5163061.2111238082579625.JavaMail.root@zimbra-1.sigma-com.net>

I share the principle of Angel's view. 
Focus is important. 
Some similar kind of decisions was made by Ubuntu project when they started their "fork" from Debian - they excluded some platforms which they considered to be less in use.    
Support of too many  platform variants takes resources.

Decision what to be "supported"  (compiler, platform itself), of course, should be carefully selected by the community. 

 

----- "Angel Pais" <amigosam@adinet.com.uy> wrote:

> Hello Viktor:
> 
> Here's an outsider's point of view and vision about harbour.
> This is a multiplattform compiler so in my personall point of view the
> 
> only c commpiler that should be guaranteed to work flawless is
> gcc/mingw.
> Other compilers should be responsibility of special distros
> supporters.
> Also hbmk2 should be the only and official way to compile and build 
> everything, from core to utils to samples.
> 
> JMHO
> Angel
> 
From vszakats at users.sourceforge.net  Thu Mar 26 11:59:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 26 11:59:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10701] trunk/harbour
Message-ID: <E1Lmrzd-0001yT-0M@d5vjzd1.ch3.sourceforge.com>

Revision: 10701
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10701&view=rev
Author:   vszakats
Date:     2009-03-26 15:59:44 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-26 16:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  - contrib/hbapollo
  * contrib/Makefile
  + contrib/examples/hbapollo
    * Moved hbapollo to examples.
    ; TODO: This, hbwhat, hbgf and hbsqlit2 should be IMO permanently 
            removed from repository. If there are no objections, I'll 
            do it next week.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/examples/hbapollo/

Removed Paths:
-------------
    trunk/harbour/contrib/hbapollo/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Thu Mar 26 12:12:31 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Mar 26 12:11:32 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CB7D98.2090004@fsgiudice.com>
References: <18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>	<49CA7F4B.2020103@fsgiudice.com>
	<49CAAD6B.2000707@fsgiudice.com>	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>
	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
	<49CB7D98.2090004@fsgiudice.com>
Message-ID: <67ans4peuuevd1spag04u4vjgem32hdtkf@4ax.com>

Hi Francesco.

>do you use MSVC ? If yes, do you have tested same code after removing 
>-TP flag in config/msvc.cf and rebuild entire SVN ?

No, I?m using BCC 6.10.  New OLE seems work fine, except that
GetActiveObject() is not working, as I posted in my last sample.

Best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Thu Mar 26 12:20:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 12:20:34 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <gqg79b$u9c$1@ger.gmane.org>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
	<gqg79b$u9c$1@ger.gmane.org>
Message-ID: <18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>

Thanks Angel. I agree with you.
If we indeed think this direction seriously we could make
some moves to separate portable and non-portable libs
from each other. Something should count as portable if
at least Windows (including x86, x64 and wince),
Linux and Darwin are supported. If more platforms are
supported, good, but if some of these are not, we should
consider handling these differently. Unfortunately the
decision cannot be that automatic, we need to make exceptions:
hbwin is a common need for Windows users (but we should
have *only one* Windows specific lib, no separate hbole f.e.),
rddads is also a common need, and it's not supported outside
win/linux.

After evaluating our contrib list, I could only name a few
ones which would be dropped by above rules, the most
problematic and less portable specific lib is gtwvg. I hope
Pritpal can save the Xbase++ layer of it, so it can be useful
for QT, but otherwise I'd like to propose to do something
about it, like moving it to examples, or opening a separate
SVN project for it. The rest of libs is about okay, maybe only
hbblat stands out as Windows only, albeit it's the only way
to send e-mails from a Windows system and the code very
simple (only one C function) and unobtrusive, so I think it
should stay. hbole integration should be done ASAP.

We also have a few places where portable libs use platform
specific features: hbct, hbfbird, hbfimage, hbmysql, hbnf, hbodbc,
hbssl, xhb. I'll try to evaluate all these, and also ask for help
from other to eliminate them. (by using Harbour API calls, or
other means).

Brgds,
Viktor

On Thu, Mar 26, 2009 at 4:34 PM, Angel Pais <amigosam@adinet.com.uy> wrote:

> Hello Viktor:
>
> Here's an outsider's point of view and vision about harbour.
> This is a multiplattform compiler so in my personall point of view the only
> c commpiler that should be guaranteed to work flawless is gcc/mingw.
> Other compilers should be responsibility of special distros supporters.
> Also hbmk2 should be the only and official way to compile and build
> everything, from core to utils to samples.
>
> JMHO
> Angel
>
> PD: Same about gui. xbgtk and or QT should be the only ones officialy
> supported by this project.
>
>
> Viktor Szak?ts escribi?:
>
>     Hi agree about importance of give a choice and agree mingw/msvc path
>>    can we follow Minigui that  include harbour & MinGW to be ready to use
>>    for windows platform?
>>
>>
>> I don't know MiniGUI, so I cannot tell.
>>
>> What is possible though is to provide such a binary distribution which is
>> based on MinGW, contains MinGW binaries and also includes MSVC libs. Such
>> package is a self-contained one being able to create executables without any
>> external tools, it also has GNU Make, and it's also possible to use it with
>> MSVC and even POCC if someone has these installed.
>>
>> I'll check if I can make hbmk2 detect such embedded mingw installation
>> automatically.
>>
>> Such package is a 42MB .zip, and if this seems to be okay for everyone
>> such package may replace our current compiler dependent distros, by the
>> simple names of:
>>
>> harbour-1.1.0-win-x86.zip
>> harbour-1.1.0-win-x86.exe
>> harbour-1.1.0-win-x64.zip
>> harbour-1.1.0-win-x64.exe
>> harbour-1.1.0-wince-arm.zip
>> harbour-1.1.0-wince-arm.exe
>>
>> I think such distros would send a much better message towards users and
>> give them a much better service. Of course, all BCC/owatcom users will have
>> to migrate to above proper compilers to be able to follow.
>>
>> Opinions?
>>
>> Brgds,
>> Viktor
>>
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/a377390f/attachment.html
From mbelgrano at deltain.it  Thu Mar 26 12:21:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 12:22:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10701] trunk/harbour
In-Reply-To: <E1Lmrzd-0001yT-0M@d5vjzd1.ch3.sourceforge.com>
References: <E1Lmrzd-0001yT-0M@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70903260921u68a6a5f3s661f2157157c8bbe@mail.gmail.com>

I suggest moving to a example\olsolete path instead of remove (hbwhat,
hbgf and hbsqlit2 )
examples\unsupported or similar

2009/3/26  <vszakats@users.sourceforge.net>:
> Revision: 10701
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10701&view=rev
> Author: ? vszakats
> Date: ? ? 2009-03-26 15:59:44 +0000 (Thu, 26 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-26 16:58 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
> ?* INSTALL
> ?- contrib/hbapollo
> ?* contrib/Makefile
> ?+ contrib/examples/hbapollo
> ? ?* Moved hbapollo to examples.
> ? ?; TODO: This, hbwhat, hbgf and hbsqlit2 should be IMO permanently
> ? ? ? ? ? ?removed from repository. If there are no objections, I'll
> ? ? ? ? ? ?do it next week.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/INSTALL
> ? ?trunk/harbour/contrib/Makefile
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/examples/hbapollo/
>
> Removed Paths:
> -------------
> ? ?trunk/harbour/contrib/hbapollo/
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Thu Mar 26 12:33:03 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 26 12:26:38 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <20090206185930.GA24213@uran.home.aster.pl>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
	<18d502870902050815t3bc7c256o3a05fc942177f2c1@mail.gmail.com>
	<20090206185930.GA24213@uran.home.aster.pl>
Message-ID: <20090326163303.GA6481@uran.home.aster.pl>

On Fri, 06 Feb 2009, Przemyslaw Czerpak wrote:

Hi,

> > We should IMO never include windows.h from hbdefs.h. Besides
> > slowing down build time to a great deal, we don't do this for other
> > OS APIs either. This would also suggest that Windows API usage
> > is freely allowed in any files, which counteracts with our effort to
> > create portable code in the first place. Most of our core files don't
> > need windows.h.
> I do not agree.
> And now I have very good example.
> In xHarbour there is serious bug related to this subject.
> Today I lost few hours to locate it. The problem can be observed
> in SORT ON ... command but not only. Now I think that I know the
> answer for some other bug reports though without any code watching
> for them.
> Let's give some days to xharbour team to check how much time is
> necessary to locate the source of such problem and fixing it. It's
> possible to fix the problem even without knowing the reason and it
> will be also interesting to see how it will be resolved.
> It should give the real life answer if you are right or not and how
> much developers time can it cost.

And we have an answer:

   2009-03-26 10:280 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
      * source\rdd\hbdbsort.c
        * Synched include files as per dbf1.c as brute force correction to GPF
          trap due to structure alignment difference of DBQUICKSORT
      /*
         NOTE: RDD Developers should seriously cleanup and systemize the RDD header files,
               to avoid such dangerous trap!!!
       */

So exactly the bug in example code was fixed but not the reason
of the problem. It still exists and it's not related to RDD code.
It effects all FS API code which uses _POSIX_PATH_MAX or some structures
like HB_FNAME or HB_FFIND based on above macro.

The bug was introduced over 4 months ago:
   2008-12-03 12:10 UTC+0100 Miguel Angel Marchuet <miguelangel@marchuet.net>
     * include\hbsetup.ch
     * include\hbsetup.h
       * format & used MAX_PATH or _MAX_PATH instead of hard coded 255, some systems can support
         260 chars and more.

and probably it will not be cleaned for next 4 months or even years.
The example was fixed and probably untill someone else will not create
other one not related to RDD code no one will return to it to try locate
the real reason.
I do not think we should wait longer. It's important for xHarbour users
and developers information so I'm public it.

We also have important information what may happen with partial including
system header files. This declaration in hbsetup.h:

   #ifndef _POSIX_PATH_MAX
       #if defined( MAX_PATH )
          #define _POSIX_PATH_MAX    MAX_PATH  // 260
       #else
           #if defined( _MAX_PATH )
              #define _POSIX_PATH_MAX    _MAX_PATH // 260
           #else
              #define _POSIX_PATH_MAX    255
           #endif
       #endif
   #endif

is giving different results if windows.h is included before hbsetup.h
or not. In fact we should not make any public definitions which may
depends on some OS settings if we do not include native OS header files
before. In this case it's windows.h but also POSIX systems are not safe
and this bug can be exploited also in Harbour.
_POSIX_PATH_MAX is usually defined indirectly by including limits.h
but not always. It depends on feature macros setting. If some systems
use __BSD_SOURCE as default and does not set any level to __POSIX_SOURCE
then we can redefined _POSIX_PATH_MAX with our own wrong value.
Please think about it.
It's not easy to resolve problem.
In some cases like above it's much safer to use hard coded limits, i.e.:
   #define HB_PATH_MAX  264   /* with trailing 0 byte */
In this particular case we should think about updating our code and
replace all
   char szFileName[ _POSIX_PATH_MAX + 1 ];
with:
   char szFileName[ HB_PATH_MAX ];
264 I chosen intentionally to be large enough for windows (MAX_PATH
it's bigger probably due to drive letter) and to use 8 bytes alignment.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Mar 26 12:35:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 26 12:28:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10700] trunk/harbour
In-Reply-To: <18d502870903260813m6bfe99efhabf86d8b96815bc9@mail.gmail.com>
References: <E1Lmr2o-0005rJ-IX@c3vjzd1.ch3.sourceforge.com>
	<18d502870903260813m6bfe99efhabf86d8b96815bc9@mail.gmail.com>
Message-ID: <20090326163534.GA8825@uran.home.aster.pl>

On Thu, 26 Mar 2009, Szak?ts Viktor wrote:

Hi,

> >  * harbour/contrib/gtwvg/gtwvg.h
>    ! moved _WIN32_IE declaration before #include ... to fix MinGW32
>      compilation
> After this, mingw64 fails with these messages (previously it compiled
> cleanly):---
> make -C gtwvg install
> make[2]: Entering directory `/c/work/harbour-new/harbour/contrib/gtwvg'
> make[3]: Entering directory
> `/c/work/harbour-new/harbour/contrib/gtwvg/win/mingw64'
> x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
> -fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../gtwvg.c
> -ogtwvg.o
[...]

before this MinGW32 and MinGW32CE fails with:

../../gtwvg.c: In function 'hb_wvt_gtCreateToolTipWindow':
../../gtwvg.c:4379: error: 'INITCOMMONCONTROLSEX' undeclared (first use in this function)
../../gtwvg.c:4379: error: (Each undeclared identifier is reported only once
../../gtwvg.c:4379: error: for each function it appears in.)
../../gtwvg.c:4379: error: expected ';' before 'icex'
../../gtwvg.c:4384: error: 'icex' undeclared (first use in this function)
../../gtwvg.c:4387: warning: implicit declaration of function 'InitCommonControlsEx'

now it compiles cleanly.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 26 12:29:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 12:29:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10701] trunk/harbour
In-Reply-To: <609353e70903260921u68a6a5f3s661f2157157c8bbe@mail.gmail.com>
References: <E1Lmrzd-0001yT-0M@d5vjzd1.ch3.sourceforge.com>
	<609353e70903260921u68a6a5f3s661f2157157c8bbe@mail.gmail.com>
Message-ID: <18d502870903260929w6f53d1d0id5239cdc8a3bf349@mail.gmail.com>

>
> I suggest moving to a example\olsolete path instead of remove (hbwhat,
> hbgf and hbsqlit2 )
> examples\unsupported or similar


If these parts are only a burden for I see no reason to use our
repository as a warehouse for obsolete / unsupported items.
F.e. every such code appear in all grep commands, so they
need to be dealt with all the time.

The code is there now so everyone who thinks these are useful
bits can copy them to local or public repositories and continue
maintaining them. Leaving them here only adds up to our ballast
(bloat) and sucks time and space from more important pieces.

Moving them to deeper and deeper dirs won't really help.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/9e8c31f7/attachment.html
From harbour.01 at syenar.hu  Thu Mar 26 12:36:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 12:36:55 2009
Subject: [Harbour] Cleaning Harbour C types
In-Reply-To: <20090326163303.GA6481@uran.home.aster.pl>
References: <18d502870902031645i41322b52n9ee0bc8a67ba71e@mail.gmail.com>
	<20090205154055.GA19749@uran.home.aster.pl>
	<18d502870902050815t3bc7c256o3a05fc942177f2c1@mail.gmail.com>
	<20090206185930.GA24213@uran.home.aster.pl>
	<20090326163303.GA6481@uran.home.aster.pl>
Message-ID: <18d502870903260936w2d7ae369o9e7666e58ca7472b@mail.gmail.com>

Hi Przemek,

I see your point and I agree with HB_PATH_MAX, and making sure it's always
sized properly for all platforms.

But: doing so without including windows.h in all files. One
other solution is to add a Harbour API to retrieve this value,
or even to allocate a filename buffer at once. Both needs that
we convert all such buffers to heap ones, which may not be
possible in all cases, so it would still need some special
treatment at places.

I'm ATM cleaning some unnecessary windows.h dependence
in contribs files BTW, there are only a few places and some
of these (hbfimage) could be cleaned if we had our own type
names, but I'm still looking at it.

Brgds,
Viktor

On Thu, Mar 26, 2009 at 5:33 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Fri, 06 Feb 2009, Przemyslaw Czerpak wrote:
>
> Hi,
>
> > > We should IMO never include windows.h from hbdefs.h. Besides
> > > slowing down build time to a great deal, we don't do this for other
> > > OS APIs either. This would also suggest that Windows API usage
> > > is freely allowed in any files, which counteracts with our effort to
> > > create portable code in the first place. Most of our core files don't
> > > need windows.h.
> > I do not agree.
> > And now I have very good example.
> > In xHarbour there is serious bug related to this subject.
> > Today I lost few hours to locate it. The problem can be observed
> > in SORT ON ... command but not only. Now I think that I know the
> > answer for some other bug reports though without any code watching
> > for them.
> > Let's give some days to xharbour team to check how much time is
> > necessary to locate the source of such problem and fixing it. It's
> > possible to fix the problem even without knowing the reason and it
> > will be also interesting to see how it will be resolved.
> > It should give the real life answer if you are right or not and how
> > much developers time can it cost.
>
> And we have an answer:
>
>   2009-03-26 10:280 UTC-0430 Ron Pinkas <ron/at/xharbour.com>
>      * source\rdd\hbdbsort.c
>        * Synched include files as per dbf1.c as brute force correction to
> GPF
>          trap due to structure alignment difference of DBQUICKSORT
>      /*
>         NOTE: RDD Developers should seriously cleanup and systemize the RDD
> header files,
>               to avoid such dangerous trap!!!
>       */
>
> So exactly the bug in example code was fixed but not the reason
> of the problem. It still exists and it's not related to RDD code.
> It effects all FS API code which uses _POSIX_PATH_MAX or some structures
> like HB_FNAME or HB_FFIND based on above macro.
>
> The bug was introduced over 4 months ago:
>   2008-12-03 12:10 UTC+0100 Miguel Angel Marchuet <
> miguelangel@marchuet.net>
>     * include\hbsetup.ch
>     * include\hbsetup.h
>       * format & used MAX_PATH or _MAX_PATH instead of hard coded 255, some
> systems can support
>         260 chars and more.
>
> and probably it will not be cleaned for next 4 months or even years.
> The example was fixed and probably untill someone else will not create
> other one not related to RDD code no one will return to it to try locate
> the real reason.
> I do not think we should wait longer. It's important for xHarbour users
> and developers information so I'm public it.
>
> We also have important information what may happen with partial including
> system header files. This declaration in hbsetup.h:
>
>   #ifndef _POSIX_PATH_MAX
>       #if defined( MAX_PATH )
>          #define _POSIX_PATH_MAX    MAX_PATH  // 260
>       #else
>           #if defined( _MAX_PATH )
>              #define _POSIX_PATH_MAX    _MAX_PATH // 260
>           #else
>              #define _POSIX_PATH_MAX    255
>           #endif
>       #endif
>   #endif
>
> is giving different results if windows.h is included before hbsetup.h
> or not. In fact we should not make any public definitions which may
> depends on some OS settings if we do not include native OS header files
> before. In this case it's windows.h but also POSIX systems are not safe
> and this bug can be exploited also in Harbour.
> _POSIX_PATH_MAX is usually defined indirectly by including limits.h
> but not always. It depends on feature macros setting. If some systems
> use __BSD_SOURCE as default and does not set any level to __POSIX_SOURCE
> then we can redefined _POSIX_PATH_MAX with our own wrong value.
> Please think about it.
> It's not easy to resolve problem.
> In some cases like above it's much safer to use hard coded limits, i.e.:
>   #define HB_PATH_MAX  264   /* with trailing 0 byte */
> In this particular case we should think about updating our code and
> replace all
>   char szFileName[ _POSIX_PATH_MAX + 1 ];
> with:
>   char szFileName[ HB_PATH_MAX ];
> 264 I chosen intentionally to be large enough for windows (MAX_PATH
> it's bigger probably due to drive letter) and to use 8 bytes alignment.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/62cafb9b/attachment-0001.html
From harbour.01 at syenar.hu  Thu Mar 26 12:47:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 12:47:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10700] trunk/harbour
In-Reply-To: <20090326163534.GA8825@uran.home.aster.pl>
References: <E1Lmr2o-0005rJ-IX@c3vjzd1.ch3.sourceforge.com>
	<18d502870903260813m6bfe99efhabf86d8b96815bc9@mail.gmail.com>
	<20090326163534.GA8825@uran.home.aster.pl>
Message-ID: <18d502870903260947o6599804bye2fc470deecf94fe@mail.gmail.com>

Hi Przemek,

I thought our way or working is that everytime we commit something
we enhance some parts of Harbour, rather than reintroducing some
known problems. I posted the exact error list to help develop a real
fix, instead of seeing your report repeated as a sort of answer.

I'd kindly ask you to have another look, I'm sure you have a more
educated answer than this. mingw64 support is very important to give
a proper alternative to MSVC (payware, closed source product).

(and let me note that I personally don't need or use x64 at all)

Brgds,
Viktor

On Thu, Mar 26, 2009 at 5:35 PM, Przemyslaw Czerpak <druzus@acn.waw.pl>wrote:

> On Thu, 26 Mar 2009, Szak?ts Viktor wrote:
>
> Hi,
>
> > >  * harbour/contrib/gtwvg/gtwvg.h
> >    ! moved _WIN32_IE declaration before #include ... to fix MinGW32
> >      compilation
> > After this, mingw64 fails with these messages (previously it compiled
> > cleanly):---
> > make -C gtwvg install
> > make[2]: Entering directory `/c/work/harbour-new/harbour/contrib/gtwvg'
> > make[3]: Entering directory
> > `/c/work/harbour-new/harbour/contrib/gtwvg/win/mingw64'
> > x86_64-pc-mingw32-gcc -I. -I../../../../include -Wall -W -O3
> > -fomit-frame-pointer  -I../../../../contrib/hbwin  -c ../../gtwvg.c
> > -ogtwvg.o
> [...]
>
> before this MinGW32 and MinGW32CE fails with:
>
> ../../gtwvg.c: In function 'hb_wvt_gtCreateToolTipWindow':
> ../../gtwvg.c:4379: error: 'INITCOMMONCONTROLSEX' undeclared (first use in
> this function)
> ../../gtwvg.c:4379: error: (Each undeclared identifier is reported only
> once
> ../../gtwvg.c:4379: error: for each function it appears in.)
> ../../gtwvg.c:4379: error: expected ';' before 'icex'
> ../../gtwvg.c:4384: error: 'icex' undeclared (first use in this function)
> ../../gtwvg.c:4387: warning: implicit declaration of function
> 'InitCommonControlsEx'
>
> now it compiles cleanly.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/cd176caf/attachment.html
From mbelgrano at deltain.it  Thu Mar 26 12:48:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 12:49:08 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com> 
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com> 
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com> 
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com> 
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
Message-ID: <609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>

In my opinion gtwvt will be very useful for harbour user in windows 32
because allow a easy switch cui gui
xbase++ class & gtwvw  is also a important bridge for Xbase developer
and xharbour+gtwvw
No support for ,windows ce,windows 64,linux but maybe wine ..is
similar situation to gtxwc,gtwvw
a documentation will help user undestrand the non portable library




2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
> Thanks Angel. I agree with you.
> If we indeed think this direction seriously we could make
> some moves to separate portable and non-portable libs
> from each other. Something should count as portable if
> at least Windows (including x86, x64 and wince),
> Linux and Darwin are supported. If more platforms are
> supported, good, but if some of these are not,?we should
> consider handling these differently. Unfortunately the
> decision cannot be that automatic, we need to make?exceptions:
> hbwin is a common need for Windows users?(but we should
> have *only one* Windows specific lib, no?separate hbole f.e.),
> rddads is also a common need, and?it's not supported?outside
> win/linux.
> After evaluating our contrib list, I could only name a few
> ones which would be dropped by above rules, the most
> problematic and less portable specific lib is gtwvg. I hope
> Pritpal can save the Xbase++ layer of it, so it can be useful
> for QT, but otherwise I'd like to propose to do something
> about it, like moving it to examples, or opening a separate
> SVN project for it. The rest of libs is about okay, maybe only
> hbblat stands out as Windows only, albeit it's the only way
> to send e-mails from a Windows system and the code very
> simple (only one C function) and?unobtrusive, so I think it
> should?stay. hbole integration should be done ASAP.
> We also have a few places where portable libs use platform
> specific features: hbct, hbfbird, hbfimage, hbmysql, hbnf, hbodbc,
> hbssl, xhb. I'll try to evaluate all these, and also ask for help
> from other to eliminate them. (by using Harbour API calls, or
> other means).
> Brgds,
> Viktor
> On Thu, Mar 26, 2009 at 4:34 PM, Angel Pais <amigosam@adinet.com.uy> wrote:
>>
>> Hello Viktor:
>>
>> Here's an outsider's point of view and vision about harbour.
>> This is a multiplattform compiler so in my personall point of view the
>> only c commpiler that should be guaranteed to work flawless is gcc/mingw.
>> Other compilers should be responsibility of special distros supporters.
>> Also hbmk2 should be the only and official way to compile and build
>> everything, from core to utils to samples.
>>
>> JMHO
>> Angel
>>
>> PD: Same about gui. xbgtk and or QT should be the only ones officialy
>> supported by this project.
>>
>>
>> Viktor Szak?ts escribi?:
>>>
>>> ? ?Hi agree about importance of give a choice and agree mingw/msvc path
>>> ? ?can we follow Minigui that ?include harbour & MinGW to be ready to use
>>> ? ?for windows platform?
>>>
>>>
>>> I don't know MiniGUI, so I cannot tell.
>>>
>>> What is possible though is to provide such a binary distribution which is
>>> based on MinGW, contains MinGW binaries and also includes MSVC libs. Such
>>> package is a self-contained one being able to create executables without any
>>> external tools, it also has GNU Make, and it's also possible to use it with
>>> MSVC and even POCC if someone has these installed.
>>>
>>> I'll check if I can make hbmk2 detect such embedded mingw installation
>>> automatically.
>>>
>>> Such package is a 42MB .zip, and if this seems to be okay for everyone
>>> such package may replace our current compiler dependent distros, by the
>>> simple names of:
>>>
>>> harbour-1.1.0-win-x86.zip
>>> harbour-1.1.0-win-x86.exe
>>> harbour-1.1.0-win-x64.zip
>>> harbour-1.1.0-win-x64.exe
>>> harbour-1.1.0-wince-arm.zip
>>> harbour-1.1.0-wince-arm.exe
>>>
>>> I think such distros would send a much better message towards users and
>>> give them a much better service. Of course, all BCC/owatcom users will have
>>> to migrate to above proper compilers to be able to follow.
>>>
>>> Opinions?
>>>
>>> Brgds,
>>> Viktor
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Mar 26 12:56:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 12:56:50 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>
Message-ID: <18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>

>
> In my opinion gtwvt will be very useful for harbour user in windows 32
> because allow a easy switch cui gui


You mean gtwvg, I guess.


> xbase++ class & gtwvw  is also a important bridge for Xbase developer
> and xharbour+gtwvw
> No support for ,windows ce,windows 64,linux but maybe wine ..is
> similar situation to gtxwc,gtwvw


Let's not confuse things, gtxwc is the pair of gtwvt. Doesn't
have anything to do with this topic.


> a documentation will help user undestrand the non portable library


Notice that it needs a huge amount of maintenance. gtwvg,
just like lots of other Windows specific libs (MiniGUI, HMG)
could well live outside our repository. In Harbour we have
certain rules to operate and we have a certain amount of
resources, gtwvg cannot comply with the rules and consumes
more resources than we have.

I think we should focus on QT. We certainly cannot focus on both.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/60d4be96/attachment.html
From mbelgrano at deltain.it  Thu Mar 26 13:21:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 13:21:39 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com> 
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com> 
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com> 
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com> 
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com> 
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com> 
	<18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>
Message-ID: <609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>

2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>> In my opinion gtwvt will be very useful for harbour user in windows 32
>
>>
>> xbase++ class & gtwvw ?is also a important bridge for Xbase developer
>> and xharbour+gtwvw
>> No support for ,windows ce,windows 64,linux but maybe wine ..is
>> similar situation to gtxwc,gtwvw
>
> Let's not confuse things, gtxwc is the pair of gtwvt. Doesn't
> have anything to do with this topic.
gtxwc have one platform supported (linux)
(so imo is related to this topics)
If the rule for exist is related to number of platform supported
gtwvg and gtxwc must be is same (irregolar) situation

>
>>
>> a documentation will help user undestrand the non portable library
>
> Notice that it needs a huge amount of maintenance. gtwvg,
> just like lots of other Windows specific libs (MiniGUI, HMG)
> could well live outside our repository. In Harbour we have
> certain rules to operate and we have a certain amount of
> resources, gtwvg cannot comply with the rules and consumes
> more resources than we have.
> I think we should focus on QT. We certainly cannot focus?on?both.

Afaik Pripal is main maintainer for this library and this will be
sufficent for a contrib lib

but why you fire on everybody today?

-- 
Massimo Belgrano
From druzus at acn.waw.pl  Thu Mar 26 13:30:23 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 26 13:23:53 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
References: <49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
	<49CA7F4B.2020103@fsgiudice.com> <49CAAD6B.2000707@fsgiudice.com>
	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>
	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
Message-ID: <20090326173023.GA10998@uran.home.aster.pl>

On Thu, 26 Mar 2009, Toninho@fwi wrote:

Hi,

> But with a more extensive test here I found that this code doesn?t
> work:
> procedure testolenew()
>    local oWord, oText
>    begin sequence
>       oWord = GetActiveObject( "Word.Application" )
>    recover
>       begin sequence
>          oWord = CreateObject( "Word.Application" )
>       recover
>          alert( "ERROR! Word not avialable." )
>          return
>       end sequence
>    end sequence
[...]

New implementation does not generate RT error but simply returns NIL.
It's not longer necessary to use BEGIN SEQUENCE / END (BTW WITH {|e|break}
is missing) or TRY/CATCH.

Use this code instead:

procedure testolenew()
   local oWord, oText

   oWord = GetActiveObject( "Word.Application" )
   if oWord == NIL
      oWord = CreateObject( "Word.Application" )
      if oWord == NIL
         alert( "ERROR! Word not avialable." )
         return
      endif
   endif
   [...]

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Mar 26 13:52:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 13:52:09 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>
	<18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>
	<609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>
Message-ID: <18d502870903261052u7399e586ya4288ca976b4459e@mail.gmail.com>

Gtxwc is the pair of gtwvt. Both plat spec, both core & compatible
with each other. I'm not "fire" at anyone in any personal sense, but a
release is unlikely with current approach.

On 3/26/09, Massimo Belgrano <mbelgrano@deltain.it> wrote:
> 2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> In my opinion gtwvt will be very useful for harbour user in windows 32
>>
>>>
>>> xbase++ class & gtwvw ?is also a important bridge for Xbase developer
>>> and xharbour+gtwvw
>>> No support for ,windows ce,windows 64,linux but maybe wine ..is
>>> similar situation to gtxwc,gtwvw
>>
>> Let's not confuse things, gtxwc is the pair of gtwvt. Doesn't
>> have anything to do with this topic.
> gtxwc have one platform supported (linux)
> (so imo is related to this topics)
> If the rule for exist is related to number of platform supported
> gtwvg and gtxwc must be is same (irregolar) situation
>
>>
>>>
>>> a documentation will help user undestrand the non portable library
>>
>> Notice that it needs a huge amount of maintenance. gtwvg,
>> just like lots of other Windows specific libs (MiniGUI, HMG)
>> could well live outside our repository. In Harbour we have
>> certain rules to operate and we have a certain amount of
>> resources, gtwvg cannot comply with the rules and consumes
>> more resources than we have.
>> I think we should focus on QT. We certainly cannot focus?on?both.
>
> Afaik Pripal is main maintainer for this library and this will be
> sufficent for a contrib lib
>
> but why you fire on everybody today?
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mbelgrano at deltain.it  Thu Mar 26 13:56:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 13:57:09 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <18d502870903261052u7399e586ya4288ca976b4459e@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com> 
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com> 
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com> 
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com> 
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com> 
	<18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com> 
	<609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com> 
	<18d502870903261052u7399e586ya4288ca976b4459e@mail.gmail.com>
Message-ID: <609353e70903261056p588ed5cdkfa37914bb1961be1@mail.gmail.com>

Ok, but can you explain where gtwvg not follow this route
I have read only about platform problem in precedent post


2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
> Gtxwc is the pair of gtwvt. Both plat spec, both core & compatible
> with each other. I'm not "fire" at anyone in any personal sense, but a
> release is unlikely with current approach.
From harbour.01 at syenar.hu  Thu Mar 26 14:15:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 14:15:49 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <609353e70903261056p588ed5cdkfa37914bb1961be1@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C10FCC3D8EA@Mail-yoq.SYNEL-COMPANY.LTD>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>
	<18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>
	<609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>
	<18d502870903261052u7399e586ya4288ca976b4459e@mail.gmail.com>
	<609353e70903261056p588ed5cdkfa37914bb1961be1@mail.gmail.com>
Message-ID: <18d502870903261115i49a71486w59ce446695637f6a@mail.gmail.com>

Gtwvg is a highly win specific lib with no counterparts on other
platforms. Your prg code will be win only. Plus it's x86 specific, was
never successfully tested on ce, x64, unicode, uses internals, non
ansi c code, breaks core and other contrib namespaces, has redundant
winapi parts, code non portable between c compilers. We're (I'm)
spending huge amount of time on just to create clean builds, with
minimal hope the large codebase will ever be clean enough for a piece
of mind and future releases. Since there is seldom any bug reports, I
don't suspect a large amount of active users.

On 3/26/09, Massimo Belgrano <mbelgrano@deltain.it> wrote:
> Ok, but can you explain where gtwvg not follow this route
> I have read only about platform problem in precedent post
>
>
> 2009/3/26 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Gtxwc is the pair of gtwvt. Both plat spec, both core & compatible
>> with each other. I'm not "fire" at anyone in any personal sense, but a
>> release is unlikely with current approach.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From toninhofwi at yahoo.com.br  Thu Mar 26 14:20:46 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Mar 26 14:19:48 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <20090326173023.GA10998@uran.home.aster.pl>
References: <18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>
	<49CA7F4B.2020103@fsgiudice.com> <49CAAD6B.2000707@fsgiudice.com>
	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>
	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
	<20090326173023.GA10998@uran.home.aster.pl>
Message-ID: <lqhns49aabe3blm5rvjphoavq26pfft7it@4ax.com>

>New implementation does not generate RT error but simply returns NIL.
>It's not longer necessary to use BEGIN SEQUENCE / END (BTW WITH {|e|break}
>is missing) or TRY/CATCH.

Thank you Przemek.

Best regards,

Toninho.



		
_______________________________________________________ 
Yahoo! Mail - Sempre a melhor opo para voc! 
Experimente j e veja as novidades. 
http://br.yahoo.com/mailbeta/tudonovo/
 

From druzus at acn.waw.pl  Thu Mar 26 14:34:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 26 14:27:50 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>
References: <18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
	<49CADD7D.80203@philb.us>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>
	<18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>
	<609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>
Message-ID: <20090326183427.GA12553@uran.home.aster.pl>

On Thu, 26 Mar 2009, Massimo Belgrano wrote:

Hi,

> gtxwc have one platform supported (linux)
> (so imo is related to this topics)
> If the rule for exist is related to number of platform supported
> gtwvg and gtxwc must be is same (irregolar) situation

GTXWC is supported by Linux, HPUX, SunOS, BSD, MacOSX and probably
many other systems with XWindow support. I haven't tried but it
should be possible to port it even to DOS or Windows. For sure it
can be used in DOS or Windows if you install some XServer port.
GTWVT/GTWVG is supported only by Windows.

The question about external dependencies is not trivial.
F.e. each MS-Windows application needs external DLLs and in
parctice it's not possible to create fully static executables
for this system which will not use any external DLLs.
Fortunately most of these DLLs comes with windows or with some
other programs so it's not a big problem for final users until
some conflicts will not appear.
But so far I haven't seen that any of Windows developers here
tried to document dependencies created by different Windows C
compilers. I only heard few times that binaries created by compiler
XYZ do not work with some older version ZXY Windows version but
without any precise information which DLLs were missing or which
functionality was missing in the existing libraries on destination
host and which DLLs should be upgraded.
Just simply Windows developers accepted that some libraries
comes with system and if not or they are in too old version
then it's user problem.
In other OSes situation is similar.
In *nixes things like c, math, z, rt, dl, socket, curses libraries
are used and installed in 99% of systems. But not in all. F.e. in
the past for my own use I had some customized Linux installation
without any shared libraries.

best regards,
Przemek
From info at fsgiudice.com  Thu Mar 26 14:49:41 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Mar 26 14:49:50 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <67ans4peuuevd1spag04u4vjgem32hdtkf@4ax.com>
References: <18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>	<49CA7F4B.2020103@fsgiudice.com>	<49CAAD6B.2000707@fsgiudice.com>	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>	<49CB7D98.2090004@fsgiudice.com>
	<67ans4peuuevd1spag04u4vjgem32hdtkf@4ax.com>
Message-ID: <49CBCE45.1060804@fsgiudice.com>

Hi Toninho,

Il 26/03/2009 17.12, Toninho@fwi ha scritto:
> Hi Francesco.
> 
>> do you use MSVC ? If yes, do you have tested same code after removing 
>> -TP flag in config/msvc.cf and rebuild entire SVN ?
> 
> No, I?m using BCC 6.10.  New OLE seems work fine, except that
> GetActiveObject() is not working, as I posted in my last sample.
> 
Sorry I missed you are talking of hbole and not of hbwin.

Best regards,
Francesco
From harbour.01 at syenar.hu  Thu Mar 26 15:05:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 15:05:07 2009
Subject: [Harbour] Re: Embedding 3rd party projects
In-Reply-To: <20090326183427.GA12553@uran.home.aster.pl>
References: <18d502870903250052n7e87913bn8bb963639a1e2980@mail.gmail.com>
	<18d502870903260359k6afe265ewa45268e44a4ca682@mail.gmail.com>
	<609353e70903260421r4c4386e6p6f34a9badf87dcd8@mail.gmail.com>
	<18d502870903260452m627600aq17c7e9fa2997a44a@mail.gmail.com>
	<gqg79b$u9c$1@ger.gmane.org>
	<18d502870903260920s4424cf25v5bbcb50ca5a93e05@mail.gmail.com>
	<609353e70903260948t722f7376hde214c5a265df0e7@mail.gmail.com>
	<18d502870903260956t7e7149f2jff1c5beaeedbef8e@mail.gmail.com>
	<609353e70903261021u25004a6ajf4d2244d7c88e210@mail.gmail.com>
	<20090326183427.GA12553@uran.home.aster.pl>
Message-ID: <18d502870903261205g46dc1f93g88c1ba2a6e27adbc@mail.gmail.com>

>
> But so far I haven't seen that any of Windows developers here
> tried to document dependencies created by different Windows C
> compilers. I only heard few times that binaries created by compiler
> XYZ do not work with some older version ZXY Windows version but
> without any precise information which DLLs were missing or which
> functionality was missing in the existing libraries on destination
> host and which DLLs should be upgraded.
> Just simply Windows developers accepted that some libraries
> comes with system and if not or they are in too old version
> then it's user problem.


It's quite an important question if someone wants to avoid
requiring the installation (and testing) of various "redist"
kits along with the Harbour executable. F.e. MinGW needs
msvcrt.dll, but I have no idea with which OS versions this .dll
is present (above Win98 seems a safe estimate), "sometimes"
it also needs mingwm10.dll. Cygwin .exes need cygwin1.dll
and potentionally others. Depending on MSVC link settings
(-M? switches) and MSVS version, it can require several kinds
of .dlls, some of these not available on Windows by default.
Harbour default is to not require any external .dlls. 3rd party
.dlls may also require all combination of above dlls (depending
on how they were built and with which compiler), so they also
need to be evaluated. If you want to create static libs, it has
to be ensured that all of them gets built with similar -M
settings, otherwise there will be a mess at link time. Usually
MSVC seems to be way more messy here than MinGW.

I'd also be happy to read some definitive guide on the above
topic, because I don't know more about it than it's absolutely required,
and my general approach is to avoid any kind of external
dependencies except well-known Windows system .dlls.

depends.exe can be used to inspect the dependency tree.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/38c870a1/attachment.html
From druzus at users.sourceforge.net  Thu Mar 26 15:47:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 26 15:47:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10702] trunk/harbour
Message-ID: <E1LmvYB-0007WZ-S1@3kljzd1.ch3.sourceforge.com>

Revision: 10702
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10702&view=rev
Author:   druzus
Date:     2009-03-26 19:47:39 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-26 20:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbole/olecore.c
    ! added some very basic protection against possible GPF if wrong
      parameters are passed to some OLE*() functions
    + added timestamp support
    * minor formatting and some cleanups in casting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbole/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Mar 26 16:11:07 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Mar 26 16:04:30 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CA346E.7080409@dbtopas.lt>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
Message-ID: <20090326201107.GA14874@uran.home.aster.pl>

On Wed, 25 Mar 2009, Mindaugas Kavaliauskas wrote:

Hi,

> one of missing features is parameters passed by reference. Iterators is not 
> implemented also, but I do not know if it is implemented in current win_ole 
> code.

Current code is very short and simple. At least I understand it so far ;-)
Thank you very much.

I just look at it and here are points I noticed:

1. Empty date in hbwin TOLEAUTO is send as VT_NULL. Should we replicate it?
2. HB_IT_POINTER support. Should we add it?
3. Array support. Should we add it?
4. OLECREATEOBJECT() and OLEGETACTIVEOBJECT() return simple pointer item.
   Maybe we should change it to GC pointer item. In such case we can
   eliminate destructor from HB_OLEAUTO class. OLERELEASE() will also
   not be longer necessary though we can leave it to force releasing
   OLE objects even if some other references still exists.
5. The hbwin TOLEAUTO class supports iteration by FOR EACH loop.
   Should we add it too?
6. Should we add passing parameters by reference?
7. The exit code should be fixed to avoid problems executing destructors
   after hb_ole_exit().
8. s_lOleError should be thread local to make it MT safe.

Please remember that I do not know OLE and I cannot say if we can safely
add some functionality or not.
But I can implement few points from above list or at least help in their
implementation.

best regards,
Przemek
From vskarm at otenet.gr  Thu Mar 26 16:44:23 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Thu Mar 26 16:44:27 2009
Subject: [Harbour] A little help with hbqt demoqt
Message-ID: <22730759.post@talk.nabble.com>


Hi,

My os is archlinux 64bit., desktop is KDE 4.2.1

Finally i got hbqt lib after some changes:

commented the line //#if QT_VERSION >= 0x040500  and //#endif at files

hbqt_qabstractbutton.cpp 
hbqt_qabstractitemview.cpp

Also at hbqt_qabstractitemview.cpp i changed the include line to 

<QtGui/QAbstractItemView>


Using the following command i got the test program compiled and linked:

[vagskarm@vsarch tests]$ ~/harbour/bin/hbmk2 demoqt.prg -L/usr/lib -lhbqt
-lQtCore -lQtGui
hbmk: Processing configuration: /home/vagskarm/harbour/bin/hbmk.cfg
Harbour 1.1.0dev (Rev. 10687)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 70, Functions/Procedures 1
Generating C source output to 'demoqt.c'... Done.

But when i try to run it i am getting:

[vagskarm@vsarch tests]$ ./demoqt
Xlib:  extension "Generic Event Extension" missing on display ":0.0".
Xlib:  extension "Generic Event Extension" missing on display ":0.0".
Xlib:  extension "Generic Event Extension" missing on display ":0.0".

Unrecoverable error 6005: Exception SIGSEGV at address 0x21
Called from QT_QWIDGET_SETWINDOWTITLE(0)
Called from MAIN(63) in demoqt.prg

Am i missing something ?

Best regards
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22730759.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar 26 16:57:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 26 16:57:21 2009
Subject: [Harbour] GTWVG - Removal from SVN
Message-ID: <22730993.post@talk.nabble.com>


Hello Everybody

Back from a vacation...

I read all messages piled so large and have 
come-up one significant note that GTWVG has been 
scheduled to be REMOVED from Harbour repository 
after 4 years of its presence here and about 7 years
presence on xHarbour.

The reasons put forth can be presented as such:

1) It is a highly win specific lib with no counterparts on other 
platforms. Your prg code will be win only. 

It was known from the DAY ONE. 
How funny it is to conclude that it had a relevance THEN and
is irrelevant NOW...

2) Plus it's x86 specific

This is one part I am not conversant with. Probably it is 
ActiveX Events Management code which draws this specific attenstion.
Even if it is x86, what does it stops to be usable,
x86 has many more years of life span I believe.

3) was never successfully tested on ce

This statement is valid for few weeks before, not now. 
If used as pure consol it is not different then GTWVT in any 
manner. I just commented out code which was not compiling
for WinCE. Now it compiles fine, so ...

4) x64

This is something a future. And am confident that the way 
we are moving, it will not be difficult to port a little code,
probably wvgcallb.c, to that platform or we can always drop Active-X
for x64 builds just guarding this .c with a define.

5) unicode

I suppose it has not been tried recently. I always compile it with
UNICODE and it is working flawless without even a single memleak or so.

6) uses internals, non ansi c code, 

Th is one area I am not conversant with. Just point out what
this code is and I am eagerly willing to fix it.

7) breaks core and other contrib namespaces

This is totally a misleading statement. Where does it collides 
with other libs ? And it is not something which becomes a 
potent cause of its abolishan.

8) has redundant winapi parts, code non portable between c compilers. 

Again a non-sense statement. Sorry if I am rude. I already gave
my node that it will be transferred to hbwin.lib as and when time 
will permit. 

9) Group is spending huge amount of time on just to create clean builds,
with 
minimal hope the large codebase will ever be clean enough for a piece 
of mind and future releases. 

This is all about an Open-source. You contribute sonmething 
with a hope that others will enhance it. It is the bottom line.
I am sorry if this lib pushed someone a little bit more...
But one always have options to divert his/her efforts to 
whatever he likes.

Why there is a minimal hope? If a lib is consistently maintained and 
is in production, this itself is a HOPE.

10) Since there is seldom any bug reports, it is suspected to have 
a large amount of active users. 

Do some code have to be buggy to be recognized as CORRECT?
If no user reports any bug does it implies that there are no users.
For that matter how many users speak on this group? Max 10-15.

For whom who are not aware I testify that GTWVG is in production 
for over 250+ installations with MT and multi-windows, without even
a single GPF and memleak, with UNICODE enabled , with semi GUI modal,
with pure GUI modal ( Xbase++ implementation ). What elese is required
it to be a success.

11) We should focus on QT. We certainly cannot focus on both.

True. But untill something usable comes up in QT, on which front 
I have made some progress, we have to stay with GTWVG. Also GTWVG is
needed as references for QT port.

12) The code does not compiles with many win compilers.

It compiles ( and runs ) fine with : 
BCC55   
BCC58   
MSVC 2008 
WATCOM   
PELLESC  
MINGW
What other compilers this statement refers to?


>From the whole input I could conclude that the matter 
more ferefs to x64 builds than x86 ones. If true, I suppose 
we can live with x86 for some more time and jump to 
x64 excluding GTWVG from default builds.


I need groups viewpoint if it is valid to REMOVE GTWVG from SVN 
or to keep it. I am feeling a bit dejected as well and wish to have 
a clear verdict. It will be helpful for me to concentrate on some 
other corners of my life if it happens so.

Regards
Pritpal Bedi





-- 
View this message in context: http://www.nabble.com/GTWVG---Removal-from-SVN-tp22730993p22730993.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Mar 26 17:02:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Mar 26 17:02:18 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22730759.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com>
Message-ID: <22731076.post@talk.nabble.com>


Hi 


Vagelis Skarmaliorakis wrote:
> 
> My os is archlinux 64bit., desktop is KDE 4.2.1
> 
> Finally i got hbqt lib after some changes:
> 
> commented the line //#if QT_VERSION >= 0x040500  and //#endif at files
> 

I guess that you are not having QT 4.5 installed on your machine.
This code is targegging only QT 4.5 so earlier versions may report 
various errors.

Just download QT 4.5 and rebuild then post your findings.

The group will appreciate any participation on this project.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22731076.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Mar 26 17:02:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 26 17:02:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10703] trunk/harbour
Message-ID: <E1Lmwip-0007f3-9h@c3vjzd1.ch3.sourceforge.com>

Revision: 10703
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10703&view=rev
Author:   vszakats
Date:     2009-03-26 21:02:42 +0000 (Thu, 26 Mar 2009)

Log Message:
-----------
2009-03-26 22:01 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbodbc/tests/odbcdemo.prg
  * contrib/hbodbc/tests/testodbc.prg
  * contrib/hbodbc/todbc.prg
  * contrib/hbodbc/odbc.c
  * contrib/hbodbc/Makefile
    + Platform protection moved to Makefile level.
    + Lots of type cleanups to use SQL types rather than Windows types.
    + Lots of type cleanups to use large integers where needed.
    * Synced Harbour integers API calls with SQL integer sizes.
    + Cleaned __DMC__ hacks.
    ! Fixed to compile with ODBCVER == 0x0100 and ODBCVER == 0x0200.
    * Update Harbour level function names as follows. Old names are
      still available, you can disabled them by defining HB_ODBC_LEGACY_LEVEL_OFF macro:
      SQLALLOCEN          => SQLALLOCENV
      SQLALLOCCO          => SQLALLOCCONNECT
      SQLDRIVERC          => SQLDRIVERCONNECT
      SQLDISCONN          => SQLDISCONNECT
      SQLFREECON          => SQLFREECONNECT
      SQLALLOCST          => SQLALLOCSTMT
      SQLFREESTM          => SQLFREESTMT
      SQLEXECDIR          => SQLEXECDIRECT
      SQLNUMRES           => SQLNUMRESULTCOLS
      SQLDESCRIB          => SQLDESCRIBECOL
      SQLEXTENDE          => SQLEXTENDEDFETCH
      SQLFETCHSC          => SQLFETCHSCROLL
      SQLROWCOUN          => SQLROWCOUNT
      SQLSETCONNECTOPTION => SQLSETCONNECTATTR
      SQLSETSTMTOPTION    => SQLSETSTMTATTR
      SQLGETCONNECTOPTION => SQLGETCONNECTATTR
      SQLGETSTMTOPTION    => SQLGETSTMTATTR

  * contrib/hbmysql/mysql.c
    % Replaced Windows headers with winsock2.h which seems to
      be required by mysql headers.

  * contrib/hbfbird/firebird.c
  * contrib/rddsql/sqlmix.c
  * contrib/hbssl/sslrand.c
    % Removed Windows headers.

  * contrib/gtwvg/gtwvg.h
  * contrib/gtwvg/wvggui.h
    + Readded ugly workaround for mingw64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/hbfbird/firebird.c
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbodbc/tests/odbcdemo.prg
    trunk/harbour/contrib/hbodbc/tests/testodbc.prg
    trunk/harbour/contrib/hbodbc/todbc.prg
    trunk/harbour/contrib/hbssl/sslrand.c
    trunk/harbour/contrib/rddsql/sqlmix.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vskarm at otenet.gr  Thu Mar 26 17:09:18 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Thu Mar 26 17:09:23 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22731076.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
Message-ID: <22731184.post@talk.nabble.com>




Pritpal Bedi wrote:
> 
> Hi 
> 
> 
> Vagelis Skarmaliorakis wrote:
>> 
>> My os is archlinux 64bit., desktop is KDE 4.2.1
>> 
>> Finally i got hbqt lib after some changes:
>> 
>> commented the line //#if QT_VERSION >= 0x040500  and //#endif at files
>> 
> 
> I guess that you are not having QT 4.5 installed on your machine.
> This code is targegging only QT 4.5 so earlier versions may report 
> various errors.
> 
> Just download QT 4.5 and rebuild then post your findings.
> 
> The group will appreciate any participation on this project.
> 
> Regards
> Pritpal Bedi
> 
> 

Hi,

I have QT 4.5 installed

I am doing full upgrade every two days, so i always have the latest packages
for my distro

Regards
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22731184.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Mar 26 17:33:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Mar 26 17:33:18 2009
Subject: [Harbour] GTWVG - Removal from SVN
In-Reply-To: <22730993.post@talk.nabble.com>
References: <22730993.post@talk.nabble.com>
Message-ID: <18d502870903261433y7e1d80ddya08f77a086e8ec07@mail.gmail.com>

Hi Pritpal,

No, it's not scheduled for removal, but I'm in permanent and serious trouble
because of GTWVG code and it essentially makes every build testing
take much longer as it would normally take due to
the tons of problems it generates, I haven't enough
resources to clean it up myself, and I don't see these
are being addressed by anyone else.

By current state of things I see no change that the
code will ever comply to most of our guidelines
which is there to assure some sort of quality and
expectations regarding whole Harbour.

GTWVG started as a simple GT, but in the last
few months it became a behemoth lib with several
different features and as far as I can see it, it's not
possible to maintain it easily anymore, and as these
new features got implemented into it, more and more
Harbour rules have been broken. I used to signal
every one of these with details, but I understand
resolving them is either too huge task to ever happen,
or against some compatibility concerns regarding
your own local codebase, and/or you as an author are
uninterested in doing appreciating these issue.

I wouldn't tell all these if my experiences would have
been smooth, and nobody can accuse me of not
trying, since I've spent a significant amount of time
testing, fixing, reporting these problems for a long time.

We need to do something about it, please propose
something, because I'm out of ideas.

1) It is a highly win specific lib with no counterparts on other
> platforms. Your prg code will be win only.
>
> It was known from the DAY ONE.
> How funny it is to conclude that it had a relevance THEN and
> is irrelevant NOW...


Group seems to think that it's better to comply with
original Harbour rules and try to be portable as a whole.
I agree with that.


> 2) Plus it's x86 specific
>
> This is one part I am not conversant with. Probably it is
> ActiveX Events Management code which draws this specific attenstion.
> Even if it is x86, what does it stops to be usable,
> x86 has many more years of life span I believe.


Yes it is as I've reported it many times. I see no change
for this to be ever fixed, but of course I would be very happy
to see it happen anyway. Machine code stored as a byte
array isn't very welcome in Harbour, and it was good to say
goodbye to it, when Przemek rewrote runner.c.

3) was never successfully tested on ce
>
> This statement is valid for few weeks before, not now.
> If used as pure consol it is not different then GTWVT in any
> manner. I just commented out code which was not compiling
> for WinCE. Now it compiles fine, so ...


I was talking about working fine, not compiling fine. Notice
however that we have 3 different compilers targeting WinCE,
and regular testing of that amount of code has a huge impact.
I wonder who tested all three recently.


> 4) x64
>
> This is something a future. And am confident that the way
> we are moving, it will not be difficult to port a little code,
> probably wvgcallb.c, to that platform or we can always drop Active-X
> for x64 builds just guarding this .c with a define.


It's a permanent struggle, with lots and lots of patches
needed, at least that's the experience with much simpler
and smaller code parts. And it doesn't work on x64, it's
not only ActiveX as our last tests has shown.


> 6) uses internals, non ansi c code,
>
> Th is one area I am not conversant with. Just point out what
> this code is and I am eagerly willing to fix it.


To begin with: comments, then wvgsink.c + wincallb.c direct
access to internal HVM structures.

7) breaks core and other contrib namespaces
>
> This is totally a misleading statement. Where does it collides
> with other libs ? And it is not something which becomes a
> potent cause of its abolishan.


WVT*, WIN*. No, it's just a rule we try to follow to keep
things under control, and to not have to refix things and
wasting time with issues which shouldn't have happened
in the first place.


> 8) has redundant winapi parts, code non portable between c compilers.
>
> Again a non-sense statement. Sorry if I am rude. I already gave
> my node that it will be transferred to hbwin.lib as and when time
> will permit.


You've added a very specific and generally not very useful winapi
part to hbwin, making that lib also prone to all Windows API
portability problems. I've spend hours fixing it. We've discussed
a completely different thing AFAIR. All the rest stayed in gtwvt.


> Why there is a minimal hope? If a lib is consistently maintained and
> is in production, this itself is a HOPE.


If you don't mind we won't have a release because of GTWVG
for the next 5 years until someone comes a cleans these
issue up, it's okay with me too. I personally don't need a release
BTW, but it would be important for the project.


> For whom who are not aware I testify that GTWVG is in production
> for over 250+ installations with MT and multi-windows, without even
> a single GPF and memleak, with UNICODE enabled , with semi GUI modal,
> with pure GUI modal ( Xbase++ implementation ). What elese is required
> it to be a success.


Good news, but that still doesn't clear up actual issues and
you're probably talking about your own users. In Harbour we
need to focus on the benefit for whole Harbour user base.


> 11) We should focus on QT. We certainly cannot focus on both.
>
> True. But untill something usable comes up in QT, on which front
> I have made some progress, we have to stay with GTWVG. Also GTWVG is
> needed as references for QT port.


Xbase++ classes are needed as a reference AFAICS.


> 12) The code does not compiles with many win compilers.
>
> It compiles ( and runs ) fine with :
> BCC55
> BCC58
> MSVC 2008
> WATCOM
> PELLESC
> MINGW
> What other compilers this statement refers to?


Please check our supported compiler list in config/win.


> I need groups viewpoint if it is valid to REMOVE GTWVG from SVN
> or to keep it. I am feeling a bit dejected as well and wish to have
> a clear verdict. It will be helpful for me to concentrate on some
> other corners of my life if it happens so.


With all due respect: not to keep from me.

It's nothing against your person or your work, I just feel
this contribution would have a much better life as a separate
entity due its size, focuses, and other misc properties I've
repeated already too many times.

We should focus here on multiplatform things.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090326/99aeb7b9/attachment.html
From rodrmigu at gmail.com  Thu Mar 26 18:09:49 2009
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Thu Mar 26 18:09:54 2009
Subject: [Harbour] Re: GTWVG - Removal from SVN
Message-ID: <80b05d460903261509o39b8b82fw6371a87cbfec64d3@mail.gmail.com>

All,

As the end user, I just use a couple of contrib libs, so why we need
to worry about it? Why we just leave the contrib's away of the
official build? I think most of the harbour users are capable to build
them selves any contrib by just using the make files provided by the
author... For those that need to be incorporated into the Harbour
core, just bring them to harbour core...

I don't know if that so easy as I thought, but let's make the things easier...

Regards,
Rodrigo M. Miguel
From dbtopas at dbtopas.lt  Thu Mar 26 19:02:28 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Mar 26 19:04:10 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <20090326173023.GA10998@uran.home.aster.pl>
References: <49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>	<49CA7F4B.2020103@fsgiudice.com>
	<49CAAD6B.2000707@fsgiudice.com>	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
	<20090326173023.GA10998@uran.home.aster.pl>
Message-ID: <49CC0984.607@dbtopas.lt>

>> procedure testolenew()
>>    local oWord, oText
>>    begin sequence
>>       oWord = GetActiveObject( "Word.Application" )
>>    recover
>>       begin sequence
>>          oWord = CreateObject( "Word.Application" )
>>       recover
>>          alert( "ERROR! Word not avialable." )

>    oWord = GetActiveObject( "Word.Application" )
>    if oWord == NIL
>       oWord = CreateObject( "Word.Application" )
>       if oWord == NIL

Hi,


sorry Toninho, I've missed your mail with a problem. Przemek was right 
about OLE object creation code.
Yes, I know I've implemented it in a incompatible way, but missing of 
some OLE server depends on installed software and is a normal situation. 
I found code:

   IF (oWord := GetActiveObject("Word.Application")) == NIL
     IF (oWord := CreateObject("Word.Application")) == NIL
       ? "Unable to create Word OLE object"
       RETURN .F.
     ENDIF
   ENDIF

much more elegant than all that begin/end sequences.

I see more messages about my OLE code: yes, s_oleerror should be made 
thread local, etc, etc. But I'm unable to fix it now and I'll be absent 
for 3 days. Thanks for cooperation, and sorry for not full/final ole code.


Regards,
Mindaugas




From vszakats at users.sourceforge.net  Thu Mar 26 20:55:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Mar 26 20:55:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10704] trunk/harbour
Message-ID: <E1Ln0MT-0005FI-Ue@c3vjzd1.ch3.sourceforge.com>

Revision: 10704
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10704&view=rev
Author:   vszakats
Date:     2009-03-27 00:55:52 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 01:52 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
  * contrib/hbole/tests/hbole.hbp
  * contrib/gtwvg/tests/gtwvg.hbp
  * contrib/hbwin/tests/hbwin.hbp
  - utils/hbmk2/examples/winapi.hbp
    + Added all important Windows system libs to all
      win compilers in hbmk2.
    - Removed above libs from .hbp files.

  * contrib/hbodbc/todbc.prg
  * contrib/hbodbc/browodbc.prg
  * contrib/hbodbc/odbc.c
    * Further cleanups.
      SETNUMLEN() -> SQLNUMSETLEN(). This should probably be a core
      function by the name HB_NUMSETLEN().

  * contrib/hbole/tests/testole.prg
  * contrib/hbole/tests/sample.odt
    + Updated to latest hbole code.
    ; TOFIX: hbole code doesn't compile with MSVC in default C++
             even if #define CINTERFACE 1 is enabled.
    ; TOFIX: OpenOffice example fails at some point. It probably
             needs array support.

  * contrib/hbole/olecore.c
    * Minor formatting.

  * contrib/hbqt/hbqt_qabstractitemview.cpp
    ! Fixed backslash to forward slash.

  * contrib/hbct/tests/ctwtest.prg
  * contrib/hbnf/dispmsg.prg
  * contrib/hbnf/pegs.prg
  * contrib/hbnf/tbwhile.prg
  * contrib/hbnf/calendar.prg
  * contrib/gtwvg/tests/demowvg.prg
  * contrib/examples/terminal/trm_server.prg
  * contrib/examples/terminal/trm_client.prg
    ! Using manifest constants.

  * contrib/hbmysql/mysql.c
  * contrib/hbodbc/odbc.c
    * Minor cleanup.

  * contrib/hbodbc/tests/odbcdemo.prg
  * contrib/hbodbc/tests/odbccall.prg
  * contrib/hbodbc/tests/testodbc.prg
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/terminal/trm_client.prg
    trunk/harbour/contrib/examples/terminal/trm_server.prg
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/tests/gtwvg.hbp
    trunk/harbour/contrib/hbct/tests/ctwtest.prg
    trunk/harbour/contrib/hbmysql/mysql.c
    trunk/harbour/contrib/hbnf/calendar.prg
    trunk/harbour/contrib/hbnf/dispmsg.prg
    trunk/harbour/contrib/hbnf/pegs.prg
    trunk/harbour/contrib/hbnf/tbwhile.prg
    trunk/harbour/contrib/hbodbc/browodbc.prg
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbodbc/tests/odbccall.prg
    trunk/harbour/contrib/hbodbc/tests/odbcdemo.prg
    trunk/harbour/contrib/hbodbc/tests/testodbc.prg
    trunk/harbour/contrib/hbodbc/todbc.prg
    trunk/harbour/contrib/hbole/olecore.c
    trunk/harbour/contrib/hbole/tests/hbole.hbp
    trunk/harbour/contrib/hbole/tests/sample.odt
    trunk/harbour/contrib/hbole/tests/testole.prg
    trunk/harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
    trunk/harbour/contrib/hbwin/tests/hbwin.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/utils/hbmk2/examples/winapi.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Mar 26 21:03:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Mar 26 21:03:37 2009
Subject: [Harbour] GTWVG - Removal from SVN
In-Reply-To: <22730993.post@talk.nabble.com>
References: <22730993.post@talk.nabble.com>
Message-ID: <609353e70903261803l68cb6cq520c91649f6b87cb@mail.gmail.com>

Imo is not valid to remove
gtwvg must remain because is part of harbourt history, also Przemyslaw
have made nice word about gtwvg and his sample
Probably in past day Viktor search cooperation and not informed about
your vacation ....think bad...



2009/3/26 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> I need groups viewpoint if it is valid to REMOVE GTWVG from SVN
> or to keep it. I am feeling a bit dejected as well and wish to have
> a clear verdict. It will be helpful for me to concentrate on some
> other corners of my life if it happens so.
-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Thu Mar 26 21:46:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Mar 26 21:46:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10705] trunk/harbour
Message-ID: <E1Ln19Z-0008GJ-8K@3kljzd1.ch3.sourceforge.com>

Revision: 10705
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10705&view=rev
Author:   druzus
Date:     2009-03-27 01:46:36 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 02:53 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    * redirect output to file using SET ALTERNATE ... instead of stdout()

  * harbour/contrib/hbole/olecore.c
    * updated to compile with C and C++ OLE interface.
      Please make some tests with different compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbole/olecore.c
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Fri Mar 27 04:15:05 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Mar 27 04:15:14 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <20090326201107.GA14874@uran.home.aster.pl>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>
	<20090326201107.GA14874@uran.home.aster.pl>
Message-ID: <49CC8B09.8040403@mweb.co.za>

Przemyslaw Czerpak wrote:
> Current code is very short and simple. At least I understand it so far ;-)
> Thank you very much.
>
> I just look at it and here are points I noticed:
>   
I have not looked at the new code. Is it possible to have strings with 
embedded null characters? It was not possible in the original version.

Regards
Alex

From harbour.01 at syenar.hu  Fri Mar 27 04:26:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 04:26:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10705] trunk/harbour
In-Reply-To: <E1Ln19Z-0008GJ-8K@3kljzd1.ch3.sourceforge.com>
References: <E1Ln19Z-0008GJ-8K@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903270126n6cbef2c6ud2c8e6bb99c85c70@mail.gmail.com>

Hi,
It compiles and works fine here with MSVC in default C++ mode,
and also in plain C mode. Thanks a lot.

Brgds,
Viktor

On Fri, Mar 27, 2009 at 2:46 AM, <druzus@users.sourceforge.net> wrote:

> Revision: 10705
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10705&view=rev
> Author:   druzus
> Date:     2009-03-27 01:46:36 +0000 (Fri, 27 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-27 02:53 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/tests/speedtst.prg
>    * redirect output to file using SET ALTERNATE ... instead of stdout()
>
>  * harbour/contrib/hbole/olecore.c
>    * updated to compile with C and C++ OLE interface.
>      Please make some tests with different compilers.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbole/olecore.c
>    trunk/harbour/tests/speedtst.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/c76ef8c9/attachment.html
From vskarm at otenet.gr  Fri Mar 27 04:39:34 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 04:39:39 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22731184.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com>
Message-ID: <22737762.post@talk.nabble.com>


Hi a small update,

I made some tests at win xp:

It was not possible to compile the demoqt using hbmk2, so i tryed build.bat
from Marcos with some modifications:


"del log.txt

set HARBOURDIR=c:\harbour

:: prg -> c
%HARBOURDIR%\bin\harbour.exe -n -w -I..\include -I%HARBOURDIR%/include
%1.prg >> log.txt

:: c -> o
g++ -c -O2 -frtti -fexceptions -mthreads -Wall -mwindows -mno-cygwin
-DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_GUI_LIB
-DQT_CORE_LIB -DQT_THREAD_SUPPORT -I%QTDIR%\include\QtCore
-I%QTDIR%\include\QtGui -I%QTDIR%\include -I%QTDIR%\include\ActiveQt -I.
-I%QTDIR%\mkspecs\win32-g++ -I%HARBOURDIR%\include -o %1.o %1.c >> log.txt

:: o -> exe
g++ -enable-stdcall-fixup -Wl,-enable-auto-import
-Wl,-enable-runtime-pseudo-reloc -Wl,-s -mthreads -Wl -Wl,-subsystem,windows
-mwindows -mno-cygwin -o %1.exe %1.o -L..\lib -L%HARBOURDIR%\lib
-Lc:\qt\qt\lib -Wl,--start-group -lhbqt -lmingw32 -lQtGui4 -lQtCore4
-lQtWebKit4 -lhbdebug -lhbvm -lhbrtl -lhbrdd -lhbmacro -lhbpp -lhblang
-lhbcpage -lhbcommon -lrddntx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lgtwin
-lgtgui -Wl,--end-group >> log.txt
"

This way demoqt was created succesfully.

I was able to run it using the dll's from c:\qt\qt\bin and not c:\qt\bin,
please notice this. (my installation directory was c:\qt). So be carefull
what dir you will add to the path.

I will try this evening the same approach at my archlinux 64 at home and
will give you the resuts.

Regards
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22737762.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 27 04:44:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 04:44:08 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22737762.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
Message-ID: <18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>

Hi Vagelis,
Thanks for your tests. Could you post your -trace output
and errors for hbmk2, so that I can see where and why it fails?

Brgds,
Viktor

On Fri, Mar 27, 2009 at 9:39 AM, Vagelis Skarmaliorakis <vskarm@otenet.gr>wrote:

>
> Hi a small update,
>
> I made some tests at win xp:
>
> It was not possible to compile the demoqt using hbmk2, so i tryed build.bat
> from Marcos with some modifications:
>
>
> "del log.txt
>
> set HARBOURDIR=c:\harbour
>
> :: prg -> c
> %HARBOURDIR%\bin\harbour.exe -n -w -I..\include -I%HARBOURDIR%/include
> %1.prg >> log.txt
>
> :: c -> o
> g++ -c -O2 -frtti -fexceptions -mthreads -Wall -mwindows -mno-cygwin
> -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_DLL -DQT_NO_DEBUG -DQT_GUI_LIB
> -DQT_CORE_LIB -DQT_THREAD_SUPPORT -I%QTDIR%\include\QtCore
> -I%QTDIR%\include\QtGui -I%QTDIR%\include -I%QTDIR%\include\ActiveQt -I.
> -I%QTDIR%\mkspecs\win32-g++ -I%HARBOURDIR%\include -o %1.o %1.c >> log.txt
>
> :: o -> exe
> g++ -enable-stdcall-fixup -Wl,-enable-auto-import
> -Wl,-enable-runtime-pseudo-reloc -Wl,-s -mthreads -Wl
> -Wl,-subsystem,windows
> -mwindows -mno-cygwin -o %1.exe %1.o -L..\lib -L%HARBOURDIR%\lib
> -Lc:\qt\qt\lib -Wl,--start-group -lhbqt -lmingw32 -lQtGui4 -lQtCore4
> -lQtWebKit4 -lhbdebug -lhbvm -lhbrtl -lhbrdd -lhbmacro -lhbpp -lhblang
> -lhbcpage -lhbcommon -lrddntx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lgtwin
> -lgtgui -Wl,--end-group >> log.txt
> "
>
> This way demoqt was created succesfully.
>
> I was able to run it using the dll's from c:\qt\qt\bin and not c:\qt\bin,
> please notice this. (my installation directory was c:\qt). So be carefull
> what dir you will add to the path.
>
> I will try this evening the same approach at my archlinux 64 at home and
> will give you the resuts.
>
> Regards
> Vagelis
> --
> View this message in context:
> http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22737762.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/193e358d/attachment-0001.html
From vskarm at otenet.gr  Fri Mar 27 05:13:46 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 05:13:49 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
	<18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
Message-ID: <22738122.post@talk.nabble.com>


Hi,

<<
C:\Downloads\harbour-win\harbour-project\trunk\harbour\contrib\hbqt\tests>hbmk2
demoqt -Lc:\qt\qt\lib -lhbqt -lQtCore4 -LQtGui -gtwin > test.txt
Harbour 1.1.0dev (Rev. -1)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 70, Functions/Procedures 1
Generating C source output to 'demoqt.c'... Done.
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x25)
: undefined reference to `_imp___ZN12QApplication4execEv'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x62)
: undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0xc2)
: undefined reference to `_imp___ZN12QApplication8setStyleERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x192
): undefined reference to `_imp___ZN12QApplication7aboutQtEv'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x1d2
): undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x222
): undefined reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x23c
): undefined reference to `_imp___ZN12QApplicationC1ERiPPci'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x30b
): undefined reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1e):
undefine
d reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x7b):
undefine
d reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x95):
undefine
d reference to `_imp___ZN7QWidgetC1EPS_6QFlagsIN2Qt10WindowTypeEE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xf5):
undefine
d reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x124):
undefin
ed reference to `_imp___ZNK7QWidget11acceptDropsEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x164):
undefin
ed reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1b4):
undefin
ed reference to `_imp___ZNK7QWidget21accessibleDescriptionEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x364):
undefin
ed reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3b4):
undefin
ed reference to `_imp___ZNK7QWidget14accessibleNameEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x554):
undefin
ed reference to `_imp___ZN7QWidget14activateWindowEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x587):
undefin
ed reference to `_imp___ZN7QWidget9addActionEP7QAction'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x5a4):
undefin
ed reference to `_imp___ZN7QWidget10adjustSizeEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x5c4):
undefin
ed reference to `_imp___ZNK7QWidget18autoFillBackgroundEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x5f4):
undefin
ed reference to `_imp___ZNK7QWidget14backgroundRoleEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x658):
undefin
ed reference to `_imp___ZNK7QWidget7childAtERK6QPoint'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x684):
undefin
ed reference to `_imp___ZN7QWidget10clearFocusEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x6a4):
undefin
ed reference to `_imp___ZN7QWidget9clearMaskEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x6c4):
undefin
ed reference to `_imp___ZNK7QWidget17contextMenuPolicyEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x6f4):
undefin
ed reference to `_imp___ZNK7QWidget14ensurePolishedEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x714):
undefin
ed reference to `_imp___ZNK7QWidget11focusPolicyEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x744):
undefin
ed reference to `_imp___ZNK7QWidget10focusProxyEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x774):
undefin
ed reference to `_imp___ZNK7QWidget11focusWidgetEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x7a4):
undefin
ed reference to `_imp___ZNK7QWidget14foregroundRoleEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x7d4):
undefin
ed reference to `_imp___ZN7QWidget12grabKeyboardEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x7f4):
undefin
ed reference to `_imp___ZN7QWidget9grabMouseEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x814):
undefin
ed reference to `_imp___ZNK7QWidget19graphicsProxyWidgetEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x844):
undefin
ed reference to `_imp___ZNK7QWidget8hasFocusEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x914):
undefin
ed reference to `_imp___ZN7QWidget12inputContextEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x970):
undefin
ed reference to `_imp___ZN7QWidget12insertActionEP7QActionS1_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x994):
undefin
ed reference to `_imp___ZNK7QWidget14isActiveWindowEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x9d7):
undefin
ed reference to `_imp___ZNK7QWidget12isAncestorOfEPKS_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xa47):
undefin
ed reference to `_imp___ZNK7QWidget11isEnabledToEPS_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xa74):
undefin
ed reference to `_imp___ZNK7QWidget12isFullScreenEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xad4):
undefin
ed reference to `_imp___ZNK7QWidget11isMaximizedEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xb04):
undefin
ed reference to `_imp___ZNK7QWidget11isMinimizedEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xba7):
undefin
ed reference to `_imp___ZNK7QWidget11isVisibleToEPS_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xbd4):
undefin
ed reference to `_imp___ZNK7QWidget16isWindowModifiedEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xc04):
undefin
ed reference to `_imp___ZNK7QWidget6layoutEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xc34):
undefin
ed reference to `_imp___ZNK7QWidget15layoutDirectionEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xc64):
undefin
ed reference to `_imp___ZNK7QWidget11maximumSizeEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xc94):
undefin
ed reference to `_imp___ZNK7QWidget11maximumSizeEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xcc4):
undefin
ed reference to `_imp___ZNK7QWidget11minimumSizeEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xcf4):
undefin
ed reference to `_imp___ZNK7QWidget11minimumSizeEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xd58):
undefin
ed reference to `_imp___ZN7QWidget4moveERK6QPoint'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xd84):
undefin
ed reference to `_imp___ZNK7QWidget18nativeParentWidgetEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xdb4):
undefin
ed reference to `_imp___ZNK7QWidget16nextInFocusChainEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xe44):
undefin
ed reference to `_imp___ZN7QWidget15releaseKeyboardEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xe64):
undefin
ed reference to `_imp___ZN7QWidget12releaseMouseEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xe97):
undefin
ed reference to `_imp___ZN7QWidget15releaseShortcutEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xec7):
undefin
ed reference to `_imp___ZN7QWidget12removeActionEP7QAction'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xf18):
undefin
ed reference to `_imp___ZN7QWidget6resizeERK5QSize'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xf70):
undefin
ed reference to `_imp___ZN7QWidget6scrollEii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xfac):
undefin
ed reference to `_imp___ZN7QWidget14setAcceptDropsEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xfc4):
undefin
ed reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1053):
undefi
ned reference to `_imp___ZN7QWidget24setAccessibleDescriptionERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1105):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1183):
undefi
ned reference to `_imp___ZN7QWidget17setAccessibleNameERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1266):
undefi
ned reference to `_imp___ZN7QWidget12setAttributeEN2Qt15WidgetAttributeEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x12ac):
undefi
ned reference to `_imp___ZN7QWidget21setAutoFillBackgroundEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x12e7):
undefi
ned reference to
`_imp___ZN7QWidget17setBackgroundRoleEN8QPalette9ColorRoleE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1330):
undefi
ned reference to `_imp___ZN7QWidget11setBaseSizeEii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x13ac):
undefi
ned reference to `_imp___ZN7QWidget18setContentsMarginsEiiii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x13f7):
undefi
ned reference to
`_imp___ZN7QWidget20setContextMenuPolicyEN2Qt17ContextMenuPolic
yE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1427):
undefi
ned reference to `_imp___ZN7QWidget14setFixedHeightEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1470):
undefi
ned reference to `_imp___ZN7QWidget12setFixedSizeEii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x14a7):
undefi
ned reference to `_imp___ZN7QWidget13setFixedWidthEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x14d7):
undefi
ned reference to `_imp___ZN7QWidget14setFocusPolicyEN2Qt11FocusPolicyE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1507):
undefi
ned reference to `_imp___ZN7QWidget13setFocusProxyEPS_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1537):
undefi
ned reference to
`_imp___ZN7QWidget17setForegroundRoleEN8QPalette9ColorRoleE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x15bc):
undefi
ned reference to `_imp___ZN7QWidget11setGeometryERK5QRect'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1607):
undefi
ned reference to `_imp___ZN7QWidget15setInputContextEP13QInputContext'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1637):
undefi
ned reference to `_imp___ZN7QWidget9setLayoutEP7QLayout'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1667):
undefi
ned reference to
`_imp___ZN7QWidget18setLayoutDirectionEN2Qt15LayoutDirectionE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1697):
undefi
ned reference to `_imp___ZN7QWidget16setMaximumHeightEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x16e0):
undefi
ned reference to `_imp___ZN7QWidget14setMaximumSizeEii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1717):
undefi
ned reference to `_imp___ZN7QWidget15setMaximumWidthEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1747):
undefi
ned reference to `_imp___ZN7QWidget16setMinimumHeightEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1790):
undefi
ned reference to `_imp___ZN7QWidget14setMinimumSizeEii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x17c7):
undefi
ned reference to `_imp___ZN7QWidget15setMinimumWidthEi'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1808):
undefi
ned reference to `_imp___ZN7QWidget12setAttributeEN2Qt15WidgetAttributeEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1847):
undefi
ned reference to `_imp___ZN7QWidget9setParentEPS_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1896):
undefi
ned reference to `_imp___ZN7QWidget21setShortcutAutoRepeatEib'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x18f6):
undefi
ned reference to `_imp___ZN7QWidget18setShortcutEnabledEib'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1950):
undefi
ned reference to `_imp___ZN7QWidget16setSizeIncrementEii'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x19a1):
undefi
ned reference to `_imp___ZN7QWidget13setSizePolicyE11QSizePolicy'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x19e2):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1a53):
undefi
ned reference to `_imp___ZN7QWidget12setStatusTipERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1b17):
undefi
ned reference to `_imp___ZN7QWidget8setStyleEP6QStyle'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1b42):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1bb3):
undefi
ned reference to `_imp___ZN7QWidget10setToolTipERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1c7c):
undefi
ned reference to `_imp___ZN7QWidget17setUpdatesEnabledEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1cb2):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1d23):
undefi
ned reference to `_imp___ZN7QWidget12setWhatsThisERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1de2):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1e53):
undefi
ned reference to `_imp___ZN7QWidget17setWindowFilePathERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1f1d):
undefi
ned reference to
`_imp___ZN7QWidget14setWindowFlagsE6QFlagsIN2Qt10WindowTypeEE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1f54):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1fc6):
undefi
ned reference to `_imp___ZN5QIconC1ERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1fee):
undefi
ned reference to `_imp___ZN7QWidget13setWindowIconERK5QIcon'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1ffd):
undefi
ned reference to `_imp___ZN5QIconD1Ev'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2076):
undefi
ned reference to `_imp___ZN5QIconD1Ev'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2102):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2173):
undefi
ned reference to `_imp___ZN7QWidget17setWindowIconTextERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2237):
undefi
ned reference to
`_imp___ZN7QWidget17setWindowModalityEN2Qt14WindowModalityE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2262):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x22d3):
undefi
ned reference to `_imp___ZN7QWidget13setWindowRoleERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x239d):
undefi
ned reference to
`_imp___ZN7QWidget14setWindowStateE6QFlagsIN2Qt11WindowStateEE'

c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x23d7):
undefi
ned reference to `_imp___ZN7QWidget16setWindowSurfaceEP14QWindowSurface'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2407):
undefi
ned reference to `_imp___ZN7QWidget10stackUnderEPS_'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2434):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2484):
undefi
ned reference to `_imp___ZNK7QWidget9statusTipEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2624):
undefi
ned reference to `_imp___ZNK7QWidget5styleEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2664):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x26b4):
undefi
ned reference to `_imp___ZNK7QWidget10styleSheetEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2891):
undefi
ned reference to
`_imp___ZNK7QWidget20testAttribute_helperEN2Qt15WidgetAttribute
E'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x28d4):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2924):
undefi
ned reference to `_imp___ZNK7QWidget7toolTipEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2af4):
undefi
ned reference to `_imp___ZN7QWidget11unsetCursorEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2b14):
undefi
ned reference to `_imp___ZN7QWidget20unsetLayoutDirectionEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2b34):
undefi
ned reference to `_imp___ZN7QWidget11unsetLocaleEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2bbc):
undefi
ned reference to `_imp___ZN7QWidget6updateERK5QRect'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2bf4):
undefi
ned reference to `_imp___ZN7QWidget14updateGeometryEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2c54):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2ca4):
undefi
ned reference to `_imp___ZNK7QWidget9whatsThisEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2e74):
undefi
ned reference to `_imp___ZNK7QWidget6windowEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2ea8):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x2f09):
undefi
ned reference to `_imp___ZNK7QWidget14windowFilePathEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x30e4):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3134):
undefi
ned reference to `_imp___ZNK7QWidget14windowIconTextEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x32d4):
undefi
ned reference to `_imp___ZNK7QWidget14windowModalityEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3314):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3364):
undefi
ned reference to `_imp___ZNK7QWidget10windowRoleEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x350d):
undefi
ned reference to `_imp___ZNK7QWidget11windowStateEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3544):
undefi
ned reference to `_imp___ZNK7QWidget13windowSurfaceEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3584):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x35d4):
undefi
ned reference to `_imp___ZNK7QWidget11windowTitleEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3774):
undefi
ned reference to `_imp___ZNK7QWidget1xEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x37a4):
undefi
ned reference to `_imp___ZNK7QWidget1yEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x37d4):
undefi
ned reference to `_imp___ZN7QWidget5closeEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3834):
undefi
ned reference to `_imp___ZN7QWidget5lowerEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3854):
undefi
ned reference to `_imp___ZN7QWidget5raiseEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3874):
undefi
ned reference to `_imp___ZN7QWidget7repaintEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x38ac):
undefi
ned reference to `_imp___ZN7QWidget11setDisabledEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x38ec):
undefi
ned reference to `_imp___ZN7QWidget10setEnabledEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x391d):
undefi
ned reference to `_imp___ZN7QWidget8setFocusEN2Qt11FocusReasonE'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3974):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3a03):
undefi
ned reference to `_imp___ZN7QWidget13setStyleSheetERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3b0c):
undefi
ned reference to `_imp___ZN7QWidget17setWindowModifiedEb'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3b35):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3bb3):
undefi
ned reference to `_imp___ZN7QWidget14setWindowTitleERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3c94):
undefi
ned reference to `_imp___ZN7QWidget14showFullScreenEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3cb4):
undefi
ned reference to `_imp___ZN7QWidget13showMaximizedEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3cd4):
undefi
ned reference to `_imp___ZN7QWidget13showMinimizedEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3cf4):
undefi
ned reference to `_imp___ZN7QWidget10showNormalEv'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x3d14):
undefi
ned reference to `_imp___ZN7QWidget6updateEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x1e):
undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x7b):
undefined reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x95):
undefined reference to
`_imp___ZN11QMainWindowC1EP7QWidget6QFlagsIN2Qt10WindowTy
peEE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xf5):
undefined reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x150):
 undefined reference to
`_imp___ZN11QMainWindow13addDockWidgetEN2Qt14DockWidgetA
reaEP11QDockWidget'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x1b6):
 undefined reference to
`_imp___ZN11QMainWindow13addDockWidgetEN2Qt14DockWidgetA
reaEP11QDockWidgetNS0_11OrientationE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x210):
 undefined reference to
`_imp___ZN11QMainWindow10addToolBarEN2Qt11ToolBarAreaEP8
QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x247):
 undefined reference to `_imp___ZN11QMainWindow10addToolBarEP8QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x272):
 undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x2e3):
 undefined reference to `_imp___ZN11QMainWindow10addToolBarERK7QString'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x3b7):
 undefined reference to
`_imp___ZN11QMainWindow15addToolBarBreakEN2Qt11ToolBarAr
eaE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x3d4):
 undefined reference to `_imp___ZNK11QMainWindow13centralWidgetEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x417):
 undefined reference to `_imp___ZNK11QMainWindow6cornerEN2Qt6CornerE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x47d):
 undefined reference to `_imp___ZNK11QMainWindow11dockOptionsEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x4c7):
 undefined reference to
`_imp___ZNK11QMainWindow14dockWidgetAreaEP11QDockWidget'

c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x4f4):
 undefined reference to `_imp___ZNK11QMainWindow12documentModeEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x550):
 undefined reference to
`_imp___ZN11QMainWindow13insertToolBarEP8QToolBarS1_'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x587):
 undefined reference to
`_imp___ZN11QMainWindow18insertToolBarBreakEP8QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x5a4):
 undefined reference to `_imp___ZNK11QMainWindow10isAnimatedEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x5d4):
 undefined reference to `_imp___ZNK11QMainWindow20isDockNestingEnabledEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x604):
 undefined reference to `_imp___ZNK11QMainWindow7menuBarEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x634):
 undefined reference to `_imp___ZNK11QMainWindow10menuWidgetEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x677):
 undefined reference to
`_imp___ZN11QMainWindow16removeDockWidgetEP11QDockWidget
'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x6a7):
 undefined reference to `_imp___ZN11QMainWindow13removeToolBarEP8QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x6d7):
 undefined reference to
`_imp___ZN11QMainWindow18removeToolBarBreakEP8QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x707):
 undefined reference to
`_imp___ZN11QMainWindow17restoreDockWidgetEP11QDockWidge
t'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x747):
 undefined reference to `_imp___ZN11QMainWindow16setCentralWidgetEP7QWidget'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x790):
 undefined reference to
`_imp___ZN11QMainWindow9setCornerEN2Qt6CornerENS0_14Dock
WidgetAreaE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x7cd):
 undefined reference to
`_imp___ZN11QMainWindow14setDockOptionsE6QFlagsINS_10Doc
kOptionEE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x80c):
 undefined reference to `_imp___ZN11QMainWindow15setDocumentModeEb'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x847):
 undefined reference to `_imp___ZN11QMainWindow10setMenuBarEP8QMenuBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x877):
 undefined reference to `_imp___ZN11QMainWindow13setMenuWidgetEP7QWidget'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x8a7):
 undefined reference to `_imp___ZN11QMainWindow12setStatusBarEP10QStatusBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x8f6):
 undefined reference to
`_imp___ZN11QMainWindow14setTabPositionE6QFlagsIN2Qt14Do
ckWidgetAreaEEN10QTabWidget11TabPositionE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x937):
 undefined reference to
`_imp___ZN11QMainWindow11setTabShapeEN10QTabWidget8TabSh
apeE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x967):
 undefined reference to
`_imp___ZN11QMainWindow18setToolButtonStyleEN2Qt15ToolBu
ttonStyleE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x99c):
 undefined reference to
`_imp___ZN11QMainWindow30setUnifiedTitleAndToolBarOnMacE
b'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xa06):
 undefined reference to
`_imp___ZN11QMainWindow15splitDockWidgetEP11QDockWidgetS
1_N2Qt11OrientationE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xa34):
 undefined reference to `_imp___ZNK11QMainWindow9statusBarEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xa77):
 undefined reference to
`_imp___ZNK11QMainWindow11tabPositionEN2Qt14DockWidgetAr
eaE'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xaa4):
 undefined reference to `_imp___ZNK11QMainWindow8tabShapeEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xb00):
 undefined reference to
`_imp___ZN11QMainWindow16tabifyDockWidgetEP11QDockWidget
S1_'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xb37):
 undefined reference to `_imp___ZNK11QMainWindow11toolBarAreaEP8QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xb77):
 undefined reference to `_imp___ZNK11QMainWindow12toolBarBreakEP8QToolBar'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xba4):
 undefined reference to `_imp___ZNK11QMainWindow15toolButtonStyleEv'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xbd4):
 undefined reference to
`_imp___ZNK11QMainWindow27unifiedTitleAndToolBarOnMacEv'

c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xc1c):
 undefined reference to `_imp___ZN11QMainWindow11setAnimatedEb'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xc5c):
 undefined reference to `_imp___ZN11QMainWindow21setDockNestingEnabledEb'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x102):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x5d2):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0xaa2):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0xfa2):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1472):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1964): more
undef
ined references to `__gxx_personality_sj0' follow
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1a38):
undefined
reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1af4):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1c74):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1e05):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1fb5):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2158):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2618): more
undef
ined references to `__gxx_personality_sj0' follow
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2be3):
undefined
reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x339a):
undefined
reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN5QListI7QStringE
13detach_helperEv[QList<QString>::detach_helper()]+0x2): undefined reference
to
`__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN5QListI7QStringE
6appendERKS0_[QList<QString>::append(QString const&)]+0x7): undefined
reference
to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(moc_slots.o):moc_slots.cpp:(.rdata$_ZTI5Slots[typeinfo
for Slots]+0x0): undefined reference to `vtable for
__cxxabiv1::__si_class_type_
info'
c:/harbour/lib/libhbqt.a(moc_slots.o):moc_slots.cpp:(.rdata$_ZTI7QObject[typeinf
o for QObject]+0x0): undefined reference to `vtable for
__cxxabiv1::__class_type
_info'
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 1:
gcc.exe demoqt.c C:\DOCUME~1\skarmava\LOCALS~1\Temp\hbmk_fg3mtd.c    -O3 
-odemo
qt.exe -Ic:/harbour/include -Lc:/harbour/lib -Lc:/qt/qt/lib -LQtGui
-mconsole -W
l,--start-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm
-lhbrdd
-lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt
-lhbrt
l -lhbpp -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt
-lgtgui -l
hbpcre -lhbzlib -lhbqt -lQtCore4 -lgtwin -luser32 -lwinspool -lgdi32
-lcomctl32
-lcomdlg32 -lole32 -loleaut32 -luuid -lws2_32 -Wl,--end-group
>>

Regards
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22738122.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Mar 27 05:17:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 05:17:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10706] trunk/harbour
Message-ID: <E1Ln8CG-0000Aw-Cu@c3vjzd1.ch3.sourceforge.com>

Revision: 10706
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10706&view=rev
Author:   vszakats
Date:     2009-03-27 09:17:51 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 10:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added autodetection of lib/<arch>/<comp> lib dir. This
      makes it possible to use hbmk2 in multicompiler scenarios
      without 'make install'ing Harbour, or even multicompiler
      end-user configurations for any compiler regardless of
      lib format and naming.

  + contrib/hbqt/tests/hbqt.hbp
    + Added .hbp file for hbqt.

  * contrib/hbodbc/odbc.c
    * Further type cleanup.
    * Formatting.

  * contrib/hbole/tests/testole.prg
    * Minor cleanups.

  * contrib/hbole/olecore.c
    * Using hb_itemGetCPtr2() instead of hb_itemGetCLPtr()

  * contrib/hbwin/wapi_commctrl.c
  * contrib/hbwin/wapi_winuser.c
    ! WinCE fixes.
    * Formatting.

  * contrib/examples/hbwhat/tests/hbwhat.hbp
    - Removed no longer necessary Windows libs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/hbwhat/tests/hbwhat.hbp
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbole/olecore.c
    trunk/harbour/contrib/hbole/tests/testole.prg
    trunk/harbour/contrib/hbwin/wapi_commctrl.c
    trunk/harbour/contrib/hbwin/wapi_winuser.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/tests/hbqt.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Mar 27 05:45:52 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Mar 27 05:45:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10707] trunk/harbour
Message-ID: <E1Ln8dM-00065s-T5@d5vjzd1.ch3.sourceforge.com>

Revision: 10707
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10707&view=rev
Author:   vouchcac
Date:     2009-03-27 09:45:51 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 02:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbqt/hbqt.h
  * harbour/contrib/hbqt/hbqt_qfont.cpp
    + Added more functions.

  + harbour/contrib/hbqt/generator
  + harbour/contrib/hbqt/generator/hbqtgen.prg
    + Implemented protocol to generate .cpp source file
      from QT Header definitions lifted from its help manual.
      It has lot more potentials to incorporate more features,
      it is just the begining.

  + harbour/contrib/hbqt/qth
  + harbour/contrib/hbqt/qth/QBrush.qth
  + harbour/contrib/hbqt/qth/QFont.qth
  + harbour/contrib/hbqt/qth/QPen.qth
  + harbour/contrib/hbqt/qth/QWidget.qth
    + Added .qth contining prototypes and user code to be embedded 
      into the resulting .cpp source file.

    /*  
       COMPILE  : hbmk2 hbqtgen
       USAGE    : hbqtgen -I<qthHeaderFilesPath> -O<cppSourceFilePath> <qthFile1.qth> <qthFile2.qth> <...>
                  hbqtgen -help
       EXAMPLE  : hbqtgen -Ic:\harbour\hbqt\qth  -Oc:\temp QFont.qth QWidget.qth

       NEXT     : hbqtgen @QtProjectFile.qtp

       OVERVIEW : .qth 
  

                     enum Capitalization { MixedCase, AllUppercase, AllLowercase, SmallCaps, Capitalize }
                     enum SpacingType { PercentageSpacing, AbsoluteSpacing }
                     enum Stretch { UltraCondensed, ExtraCondensed, Condensed, SemiCondensed, ..., UltraExpanded }
                     enum Style { StyleNormal, StyleItalic, StyleOblique }
                     enum StyleHint { AnyStyle, SansSerif, Helvetica, Serif, ..., System }
                     enum StyleStrategy { PreferDefault, PreferBitmap, PreferDevice, PreferOutline, ..., PreferQuality }
                     enum Weight { Light, Normal, DemiBold, Bold, Black }


                     <CODE>

                     /*
                     QFont ()
                     QFont ( const QString & family, int pointSize = -1, int weight = -1, bool italic = false )
                     QFont ( const QFont & font, QPaintDevice * pd )
                     QFont ( const QFont & font )
                     */
                     HB_FUNC( QT_QFONT )
                     {
                        if( HB_IS_STRING( 1 ) )
                        {
                           hb_retptr( ( QFont* ) new QFont() );
                        }
                        else
                        {
                           hb_retptr( ( QFont* ) new QFont( hbqt_par_QString( 1 ),
                                                            HB_IS_NUMERIC( 2 ) ? hb_parni( 2 ) : -1,
                                                            HB_IS_NUMERIC( 3 ) ? hb_parni( 3 ) : -1,
                                                            hb_parl( 4 ) ) );
                        }
                     }

                     </CODE>



                     bool bold () const
                     Capitalization capitalization () const
                     QString defaultFamily () const
                     bool exactMatch () const
                     QString family () const
                     bool fixedPitch () const
                     FT_Face freetypeFace () const
                     bool fromString ( const QString & descrip )
                     HFONT handle () const
                     //bool isCopyOf ( const QFont & f ) const
                     bool italic () const
                     bool kerning () const
                     QString key () const
                     QString lastResortFamily () const
                     QString lastResortFont () const
                     qreal letterSpacing () const
                     SpacingType letterSpacingType () const
                     //quint32 macFontID () const
                     bool overline () const
                     int pixelSize () const
                     int pointSize () const
                     qreal pointSizeF () const
                     bool rawMode () const
                     QString rawName () const
                     QFont resolve ( const QFont & other ) const
                     void setBold ( bool enable )
                     void setCapitalization ( Capitalization caps )
                     void setFamily ( const QString & family )
                     void setFixedPitch ( bool enable )
                     void setItalic ( bool enable )
                     void setKerning ( bool enable )
                     void setLetterSpacing ( SpacingType type, qreal spacing )
                     void setOverline ( bool enable )
                     void setPixelSize ( int pixelSize )
                     void setPointSize ( int pointSize )
                     void setPointSizeF ( qreal pointSize )
                     void setRawMode ( bool enable )
                     void setRawName ( const QString & name )
                     void setStretch ( int factor )
                     void setStrikeOut ( bool enable )
                     void setStyle ( Style style )
                     void setStyleHint ( StyleHint hint, StyleStrategy strategy = PreferDefault )
                     void setStyleStrategy ( StyleStrategy s )
                     void setUnderline ( bool enable )
                     void setWeight ( int weight )
                     void setWordSpacing ( qreal spacing )
                     int stretch () const
                     bool strikeOut () const
                     Style style () const
                     StyleHint styleHint () const
                     StyleStrategy styleStrategy () const
                     QString toString () const
                     bool underline () const
                     int weight () const
                     qreal wordSpacing () const


       
       Comments   :  #  // 

       Enumerators: enum definitions must be included what exists in the 
                    help documenttaion. It has special significan while 
                    parsing the prototypes.
  
       UserCode   : Anything contained in <CODE> </CODE> construct will be 
                    written directly in the .cpp as is. Developer is responsible
                    to insert syntatically correct code. usually constructor
                    function goes here. And may be complex functions be
                    put under it. Also if some special #include command is needed.

       Prototype  : Not all prototypes are included in the source .cpp at the 
                    moment. I need more help on this front how we detect and 
                    format the parameters. I am struck specially at something
                    like   <const QFont & other> . Przemek?

                    Bottom line: Copy and Paste all prototypes from the docs,
                    generate the .cpp, compile it, check which function raises
                    error, comment it out in .qth with either "//" or "#",
                    regenerate .cpp until all errors are covered, copy .cpp 
                    into production folder.
                 
    */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_qfont.cpp

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/generator/
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/qth/
    trunk/harbour/contrib/hbqt/qth/QBrush.qth
    trunk/harbour/contrib/hbqt/qth/QFont.qth
    trunk/harbour/contrib/hbqt/qth/QPen.qth
    trunk/harbour/contrib/hbqt/qth/QWidget.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Mar 27 05:51:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 05:51:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10707] trunk/harbour
In-Reply-To: <E1Ln8dM-00065s-T5@d5vjzd1.ch3.sourceforge.com>
References: <E1Ln8dM-00065s-T5@d5vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70903270251j64ded594qd3d42d6747028854@mail.gmail.com>

Can propose attach this document to hbqt.doc?
if good for all i can made

2009/3/27  <vouchcac@users.sourceforge.net>:
> Revision: 10707
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10707&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-03-27 09:45:51 +0000 (Fri, 27 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-27 02:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* harbour/contrib/hbqt/hbqt.h
> ?* harbour/contrib/hbqt/hbqt_qfont.cpp
> ? ?+ Added more functions.
>
> ?+ harbour/contrib/hbqt/generator
> ?+ harbour/contrib/hbqt/generator/hbqtgen.prg
> ? ?+ Implemented protocol to generate .cpp source file
> ? ? ?from QT Header definitions lifted from its help manual.
> ? ? ?It has lot more potentials to incorporate more features,
> ? ? ?it is just the begining.
>
> ?+ harbour/contrib/hbqt/qth
> ?+ harbour/contrib/hbqt/qth/QBrush.qth
> ?+ harbour/contrib/hbqt/qth/QFont.qth
> ?+ harbour/contrib/hbqt/qth/QPen.qth
> ?+ harbour/contrib/hbqt/qth/QWidget.qth
> ? ?+ Added .qth contining prototypes and user code to be embedded
> ? ? ?into the resulting .cpp source file.
>
> ? ?/*
> ? ? ? COMPILE ?: hbmk2 hbqtgen
> ? ? ? USAGE ? ?: hbqtgen -I<qthHeaderFilesPath> -O<cppSourceFilePath> <qthFile1.qth> <qthFile2.qth> <...>
> ? ? ? ? ? ? ? ? ?hbqtgen -help
> ? ? ? EXAMPLE ?: hbqtgen -Ic:\harbour\hbqt\qth ?-Oc:\temp QFont.qth QWidget.qth
>
> ? ? ? NEXT ? ? : hbqtgen @QtProjectFile.qtp
>
> ? ? ? OVERVIEW : .qth
>
>
> ? ? ? ? ? ? ? ? ? ? enum Capitalization { MixedCase, AllUppercase, AllLowercase, SmallCaps, Capitalize }
> ? ? ? ? ? ? ? ? ? ? enum SpacingType { PercentageSpacing, AbsoluteSpacing }
> ? ? ? ? ? ? ? ? ? ? enum Stretch { UltraCondensed, ExtraCondensed, Condensed, SemiCondensed, ..., UltraExpanded }
> ? ? ? ? ? ? ? ? ? ? enum Style { StyleNormal, StyleItalic, StyleOblique }
From toninhofwi at yahoo.com.br  Fri Mar 27 06:09:20 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Mar 27 06:08:19 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CC0984.607@dbtopas.lt>
References: <49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>	<18d502870903250648m3eb85f53qd5781b48b16d28b6@mail.gmail.com>	<49CA7F4B.2020103@fsgiudice.com>
	<49CAAD6B.2000707@fsgiudice.com>	<18d502870903260354v46d11b9fi121660b3b1f2eabf@mail.gmail.com>	<gltms4t8kvcivvnbv74258uvpfa2rlm6b6@4ax.com>
	<20090326173023.GA10998@uran.home.aster.pl>
	<49CC0984.607@dbtopas.lt>
Message-ID: <3b9ps41ed2kbg3jlrob6ehne8dff59jhlb@4ax.com>

>sorry Toninho, I've missed your mail with a problem. Przemek was right 
>about OLE object creation code.
No problem Mindaugas. Thank you for the nice code.

>Yes, I know I've implemented it in a incompatible way, but missing of 
>some OLE server depends on installed software and is a normal situation. 
>I found code:
>
>   IF (oWord := GetActiveObject("Word.Application")) == NIL
>     IF (oWord := CreateObject("Word.Application")) == NIL
>       ? "Unable to create Word OLE object"
>       RETURN .F.
>     ENDIF
>   ENDIF
>
>much more elegant than all that begin/end sequences.
And you are right. I?ll change my code to support new syntax.

Best regards,

Toninho.


__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From philb at philb.us  Fri Mar 27 06:32:43 2009
From: philb at philb.us (Phil Barnett)
Date: Fri Mar 27 06:32:49 2009
Subject: [Harbour] GTWVG - Removal from SVN
In-Reply-To: <18d502870903261433y7e1d80ddya08f77a086e8ec07@mail.gmail.com>
References: <22730993.post@talk.nabble.com>
	<18d502870903261433y7e1d80ddya08f77a086e8ec07@mail.gmail.com>
Message-ID: <49CCAB4B.4000000@philb.us>

Viktor Szak?ts wrote:
> It's nothing against your person or your work, I just feel 
> this contribution would have a much better life as a separate 
> entity due its size, focuses, and other misc properties I've 
> repeated already too many times.
>
> We should focus here on multiplatform things.
There has been talk many times in the past to create a Harbour-Contrib 
project in Source Forge parallel to Harbour Project and move non-core, 
non-portable, non-multiplatform portions of contrib into it.

At this point, with the goal in mind of creating a identical experience 
on every platform, I'd say it's time.

And that is nothing personal to anyone. We would continue to advertise 
the second half of the project on our web pages and give equal billing.

But the separation can make releases better and easier.
From vszakats at users.sourceforge.net  Fri Mar 27 06:47:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 06:47:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10708] trunk/harbour
Message-ID: <E1Ln9ap-0002oz-NH@c3vjzd1.ch3.sourceforge.com>

Revision: 10708
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10708&view=rev
Author:   vszakats
Date:     2009-03-27 10:47:12 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 11:45 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * ChangeLog
    * One TOFIX marked as DONE.

  * contrib/hbmysql/tmysql.prg
    % Optimizations (using SWITCH)

  * contrib/hbqt/qth/QFont.qth
  * contrib/hbqt/qth/QPen.qth
  * contrib/hbqt/hbqt_qfont.cpp
    ! Fixed HB_IS*() macro usage.

  * contrib/hbqt/tests/hbqt.hbp
    + Added C++ and runtime MinGW lib.
    ; TOFIX: I still get:
      harbour/lib/win/mingw/libhbvm.a(fm.o):fm.c:(.text+0x39b): undefined reference to `__mingw_vfprintf'
    + gui=yes

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/tmysql.prg
    trunk/harbour/contrib/hbqt/hbqt_qfont.cpp
    trunk/harbour/contrib/hbqt/qth/QFont.qth
    trunk/harbour/contrib/hbqt/qth/QPen.qth
    trunk/harbour/contrib/hbqt/tests/hbqt.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Mar 27 06:47:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 06:48:10 2009
Subject: [Harbour] GTWVG - Removal from SVN
In-Reply-To: <49CCAB4B.4000000@philb.us>
References: <22730993.post@talk.nabble.com>
	<18d502870903261433y7e1d80ddya08f77a086e8ec07@mail.gmail.com> 
	<49CCAB4B.4000000@philb.us>
Message-ID: <609353e70903270347r2d35a17awc140c326811e291d@mail.gmail.com>

Imo this not true
we have better release from confrontation of different opinion

2009/3/27 Phil Barnett <philb@philb.us>:
> But the separation can make releases better and easier.
> _______________________________________________

-- 
Massimo Belgrano
From vskarm at otenet.gr  Fri Mar 27 06:59:59 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 07:00:03 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22738122.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
	<18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
	<22738122.post@talk.nabble.com>
Message-ID: <22739473.post@talk.nabble.com>


Hi,

Just tested last svn:

<<
C:\Downloads\harbour-win\harbour-project\trunk\harbour\contrib\hbqt\tests>hbmk2
demoqt -Lc:\qt\qt\lib
hbmk: Processing configuration: c:\harbour\bin\hbmk.cfg
hbmk: Processing: hbqt.hbp
Harbour 1.1.0dev (Rev. -1)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 70, Functions/Procedures 1
Generating C source output to 'demoqt.c'... Done.
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x62)
: undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x1d2
): undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x222
): undefined reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x30b
): undefined reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1e):
undefine
d reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x7b):
undefine
d reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xf5):
undefine
d reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x164):
undefin
ed reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x364):
undefin
ed reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xfc4):
undefin
ed reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1105):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x19e2):
undefi
ned reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1b42):
more u
ndefined references to `__gxx_personality_sj0' follow
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x7b):
undefined reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xf5):
undefined reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x272):
 undefined reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x102):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x5d2):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0xaa2):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0xfa2):
undefined r
eference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1472): more
undef
ined references to `__gxx_personality_sj0' follow
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1a38):
undefined
reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1af4):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1c74):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1e05):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1fb5):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2158):
undefined
reference to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2618): more
undef
ined references to `__gxx_personality_sj0' follow
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2be3):
undefined
reference to `operator new(unsigned int)'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x339a):
undefined
reference to `operator delete(void*)'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN5QListI7QStringE
13detach_helperEv[QList<QString>::detach_helper()]+0x2): undefined reference
to
`__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN5QListI7QStringE
6appendERKS0_[QList<QString>::append(QString const&)]+0x7): undefined
reference
to `__gxx_personality_sj0'
c:/harbour/lib/libhbqt.a(moc_slots.o):moc_slots.cpp:(.rdata$_ZTI5Slots[typeinfo
for Slots]+0x0): undefined reference to `vtable for
__cxxabiv1::__si_class_type_
info'
c:/harbour/lib/libhbqt.a(moc_slots.o):moc_slots.cpp:(.rdata$_ZTI7QObject[typeinf
o for QObject]+0x0): undefined reference to `vtable for
__cxxabiv1::__class_type
_info'
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 1:
gcc.exe demoqt.c C:\DOCUME~1\skarmava\LOCALS~1\Temp\hbmk_i725rt.c    -O3 
-odemo
qt.exe -Ic:/harbour/include -Lc:/harbour/lib -Lc:/qt/qt/lib -mconsole
-Wl,--star
t-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd
-lhbusrr
dd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl
-lhbpp
 -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui
-lhbpcre -
lhbzlib -lhbqt -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebKit4 -luser32 -lgdi32
-lad
vapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32
-loleaut32 -l
uuid -lmpr -lwinmm -lmapi32 -Wl,--end-group
>>

Significant less messages

Regards,
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22739473.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 27 07:03:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 07:03:33 2009
Subject: [Harbour] GTWVG - Removal from SVN
In-Reply-To: <609353e70903270347r2d35a17awc140c326811e291d@mail.gmail.com>
References: <22730993.post@talk.nabble.com>
	<18d502870903261433y7e1d80ddya08f77a086e8ec07@mail.gmail.com>
	<49CCAB4B.4000000@philb.us>
	<609353e70903270347r2d35a17awc140c326811e291d@mail.gmail.com>
Message-ID: <18d502870903270403y688d0504w71ff694e670e7252@mail.gmail.com>

On Fri, Mar 27, 2009 at 11:47 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Imo this not true
> we have better release from confrontation of different opinion


This sounds very well and also very easy to say until the point *you*
have to spend those weeks fixing the *actual* problems. This isn't
something virtual.

For me - and I believe for many Harbour users - it's much more important
to have a dynamic and portable core than maintaining heavy / plat spec
libs with a lot of effort for historical or personal reasons. I've even
deleted
*my own* contributions in the past for similar reasons. We have tons of
things to do anyway, so we should focus on what's relevant and stick to
our original goals.

The other thing: What is the problem with maintaining a lib _outside_
our repository? IMO _nothing_. In fact, we have very good quality 3rd
party libs with active userbases, development teams, so I don't see why
GTWVG couldn't live the same way. Granted, it won't get *automatic
and free maintenance* from us, Harbour developers, but everyone who
is interested can jump there and contribute, and we are here free to do
more important things (or at not getting blocked by it), and GTWVG is
free to decide about focuses, quality questions, devel decisions,
release cycles and methods completely independently from ours.

BTW, are you actually using GTWVG?

--
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/224eeef6/attachment.html
From harbour.01 at syenar.hu  Fri Mar 27 07:08:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 07:08:53 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22739473.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
	<18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
	<22738122.post@talk.nabble.com> <22739473.post@talk.nabble.com>
Message-ID: <18d502870903270408p7b17d2d9kb4b4d4240587fba6@mail.gmail.com>

Hi,
Please test with 10708. Only one - but fatal - error remains, and
after 1-2 hours of testing I couldn't make it go away:

      harbour/lib/win/mingw/libhbvm.a(fm.o):fm.c:(.text+0x39b): undefined
reference to `__mingw_vfprintf'

Maybe something obvious.

We will need HB_FORCE_C, HB_FORCE_CPP (or similar) switches
in core make system and also hbmk2 in the future to solve some C++
related issues in a generic way.

-- 
Viktor


On Fri, Mar 27, 2009 at 11:59 AM, Vagelis Skarmaliorakis
<vskarm@otenet.gr>wrote:

>
> Hi,
>
> Just tested last svn:
>
> <<
>
> C:\Downloads\harbour-win\harbour-project\trunk\harbour\contrib\hbqt\tests>hbmk2
> demoqt -Lc:\qt\qt\lib
> hbmk: Processing configuration: c:\harbour\bin\hbmk.cfg
> hbmk: Processing: hbqt.hbp
> Harbour 1.1.0dev (Rev. -1)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'demoqt.prg'...
> Lines 70, Functions/Procedures 1
> Generating C source output to 'demoqt.c'... Done.
>
> c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x62)
> : undefined reference to `__gxx_personality_sj0'
>
> c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x1d2
> ): undefined reference to `__gxx_personality_sj0'
>
> c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x222
> ): undefined reference to `operator new(unsigned int)'
>
> c:/harbour/lib/libhbqt.a(hbqt_qapplication.o):hbqt_qapplication.cpp:(.text+0x30b
> ): undefined reference to `operator delete(void*)'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1e):
> undefine
> d reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x7b):
> undefine
> d reference to `operator new(unsigned int)'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xf5):
> undefine
> d reference to `operator delete(void*)'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x164):
> undefin
> ed reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x364):
> undefin
> ed reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0xfc4):
> undefin
> ed reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1105):
> undefi
> ned reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x19e2):
> undefi
> ned reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_qwidget.o):hbqt_qwidget.cpp:(.text+0x1b42):
> more u
> ndefined references to `__gxx_personality_sj0' follow
>
> c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x7b):
> undefined reference to `operator new(unsigned int)'
>
> c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0xf5):
> undefined reference to `operator delete(void*)'
>
> c:/harbour/lib/libhbqt.a(hbqt_qmainwindow.o):hbqt_qmainwindow.cpp:(.text+0x272):
>  undefined reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x102):
> undefined r
> eference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x5d2):
> undefined r
> eference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0xaa2):
> undefined r
> eference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0xfa2):
> undefined r
> eference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1472): more
> undef
> ined references to `__gxx_personality_sj0' follow
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1a38):
> undefined
> reference to `operator delete(void*)'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1af4):
> undefined
> reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1c74):
> undefined
> reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1e05):
> undefined
> reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x1fb5):
> undefined
> reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2158):
> undefined
> reference to `__gxx_personality_sj0'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2618): more
> undef
> ined references to `__gxx_personality_sj0' follow
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x2be3):
> undefined
> reference to `operator new(unsigned int)'
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text+0x339a):
> undefined
> reference to `operator delete(void*)'
>
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN5QListI7QStringE
> 13detach_helperEv[QList<QString>::detach_helper()]+0x2): undefined
> reference
> to
> `__gxx_personality_sj0'
>
> c:/harbour/lib/libhbqt.a(hbqt_slots.o):hbqt_slots.cpp:(.text$_ZN5QListI7QStringE
> 6appendERKS0_[QList<QString>::append(QString const&)]+0x7): undefined
> reference
> to `__gxx_personality_sj0'
>
> c:/harbour/lib/libhbqt.a(moc_slots.o):moc_slots.cpp:(.rdata$_ZTI5Slots[typeinfo
> for Slots]+0x0): undefined reference to `vtable for
> __cxxabiv1::__si_class_type_
> info'
>
> c:/harbour/lib/libhbqt.a(moc_slots.o):moc_slots.cpp:(.rdata$_ZTI7QObject[typeinf
> o for QObject]+0x0): undefined reference to `vtable for
> __cxxabiv1::__class_type
> _info'
> collect2: ld returned 1 exit status
> hbmk: Error: Running C compiler. 1:
> gcc.exe demoqt.c C:\DOCUME~1\skarmava\LOCALS~1\Temp\hbmk_i725rt.c    -O3
> -odemo
> qt.exe -Ic:/harbour/include -Lc:/harbour/lib -Lc:/qt/qt/lib -mconsole
> -Wl,--star
> t-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd
> -lhbusrr
> dd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl
> -lhbpp
>  -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui
> -lhbpcre -
> lhbzlib -lhbqt -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebKit4 -luser32 -lgdi32
> -lad
> vapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32
> -loleaut32 -l
> uuid -lmpr -lwinmm -lmapi32 -Wl,--end-group
> >>
>
> Significant less messages
>
> Regards,
> Vagelis
> --
> View this message in context:
> http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22739473.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/636f1629/attachment.html
From harbour.01 at syenar.hu  Fri Mar 27 07:12:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 07:12:57 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <18d502870903270408p7b17d2d9kb4b4d4240587fba6@mail.gmail.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
	<18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
	<22738122.post@talk.nabble.com> <22739473.post@talk.nabble.com>
	<18d502870903270408p7b17d2d9kb4b4d4240587fba6@mail.gmail.com>
Message-ID: <18d502870903270412g3be3495cq148b76e3cac13048@mail.gmail.com>

>
> after 1-2 hours of testing I couldn't make it go away:
>
>       harbour/lib/win/mingw/libhbvm.a(fm.o):fm.c:(.text+0x39b): undefined
> reference to `__mingw_vfprintf'
>
> Maybe something obvious.
>

And indeed. I was using C:\devl\Qt\2009.01\bin\qtenv.bat to init
the QT env, and this one overrides my MinGW version with the
embedded one, which is an older version not having above symbol.

That means hbmk2 should now be okay. Of course the QT libdir
should be manually passed to hbmk2 (like you did).

-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/91fda710/attachment.html
From vskarm at otenet.gr  Fri Mar 27 07:16:36 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 07:16:40 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <18d502870903270412g3be3495cq148b76e3cac13048@mail.gmail.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
	<18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
	<22738122.post@talk.nabble.com> <22739473.post@talk.nabble.com>
	<18d502870903270408p7b17d2d9kb4b4d4240587fba6@mail.gmail.com>
	<18d502870903270412g3be3495cq148b76e3cac13048@mail.gmail.com>
Message-ID: <22739680.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> 
> And indeed. I was using C:\devl\Qt\2009.01\bin\qtenv.bat to init
> the QT env, and this one overrides my MinGW version with the
> embedded one, which is an older version not having above symbol.
> 
> That means hbmk2 should now be okay. Of course the QT libdir
> should be manually passed to hbmk2 (like you did).
> 
> -- 
> Viktor
> 
> 

Hi,

Just tested after modifying hbqt.hbp according to latest svn (i missed that
in my last test) and demoqt was builted ok.

BTW, i did not installed the embeded in qt wingw, not i am calling the
qtenv.bat.

Thanks and Regards,
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22739680.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Fri Mar 27 07:23:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 07:23:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10709] trunk/harbour
Message-ID: <E1LnA9X-000429-6V@c3vjzd1.ch3.sourceforge.com>

Revision: 10709
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10709&view=rev
Author:   vszakats
Date:     2009-03-27 11:23:07 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 12:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbqt/tests/hbqt.hbp
    + Removed mingw32 lib not necessary.
    + Added gt=gtnul to suppress the console window.

  * utils/hbmk2/hbmk2.prg
    ! Fixed gtnul usage in one remaining place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/tests/hbqt.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vskarm at otenet.gr  Fri Mar 27 07:35:21 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 07:35:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10709] trunk/harbour
In-Reply-To: <E1LnA9X-000429-6V@c3vjzd1.ch3.sourceforge.com>
References: <E1LnA9X-000429-6V@c3vjzd1.ch3.sourceforge.com>
Message-ID: <22739922.post@talk.nabble.com>




vszakats wrote:
> 
> Revision: 10709
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10709&view=rev
> Author:   vszakats
> Date:     2009-03-27 11:23:07 +0000 (Fri, 27 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-27 12:22 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>   * contrib/hbqt/tests/hbqt.hbp
>     + Removed mingw32 lib not necessary.
>     + Added gt=gtnul to suppress the console window.
> 
>   * utils/hbmk2/hbmk2.prg
>     ! Fixed gtnul usage in one remaining place.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbqt/tests/hbqt.hbp
>     trunk/harbour/utils/hbmk2/hbmk2.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 


without the folloing line:

{mingw}libs=supc++ mingw32


i again had errors building demoqt. I put it back and it was ok. (downloaded
only the last hbmk2.prg).

Regards
Vagelis
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10709--trunk-harbour-tp22739771p22739922.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 27 07:46:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 07:46:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10709] trunk/harbour
In-Reply-To: <22739922.post@talk.nabble.com>
References: <E1LnA9X-000429-6V@c3vjzd1.ch3.sourceforge.com>
	<22739922.post@talk.nabble.com>
Message-ID: <18d502870903270446r3d62a996u622ae40f48010e5e@mail.gmail.com>

>
> without the folloing line:
>
> {mingw}libs=supc++ mingw32
>
> i again had errors building demoqt. I put it back and it was ok.
> (downloaded
> only the last hbmk2.prg).
>

supc++ is needed, so you need the line, but could
you test it without 'mingw32' ?:

{mingw}libs=supc++

Here it work like this using MinGW 4.3.3.

-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/737dc40e/attachment.html
From mbelgrano at deltain.it  Fri Mar 27 07:46:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 07:47:03 2009
Subject: [Harbour] GTWVG - Removal from SVN
In-Reply-To: <18d502870903270403y688d0504w71ff694e670e7252@mail.gmail.com>
References: <22730993.post@talk.nabble.com>
	<18d502870903261433y7e1d80ddya08f77a086e8ec07@mail.gmail.com> 
	<49CCAB4B.4000000@philb.us>
	<609353e70903270347r2d35a17awc140c326811e291d@mail.gmail.com> 
	<18d502870903270403y688d0504w71ff694e670e7252@mail.gmail.com>
Message-ID: <609353e70903270446u55388365vcac950df4cdbb228@mail.gmail.com>

Yes i am using gtwvg
It allow to my project to be ready for win with little effort and easy
maintain either version from same source
I am very happy of result (and my customer too)
I have only one biggest program that use intensive xharbour+gtwvw and
is not yet ported. about here i hope that gtwvg will include gtwvw
emulation like  same thousand  xharbour user
Practically All my 30 clipper main program are released for windows
platform and compiled with harbour+gtwvg+rddads because i need windows
functionality for menu,toolbar
I not use mt but plan use as next steep after rel 1.2


2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
> On Fri, Mar 27, 2009 at 11:47 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Imo this not true
>> we have better release from confrontation of different opinion
>
> This sounds very well and also very easy to say until the point *you*
> have to spend those weeks?fixing the *actual* problems. This isn't
> something?virtual.
> For me - and I believe for many Harbour users - it's much more important
> to have a dynamic and portable?core than maintaining heavy / plat spec
> libs with a lot of effort for?historical or personal reasons. I've even
> deleted
> *my own*?contributions in the past for similar reasons.?We have tons of
> things to?do anyway, so we?should?focus on what's relevant and stick to
> our?original goals.
> The other thing: What is the problem with maintaining a lib _outside_
> our repository? IMO _nothing_. In fact, we have very good quality 3rd
> party libs with active?userbases, development teams, so I don't see why
> GTWVG couldn't?live the same way. Granted, it won't get *automatic
> and free maintenance*?from?us, Harbour developers, but everyone who
> is interested can jump?there and contribute, and we are here free to do
> more important things (or at not getting blocked by it),?and GTWVG is
> free to decide about focuses, quality questions, devel?decisions,
> release cycles and methods?completely?independently from ours.
> BTW, are you actually using GTWVG?
> --
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From vskarm at otenet.gr  Fri Mar 27 07:49:30 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 07:49:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10709] trunk/harbour
In-Reply-To: <18d502870903270446r3d62a996u622ae40f48010e5e@mail.gmail.com>
References: <E1LnA9X-000429-6V@c3vjzd1.ch3.sourceforge.com>
	<22739922.post@talk.nabble.com>
	<18d502870903270446r3d62a996u622ae40f48010e5e@mail.gmail.com>
Message-ID: <22740116.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> 
> {mingw}libs=supc++
> 
> 

This is ok
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10709--trunk-harbour-tp22739771p22740116.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 27 07:52:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 07:52:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10709] trunk/harbour
In-Reply-To: <22740116.post@talk.nabble.com>
References: <E1LnA9X-000429-6V@c3vjzd1.ch3.sourceforge.com>
	<22739922.post@talk.nabble.com>
	<18d502870903270446r3d62a996u622ae40f48010e5e@mail.gmail.com>
	<22740116.post@talk.nabble.com>
Message-ID: <18d502870903270452p6e9c796emf845cb5b65d30741@mail.gmail.com>

Thanks.

On Fri, Mar 27, 2009 at 12:49 PM, Vagelis Skarmaliorakis
<vskarm@otenet.gr>wrote:

>
>
>
> Viktor Szak?ts wrote:
> >
> >
> > {mingw}libs=supc++
> >
> >
>
> This is ok
> --
> View this message in context:
> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10709--trunk-harbour-tp22739771p22740116.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/3f473b92/attachment.html
From mario at argoninformatica.com.br  Fri Mar 27 08:09:54 2009
From: mario at argoninformatica.com.br (Mario Simoes Filho)
Date: Fri Mar 27 08:10:14 2009
Subject: [Harbour] Re: GTWVG - Removal from SVN
In-Reply-To: <22730993.post@talk.nabble.com>
References: <22730993.post@talk.nabble.com>
Message-ID: <gqifmj$v99$1@ger.gmane.org>

Hello Pritpal

I get it right?
GTWVG want to kill?

I have twenty-five systems in xHarbour + WVW all working very well, I'm 
waiting for the incorporation of WVW in WVG
please tell me a joke and that the first early April ...
I think I will cry ...

Pritpal Bedi escreveu:
> Hello Everybody
> 
> Back from a vacation...
> 
> I read all messages piled so large and have 
> come-up one significant note that GTWVG has been 
> scheduled to be REMOVED from Harbour repository 
> after 4 years of its presence here and about 7 years
> presence on xHarbour.
> 
> The reasons put forth can be presented as such:
> 
> 1) It is a highly win specific lib with no counterparts on other 
> platforms. Your prg code will be win only. 
> 
> It was known from the DAY ONE. 
> How funny it is to conclude that it had a relevance THEN and
> is irrelevant NOW...
> 
> 2) Plus it's x86 specific
> 
> This is one part I am not conversant with. Probably it is 
> ActiveX Events Management code which draws this specific attenstion.
> Even if it is x86, what does it stops to be usable,
> x86 has many more years of life span I believe.
> 
> 3) was never successfully tested on ce
> 
> This statement is valid for few weeks before, not now. 
> If used as pure consol it is not different then GTWVT in any 
> manner. I just commented out code which was not compiling
> for WinCE. Now it compiles fine, so ...
> 
> 4) x64
> 
> This is something a future. And am confident that the way 
> we are moving, it will not be difficult to port a little code,
> probably wvgcallb.c, to that platform or we can always drop Active-X
> for x64 builds just guarding this .c with a define.
> 
> 5) unicode
> 
> I suppose it has not been tried recently. I always compile it with
> UNICODE and it is working flawless without even a single memleak or so.
> 
> 6) uses internals, non ansi c code, 
> 
> Th is one area I am not conversant with. Just point out what
> this code is and I am eagerly willing to fix it.
> 
> 7) breaks core and other contrib namespaces
> 
> This is totally a misleading statement. Where does it collides 
> with other libs ? And it is not something which becomes a 
> potent cause of its abolishan.
> 
> 8) has redundant winapi parts, code non portable between c compilers. 
> 
> Again a non-sense statement. Sorry if I am rude. I already gave
> my node that it will be transferred to hbwin.lib as and when time 
> will permit. 
> 
> 9) Group is spending huge amount of time on just to create clean builds,
> with 
> minimal hope the large codebase will ever be clean enough for a piece 
> of mind and future releases. 
> 
> This is all about an Open-source. You contribute sonmething 
> with a hope that others will enhance it. It is the bottom line.
> I am sorry if this lib pushed someone a little bit more...
> But one always have options to divert his/her efforts to 
> whatever he likes.
> 
> Why there is a minimal hope? If a lib is consistently maintained and 
> is in production, this itself is a HOPE.
> 
> 10) Since there is seldom any bug reports, it is suspected to have 
> a large amount of active users. 
> 
> Do some code have to be buggy to be recognized as CORRECT?
> If no user reports any bug does it implies that there are no users.
> For that matter how many users speak on this group? Max 10-15.
> 
> For whom who are not aware I testify that GTWVG is in production 
> for over 250+ installations with MT and multi-windows, without even
> a single GPF and memleak, with UNICODE enabled , with semi GUI modal,
> with pure GUI modal ( Xbase++ implementation ). What elese is required
> it to be a success.
> 
> 11) We should focus on QT. We certainly cannot focus on both.
> 
> True. But untill something usable comes up in QT, on which front 
> I have made some progress, we have to stay with GTWVG. Also GTWVG is
> needed as references for QT port.
> 
> 12) The code does not compiles with many win compilers.
> 
> It compiles ( and runs ) fine with : 
> BCC55   
> BCC58   
> MSVC 2008 
> WATCOM   
> PELLESC  
> MINGW
> What other compilers this statement refers to?
> 
> 
>>From the whole input I could conclude that the matter 
> more ferefs to x64 builds than x86 ones. If true, I suppose 
> we can live with x86 for some more time and jump to 
> x64 excluding GTWVG from default builds.
> 
> 
> I need groups viewpoint if it is valid to REMOVE GTWVG from SVN 
> or to keep it. I am feeling a bit dejected as well and wish to have 
> a clear verdict. It will be helpful for me to concentrate on some 
> other corners of my life if it happens so.
> 
> Regards
> Pritpal Bedi
> 
> 
> 
> 
> 

From mbelgrano at deltain.it  Fri Mar 27 08:27:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 08:27:59 2009
Subject: [Harbour] How create libhbqt.a?
Message-ID: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>

set HB_INC_QT=c:\devl\qt\2009.01\qt\include
set HB_DIR_QT=c:\devl\qt\2009.01\qt\
SET HB_CONTRIB_ADDONS=hbqt
set HB_COMPILER=mingw
SET HB_ARCHITECTURE=win
set HB_INSTALL_PREFIX=/c/harbour/%HB_COMPILER%
set PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\%HB_COMPILER%\bin;%PATH%
sh make_gnu.sh clean install > log-%HB_COMPILER%.txt 2>&1

i not receive error but i not found c:\harbour\??\lib\libhbqt.a
if examine log see:

../../hbqt.h:58:24: Qt/qglobal.h: No such file or directory
../../hbqt_base.cpp: In function `void HB_FUN_QT_VERSION_STR()':
../../hbqt_base.cpp:64: error: `QT_VERSION_STR' was not declared in this scope
../../hbqt_base.cpp:64: warning: unused variable 'QT_VERSION_STR'
make[3]: *** [hbqt_base.o] Error 1
make[3]: Leaving directory `/c/harbour/contrib/hbqt/win/mingw'
make[2]: *** [descend] Error 2
make[2]: Leaving directory `/c/harbour/contrib/hbqt'
make[2]: Entering directory `/c/harbour/contrib/hbssl'
The 'hbssl' library ignored.

In file included from ../../hbqt_base.cpp:55:
../../hbqt.h:58:24: Qt/qglobal.h: No such file or directory
../../hbqt_base.cpp: In function `void HB_FUN_QT_VERSION_STR()':
../../hbqt_base.cpp:64: error: `QT_VERSION_STR' was not declared in this scope
../../hbqt_base.cpp:64: warning: unused variable 'QT_VERSION_STR'

if try another way
c:\harbour\contrib\hbqt>make
make: `install' is up to date.


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Mar 27 08:37:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 08:37:08 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
Message-ID: <18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>

>
> set HB_INC_QT=c:\devl\qt\2009.01\qt\include


set HB_INC_QT=/c/devl/Qt/2009.01/qt/include

See INSTALL line 152-153 in "HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD"
section:
"
   NOTES: - For mingw and cygwin you have to use forward slashes
            and also cygwin drive notation for cygwin.
"

Did you _ever_ read this document?


> set HB_DIR_QT=c:\devl\qt\2009.01\qt\


Not needed.


> SET HB_CONTRIB_ADDONS=hbqt


Not needed.


> SET HB_ARCHITECTURE=win


Not needed. (how many times do I have to tell you this...)


> set HB_INSTALL_PREFIX=/c/harbour/%HB_COMPILER%
> set
> PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\%HB_COMPILER%\bin;%PATH%


Not needed: c:\harbour\%HB_COMPILER%\bin


> sh make_gnu.sh clean install > log-%HB_COMPILER%.txt 2>&1


--
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/3575e47a/attachment-0001.html
From mbelgrano at deltain.it  Fri Mar 27 08:50:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 08:51:06 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com> 
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
Message-ID: <609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>

Thanks
sorry for wasting your time
I am started from the idea that qt support only mingw, so i not
thinked at traslate minigw notation
Is possible use msvc9 with qt?

2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
>> set HB_INC_QT=c:\devl\qt\2009.01\qt\include
>
> set HB_INC_QT=/c/devl/Qt/2009.01/qt/include
> See INSTALL line 152-153 in "HOW TO ENABLE OPTIONAL COMPONENTS BEFORE BUILD"
> section:
> "
> ?? NOTES: - For mingw and cygwin you have to use forward slashes
> ?? ? ? ? ? ?and also cygwin drive notation for cygwin.
> "
> Did you _ever_ read this document?
>
>>
>> set HB_DIR_QT=c:\devl\qt\2009.01\qt\
>
> Not needed.
>
>>
>> SET HB_CONTRIB_ADDONS=hbqt
>
> Not needed.
>
>>
>> SET HB_ARCHITECTURE=win
>
> Not needed. (how many times do I have to tell you this...)
>
>>
>> set HB_INSTALL_PREFIX=/c/harbour/%HB_COMPILER%
>> set
>> PATH=C:\devl\msys\1.0\bin;C:\devl\MinGW\bin;c:\harbour\%HB_COMPILER%\bin;%PATH%
>
> Not needed:?c:\harbour\%HB_COMPILER%\bin
>
>>
>> sh make_gnu.sh clean install > log-%HB_COMPILER%.txt 2>&1
>
> --
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From druzus at users.sourceforge.net  Fri Mar 27 08:56:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Mar 27 08:56:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10710] trunk/harbour
Message-ID: <E1LnBbc-0002no-OA@d5vjzd1.ch3.sourceforge.com>

Revision: 10710
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10710&view=rev
Author:   druzus
Date:     2009-03-27 12:56:15 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 14:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbvm.h
  * harbour/source/vm/hvm.c
    + added void hb_vmAtQuit( HB_INIT_FUNC pFunc, void * cargo );
      AtQuit functions are executed after deallocating all HVM items and
      disabling .prg destructors. They can make final cleanup at C level
      but should not reenter HVM.

  * harbour/contrib/hbole/oleinit.c
    * use hb_vmAtQuit() instead of hb_vmAtExit() - it resolves the problem
      with executing destructors to OLE objects after closing OLE connection.

  * harbour/contrib/hbole/olecore.c
    + added translation for VT_R4 and VT_CY values.
    ! fixed MT support by moving OLE error code to TSD

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbole/olecore.c
    trunk/harbour/contrib/hbole/oleinit.c
    trunk/harbour/include/hbvm.h
    trunk/harbour/source/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar 27 09:12:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 09:12:16 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
Message-ID: <18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>

On Fri, Mar 27, 2009 at 1:50 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Thanks
> sorry for wasting your time
> I am started from the idea that qt support only mingw, so i not
> thinked at traslate minigw notation
> Is possible use msvc9 with qt?


QT supports MSVC, but the binary distribution doesn't
ship COFF import libs for MSVC, so you either have to
generate them or create an MSVC build manually. I didn't try
to go that way, instead I've just switched to MinGW 4.3.3 for
my own apps.

-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/953a1a1d/attachment.html
From vszakats at users.sourceforge.net  Fri Mar 27 09:36:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 09:36:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10711] trunk/harbour
Message-ID: <E1LnCEe-0004RQ-VS@dn4whf1.ch3.sourceforge.com>

Revision: 10711
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10711&view=rev
Author:   vszakats
Date:     2009-03-27 13:36:27 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 14:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbodbc/odbc.c
    * BYTE -> char
    ! GetDesktopWindow() -> NULL

  * contrib/hbmsql/tmsql.prg
  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbpgsql/postgres.c
    * Formatting.

  * contrib/examples/hbapollo/Makefile
    ! Changed root dir after recent move.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/hbapollo/Makefile
    trunk/harbour/contrib/hbmsql/tmsql.prg
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/hbpgsql/postgres.c
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Mar 27 10:02:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 10:02:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10712] trunk/harbour
Message-ID: <E1LnCdO-0002Lv-Vc@3kljzd1.ch3.sourceforge.com>

Revision: 10712
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10712&view=rev
Author:   vszakats
Date:     2009-03-27 14:02:10 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 15:01 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbodbc/odbc.c
    ! Fixed potential buffer overrun in SQLDRIVERCONNECT() in UNICODE mode.

  * utils/hbmk2/hbmk2.prg
    - Removed debug line left in.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Mar 27 10:13:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 10:13:30 2009
Subject: [Harbour] hb_objSendMsg fail with GPF
Message-ID: <18d502870903270713n31ac217ds3a1a1f8829357ada@mail.gmail.com>

I'm forwarding this report/question I received to my personal e-mail:

---
Hello Viktor,

I make for you a little test how hb_objSendMsg() fail and create GPF.

Please can you chek ??

Best Regards,
Fernando

------------- PRG ----------------
#include "HBCLASS.CH"

FUNCTION MAIN()

 LOCAL oSon

 // Initialize Hash
 InitMyHash()

 oSon := MySon():New()

 oSon:Link()

 GetMsgFromSon( oSon:nID )

 // Deinitialize Hash
 EndMyHash()

RETURN NIL


CLASS MyFather


 DATA nID

       METHOD New()
       METHOD Event()
       METHOD Link()
       METHOD MsgShow()

ENDCLASS

METHOD New() CLASS MyFather

 ::nID := 1

RETURN Self

METHOD Link() CLASS MyFather

 // Call to LINKFROMC
 LinkFromC( Self, ::nID )

RETURN NIL

METHOD Event( nMsg ) CLASS MyFather

  ::MsgShow()

RETURN NIL

METHOD MsgShow( ) CLASS MyFather

       //LogFile( "X.log", { "Message from Father" } )
       ? "Message from Father"

RETURN NIL


CLASS MySon FROM MyFather
       METHOD New()
       METHOD Event()
       METHOD MyMsg()
ENDCLASS

METHOD New() CLASS MySon

 ::nID := 2

RETURN Self

METHOD Event()

 ::MyMsg()

RETURN Super:HandleEvent()

METHOD MyMsg()

 //LogFile( "X.log", { "Message from Son" } )
 ? "Message from Son"

RETURN NIL
------------- END PRG ------------


------------- 'C' ----------------
#include <hbapi.h>
#include <hbstack.h>
#include <hbapicls.h>
#include <hbapifs.h>
#include <hbapiitm.h>
#include <hbvm.h>
#include <hbinit.h>
#include <windows.h>

static PHB_ITEM pMyHash = NULL;

 // FUNCTION FOR SAVE SELF TO MYHASH
 HB_FUNC( LINKFROMC )
 {
    PHB_ITEM pSelf = hb_param( 1, HB_IT_ANY );
    PHB_ITEM pKey  = hb_itemPutNL( hb_itemNew( NULL ), ( long ) hb_parnl( 2
) );
    hb_hashAdd( pMyHash, pKey, pSelf );
    hb_itemRelease( pKey );
 }

 HB_FUNC( INITMYHASH )
 {
               pMyHash = hb_hashNew( NULL );
 }

 HB_FUNC( ENDMYHASH )
 {
               hb_itemRelease( pMyHash );
 }

 HB_FUNC( GETMSGFROMSON )
 {
   PHB_ITEM pSelf = NULL;
   PHB_ITEM pID  = hb_itemPutNL( hb_itemNew( NULL ), ( long ) hb_parnl( 1 )
);
   LONG lMsg = 123;

   pSelf = hb_hashGetItemPtr( pMyHash, pID, HB_HASH_AUTOADD_ACCESS );

   hb_itemRelease( pID );

   hb_objSendMsg( pSelf,"EVENT", 1, ( long ) lMsg ); // HERE GPF

   /*  Using it: not GPF, but i'dont know if all working fine on VM
        hb_vmPushSymbol( hb_dynsymSymbol( hb_dynsymGetCase( "EVENT"
) ) );
       hb_vmPush( pSelf );
       hb_vmPushLong( (LONG ) lMsg );
       hb_vmDo( 1 );
   */
 }
------------- END 'C' ------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/8f9ac85d/attachment.html
From zen25000 at zen.co.uk  Fri Mar 27 10:19:06 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Fri Mar 27 10:19:05 2009
Subject: [Harbour] RPM build error with current SVN
Message-ID: <49CCE05A.7090003@zen.co.uk>

Using mpkg_rpm.sh

..............
Processing files: harbour-debug-1.1.0-devmdv20090
Checking for unpackaged file(s): /usr/lib/rpm/check-files 
/tmp/harbour-1.1.0-root
error: Installed (but unpackaged) file(s) found:
   /usr/lib/harbour/libsqlite3.a


RPM build errors:
    Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
    Installed (but unpackaged) file(s) found:
   /usr/lib/harbour/libsqlite3.a
[baz@jackodesktop harbour]$

Rgds Barry
From phil at newstar.rinet.ru  Fri Mar 27 10:19:34 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Fri Mar 27 10:19:53 2009
Subject: [Harbour] hb_objSendMsg fail with GPF
In-Reply-To: <18d502870903270713n31ac217ds3a1a1f8829357ada@mail.gmail.com>
References: <18d502870903270713n31ac217ds3a1a1f8829357ada@mail.gmail.com>
Message-ID: <c10dbf450903270719j2bac39c5p907cb2160d5d28d2@mail.gmail.com>

Hi,

On Fri, Mar 27, 2009 at 5:13 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>    hb_objSendMsg( pSelf,"EVENT", 1, ( long ) lMsg ); // HERE GPF

AFAIR hb_objSendMsg() needs not a long, but a PHB_ITEM.

-- Ph.
From harbour.01 at syenar.hu  Fri Mar 27 10:29:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 10:30:06 2009
Subject: [Harbour] RPM build error with current SVN
In-Reply-To: <49CCE05A.7090003@zen.co.uk>
References: <49CCE05A.7090003@zen.co.uk>
Message-ID: <18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>

Probably the best will be to disable this lib for linux / darwin as it comes
with the system anyway, so there is no need to
mess with it.

Brgds,
Viktor

On Fri, Mar 27, 2009 at 3:19 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

> Using mpkg_rpm.sh
>
> ..............
> Processing files: harbour-debug-1.1.0-devmdv20090
> Checking for unpackaged file(s): /usr/lib/rpm/check-files
> /tmp/harbour-1.1.0-root
> error: Installed (but unpackaged) file(s) found:
>  /usr/lib/harbour/libsqlite3.a
>
>
> RPM build errors:
>   Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
>   Installed (but unpackaged) file(s) found:
>  /usr/lib/harbour/libsqlite3.a
> [baz@jackodesktop harbour]$
>
> Rgds Barry
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/826be418/attachment-0001.html
From vszakats at users.sourceforge.net  Fri Mar 27 10:36:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 10:36:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10713] trunk/harbour
Message-ID: <E1LnDAc-0000gJ-D1@c3vjzd1.ch3.sourceforge.com>

Revision: 10713
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10713&view=rev
Author:   vszakats
Date:     2009-03-27 14:36:28 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 15:35 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * external/sqlite3/Makefile
    * Don't build it for linux and darwin.

  * contrib/hbsqlit3/Makefile
    * Changed to plain standard external dependency search method.
    + Added searching in local sqlite3 copy for win and os2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/external/sqlite3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Mar 27 10:53:52 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 10:54:12 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com> 
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com> 
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com> 
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
Message-ID: <609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>

Thanks for clarification i have also switched to MinGW
now compile with success the library and can use hbmk in c:harbour\tests
Now please help me in last step
c:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\devl\qt\lib
hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
hbmk: Processing: hbqt.hbp
Harbour 1.1.0dev (Rev. 10709)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 70, Functions/Procedures 1
Generating C source output to 'demoqt.c'... Done.
C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: canno
t find -lQtCore4
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 1:
gcc.exe demoqt.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_8hp3pl.c    -O3  -ode
moqt.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -Lc:/devl/qt/lib -mwi
ndows -Wl,--start-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm
-lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfp
t -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -l
gtgui -lhbpcre -lhbzlib -lsupc++ -lhbqt -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebK
it4 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshel
l32 -lole32 -loleaut32 -luuid -lmpr -lwinmm -lmapi32 -Wl,--end-group




2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
> On Fri, Mar 27, 2009 at 1:50 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Thanks
>> sorry for wasting your time
>> I am started from the idea that qt support only mingw, so i not
>> thinked at traslate minigw notation
>> Is possible use msvc9 with qt?
>
> QT supports MSVC, but the binary distribution doesn't
> ship COFF import libs for MSVC, so you either have to
> generate?them or create an MSVC build manually. I didn't try
> to go?that way, instead I've just switched to MinGW 4.3.3 for
> my?own?apps.
> --
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Mar 27 11:00:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 11:00:51 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>
Message-ID: <18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>

You need to point -L to the proper QT lib dir, I'm not sure which is that on
your system, on mine it is: C:\devl\Qt\2009.01\qt\lib

Brgds,
Viktor

On Fri, Mar 27, 2009 at 3:53 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Thanks for clarification i have also switched to MinGW
> now compile with success the library and can use hbmk in c:harbour\tests
> Now please help me in last step
> c:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\devl\qt\lib
> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> hbmk: Processing: hbqt.hbp
> Harbour 1.1.0dev (Rev. 10709)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'demoqt.prg'...
> Lines 70, Functions/Procedures 1
> Generating C source output to 'demoqt.c'... Done.
> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
> canno
> t find -lQtCore4
> collect2: ld returned 1 exit status
> hbmk: Error: Running C compiler. 1:
> gcc.exe demoqt.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_8hp3pl.c    -O3
>  -ode
> moqt.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -Lc:/devl/qt/lib
> -mwi
> ndows -Wl,--start-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug
> -lhbvm
> -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx
> -lrddfp
> t -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin
> -lgtwvt -l
> gtgui -lhbpcre -lhbzlib -lsupc++ -lhbqt -lQtCore4 -lQtGui4 -lQtNetwork4
> -lQtWebK
> it4 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32
> -lshel
> l32 -lole32 -loleaut32 -luuid -lmpr -lwinmm -lmapi32 -Wl,--end-group
>
>
>
>
> 2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
> > On Fri, Mar 27, 2009 at 1:50 PM, Massimo Belgrano <mbelgrano@deltain.it>
> > wrote:
> >>
> >> Thanks
> >> sorry for wasting your time
> >> I am started from the idea that qt support only mingw, so i not
> >> thinked at traslate minigw notation
> >> Is possible use msvc9 with qt?
> >
> > QT supports MSVC, but the binary distribution doesn't
> > ship COFF import libs for MSVC, so you either have to
> > generate them or create an MSVC build manually. I didn't try
> > to go that way, instead I've just switched to MinGW 4.3.3 for
> > my own apps.
> > --
> > Viktor
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/07cd288a/attachment.html
From zen25000 at zen.co.uk  Fri Mar 27 11:03:25 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Fri Mar 27 11:03:24 2009
Subject: [Harbour] RPM build error with current SVN
In-Reply-To: <18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>
References: <49CCE05A.7090003@zen.co.uk>
	<18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>
Message-ID: <49CCEABD.2080709@zen.co.uk>

Thanks Viktor,    (Once again sorry abt direct email - I have to 
remember to remove addr from list when I use reply)

Now I have another:-

cp: cannot stat `doc/en/': No such file or 
directory                                              
error: Bad exit status from /var/tmp/rpm-tmp.32590 (%doc)

Przemek fixed this the other day but it's back again.
Clip from previous post:-
>
> > cp: cannot stat `doc/es/': No such file or directory
>   

>>this directory had been removed from SVN but RPM and DEB spec have not
>>been updated yet. I'll make it.

>>New build scripts creates doc directory but do not create en and es
>>subdirectories. It should be fixed too and probably scripts created

>>to build packages updated for modified make_gnu.*

(Przemek)


Viktor Szak?ts wrote: Probably the best will be to disable this lib for 
linux / darwin 
as it comes with the system anyway, so there is no need to 
mess with it.

Brgds,
Viktor

On Fri, Mar 27, 2009 at 3:19 PM, Barry Jackson <zen25000@zen.co.uk 
<mailto:zen25000@zen.co.uk>> wrote:

    Using mpkg_rpm.sh

    ..............
    Processing files: harbour-debug-1.1.0-devmdv20090
    Checking for unpackaged file(s): /usr/lib/rpm/check-files
    /tmp/harbour-1.1.0-root
    error: Installed (but unpackaged) file(s) found:
     /usr/lib/harbour/libsqlite3.a


    RPM build errors:
      Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
      Installed (but unpackaged) file(s) found:
     /usr/lib/harbour/libsqlite3.a
    [baz@jackodesktop harbour]$

    Rgds Barry
    _______________________________________________
    Harbour mailing list
    Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
    http://lists.harbour-project.org/mailman/listinfo/harbour




-- 
Viktor

Viktor Szak?ts wrote:
> Probably the best will be to disable this lib for linux / darwin 
> as it comes with the system anyway, so there is no need to 
> mess with it.
>
> Brgds,
> Viktor
>
> On Fri, Mar 27, 2009 at 3:19 PM, Barry Jackson <zen25000@zen.co.uk 
> <mailto:zen25000@zen.co.uk>> wrote:
>
>     Using mpkg_rpm.sh
>
>     ..............
>     Processing files: harbour-debug-1.1.0-devmdv20090
>     Checking for unpackaged file(s): /usr/lib/rpm/check-files
>     /tmp/harbour-1.1.0-root
>     error: Installed (but unpackaged) file(s) found:
>      /usr/lib/harbour/libsqlite3.a
>
>
>     RPM build errors:
>       Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
>       Installed (but unpackaged) file(s) found:
>      /usr/lib/harbour/libsqlite3.a
>     [baz@jackodesktop harbour]$
>
>     Rgds Barry
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> -- 
> Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/3ba6d0ff/attachment.html
From harbour.01 at syenar.hu  Fri Mar 27 11:06:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 11:07:01 2009
Subject: [Harbour] RPM build error with current SVN
In-Reply-To: <49CCE96E.5090407@zen.co.uk>
References: <49CCE05A.7090003@zen.co.uk>
	<18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>
	<49CCE96E.5090407@zen.co.uk>
Message-ID: <18d502870903270806x19467a0dr353b43409f2bc4e@mail.gmail.com>

Yes, because doc dirs are on the move these days.
I suggest to wait a little until it settles, until then you
can use plain make_gnu.sh to build, or maybe there
are rpm options to continue gracefully in such error
case.

I'll try to update it, but I cannot test rpm creation.

Brgds,
Viktor

On Fri, Mar 27, 2009 at 3:57 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

>  Thanks Viktor,
> Now I have another:-
>
> cp: cannot stat `doc/en/': No such file or
> directory
> error: Bad exit status from /var/tmp/rpm-tmp.32590 (%doc)
>
> Przemek fixed this the other day but it's back again.
> Clip from previous post:-
>
> > cp: cannot stat `doc/es/': No such file or directory
>
>
>  >>this directory had been removed from SVN but RPM and DEB spec have not
> >>been updated yet. I'll make it.
>
> >>New build scripts creates doc directory but do not create en and es
> >>subdirectories. It should be fixed too and probably scripts created
>
> >>to build packages updated for modified make_gnu.*
> (Przemek)
>
>
> Viktor Szak?ts wrote:
>
> Probably the best will be to disable this lib for linux / darwin  as it
> comes with the system anyway, so there is no need to
> mess with it.
>
>  Brgds,
> Viktor
>
> On Fri, Mar 27, 2009 at 3:19 PM, Barry Jackson <zen25000@zen.co.uk> wrote:
>
>> Using mpkg_rpm.sh
>>
>> ..............
>> Processing files: harbour-debug-1.1.0-devmdv20090
>> Checking for unpackaged file(s): /usr/lib/rpm/check-files
>> /tmp/harbour-1.1.0-root
>> error: Installed (but unpackaged) file(s) found:
>>  /usr/lib/harbour/libsqlite3.a
>>
>>
>> RPM build errors:
>>   Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
>>   Installed (but unpackaged) file(s) found:
>>  /usr/lib/harbour/libsqlite3.a
>> [baz@jackodesktop harbour]$
>>
>> Rgds Barry
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Viktor
>
>


-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/b8e099b6/attachment-0001.html
From zen25000 at zen.co.uk  Fri Mar 27 11:21:01 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Fri Mar 27 11:21:01 2009
Subject: [Harbour] RPM build error with current SVN
In-Reply-To: <18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>
References: <49CCE05A.7090003@zen.co.uk>
	<18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>
Message-ID: <49CCEEDD.2020201@zen.co.uk>

OK thanks.
Is there any reason why mpkg_rpm.sh  defaults to:-
/usr/bin
/usr/lib/harbour
/usr/include/harbour

but # make_gnu.sh install defaults to:-
/usr/local/bin
/usr/local/lib/harbour
/usr/local/include/harbour

I have no paths or env set for harbour.
It would be good if they both did the same.
Cheers, Barry

Viktor Szak?ts wrote:
> Probably the best will be to disable this lib for linux / darwin 
> as it comes with the system anyway, so there is no need to 
> mess with it.
>
> Brgds,
> Viktor
>
> On Fri, Mar 27, 2009 at 3:19 PM, Barry Jackson <zen25000@zen.co.uk 
> <mailto:zen25000@zen.co.uk>> wrote:
>
>     Using mpkg_rpm.sh
>
>     ..............
>     Processing files: harbour-debug-1.1.0-devmdv20090
>     Checking for unpackaged file(s): /usr/lib/rpm/check-files
>     /tmp/harbour-1.1.0-root
>     error: Installed (but unpackaged) file(s) found:
>      /usr/lib/harbour/libsqlite3.a
>
>
>     RPM build errors:
>       Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
>       Installed (but unpackaged) file(s) found:
>      /usr/lib/harbour/libsqlite3.a
>     [baz@jackodesktop harbour]$
>
>     Rgds Barry
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> -- 
> Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/76c211fc/attachment.html
From harbour.01 at syenar.hu  Fri Mar 27 11:27:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 11:27:20 2009
Subject: [Harbour] RPM build error with current SVN
In-Reply-To: <49CCEEDD.2020201@zen.co.uk>
References: <49CCE05A.7090003@zen.co.uk>
	<18d502870903270729v51c4ef12xa5be0f48bfd92877@mail.gmail.com>
	<49CCEEDD.2020201@zen.co.uk>
Message-ID: <18d502870903270827g1cabaf28t774d206174126514@mail.gmail.com>

I'm not sure. Przemek must know the answer.
Brgds,
Viktor

On Fri, Mar 27, 2009 at 4:21 PM, Barry Jackson <zen25000@zen.co.uk> wrote:

>  OK thanks.
> Is there any reason why mpkg_rpm.sh  defaults to:-
> /usr/bin
> /usr/lib/harbour
> /usr/include/harbour
>
> but # make_gnu.sh install defaults to:-
> /usr/local/bin
> /usr/local/lib/harbour
> /usr/local/include/harbour
>
> I have no paths or env set for harbour.
> It would be good if they both did the same.
> Cheers, Barry
>
>
> Viktor Szak?ts wrote:
>
> Probably the best will be to disable this lib for linux / darwin  as it
> comes with the system anyway, so there is no need to
> mess with it.
>
>  Brgds,
> Viktor
>
> On Fri, Mar 27, 2009 at 3:19 PM, Barry Jackson <zen25000@zen.co.uk> wrote:
>
>> Using mpkg_rpm.sh
>>
>> ..............
>> Processing files: harbour-debug-1.1.0-devmdv20090
>> Checking for unpackaged file(s): /usr/lib/rpm/check-files
>> /tmp/harbour-1.1.0-root
>> error: Installed (but unpackaged) file(s) found:
>>  /usr/lib/harbour/libsqlite3.a
>>
>>
>> RPM build errors:
>>   Bad exit status from /var/tmp/rpm-tmp.99712 (%doc)
>>   Installed (but unpackaged) file(s) found:
>>  /usr/lib/harbour/libsqlite3.a
>> [baz@jackodesktop harbour]$
>>
>> Rgds Barry
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/ef4d6e10/attachment.html
From vszakats at users.sourceforge.net  Fri Mar 27 11:40:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 11:40:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10714] trunk/harbour
Message-ID: <E1LnEAP-00084d-DT@dn4whf1.ch3.sourceforge.com>

Revision: 10714
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10714&view=rev
Author:   vszakats
Date:     2009-03-27 15:40:18 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 16:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * debian/dirs
    * Changed en -> en-EN.

  * external/sqlite3/Makefile
  * external/sqlite3/_sqlite3.c
    + Disabled warnings and forced C mode for sqlite3.
    - Deleted no longer needed stub.

  * include/hbsetup.h
    + Added HB_PATH_MAX.

  * source/compiler/genc.c
    * Minor modification to recent addition to make code
      more grep friendly.

  * config/win/msvc.cf
  * config/win/msvcce.cf
    + Added HB_BUILD_MODE=c and HB_BUILD_MODE=cpp support
      to force specific build mode.
      ATTENTION: Don't use this for normal Harbour code,
                 it's only meant for external libs hosted
                 inside Harbour source tree.

  * config/win/pocc.cf
  * config/win/poccce.cf
    + Added -w3 (default is -w2).

  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/owatcom.cf
  * config/dos/djgpp.cf
  * config/win/mingwce.cf
  * config/win/poccce.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/owatcom.cf
  * config/win/msvcce.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/owatcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/os2/owatcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/bsd/gcc.cf
    + Added support for HB_BUILD_WARN=no to reset warning levels
      to compiler defaults.
      ATTENTION: Don't use this for normal Harbour code,
                 it's only meant for external libs hosted
                 inside Harbour source tree.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingwce.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvcce.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/debian/dirs
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/compiler/genc.c

Removed Paths:
-------------
    trunk/harbour/external/sqlite3/_sqlite3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Mar 27 11:48:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 11:48:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10715] trunk/harbour
Message-ID: <E1LnEIF-0008Fz-T4@dn4whf1.ch3.sourceforge.com>

Revision: 10715
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10715&view=rev
Author:   vszakats
Date:     2009-03-27 15:48:06 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 16:46 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * external/sqlite3/sqlite3.c
  * external/sqlite3/sqlite3.h
    * Updated to latest version.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/sqlite3/sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Mar 27 11:56:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 11:56:45 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com> 
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com> 
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com> 
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com> 
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com> 
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>
Message-ID: <609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>

as usual you are right
hbmk2 demoqt -Lc:\devl\Qt\2009.01\qt\lib

now generate exe but running receive follow error
impossible found entry point
_z11qt_assert_xpk:cs0_s0 in dll qtcore4.dll


2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
> You need to point -L to the proper QT lib dir, I'm not sure which is
> that on your system, on mine it is:?C:\devl\Qt\2009.01\qt\lib
> Brgds,
> Viktor
>
> On Fri, Mar 27, 2009 at 3:53 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Thanks for clarification i have also switched to MinGW
>> now compile with success the library and can use hbmk in c:harbour\tests
>> Now please help me in last step
>> c:\harbour\contrib\hbqt\tests>hbmk2 demoqt -Lc:\devl\qt\lib
>> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
>> hbmk: Processing: hbqt.hbp
>> Harbour 1.1.0dev (Rev. 10709)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'demoqt.prg'...
>> Lines 70, Functions/Procedures 1
>> Generating C source output to 'demoqt.c'... Done.
>> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
>> canno
>> t find -lQtCore4
>> collect2: ld returned 1 exit status
>> hbmk: Error: Running C compiler. 1:
>> gcc.exe demoqt.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_8hp3pl.c ? ?-O3
>> ?-ode
>> moqt.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib
>> -Lc:/devl/qt/lib -mwi
>> ndows -Wl,--start-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug
>> -lhbvm
>> -lhbrdd -lhbusrrdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx
>> -lrddfp
>> t -lhbrtl -lhbpp -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin
>> -lgtwvt -l
>> gtgui -lhbpcre -lhbzlib -lsupc++ -lhbqt -lQtCore4 -lQtGui4 -lQtNetwork4
>> -lQtWebK
>> it4 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32
>> -lshel
>> l32 -lole32 -loleaut32 -luuid -lmpr -lwinmm -lmapi32 -Wl,--end-group
>>
>>
>>
>>
>> 2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > On Fri, Mar 27, 2009 at 1:50 PM, Massimo Belgrano <mbelgrano@deltain.it>
>> > wrote:
>> >>
>> >> Thanks
>> >> sorry for wasting your time
>> >> I am started from the idea that qt support only mingw, so i not
>> >> thinked at traslate minigw notation
>> >> Is possible use msvc9 with qt?
>> >
>> > QT supports MSVC, but the binary distribution doesn't
>> > ship COFF import libs for MSVC, so you either have to
>> > generate?them or create an MSVC build manually. I didn't try
>> > to go?that way, instead I've just switched to MinGW 4.3.3 for
>> > my?own?apps.
>> > --
>> > Viktor
>> >
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> --
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From labitas at gmail.com  Fri Mar 27 12:05:14 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Mar 27 12:05:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10710] trunk/harbour
In-Reply-To: <E1LnBbc-0002no-OA@d5vjzd1.ch3.sourceforge.com>
References: <E1LnBbc-0002no-OA@d5vjzd1.ch3.sourceforge.com>
Message-ID: <2386af1b0903270905o68b34239j8621490843ff43d@mail.gmail.com>

Hi Przemek,

> ? ?+ added void hb_vmAtQuit( HB_INIT_FUNC pFunc, void * cargo );
> ? ? ?AtQuit functions are executed after deallocating all HVM items and
> ? ? ?disabling .prg destructors. They can make final cleanup at C level
> ? ? ?but should not reenter HVM.

And what about hb_vmAtStart ?
Only thought... init-exit, start-quit

Best regards,
Saulius
From harbour.01 at syenar.hu  Fri Mar 27 12:07:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 12:07:48 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>
	<609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>
Message-ID: <18d502870903270907k48c9c58eq35b9829fd36cc39d@mail.gmail.com>

>
> as usual you are right
> hbmk2 demoqt -Lc:\devl\Qt\2009.01\qt\lib
>
> now generate exe but running receive follow error
> impossible found entry point
> _z11qt_assert_xpk:cs0_s0 in dll qtcore4.dll


Just a guess, but maybe the wrong .dll is picked.
Copy the ones in QT lib dir next to your .exe.

--
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/2cdbcada/attachment.html
From druzus at acn.waw.pl  Fri Mar 27 12:20:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 27 12:13:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10710] trunk/harbour
In-Reply-To: <2386af1b0903270905o68b34239j8621490843ff43d@mail.gmail.com>
References: <E1LnBbc-0002no-OA@d5vjzd1.ch3.sourceforge.com>
	<2386af1b0903270905o68b34239j8621490843ff43d@mail.gmail.com>
Message-ID: <20090327162030.GA16496@uran.home.aster.pl>

On Fri, 27 Mar 2009, Saulius Zrelskis wrote:

Hi,

> > ? ?+ added void hb_vmAtQuit( HB_INIT_FUNC pFunc, void * cargo );
> > ? ? ?AtQuit functions are executed after deallocating all HVM items and
> > ? ? ?disabling .prg destructors. They can make final cleanup at C level
> > ? ? ?but should not reenter HVM.
> And what about hb_vmAtStart ?
> Only thought... init-exit, start-quit

It will not give any new functionality to existing startup code.
Just simply inside startup code you will set AtStart functions
which will be executed a while later. Usually if you want to
introduce some delay here then you have to wait for all module
registration and in such case current AtInit functions are exactly
what you need.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Mar 27 12:28:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 27 12:21:43 2009
Subject: [Harbour] XBASE++ speedtst
Message-ID: <20090327162822.GA17333@uran.home.aster.pl>

Hi All,

I would like to ask xbase++ users to make MT performance tests with
this compiler and tests/speedtst.prg.
I'm interesting in results from:
   speedtst.exe --thread=2 --scale
current version should create speedlog.txt file with results.
It would be perfect if someone can run this test on real multiCPU
machine. In such case we can compare scalability. If some of you
have computer with more then 2 CPUs then I would like to ask also
about test like:
   speedtst.exe --thread=<numCPUs> --scale
where <numCPUs> is the number of CPUs.

best regards,
Przemek
From mbelgrano at deltain.it  Fri Mar 27 12:25:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 12:25:33 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <18d502870903270907k48c9c58eq35b9829fd36cc39d@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com> 
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com> 
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com> 
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com> 
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com> 
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com> 
	<609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com> 
	<18d502870903270907k48c9c58eq35b9829fd36cc39d@mail.gmail.com>
Message-ID: <609353e70903270925j2e175c47vc317a2f7ed908469@mail.gmail.com>

Correct Guess!
Work right after
copy C:\devl\Qt\2009.01\qt\bin\QtCore4.dll
copy C:\devl\Qt\2009.01\qt\bin\QtGui4.dll

Is /will  possible include this dll in executable?

2009/3/27 Viktor Szak?ts <harbour.01@syenar.hu>:
>> as usual you are right
>> hbmk2 demoqt -Lc:\devl\Qt\2009.01\qt\lib
>>
>> now generate exe but running receive follow error
>> impossible found entry point
>> _z11qt_assert_xpk:cs0_s0 in dll qtcore4.dll
>
> Just a guess, but maybe the wrong .dll is picked.
> Copy the ones in QT lib dir next to your .exe.
> --
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Fri Mar 27 12:31:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 12:31:40 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903270925j2e175c47vc317a2f7ed908469@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>
	<609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>
	<18d502870903270907k48c9c58eq35b9829fd36cc39d@mail.gmail.com>
	<609353e70903270925j2e175c47vc317a2f7ed908469@mail.gmail.com>
Message-ID: <18d502870903270931s70bf48b8w1c87a12008fb7725@mail.gmail.com>

>
> Correct Guess!
> Work right after
> copy C:\devl\Qt\2009.01\qt\bin\QtCore4.dll
> copy C:\devl\Qt\2009.01\qt\bin\QtGui4.dll
>
> Is /will  possible include this dll in executable?


I'm also interested in this, but we should probably ask QT
developers about it. The binary distro doesn't contains
static libs AFAICS. Maybe it's possible to build them from
source (or use alternate binary distribution), I haven't checked.

-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/2eff0d4b/attachment.html
From marcosgambeta at uol.com.br  Fri Mar 27 12:35:48 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Fri Mar 27 12:35:56 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>
	<609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>
Message-ID: <49CD0064.6040004@uol.com.br>

Massimo Belgrano escreveu:
 > as usual you are right
 > hbmk2 demoqt -Lc:\devl\Qt\2009.01\qt\lib
 >
 > now generate exe but running receive follow error
 > impossible found entry point
 > _z11qt_assert_xpk:cs0_s0 in dll qtcore4.dll
 >

You can:

1) add c:\devl\Qt\2009.01\qt\bin to your PATH

2) copy the exe to c:\devl\Qt\2009.01\qt\bin

3) copy qtcore4.dll and qtgui4.dll to same folder of the exe


Regards,
Marcos Gambeta

From vszakats at users.sourceforge.net  Fri Mar 27 13:35:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Mar 27 13:35:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10716] trunk/harbour
Message-ID: <E1LnFxc-0002eu-Ta@d5vjzd1.ch3.sourceforge.com>

Revision: 10716
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10716&view=rev
Author:   vszakats
Date:     2009-03-27 17:35:14 +0000 (Fri, 27 Mar 2009)

Log Message:
-----------
2009-03-27 18:30 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/win/poccce.cf
  * config/win/pocc.cf
    * Warning level taken down to -w2.

  * contrib/hbsqlit3/Makefile
    - Disabled for pocc, as it chokes on the new version of
      sqlite3.h.

  * INSTALL
    * Minor update.

  * include/hbapifs.h
  * include/hbdbsort.h
  * include/hbsetup.h
  * contrib/hbct/files.c
  * contrib/hbct/disk.c
  * contrib/hbmzip/hbmzip.c
  * contrib/rddads/ads1.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/examples/pp/pp.c
  * contrib/examples/pp/hbppcore.c
  * source/pp/ppcore.c
  * source/pp/hbpp.c
  * source/vm/runner.c
  * source/vm/estack.c
  * source/vm/hvm.c
  * source/vm/cmdarg.c
  * source/vm/fm.c
  * source/vm/proc.c
  * source/vm/extrap.c
  * source/vm/memvars.c
  * source/vm/set.c
  * source/main/harbour.c
  * source/common/hbfsapi.c
  * source/common/hbwince.c
  * source/rtl/spfiles.c
  * source/rtl/defpath.c
  * source/rtl/philes.c
  * source/rtl/fnsplit.c
  * source/rtl/fstemp.c
  * source/rtl/gtchrmap.c
  * source/rtl/errorint.c
  * source/rtl/filebuf.c
  * source/rtl/hbffind.c
  * source/rtl/filesys.c
  * source/rtl/file.c
  * source/rdd/dbfntx/dbfntx1.c
  * source/rdd/sdf1.c
  * source/rdd/dbfnsx/dbfnsx1.c
  * source/rdd/dbfcdx/dbfcdx1.c
  * source/rdd/delim1.c
  * source/rdd/dbf1.c
  * source/rdd/hsx/hsx.c
  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/hbsix/sxsem.c
  * source/rdd/hbsix/sxfname.c
  * source/compiler/hbmain.c
  * source/compiler/genc.c
  * source/compiler/harbour.yyc
  * source/compiler/harbour.y
  * source/compiler/compi18n.c
  * source/compiler/genhrb.c
  * source/compiler/gencobj.c
  * source/compiler/genobj32.c
    * _POSIX_PATH_MAX + 1 -> HB_PATH_MAX
    * _POSIX_PATH_MAX -> HB_PATH_MAX - 1
      Please update your .c code to use new constant.
      Harbour initialization of the value is now HB_LEGACY_LEVEL2
      and will be removed in next version.
    ; Please review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/contrib/examples/pp/hbppcore.c
    trunk/harbour/contrib/examples/pp/pp.c
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbdbsort.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/common/hbfsapi.c
    trunk/harbour/source/common/hbwince.c
    trunk/harbour/source/compiler/compi18n.c
    trunk/harbour/source/compiler/genc.c
    trunk/harbour/source/compiler/gencobj.c
    trunk/harbour/source/compiler/genhrb.c
    trunk/harbour/source/compiler/genobj32.c
    trunk/harbour/source/compiler/harbour.y
    trunk/harbour/source/compiler/harbour.yyc
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/main/harbour.c
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/pp/ppcore.c
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rdd/delim1.c
    trunk/harbour/source/rdd/hbsix/sxfname.c
    trunk/harbour/source/rdd/hbsix/sxsem.c
    trunk/harbour/source/rdd/hsx/hsx.c
    trunk/harbour/source/rdd/sdf1.c
    trunk/harbour/source/rtl/defpath.c
    trunk/harbour/source/rtl/errorint.c
    trunk/harbour/source/rtl/file.c
    trunk/harbour/source/rtl/filebuf.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/fnsplit.c
    trunk/harbour/source/rtl/fstemp.c
    trunk/harbour/source/rtl/gtchrmap.c
    trunk/harbour/source/rtl/hbffind.c
    trunk/harbour/source/rtl/philes.c
    trunk/harbour/source/rtl/spfiles.c
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/estack.c
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/memvars.c
    trunk/harbour/source/vm/proc.c
    trunk/harbour/source/vm/runner.c
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From labitas at gmail.com  Fri Mar 27 13:35:38 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Mar 27 13:35:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10710] trunk/harbour
In-Reply-To: <20090327162030.GA16496@uran.home.aster.pl>
References: <E1LnBbc-0002no-OA@d5vjzd1.ch3.sourceforge.com>
	<2386af1b0903270905o68b34239j8621490843ff43d@mail.gmail.com>
	<20090327162030.GA16496@uran.home.aster.pl>
Message-ID: <2386af1b0903271035n1e08f6w3f2bcebb4a27d121@mail.gmail.com>

Hi Przemek,

I have C level function, which makes copy of current task to local place
and restarts itself from there, terminating current task. This allows
replace executable on network without touching any active user. If task
terminates with error, sometimes users don't understand, why restarted
task works as expected; or some new actions can be seen just restarting
program as usual; or various protecting things.

IMO AtStart is nice place for such actions.
AtInit functions for initializing purposes...

Sorry for disturbing, Friday, time for relaxation:)

Best regards and good weekend,
Saulius
From ale.seribeli at ig.com.br  Fri Mar 27 13:47:03 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Fri Mar 27 13:47:07 2009
Subject: [Harbour] Generate the binary for WinCE with MSVC 2008 Express ?
Message-ID: <22745194.post@talk.nabble.com>


I am not able to generate binaries for WinCE harbor.

I'm using MSVC 2008 Express that generates this error:

My make_VcCe.bat :

set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
rem
set HB_COMPILER=msvcce
rem
set HB_INSTALL_PREFIX=g:\hbvcce

Erro.Log:

G:\SVN\harbour\source\common>if not exist ..\..\lib\win\msvcce\. md
..\..\lib\win\msvcce 
make.exe[3]: Entering directory `G:/SVN/harbour/source/common/win/msvcce'
cl.exe -I. -I../../../../include -nologo -W4 -D"_WIN32_WCE=0x420"
-D"UNDER_CE=0x420" -D"WIN32_PLATFORM_PSPC" -D"WINCE" -D"_WINCE" -D"_WINDOWS"
-D"ARM" -D"_ARM_" -D"ARMV4" -D"POCKETPC2003_UI_MODEL" -D"_M_ARM" -D"UNICODE"
-D"_UNICODE" -D_UWIN -Od -Os -Gy -GS- -EHsc- -Gm -Zi -GR-    -c
../../expropt1.c -Foexpropt1.obj
cl : L?nea de comandos warning D9028 : error de regeneraci?n m?nimo,
revirtiendo a la compilaci?n normal
expropt1.c
../../expropt1.c : fatal error C1902: El administrador de base de datos de
programa no coincide; compruebe la instalaci?n
make.exe[3]: Leaving directory `G:/SVN/harbour/source/common/win/msvcce'
make.exe[2]: Leaving directory `G:/SVN/harbour/source/common'
make.exe[1]: Leaving directory `G:/SVN/harbour/source'

Tranks, Ale


-- 
View this message in context: http://www.nabble.com/Generate-the-binary-for-WinCE-with-MSVC-2008-Express---tp22745194p22745194.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vskarm at otenet.gr  Fri Mar 27 13:55:01 2009
From: vskarm at otenet.gr (Vagelis Skarmaliorakis)
Date: Fri Mar 27 13:55:05 2009
Subject: [Harbour] A little help with hbqt demoqt
In-Reply-To: <22739680.post@talk.nabble.com>
References: <22730759.post@talk.nabble.com> <22731076.post@talk.nabble.com>
	<22731184.post@talk.nabble.com> <22737762.post@talk.nabble.com>
	<18d502870903270144i5dd24259nf9cf7298ad31bce6@mail.gmail.com>
	<22738122.post@talk.nabble.com> <22739473.post@talk.nabble.com>
	<18d502870903270408p7b17d2d9kb4b4d4240587fba6@mail.gmail.com>
	<18d502870903270412g3be3495cq148b76e3cac13048@mail.gmail.com>
	<22739680.post@talk.nabble.com>
Message-ID: <22745200.post@talk.nabble.com>


Hi,

Has anybody compiled and runed the demoqt at linux 64bit ?

Any help is welcome

Regards
Vagelis
-- 
View this message in context: http://www.nabble.com/A-little-help-with-hbqt-demoqt-tp22730759p22745200.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Mar 27 14:00:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 14:01:00 2009
Subject: [Harbour] Generate the binary for WinCE with MSVC 2008 Express ?
In-Reply-To: <22745194.post@talk.nabble.com>
References: <22745194.post@talk.nabble.com>
Message-ID: <18d502870903271100r365b3ba1xcbca3af167b0eac9@mail.gmail.com>

This won't work like this. See the POCC or MinGW samples for the additional
envvars you'll need. Notice however, that MSVS
2008 Express doesn't support WinCE. I have MSVS 2008 Prof
and this one supports it, but so far I didn't manage to create a build.

I'd recommend mingwce, which is working and free. I've posted
the details just recently, here is the script:

---
set
PATH=C:\devl\msys\1.0.11\bin;C:\devl\MinGW-410-ce\opt\mingw32ce\bin;%PATH%
set HB_CCPATH=C:\devl\MinGW-410-ce\opt\mingw32ce\bin
rem
set HB_COMPILER=mingwce
rem
set HB_COMP_PATH=/c/devl/hbvc-1.1/bin/harbour.exe
set HB_PPGEN_PATH=/c/devl/hbvc-1.1/bin/hbpp.exe
rem
set HB_INSTALL_PREFIX=/c/devl/hb%HB_COMPILER%-1.1-test
sh make_gnu_xmingwce.sh -i install > out.txt 2>&1
exit
---

--
Viktor

On Fri, Mar 27, 2009 at 6:47 PM, Ale SB <ale.seribeli@ig.com.br> wrote:

>
> I am not able to generate binaries for WinCE harbor.
>
> I'm using MSVC 2008 Express that generates this error:
>
> My make_VcCe.bat :
>
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
> rem
> set HB_COMPILER=msvcce
> rem
> set HB_INSTALL_PREFIX=g:\hbvcce
>
> Erro.Log:
>
> G:\SVN\harbour\source\common>if not exist ..\..\lib\win\msvcce\. md
> ..\..\lib\win\msvcce
> make.exe[3]: Entering directory `G:/SVN/harbour/source/common/win/msvcce'
> cl.exe -I. -I../../../../include -nologo -W4 -D"_WIN32_WCE=0x420"
> -D"UNDER_CE=0x420" -D"WIN32_PLATFORM_PSPC" -D"WINCE" -D"_WINCE"
> -D"_WINDOWS"
> -D"ARM" -D"_ARM_" -D"ARMV4" -D"POCKETPC2003_UI_MODEL" -D"_M_ARM"
> -D"UNICODE"
> -D"_UNICODE" -D_UWIN -Od -Os -Gy -GS- -EHsc- -Gm -Zi -GR-    -c
> ../../expropt1.c -Foexpropt1.obj
> cl : L?nea de comandos warning D9028 : error de regeneraci?n m?nimo,
> revirtiendo a la compilaci?n normal
> expropt1.c
> ../../expropt1.c : fatal error C1902: El administrador de base de datos de
> programa no coincide; compruebe la instalaci?n
> make.exe[3]: Leaving directory `G:/SVN/harbour/source/common/win/msvcce'
> make.exe[2]: Leaving directory `G:/SVN/harbour/source/common'
> make.exe[1]: Leaving directory `G:/SVN/harbour/source'
>
> Tranks, Ale
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/dad2c4b1/attachment.html
From guy.roussin at teledetection.fr  Fri Mar 27 14:09:55 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Mar 27 14:10:01 2009
Subject: [Harbour] time in seconds since 1970
Message-ID: <49CD1673.8000703@teledetection.fr>

Hi,

I try to get the time since 1970/01/01 0:00 GMT
in seconds (same as date '+%s') or better in milliseconds
with harbour.

How can i do that ?

Thank you.

-- 
Guy 

From harbour.01 at syenar.hu  Fri Mar 27 14:16:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Mar 27 14:16:50 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <49CD1673.8000703@teledetection.fr>
References: <49CD1673.8000703@teledetection.fr>
Message-ID: <18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>

Hi Guy,
In ms:
? ( hb_datetime() - t"1970-01-01" ) * ( 24 * 60 * 60 * 1000 )

--
Viktor

On Fri, Mar 27, 2009 at 7:09 PM, Guy Roussin
<guy.roussin@teledetection.fr>wrote:

> Hi,
>
> I try to get the time since 1970/01/01 0:00 GMT
> in seconds (same as date '+%s') or better in milliseconds
> with harbour.
>
> How can i do that ?
>
> Thank you.
>
> --
> Guy
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090327/e189a84b/attachment.html
From ranier at cultura.com.br  Fri Mar 27 14:35:40 2009
From: ranier at cultura.com.br (Ranier Vilela)
Date: Fri Mar 27 14:36:44 2009
Subject: [Harbour] PHB_ITEM dynamic writing
Message-ID: <49CD1C7C.3060409@cultura.com.br>

Hi for all...

This code below, is useful for anyone in harbour code?

/* items hold at the virtual machine stack */
typedef struct _HB_ITEM
{
   HB_TYPE type;
   union
   {
      char                           *ptr;  /* for dynamic writing */
      struct hb_struArray     asArray;
      struct hb_struBlock     asBlock;
      struct hb_struDate      asDate;
      struct hb_struDouble    asDouble;
      struct hb_struInteger   asInteger;
      struct hb_struLogical   asLogical;
      struct hb_struLong      asLong;
      struct hb_struPointer   asPointer;
      struct hb_struHash      asHash;
      struct hb_struMemvar    asMemvar;
      struct hb_struRefer     asRefer;
      struct hb_struEnum      asEnum;
      struct hb_struExtRef    asExtRef;
      struct hb_struString    asString;
      struct hb_struSymbol    asSymbol;
      struct hb_struRecover   asRecover;
   } item;
} HB_ITEM, * PHB_ITEM, * HB_ITEM_value;


void hb_item_write( HB_TYPE type, PHB_ITEM *pItem, char *ptr)
{
    pItem->type = type;
    pItem->item->ptr = ptr;
}

/* Macros */
#define hb_item_write_array(item, ptr)     hb_item_write(HB_IT_ARRAY, 
item, ptr)
#define hb_item_write_block(item, ptr)     hb_item_write(HB_IT_BLOCK, 
item, ptr)
#define hb_item_write_date(item, ptr)      hb_item_write(HB_IT_DATE, 
item, ptr)
#define hb_item_write_double(item, ptr)    hb_item_write(HB_IT_DOUBLE, 
item, ptr)
#define hb_item_write_integer(item, ptr)   hb_item_write(HB_IT_INTEGER, 
item, ptr)
#define hb_item_write_logical(item, ptr)   hb_item_write(HB_IT_LOGICAL, 
item, ptr)
#define hb_item_write_long(item, ptr)      hb_item_write(HB_IT_LONG, 
item, ptr)
#define hb_item_write_pointer(item, ptr)   hb_item_write(HB_IT_POINTER, 
item, ptr)
#define hb_item_write_hash(item, ptr)      hb_item_write(HB_IT_HASH, 
item, ptr)
#define hb_item_write_memvar(item, ptr)    hb_item_write(HB_IT_MEMVAR, 
item, ptr)
#define hb_item_write_refer(item, ptr)     hb_item_write(HB_IT_BYREF, 
item, ptr) // HB_IT_BYREF ???
#define hb_item_write_enum(item, ptr)      hb_item_write(HB_IT_ENUM, 
item, ptr)
#define hb_item_write_extef(item, ptr)     hb_item_extef(HB_IT_EXTREF, 
item, ptr)
#define hb_item_write_string(item, ptr)    hb_item_extef(HB_IT_STRING, 
item, ptr)
#define hb_item_write_symbol(item, ptr)    hb_item_symbol(HB_IT_SYMBOL, 
item, ptr)
//#define hb_item_write_recover(item, ptr)   
hb_item_recover(HB_IT_SYMBOL, item, ptr) RECOVER???

Thanks.

Ranier Vilela
From amigosam at adinet.com.uy  Fri Mar 27 14:49:20 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Mar 27 14:49:43 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090327162822.GA17333@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>
Message-ID: <gqj73f$krf$1@ger.gmane.org>

Hi Przemek

I'll do it in a while but AFAIK xbase++ only uses one processor per 
process, if so it does not scale.
We'll confirm that soon

Przemyslaw Czerpak escribi?:
> Hi All,
> 
> I would like to ask xbase++ users to make MT performance tests with
> this compiler and tests/speedtst.prg.
> I'm interesting in results from:
>    speedtst.exe --thread=2 --scale
> current version should create speedlog.txt file with results.
> It would be perfect if someone can run this test on real multiCPU
> machine. In such case we can compare scalability. If some of you
> have computer with more then 2 CPUs then I would like to ask also
> about test like:
>    speedtst.exe --thread=<numCPUs> --scale
> where <numCPUs> is the number of CPUs.
> 
> best regards,
> Przemek

From amigosam at adinet.com.uy  Fri Mar 27 14:55:05 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Mar 27 14:55:23 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqj73f$krf$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org>
Message-ID: <gqj7e9$m2e$1@ger.gmane.org>

It GPF'd with this log:

FATAL ERROR LOG
Not recoverable Error!
SYS Thread-ID: 1224
Module: MOM
Error Codes: EH: 1006 Sub: 0(0) OS: 0 XPP: 15
Call Stack of Thread 1 (1732):
@NOTIFIER@I@SUBSCRIBE(0)
HB_MUTEXSUBSCRIBE(0)
TEST(0)
MAIN(0)
Call Stack of Thread 2 (1548):
Call Stack of Thread 3 (1224):
T044(0)
THTESTSCALE(0)
Call Stack of Thread 4 (1180):
T044(0)
THTESTSCALE(0)
File: C:\experimentos\speedhb\speedxpp.exe
TimeStamp: 20090327 15:52
End of FATAL ERROR LOG.


From amigosam at adinet.com.uy  Fri Mar 27 15:19:27 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Mar 27 15:19:46 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqj7e9$m2e$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>
	<gqj7e9$m2e$1@ger.gmane.org>
Message-ID: <gqj8rv$q44$1@ger.gmane.org>

On second machine (dual core) it doesn't gpf'd but results look very 
strange to me.

Attached both logs...

HTH
Angel

I'd like another windows user to confirm my results, I can provide 
executable and runtime if someopne asks.

Angel Pais escribi?:
> It GPF'd with this log:
> 
> FATAL ERROR LOG
> Not recoverable Error!
> SYS Thread-ID: 1224
> Module: MOM
> Error Codes: EH: 1006 Sub: 0(0) OS: 0 XPP: 15
> Call Stack of Thread 1 (1732):
> @NOTIFIER@I@SUBSCRIBE(0)
> HB_MUTEXSUBSCRIBE(0)
> TEST(0)
> MAIN(0)
> Call Stack of Thread 2 (1548):
> Call Stack of Thread 3 (1224):
> T044(0)
> THTESTSCALE(0)
> Call Stack of Thread 4 (1180):
> T044(0)
> THTESTSCALE(0)
> File: C:\experimentos\speedhb\speedxpp.exe
> TimeStamp: 20090327 15:52
> End of FATAL ERROR LOG.
> 
> 

-------------- next part --------------
Pentium 4 3GZ 1GB RAM Dual Core



03/27/2009 16:55:40 Windows XP 05.02 Build 03790
Xbase++ (R) Version 1.90 (MT)+ 
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.17   0.25 ->  0.68
[ T002: x := L_N ]____________________________________  0.29   0.15 ->  1.93
[ T003: x := L_D ]____________________________________  0.21   0.11 ->  1.91
[ T004: x := S_C ]____________________________________  0.34   0.24 ->  1.42
[ T005: x := S_N ]____________________________________  0.17   0.19 ->  0.89
[ T006: x := S_D ]____________________________________  0.29   0.27 ->  1.07
[ T007: x := M->M_C ]_________________________________  0.66   0.46 ->  1.43
[ T008: x := M->M_N ]_________________________________  0.44   0.61 ->  0.72
[ T009: x := M->M_D ]_________________________________  0.50   0.36 ->  1.39
[ T010: x := M->P_C ]_________________________________  0.61   0.89 ->  0.69
[ T011: x := M->P_N ]_________________________________  0.42   0.39 ->  1.08
[ T012: x := M->P_D ]_________________________________  0.83   0.92 ->  0.90
[ T013: x := F_C ]____________________________________  0.92   0.85 ->  1.08
[ T014: x := F_N ]____________________________________  0.89   0.61 ->  1.46
[ T015: x := F_D ]____________________________________  0.89   0.72 ->  1.24
[ T016: x := o:Args ]_________________________________  0.45   0.70 ->  0.64
[ T017: x := o[2] ]___________________________________  0.27   0.22 ->  1.23
[ T018: round( i / 1000, 2 ) ]________________________  4.88   5.51 ->  0.89
[ T019: str( i / 1000 ) ]_____________________________ 33.63  34.22 ->  0.98
[ T020: val( s ) ]____________________________________  0.97   1.36 ->  0.71
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  3.14   3.42 ->  0.92
[ T022: dtos( d - i % 10000 ) ]_______________________  3.83   3.81 ->  1.01
[ T023: eval( { || i % 16 } ) ]_______________________  3.86   4.56 ->  0.85
[ T024: eval( bc := { || i % 16 } ) ]_________________  2.19   2.24 ->  0.98
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.69   1.80 ->  0.94
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.61   1.57 ->  1.03
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  2.24   2.25 ->  1.00
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  2.00   1.94 ->  1.03
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  2.87   2.78 ->  1.03
[ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 82.99  81.23 ->  1.02
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 78.28  76.13 ->  1.03
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.81   1.69 ->  1.07
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ] 36.16  36.09 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.28   1.22 ->  1.05
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  2.00   1.88 ->  1.06
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.89   1.92 ->  0.98
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  2.17   1.94 ->  1.12
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.97   1.90 ->  1.04
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  2.00   1.91 ->  1.05
[ T040: ascan( a, i % 16 ) ]__________________________  3.59   3.13 ->  1.15
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 22.44  64.61 ->  0.35
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 27.62  26.45 ->  1.04
[ T043: x := a ]______________________________________  0.21   0.25 ->  0.84
[ T044: x := {} ]_____________________________________  2.26   2.08 ->  1.09
[ T045: f0() ]________________________________________  0.72   0.44 ->  1.64
[ T046: f1( i ) ]_____________________________________  1.01   0.64 ->  1.58
[ T047: f2( c[1...8] ) ]______________________________  0.63   0.95 ->  0.66
[ T048: f2( c[1...40000] ) ]__________________________  0.67   0.78 ->  0.86
[ T049: f2( @c[1...40000] ) ]_________________________  0.68   0.47 ->  1.45
[ T050: f2( @c[1...40000] ), c2 := c ]________________  1.09   0.83 ->  1.31
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  2.12   1.71 ->  1.24
[ T052: f2( a ) ]_____________________________________  0.57   1.16 ->  0.49
[ T053: x := f4() ]___________________________________  4.12   3.90 ->  1.06
[ T054: x := f5() ]___________________________________  2.07   1.86 ->  1.11
[ T055: x := space(16) ]______________________________  4.78   1.49 ->  3.21
[ T056: f_prv( c ) ]__________________________________  2.27   3.03 ->  0.75
============================================================================
[   TOTAL   ]_________________________________________358.66 393.09 ->  0.91
============================================================================
[ total application time: ]...................................751.90
[ total real time: ]..........................................751.90
-------------- next part --------------
CPU CELEREON 560 2.13 GB 1GB RAM

03/27/2009 15:49:36 Windows XP 05.01 Build 02600 Service Pack 2
Xbase++ (R) Version 1.90 (MT)+ 
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.08   0.08 ->  1.00
[ T002: x := L_N ]____________________________________  0.06   0.05 ->  1.20
[ T003: x := L_D ]____________________________________  0.04   0.05 ->  0.80
[ T004: x := S_C ]____________________________________  0.16   0.15 ->  1.07
[ T005: x := S_N ]____________________________________  0.11   0.14 ->  0.79
[ T006: x := S_D ]____________________________________  0.13   0.12 ->  1.08
[ T007: x := M->M_C ]_________________________________  0.32   0.29 ->  1.10
[ T008: x := M->M_N ]_________________________________  0.25   0.27 ->  0.93
[ T009: x := M->M_D ]_________________________________  0.23   0.25 ->  0.92
[ T010: x := M->P_C ]_________________________________  0.33   0.34 ->  0.97
[ T011: x := M->P_N ]_________________________________  0.30   0.30 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.31   0.33 ->  0.94
[ T013: x := F_C ]____________________________________  0.48   0.47 ->  1.02
[ T014: x := F_N ]____________________________________  0.42   0.41 ->  1.02
[ T015: x := F_D ]____________________________________  0.41   0.39 ->  1.05
[ T016: x := o:Args ]_________________________________  0.29   0.29 ->  1.00
[ T017: x := o[2] ]___________________________________  0.10   0.10 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.87   0.86 ->  1.01
[ T019: str( i / 1000 ) ]_____________________________  4.10   4.14 ->  0.99
[ T020: val( s ) ]____________________________________  0.58   0.59 ->  0.98
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.77   0.75 ->  1.03
[ T022: dtos( d - i % 10000 ) ]_______________________  1.03   1.03 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  1.86   1.84 ->  1.01
[ T024: eval( bc := { || i % 16 } ) ]_________________  1.19   1.05 ->  1.13
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.85   0.87 ->  0.98
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.70   0.71 ->  0.99
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.07   1.05 ->  1.02
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.93   0.91 ->  1.02
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.42   1.36 ->  1.04
[ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 18.22  18.38 ->  0.99
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 27.46  27.57 ->  1.00
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.61   0.57 ->  1.07
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  3.71   3.69 ->  1.01
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.49   0.46 ->  1.07
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.66   0.67 ->  0.99
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.67   0.69 ->  0.97
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.68   0.69 ->  0.99
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.69   0.69 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.70   0.69 ->  1.01
[ T040: ascan( a, i % 16 ) ]__________________________  1.34   1.28 ->  1.05
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  8.60   8.53 ->  1.01
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 13.12  13.38 ->  0.98
[ T043: x := a ]______________________________________  0.07   0.06 ->  1.17
From guy.roussin at teledetection.fr  Fri Mar 27 17:19:50 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Mar 27 17:19:56 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>
References: <49CD1673.8000703@teledetection.fr>
	<18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>
Message-ID: <49CD42F6.5010202@teledetection.fr>

Hi Viktor,

Thank you for the quick reply.

But i think that -t"1970-01-01" is not "00:00 GMT"
but "00:00 local time" isn't it ?

So this is not exactly the result i expect ...

Guy

Viktor Szak?ts a ?crit :
> Hi Guy,
>
> In ms:
> ? ( hb_datetime() - t"1970-01-01" ) * ( 24 * 60 * 60 * 1000 )
>
> --
> Viktor
>
> On Fri, Mar 27, 2009 at 7:09 PM, Guy Roussin 
> <guy.roussin@teledetection.fr <mailto:guy.roussin@teledetection.fr>> 
> wrote:
>
>     Hi,
>
>     I try to get the time since 1970/01/01 0:00 GMT
>     in seconds (same as date '+%s') or better in milliseconds
>     with harbour.
>
>     How can i do that ?
>
>     Thank you.
>
From mbelgrano at deltain.it  Fri Mar 27 17:40:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Mar 27 17:40:50 2009
Subject: [Harbour] Wich way for integrate gmail api in harbour
Message-ID: <609353e70903271440p58c3bb54pa310ac21f48061cb@mail.gmail.com>

Is possible from harbour interface google api and facebook api?
How write in harbour something similar to follow procedure
(incomplete) that read from facebook image and write on gmail contact
Here source who use either
http://www.koushikdutta.com/2008/10/synchronizing-google-and-facebook.html


using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using Google.GData.Contacts;
using Google.GData.Client;
using System.IO;
using System.Net;
using Microsoft.Office.Interop.Outlook;
using Facebook;
using Facebook.Forms;
using Facebook.API;

namespace GoogleContactSync
{
    public partial class MainForm : Form
    {
        public MainForm()
        {
            InitializeComponent();
        }

        private void mySyncButton_Click(object sender, EventArgs e)
        {
            ContactsService service = new ContactsService("Google
Contact Sync");
            service.setUserCredentials(myUsername.Text, myPassword.Text);
            ContactsQuery query = new
ContactsQuery(ContactsQuery.CreateContactsUri("default"));
            ContactsFeed feed;
            List<ContactEntry> googleContacts = new List<ContactEntry>();
            do
            {
                feed = service.Query(query);
                googleContacts.AddRange(feed.Entries.Cast<ContactEntry>());
                query.StartIndex += feed.Entries.Count;
            }
            while (feed.TotalResults > query.StartIndex);

            Microsoft.Office.Interop.Outlook.ApplicationClass app =
new ApplicationClass();
            var ns = app.GetNamespace("MAPI");
            var contactsFolder =
ns.GetDefaultFolder(OlDefaultFolders.olFolderContacts);
            IEnumerable<ContactItem> outlookContacts =
contactsFolder.Items.Cast<ContactItem>();

            var api = new FacebookAPI();
            api.IsDesktopApplication = true;
            api.ApplicationKey = "e28e4b8c6f5e7507d9fd5ca4b7571ae8";
            api.Secret = "c67b52c879bac6ad4661fede91571fd8";
            api.ConnectToFacebook();

            var facebookContacts = api.GetFriends();

            var matches = from google in googleContacts from facebook
in facebookContacts where
google.Title.Text.Contains(facebook.FirstName) &&
google.Title.Text.Contains(facebook.LastName) select new { Google =
google, Facebook = facebook };
            var firstNames = from match in matches select
match.Facebook.FirstName;
            var googleFirstNames = from google in googleContacts
select google.Title.Text;
            foreach (var match in matches)
            {
                try
                {
                    Image image = match.Facebook.Picture;
                    MemoryStream mem = new MemoryStream();
                    Bitmap bitmap = new Bitmap(image);

                    bitmap.Save(mem, System.Drawing.Imaging.ImageFormat.Jpeg);
                    mem.Seek(0, SeekOrigin.Begin);

                    mem.Seek(0, SeekOrigin.Begin);
                    service.Update(match.Google.PhotoEditUri, mem,
"image/jpg", string.Format("{0}.jpg", Guid.NewGuid().ToString()));
                }
                catch (System.Exception ex)
                {
                }
            }
            MessageBox.Show("Done!");
        }
    }
}


-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From druzus at acn.waw.pl  Fri Mar 27 18:05:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Mar 27 17:59:19 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <49CD42F6.5010202@teledetection.fr>
References: <49CD1673.8000703@teledetection.fr>
	<18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>
	<49CD42F6.5010202@teledetection.fr>
Message-ID: <20090327220557.GA22352@uran.home.aster.pl>

On Fri, 27 Mar 2009, Guy Roussin wrote:
> Thank you for the quick reply.
> But i think that -t"1970-01-01" is not "00:00 GMT"
> but "00:00 local time" isn't it ?
> So this is not exactly the result i expect ...

It doesn't matter. t"1970-01-01" is some timestamp constant value.
Important is base value only.
Number of milliseconds from 1970-01-01 00:00 GMT:

   ? INT( ( hb_ntot( HB_MILLISECONDS() ) - t"1970-01-01" ) * ;
          ( 24 * 60 * 60 * 1000 ) )

Local time difference to GMT in milliseconds:

   ? INT( hb_tton( hb_datetime() ) * ( 24 * 60 * 60 * 1000 ) - ;
          HB_MILLISECONDS() )

HB_MILLISECONDS() returns julian time in milliseconds.

best regards,
Przemek
From myorg63 at mail.ru  Fri Mar 27 18:15:44 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Fri Mar 27 18:15:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10714] trunk/harbour
In-Reply-To: <E1LnEAP-00084d-DT@dn4whf1.ch3.sourceforge.com>
References: <E1LnEAP-00084d-DT@dn4whf1.ch3.sourceforge.com>
Message-ID: <22750875.post@talk.nabble.com>




vszakats wrote:
> 
> Revision: 10714
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10714&view=rev
> Author:   vszakats
> Date:     2009-03-27 15:40:18 +0000 (Fri, 27 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-27 16:37 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
>  
>   * config/win/msvc.cf
>   * config/win/msvcce.cf
>     + Added HB_BUILD_MODE=c and HB_BUILD_MODE=cpp support
>       to force specific build mode.
> 

Hi, Viktor

Maybe it should be useful to add to owatcom.cf
ifeq ($(HB_BUILD_MODE),c)
CC = wcc386
else
CC = wpp386
endif

In this case we got few error, because I think wcc386 not understand
relative path and  -oi+

wcc386 -zq -bt=NT -bm -5s -fp5 -onaehtzr -oi+ -ei -zp8 -s -zt0 -i.
-i../../../../include   -DHB_FM_STATISTICS_OFF -DHB_EXTENSION  
../../sqlite3.c -fo=sqlite3.obj
Error! E1074: Invalid optimization option '+'
Error! E1073: Invalid option '/..'
Error! E1073: Invalid option '/..'
Error! E1073: Invalid option '/..'
Error! E1073: Invalid option '/..'
Error! E1073: Invalid option '/sqlite3.c'
Unable to open '..'

But after little cleanup we can use static sqlite3.lib with Harbour and
OpenWatcom 1.8

wcc386 -zq -bt=NT -bm -5s -fp5 -onaehtzr -ei -zp8 -s -zt0 -i. sqlite3.c
-fo=sqlite3.obj
wlib -p=64 -c -n  sqlite3.lib sqlite3.obj

Regards,
Petr



-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10714--trunk-harbour-tp22744244p22750875.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From guy.roussin at teledetection.fr  Fri Mar 27 18:53:15 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Mar 27 18:53:21 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <20090327220557.GA22352@uran.home.aster.pl>
References: <49CD1673.8000703@teledetection.fr>	<18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>	<49CD42F6.5010202@teledetection.fr>
	<20090327220557.GA22352@uran.home.aster.pl>
Message-ID: <49CD58DB.1040608@teledetection.fr>

Hi Przemek,


>> Thank you for the quick reply.
>> But i think that -t"1970-01-01" is not "00:00 GMT"
>> but "00:00 local time" isn't it ?
>> So this is not exactly the result i expect ...
>>     
>
> It doesn't matter. t"1970-01-01" is some timestamp constant value.
> Important is base value only.
> Number of milliseconds from 1970-01-01 00:00 GMT:
>
>    ? INT( ( hb_ntot( HB_MILLISECONDS() ) - t"1970-01-01" ) * ;
>           ( 24 * 60 * 60 * 1000 ) )
>
> Local time difference to GMT in milliseconds:
>
>    ? INT( hb_tton( hb_datetime() ) * ( 24 * 60 * 60 * 1000 ) - ;
>           HB_MILLISECONDS() )
>
> HB_MILLISECONDS() returns julian time in milliseconds.
>   
Thank for explanation but i don't get the results i espect ...

$ cat t.prg
? INT( ( hb_datetime() - t"1970-01-01" ) * ( 24 * 60 * 60 * 1000 ) )
? INT( ( hb_ntot( HB_MILLISECONDS() ) - t"1970-01-01" ) * ( 24 * 60 * 60 
* 1000 ) )
? INT( hb_tton( hb_datetime() ) * ( 24 * 60 * 60 * 1000 ) -  
HB_MILLISECONDS() )

$ hbmk2 t
hbmk: Processing configuration: /usr/bin/hbmk.cfg
Harbour 1.1.0dev (Rev. 10716)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 't.prg'...
Lines 4, Functions/Procedures 1
Generating C source output to 't.c'... Done.

$ ./t ; echo "`date '+%s'` * 1000" | bc
  
       
1238197444690                                                                             

   53546455702024200
   3600000         
1238193844000

I don't understand the second result.
I suppose the result must be the same as
date "+%s" * 1000. No ?

Best regards,

Guy
From info at fsgiudice.com  Fri Mar 27 19:34:38 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Mar 27 19:34:50 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <20090326201107.GA14874@uran.home.aster.pl>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>
	<20090326201107.GA14874@uran.home.aster.pl>
Message-ID: <49CD628E.7020904@fsgiudice.com>

Hi Przemek and Mindaugas,


Il 26/03/2009 21.11, Przemyslaw Czerpak ha scritto:
> 

> 5. The hbwin TOLEAUTO class supports iteration by FOR EACH loop.

Could you add FOR EACH and TIMESTAMP support ?
I've code like attached that doesn't work with new ole version.

Best regards,
Francesco
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OL_AddressBook_test.prg
Type: application/x-prg
Size: 5142 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090328/44d2a447/OL_AddressBook_test.bin
From fsgiudice at users.sourceforge.net  Fri Mar 27 20:00:44 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Fri Mar 27 20:00:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10717] trunk/harbour
Message-ID: <E1LnLye-0000lj-IJ@3kljzd1.ch3.sourceforge.com>

Revision: 10717
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10717&view=rev
Author:   fsgiudice
Date:     2009-03-28 00:00:43 +0000 (Sat, 28 Mar 2009)

Log Message:
-----------
2009-03-28 00:59 UTC+0100 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    + added #define FIXED_THREADS that disable (temporarly) dynamic threads
      support, until I will find a correct way to implement.
    * changed default GT in Linux from GTXWC to GTTRM
    + added Actions and Handlers support
      rewrote handlers part, now separated and similar to Apache
    * changed internal ScripAlias Hash name from Aliases to ScriptAliases
    + added Alias support
    + added PATH_INFO and PATH_TRANSLATED support
      this means that parts of urls longer than the real file url are passed to
      file as parameters. Actually valid for any file.
    * fixed CGIKill() to correct handle killing of not responding CGI apps
    * formatting and minor changes
    ; NOTE: not tested under Linux, more tests to do
    ; TOFIX: in case of error of cgi executables error output is missing,
             this I have to check better.
  * harbour/contrib/examples/uhttpd/uhttpd.ini
    * changed [ALIASES] section name to [SCRIPTALIASES]
    + added [ALIASES] correct section
  * harbour/contrib/examples/uhttpd/session.prg
    + added retrying in case of error in reading session files.
      to check it better
  ; NOTE: still work in progress.
    Any comments and suggestions are welcome

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.ini
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Mar 28 03:20:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 03:13:50 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqj73f$krf$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org>
Message-ID: <20090328072029.GB22352@uran.home.aster.pl>

On Fri, 27 Mar 2009, Angel Pais wrote:

Hi,

> I'll do it in a while but AFAIK xbase++ only uses one processor per 
> process, if so it does not scale.
> We'll confirm that soon

It's not such easy to use only one CPU. In most of operating system it's
not even possible. I would be very surprised if the above is true.
Anyhow if you serialize too much things then you will reduce the
performance to single CPU but it's only side effect of inefficient
algorithms not intentional design decision and of course it does not
mean that only one CPU is used.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Sat Mar 28 03:31:36 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Mar 28 03:31:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10718] trunk/harbour
Message-ID: <E1LnT0y-0002jJ-Hg@3kljzd1.ch3.sourceforge.com>

Revision: 10718
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10718&view=rev
Author:   vouchcac
Date:     2009-03-28 07:31:35 +0000 (Sat, 28 Mar 2009)

Log Message:
-----------
2009-03-28 00:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvg.h
  * harbour/contrib/gtwvg/wvggui.h

  * harbour/contrib/gtwvg/wvtwin.ch

  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtwvg/wvgcore.c
  * harbour/contrib/gtwvg/wincallb.c
  * harbour/contrib/gtwvg/wvgcuig.c
  * harbour/contrib/gtwvg/wvggui.c
  * harbour/contrib/gtwvg/wvgsink.c
  * harbour/contrib/gtwvg/wvgutils.c
  * harbour/contrib/gtwvg/wvgwin.c

  * harbour/contrib/gtwvg/wincback.prg
  * harbour/contrib/gtwvg/wvg3stat.prg
  * harbour/contrib/gtwvg/wvgax.prg
  * harbour/contrib/gtwvg/wvgbitmp.prg
  * harbour/contrib/gtwvg/wvgcheck.prg
  * harbour/contrib/gtwvg/wvgclass.prg
  * harbour/contrib/gtwvg/wvgcombo.prg
  * harbour/contrib/gtwvg/wvgcrt.prg
  * harbour/contrib/gtwvg/wvgdarea.prg
  * harbour/contrib/gtwvg/wvgdatar.prg
  * harbour/contrib/gtwvg/wvgdlg.prg
  * harbour/contrib/gtwvg/wvghtmlv.prg
  * harbour/contrib/gtwvg/wvglistb.prg
  * harbour/contrib/gtwvg/wvgmenub.prg
  * harbour/contrib/gtwvg/wvgmle.prg
  * harbour/contrib/gtwvg/wvgpaint.prg
  * harbour/contrib/gtwvg/wvgparts.ch
  * harbour/contrib/gtwvg/wvgphdlr.prg
  * harbour/contrib/gtwvg/wvgpushb.prg
  * harbour/contrib/gtwvg/wvgradio.prg
  * harbour/contrib/gtwvg/wvgscrlb.prg
  * harbour/contrib/gtwvg/wvgsle.prg
  * harbour/contrib/gtwvg/wvgstatb.prg
  * harbour/contrib/gtwvg/wvgstatc.prg
  * harbour/contrib/gtwvg/wvgsysw.prg
  * harbour/contrib/gtwvg/wvgtabpg.prg
  * harbour/contrib/gtwvg/wvgtoolb.prg
  * harbour/contrib/gtwvg/wvgtreev.prg
  * harbour/contrib/gtwvg/wvgwnd.prg
    ! Comments converted to ANSI standards.
    ! Formatting whereever needed.    

    ; Perhaps no comment is left which do not confirm to ANSI standards.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/gtwvg.h
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wincback.prg
    trunk/harbour/contrib/gtwvg/wvg3stat.prg
    trunk/harbour/contrib/gtwvg/wvgax.prg
    trunk/harbour/contrib/gtwvg/wvgbitmp.prg
    trunk/harbour/contrib/gtwvg/wvgcheck.prg
    trunk/harbour/contrib/gtwvg/wvgclass.prg
    trunk/harbour/contrib/gtwvg/wvgcombo.prg
    trunk/harbour/contrib/gtwvg/wvgcore.c
    trunk/harbour/contrib/gtwvg/wvgcrt.prg
    trunk/harbour/contrib/gtwvg/wvgcuig.c
    trunk/harbour/contrib/gtwvg/wvgdarea.prg
    trunk/harbour/contrib/gtwvg/wvgdatar.prg
    trunk/harbour/contrib/gtwvg/wvgdlg.prg
    trunk/harbour/contrib/gtwvg/wvggui.c
    trunk/harbour/contrib/gtwvg/wvggui.h
    trunk/harbour/contrib/gtwvg/wvghtmlv.prg
    trunk/harbour/contrib/gtwvg/wvglistb.prg
    trunk/harbour/contrib/gtwvg/wvgmenub.prg
    trunk/harbour/contrib/gtwvg/wvgmle.prg
    trunk/harbour/contrib/gtwvg/wvgpaint.prg
    trunk/harbour/contrib/gtwvg/wvgparts.ch
    trunk/harbour/contrib/gtwvg/wvgphdlr.prg
    trunk/harbour/contrib/gtwvg/wvgpushb.prg
    trunk/harbour/contrib/gtwvg/wvgradio.prg
    trunk/harbour/contrib/gtwvg/wvgscrlb.prg
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/gtwvg/wvgsle.prg
    trunk/harbour/contrib/gtwvg/wvgstatb.prg
    trunk/harbour/contrib/gtwvg/wvgstatc.prg
    trunk/harbour/contrib/gtwvg/wvgsysw.prg
    trunk/harbour/contrib/gtwvg/wvgtabpg.prg
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgtreev.prg
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwin.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg
    trunk/harbour/contrib/gtwvg/wvtwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Mar 28 03:40:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 03:33:35 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqj7e9$m2e$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
Message-ID: <20090328074016.GC22352@uran.home.aster.pl>

On Fri, 27 Mar 2009, Angel Pais wrote:

Hi,

> It GPF'd with this log:
> FATAL ERROR LOG
> Not recoverable Error!
> SYS Thread-ID: 1224
> Module: MOM
> Error Codes: EH: 1006 Sub: 0(0) OS: 0 XPP: 15
> Call Stack of Thread 1 (1732):
> @NOTIFIER@I@SUBSCRIBE(0)
> HB_MUTEXSUBSCRIBE(0)
> TEST(0)
> MAIN(0)
> Call Stack of Thread 2 (1548):
> Call Stack of Thread 3 (1224):
> T044(0)
> THTESTSCALE(0)
> Call Stack of Thread 4 (1180):
> T044(0)
> THTESTSCALE(0)
> File: C:\experimentos\speedhb\speedxpp.exe
> TimeStamp: 20090327 15:52
> End of FATAL ERROR LOG.

And you are not alone with such results.
Looks that xbase++ is not MT safe in some basic tests.
I have information that in randomly GPFs in T023 or T044 on
different computers. You can try to exploit it by:
   speedtst --thread=2 --scale --only=023,044
Please try to repeat above tests few time on different machines.
It's also possible that the problem is not exactly in this tests
but somewhere else anyhow definitely there is sth wrong.

It's a very serious problem which should be reported to xbase++ authors.
I wanted to test the automatic item write protection in xbase++
in some unpleasure to protect situations but looks that it fails
internally in places which should not cause any problems so any
more advanced tests with this language does not make sense until
basic MT functionality will not be fixed.

It also causes that it's hard to say something about xbase++ MT
solutions. I do not know xbase++ code and I can only guess some
things using information from tests and some necessary and enough
conditions which have to be passed to make MT programs safe.
But when xabse++ crashes like above then it means that some fundamental
conditions I'm using are false.

I think that xbase++ users should report this problem to some
xbase++ support list with speedtst code as example.

best regards,
Przemek
From druzus at acn.waw.pl  Sat Mar 28 04:11:05 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 04:04:25 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqj8rv$q44$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
Message-ID: <20090328081105.GD22352@uran.home.aster.pl>

On Fri, 27 Mar 2009, Angel Pais wrote:

Hi,

> On second machine (dual core) it doesn't gpf'd but results look very 
> strange to me.

I do not find anythinbg strange in the results.

> Pentium 4 3GZ 1GB RAM Dual Core
> 03/27/2009 16:55:40 Windows XP 05.02 Build 03790
> Xbase++ (R) Version 1.90 (MT)+ 
> THREADS: 2
> N_LOOPS: 1000000
>                                                         1 th.  2 th.  factor
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.17   0.25 ->  0.68

rather pure scalability. It's even smaller then 1.0.

> [ T002: x := L_N ]____________________________________  0.29   0.15 ->  1.93
> [ T003: x := L_D ]____________________________________  0.21   0.11 ->  1.91

Quite good. Nearly 2.0 so it was nicely executed on two CPUs simultaneously.

> [ T004: x := S_C ]____________________________________  0.34   0.24 ->  1.42
> [ T005: x := S_N ]____________________________________  0.17   0.19 ->  0.89
> [ T006: x := S_D ]____________________________________  0.29   0.27 ->  1.07
> [ T007: x := M->M_C ]_________________________________  0.66   0.46 ->  1.43
> [ T008: x := M->M_N ]_________________________________  0.44   0.61 ->  0.72
> [ T009: x := M->M_D ]_________________________________  0.50   0.36 ->  1.39
> [ T010: x := M->P_C ]_________________________________  0.61   0.89 ->  0.69
> [ T011: x := M->P_N ]_________________________________  0.42   0.39 ->  1.08
> [ T012: x := M->P_D ]_________________________________  0.83   0.92 ->  0.90
> [ T013: x := F_C ]____________________________________  0.92   0.85 ->  1.08
> [ T014: x := F_N ]____________________________________  0.89   0.61 ->  1.46
> [ T015: x := F_D ]____________________________________  0.89   0.72 ->  1.24
> [ T016: x := o:Args ]_________________________________  0.45   0.70 ->  0.64
> [ T017: x := o[2] ]___________________________________  0.27   0.22 ->  1.23
> [ T018: round( i / 1000, 2 ) ]________________________  4.88   5.51 ->  0.89
> [ T019: str( i / 1000 ) ]_____________________________ 33.63  34.22 ->  0.98
> [ T020: val( s ) ]____________________________________  0.97   1.36 ->  0.71
> [ T021: val( a [ i % 16 + 1 ] ) ]_____________________  3.14   3.42 ->  0.92
> [ T022: dtos( d - i % 10000 ) ]_______________________  3.83   3.81 ->  1.01
> [ T023: eval( { || i % 16 } ) ]_______________________  3.86   4.56 ->  0.85
> [ T024: eval( bc := { || i % 16 } ) ]_________________  2.19   2.24 ->  0.98
> [ T025: eval( { |x| x % 16 }, i ) ]___________________  1.69   1.80 ->  0.94
> [ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.61   1.57 ->  1.03
> [ T027: eval( { |x| f1( x ) }, i ) ]__________________  2.24   2.25 ->  1.00
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  2.00   1.94 ->  1.03
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  2.87   2.78 ->  1.03
> [ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 82.99  81.23 ->  1.02
> [ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 78.28  76.13 ->  1.03
> [ T032: x := valtype( x ) +  valtype( i ) ]___________  1.81   1.69 ->  1.07
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ] 36.16  36.09 ->  1.00
> [ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.28   1.22 ->  1.05
> [ T035: x := a[ i % 16 + 1 ] = s ]____________________  2.00   1.88 ->  1.06
> [ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.89   1.92 ->  0.98
> [ T037: x := a[ i % 16 + 1 ] <= s ]___________________  2.17   1.94 ->  1.12
> [ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.97   1.90 ->  1.04
> [ T039: x := a[ i % 16 + 1 ] > s ]____________________  2.00   1.91 ->  1.05
> [ T040: ascan( a, i % 16 ) ]__________________________  3.59   3.13 ->  1.15
> [ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 22.44  64.61 ->  0.35
> [ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 27.62  26.45 ->  1.04
> [ T043: x := a ]______________________________________  0.21   0.25 ->  0.84
> [ T044: x := {} ]_____________________________________  2.26   2.08 ->  1.09
> [ T045: f0() ]________________________________________  0.72   0.44 ->  1.64
> [ T046: f1( i ) ]_____________________________________  1.01   0.64 ->  1.58
> [ T047: f2( c[1...8] ) ]______________________________  0.63   0.95 ->  0.66
> [ T048: f2( c[1...40000] ) ]__________________________  0.67   0.78 ->  0.86
> [ T049: f2( @c[1...40000] ) ]_________________________  0.68   0.47 ->  1.45
> [ T050: f2( @c[1...40000] ), c2 := c ]________________  1.09   0.83 ->  1.31
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  2.12   1.71 ->  1.24
> [ T052: f2( a ) ]_____________________________________  0.57   1.16 ->  0.49
> [ T053: x := f4() ]___________________________________  4.12   3.90 ->  1.06
> [ T054: x := f5() ]___________________________________  2.07   1.86 ->  1.11

> [ T055: x := space(16) ]______________________________  4.78   1.49 ->  3.21

This one is really strange but such things can happen and they are usually
results of some other events, f.e. sth external to above program was executed
suddenly in the 1-st part of test increasing the time or internal GC was
activated. Repeating the test probably will change the results and this 3.21
factor.

> [ T056: f_prv( c ) ]__________________________________  2.27   3.03 ->  0.75
> ============================================================================
> [   TOTAL   ]_________________________________________358.66 393.09 ->  0.91
> ============================================================================
> [ total application time: ]...................................751.90
> [ total real time: ]..........................................751.90

The average factor is 0.91. The ideal value should be 2.00 on two CPU
machine when 2 or more threads are used. This is the real cost of
serialization. It reduce scalability. Please note the the results
depends on executed things. There are things which are scaled quite
well and other which aren't. For sure the memory allocator used by
xbase++ looks much better then DLMALLOC which in real MT mode (real
simultaneous execution usually gives fatal results and it's much
more efficient to compile windows Harbour builds with -DHB_FM_WIN_ALLOC.

> CPU CELEREON 560 2.13 GB 1GB RAM
> 03/27/2009 15:49:36 Windows XP 05.01 Build 02600 Service Pack 2
> Xbase++ (R) Version 1.90 (MT)+ 
> THREADS: 2
> N_LOOPS: 1000000
>                                                         1 th.  2 th.  factor
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.08   0.08 ->  1.00
> [ T002: x := L_N ]____________________________________  0.06   0.05 ->  1.20
> [ T003: x := L_D ]____________________________________  0.04   0.05 ->  0.80
> [ T004: x := S_C ]____________________________________  0.16   0.15 ->  1.07
> [ T005: x := S_N ]____________________________________  0.11   0.14 ->  0.79
> [ T006: x := S_D ]____________________________________  0.13   0.12 ->  1.08
> [ T007: x := M->M_C ]_________________________________  0.32   0.29 ->  1.10
> [ T008: x := M->M_N ]_________________________________  0.25   0.27 ->  0.93
> [ T009: x := M->M_D ]_________________________________  0.23   0.25 ->  0.92
> [ T010: x := M->P_C ]_________________________________  0.33   0.34 ->  0.97
> [ T011: x := M->P_N ]_________________________________  0.30   0.30 ->  1.00
> [ T012: x := M->P_D ]_________________________________  0.31   0.33 ->  0.94
> [ T013: x := F_C ]____________________________________  0.48   0.47 ->  1.02
> [ T014: x := F_N ]____________________________________  0.42   0.41 ->  1.02
> [ T015: x := F_D ]____________________________________  0.41   0.39 ->  1.05
> [ T016: x := o:Args ]_________________________________  0.29   0.29 ->  1.00
> [ T017: x := o[2] ]___________________________________  0.10   0.10 ->  1.00
> [ T018: round( i / 1000, 2 ) ]________________________  0.87   0.86 ->  1.01
> [ T019: str( i / 1000 ) ]_____________________________  4.10   4.14 ->  0.99
> [ T020: val( s ) ]____________________________________  0.58   0.59 ->  0.98
> [ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.77   0.75 ->  1.03
> [ T022: dtos( d - i % 10000 ) ]_______________________  1.03   1.03 ->  1.00
> [ T023: eval( { || i % 16 } ) ]_______________________  1.86   1.84 ->  1.01
> [ T024: eval( bc := { || i % 16 } ) ]_________________  1.19   1.05 ->  1.13
> [ T025: eval( { |x| x % 16 }, i ) ]___________________  0.85   0.87 ->  0.98
> [ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.70   0.71 ->  0.99
> [ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.07   1.05 ->  1.02
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.93   0.91 ->  1.02
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.42   1.36 ->  1.04
> [ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 18.22  18.38 ->  0.99
> [ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 27.46  27.57 ->  1.00
> [ T032: x := valtype( x ) +  valtype( i ) ]___________  0.61   0.57 ->  1.07
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  3.71   3.69 ->  1.01
> [ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.49   0.46 ->  1.07
> [ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.66   0.67 ->  0.99
> [ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.67   0.69 ->  0.97
> [ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.68   0.69 ->  0.99
> [ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.69   0.69 ->  1.00
> [ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.70   0.69 ->  1.01
> [ T040: ascan( a, i % 16 ) ]__________________________  1.34   1.28 ->  1.05
> [ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  8.60   8.53 ->  1.01
> [ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 13.12  13.38 ->  0.98
> [ T043: x := a ]______________________________________  0.07   0.06 ->  1.17

You can try to use --exclude=044 as additional parameter to finish the test.
Here results are close to 1.0 what is expected for single CPU machine.
But I'm finding one thing very interesting. They are much better then in
the 1-st test though the computer seems to be slower. Am I right?
If yes then it will suggest that xbase++ does not enable some internal
MT logic in all cases and try to use some faster VM module/synchronization
mechanism when it detects single CPU machine and/or process does not create
new threads. It will be interesting to find when exactly such faster internal
logic is used. It's possible that the GPF problem in T044 can be exploited
only when this faster but not really MT safe module is enabled.
It looks like some type of runtime/startup VM swithing.

Thank you very much for your tests.

What are Harbour results on the same computers?

best regards,
Przemek
From guy.roussin at teledetection.fr  Sat Mar 28 04:38:59 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sat Mar 28 04:39:05 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <20090327220557.GA22352@uran.home.aster.pl>
References: <49CD1673.8000703@teledetection.fr>	<18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>	<49CD42F6.5010202@teledetection.fr>
	<20090327220557.GA22352@uran.home.aster.pl>
Message-ID: <49CDE223.1050000@teledetection.fr>

Hi Przemek,

Why i get this :

? hb_ntot( HB_MILLISECONDS() )

00/00/00 00:00:00.000

Best regards,

Guy

Przemyslaw Czerpak a ?crit :
> On Fri, 27 Mar 2009, Guy Roussin wrote:
>   
>> Thank you for the quick reply.
>> But i think that -t"1970-01-01" is not "00:00 GMT"
>> but "00:00 local time" isn't it ?
>> So this is not exactly the result i expect ...
>>     
>
> It doesn't matter. t"1970-01-01" is some timestamp constant value.
> Important is base value only.
> Number of milliseconds from 1970-01-01 00:00 GMT:
>
>    ? INT( ( hb_ntot( HB_MILLISECONDS() ) - t"1970-01-01" ) * ;
>           ( 24 * 60 * 60 * 1000 ) )
>
> Local time difference to GMT in milliseconds:
>
>    ? INT( hb_tton( hb_datetime() ) * ( 24 * 60 * 60 * 1000 ) - ;
>           HB_MILLISECONDS() )
>
> HB_MILLISECONDS() returns julian time in milliseconds.
>
> best regards,
> Przemek

From mbelgrano at deltain.it  Sat Mar 28 05:39:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 28 05:39:38 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090328074016.GC22352@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<20090328074016.GC22352@uran.home.aster.pl>
Message-ID: <609353e70903280239y20f153am52d5cffd49e83d43@mail.gmail.com>

I have reported problem on alaska ng

2009/3/28 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Fri, 27 Mar 2009, Angel Pais wrote:
>
> Hi,
>
>> It GPF'd with this log:
>> FATAL ERROR LOG
>> Not recoverable Error!
>> SYS Thread-ID: 1224
>> Module: MOM
>> Error Codes: EH: 1006 Sub: 0(0) OS: 0 XPP: 15
>> Call Stack of Thread 1 (1732):
>> @NOTIFIER@I@SUBSCRIBE(0)
>> HB_MUTEXSUBSCRIBE(0)
>> TEST(0)
>> MAIN(0)
>> Call Stack of Thread 2 (1548):
>> Call Stack of Thread 3 (1224):
>> T044(0)
>> THTESTSCALE(0)
>> Call Stack of Thread 4 (1180):
>> T044(0)
>> THTESTSCALE(0)
>> File: C:\experimentos\speedhb\speedxpp.exe
>> TimeStamp: 20090327 15:52
>> End of FATAL ERROR LOG.
>
> And you are not alone with such results.
> Looks that xbase++ is not MT safe in some basic tests.
> I have information that in randomly GPFs in T023 or T044 on
> different computers. You can try to exploit it by:
> ? speedtst --thread=2 --scale --only=023,044
> Please try to repeat above tests few time on different machines.
> It's also possible that the problem is not exactly in this tests
> but somewhere else anyhow definitely there is sth wrong.
>
> It's a very serious problem which should be reported to xbase++ authors.
> I wanted to test the automatic item write protection in xbase++
> in some unpleasure to protect situations but looks that it fails
> internally in places which should not cause any problems so any
> more advanced tests with this language does not make sense until
> basic MT functionality will not be fixed.
>
> It also causes that it's hard to say something about xbase++ MT
> solutions. I do not know xbase++ code and I can only guess some
> things using information from tests and some necessary and enough
> conditions which have to be passed to make MT programs safe.
> But when xabse++ crashes like above then it means that some fundamental
> conditions I'm using are false.
>
> I think that xbase++ users should report this problem to some
> xbase++ support list with speedtst code as example.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sat Mar 28 05:59:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 28 06:00:19 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <49CD0064.6040004@uol.com.br>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com> 
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com> 
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com> 
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com> 
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com> 
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com> 
	<609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com> 
	<49CD0064.6040004@uol.com.br>
Message-ID: <609353e70903280259w788315e3o85761d87ccc8caaa@mail.gmail.com>

Hi Marcos
Is possible create an exe that non require external dll?

2009/3/27 Marcos Gambeta <marcosgambeta@uol.com.br>:
> Massimo Belgrano escreveu:
>> as usual you are right
>> hbmk2 demoqt -Lc:\devl\Qt\2009.01\qt\lib
>>
>> now generate exe but running receive follow error
>> impossible found entry point
>> _z11qt_assert_xpk:cs0_s0 in dll qtcore4.dll
>>
>
> You can:
>
> 1) add c:\devl\Qt\2009.01\qt\bin to your PATH
>
> 2) copy the exe to c:\devl\Qt\2009.01\qt\bin
>
> 3) copy qtcore4.dll and qtgui4.dll to same folder of the exe
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From druzus at acn.waw.pl  Sat Mar 28 07:11:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 07:04:50 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <49CDE223.1050000@teledetection.fr>
References: <49CD1673.8000703@teledetection.fr>
	<18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>
	<49CD42F6.5010202@teledetection.fr>
	<20090327220557.GA22352@uran.home.aster.pl>
	<49CDE223.1050000@teledetection.fr>
Message-ID: <20090328111125.GA7600@uran.home.aster.pl>

On Sat, 28 Mar 2009, Guy Roussin wrote:
> Hi Przemek,
> Why i get this :
> ? hb_ntot( HB_MILLISECONDS() )
> 00/00/00 00:00:00.000

Because HB_MILLISECONDS() returns julian time in milliseconds.
I guess you wanted to make sth like:
   ? hb_ntot( HB_MILLISECONDS() / ( 24 * 60 * 60 * 1000 ) )
And you were confused by missing: / ( 24 * 60 * 60 * 1000 )
in exmaple I sent. Sorry, my typo.
I think this code should help you:

   #define MILLISEC_PER_DAY      ( 24 * 60 * 60 * 1000 )

   proc main()
      ? " local time:", hb_datetime()
      ? "   UTC time:", utc_time()
      ?
      ? utc_time() - t"1970-01-01", "days"
      ? int( ( utc_time() - t"1970-01-01" ) * MILLISEC_PER_DAY ), "milliseconds"
   return

   func utc_time()
   return hb_ntot( hb_milliSeconds() / MILLISEC_PER_DAY )


best regards,
Przemek
From makis1970 at gmail.com  Sat Mar 28 07:02:15 2009
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Sat Mar 28 07:09:36 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090328072029.GB22352@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>
	<20090328072029.GB22352@uran.home.aster.pl>
Message-ID: <000001c9af94$a8453be0$f8cfb3a0$@com>

Hi Przemek,
Even I don?t have the latest version of Xbase++ but an old one I'm sure that they lock the application threads to use only one CPU. They have a way to choose which CPU to use (as an example the less used CPU). In older versions they have serious degradation in speed due to interlock between 2 or more CPUs. Also they have another speed penalty due to the use of som.Dll (If I remember correctly is a Visual age compiler dll). They have made performance analysis and they said that they are thinking to change C compiler and remove the som.dll. Only with this they said that the speed benefit it will be from 15% to 30%. Also about the Dbf speed the problem exist due to classify the underlying of the record.

Brgds
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: Saturday, March 28, 2009 9:21 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: XBASE++ speedtst

On Fri, 27 Mar 2009, Angel Pais wrote:

Hi,

> I'll do it in a while but AFAIK xbase++ only uses one processor per 
> process, if so it does not scale.
> We'll confirm that soon

It's not such easy to use only one CPU. In most of operating system it's
not even possible. I would be very surprised if the above is true.
Anyhow if you serialize too much things then you will reduce the
performance to single CPU but it's only side effect of inefficient
algorithms not intentional design decision and of course it does not
mean that only one CPU is used.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From guy.roussin at teledetection.fr  Sat Mar 28 07:25:48 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sat Mar 28 07:25:54 2009
Subject: [Harbour] time in seconds since 1970
In-Reply-To: <20090328111125.GA7600@uran.home.aster.pl>
References: <49CD1673.8000703@teledetection.fr>	<18d502870903271116p3b4b3257v278826d8d939b801@mail.gmail.com>	<49CD42F6.5010202@teledetection.fr>	<20090327220557.GA22352@uran.home.aster.pl>	<49CDE223.1050000@teledetection.fr>
	<20090328111125.GA7600@uran.home.aster.pl>
Message-ID: <49CE093C.5010105@teledetection.fr>

Thank you very much Przemek,
Now i understand. Very good example.

Note that i'm looking for this function to "simulate"
the time() function of php ...
http://www.w3schools.com/php/func_date_time.asp

Best regards,

Guy

Przemyslaw Czerpak a ?crit :
> On Sat, 28 Mar 2009, Guy Roussin wrote:
>   
>> Hi Przemek,
>> Why i get this :
>> ? hb_ntot( HB_MILLISECONDS() )
>> 00/00/00 00:00:00.000
>>     
>
> Because HB_MILLISECONDS() returns julian time in milliseconds.
> I guess you wanted to make sth like:
>    ? hb_ntot( HB_MILLISECONDS() / ( 24 * 60 * 60 * 1000 ) )
> And you were confused by missing: / ( 24 * 60 * 60 * 1000 )
> in exmaple I sent. Sorry, my typo.
> I think this code should help you:
>
>    #define MILLISEC_PER_DAY      ( 24 * 60 * 60 * 1000 )
>
>    proc main()
>       ? " local time:", hb_datetime()
>       ? "   UTC time:", utc_time()
>       ?
>       ? utc_time() - t"1970-01-01", "days"
>       ? int( ( utc_time() - t"1970-01-01" ) * MILLISEC_PER_DAY ), "milliseconds"
>    return
>
>    func utc_time()
>    return hb_ntot( hb_milliSeconds() / MILLISEC_PER_DAY )
>
>
> best regards,
> Przemek
>   

From vailtom at gmail.com  Sat Mar 28 08:15:26 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Mar 28 08:15:32 2009
Subject: [Harbour] How create libhbqt.a?
In-Reply-To: <609353e70903280259w788315e3o85761d87ccc8caaa@mail.gmail.com>
References: <609353e70903270527u6f9c4cccnbe951594dad76c28@mail.gmail.com>
	<18d502870903270537n65eebdfeu86ec215aecd0894e@mail.gmail.com>
	<609353e70903270550k5c6df42ch1660c7433d1670de@mail.gmail.com>
	<18d502870903270612m492d2812k76bdb690cdbc98dc@mail.gmail.com>
	<609353e70903270753p42acf552ja3ac8001bb1d0e46@mail.gmail.com>
	<18d502870903270800k524e6872v7fbac23957027272@mail.gmail.com>
	<609353e70903270856k6b4f793ds9e1faf20cfb5a0ab@mail.gmail.com>
	<49CD0064.6040004@uol.com.br>
	<609353e70903280259w788315e3o85761d87ccc8caaa@mail.gmail.com>
Message-ID: <531d7a750903280515t3d5cbc0eh95c307add4e21257@mail.gmail.com>

Tutorial "Deploying an Application on Qt/Windows":
http://doc.trolltech.com/4.1/deployment-windows.html

Vailton Renato
From toninhofwi at yahoo.com.br  Sat Mar 28 09:15:19 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Mar 28 09:15:25 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <49CD628E.7020904@fsgiudice.com>
References: <49C6ACF1.4080407@fsgiudice.com>	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>	<49C76F6D.6050205@fsgiudice.com>	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>	<49CA1CA4.2050607@dbtopas.lt>	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>	<49CA346E.7080409@dbtopas.lt>
	<20090326201107.GA14874@uran.home.aster.pl>
	<49CD628E.7020904@fsgiudice.com>
Message-ID: <u25ss4lnmv4bc2de690fec3epervr6ls0t@4ax.com>

>Hi Przemek and Mindaugas,
>
>
>Il 26/03/2009 21.11, Przemyslaw Czerpak ha scritto:
>> 
>
>> 5. The hbwin TOLEAUTO class supports iteration by FOR EACH loop.
>
>Could you add FOR EACH and TIMESTAMP support ?
>I've code like attached that doesn't work with new ole version.

Hi friends,

FWH TActiveX stop workin in this version of OLE. TActiveX FWH class
works in this way:

---cut---
::hActiveX = CreateActiveX( ::cProgId, ::nStyle, ::nLeft, ::nTop, ::nWidth, ::nHeight, ::hWnd, 0 )

::hObj = AtlAxGetDisp( ::hActiveX )

::oOle = ToleAuto():New( ::hObj )
---cut---

Any hint please ?


Thanks. Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Sat Mar 28 09:20:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 28 09:20:32 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090328081105.GD22352@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
Message-ID: <18d502870903280620r36d151efgb79b742fe6f8b6d4@mail.gmail.com>

>
> xbase++ looks much better then DLMALLOC which in real MT mode (real
> simultaneous execution usually gives fatal results and it's much
> more efficient to compile windows Harbour builds with -DHB_FM_WIN_ALLOC.


Shouldn't we make this the default for hbvmmt lib?

--
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090328/70708aca/attachment.html
From ale.seribeli at ig.com.br  Sat Mar 28 10:17:20 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Sat Mar 28 10:17:24 2009
Subject: [Harbour] Error with Build 10718
Message-ID: <22757290.post@talk.nabble.com>


That this error is?

G:\SVN\harbour\external\sqlite3>if not exist ..\..\lib\win\bcc\. md
..\..\lib\win\bcc 
make.exe[3]: Entering directory `G:/SVN/harbour/external/sqlite3/win/bcc'
bcc32.exe -I. -I../../../../include -q -tWM -d -4 -O2 -OS -Ov -Oi -Oc    -c
../../sqlite3.c -osqlite3.obj
../../sqlite3.c:
Error E2293 ../../sqlite3.c 29156: ) expected in function winCurrentTime
Error E2379 ../../sqlite3.c 29157: Statement missing ; in function
winCurrentTime
Error E2379 ../../sqlite3.c 29158: Statement missing ; in function
winCurrentTime
Error E2379 ../../sqlite3.c 29160: Statement missing ; in function
winCurrentTime
Error E2293 ../../sqlite3.c 29161: ) expected in function winCurrentTime
Error E2379 ../../sqlite3.c 29162: Statement missing ; in function
winCurrentTime
Error E2293 ../../sqlite3.c 29163: ) expected in function winCurrentTime
Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never used in
function winCurrentTime
*** 7 errors in Compile ***
make.exe[3]: Leaving directory `G:/SVN/harbour/external/sqlite3/win/bcc'
make.exe[2]: Leaving directory `G:/SVN/harbour/external/sqlite3'
make.exe[1]: Leaving directory `G:/SVN/harbour/external'

Thanks, Ale
-- 
View this message in context: http://www.nabble.com/Error-with-Build-10718-tp22757290p22757290.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sat Mar 28 12:26:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 12:19:39 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <u25ss4lnmv4bc2de690fec3epervr6ls0t@4ax.com>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<20090326201107.GA14874@uran.home.aster.pl>
	<49CD628E.7020904@fsgiudice.com>
	<u25ss4lnmv4bc2de690fec3epervr6ls0t@4ax.com>
Message-ID: <20090328162620.GA15961@uran.home.aster.pl>

On Sat, 28 Mar 2009, Toninho@fwi wrote:

Hi,

> >Il 26/03/2009 21.11, Przemyslaw Czerpak ha scritto:
> >> 5. The hbwin TOLEAUTO class supports iteration by FOR EACH loop.
> >Could you add FOR EACH and TIMESTAMP support ?
> >I've code like attached that doesn't work with new ole version.
> FWH TActiveX stop workin in this version of OLE. TActiveX FWH class
> works in this way:
> ---cut---
> ::hActiveX = CreateActiveX( ::cProgId, ::nStyle, ::nLeft, ::nTop, ::nWidth, ::nHeight, ::hWnd, 0 )
> ::hObj = AtlAxGetDisp( ::hActiveX )
> ::oOle = ToleAuto():New( ::hObj )
> ---cut---
> Any hint please ?

It still uses old code. TOLEAUTO() does not exists in new code so if
you were able to link above peace of code then for sure it was using
old implementation.
If you want you can try to create wrapper functions from old to new
class:
   function TOleAuto( ... )
   return hb_OleAuto( ... )

best regards,
Przemek
From druzus at acn.waw.pl  Sat Mar 28 12:40:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 12:33:44 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <18d502870903280620r36d151efgb79b742fe6f8b6d4@mail.gmail.com>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
	<18d502870903280620r36d151efgb79b742fe6f8b6d4@mail.gmail.com>
Message-ID: <20090328164024.GB15961@uran.home.aster.pl>

On Sat, 28 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > more efficient to compile windows Harbour builds with -DHB_FM_WIN_ALLOC.
> Shouldn't we make this the default for hbvmmt lib?

Probably yes though it would be good to check the results with different
installations (single and multicpu machines, XP vs VISTA, etc.)
The memory manager for MT mode can be quite easy improved with the cost
of total amount of used memory, f.e. we can use the same trick as in
nedmalloc and allocate for each thread private mspace or some cached
memory pool.
Probably I'll return to this subject in the future but now I want to
keep all things as simple as possible.

best regards,
Przemek
From toninhofwi at yahoo.com.br  Sat Mar 28 12:40:18 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Mar 28 12:40:26 2009
Subject: [Harbour] error in hbwin ole with msvc
In-Reply-To: <20090328162620.GA15961@uran.home.aster.pl>
References: <49C6ACF1.4080407@fsgiudice.com>
	<18d502870903230236r1abc2715ueab289f7d541cccd@mail.gmail.com>
	<49C76F6D.6050205@fsgiudice.com>
	<18d502870903230430y4c4a6eb5t7a5122b5dd50184b@mail.gmail.com>
	<49CA1CA4.2050607@dbtopas.lt>
	<18d502870903250637j3cbe7f76o82a72c24565bd396@mail.gmail.com>
	<49CA346E.7080409@dbtopas.lt>
	<20090326201107.GA14874@uran.home.aster.pl>
	<49CD628E.7020904@fsgiudice.com>
	<u25ss4lnmv4bc2de690fec3epervr6ls0t@4ax.com>
	<20090328162620.GA15961@uran.home.aster.pl>
Message-ID: <ickss41mh3gsnjl2en000u9coc9v6v5qv5@4ax.com>

>It still uses old code. TOLEAUTO() does not exists in new code so if
>you were able to link above peace of code then for sure it was using
>old implementation.
>If you want you can try to create wrapper functions from old to new
>class:
>   function TOleAuto( ... )
>   return hb_OleAuto( ... )

Thanks for answer Przemek.

I tried but seems that new ole have missing features, for example:

old winole have support for numeric handle send as parameter to
new(hobj), and are translated to:

---cut---
METHOD New( uObj, cClass, cLicense ) CLASS TOleAuto
...
   ELSEIF ISNUMBER( uObj )
      OleAddRef( uObj )
      ::hObj := uObj
---cut---

but to add this feature we need support HB_IT_ARRAY in
hb_oleItemToVariant().

Am I right ?

Thanks and best regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Sat Mar 28 13:00:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 28 13:00:36 2009
Subject: [Harbour] Error with Build 10718
In-Reply-To: <22757290.post@talk.nabble.com>
References: <22757290.post@talk.nabble.com>
Message-ID: <18d502870903281000h50858d5ar9a61ca138d0fa044@mail.gmail.com>

Seems that newest sqlite3 code isn't compatible with BCC.
We have these options:
1. Fix the code locally
2. Report it to sqlite3 authors here:
    http://www.sqlite.org/cvstrac/tktnew
3. Exclude local sqlite3 for bcc.

I can do 3. if that helps BCC users.

Best would be to report it to authors, I hope someone will do it.

--
Viktor

On Sat, Mar 28, 2009 at 3:17 PM, Ale SB <ale.seribeli@ig.com.br> wrote:

>
> That this error is?
>
> G:\SVN\harbour\external\sqlite3>if not exist ..\..\lib\win\bcc\. md
> ..\..\lib\win\bcc
> make.exe[3]: Entering directory `G:/SVN/harbour/external/sqlite3/win/bcc'
> bcc32.exe -I. -I../../../../include -q -tWM -d -4 -O2 -OS -Ov -Oi -Oc    -c
> ../../sqlite3.c -osqlite3.obj
> ../../sqlite3.c:
> Error E2293 ../../sqlite3.c 29156: ) expected in function winCurrentTime
> Error E2379 ../../sqlite3.c 29157: Statement missing ; in function
> winCurrentTime
> Error E2379 ../../sqlite3.c 29158: Statement missing ; in function
> winCurrentTime
> Error E2379 ../../sqlite3.c 29160: Statement missing ; in function
> winCurrentTime
> Error E2293 ../../sqlite3.c 29161: ) expected in function winCurrentTime
> Error E2379 ../../sqlite3.c 29162: Statement missing ; in function
> winCurrentTime
> Error E2293 ../../sqlite3.c 29163: ) expected in function winCurrentTime
> Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never used in
> function winCurrentTime
> *** 7 errors in Compile ***
> make.exe[3]: Leaving directory `G:/SVN/harbour/external/sqlite3/win/bcc'
> make.exe[2]: Leaving directory `G:/SVN/harbour/external/sqlite3'
> make.exe[1]: Leaving directory `G:/SVN/harbour/external'
>
> Thanks, Ale
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090328/fe1f2d1b/attachment.html
From druzus at acn.waw.pl  Sat Mar 28 13:12:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 13:06:09 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <000001c9af94$a8453be0$f8cfb3a0$@com>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org>
	<20090328072029.GB22352@uran.home.aster.pl>
	<000001c9af94$a8453be0$f8cfb3a0$@com>
Message-ID: <20090328171250.GC15961@uran.home.aster.pl>

On Sat, 28 Mar 2009, Mike Evans (Gmail) wrote:

Hi,

> Even I don?t have the latest version of Xbase++ but an old one I'm sure
> that they lock the application threads to use only one CPU. They have a
> way to choose which CPU to use (as an example the less used CPU).

AFAIR some MS-Windows API functions it's possible to assign process to
single CPU. The problem is that it's not portable solution and it does
not have to reduce the execution conditions to the same level as in
single CPU systems.
If xbase++ authors were making sth like above then it suggests that they
had some code used to synchronize threads and designed for single CPU
machines where it was guarantied that single memory access cannot be
interrupted or create some conflicts due to simultaneous access and they
wanted to still use it. But for me it seems to be rather strange idea
and it does not have to give expected results.

> In older versions they have serious degradation in speed due to interlock
> between 2 or more CPUs.

This suggests that they use different internal locking code for single
and multi CPU machines. Is it really true?

> Also they have another speed penalty due to the use of
> som.Dll (If I remember correctly is a Visual age compiler dll). They have
> made performance analysis and they said that they are thinking to change
> C compiler and remove the som.dll. Only with this they said that the speed
> benefit it will be from 15% to 30%.

We also have similar differences between compilers. F.e. in Windows usually
BCC creates one of the slowest code and MSVC one of the fastest and the
difference sometimes it's even bigger.

> Also about the Dbf speed the problem exist due to classify the underlying
> of the record.

Probably I'm missing what is the real problem here in xbase++ but I do not
see any reason why it has to cause speed overhead. It can be implement with
some really minimal static overhead. Anyhow it's not my goal to discuss
about it now.
I would like to see the real cost of automatic item assign serialization
in xbase++ or other protection mechanism they are using to make it MT safe.
Of course if it really is MT safe in all cases what I would like to confirm
too.

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Mar 28 13:12:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 28 13:12:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10719] trunk/harbour
Message-ID: <E1Lnc4r-00023B-KZ@74yxhf1.ch3.sourceforge.com>

Revision: 10719
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10719&view=rev
Author:   vszakats
Date:     2009-03-28 17:12:12 +0000 (Sat, 28 Mar 2009)

Log Message:
-----------
2009-03-28 18:09 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * config/dos/owatcom.cf
  * config/win/owatcom.cf
  * config/linux/owatcom.cf
  * config/os2/owatcom.cf
    + Added HB_BUILD_MODE=c/cpp support for Watcom compilers.
    + Tweaked optimization options to work with wcc386 (C mode compiler).
    + Tweaked C make rule for wcc386 (only accepts backslashes).
    ; So now sqlite3 will be forced to C mode and will compile.
    ; TOFIX: .cpp file compilation will be broken in forced C mode, 
             so more cleanup will be needed here if we want to allow 
             all combinations.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Mar 28 14:50:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Mar 28 14:50:29 2009
Subject: [Harbour] Python VM speedup effort
Message-ID: <18d502870903281150s63cb04b2w7db7e26ed70b851e@mail.gmail.com>

http://code.google.com/p/unladen-swallow/wiki/ProjectPlanhttp://llvm.org/

-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090328/81245424/attachment.html
From mbelgrano at deltain.it  Sat Mar 28 15:28:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 28 15:29:00 2009
Subject: [Harbour] Python VM speedup effort
In-Reply-To: <18d502870903281150s63cb04b2w7db7e26ed70b851e@mail.gmail.com>
References: <18d502870903281150s63cb04b2w7db7e26ed70b851e@mail.gmail.com>
Message-ID: <609353e70903281228o7bb59051lc043a79949d220c7@mail.gmail.com>

Imo Is intresting, i have post same messages here about llvm


2009/3/28 Viktor Szak?ts <harbour.01@syenar.hu>:
> http://code.google.com/p/unladen-swallow/wiki/ProjectPlan
> http://llvm.org/
>
> --
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From roberbox at gmail.com  Sat Mar 28 15:49:53 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Mar 28 15:50:09 2009
Subject: [Harbour] Possible RDDADO bug.
Message-ID: <49CE7F61.2060102@gmail.com>

Hi All,

Apparently, There is a problem with RDDADO.

Running test \contrib\rddado\tests\access1.prg you'll notice that recno 
always shows '0'.

I've made some other tests (without browse) and recno() function appears 
to return always zero.

Had someone tested/verified this.

[Harbour 1.01 MingW

TIA.

Roberto.
From roberbox at gmail.com  Sat Mar 28 15:53:30 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Sat Mar 28 15:53:41 2009
Subject: [Harbour] RDDADO Problem...
Message-ID: <49CE803A.9040109@gmail.com>

Hi All,

It was confirmed the problem with Harbour BCC verson too.

Regards,

Roberto.
From vszakats at users.sourceforge.net  Sat Mar 28 16:19:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Mar 28 16:19:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10720] trunk/harbour
Message-ID: <E1Lnezx-0003aZ-Gl@3kljzd1.ch3.sourceforge.com>

Revision: 10720
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10720&view=rev
Author:   vszakats
Date:     2009-03-28 20:19:20 +0000 (Sat, 28 Mar 2009)

Log Message:
-----------
2009-03-28 21:16 UTC+0100 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added autofilling CCPREFIX on Windows platform when
      -comp=mingw64 or -comp=mingwce is specified.
    + Added autofilling CCPATH on Windows platform when
      -comp=mingw64 or -comp=mingwce is specified and
      corresponding embedded MinGW installations are found in
      Harbour directory.

    ; IOW this means that it's now possible to create a unified,
      self-contained install kit, which is able to easily build
      x64, WinCE and x86 executables with command below:
      > hbmk2 test.prg            => test.exe for x86
      > hbmk2 -comp=mingw64 a.prg => test.exe for x64
      > hbmk2 -comp=mingwce a.prg => test.exe for ARM/WinCE
      Can it be any simpler than that?

      My sample install .zip is 322MB and it contains Harbour libs
      for msvc, mingw, mingw64, mingwce, bcc, owatcom and contains
      all required MinGW files.
      It will be even easier if we add CPU platform identifiers 
      to Harbour.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Mar 28 17:24:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Mar 28 17:24:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10720] trunk/harbour
In-Reply-To: <E1Lnezx-0003aZ-Gl@3kljzd1.ch3.sourceforge.com>
References: <E1Lnezx-0003aZ-Gl@3kljzd1.ch3.sourceforge.com>
Message-ID: <22761444.post@talk.nabble.com>


Hello Viktor


vszakats wrote:
> 
>     ; IOW this means that it's now possible to create a unified,
>       self-contained install kit, which is able to easily build
>       x64, WinCE and x86 executables with command below:
>       > hbmk2 test.prg            => test.exe for x86
>       > hbmk2 -comp=mingw64 a.prg => test.exe for x64
>       > hbmk2 -comp=mingwce a.prg => test.exe for ARM/WinCE
>       Can it be any simpler than that?
> 
>       My sample install .zip is 322MB and it contains Harbour libs
>       for msvc, mingw, mingw64, mingwce, bcc, owatcom and contains
>       all required MinGW files.
> 

Fantastic job, congratulations!

322 MB install is nothing compared to benefits it delivers.
Consider including PellesC compiler alongwith MinGW. We have 
consent from Pelles to include it in our distro.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10720--trunk-harbour-tp22760913p22761444.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Sat Mar 28 17:30:22 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Mar 28 17:30:28 2009
Subject: [Harbour] Possible bug in cmdarg.c
Message-ID: <45D8BF7D19314C23A58BCB2468DD94DF@emag>

A friend of mine reported this:

In harbour\source\vm\cmdarg.c function hb_cmdargUpdate() s_argv[ 0 ] is 
used:

s_argv[ 0 ] = s_szAppName;

but it is not initialized for a DLL.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Sat Mar 28 18:06:40 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Mar 28 18:06:45 2009
Subject: [Harbour] Errors and warnings
Message-ID: <9BAE9C19026747EA8FB2A3B3273CE11D@emag>

Error E2293 ../../sqlite3.c 29156: ) expected in function winCurrentTime
Warning W8013 ../../sqlite3.c 29157: Possible use of 'timeW' before 
definition in function winCurrentTime
Error E2379 ../../sqlite3.c 29157: Statement missing ; in function 
winCurrentTime
Error E2379 ../../sqlite3.c 29158: Statement missing ; in function 
winCurrentTime
Error E2379 ../../sqlite3.c 29160: Statement missing ; in function 
winCurrentTime
Error E2293 ../../sqlite3.c 29161: ) expected in function winCurrentTime
Error E2379 ../../sqlite3.c 29162: Statement missing ; in function 
winCurrentTime
Error E2293 ../../sqlite3.c 29163: ) expected in function winCurrentTime
Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never used in 
function winCurrentTime
*** 7 errors in Compile ***

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From amigosam at adinet.com.uy  Sat Mar 28 18:34:00 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Mar 28 18:34:30 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090328081105.GD22352@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>
	<gqj7e9$m2e$1@ger.gmane.org>	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
Message-ID: <gqm8kq$nf8$1@ger.gmane.org>

Here you have results on same computer 2 compilers.

see this:
xbase++ :
[   TOTAL   ]________________________________247.17 246.80 ->  1.00
====================================================================
[ total application time: ]...................................494.06
[ total real time: ]..........................................494.06

harbour + msvc:
[   TOTAL   ]________________________________228.51 289.80 ->  0.79
============================================================================
[ total application time: ]...................................706.25
[ total real time: ]..........................................518.45

Does it mean xbase++ are using 2 cores simultaneously ?
And Harbour ?
Why total time and real time are equal on first test ?

HTH
Angel


Przemyslaw Czerpak escribi?:
> On Fri, 27 Mar 2009, Angel Pais wrote:
> 
> Hi,
> 
> Thank you very much for your tests.
> 
> What are Harbour results on the same computers?
> 
> best regards,
> Przemek

-------------- next part --------------

03/28/2009 20:10:24 Windows XP 05.02 Build 03790
Xbase++ (R) Version 1.90 (MT)+ 
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.14   0.14 ->  1.00
[ T002: x := L_N ]____________________________________  0.08   0.09 ->  0.89
[ T003: x := L_D ]____________________________________  0.08   0.08 ->  1.00
[ T004: x := S_C ]____________________________________  0.19   0.22 ->  0.86
[ T005: x := S_N ]____________________________________  0.17   0.23 ->  0.74
[ T006: x := S_D ]____________________________________  0.19   0.17 ->  1.12
[ T007: x := M->M_C ]_________________________________  0.50   0.45 ->  1.11
[ T008: x := M->M_N ]_________________________________  0.36   0.34 ->  1.06
[ T009: x := M->M_D ]_________________________________  0.34   0.35 ->  0.97
[ T010: x := M->P_C ]_________________________________  0.45   0.47 ->  0.96
[ T011: x := M->P_N ]_________________________________  0.39   0.45 ->  0.87
[ T012: x := M->P_D ]_________________________________  0.50   0.47 ->  1.06
[ T013: x := F_C ]____________________________________  0.71   0.75 ->  0.95
[ T014: x := F_N ]____________________________________  0.62   0.61 ->  1.02
[ T015: x := F_D ]____________________________________  0.64   0.59 ->  1.08
[ T016: x := o:Args ]_________________________________  0.44   0.45 ->  0.98
[ T017: x := o[2] ]___________________________________  0.18   0.17 ->  1.06
[ T018: round( i / 1000, 2 ) ]________________________  3.25   3.27 ->  0.99
[ T019: str( i / 1000 ) ]_____________________________ 21.00  20.93 ->  1.00
[ T020: val( s ) ]____________________________________  0.94   0.97 ->  0.97
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  2.28   2.23 ->  1.02
[ T022: dtos( d - i % 10000 ) ]_______________________  3.15   3.18 ->  0.99
[ T023: eval( { || i % 16 } ) ]_______________________  3.35   3.20 ->  1.05
[ T024: eval( bc := { || i % 16 } ) ]_________________  2.05   1.57 ->  1.31
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.30   1.28 ->  1.02
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.00   1.03 ->  0.97
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.63   1.64 ->  0.99
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.39   1.39 ->  1.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  2.00   2.02 ->  0.99
[ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 59.79  59.55 ->  1.00
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 60.05  60.15 ->  1.00
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.96   0.90 ->  1.07
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ] 23.38  23.33 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.87   0.95 ->  0.92
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.33   1.31 ->  1.02
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.31   1.33 ->  0.98
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.31   1.33 ->  0.98
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.27   1.34 ->  0.95
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.34   1.32 ->  1.02
[ T040: ascan( a, i % 16 ) ]__________________________  2.03   2.08 ->  0.98
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 13.72  13.82 ->  0.99
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 19.14  19.49 ->  0.98
[ T043: x := a ]______________________________________  0.14   0.12 ->  1.17
[ T044: x := {} ]_____________________________________  1.24   1.40 ->  0.89
[ T045: f0() ]________________________________________  0.40   0.34 ->  1.18
[ T046: f1( i ) ]_____________________________________  0.48   0.44 ->  1.09
[ T047: f2( c[1...8] ) ]______________________________  0.41   0.47 ->  0.87
[ T048: f2( c[1...40000] ) ]__________________________  0.40   0.42 ->  0.95
[ T049: f2( @c[1...40000] ) ]_________________________  0.36   0.38 ->  0.95
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.62   0.53 ->  1.17
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.77   0.77 ->  1.00
[ T052: f2( a ) ]_____________________________________  0.39   0.37 ->  1.05
[ T053: x := f4() ]___________________________________  2.64   2.50 ->  1.06
[ T054: x := f5() ]___________________________________  1.19   1.20 ->  0.99
[ T055: x := space(16) ]______________________________  0.89   0.88 ->  1.01
[ T056: f_prv( c ) ]__________________________________  1.42   1.34 ->  1.06
============================================================================
[   TOTAL   ]_________________________________________247.17 246.80 ->  1.00
============================================================================
[ total application time: ]...................................494.06
[ total real time: ]..........................................494.06
-------------- next part --------------

03/28/09 19:56:46 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.31   0.25 ->  1.25
[ T002: x := L_N ]____________________________________  0.16   0.14 ->  1.11
[ T003: x := L_D ]____________________________________  0.16   0.17 ->  0.91
[ T004: x := S_C ]____________________________________  0.30   0.31 ->  0.95
[ T005: x := S_N ]____________________________________  0.20   0.19 ->  1.08
[ T006: x := S_D ]____________________________________  0.22   0.20 ->  1.07
[ T007: x := M->M_C ]_________________________________  0.38   0.31 ->  1.20
[ T008: x := M->M_N ]_________________________________  0.23   0.22 ->  1.07
[ T009: x := M->M_D ]_________________________________  0.24   0.20 ->  1.16
[ T010: x := M->P_C ]_________________________________  0.28   0.27 ->  1.06
[ T011: x := M->P_N ]_________________________________  0.23   0.24 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.23   0.22 ->  1.07
[ T013: x := F_C ]____________________________________  2.00   1.41 ->  1.42
[ T014: x := F_N ]____________________________________  1.83   1.28 ->  1.43
[ T015: x := F_D ]____________________________________  1.50   1.02 ->  1.48
[ T016: x := o:Args ]_________________________________  0.64   0.69 ->  0.93
[ T017: x := o[2] ]___________________________________  0.42   0.39 ->  1.08
[ T018: round( i / 1000, 2 ) ]________________________  0.69   0.58 ->  1.19
[ T019: str( i / 1000 ) ]_____________________________  1.72   1.88 ->  0.92
[ T020: val( s ) ]____________________________________  0.95   0.84 ->  1.13
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.64   1.56 ->  1.05
[ T022: dtos( d - i % 10000 ) ]_______________________  1.64   1.38 ->  1.19
[ T023: eval( { || i % 16 } ) ]_______________________  6.45   9.02 ->  0.72
[ T024: eval( bc := { || i % 16 } ) ]_________________  4.75   6.22 ->  0.76
[ T025: eval( { |x| x % 16 }, i ) ]___________________  5.25   7.67 ->  0.68
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  4.69   6.11 ->  0.77
[ T027: eval( { |x| f1( x ) }, i ) ]__________________ 10.30  14.53 ->  0.71
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  9.42  13.30 ->  0.71
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  4.45   5.59 ->  0.80
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 20.61  25.83 ->  0.80
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 23.31  29.92 ->  0.78
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.59   1.53 ->  1.04
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.78   2.77 ->  1.01
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.16   1.13 ->  1.03
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.36   1.16 ->  1.18
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.30   1.24 ->  1.05
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.25   1.22 ->  1.03
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.27   1.19 ->  1.07
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.24   1.20 ->  1.03
[ T040: ascan( a, i % 16 ) ]__________________________  1.17   1.13 ->  1.04
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 51.70  69.58 ->  0.74
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  3.94   4.20 ->  0.94
[ T043: x := a ]______________________________________  0.33   0.28 ->  1.17
[ T044: x := {} ]_____________________________________  0.97   1.34 ->  0.72
[ T045: f0() ]________________________________________  2.94   3.66 ->  0.80
[ T046: f1( i ) ]_____________________________________  3.63   4.64 ->  0.78
[ T047: f2( c[1...8] ) ]______________________________  3.78   4.91 ->  0.77
[ T048: f2( c[1...40000] ) ]__________________________  3.78   4.84 ->  0.78
[ T049: f2( @c[1...40000] ) ]_________________________  3.56   4.86 ->  0.73
[ T050: f2( @c[1...40000] ), c2 := c ]________________  3.83   4.84 ->  0.79
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________ 12.08  16.55 ->  0.73
[ T052: f2( a ) ]_____________________________________  3.78   4.91 ->  0.77
[ T053: x := f4() ]___________________________________  5.61   7.17 ->  0.78
[ T054: x := f5() ]___________________________________  3.81   5.14 ->  0.74
[ T055: x := space(16) ]______________________________  1.03   1.11 ->  0.93
[ T056: f_prv( c ) ]__________________________________  5.44   7.30 ->  0.75
============================================================================
[   TOTAL   ]_________________________________________228.51 289.80 ->  0.79
============================================================================
[ total application time: ]...................................706.25
[ total real time: ]..........................................518.45

From amigosam at adinet.com.uy  Sat Mar 28 18:39:03 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Mar 28 18:40:07 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqm8kq$nf8$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>	<gqj7e9$m2e$1@ger.gmane.org>	<gqj8rv$q44$1@ger.gmane.org>	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org>
Message-ID: <gqm8u8$nf8$2@ger.gmane.org>

Forgot to say:

Pentium dual core 3gz 1 gb ram
and... xbase++ misdetects operating system, it reports xp when it is a 
windows 2003 server !

Angel Pais escribi?:
> Here you have results on same computer 2 compilers.
> 
> see this:
> xbase++ :
> [   TOTAL   ]________________________________247.17 246.80 ->  1.00
> ====================================================================
> [ total application time: ]...................................494.06
> [ total real time: ]..........................................494.06
> 
> harbour + msvc:
> [   TOTAL   ]________________________________228.51 289.80 ->  0.79
> ============================================================================ 
> 
> [ total application time: ]...................................706.25
> [ total real time: ]..........................................518.45
> 
> Does it mean xbase++ are using 2 cores simultaneously ?
> And Harbour ?
> Why total time and real time are equal on first test ?
> 
> HTH
> Angel
> 
> 
> Przemyslaw Czerpak escribi?:
>> On Fri, 27 Mar 2009, Angel Pais wrote:
>>
>> Hi,
>>
>> Thank you very much for your tests.
>>
>> What are Harbour results on the same computers?
>>
>> best regards,
>> Przemek
> 

From mbelgrano at deltain.it  Sat Mar 28 19:25:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Mar 28 19:25:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10720] trunk/harbour
In-Reply-To: <22761444.post@talk.nabble.com>
References: <E1Lnezx-0003aZ-Gl@3kljzd1.ch3.sourceforge.com> 
	<22761444.post@talk.nabble.com>
Message-ID: <609353e70903281625q62314db3w7925364a9af55b9b@mail.gmail.com>

agree it is a fantastic job Thank  Viktor

Having Harbour Binary for all compiler allow easy switch to any c compiler
Include Only Mingw is right choice for define a clear Direction
Also having One unique file to  Download for windows Platform is quantum leap
like easy compile for WIN64 or WINCE

When is planed 1.1?
What about a GUI version od hbmk based on qt?

2009/3/28 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Viktor
>
>
> vszakats wrote:
>>
>> ? ? ; IOW this means that it's now possible to create a unified,
>> ? ? ? self-contained install kit, which is able to easily build
>> ? ? ? x64, WinCE and x86 executables with command below:
>> ? ? ? > hbmk2 test.prg ? ? ? ? ? ?=> test.exe for x86
>> ? ? ? > hbmk2 -comp=mingw64 a.prg => test.exe for x64
>> ? ? ? > hbmk2 -comp=mingwce a.prg => test.exe for ARM/WinCE
>> ? ? ? Can it be any simpler than that?
>>
>> ? ? ? My sample install .zip is 322MB and it contains Harbour libs
>> ? ? ? for msvc, mingw, mingw64, mingwce, bcc, owatcom and contains
>> ? ? ? all required MinGW files.
>>
>
> Fantastic job, congratulations!
>
> 322 MB install is nothing compared to benefits it delivers.
> Consider including PellesC compiler alongwith MinGW. We have
> consent from Pelles to include it in our distro.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10720--trunk-harbour-tp22760913p22761444.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Sat Mar 28 20:22:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Mar 28 20:15:46 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqm8kq$nf8$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org>
Message-ID: <20090329002224.GA21175@uran.home.aster.pl>

On Sat, 28 Mar 2009, Angel Pais wrote:

Hi,

> Here you have results on same computer 2 compilers.
> see this:
> xbase++ :
> [   TOTAL   ]________________________________247.17 246.80 ->  1.00
> ====================================================================
> [ total application time: ]...................................494.06
> [ total real time: ]..........................................494.06
> harbour + msvc:
> [   TOTAL   ]________________________________228.51 289.80 ->  0.79
> ============================================================================
> [ total application time: ]...................................706.25
> [ total real time: ]..........................................518.45
> Does it mean xbase++ are using 2 cores simultaneously ?
> And Harbour ?

It shows that both compilers have rather fatal scalability in this
environment. xbase++ is a little bit better in scalability but the
difference is minor. I can only guess that Harbour version was using
dlmalloc. And of course I hope that you disabled memory statistic module
in Harbour builds by:
   set HB_USER_CFLAGS="-DHB_FM_STATISTICS_OFF"
Otherwise this test will not give any valuable information about Harbour
performance. You cannot compare Harbour debug builds with final releases.
It's not my intention and never will be to make optional debug code scalable.
If the above is not true then please rebuild Harbour. You cut the line
about memory statistic from above test so I do not know if FM stat was
enabled.
If you disabled memory statistic then please also think about using
HB_FM_WIN_ALLOC instead of default HB_FM_DL_ALLOC.
Probably default windows allocator used instead of dlmalloc can make some
results better but it will not make any fundamental difference.
IMHO in both cases the final results are fatal and unacceptable. I'm working
only with Linux but I'll try to find some time to make some test with real
windows and to create some much more friendly MT memory manager for this OS.
Maybe also I'll invest time to resolve some other multiplatform problems.
But I would like to know what memory manager was used in you Harbour builds.

> Why total time and real time are equal on first test ?

because I do not know function which in xbase++ returns process only time.
In Harbour, CLIP and FLAGSHIP there is a function secondsCPU() which returns
how much time OS invest in the process. The time is calculated for each
process separately. It means that if some other process make some different
operations, f.e. you are executing some ZIP compression or decompression
then it should not effect application time and only real time will be
bigger. Just simply OS calculates the total CPU time given to process
separately to real OS time. If some other processes are active then
the difference between CPU and real time is bigger. Of course due to
hardware limitation executing simultanously many programs also increase
the CPU time because modern computers use common L1, L2 and L3 caches for
all CPUs and this caches are used for different execution contexts so are
not as efficient as for single context but the difference is relatively
small in comparison to increased real time in such case.
In xbase++ and Clipper builds speedtst always use only one real time function
to calculate the time: seconds(). If you know xbase++ wrapper to Win API
GetProcessTimes() function the we should use it instead. In fact it will be
good to also use get GetThreadTimes() in this test to see the exact CPU time
for parallel execution but we will have to implant it also for other OS-es too.
Now it's available only for OS2 builds in Harbour (thanks to Maurilio).
Until we will not have common CPU usage functions we should compare only
real time when we compare Harbour with xbase++.
But of course the environment has to be comparable. It means that Harbour
cannot be compiled with memory statistic module (default for SVN devel code)
and you should use -gc3 to compile Harbour code (as we can see in this test
pure PCODE/macrocompiled code evaluation is such many times slower in xbase++
then in Harbour that there is no sense to make any comparison)

best regards,
Przemek
From amigosam at adinet.com.uy  Sat Mar 28 21:01:39 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Mar 28 21:02:00 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090329002224.GA21175@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>
	<gqj7e9$m2e$1@ger.gmane.org>	<gqj8rv$q44$1@ger.gmane.org>	<20090328081105.GD22352@uran.home.aster.pl>	<gqm8kq$nf8$1@ger.gmane.org>
	<20090329002224.GA21175@uran.home.aster.pl>
Message-ID: <gqmh9m$9mt$1@ger.gmane.org>

this is the .bat file I use to compile Harbour.
All the rest is pure svn code.

compile.bat

SET PATH=C:\vsk\vc\bin;C:\vsk\bin;
SET LIB=C:\vsk\vc\lib;C:\vsk\lib;
SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;

set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=C:\harbour
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF

call make_gnu.bat clean      > make_gnu_cln.txt
call make_gnu.bat install    > make_gnu_log.txt

end compile.bat


Przemyslaw Czerpak escribi?:
> On Sat, 28 Mar 2009, Angel Pais wrote:
> 
> Hi,
>
>> Here you have results on same computer 2 compilers.
>> see this:
>> xbase++ :
>> [   TOTAL   ]________________________________247.17 246.80 ->  1.00
>> ====================================================================
>> [ total application time: ]...................................494.06
>> [ total real time: ]..........................................494.06
>> harbour + msvc:
>> [   TOTAL   ]________________________________228.51 289.80 ->  0.79
>> ============================================================================
>> [ total application time: ]...................................706.25
>> [ total real time: ]..........................................518.45
>> Does it mean xbase++ are using 2 cores simultaneously ?
>> And Harbour ?
> 
> It shows that both compilers have rather fatal scalability in this
> environment. xbase++ is a little bit better in scalability but the
> difference is minor. I can only guess that Harbour version was using
> dlmalloc. And of course I hope that you disabled memory statistic module
> in Harbour builds by:
>    set HB_USER_CFLAGS="-DHB_FM_STATISTICS_OFF"

> best regards,
> Przemek

From druzus at acn.waw.pl  Sun Mar 29 04:35:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 04:28:20 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqmh9m$9mt$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org>
	<20090329002224.GA21175@uran.home.aster.pl>
	<gqmh9m$9mt$1@ger.gmane.org>
Message-ID: <20090329083502.GA27416@uran.home.aster.pl>

On Sat, 28 Mar 2009, Angel Pais wrote:

Hi,

> this is the .bat file I use to compile Harbour.
> All the rest is pure svn code.
> compile.bat
> SET PATH=C:\vsk\vc\bin;C:\vsk\bin;
> SET LIB=C:\vsk\vc\lib;C:\vsk\lib;
> SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=C:\harbour
> set HB_VISUALC_VER=90
> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
> call make_gnu.bat clean      > make_gnu_cln.txt
> call make_gnu.bat install    > make_gnu_log.txt

Thank you very much for confirmation.
Can you also check what will happen if you rebuild Harbour with:
   set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC

best regards,
Przemek
From vszakats at users.sourceforge.net  Sun Mar 29 05:09:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 29 05:09:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
Message-ID: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>

Revision: 10721
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10721&view=rev
Author:   vszakats
Date:     2009-03-29 09:09:24 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
  * external/Makefile
  + external/libhpdf/*
  + external/libpng/*
    + Added libharu and libpng to Harbour repository.
      Now it's possible to use libhpdf as static lib on all
      platforms. This is useful because this lib isn't yet part
      of Linux distros.
      libpng is only built for win/dos/os2 platforms.
      It's possible to override libpng location by using
      HB_INC_LIBPNG envvar.

  * contrib/hbhpdf/Makefile
    + Look for libharu headers in /external dir.

  * external/sqlite3/Makefile
    - Disabled for bcc. Latest sqlite3 version breaks with this compiler:
      ---
      Error E2293 ../../sqlite3.c 29156: ) expected in function winCurrentTime
      Warning W8013 ../../sqlite3.c 29157: Possible use of 'timeW' before definition in function winCurrentTime
      Error E2379 ../../sqlite3.c 29157: Statement missing ; in function winCurrentTime
      Error E2379 ../../sqlite3.c 29158: Statement missing ; in function winCurrentTime
      Error E2379 ../../sqlite3.c 29160: Statement missing ; in function winCurrentTime
      Error E2293 ../../sqlite3.c 29161: ) expected in function winCurrentTime
      Error E2379 ../../sqlite3.c 29162: Statement missing ; in function winCurrentTime
      Error E2293 ../../sqlite3.c 29163: ) expected in function winCurrentTime
      Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never used in function winCurrentTime
      *** 7 errors in Compile ***
      ---
      bcc users can report this problem here:
      http://www.sqlite.org/cvstrac/tktnew

  + tests/bnch_win.bat
  - tests/bnchmark
    * Moved bnch_win.bat to tests.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/external/Makefile
    trunk/harbour/external/sqlite3/Makefile

Added Paths:
-----------
    trunk/harbour/external/libhpdf/
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libhpdf/README
    trunk/harbour/external/libhpdf/hpdf.h
    trunk/harbour/external/libhpdf/hpdf_annotation.c
    trunk/harbour/external/libhpdf/hpdf_annotation.h
    trunk/harbour/external/libhpdf/hpdf_array.c
    trunk/harbour/external/libhpdf/hpdf_binary.c
    trunk/harbour/external/libhpdf/hpdf_boolean.c
    trunk/harbour/external/libhpdf/hpdf_catalog.c
    trunk/harbour/external/libhpdf/hpdf_catalog.h
    trunk/harbour/external/libhpdf/hpdf_conf.h
    trunk/harbour/external/libhpdf/hpdf_config.h
    trunk/harbour/external/libhpdf/hpdf_consts.h
    trunk/harbour/external/libhpdf/hpdf_destination.c
    trunk/harbour/external/libhpdf/hpdf_destination.h
    trunk/harbour/external/libhpdf/hpdf_dict.c
    trunk/harbour/external/libhpdf/hpdf_doc.c
    trunk/harbour/external/libhpdf/hpdf_doc.h
    trunk/harbour/external/libhpdf/hpdf_doc_png.c
    trunk/harbour/external/libhpdf/hpdf_encoder.c
    trunk/harbour/external/libhpdf/hpdf_encoder.h
    trunk/harbour/external/libhpdf/hpdf_encoder_cns.c
    trunk/harbour/external/libhpdf/hpdf_encoder_cnt.c
    trunk/harbour/external/libhpdf/hpdf_encoder_jp.c
    trunk/harbour/external/libhpdf/hpdf_encoder_kr.c
    trunk/harbour/external/libhpdf/hpdf_encrypt.c
    trunk/harbour/external/libhpdf/hpdf_encrypt.h
    trunk/harbour/external/libhpdf/hpdf_encryptdict.c
    trunk/harbour/external/libhpdf/hpdf_encryptdict.h
    trunk/harbour/external/libhpdf/hpdf_error.c
    trunk/harbour/external/libhpdf/hpdf_error.h
    trunk/harbour/external/libhpdf/hpdf_ext_gstate.c
    trunk/harbour/external/libhpdf/hpdf_ext_gstate.h
    trunk/harbour/external/libhpdf/hpdf_font.c
    trunk/harbour/external/libhpdf/hpdf_font.h
    trunk/harbour/external/libhpdf/hpdf_font_cid.c
    trunk/harbour/external/libhpdf/hpdf_font_tt.c
    trunk/harbour/external/libhpdf/hpdf_font_type1.c
    trunk/harbour/external/libhpdf/hpdf_fontdef.c
    trunk/harbour/external/libhpdf/hpdf_fontdef.h
    trunk/harbour/external/libhpdf/hpdf_fontdef_base14.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_cid.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_cns.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_cnt.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_jp.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_kr.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_tt.c
    trunk/harbour/external/libhpdf/hpdf_fontdef_type1.c
    trunk/harbour/external/libhpdf/hpdf_gstate.c
    trunk/harbour/external/libhpdf/hpdf_gstate.h
    trunk/harbour/external/libhpdf/hpdf_image.c
    trunk/harbour/external/libhpdf/hpdf_image.h
    trunk/harbour/external/libhpdf/hpdf_image_png.c
    trunk/harbour/external/libhpdf/hpdf_info.c
    trunk/harbour/external/libhpdf/hpdf_info.h
    trunk/harbour/external/libhpdf/hpdf_list.c
    trunk/harbour/external/libhpdf/hpdf_list.h
    trunk/harbour/external/libhpdf/hpdf_mmgr.c
    trunk/harbour/external/libhpdf/hpdf_mmgr.h
    trunk/harbour/external/libhpdf/hpdf_name.c
    trunk/harbour/external/libhpdf/hpdf_null.c
    trunk/harbour/external/libhpdf/hpdf_number.c
    trunk/harbour/external/libhpdf/hpdf_objects.c
    trunk/harbour/external/libhpdf/hpdf_objects.h
    trunk/harbour/external/libhpdf/hpdf_outline.c
    trunk/harbour/external/libhpdf/hpdf_outline.h
    trunk/harbour/external/libhpdf/hpdf_page_label.c
    trunk/harbour/external/libhpdf/hpdf_page_label.h
    trunk/harbour/external/libhpdf/hpdf_page_operator.c
    trunk/harbour/external/libhpdf/hpdf_pages.c
    trunk/harbour/external/libhpdf/hpdf_pages.h
    trunk/harbour/external/libhpdf/hpdf_real.c
    trunk/harbour/external/libhpdf/hpdf_streams.c
    trunk/harbour/external/libhpdf/hpdf_streams.h
    trunk/harbour/external/libhpdf/hpdf_string.c
    trunk/harbour/external/libhpdf/hpdf_types.h
    trunk/harbour/external/libhpdf/hpdf_u3d.c
    trunk/harbour/external/libhpdf/hpdf_u3d.h
    trunk/harbour/external/libhpdf/hpdf_utils.c
    trunk/harbour/external/libhpdf/hpdf_utils.h
    trunk/harbour/external/libhpdf/hpdf_version.h
    trunk/harbour/external/libhpdf/hpdf_xref.c
    trunk/harbour/external/libhpdf/link.txt
    trunk/harbour/external/libpng/
    trunk/harbour/external/libpng/LICENSE
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/libpng/link.txt
    trunk/harbour/external/libpng/png.c
    trunk/harbour/external/libpng/png.h
    trunk/harbour/external/libpng/pngconf.h
    trunk/harbour/external/libpng/pngerror.c
    trunk/harbour/external/libpng/pnggccrd.c
    trunk/harbour/external/libpng/pngget.c
    trunk/harbour/external/libpng/pngmem.c
    trunk/harbour/external/libpng/pngpread.c
    trunk/harbour/external/libpng/pngread.c
    trunk/harbour/external/libpng/pngrio.c
    trunk/harbour/external/libpng/pngrtran.c
    trunk/harbour/external/libpng/pngrutil.c
    trunk/harbour/external/libpng/pngset.c
    trunk/harbour/external/libpng/pngtest.c
    trunk/harbour/external/libpng/pngtrans.c
    trunk/harbour/external/libpng/pngvcrd.c
    trunk/harbour/external/libpng/pngwio.c
    trunk/harbour/external/libpng/pngwrite.c
    trunk/harbour/external/libpng/pngwtran.c
    trunk/harbour/external/libpng/pngwutil.c
    trunk/harbour/tests/bnch_win.bat

Removed Paths:
-------------
    trunk/harbour/tests/bnchmark/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar 29 06:43:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 29 06:43:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>
Message-ID: <609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>

I have tried compiling tests

c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib
hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
hbmk: Processing: hbhpdf.hbp
Harbour 1.1.0dev (Rev. 10721)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'harupdf.prg'...
Lines 2245, Functions/Procedures 18
Generating C source output to 'harupdf.c'... Done.
C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: cann
t find -lhpdf
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 1:


2009/3/29  <vszakats@users.sourceforge.net>:
> Revision: 10721
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10721&view=rev
> Author: ? vszakats
> Date: ? ? 2009-03-29 09:09:24 +0000 (Sun, 29 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> ?* INSTALL
> ?* external/Makefile
> ?+ external/libhpdf/*
> ?+ external/libpng/*
> ? ?+ Added libharu and libpng to Harbour repository.
> ? ? ?Now it's possible to use libhpdf as static lib on all
> ? ? ?platforms. This is useful because this lib isn't yet part
> ? ? ?of Linux distros.
> ? ? ?libpng is only built for win/dos/os2 platforms.
> ? ? ?It's possible to override libpng location by using
> ? ? ?HB_INC_LIBPNG envvar.
>
> ?* contrib/hbhpdf/Makefile
> ? ?+ Look for libharu headers in /external dir.
>
> ?* external/sqlite3/Makefile
> ? ?- Disabled for bcc. Latest sqlite3 version breaks with this compiler:
> ? ? ?---
> ? ? ?Error E2293 ../../sqlite3.c 29156: ) expected in function winCurrentTime
> ? ? ?Warning W8013 ../../sqlite3.c 29157: Possible use of 'timeW' before definition in function winCurrentTime
> ? ? ?Error E2379 ../../sqlite3.c 29157: Statement missing ; in function winCurrentTime
> ? ? ?Error E2379 ../../sqlite3.c 29158: Statement missing ; in function winCurrentTime
> ? ? ?Error E2379 ../../sqlite3.c 29160: Statement missing ; in function winCurrentTime
> ? ? ?Error E2293 ../../sqlite3.c 29161: ) expected in function winCurrentTime
> ? ? ?Error E2379 ../../sqlite3.c 29162: Statement missing ; in function winCurrentTime
> ? ? ?Error E2293 ../../sqlite3.c 29163: ) expected in function winCurrentTime
> ? ? ?Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never used in function winCurrentTime
> ? ? ?*** 7 errors in Compile ***
> ? ? ?---
> ? ? ?bcc users can report this problem here:
> ? ? ?http://www.sqlite.org/cvstrac/tktnew
>
> ?+ tests/bnch_win.bat
> ?- tests/bnchmark
> ? ?* Moved bnch_win.bat to tests.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/INSTALL
> ? ?trunk/harbour/contrib/hbhpdf/Makefile
> ? ?trunk/harbour/external/Makefile
> ? ?trunk/harbour/external/sqlite3/Makefile
>
> Added Paths:
> -----------
> ? ?trunk/harbour/external/libhpdf/
> ? ?trunk/harbour/external/libhpdf/Makefile
> ? ?trunk/harbour/external/libhpdf/README
> ? ?trunk/harbour/external/libhpdf/hpdf.h
> ? ?trunk/harbour/external/libhpdf/hpdf_annotation.c
> ? ?trunk/harbour/external/libhpdf/hpdf_annotation.h
> ? ?trunk/harbour/external/libhpdf/hpdf_array.c
> ? ?trunk/harbour/external/libhpdf/hpdf_binary.c
> ? ?trunk/harbour/external/libhpdf/hpdf_boolean.c
> ? ?trunk/harbour/external/libhpdf/hpdf_catalog.c
> ? ?trunk/harbour/external/libhpdf/hpdf_catalog.h
> ? ?trunk/harbour/external/libhpdf/hpdf_conf.h
> ? ?trunk/harbour/external/libhpdf/hpdf_config.h
> ? ?trunk/harbour/external/libhpdf/hpdf_consts.h
> ? ?trunk/harbour/external/libhpdf/hpdf_destination.c
> ? ?trunk/harbour/external/libhpdf/hpdf_destination.h
> ? ?trunk/harbour/external/libhpdf/hpdf_dict.c
> ? ?trunk/harbour/external/libhpdf/hpdf_doc.c
> ? ?trunk/harbour/external/libhpdf/hpdf_doc.h
> ? ?trunk/harbour/external/libhpdf/hpdf_doc_png.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encoder.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encoder.h
> ? ?trunk/harbour/external/libhpdf/hpdf_encoder_cns.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encoder_cnt.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encoder_jp.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encoder_kr.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encrypt.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encrypt.h
> ? ?trunk/harbour/external/libhpdf/hpdf_encryptdict.c
> ? ?trunk/harbour/external/libhpdf/hpdf_encryptdict.h
> ? ?trunk/harbour/external/libhpdf/hpdf_error.c
> ? ?trunk/harbour/external/libhpdf/hpdf_error.h
> ? ?trunk/harbour/external/libhpdf/hpdf_ext_gstate.c
> ? ?trunk/harbour/external/libhpdf/hpdf_ext_gstate.h
> ? ?trunk/harbour/external/libhpdf/hpdf_font.c
> ? ?trunk/harbour/external/libhpdf/hpdf_font.h
> ? ?trunk/harbour/external/libhpdf/hpdf_font_cid.c
> ? ?trunk/harbour/external/libhpdf/hpdf_font_tt.c
> ? ?trunk/harbour/external/libhpdf/hpdf_font_type1.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef.h
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_base14.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_cid.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_cns.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_cnt.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_jp.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_kr.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_tt.c
> ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_type1.c
> ? ?trunk/harbour/external/libhpdf/hpdf_gstate.c
> ? ?trunk/harbour/external/libhpdf/hpdf_gstate.h
> ? ?trunk/harbour/external/libhpdf/hpdf_image.c
> ? ?trunk/harbour/external/libhpdf/hpdf_image.h
> ? ?trunk/harbour/external/libhpdf/hpdf_image_png.c
> ? ?trunk/harbour/external/libhpdf/hpdf_info.c
> ? ?trunk/harbour/external/libhpdf/hpdf_info.h
> ? ?trunk/harbour/external/libhpdf/hpdf_list.c
> ? ?trunk/harbour/external/libhpdf/hpdf_list.h
> ? ?trunk/harbour/external/libhpdf/hpdf_mmgr.c
> ? ?trunk/harbour/external/libhpdf/hpdf_mmgr.h
> ? ?trunk/harbour/external/libhpdf/hpdf_name.c
> ? ?trunk/harbour/external/libhpdf/hpdf_null.c
> ? ?trunk/harbour/external/libhpdf/hpdf_number.c
> ? ?trunk/harbour/external/libhpdf/hpdf_objects.c
> ? ?trunk/harbour/external/libhpdf/hpdf_objects.h
> ? ?trunk/harbour/external/libhpdf/hpdf_outline.c
> ? ?trunk/harbour/external/libhpdf/hpdf_outline.h
> ? ?trunk/harbour/external/libhpdf/hpdf_page_label.c
> ? ?trunk/harbour/external/libhpdf/hpdf_page_label.h
> ? ?trunk/harbour/external/libhpdf/hpdf_page_operator.c
> ? ?trunk/harbour/external/libhpdf/hpdf_pages.c
> ? ?trunk/harbour/external/libhpdf/hpdf_pages.h
> ? ?trunk/harbour/external/libhpdf/hpdf_real.c
> ? ?trunk/harbour/external/libhpdf/hpdf_streams.c
> ? ?trunk/harbour/external/libhpdf/hpdf_streams.h
> ? ?trunk/harbour/external/libhpdf/hpdf_string.c
> ? ?trunk/harbour/external/libhpdf/hpdf_types.h
> ? ?trunk/harbour/external/libhpdf/hpdf_u3d.c
> ? ?trunk/harbour/external/libhpdf/hpdf_u3d.h
> ? ?trunk/harbour/external/libhpdf/hpdf_utils.c
> ? ?trunk/harbour/external/libhpdf/hpdf_utils.h
> ? ?trunk/harbour/external/libhpdf/hpdf_version.h
> ? ?trunk/harbour/external/libhpdf/hpdf_xref.c
> ? ?trunk/harbour/external/libhpdf/link.txt
> ? ?trunk/harbour/external/libpng/
> ? ?trunk/harbour/external/libpng/LICENSE
> ? ?trunk/harbour/external/libpng/Makefile
> ? ?trunk/harbour/external/libpng/link.txt
> ? ?trunk/harbour/external/libpng/png.c
> ? ?trunk/harbour/external/libpng/png.h
> ? ?trunk/harbour/external/libpng/pngconf.h
> ? ?trunk/harbour/external/libpng/pngerror.c
> ? ?trunk/harbour/external/libpng/pnggccrd.c
> ? ?trunk/harbour/external/libpng/pngget.c
> ? ?trunk/harbour/external/libpng/pngmem.c
> ? ?trunk/harbour/external/libpng/pngpread.c
> ? ?trunk/harbour/external/libpng/pngread.c
> ? ?trunk/harbour/external/libpng/pngrio.c
> ? ?trunk/harbour/external/libpng/pngrtran.c
> ? ?trunk/harbour/external/libpng/pngrutil.c
> ? ?trunk/harbour/external/libpng/pngset.c
> ? ?trunk/harbour/external/libpng/pngtest.c
> ? ?trunk/harbour/external/libpng/pngtrans.c
> ? ?trunk/harbour/external/libpng/pngvcrd.c
> ? ?trunk/harbour/external/libpng/pngwio.c
> ? ?trunk/harbour/external/libpng/pngwrite.c
> ? ?trunk/harbour/external/libpng/pngwtran.c
> ? ?trunk/harbour/external/libpng/pngwutil.c
> ? ?trunk/harbour/tests/bnch_win.bat
>
> Removed Paths:
> -------------
> ? ?trunk/harbour/tests/bnchmark/
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From mbelgrano at deltain.it  Sun Mar 29 06:53:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 29 06:54:18 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090329083502.GA27416@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> 
	<gqj7e9$m2e$1@ger.gmane.org> <gqj8rv$q44$1@ger.gmane.org> 
	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org> 
	<20090329002224.GA21175@uran.home.aster.pl>
	<gqmh9m$9mt$1@ger.gmane.org> 
	<20090329083502.GA27416@uran.home.aster.pl>
Message-ID: <609353e70903290353y355336cdk76d29fe913e58374@mail.gmail.com>

If we share a kit of executable of test on rapidshare (or in our web)
this will be executed also from user that is not ready to compile so
we have more comparison.

2009/3/29 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Sat, 28 Mar 2009, Angel Pais wrote:
>
> Hi,
>
>> this is the .bat file I use to compile Harbour.
>> All the rest is pure svn code.
>> compile.bat
>> SET PATH=C:\vsk\vc\bin;C:\vsk\bin;
>> SET LIB=C:\vsk\vc\lib;C:\vsk\lib;
>> SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;
>> set HB_COMPILER=msvc
>> set HB_INSTALL_PREFIX=C:\harbour
>> set HB_VISUALC_VER=90
>> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
>> call make_gnu.bat clean ? ? ?> make_gnu_cln.txt
>> call make_gnu.bat install ? ?> make_gnu_log.txt
>
> Thank you very much for confirmation.
> Can you also check what will happen if you rebuild Harbour with:
> ? set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sun Mar 29 09:46:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 29 09:46:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10722] trunk/harbour
Message-ID: <E1LnvLP-00074Q-6J@3kljzd1.ch3.sourceforge.com>

Revision: 10722
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10722&view=rev
Author:   vszakats
Date:     2009-03-29 13:46:34 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 15:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.sh
  * bin/hb-func.sh
    + Added support for .dll creation and hbmk for mingw64.
    * Synced Windows system liblist for dll creation.
    * wsock32 -> ws2_32

  * bin/hb-mkdyn.bat
    ! wsock32 -> ws2_32

  * contrib/gtwvg/gtwvg.c
    ! Fixed embedded ANSI C comments.
  * contrib/gtwvg/wvgsink.c
    ! Fixed a few non-ANSI C comments.
    * There is more, see: 'grep // *.c'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Mar 29 11:00:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Mar 29 11:00:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10688] trunk/harbour
In-Reply-To: <20090326005419.GA10556@uran.home.aster.pl>
References: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>
	<20090326005419.GA10556@uran.home.aster.pl>
Message-ID: <18d502870903290800q295347feh5813b79b2aa02e9d@mail.gmail.com>

>
> BTW: in hbsetup.h you added:
>         ( defined(__POCC_TARGET__) && __POCC_TARGET__ == 2 )
>     to detect HB_OS_WIN_CE builds. Maybe it's documented method in POCC
>     and in such case should be left but if not then I suggest to rather
>     use sth like:
>         ( defined( HB_OS_WIN ) && defined( _M_ARM ) )


Maybe I'm missing something, but _M_ARM doesn't seem to work in POCC 5,
I've found no better solution back then, that's why I opted for this route.

--- test.c
#if defined( _M_ARM )
   #error defined
#else
   #error not defined
#endif
---

>pocc -Tarm-coff test.c

--
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090329/7ab1fe93/attachment.html
From vouchcac at users.sourceforge.net  Sun Mar 29 12:25:36 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Mar 29 12:25:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10723] trunk/harbour
Message-ID: <E1LnxpI-00029t-99@d5vjzd1.ch3.sourceforge.com>

Revision: 10723
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10723&view=rev
Author:   vouchcac
Date:     2009-03-29 16:25:35 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 09:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvgsink.c
    ! Fixed remaining non-ANSI C comments. Just had been overlooked!

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Mar 29 13:13:53 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 29 13:13:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10724] trunk/harbour
Message-ID: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>

Revision: 10724
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10724&view=rev
Author:   druzus
Date:     2009-03-29 17:13:52 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 19:20 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/include/hbstack.h
  * harbour/source/vm/estack.c
  * harbour/source/vm/fm.c
    + added support for thread local memory allocators by using MSPACE
      mechanism in DLALLOC.
      It can be enabled by compiling Harbour with HB_FM_DLMT_ALLOC macro.
      By default up to 16 (HB_MSPACE_COUNT macro) independent memory
      allocators is dynamically created for new threads. When more threads
      is used then allocators are shared between them and HVM tries to
      balance used allocators to reduce number of threads using the
      same allocator.
      It should give noticeable scalability improvement in some OS-es
      where default memory manages has pure MT performance.
      Please try to compiler speedtst.prg with Harbour compiled with
      and without HB_FM_DLMT_ALLOC and compare results in this test:
         speedtst --thread=2 --scale
      using real multiCPU machine.

  * harbour/source/vm/dlmalloc.c
    * pacified warning when FOOTERS are enabled

  * harbour/source/vm/garbage.c
    * cleanup comment

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/source/vm/dlmalloc.c
    trunk/harbour/source/vm/estack.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/source/vm/garbage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Mar 29 13:28:28 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 13:21:57 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090329083502.GA27416@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org>
	<20090329002224.GA21175@uran.home.aster.pl>
	<gqmh9m$9mt$1@ger.gmane.org>
	<20090329083502.GA27416@uran.home.aster.pl>
Message-ID: <20090329172828.GA21516@uran.home.aster.pl>

On Sun, 29 Mar 2009, Przemyslaw Czerpak wrote:

Hi,

> > this is the .bat file I use to compile Harbour.
> > All the rest is pure svn code.
> > compile.bat
> > SET PATH=C:\vsk\vc\bin;C:\vsk\bin;
> > SET LIB=C:\vsk\vc\lib;C:\vsk\lib;
> > SET INCLUDE=C:\vsk\vc\include;C:\vsk\include;
> > set HB_COMPILER=msvc
> > set HB_INSTALL_PREFIX=C:\harbour
> > set HB_VISUALC_VER=90
> > set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
> > call make_gnu.bat clean      > make_gnu_cln.txt
> > call make_gnu.bat install    > make_gnu_log.txt
> Thank you very much for confirmation.
> Can you also check what will happen if you rebuild Harbour with:
>    set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC

And if possible also with this settings:
   set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
it should cause noticeable scalability improvement. The default
DLMALLOC used in MSVC builds it's probably the worst possible
choice for MT programs due to very bad scalability.

best regards,
Przemek
From amigosam at adinet.com.uy  Sun Mar 29 13:28:55 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 13:29:20 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <20090329083502.GA27416@uran.home.aster.pl>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>
	<gqj7e9$m2e$1@ger.gmane.org>	<gqj8rv$q44$1@ger.gmane.org>	<20090328081105.GD22352@uran.home.aster.pl>	<gqm8kq$nf8$1@ger.gmane.org>	<20090329002224.GA21175@uran.home.aster.pl>	<gqmh9m$9mt$1@ger.gmane.org>
	<20090329083502.GA27416@uran.home.aster.pl>
Message-ID: <gqob4l$437$1@ger.gmane.org>

Here new set of results with download link included...
Please other windows users download and post results here

HTH
Angel


Przemyslaw Czerpak escribi?:

> Can you also check what will happen if you rebuild Harbour with:
>    set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC
> 
> best regards,
> Przemek

-------------- next part --------------
Computer PIV Dual COre 3.0 win 2003 server, used tru VNC

03/29/2009 14:04:15 Windows XP 05.02 Build 03790
Xbase++ (R) Version 1.90 (MT)+ 
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.13   0.12 ->  1.08
[ T002: x := L_N ]____________________________________  0.11   0.09 ->  1.22
[ T003: x := L_D ]____________________________________  0.08   0.08 ->  1.00
[ T004: x := S_C ]____________________________________  0.22   0.20 ->  1.10
[ T005: x := S_N ]____________________________________  0.17   0.16 ->  1.06
[ T006: x := S_D ]____________________________________  0.18   0.28 ->  0.64
[ T007: x := M->M_C ]_________________________________  0.47   0.49 ->  0.96
[ T008: x := M->M_N ]_________________________________  0.34   0.36 ->  0.94
[ T009: x := M->M_D ]_________________________________  0.34   0.36 ->  0.94
[ T010: x := M->P_C ]_________________________________  0.47   0.53 ->  0.89
[ T011: x := M->P_N ]_________________________________  0.58   0.40 ->  1.45
[ T012: x := M->P_D ]_________________________________  0.77   0.81 ->  0.95
[ T013: x := F_C ]____________________________________  0.74   0.70 ->  1.06
[ T014: x := F_N ]____________________________________  0.64   0.58 ->  1.10
[ T015: x := F_D ]____________________________________  0.59   0.64 ->  0.92
[ T016: x := o:Args ]_________________________________  0.42   0.47 ->  0.89
[ T017: x := o[2] ]___________________________________  0.19   0.16 ->  1.19
[ T018: round( i / 1000, 2 ) ]________________________  3.43   3.33 ->  1.03
[ T019: str( i / 1000 ) ]_____________________________ 21.55  21.41 ->  1.01
[ T020: val( s ) ]____________________________________  0.96   1.00 ->  0.96
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  2.38   2.33 ->  1.02
[ T022: dtos( d - i % 10000 ) ]_______________________  3.25   3.25 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  3.01   3.18 ->  0.95
[ T024: eval( bc := { || i % 16 } ) ]_________________  1.78   1.68 ->  1.06
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.38   1.41 ->  0.98
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.05   1.09 ->  0.96
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.56   1.71 ->  0.91
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.42   1.55 ->  0.92
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  2.04   1.99 ->  1.03
[ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 60.67  60.14 ->  1.01
[ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 61.03  61.48 ->  0.99
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.02   0.90 ->  1.13
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ] 23.69  23.80 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.90   0.94 ->  0.96
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.36   1.38 ->  0.99
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.35   1.38 ->  0.98
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.33   1.40 ->  0.95
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.32   1.35 ->  0.98
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.26   1.36 ->  0.93
[ T040: ascan( a, i % 16 ) ]__________________________  2.11   2.10 ->  1.00
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 14.21  14.74 ->  0.96
[ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 20.09  20.55 ->  0.98
[ T043: x := a ]______________________________________  0.12   0.11 ->  1.09
[ T044: x := {} ]_____________________________________  1.18   1.46 ->  0.81
[ T045: f0() ]________________________________________  0.47   0.35 ->  1.34
[ T046: f1( i ) ]_____________________________________  0.54   0.47 ->  1.15
[ T047: f2( c[1...8] ) ]______________________________  0.42   0.43 ->  0.98
[ T048: f2( c[1...40000] ) ]__________________________  0.45   0.45 ->  1.00
[ T049: f2( @c[1...40000] ) ]_________________________  0.38   0.39 ->  0.97
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.51   0.60 ->  0.85
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.83   0.76 ->  1.09
[ T052: f2( a ) ]_____________________________________  0.41   0.40 ->  1.02
[ T053: x := f4() ]___________________________________  2.72   2.63 ->  1.03
[ T054: x := f5() ]___________________________________  1.22   1.26 ->  0.97
[ T055: x := space(16) ]______________________________  0.85   0.84 ->  1.01
[ T056: f_prv( c ) ]__________________________________  1.43   1.39 ->  1.03
============================================================================
[   TOTAL   ]_________________________________________252.12 253.42 ->  0.99
============================================================================
[ total application time: ]...................................505.66
[ total real time: ]..........................................505.66

It went ok, however only processor 1 was at 100%


Compiler and Enviroment:
set HB_COMPILER=msvc
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
03/29/09 14:12:42 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.28   0.25 ->  1.13
[ T002: x := L_N ]____________________________________  0.19   0.16 ->  1.20
[ T003: x := L_D ]____________________________________  0.16   0.19 ->  0.84
[ T004: x := S_C ]____________________________________  0.30   0.27 ->  1.12
[ T005: x := S_N ]____________________________________  0.19   0.19 ->  0.99
[ T006: x := S_D ]____________________________________  0.22   0.19 ->  1.16
[ T007: x := M->M_C ]_________________________________  0.33   0.31 ->  1.05
[ T008: x := M->M_N ]_________________________________  0.25   0.23 ->  1.07
[ T009: x := M->M_D ]_________________________________  0.22   0.22 ->  1.00
[ T010: x := M->P_C ]_________________________________  0.27   0.27 ->  1.00
[ T011: x := M->P_N ]_________________________________  0.22   0.25 ->  0.88
[ T012: x := M->P_D ]_________________________________  0.23   0.24 ->  1.00
[ T013: x := F_C ]____________________________________  0.88   0.83 ->  1.06
[ T014: x := F_N ]____________________________________  0.72   0.66 ->  1.09
[ T015: x := F_D ]____________________________________  0.41   0.38 ->  1.08
[ T016: x := o:Args ]_________________________________  0.64   0.69 ->  0.93
[ T017: x := o[2] ]___________________________________  0.44   0.47 ->  0.93
[ T018: round( i / 1000, 2 ) ]________________________  0.72   0.64 ->  1.12
[ T019: str( i / 1000 ) ]_____________________________  1.80   1.59 ->  1.13
[ T020: val( s ) ]____________________________________  0.94   0.89 ->  1.05
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.58   1.45 ->  1.09
[ T022: dtos( d - i % 10000 ) ]_______________________  1.58   1.31 ->  1.20
[ T023: eval( { || i % 16 } ) ]_______________________  6.41   8.70 ->  0.74
[ T024: eval( bc := { || i % 16 } ) ]_________________  4.83   6.06 ->  0.80
[ T025: eval( { |x| x % 16 }, i ) ]___________________  5.55   7.45 ->  0.74
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  4.86   5.99 ->  0.81
[ T027: eval( { |x| f1( x ) }, i ) ]__________________ 10.50  14.55 ->  0.72
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  9.49  12.95 ->  0.73
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  4.55   5.76 ->  0.79
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 19.92  24.89 ->  0.80
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 22.70  29.44 ->  0.77
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.75   1.84 ->  0.95
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.99   3.19 ->  0.94
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.20   1.24 ->  0.97
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.30   1.33 ->  0.98
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.33   1.28 ->  1.04
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.30   1.30 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.30   1.41 ->  0.92
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.39   1.41 ->  0.99
[ T040: ascan( a, i % 16 ) ]__________________________  1.34   1.23 ->  1.09
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 52.09  72.94 ->  0.71
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.22   4.84 ->  0.87
[ T043: x := a ]______________________________________  0.33   0.38 ->  0.87
[ T044: x := {} ]_____________________________________  0.97   1.67 ->  0.58
[ T045: f0() ]________________________________________  3.16   3.69 ->  0.86
[ T046: f1( i ) ]_____________________________________  3.78   5.11 ->  0.74
[ T047: f2( c[1...8] ) ]______________________________  4.00   5.17 ->  0.77
[ T048: f2( c[1...40000] ) ]__________________________  3.91   5.09 ->  0.77
[ T049: f2( @c[1...40000] ) ]_________________________  3.83   5.02 ->  0.76
[ T050: f2( @c[1...40000] ), c2 := c ]________________  3.84   5.24 ->  0.73
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________ 12.30  16.59 ->  0.74
[ T052: f2( a ) ]_____________________________________  3.91   5.11 ->  0.76
[ T053: x := f4() ]___________________________________  6.26   7.95 ->  0.79
[ T054: x := f5() ]___________________________________  3.95   5.53 ->  0.71
[ T055: x := space(16) ]______________________________  1.16   1.22 ->  0.95
[ T056: f_prv( c ) ]__________________________________  5.67   7.53 ->  0.75
============================================================================
[   TOTAL   ]_________________________________________228.59 294.75 ->  0.78
============================================================================
[ total application time: ]...................................689.98
[ total real time: ]..........................................523.52

Both processors at 100%, occasionally 1st. proc was at 60%


Compiler and Enviroment:
set HB_COMPILER=msvc
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC
03/29/09 14:21:25 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.31   0.30 ->  1.05
[ T002: x := L_N ]____________________________________  0.20   0.19 ->  1.09
[ T003: x := L_D ]____________________________________  0.20   0.19 ->  1.08
[ T004: x := S_C ]____________________________________  0.34   0.34 ->  1.00
[ T005: x := S_N ]____________________________________  0.23   0.24 ->  1.00
[ T006: x := S_D ]____________________________________  0.25   0.23 ->  1.07
[ T007: x := M->M_C ]_________________________________  0.38   0.41 ->  0.92
[ T008: x := M->M_N ]_________________________________  0.28   0.30 ->  0.95
[ T009: x := M->M_D ]_________________________________  0.28   0.28 ->  1.00
[ T010: x := M->P_C ]_________________________________  0.36   0.33 ->  1.09
[ T011: x := M->P_N ]_________________________________  0.28   0.28 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.28   0.28 ->  1.00
[ T013: x := F_C ]____________________________________  1.03   1.03 ->  1.00
[ T014: x := F_N ]____________________________________  0.91   0.80 ->  1.14
[ T015: x := F_D ]____________________________________  0.49   0.48 ->  1.00
[ T016: x := o:Args ]_________________________________  0.73   0.83 ->  0.89
[ T017: x := o[2] ]___________________________________  0.55   0.58 ->  0.94
[ T018: round( i / 1000, 2 ) ]________________________  0.91   0.84 ->  1.07
[ T019: str( i / 1000 ) ]_____________________________  2.13   2.03 ->  1.05
[ T020: val( s ) ]____________________________________  1.13   1.05 ->  1.07
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.78   1.73 ->  1.03
[ T022: dtos( d - i % 10000 ) ]_______________________  6.06   4.66 ->  1.30
[ T023: eval( { || i % 16 } ) ]_______________________ 16.69  12.03 ->  1.39
[ T024: eval( bc := { || i % 16 } ) ]_________________ 14.28  10.22 ->  1.40
[ T025: eval( { |x| x % 16 }, i ) ]___________________ 16.49  11.73 ->  1.40
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________ 15.19  11.22 ->  1.35
[ T027: eval( { |x| f1( x ) }, i ) ]__________________ 25.86  18.76 ->  1.38
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________ 25.16  18.03 ->  1.40
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______ 14.58  10.22 ->  1.43
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 24.30  22.86 ->  1.06
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 25.30  24.38 ->  1.04
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.61   1.77 ->  0.91
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.89   2.91 ->  0.99
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.19   1.11 ->  1.07
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.30   1.34 ->  0.97
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.34   1.33 ->  1.01
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.38   1.31 ->  1.05
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.33   1.22 ->  1.09
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.34   1.33 ->  1.01
[ T040: ascan( a, i % 16 ) ]__________________________  1.23   1.19 ->  1.04
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________102.17  77.77 ->  1.31
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  6.16   5.24 ->  1.18
[ T043: x := a ]______________________________________  0.33   0.31 ->  1.05
[ T044: x := {} ]_____________________________________  1.02   1.13 ->  0.90
[ T045: f0() ]________________________________________  8.11   5.89 ->  1.38
[ T046: f1( i ) ]_____________________________________  8.83   6.89 ->  1.28
[ T047: f2( c[1...8] ) ]______________________________  8.95   6.45 ->  1.39
[ T048: f2( c[1...40000] ) ]__________________________  8.92   6.84 ->  1.30
[ T049: f2( @c[1...40000] ) ]_________________________  8.72   6.83 ->  1.28
[ T050: f2( @c[1...40000] ), c2 := c ]________________  9.39   6.86 ->  1.37
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________ 18.05  15.31 ->  1.18
[ T052: f2( a ) ]_____________________________________  8.95   6.89 ->  1.30
[ T053: x := f4() ]___________________________________ 11.74   9.58 ->  1.23
[ T054: x := f5() ]___________________________________  9.11   6.84 ->  1.33
[ T055: x := space(16) ]______________________________  1.08   1.06 ->  1.02
[ T056: f_prv( c ) ]__________________________________ 14.00  10.42 ->  1.34
============================================================================
[   TOTAL   ]_________________________________________436.06 344.65 ->  1.27
============================================================================
[ total application time: ]..................................1025.06
[ total real time: ]..........................................780.83

Both processors at 100% most of the time, slighttly more used second than first


Tests made with:

http://rapidshare.com/files/215014183/speedhb.zip.html
MD5: BE33161B84F0C8815AAB628C1341CC55 

Download and test yourself on true multiprocessor windows pc.

From druzus at users.sourceforge.net  Sun Mar 29 13:51:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 29 13:51:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10725] trunk/harbour
Message-ID: <E1LnzAC-0007to-I2@74yxhf1.ch3.sourceforge.com>

Revision: 10725
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10725&view=rev
Author:   druzus
Date:     2009-03-29 17:51:15 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 19:57 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/fm.c
    ! fixed typo and add missing HVM stack preload macros

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Mar 29 13:55:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 29 13:56:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10726] trunk/harbour
Message-ID: <E1LnzEk-0003eu-Aq@c3vjzd1.ch3.sourceforge.com>

Revision: 10726
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10726&view=rev
Author:   vszakats
Date:     2009-03-29 17:55:37 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------

2009-03-29 19:52 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * external/sqlite3/Makefile
    ! Added necessary configuration for WinCE builds.

  * bin/hb-func.sh
  * source/vm/maindllp.c
    * mingwce will now generate dll by the name: harbour*-*-arm.dll
    ; TOFIX: mingwce .dlls should probably be generated in bin dir just
             like in every other cases, but I don't know why it's
             explicitly put in lib dir in this case.

  * bin/hb-mkdyn.bat
    + Added .dll generation for msvcce and poccce.

  * source/vm/maindllp.c
    * Formatting.
    ! Fixed to compile for WinCE. Please review me.

  * contrib/hbct/disk.c
    ! DRIVETYPE() made a dummy under WinCE to make it compile.

  * contrib/gtwvg/Makefile
    ! Limited GTWVG builds to 32-bit Windows compilers as it's
      still broken for WinCE, this time with pocce. Notice
      HB_OS* macros aren't available before #including Harbour
      headers. Reenable them after being fixed and tested.

  * contrib/hbole/olecore.c
    ! Fixed compilation errors below with poccce. Please review me.
      pocc.exe -I. -Ze -Go -W1 -Ot -Tarm-coff -D_WINCE -DUNICODE -DHB_NO_WIN_CONSOLE -I../../../../include     -c ../../olecore.c -Foolecore.obj
      ../../olecore.c(188): error #2152: Unknown field 'llVal' of 'union (no name)'.
      ../../olecore.c(273): error #2152: Unknown field 'llVal' of 'union (no name)'.
      ../../olecore.c(290): error #2152: Unknown field 'ullVal' of 'union (no name)'.

  * contrib/hbsqlit3/Makefile
    ! Excluded for poccce.

  ; TOFIX:
      pocc.exe -I. -Ze -Go -W1 -Ot -Tarm-coff -D_WINCE -DUNICODE -DHB_NO_WIN_CONSOLE -I../../../../include     -c ../../getenvrn.c -Fogetenvrn.obj
      ../../getenvrn.c(177): warning #2027: Missing prototype for 'GetEnvironmentStrings'.
      ../../getenvrn.c(177): error #2168: Operands of = have incompatible types 'wchar_t *' and 'int'.
      ../../getenvrn.c(246): warning #2027: Missing prototype for 'FreeEnvironmentStrings'.
      pocc.exe -I. -Ze -Go -W1 -Ot -Tarm-coff -D_WINCE -DUNICODE -DHB_NO_WIN_CONSOLE -I../../../../include     -c ../../hbserv.c -Fohbserv.obj
      ../../hbserv.c(391): error #2048: Undeclared identifier 'CTRL_C_EVENT'.
      ../../hbserv.c(392): error #2048: Undeclared identifier 'CTRL_BREAK_EVENT'.
      ../../hbserv.c(393): error #2048: Undeclared identifier 'CTRL_CLOSE_EVENT'.
      ../../hbserv.c(394): error #2048: Undeclared identifier 'CTRL_LOGOFF_EVENT'.
      ../../hbserv.c(395): error #2048: Undeclared identifier 'CTRL_SHUTDOWN_EVENT'.
      ../../hbserv.c(398): error #2069: Initializer must be constant.
      ../../hbserv.c(511): warning #2027: Missing prototype for 'CallNextHookEx'.
      ../../hbserv.c(528): warning #2027: Missing prototype for 'CallNextHookEx'.
      ../../hbserv.c(635): error #2048: Undeclared identifier 'SEM_NOALIGNMENTFAULTEXCEPT'.
      ../../hbserv.c(635): error #2048: Undeclared identifier 'SEM_NOGPFAULTERRORBOX'.
      ../../hbserv.c(636): error #2048: Undeclared identifier 'SEM_NOOPENFILEERRORBOX'.
      ../../hbserv.c(638): warning #2027: Missing prototype for 'SetUnhandledExceptionFilter'.
      ../../hbserv.c(639): warning #2027: Missing prototype for 'SetWindowsHookEx'.
      ../../hbserv.c(639): error #2048: Undeclared identifier 'WH_GETMESSAGE'.
      ../../hbserv.c(639): error #2048: Undeclared identifier 'HOOKPROC'.
      ../../hbserv.c(639): error #2001: Syntax error: expected ')' but found 's_MsgFilterFunc'.
      ../../hbserv.c(639): error #2168: Operands of = have incompatible types 'HHOOK' and 'int'.
      ../../hbserv.c(639): error #2001: Syntax error: expected ';' but found 's_MsgFilterFunc'.
      ../../hbserv.c(639): error #2001: Syntax error: expected ';' but found ')'.
      ../../hbserv.c(639): error #2061: Illegal statement termination.
      ../../hbserv.c(640): warning #2027: Missing prototype for 'SetConsoleCtrlHandler'.
      ../../hbserv.c(665): warning #2027: Missing prototype for 'SetUnhandledExceptionFilter'.
      ../../hbserv.c(668): warning #2027: Missing prototype for 'UnhookWindowsHookEx'.
      ../../hbserv.c(672): warning #2027: Missing prototype for 'SetConsoleCtrlHandler'.
      ../../hbserv.c(776): warning #2027: Missing prototype for 'FreeConsole'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbole/olecore.c
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/source/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From amigosam at adinet.com.uy  Sun Mar 29 13:56:02 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 13:56:17 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
Message-ID: <gqocnf$86c$1@ger.gmane.org>

I couldn't recompile harbour

Here the error:

cl.exe -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC -DHB_MT_VM  -c 
../../../fm.c -Fofm.obj
fm.c
../../../fm.c(403) : error C2440: '=' : cannot convert from 'mspace' to 
'mspace *'
         Conversion from 'void*' to pointer to non-'void' requires an 
explicit cast
../../../fm.c(415) : error C2440: '=' : cannot convert from 'mspace' to 
'mspace *'
         Conversion from 'void*' to pointer to non-'void' requires an 
explicit cast


Regards
Angel

druzus@users.sourceforge.net escribi?:
> Revision: 10724
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10724&view=rev
> Author:   druzus
> Date:     2009-03-29 17:13:52 +0000 (Sun, 29 Mar 2009)
> 
> Log Message:
> -----------
> 2009-03-29 19:20 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/include/hbapi.h
>   * harbour/include/hbstack.h
>   * harbour/source/vm/estack.c
>   * harbour/source/vm/fm.c
>     + added support for thread local memory allocators by using MSPACE
>       mechanism in DLALLOC.
>       It can be enabled by compiling Harbour with HB_FM_DLMT_ALLOC macro.
>       By default up to 16 (HB_MSPACE_COUNT macro) independent memory
>       allocators is dynamically created for new threads. When more threads
>       is used then allocators are shared between them and HVM tries to
>       balance used allocators to reduce number of threads using the
>       same allocator.
>       It should give noticeable scalability improvement in some OS-es
>       where default memory manages has pure MT performance.
>       Please try to compiler speedtst.prg with Harbour compiled with
>       and without HB_FM_DLMT_ALLOC and compare results in this test:
>          speedtst --thread=2 --scale
>       using real multiCPU machine.
> 
>   * harbour/source/vm/dlmalloc.c
>     * pacified warning when FOOTERS are enabled
> 
>   * harbour/source/vm/garbage.c
>     * cleanup comment
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/include/hbapi.h
>     trunk/harbour/include/hbstack.h
>     trunk/harbour/source/vm/dlmalloc.c
>     trunk/harbour/source/vm/estack.c
>     trunk/harbour/source/vm/fm.c
>     trunk/harbour/source/vm/garbage.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.

From druzus at acn.waw.pl  Sun Mar 29 14:25:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 14:18:49 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqob4l$437$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org>
	<20090329002224.GA21175@uran.home.aster.pl>
	<gqmh9m$9mt$1@ger.gmane.org>
	<20090329083502.GA27416@uran.home.aster.pl>
	<gqob4l$437$1@ger.gmane.org>
Message-ID: <20090329182532.GA17207@uran.home.aster.pl>

On Sun, 29 Mar 2009, Angel Pais wrote:

Hi,

> Here new set of results with download link included...
> Please other windows users download and post results here

Thank you very much.

> Computer PIV Dual COre 3.0 win 2003 server, used tru VNC
> 03/29/2009 14:04:15 Windows XP 05.02 Build 03790
> Xbase++ (R) Version 1.90 (MT)+ 
> THREADS: 2
> N_LOOPS: 1000000
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.13   0.12 ->  1.08
> [ T002: x := L_N ]____________________________________  0.11   0.09 ->  1.22
> [ T003: x := L_D ]____________________________________  0.08   0.08 ->  1.00
> [ T004: x := S_C ]____________________________________  0.22   0.20 ->  1.10
> [ T005: x := S_N ]____________________________________  0.17   0.16 ->  1.06
> [ T006: x := S_D ]____________________________________  0.18   0.28 ->  0.64
> [ T007: x := M->M_C ]_________________________________  0.47   0.49 ->  0.96
> [ T008: x := M->M_N ]_________________________________  0.34   0.36 ->  0.94
> [ T009: x := M->M_D ]_________________________________  0.34   0.36 ->  0.94
> [ T010: x := M->P_C ]_________________________________  0.47   0.53 ->  0.89
> [ T011: x := M->P_N ]_________________________________  0.58   0.40 ->  1.45
> [ T012: x := M->P_D ]_________________________________  0.77   0.81 ->  0.95
> [ T013: x := F_C ]____________________________________  0.74   0.70 ->  1.06
> [ T014: x := F_N ]____________________________________  0.64   0.58 ->  1.10
> [ T015: x := F_D ]____________________________________  0.59   0.64 ->  0.92
> [ T016: x := o:Args ]_________________________________  0.42   0.47 ->  0.89
> [ T017: x := o[2] ]___________________________________  0.19   0.16 ->  1.19
> [ T018: round( i / 1000, 2 ) ]________________________  3.43   3.33 ->  1.03
> [ T019: str( i / 1000 ) ]_____________________________ 21.55  21.41 ->  1.01
> [ T020: val( s ) ]____________________________________  0.96   1.00 ->  0.96
[...]
> ============================================================================
> [   TOTAL   ]_________________________________________252.12 253.42 ->  0.99
> ============================================================================
> [ total application time: ]...................................505.66
> [ total real time: ]..........................................505.66
> It went ok, however only processor 1 was at 100%

So they assigned the process to single CPU.


> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
> 03/29/09 14:12:42 Windows Server 2003 / XP x64 5.2.3790
> Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
> THREADS: 2
> N_LOOPS: 1000000
>                                                         1 th.  2 th.  factor
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.28   0.25 ->  1.13
> [ T002: x := L_N ]____________________________________  0.19   0.16 ->  1.20
> [ T003: x := L_D ]____________________________________  0.16   0.19 ->  0.84
> [ T004: x := S_C ]____________________________________  0.30   0.27 ->  1.12
> [ T005: x := S_N ]____________________________________  0.19   0.19 ->  0.99
> [ T006: x := S_D ]____________________________________  0.22   0.19 ->  1.16
> [ T007: x := M->M_C ]_________________________________  0.33   0.31 ->  1.05
> [ T008: x := M->M_N ]_________________________________  0.25   0.23 ->  1.07
> [ T009: x := M->M_D ]_________________________________  0.22   0.22 ->  1.00
> [ T010: x := M->P_C ]_________________________________  0.27   0.27 ->  1.00
> [ T011: x := M->P_N ]_________________________________  0.22   0.25 ->  0.88
> [ T012: x := M->P_D ]_________________________________  0.23   0.24 ->  1.00
> [ T013: x := F_C ]____________________________________  0.88   0.83 ->  1.06
> [ T014: x := F_N ]____________________________________  0.72   0.66 ->  1.09
> [ T015: x := F_D ]____________________________________  0.41   0.38 ->  1.08
> [ T016: x := o:Args ]_________________________________  0.64   0.69 ->  0.93
> [ T017: x := o[2] ]___________________________________  0.44   0.47 ->  0.93
> [ T018: round( i / 1000, 2 ) ]________________________  0.72   0.64 ->  1.12
> [ T019: str( i / 1000 ) ]_____________________________  1.80   1.59 ->  1.13
> [ T020: val( s ) ]____________________________________  0.94   0.89 ->  1.05
[...]
> ============================================================================
> [   TOTAL   ]_________________________________________228.59 294.75 ->  0.78
> ============================================================================
> [ total application time: ]...................................689.98
> [ total real time: ]..........................................523.52
> Both processors at 100%, occasionally 1st. proc was at 60%

And here we have _FATAL_ scalability results. It's very strange for me.
In most of above tests non memory allocation or even internal locks are
used. It should be perfectly well scaled to number of CPU but it isn't.
So the memory allocator is not a problem in Windows builds.
It's rather look like some type of hardware performance reduction.
Don't you have enabled some automatic CPU clock reduction for idle state?
In some cases it may cause such results.

> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC
> 03/29/09 14:21:25 Windows Server 2003 / XP x64 5.2.3790
> Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
> THREADS: 2
> N_LOOPS: 1000000
>                                                         1 th.  2 th.  factor
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.31   0.30 ->  1.05
> [ T002: x := L_N ]____________________________________  0.20   0.19 ->  1.09
> [ T003: x := L_D ]____________________________________  0.20   0.19 ->  1.08
> [ T004: x := S_C ]____________________________________  0.34   0.34 ->  1.00
> [ T005: x := S_N ]____________________________________  0.23   0.24 ->  1.00
> [ T006: x := S_D ]____________________________________  0.25   0.23 ->  1.07
> [ T007: x := M->M_C ]_________________________________  0.38   0.41 ->  0.92
> [ T008: x := M->M_N ]_________________________________  0.28   0.30 ->  0.95
> [ T009: x := M->M_D ]_________________________________  0.28   0.28 ->  1.00
> [ T010: x := M->P_C ]_________________________________  0.36   0.33 ->  1.09
> [ T011: x := M->P_N ]_________________________________  0.28   0.28 ->  1.00
> [ T012: x := M->P_D ]_________________________________  0.28   0.28 ->  1.00
> [ T013: x := F_C ]____________________________________  1.03   1.03 ->  1.00
> [ T014: x := F_N ]____________________________________  0.91   0.80 ->  1.14
> [ T015: x := F_D ]____________________________________  0.49   0.48 ->  1.00
> [ T016: x := o:Args ]_________________________________  0.73   0.83 ->  0.89
> [ T017: x := o[2] ]___________________________________  0.55   0.58 ->  0.94
> [ T018: round( i / 1000, 2 ) ]________________________  0.91   0.84 ->  1.07
> [ T019: str( i / 1000 ) ]_____________________________  2.13   2.03 ->  1.05
> [ T020: val( s ) ]____________________________________  1.13   1.05 ->  1.07
[...]
> ============================================================================
> [   TOTAL   ]_________________________________________436.06 344.65 ->  1.27
> ============================================================================
> [ total application time: ]..................................1025.06
> [ total real time: ]..........................................780.83
> Both processors at 100% most of the time, slighttly more used second than first

As above. Interesting that tests which does not make any memory allocations
gave different results.

> http://rapidshare.com/files/215014183/speedhb.zip.html
> MD5: BE33161B84F0C8815AAB628C1341CC55 
> Download and test yourself on true multiprocessor windows pc.

Thank you. I'll try tomorrow in my office. I do not have such MS-Windows
machine here.

Here my results from Linux builds on Suse11.0 and default memory
allocator. It's AMD Phenom(tm) 8450 Triple-Core Processor.
With dynamic CPU clock 2100/1050 Mhz:

03/29/09 20:02:59 Linux 2.6.25.20-0.1-pae i686
Harbour 1.1.0dev (Rev. 10724) (MT)+ GNU C 4.3.1 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.23   0.11 ->  2.09
[ T002: x := L_N ]____________________________________  0.15   0.15 ->  0.97
[ T003: x := L_D ]____________________________________  0.14   0.10 ->  1.41
[ T004: x := S_C ]____________________________________  0.22   0.23 ->  0.94
[ T005: x := S_N ]____________________________________  0.19   0.15 ->  1.24
[ T006: x := S_D ]____________________________________  0.19   0.14 ->  1.34
[ T007: x := M->M_C ]_________________________________  0.24   0.18 ->  1.37
[ T008: x := M->M_N ]_________________________________  0.22   0.17 ->  1.32
[ T009: x := M->M_D ]_________________________________  0.22   0.13 ->  1.64
[ T010: x := M->P_C ]_________________________________  0.25   0.14 ->  1.77
[ T011: x := M->P_N ]_________________________________  0.21   0.16 ->  1.33
[ T012: x := M->P_D ]_________________________________  0.22   0.13 ->  1.61
[ T013: x := F_C ]____________________________________  0.50   0.27 ->  1.83
[ T014: x := F_N ]____________________________________  0.61   0.33 ->  1.85
[ T015: x := F_D ]____________________________________  0.32   0.25 ->  1.28
[ T016: x := o:Args ]_________________________________  0.52   0.29 ->  1.79
[ T017: x := o[2] ]___________________________________  0.34   0.21 ->  1.62
[ T018: round( i / 1000, 2 ) ]________________________  0.66   0.38 ->  1.75
[ T019: str( i / 1000 ) ]_____________________________  1.38   0.74 ->  1.87
[ T020: val( s ) ]____________________________________  0.72   0.41 ->  1.75
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.11   0.59 ->  1.87
[ T022: dtos( d - i % 10000 ) ]_______________________  1.03   0.52 ->  1.96
[ T023: eval( { || i % 16 } ) ]_______________________  1.28   1.32 ->  0.97
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.76   0.42 ->  1.80
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.03   1.09 ->  0.94
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.78   0.47 ->  1.66
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.18   1.17 ->  1.01
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.93   0.49 ->  1.88
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.96   0.53 ->  1.80
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  7.93   4.34 ->  1.83
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  9.07   6.12 ->  1.48
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.10   0.56 ->  1.97
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.85   0.96 ->  1.93
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.79   0.43 ->  1.85
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.86   0.46 ->  1.87
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.87   0.47 ->  1.84
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.85   0.47 ->  1.82
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.86   0.48 ->  1.81
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.86   0.48 ->  1.81
[ T040: ascan( a, i % 16 ) ]__________________________  0.95   0.56 ->  1.70
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  8.03   4.56 ->  1.76
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.23   1.50 ->  1.49
[ T043: x := a ]______________________________________  0.19   0.14 ->  1.38
[ T044: x := {} ]_____________________________________  0.44   0.98 ->  0.45
[ T045: f0() ]________________________________________  0.30   0.18 ->  1.62
[ T046: f1( i ) ]_____________________________________  0.40   0.22 ->  1.79
[ T047: f2( c[1...8] ) ]______________________________  0.41   0.24 ->  1.70
[ T048: f2( c[1...40000] ) ]__________________________  0.41   0.24 ->  1.73
[ T049: f2( @c[1...40000] ) ]_________________________  0.38   0.23 ->  1.68
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.49   0.28 ->  1.74
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.02   0.54 ->  1.90
[ T052: f2( a ) ]_____________________________________  0.42   0.25 ->  1.68
[ T053: x := f4() ]___________________________________  1.25   0.66 ->  1.88
[ T054: x := f5() ]___________________________________  0.77   0.43 ->  1.81
[ T055: x := space(16) ]______________________________  0.61   0.35 ->  1.75
[ T056: f_prv( c ) ]__________________________________  1.20   0.81 ->  1.48
============================================================================
[   TOTAL   ]_________________________________________ 61.13  38.23 ->  1.60
============================================================================
[ total application time: ]...................................134.56
[ total real time: ]...........................................99.36

When I disable dynamic CPU clock updating and set it to fixed 2100 Mhz:

03/29/09 20:08:40 Linux 2.6.25.20-0.1-pae i686
Harbour 1.1.0dev (Rev. 10724) (MT)+ GNU C 4.3.1 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.18   0.09 ->  1.95
[ T002: x := L_N ]____________________________________  0.14   0.07 ->  1.99
[ T003: x := L_D ]____________________________________  0.15   0.07 ->  1.99
[ T004: x := S_C ]____________________________________  0.22   0.20 ->  1.11
[ T005: x := S_N ]____________________________________  0.19   0.10 ->  1.99
[ T006: x := S_D ]____________________________________  0.19   0.10 ->  1.99
[ T007: x := M->M_C ]_________________________________  0.24   0.12 ->  2.00
[ T008: x := M->M_N ]_________________________________  0.22   0.11 ->  2.00
[ T009: x := M->M_D ]_________________________________  0.22   0.11 ->  2.00
[ T010: x := M->P_C ]_________________________________  0.23   0.12 ->  1.89
[ T011: x := M->P_N ]_________________________________  0.22   0.11 ->  1.99
[ T012: x := M->P_D ]_________________________________  0.22   0.11 ->  2.00
[ T013: x := F_C ]____________________________________  0.49   0.24 ->  2.01
[ T014: x := F_N ]____________________________________  0.59   0.29 ->  2.01
[ T015: x := F_D ]____________________________________  0.31   0.16 ->  1.95
[ T016: x := o:Args ]_________________________________  0.51   0.25 ->  2.01
[ T017: x := o[2] ]___________________________________  0.34   0.17 ->  1.98
[ T018: round( i / 1000, 2 ) ]________________________  0.68   0.35 ->  1.97
[ T019: str( i / 1000 ) ]_____________________________  1.37   0.69 ->  1.97
[ T020: val( s ) ]____________________________________  0.74   0.37 ->  2.01
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.12   0.56 ->  2.02
[ T022: dtos( d - i % 10000 ) ]_______________________  1.01   0.51 ->  1.97
[ T023: eval( { || i % 16 } ) ]_______________________  1.27   1.40 ->  0.91
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.76   0.38 ->  2.00
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.02   1.07 ->  0.95
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.77   0.39 ->  1.99
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.17   1.16 ->  1.01
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.92   0.47 ->  1.95
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.95   0.48 ->  1.97
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  8.13   4.29 ->  1.90
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  8.89   5.37 ->  1.66
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.06   0.56 ->  1.88
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.81   0.92 ->  1.97
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.76   0.39 ->  1.95
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.83   0.42 ->  1.96
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.89   0.44 ->  2.04
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.86   0.44 ->  1.97
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.85   0.44 ->  1.96
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.85   0.44 ->  1.95
[ T040: ascan( a, i % 16 ) ]__________________________  0.97   0.49 ->  1.98
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  7.99   4.51 ->  1.77
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.23   1.55 ->  1.44
[ T043: x := a ]______________________________________  0.19   0.10 ->  2.00
[ T044: x := {} ]_____________________________________  0.44   0.87 ->  0.50
[ T045: f0() ]________________________________________  0.29   0.15 ->  1.99
[ T046: f1( i ) ]_____________________________________  0.40   0.20 ->  1.98
[ T047: f2( c[1...8] ) ]______________________________  0.42   0.21 ->  1.98
[ T048: f2( c[1...40000] ) ]__________________________  0.42   0.21 ->  1.95
[ T049: f2( @c[1...40000] ) ]_________________________  0.38   0.19 ->  1.98
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.47   0.24 ->  1.99
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.00   0.50 ->  1.99
[ T052: f2( a ) ]_____________________________________  0.44   0.22 ->  2.01
[ T053: x := f4() ]___________________________________  1.21   0.62 ->  1.94
[ T054: x := f5() ]___________________________________  0.78   0.45 ->  1.71
[ T055: x := space(16) ]______________________________  0.61   0.31 ->  1.99
[ T056: f_prv( c ) ]__________________________________  1.18   0.65 ->  1.81
============================================================================
[   TOTAL   ]_________________________________________ 60.82  35.43 ->  1.72
============================================================================
[ total application time: ]...................................131.06
[ total real time: ]...........................................96.26

as you can see in nearly all tests the scalability is very close to 2.0
what is optimal result.

It's three CPU machine so I also made test for 6 threads:
   speedtst --thread=6 --scale

03/29/09 20:19:48 Linux 2.6.25.20-0.1-pae i686
Harbour 1.1.0dev (Rev. 10724) (MT)+ GNU C 4.3.1 (32-bit)
THREADS: 6
N_LOOPS: 1000000
                                                        1 th.  6 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.54   0.21 ->  2.64
[ T002: x := L_N ]____________________________________  0.44   0.15 ->  2.86
[ T003: x := L_D ]____________________________________  0.44   0.15 ->  2.84
[ T004: x := S_C ]____________________________________  0.67   0.74 ->  0.90
[ T005: x := S_N ]____________________________________  0.57   0.20 ->  2.84
[ T006: x := S_D ]____________________________________  0.57   0.24 ->  2.45
[ T007: x := M->M_C ]_________________________________  0.75   0.40 ->  1.88
[ T008: x := M->M_N ]_________________________________  0.66   0.25 ->  2.69
[ T009: x := M->M_D ]_________________________________  0.65   0.23 ->  2.89
[ T010: x := M->P_C ]_________________________________  0.67   0.25 ->  2.64
[ T011: x := M->P_N ]_________________________________  0.65   0.23 ->  2.80
[ T012: x := M->P_D ]_________________________________  0.65   0.22 ->  2.98
[ T013: x := F_C ]____________________________________  1.48   0.55 ->  2.69
[ T014: x := F_N ]____________________________________  1.80   0.64 ->  2.82
[ T015: x := F_D ]____________________________________  0.96   0.34 ->  2.83
[ T016: x := o:Args ]_________________________________  1.53   0.59 ->  2.58
[ T017: x := o[2] ]___________________________________  1.03   0.34 ->  3.02
[ T018: round( i / 1000, 2 ) ]________________________  2.05   0.74 ->  2.76
[ T019: str( i / 1000 ) ]_____________________________  4.12   1.48 ->  2.78
[ T020: val( s ) ]____________________________________  2.22   0.77 ->  2.87
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  3.34   1.27 ->  2.63
[ T022: dtos( d - i % 10000 ) ]_______________________  3.05   1.07 ->  2.85
[ T023: eval( { || i % 16 } ) ]_______________________  3.84   3.78 ->  1.02
[ T024: eval( bc := { || i % 16 } ) ]_________________  2.29   0.82 ->  2.79
[ T025: eval( { |x| x % 16 }, i ) ]___________________  3.14   3.58 ->  0.88
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  2.38   0.87 ->  2.74
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  3.60   3.83 ->  0.94
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  2.80   0.95 ->  2.93
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  2.90   1.05 ->  2.77
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 23.68   8.54 ->  2.77
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 26.58  11.01 ->  2.41
[ T032: x := valtype( x ) +  valtype( i ) ]___________  3.18   1.13 ->  2.80
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  5.49   1.90 ->  2.89
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  2.31   0.80 ->  2.88
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  2.51   0.98 ->  2.55
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  2.65   0.95 ->  2.79
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  2.64   0.92 ->  2.86
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  2.56   0.95 ->  2.71
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  2.60   0.97 ->  2.69
[ T040: ascan( a, i % 16 ) ]__________________________  2.92   1.05 ->  2.78
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 24.03   9.89 ->  2.43
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  6.62   4.12 ->  1.61
[ T043: x := a ]______________________________________  0.59   0.20 ->  2.99
[ T044: x := {} ]_____________________________________  1.33   2.58 ->  0.52
[ T045: f0() ]________________________________________  0.89   0.32 ->  2.78
[ T046: f1( i ) ]_____________________________________  1.24   0.43 ->  2.86
[ T047: f2( c[1...8] ) ]______________________________  1.28   0.44 ->  2.89
[ T048: f2( c[1...40000] ) ]__________________________  1.29   0.48 ->  2.67
[ T049: f2( @c[1...40000] ) ]_________________________  1.15   0.41 ->  2.80
[ T050: f2( @c[1...40000] ), c2 := c ]________________  1.42   0.47 ->  3.00
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  3.02   1.05 ->  2.89
[ T052: f2( a ) ]_____________________________________  1.31   0.50 ->  2.62
[ T053: x := f4() ]___________________________________  3.62   1.33 ->  2.72
[ T054: x := f5() ]___________________________________  2.36   0.84 ->  2.82
[ T055: x := space(16) ]______________________________  1.82   0.72 ->  2.53
[ T056: f_prv( c ) ]__________________________________  3.67   1.28 ->  2.86
============================================================================
[   TOTAL   ]_________________________________________182.53  80.22 ->  2.28
============================================================================
[ total application time: ]...................................413.31
[ total real time: ]..........................................262.76


I would like to see similar results in Windows too but it's possible that
in this OS it will be very hard to reach them.

BTW I forgot to ask. Did you used -gc3 parameter compiling speedtst by
    hbmk2?

best regards,
Przemek
From druzus at acn.waw.pl  Sun Mar 29 14:30:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 14:24:20 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqocnf$86c$1@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
	<gqocnf$86c$1@ger.gmane.org>
Message-ID: <20090329183058.GA711@uran.home.aster.pl>

On Sun, 29 Mar 2009, Angel Pais wrote:

Hi,

> I couldn't recompile harbour
> Here the error:
> cl.exe -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
> -EHs-c- -MT   -DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC -DHB_MT_VM  -c 
> ../../../fm.c -Fofm.obj
> fm.c
> ../../../fm.c(403) : error C2440: '=' : cannot convert from 'mspace' to 
> 'mspace *'
>         Conversion from 'void*' to pointer to non-'void' requires an 
> explicit cast
> ../../../fm.c(415) : error C2440: '=' : cannot convert from 'mspace' to 
> 'mspace *'
>         Conversion from 'void*' to pointer to non-'void' requires an 
> explicit cast

I've just fixed it but it will not help to improve scalability in your
case. I've just seen you full results from previous tests.
Please look at my answer. I'd rather look for some switch which
enables/disables dynamic CPU clock update. It's also possible that
your results are limited by hardware and when two CPU are used then
the the do not give linear speed improvement. I'm not hardware
specialist so I cannot say too much about different PIV constructions.

best regards,
Przemek
From amigosam at adinet.com.uy  Sun Mar 29 14:42:29 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 14:42:47 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <20090329183058.GA711@uran.home.aster.pl>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>
	<20090329183058.GA711@uran.home.aster.pl>
Message-ID: <gqofej$g7r$1@ger.gmane.org>

Awesome !!!!
I don't know if scalability is better but processor time went down from 
100% to 62% in average on same machine.
Also sacalability improved a little
See attached...

If my compiling settings are ok I can upload a new set of tests to 
rapidshare including this last one.

HTH
Angel

PD: I know almost nothing about hardware sorry. This machine is a 
production server I have.

PD2: My next app server will be in SUSE + Harbour I hope ;)


Przemyslaw Czerpak escribi?:
> On Sun, 29 Mar 2009, Angel Pais wrote:
> 
> Hi,
> 
>> I couldn't recompile harbour
>> Here the error:
>> cl.exe -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
>> -EHs-c- -MT   -DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC -DHB_MT_VM  -c 
>> ../../../fm.c -Fofm.obj
>> fm.c
>> ../../../fm.c(403) : error C2440: '=' : cannot convert from 'mspace' to 
>> 'mspace *'
>>         Conversion from 'void*' to pointer to non-'void' requires an 
>> explicit cast
>> ../../../fm.c(415) : error C2440: '=' : cannot convert from 'mspace' to 
>> 'mspace *'
>>         Conversion from 'void*' to pointer to non-'void' requires an 
>> explicit cast
> 
> I've just fixed it but it will not help to improve scalability in your
> case. I've just seen you full results from previous tests.
> Please look at my answer. I'd rather look for some switch which
> enables/disables dynamic CPU clock update. It's also possible that
> your results are limited by hardware and when two CPU are used then
> the the do not give linear speed improvement. I'm not hardware
> specialist so I cannot say too much about different PIV constructions.
> 
> best regards,
> Przemek

-------------- next part --------------

Compiler and Enviroment:
set HB_COMPILER=msvc
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
Program built with: hbmk2.exe speedtst.prg -mt -gc3 -b -l -ko
03/29/09 15:42:55 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.30   0.23 ->  1.27
[ T002: x := L_N ]____________________________________  0.19   0.17 ->  1.09
[ T003: x := L_D ]____________________________________  0.16   0.14 ->  1.12
[ T004: x := S_C ]____________________________________  0.28   0.30 ->  0.95
[ T005: x := S_N ]____________________________________  0.19   0.17 ->  1.09
[ T006: x := S_D ]____________________________________  0.19   0.16 ->  1.20
[ T007: x := M->M_C ]_________________________________  0.33   0.30 ->  1.11
[ T008: x := M->M_N ]_________________________________  0.22   0.20 ->  1.08
[ T009: x := M->M_D ]_________________________________  0.25   0.20 ->  1.23
[ T010: x := M->P_C ]_________________________________  0.27   0.25 ->  1.06
[ T011: x := M->P_N ]_________________________________  0.25   0.20 ->  1.23
[ T012: x := M->P_D ]_________________________________  0.22   0.19 ->  1.17
[ T013: x := F_C ]____________________________________  0.84   0.97 ->  0.87
[ T014: x := F_N ]____________________________________  0.70   0.56 ->  1.25
[ T015: x := F_D ]____________________________________  0.36   0.38 ->  0.96
[ T016: x := o:Args ]_________________________________  0.59   0.59 ->  1.00
[ T017: x := o[2] ]___________________________________  0.45   0.38 ->  1.21
[ T018: round( i / 1000, 2 ) ]________________________  0.70   0.59 ->  1.18
[ T019: str( i / 1000 ) ]_____________________________  1.83   1.72 ->  1.06
[ T020: val( s ) ]____________________________________  0.92   0.77 ->  1.20
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.61   1.48 ->  1.08
[ T022: dtos( d - i % 10000 ) ]_______________________  1.64   1.38 ->  1.19
[ T023: eval( { || i % 16 } ) ]_______________________  6.34   9.00 ->  0.70
[ T024: eval( bc := { || i % 16 } ) ]_________________  4.76   6.06 ->  0.79
[ T025: eval( { |x| x % 16 }, i ) ]___________________  5.42   7.58 ->  0.72
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  4.72   5.78 ->  0.82
[ T027: eval( { |x| f1( x ) }, i ) ]__________________ 10.48  14.94 ->  0.70
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  9.47  13.17 ->  0.72
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  4.42   5.44 ->  0.81
Compiler and Enviroment:
set HB_COMPILER=msvc
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
Program built with: hbmk2.exe speedtst.prg -mt -gc3 -b -l -ko
03/29/09 16:11:48 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10726) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.28   0.25 ->  1.13
[ T002: x := L_N ]____________________________________  0.16   0.14 ->  1.11
[ T003: x := L_D ]____________________________________  0.17   0.14 ->  1.21
[ T004: x := S_C ]____________________________________  0.30   0.28 ->  1.06
[ T005: x := S_N ]____________________________________  0.19   0.17 ->  1.09
[ T006: x := S_D ]____________________________________  0.19   0.17 ->  1.09
[ T007: x := M->M_C ]_________________________________  0.33   0.31 ->  1.05
[ T008: x := M->M_N ]_________________________________  0.27   0.20 ->  1.31
[ T009: x := M->M_D ]_________________________________  0.23   0.22 ->  1.07
[ T010: x := M->P_C ]_________________________________  0.30   0.27 ->  1.12
[ T011: x := M->P_N ]_________________________________  0.23   0.20 ->  1.15
[ T012: x := M->P_D ]_________________________________  0.25   0.20 ->  1.23
[ T013: x := F_C ]____________________________________  3.41   4.00 ->  0.85
[ T014: x := F_N ]____________________________________  4.17   3.73 ->  1.12
[ T015: x := F_D ]____________________________________  2.92   2.63 ->  1.11
[ T016: x := o:Args ]_________________________________  2.75   1.38 ->  2.00
[ T017: x := o[2] ]___________________________________  2.36   2.17 ->  1.09
[ T018: round( i / 1000, 2 ) ]________________________  1.06   0.77 ->  1.39
[ T019: str( i / 1000 ) ]_____________________________  7.97   5.53 ->  1.44
[ T020: val( s ) ]____________________________________  3.19   0.99 ->  3.24
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  6.01   5.09 ->  1.18
[ T022: dtos( d - i % 10000 ) ]_______________________  2.38   1.86 ->  1.28
[ T023: eval( { || i % 16 } ) ]_______________________ 19.24  17.55 ->  1.10
[ T024: eval( bc := { || i % 16 } ) ]_________________ 11.01   9.34 ->  1.18
[ T025: eval( { |x| x % 16 }, i ) ]___________________ 13.51  10.67 ->  1.27
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  8.77   6.48 ->  1.35
[ T027: eval( { |x| f1( x ) }, i ) ]__________________ 35.42  25.73 ->  1.38
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________ 28.83  23.36 ->  1.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  9.47   8.13 ->  1.17
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 67.81  59.00 ->  1.15
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 89.09  77.45 ->  1.15
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.58   1.49 ->  1.06
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  8.55   6.78 ->  1.26
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  4.88   3.20 ->  1.52
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  5.78   5.24 ->  1.10
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  5.64   5.31 ->  1.06
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  5.63   5.14 ->  1.09
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  5.02   5.14 ->  0.98
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  3.80   5.19 ->  0.73
[ T040: ascan( a, i % 16 ) ]__________________________  1.27   5.72 ->  0.22
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________168.95 125.30 ->  1.35
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  5.55   4.66 ->  1.19
[ T043: x := a ]______________________________________  0.33   0.30 ->  1.10
[ T044: x := {} ]_____________________________________  1.00   1.03 ->  0.97
[ T045: f0() ]________________________________________  3.00   2.72 ->  1.10
[ T046: f1( i ) ]_____________________________________  3.63   3.55 ->  1.02
[ T047: f2( c[1...8] ) ]______________________________  3.89   3.59 ->  1.08
[ T048: f2( c[1...40000] ) ]__________________________  3.70   3.61 ->  1.03
[ T049: f2( @c[1...40000] ) ]_________________________  3.58   3.58 ->  1.00
[ T050: f2( @c[1...40000] ), c2 := c ]________________  3.91   3.84 ->  1.02
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________ 12.17  12.24 ->  0.99
[ T052: f2( a ) ]_____________________________________  3.86   3.83 ->  1.01
[ T053: x := f4() ]___________________________________  5.92   6.33 ->  0.94
[ T054: x := f5() ]___________________________________  4.05   4.11 ->  0.98
[ T055: x := space(16) ]______________________________  1.08   1.14 ->  0.95
[ T056: f_prv( c ) ]__________________________________  6.36   6.20 ->  1.03
============================================================================
[   TOTAL   ]_________________________________________595.36 497.64 ->  1.20
============================================================================
[ total application time: ]..................................1266.23
[ total real time: ].........................................1093.11

From druzus at acn.waw.pl  Sun Mar 29 15:46:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 15:40:09 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqofej$g7r$1@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
	<gqocnf$86c$1@ger.gmane.org>
	<20090329183058.GA711@uran.home.aster.pl>
	<gqofej$g7r$1@ger.gmane.org>
Message-ID: <20090329194647.GA1712@uran.home.aster.pl>

On Sun, 29 Mar 2009, Angel Pais wrote:

Hi,

> I don't know if scalability is better but processor time went down from 
> 100% to 62% in average on same machine.
> Also sacalability improved a little
> See attached...
> Compiler and Enviroment:
> set HB_COMPILER=msvc
> set HB_VISUALC_VER=90
> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
> Program built with: hbmk2.exe speedtst.prg -mt -gc3 -b -l -ko

do not use -b switch !!!. It enables debug builds where some additional
PCODEs are generated which may cause fatal performance reduction.
It also causes that -l is ignored but it's minor overhead in comparison
to other things enabled by -b.
Please try to repeat this test without -b:
   hbmk2.exe speedtst.prg -mt -gc3 -l -ko
and if possible please upload such Harbour and XBASE++ binaries.

Thank you very much for your tests.

best regards,
Przemek
From amigosam at adinet.com.uy  Sun Mar 29 15:52:28 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 15:52:51 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <20090329194647.GA1712@uran.home.aster.pl>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>
	<20090329194647.GA1712@uran.home.aster.pl>
Message-ID: <gqojhu$rkn$1@ger.gmane.org>

Oops !!!!!
Then I wil have to re compile harbour with the 3 mem allocator switches 
and to all tests again.
No problem. It was my fault. Will try to finish them today.

Regards
Angel

Przemyslaw Czerpak escribi?:
> On Sun, 29 Mar 2009, Angel Pais wrote:
> 
> Hi,
> 
>> I don't know if scalability is better but processor time went down from 
>> 100% to 62% in average on same machine.
>> Also sacalability improved a little
>> See attached...
>> Compiler and Enviroment:
>> set HB_COMPILER=msvc
>> set HB_VISUALC_VER=90
>> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
>> Program built with: hbmk2.exe speedtst.prg -mt -gc3 -b -l -ko
> 
> do not use -b switch !!!. It enables debug builds where some additional
> PCODEs are generated which may cause fatal performance reduction.
> It also causes that -l is ignored but it's minor overhead in comparison
> to other things enabled by -b.
> Please try to repeat this test without -b:
>    hbmk2.exe speedtst.prg -mt -gc3 -l -ko
> and if possible please upload such Harbour and XBASE++ binaries.
> 
> Thank you very much for your tests.
> 
> best regards,
> Przemek

From druzus at users.sourceforge.net  Sun Mar 29 16:00:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Mar 29 16:00:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10727] trunk/harbour
Message-ID: <E1Lo1BK-0002eJ-3M@74yxhf1.ch3.sourceforge.com>

Revision: 10727
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10727&view=rev
Author:   druzus
Date:     2009-03-29 20:00:33 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 22:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/speedtst.prg
    * added warning message when HVM debugger is enabled

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/speedtst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Mar 29 16:07:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Mar 29 16:07:23 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqojhu$rkn$1@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com> 
	<gqocnf$86c$1@ger.gmane.org> <20090329183058.GA711@uran.home.aster.pl> 
	<gqofej$g7r$1@ger.gmane.org> <20090329194647.GA1712@uran.home.aster.pl>
	<gqojhu$rkn$1@ger.gmane.org>
Message-ID: <609353e70903291307k3d2d489bvf33a57d6034bc7ba@mail.gmail.com>

if upload rapidstare i try
This is correct ?
speedxpp.exe  --thread=2 --scale  >T.TXT
speedhb1.exe  --thread=2 --scale >> T.TXT
speedhb2.exe  --thread=2 --scale  >> t.txt


2009/3/29 Angel Pais <amigosam@adinet.com.uy>:
> Oops !!!!!
> Then I wil have to re compile harbour with the 3 mem allocator switches and
> to all tests again.
> No problem. It was my fault. Will try to finish them today.
>
> Regards
> Angel
>
> Przemyslaw Czerpak escribi?:
>>
>> On Sun, 29 Mar 2009, Angel Pais wrote:
>>
>> Hi,
>>
>>> I don't know if scalability is better but processor time went down from
>>> 100% to 62% in average on same machine.
>>> Also sacalability improved a little
>>> See attached...
>>> Compiler and Enviroment:
>>> set HB_COMPILER=msvc
>>> set HB_VISUALC_VER=90
>>> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
>>> Program built with: hbmk2.exe speedtst.prg -mt -gc3 -b -l -ko
>>
>> do not use -b switch !!!. It enables debug builds where some additional
>> PCODEs are generated which may cause fatal performance reduction.
>> It also causes that -l is ignored but it's minor overhead in comparison
>> to other things enabled by -b.
>> Please try to repeat this test without -b:
>> ? hbmk2.exe speedtst.prg -mt -gc3 -l -ko
>> and if possible please upload such Harbour and XBASE++ binaries.
>>
>> Thank you very much for your tests.
>>
>> best regards,
>> Przemek
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Sun Mar 29 16:14:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 16:07:37 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqojhu$rkn$1@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
	<gqocnf$86c$1@ger.gmane.org>
	<20090329183058.GA711@uran.home.aster.pl>
	<gqofej$g7r$1@ger.gmane.org>
	<20090329194647.GA1712@uran.home.aster.pl>
	<gqojhu$rkn$1@ger.gmane.org>
Message-ID: <20090329201420.GA2325@uran.home.aster.pl>

On Sun, 29 Mar 2009, Angel Pais wrote:

Hi,

> Oops !!!!!
> Then I wil have to re compile harbour with the 3 mem allocator switches and 
> to all tests again.
> No problem. It was my fault. Will try to finish them today.

My too. I've just added warning to speedtst result messages which informs
about enabled debugger.
It also explains why in your results used memory manager changed the results
in tests which normally do not allocate any memory. Just simply when debugger
is enabled some additional code is executed to store execution context and
this code allocates memory.
In Clipper and [x]Harbour debugger code compiled with -b reduce the
performance. I guess that sth like that can happen also in xbase++
so all tests should be compiled without -b or other debug options.

best regards,
Przemek
From amigosam at adinet.com.uy  Sun Mar 29 16:14:41 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 16:14:57 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <609353e70903291307k3d2d489bvf33a57d6034bc7ba@mail.gmail.com>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
	<gqocnf$86c$1@ger.gmane.org>
	<20090329183058.GA711@uran.home.aster.pl>
	<gqofej$g7r$1@ger.gmane.org>
	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>
	<609353e70903291307k3d2d489bvf33a57d6034bc7ba@mail.gmail.com>
Message-ID: <gqokrf$uu2$1@ger.gmane.org>

Wait till new upload.
And yes, each exe is a different compiler setting.
No need to redirect anything cause set alternate is additive.
Regards
Angel

Massimo Belgrano escribi?:
> if upload rapidstare i try
> This is correct ?
> speedxpp.exe  --thread=2 --scale  >T.TXT
> speedhb1.exe  --thread=2 --scale >> T.TXT
> speedhb2.exe  --thread=2 --scale  >> t.txt
> 
> 

From amigosam at adinet.com.uy  Sun Mar 29 16:18:04 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 16:20:08 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <20090329201420.GA2325@uran.home.aster.pl>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>
	<20090329201420.GA2325@uran.home.aster.pl>
Message-ID: <gqol1r$vr2$1@ger.gmane.org>

Performance went to the sky !
Scalability not so much...
Preliminary results here (2 consecutive runs).
Will recompile harbour with all 3 mem allocators and upload binaries to 
rapidshare.

HTH
Angel

Przemyslaw Czerpak escribi?:
> On Sun, 29 Mar 2009, Angel Pais wrote:
> 
> Hi,
> 
>> Oops !!!!!
>> Then I wil have to re compile harbour with the 3 mem allocator switches and 
>> to all tests again.
>> No problem. It was my fault. Will try to finish them today.
> 
> My too. I've just added warning to speedtst result messages which informs
> about enabled debugger.
> It also explains why in your results used memory manager changed the results
> in tests which normally do not allocate any memory. Just simply when debugger
> is enabled some additional code is executed to store execution context and
> this code allocates memory.
> In Clipper and [x]Harbour debugger code compiled with -b reduce the
> performance. I guess that sth like that can happen also in xbase++
> so all tests should be compiled without -b or other debug options.
> 
> best regards,
> Przemek

From amigosam at adinet.com.uy  Sun Mar 29 16:23:12 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 16:25:13 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqol1r$vr2$1@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>
	<gqol1r$vr2$1@ger.gmane.org>
Message-ID: <gqolbe$vr2$2@ger.gmane.org>

Forgot the attachment...  =D


Angel Pais escribi?:
> Performance went to the sky !
> Scalability not so much...
> Preliminary results here (2 consecutive runs).
> Will recompile harbour with all 3 mem allocators and upload binaries to 
> rapidshare.
> 
> HTH
> Angel
-------------- next part --------------

Compiler and Enviroment:
set HB_COMPILER=msvc
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
Program built with: hbmk2.exe speedtst.prg -mt -gc3 -l -ko
03/29/09 17:58:22 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10726) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.31   0.25 ->  1.25
[ T002: x := L_N ]____________________________________  0.16   0.16 ->  1.01
[ T003: x := L_D ]____________________________________  0.16   0.19 ->  0.83
[ T004: x := S_C ]____________________________________  0.28   0.30 ->  0.95
[ T005: x := S_N ]____________________________________  0.22   0.19 ->  1.16
[ T006: x := S_D ]____________________________________  0.17   0.19 ->  0.92
[ T007: x := M->M_C ]_________________________________  0.34   0.34 ->  1.00
[ T008: x := M->M_N ]_________________________________  0.25   0.20 ->  1.23
[ T009: x := M->M_D ]_________________________________  0.28   0.20 ->  1.38
[ T010: x := M->P_C ]_________________________________  0.28   0.28 ->  1.00
[ T011: x := M->P_N ]_________________________________  0.23   0.24 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.23   0.20 ->  1.15
[ T013: x := F_C ]____________________________________  0.91   0.84 ->  1.07
[ T014: x := F_N ]____________________________________  0.73   0.70 ->  1.04
[ T015: x := F_D ]____________________________________  0.36   0.36 ->  1.00
[ T016: x := o:Args ]_________________________________  0.59   0.58 ->  1.03
[ T017: x := o[2] ]___________________________________  0.42   0.44 ->  0.96
[ T018: round( i / 1000, 2 ) ]________________________  0.73   0.55 ->  1.34
[ T019: str( i / 1000 ) ]_____________________________  1.81   1.64 ->  1.10
[ T020: val( s ) ]____________________________________  0.91   0.88 ->  1.04
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.55   1.38 ->  1.13
[ T022: dtos( d - i % 10000 ) ]_______________________  1.67   1.48 ->  1.13
[ T023: eval( { || i % 16 } ) ]_______________________  2.36   2.13 ->  1.11
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.97   0.84 ->  1.15
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.76   1.56 ->  1.13
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.09   0.89 ->  1.23
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.89   1.66 ->  1.14
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.08   0.97 ->  1.11
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.09   0.97 ->  1.13
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 13.38  15.03 ->  0.89
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 16.36  16.97 ->  0.96
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.56   1.47 ->  1.06
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.81   2.59 ->  1.08
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.28   1.14 ->  1.12
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.38   1.22 ->  1.13
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.33   1.22 ->  1.09
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.26   1.20 ->  1.05
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.30   1.27 ->  1.02
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.26   1.25 ->  1.01
[ T040: ascan( a, i % 16 ) ]__________________________  1.19   1.16 ->  1.03
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 11.64   9.92 ->  1.17
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.16   3.73 ->  1.11
[ T043: x := a ]______________________________________  0.31   0.28 ->  1.11
[ T044: x := {} ]_____________________________________  1.00   1.05 ->  0.96
[ T045: f0() ]________________________________________  0.33   0.28 ->  1.17
[ T046: f1( i ) ]_____________________________________  0.41   0.38 ->  1.08
[ T047: f2( c[1...8] ) ]______________________________  0.55   0.45 ->  1.21
[ T048: f2( c[1...40000] ) ]__________________________  0.56   0.45 ->  1.24
[ T049: f2( @c[1...40000] ) ]_________________________  0.38   0.41 ->  0.92
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.61   0.55 ->  1.11
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.63   1.50 ->  1.08
[ T052: f2( a ) ]_____________________________________  0.58   0.45 ->  1.27
[ T053: x := f4() ]___________________________________  2.70   2.80 ->  0.97
[ T054: x := f5() ]___________________________________  1.24   1.16 ->  1.07
[ T055: x := space(16) ]______________________________  1.09   1.01 ->  1.08
[ T056: f_prv( c ) ]__________________________________  2.03   1.74 ->  1.17
============================================================================
[   TOTAL   ]_________________________________________ 95.17  91.27 ->  1.04
============================================================================
[ total application time: ]...................................251.56
[ total real time: ]..........................................186.50

second try...


Compiler and Enviroment:
set HB_COMPILER=msvc
set HB_VISUALC_VER=90
set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
Program built with: hbmk2.exe speedtst.prg -mt -gc3 -l -ko
03/29/09 18:03:15 Windows Server 2003 / XP x64 5.2.3790
Harbour 1.1.0dev (Rev. 10726) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.31   0.24 ->  1.33
[ T002: x := L_N ]____________________________________  0.16   0.14 ->  1.11
[ T003: x := L_D ]____________________________________  0.19   0.14 ->  1.33
[ T004: x := S_C ]____________________________________  0.28   0.30 ->  0.95
[ T005: x := S_N ]____________________________________  0.17   0.19 ->  0.91
[ T006: x := S_D ]____________________________________  0.17   0.19 ->  0.92
[ T007: x := M->M_C ]_________________________________  0.31   0.33 ->  0.95
[ T008: x := M->M_N ]_________________________________  0.22   0.22 ->  1.00
[ T009: x := M->M_D ]_________________________________  0.25   0.22 ->  1.14
[ T010: x := M->P_C ]_________________________________  0.26   0.27 ->  1.00
[ T011: x := M->P_N ]_________________________________  0.23   0.22 ->  1.07
[ T012: x := M->P_D ]_________________________________  0.22   0.22 ->  1.00
[ T013: x := F_C ]____________________________________  0.89   0.72 ->  1.24
[ T014: x := F_N ]____________________________________  0.70   0.56 ->  1.25
[ T015: x := F_D ]____________________________________  0.39   0.33 ->  1.19
[ T016: x := o:Args ]_________________________________  0.61   0.55 ->  1.12
[ T017: x := o[2] ]___________________________________  0.45   0.45 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.70   0.55 ->  1.29
[ T019: str( i / 1000 ) ]_____________________________  1.88   1.56 ->  1.20
[ T020: val( s ) ]____________________________________  0.98   0.88 ->  1.12
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.64   1.34 ->  1.22
[ T022: dtos( d - i % 10000 ) ]_______________________  1.69   1.53 ->  1.10
[ T023: eval( { || i % 16 } ) ]_______________________  2.47   2.11 ->  1.17
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.98   0.89 ->  1.10
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.73   1.50 ->  1.16
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.08   0.88 ->  1.23
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.92   1.58 ->  1.22
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.05   0.94 ->  1.12
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.09   1.01 ->  1.08
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 13.31  14.80 ->  0.90
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 16.11  16.88 ->  0.95
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.58   1.39 ->  1.13
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.80   2.53 ->  1.11
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.25   1.09 ->  1.14
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.38   1.19 ->  1.16
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.34   1.16 ->  1.16
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.27   1.23 ->  1.03
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.30   1.20 ->  1.08
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.27   1.25 ->  1.01
[ T040: ascan( a, i % 16 ) ]__________________________  1.19   1.14 ->  1.04
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 11.59   9.80 ->  1.18
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.09   3.67 ->  1.11
[ T043: x := a ]______________________________________  0.31   0.28 ->  1.11
[ T044: x := {} ]_____________________________________  1.01   1.02 ->  1.00
[ T045: f0() ]________________________________________  0.34   0.26 ->  1.30
[ T046: f1( i ) ]_____________________________________  0.41   0.39 ->  1.04
[ T047: f2( c[1...8] ) ]______________________________  0.53   0.45 ->  1.17
[ T048: f2( c[1...40000] ) ]__________________________  0.55   0.47 ->  1.17
[ T049: f2( @c[1...40000] ) ]_________________________  0.41   0.36 ->  1.13
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.61   0.53 ->  1.15
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.61   1.53 ->  1.05
[ T052: f2( a ) ]_____________________________________  0.56   0.50 ->  1.13
[ T053: x := f4() ]___________________________________  2.72   2.70 ->  1.01
[ T054: x := f5() ]___________________________________  1.30   1.05 ->  1.24
[ T055: x := space(16) ]______________________________  1.08   0.97 ->  1.11
[ T056: f_prv( c ) ]__________________________________  2.02   1.70 ->  1.18
============================================================================
[   TOTAL   ]_________________________________________ 94.97  89.58 ->  1.06
============================================================================
[ total application time: ]...................................252.88
[ total real time: ]..........................................184.83

From vszakats at users.sourceforge.net  Sun Mar 29 16:53:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 29 16:53:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10728] trunk/harbour
Message-ID: <E1Lo20r-0000o1-4k@3kljzd1.ch3.sourceforge.com>

Revision: 10728
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10728&view=rev
Author:   vszakats
Date:     2009-03-29 20:53:47 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------

2009-03-29 22:26 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * config/dos/owatcom.cf
  * config/win/owatcom.cf
  * config/linux/owatcom.cf
  * config/os2/owatcom.cf
    % Tweaked optimization options. This will result in slower
      build process, but more optimal runtime performance and
      executable sizes. One option is now turned on which can
      cause bad code with OW 1.1, so make sure you use latest
      Open Watcom version, after all the upgrade is free.
      It'd be great if owatcom users could make speedtst runs
      with this revision and older ones to see the difference,
      maybe now owatcom won't perform so poorly as before.
    + Added link to C compiler option docs.
    ! Fixed to convert slashes in HB_USER_CFLAGS.
    % Enabled -5r for DOS and OS/2.

  * contrib/hbct/disk.c
    ! Disabled some volume/disk related code for WinCE.

  * contrib/xhb/hbserv.c
    ! Disabled for poccce.

  * contrib/hbnf/getenvrn.c
    ! Disabled FT_GETE() for poccce.
    ! Fixed FT_GETE() to return zero/empty string on platforms not
      supported (like also OS/2).

  * doc/en-EN/Makefile
  - doc/en-EN/error.txt
  + doc/en-EN/errsys.txt
  * source/rtl/Makefile
  - source/rtl/fserror.c
  - source/rtl/errorapi.c
  - source/rtl/errorapu.c
  - source/rtl/errorint.c
  - source/rtl/errorsys.prg
  + source/rtl/fserr.c
  + source/rtl/errapi.c
  + source/rtl/errint.c
  + source/rtl/errapiu.c
  + source/rtl/errsys.prg
  * contrib/examples/hbdoc/examples/core_es/Makefile
  - contrib/examples/hbdoc/examples/core_es/error.txt
  + contrib/examples/hbdoc/examples/core_es/errsys.txt
    * Most filenames containing 'error' renamed to make
      it easier to search for errors in build logs.
    ; Three headers remain.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/Makefile
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/doc/en-EN/Makefile
    trunk/harbour/source/rtl/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/errsys.txt
    trunk/harbour/doc/en-EN/errsys.txt
    trunk/harbour/source/rtl/errapi.c
    trunk/harbour/source/rtl/errapiu.c
    trunk/harbour/source/rtl/errint.c
    trunk/harbour/source/rtl/errsys.prg
    trunk/harbour/source/rtl/fserr.c

Removed Paths:
-------------
    trunk/harbour/contrib/examples/hbdoc/examples/core_es/error.txt
    trunk/harbour/doc/en-EN/error.txt
    trunk/harbour/source/rtl/errorapi.c
    trunk/harbour/source/rtl/errorapu.c
    trunk/harbour/source/rtl/errorint.c
    trunk/harbour/source/rtl/errorsys.prg
    trunk/harbour/source/rtl/fserror.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Mar 29 17:28:29 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Mar 29 17:28:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10729] trunk/harbour
Message-ID: <E1Lo2YP-0001h4-6W@d5vjzd1.ch3.sourceforge.com>

Revision: 10729
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10729&view=rev
Author:   vouchcac
Date:     2009-03-29 21:28:27 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------
2009-03-29 09:03 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + harbour/contrib/hbqt/doc
    + Added folder to receive auto-generated Q*.txt documentation
      files with PRG level functions with parameters and return value like:
      Qt_QWidget_setContentsMargins( pQWidget, nLeft, nTop, nRight, nBottom ) -> NIL

  + harbour/contrib/hbqt/gensource
    + Added folder to receive auto generated .cpp sources. 
      The idea is to have freedom to generate sources and test them 
      prior to committing to distribution folder.
    
  * harbour/contrib/hbqt/hbqt.h
    + Added more parameter and return macros.

  + harbour/contrib/hbqt/hbqt_utils.c
    + Added generic conversion routins to support parameters and return values.
     
  + harbour/contrib/hbqt/hbqt_qtreewidget.cpp
  + harbour/contrib/hbqt/hbqt_qtreewidgetitem.cpp
  * harbour/contrib/hbqt/hbqt_qtreeview.cpp

  * harbour/contrib/hbqt/generator/hbqtgen.prg
    ! Rearrangement of sequences in .qht files.
      Implemented project files with .qtp extension.
      Implemented auto generation of document files with .txt extension.
         USAGE: hbqtgen.exe @qt45.qtp will generate files as:
                . 
                ../gensource/hbqt_Q*.cpp
                ../doc/Q*.txt

  + harbour/contrib/hbqt/generator/qt45.qtp
    + Added project file to generate sources and documenttaion for tested widgets.

  + harbour/contrib/hbqt/qth/QAbstractButton.qth
  + harbour/contrib/hbqt/qth/QAbstractItemView.qth
  + harbour/contrib/hbqt/qth/QAbstractPrintDialog.qth
  + harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
  + harbour/contrib/hbqt/qth/QAbstractSlider.qth
  + harbour/contrib/hbqt/qth/QAbstractSpinBox.qth
  + harbour/contrib/hbqt/qth/QAction.qth
  + harbour/contrib/hbqt/qth/QApplication.qth
  + harbour/contrib/hbqt/qth/QBoxLayout.qth
  + harbour/contrib/hbqt/qth/QBrush.qth
  + harbour/contrib/hbqt/qth/QCalendarWidget.qth
  + harbour/contrib/hbqt/qth/QCheckBox.qth
  + harbour/contrib/hbqt/qth/QColor.qth
  + harbour/contrib/hbqt/qth/QColorDialog.qth
  + harbour/contrib/hbqt/qth/QComboBox.qth
  + harbour/contrib/hbqt/qth/QCommandLinkButton.qth
  + harbour/contrib/hbqt/qth/QCoreApplication.qth
  + harbour/contrib/hbqt/qth/QDateEdit.qth
  + harbour/contrib/hbqt/qth/QDateTimeEdit.qth
  + harbour/contrib/hbqt/qth/QDial.qth
  + harbour/contrib/hbqt/qth/QDialog.qth
  + harbour/contrib/hbqt/qth/QDoubleSpinBox.qth
  + harbour/contrib/hbqt/qth/QErrorMessage.qth
  + harbour/contrib/hbqt/qth/QFileDialog.qth
  + harbour/contrib/hbqt/qth/QFocusFrame.qth
  + harbour/contrib/hbqt/qth/QFont.qth
  + harbour/contrib/hbqt/qth/QFontComboBox.qth
  + harbour/contrib/hbqt/qth/QFontDialog.qth
  + harbour/contrib/hbqt/qth/QFormLayout.qth
  + harbour/contrib/hbqt/qth/QFrame.qth
  + harbour/contrib/hbqt/qth/QGroupBox.qth
  + harbour/contrib/hbqt/qth/QHBoxLayout.qth
  + harbour/contrib/hbqt/qth/QInputDialog.qth
  + harbour/contrib/hbqt/qth/QLabel.qth
  + harbour/contrib/hbqt/qth/QLayout.qth
  + harbour/contrib/hbqt/qth/QLayoutItem.qth
  + harbour/contrib/hbqt/qth/QLCDNumber.qth
  + harbour/contrib/hbqt/qth/QLineEdit.qth
  + harbour/contrib/hbqt/qth/QListView.qth
  + harbour/contrib/hbqt/qth/QMainWindow.qth
  + harbour/contrib/hbqt/qth/QMenu.qth
  + harbour/contrib/hbqt/qth/QMenuBar.qth
  + harbour/contrib/hbqt/qth/QMessageBox.qth
  + harbour/contrib/hbqt/qth/QObject.qth
  + harbour/contrib/hbqt/qth/QPageSetupDialog.qth
  + harbour/contrib/hbqt/qth/QPainter.qth
  + harbour/contrib/hbqt/qth/QPen.qth
  + harbour/contrib/hbqt/qth/QPrintDialog.qth
  + harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
  + harbour/contrib/hbqt/qth/QProgressBar.qth
  + harbour/contrib/hbqt/qth/QPushButton.qth
  + harbour/contrib/hbqt/qth/QRadioButton.qth
  + harbour/contrib/hbqt/qth/QScrollArea.qth
  + harbour/contrib/hbqt/qth/QScrollBar.qth
  + harbour/contrib/hbqt/qth/QSizeGrip.qth
  + harbour/contrib/hbqt/qth/QSlider.qth
  + harbour/contrib/hbqt/qth/QSpinBox.qth
  + harbour/contrib/hbqt/qth/QSplitter.qth
  + harbour/contrib/hbqt/qth/QTabBar.qth
  + harbour/contrib/hbqt/qth/QTableView.qth
  + harbour/contrib/hbqt/qth/QTableWidget.qth
  + harbour/contrib/hbqt/qth/QTableWidgetItem.qth
  + harbour/contrib/hbqt/qth/QTabWidget.qth
  + harbour/contrib/hbqt/qth/QTextEdit.qth
  + harbour/contrib/hbqt/qth/QTimeEdit.qth
  + harbour/contrib/hbqt/qth/QToolBar.qth
  + harbour/contrib/hbqt/qth/QToolBox.qth
  + harbour/contrib/hbqt/qth/QToolButton.qth
  + harbour/contrib/hbqt/qth/QTreeView.qth
  + harbour/contrib/hbqt/qth/QTreeWidget.qth
  + harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
  + harbour/contrib/hbqt/qth/QVBoxLayout.qth
  + harbour/contrib/hbqt/qth/QWidget.qth
    + Added or changed(4) base header input files to generate sources.

    ; TODO - Create <Makefile> for generated sources.
           - Generate Classes based on compiled members supporting
             QT's class hirarchy. As of now generated sources
             have limited usage.

    ; REQUEST ( Przemek ) - Can you please provide a GTWVT.C like
             skeleton .cpp which I could use as a base for GTQTC ?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_qtreeview.cpp
    trunk/harbour/contrib/hbqt/qth/QBrush.qth
    trunk/harbour/contrib/hbqt/qth/QFont.qth
    trunk/harbour/contrib/hbqt/qth/QPen.qth
    trunk/harbour/contrib/hbqt/qth/QWidget.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/doc/
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/gensource/
    trunk/harbour/contrib/hbqt/hbqt_qtreewidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtreewidgetitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_utils.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractButton.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractItemView.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractPrintDialog.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractSlider.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QAction.qth
    trunk/harbour/contrib/hbqt/qth/QApplication.qth
    trunk/harbour/contrib/hbqt/qth/QBoxLayout.qth
    trunk/harbour/contrib/hbqt/qth/QCalendarWidget.qth
    trunk/harbour/contrib/hbqt/qth/QCheckBox.qth
    trunk/harbour/contrib/hbqt/qth/QColor.qth
    trunk/harbour/contrib/hbqt/qth/QColorDialog.qth
    trunk/harbour/contrib/hbqt/qth/QComboBox.qth
    trunk/harbour/contrib/hbqt/qth/QCommandLinkButton.qth
    trunk/harbour/contrib/hbqt/qth/QCoreApplication.qth
    trunk/harbour/contrib/hbqt/qth/QDateEdit.qth
    trunk/harbour/contrib/hbqt/qth/QDateTimeEdit.qth
    trunk/harbour/contrib/hbqt/qth/QDial.qth
    trunk/harbour/contrib/hbqt/qth/QDialog.qth
    trunk/harbour/contrib/hbqt/qth/QDoubleSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QErrorMessage.qth
    trunk/harbour/contrib/hbqt/qth/QFileDialog.qth
    trunk/harbour/contrib/hbqt/qth/QFocusFrame.qth
    trunk/harbour/contrib/hbqt/qth/QFontComboBox.qth
    trunk/harbour/contrib/hbqt/qth/QFontDialog.qth
    trunk/harbour/contrib/hbqt/qth/QFormLayout.qth
    trunk/harbour/contrib/hbqt/qth/QFrame.qth
    trunk/harbour/contrib/hbqt/qth/QGroupBox.qth
    trunk/harbour/contrib/hbqt/qth/QHBoxLayout.qth
    trunk/harbour/contrib/hbqt/qth/QInputDialog.qth
    trunk/harbour/contrib/hbqt/qth/QLCDNumber.qth
    trunk/harbour/contrib/hbqt/qth/QLabel.qth
    trunk/harbour/contrib/hbqt/qth/QLayout.qth
    trunk/harbour/contrib/hbqt/qth/QLayoutItem.qth
    trunk/harbour/contrib/hbqt/qth/QLineEdit.qth
    trunk/harbour/contrib/hbqt/qth/QListView.qth
    trunk/harbour/contrib/hbqt/qth/QMainWindow.qth
    trunk/harbour/contrib/hbqt/qth/QMenu.qth
    trunk/harbour/contrib/hbqt/qth/QMenuBar.qth
    trunk/harbour/contrib/hbqt/qth/QMessageBox.qth
    trunk/harbour/contrib/hbqt/qth/QObject.qth
    trunk/harbour/contrib/hbqt/qth/QPageSetupDialog.qth
    trunk/harbour/contrib/hbqt/qth/QPainter.qth
    trunk/harbour/contrib/hbqt/qth/QPrintDialog.qth
    trunk/harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
    trunk/harbour/contrib/hbqt/qth/QProgressBar.qth
    trunk/harbour/contrib/hbqt/qth/QPushButton.qth
    trunk/harbour/contrib/hbqt/qth/QRadioButton.qth
    trunk/harbour/contrib/hbqt/qth/QScrollArea.qth
    trunk/harbour/contrib/hbqt/qth/QScrollBar.qth
    trunk/harbour/contrib/hbqt/qth/QSizeGrip.qth
    trunk/harbour/contrib/hbqt/qth/QSlider.qth
    trunk/harbour/contrib/hbqt/qth/QSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QSplitter.qth
    trunk/harbour/contrib/hbqt/qth/QTabBar.qth
    trunk/harbour/contrib/hbqt/qth/QTabWidget.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidget.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QTextEdit.qth
    trunk/harbour/contrib/hbqt/qth/QTimeEdit.qth
    trunk/harbour/contrib/hbqt/qth/QToolBar.qth
    trunk/harbour/contrib/hbqt/qth/QToolBox.qth
    trunk/harbour/contrib/hbqt/qth/QToolButton.qth
    trunk/harbour/contrib/hbqt/qth/QTreeView.qth
    trunk/harbour/contrib/hbqt/qth/QTreeWidget.qth
    trunk/harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QVBoxLayout.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Sun Mar 29 17:36:44 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 29 17:36:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10728] trunk/harbour
In-Reply-To: <E1Lo20r-0000o1-4k@3kljzd1.ch3.sourceforge.com>
References: <E1Lo20r-0000o1-4k@3kljzd1.ch3.sourceforge.com>
Message-ID: <49CFE9EC.40402@fsgiudice.com>

Hi Viktor,


Il 29/03/2009 22.53, vszakats@users.sourceforge.net ha scritto:
> 
> 2009-03-29 22:26 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> 
>   * contrib/xhb/hbserv.c
>     ! Disabled for poccce.
> 
Now I get:
J:\cvs\harbourSVN_trunk\contrib\xhb>if not exist ..\..\lib\win\msvc\. md 
..\..\lib\win\msvc
make[3]: Entering directory `J:/cvs/harbourSVN_trunk/contrib/xhb/win/msvc'
cl.exe -nologo -I. -I../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC 
  -c ../../hbserv.c -Fohbserv.obj
hbserv.c
../../hbserv.c(67) : error C2017: escape sequence not valit
../../hbserv.c(68) : error C2059: syntax error: '('
../../hbserv.c(772) : error C2065: 'pHVMFuncService': identifier not 
declared
make[3]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib/xhb/win/msvc'
make[2]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib/xhb'
make[1]: Leaving directory `J:/cvs/harbourSVN_trunk/contrib'


Offending line 67 is:

#if !defined( HB_OS_DOS ) && \
     !defined( HB_OS_DARWIN_5 ) \ /* DOS and Darwin < 6.x can't compile 
this module */
     ! ( defined(HB_OS_WIN_CE) && defined(__POCC__) )

but I also tried with:

#if !defined( HB_OS_DOS ) && \
     !defined( HB_OS_DARWIN_5 ) && \ <<<<---------
     ! ( defined(HB_OS_WIN_CE) && defined(__POCC__) )

but result is the same

Best regards,
Francesco
From vszakats at users.sourceforge.net  Sun Mar 29 17:46:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Mar 29 17:46:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10730] trunk/harbour
Message-ID: <E1Lo2q9-0000qj-9q@dn4whf1.ch3.sourceforge.com>

Revision: 10730
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10730&view=rev
Author:   vszakats
Date:     2009-03-29 21:46:48 +0000 (Sun, 29 Mar 2009)

Log Message:
-----------

2009-03-29 22:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/xhb/hbserv.c
    ! Fixed issues with prev commit. (Thanks Francesco)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbserv.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Mar 29 18:50:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Mar 29 18:43:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10729] trunk/harbour
In-Reply-To: <E1Lo2YP-0001h4-6W@d5vjzd1.ch3.sourceforge.com>
References: <E1Lo2YP-0001h4-6W@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090329225042.GA6040@uran.home.aster.pl>

On Sun, 29 Mar 2009, vouchcac@users.sourceforge.net wrote:

Hi,

>     ; REQUEST ( Przemek ) - Can you please provide a GTWVT.C like
>              skeleton .cpp which I could use as a base for GTQTC ?

I'll try to make it in this week.

best regards,
Przemek
From bedipritpal at hotmail.com  Sun Mar 29 18:57:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Mar 29 18:57:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10729] trunk/harbour
In-Reply-To: <20090329225042.GA6040@uran.home.aster.pl>
References: <E1Lo2YP-0001h4-6W@d5vjzd1.ch3.sourceforge.com>
	<20090329225042.GA6040@uran.home.aster.pl>
Message-ID: <22773898.post@talk.nabble.com>


Thanks a lot.


Przemyslaw Czerpak-2 wrote:
> 
>>     ; REQUEST ( Przemek ) - Can you please provide a GTWVT.C like
>>              skeleton .cpp which I could use as a base for GTQTC ?
> 
> I'll try to make it in this week.
> 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-10729--trunk-harbour-tp22773020p22773898.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Sun Mar 29 19:08:08 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 29 19:08:17 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqolbe$vr2$2@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>	<gqol1r$vr2$1@ger.gmane.org>
	<gqolbe$vr2$2@ger.gmane.org>
Message-ID: <49CFFF58.6060004@fsgiudice.com>

Hi Przemek,

here are speedtst logs for Vista Ultimate with Intel(R) Core(TM)2 Duo
CPU T8300 @ 2.40GHz

and with 2 x Intel(R) Xeon(TM) CPU 3.00GHz Dual Core (4 Core in
total) Microsoft Windows Server 2003, Standard Edition Service Pack 2
(Build 3790)
also if this server has lot of running services but on Sunday night it 
works lesser.

All tests with speedtest built with:
hbmk2.exe speedtst.prg -mt -gc3 -l -ko

SVN built with:
set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC

Mail sent again with zipped log (I forgot list limit)

Best regards,
Francesco

-------------- next part --------------
A non-text attachment was scrubbed...
Name: speedtst_vistaCore2Duo.zip
Type: application/x-zip-compressed
Size: 4558 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/7c31d886/speedtst_vistaCore2Duo-0001.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: speedtst_w2k3_2xXeonDC.zip
Type: application/x-zip-compressed
Size: 7981 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/7c31d886/speedtst_w2k3_2xXeonDC-0001.bin
From info at fsgiudice.com  Sun Mar 29 19:21:17 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 29 19:21:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10730] trunk/harbour
In-Reply-To: <E1Lo2q9-0000qj-9q@dn4whf1.ch3.sourceforge.com>
References: <E1Lo2q9-0000qj-9q@dn4whf1.ch3.sourceforge.com>
Message-ID: <49D0026D.70303@fsgiudice.com>

Hi Viktor,

Il 29/03/2009 23.46, vszakats@users.sourceforge.net ha scritto:
> 2009-03-29 22:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * contrib/xhb/hbserv.c
>     ! Fixed issues with prev commit. (Thanks Francesco)
it works again. Thank you.

Best regards,
Francesco
From amigosam at adinet.com.uy  Sun Mar 29 19:35:44 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 19:36:01 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <49CFFF58.6060004@fsgiudice.com>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>	<gqol1r$vr2$1@ger.gmane.org>	<gqolbe$vr2$2@ger.gmane.org>
	<49CFFF58.6060004@fsgiudice.com>
Message-ID: <gqp0kc$t2l$1@ger.gmane.org>

Your results are near optimal.
Can't understand what i'm doing wrong =(

From info at fsgiudice.com  Sun Mar 29 19:46:50 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 29 19:46:57 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqp0kc$t2l$1@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>	<gqol1r$vr2$1@ger.gmane.org>	<gqolbe$vr2$2@ger.gmane.org>	<49CFFF58.6060004@fsgiudice.com>
	<gqp0kc$t2l$1@ger.gmane.org>
Message-ID: <49D0086A.70308@fsgiudice.com>

Hi Angel,

Il 30/03/2009 1.35, Angel Pais ha scritto:
> Your results are near optimal.
> Can't understand what i'm doing wrong =(

I will wait Przemek before, but I suspect that there is influence of 
some software and surely there is CPU that is different.
Could you try using MSTSC instead of VNC ?

Best regards,
Francesco

From info at fsgiudice.com  Sun Mar 29 19:49:26 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sun Mar 29 19:49:33 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <49D0086A.70308@fsgiudice.com>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>	<gqol1r$vr2$1@ger.gmane.org>	<gqolbe$vr2$2@ger.gmane.org>	<49CFFF58.6060004@fsgiudice.com>	<gqp0kc$t2l$1@ger.gmane.org>
	<49D0086A.70308@fsgiudice.com>
Message-ID: <49D00906.5060501@fsgiudice.com>

Angel,

Il 30/03/2009 1.46, Francesco Saverio Giudice ha scritto:
> Hi Angel,
> 
> Il 30/03/2009 1.35, Angel Pais ha scritto:
>> Your results are near optimal.
>> Can't understand what i'm doing wrong =(
> 
> I will wait Przemek before, but I suspect that there is influence of 
> some software and surely there is CPU that is different.
> Could you try using MSTSC instead of VNC ?
> 
If you will publish xbase speedtst last version I will try it also, but 
I have few minutes before go to bed.

Best regards,
Francesco
From amigosam at adinet.com.uy  Sun Mar 29 20:40:11 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sun Mar 29 20:40:26 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <49D00906.5060501@fsgiudice.com>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>	<gqol1r$vr2$1@ger.gmane.org>	<gqolbe$vr2$2@ger.gmane.org>	<49CFFF58.6060004@fsgiudice.com>	<gqp0kc$t2l$1@ger.gmane.org>	<49D0086A.70308@fsgiudice.com>
	<49D00906.5060501@fsgiudice.com>
Message-ID: <gqp4d8$4os$1@ger.gmane.org>

Thank you Francesco
It will be usefull to know if it's a hardwre thing.

Here the full set of tests:

http://amigo-software.com.uy/test/speedhb.zip

Regards
Angel

Francesco Saverio Giudice escribi?:
> Angel,
> 
> Il 30/03/2009 1.46, Francesco Saverio Giudice ha scritto:
>> Hi Angel,
>>
>> Il 30/03/2009 1.35, Angel Pais ha scritto:
>>> Your results are near optimal.
>>> Can't understand what i'm doing wrong =(
>>
>> I will wait Przemek before, but I suspect that there is influence of 
>> some software and surely there is CPU that is different.
>> Could you try using MSTSC instead of VNC ?
>>
> If you will publish xbase speedtst last version I will try it also, but 
> I have few minutes before go to bed.
> 
> Best regards,
> Francesco

From niki at synel.co.il  Mon Mar 30 01:10:59 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar 30 01:14:51 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
Message-ID: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>

Angel Pais wrote:
> Performance went to the sky !
> Scalability not so much...
:
> 03/29/09 17:58:22 Windows Server 2003 / XP x64 5.2.3790
> Harbour 1.1.0dev (Rev. 10726) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)

It looks like Windows 64-bit version and 32-bit executable. Can it effect the results?

  Chen.
From info at fsgiudice.com  Mon Mar 30 03:12:17 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 30 03:12:25 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <49D070D1.8030307@fsgiudice.com>

Hi Chen,

Il 30/03/2009 7.10, Chen Kedem ha scritto:
> Angel Pais wrote:
>> Performance went to the sky !
>> Scalability not so much...
> :
>> 03/29/09 17:58:22 Windows Server 2003 / XP x64 5.2.3790
>> Harbour 1.1.0dev (Rev. 10726) (MT)+ Microsoft Visual C++ 14.0.24999 (32-bit)
> 
> It looks like Windows 64-bit version and 32-bit executable. Can it effect the results?
> 
No, O.S. it is not correctly detected, in mine case, but I think also in 
Angel case, is Windows 2003 Server 32 bit. I have to fix OS detection.

Best regards,
Francesco
From harbour.01 at syenar.hu  Mon Mar 30 03:19:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 03:19:50 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <49D070D1.8030307@fsgiudice.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
	<49D070D1.8030307@fsgiudice.com>
Message-ID: <18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>

It's correctly detected, but could be made more accurate by using some
additional techniques to distinguish between
Server 2003 and XP x64. The same version number is returned
for both of these OSes by MS, which is a bit misleading.

--
Viktor

On Mon, Mar 30, 2009 at 9:12 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Chen,
>
> Il 30/03/2009 7.10, Chen Kedem ha scritto:
>
>> Angel Pais wrote:
>>
>>> Performance went to the sky !
>>> Scalability not so much...
>>>
>> :
>>
>>> 03/29/09 17:58:22 Windows Server 2003 / XP x64 5.2.3790
>>> Harbour 1.1.0dev (Rev. 10726) (MT)+ Microsoft Visual C++ 14.0.24999
>>> (32-bit)
>>>
>>
>> It looks like Windows 64-bit version and 32-bit executable. Can it effect
>> the results?
>>
>>  No, O.S. it is not correctly detected, in mine case, but I think also in
> Angel case, is Windows 2003 Server 32 bit. I have to fix OS detection.
>
> Best regards,
> Francesco
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/ec08f9e7/attachment.html
From info at fsgiudice.com  Mon Mar 30 03:32:53 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 30 03:33:22 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>	<49D070D1.8030307@fsgiudice.com>
	<18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>
Message-ID: <49D075A5.3070008@fsgiudice.com>

Hi Viktor,


Il 30/03/2009 9.19, Viktor Szak?ts ha scritto:
> It's correctly detected, but could be made more accurate by 
> using some additional techniques to distinguish between 
> Server 2003 and XP x64. The same version number is returned 
> for both of these OSes by MS, which is a bit misleading.
> 

No, please check below function and compare with that in SVN.


Best Regards,
Francesco

//
// Product types
// This list grows with each OS release.
//
// There is no ordering of values to ensure callers
// do an equality test i.e. greater-than and less-than
// comparisons are not useful.
//
// NOTE: Values in this list should never be deleted.
//       When a product-type 'X' gets dropped from a
//       OS release onwards, the value of 'X' continues
//       to be used in the mapping table of GetProductInfo.
//

#define PRODUCT_UNDEFINED                           0x00000000

#define PRODUCT_ULTIMATE                            0x00000001
#define PRODUCT_HOME_BASIC                          0x00000002
#define PRODUCT_HOME_PREMIUM                        0x00000003
#define PRODUCT_ENTERPRISE                          0x00000004
#define PRODUCT_HOME_BASIC_N                        0x00000005
#define PRODUCT_BUSINESS                            0x00000006
#define PRODUCT_STANDARD_SERVER                     0x00000007
#define PRODUCT_DATACENTER_SERVER                   0x00000008
#define PRODUCT_SMALLBUSINESS_SERVER                0x00000009
#define PRODUCT_ENTERPRISE_SERVER                   0x0000000A
#define PRODUCT_STARTER                             0x0000000B
#define PRODUCT_DATACENTER_SERVER_CORE              0x0000000C
#define PRODUCT_STANDARD_SERVER_CORE                0x0000000D
#define PRODUCT_ENTERPRISE_SERVER_CORE              0x0000000E
#define PRODUCT_ENTERPRISE_SERVER_IA64              0x0000000F
#define PRODUCT_BUSINESS_N                          0x00000010
#define PRODUCT_WEB_SERVER                          0x00000011
#define PRODUCT_CLUSTER_SERVER                      0x00000012
#define PRODUCT_HOME_SERVER                         0x00000013
#define PRODUCT_STORAGE_EXPRESS_SERVER              0x00000014
#define PRODUCT_STORAGE_STANDARD_SERVER             0x00000015
#define PRODUCT_STORAGE_WORKGROUP_SERVER            0x00000016
#define PRODUCT_STORAGE_ENTERPRISE_SERVER           0x00000017
#define PRODUCT_SERVER_FOR_SMALLBUSINESS            0x00000018
#define PRODUCT_SMALLBUSINESS_SERVER_PREMIUM        0x00000019
#define PRODUCT_HOME_PREMIUM_N                      0x0000001A
#define PRODUCT_ENTERPRISE_N                        0x0000001B
#define PRODUCT_ULTIMATE_N                          0x0000001C
#define PRODUCT_WEB_SERVER_CORE                     0x0000001D
#define PRODUCT_MEDIUMBUSINESS_SERVER_MANAGEMENT    0x0000001E
#define PRODUCT_MEDIUMBUSINESS_SERVER_SECURITY      0x0000001F
#define PRODUCT_MEDIUMBUSINESS_SERVER_MESSAGING     0x00000020
#define PRODUCT_SMALLBUSINESS_SERVER_PRIME          0x00000021
#define PRODUCT_HOME_PREMIUM_SERVER                 0x00000022
#define PRODUCT_SERVER_FOR_SMALLBUSINESS_V          0x00000023
#define PRODUCT_STANDARD_SERVER_V                   0x00000024
#define PRODUCT_DATACENTER_SERVER_V                 0x00000025
#define PRODUCT_ENTERPRISE_SERVER_V                 0x00000026
#define PRODUCT_DATACENTER_SERVER_CORE_V            0x00000027
#define PRODUCT_STANDARD_SERVER_CORE_V              0x00000028
#define PRODUCT_ENTERPRISE_SERVER_CORE_V            0x00000029
#define PRODUCT_HYPERV                              0x0000002A

#define PRODUCT_UNLICENSED                          0xABCDABCD


#if _WIN32_WINNT >= 0x0501
WINBASEAPI void WINAPI
GetNativeSystemInfo(
     OUT LPSYSTEM_INFO lpSystemInfo
     );
#endif


// from microsoft SDK
HB_FUNC( XGUI_API_GETWINVERSTRING )
{
    OSVERSIONINFOEX osvi;
    SYSTEM_INFO si;
    BOOL bOsVersionInfoEx;

    char szResult[ STR_LEN ];
    char szBuff[ 80 ];

    //szResult = ( char * ) hb_xgrab( STR_LEN + 2 );
    strcpy( szResult, "" );

    // Try calling GetVersionEx using the OSVERSIONINFOEX structure.
    // If that fails, try using the OSVERSIONINFO structure.

    ZeroMemory(&si, sizeof(SYSTEM_INFO));
    ZeroMemory(&osvi, sizeof(OSVERSIONINFOEX));
    osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);

    if( !(bOsVersionInfoEx = GetVersionEx ((OSVERSIONINFO *) &osvi)) )
    {
       osvi.dwOSVersionInfoSize = sizeof (OSVERSIONINFO);
       if (! GetVersionEx ( (OSVERSIONINFO *) &osvi) )
          hb_retc( "version unknown" );
          return;
    }


    switch (osvi.dwPlatformId)
    {
       // Test for the Windows NT product family.

       case VER_PLATFORM_WIN32_NT:

       // Test for the specific product.

       if ( osvi.dwMajorVersion == 6 && osvi.dwMinorVersion == 0 )
       {
          // alternative call for BCC55
          typedef BOOL (WINAPI *PGPI)(DWORD, DWORD, DWORD, DWORD, PDWORD);

          PGPI pGPI;
          DWORD dwType;

          if( osvi.wProductType == VER_NT_WORKSTATION )
          {
              strcat( szResult, "Microsoft Windows Vista " );
          }
          else
          {
              strcat( szResult, "Windows Server 2008 " );
          }

          pGPI = (PGPI) GetProcAddress(
             GetModuleHandle(TEXT("kernel32.dll")),
             "GetProductInfo");

          pGPI( 6, 0, 0, 0, &dwType);

          switch( dwType )
          {
             case PRODUCT_ULTIMATE:
                strcat( szResult, "Ultimate Edition" );
                break;
             case PRODUCT_HOME_PREMIUM:
                strcat( szResult, "Home Premium Edition" );
                break;
             case PRODUCT_HOME_BASIC:
                strcat( szResult, "Home Basic Edition" );
                break;
             case PRODUCT_ENTERPRISE:
                strcat( szResult, "Enterprise Edition" );
                break;
             case PRODUCT_BUSINESS:
                strcat( szResult, "Business Edition" );
                break;
             case PRODUCT_STARTER:
                strcat( szResult, "Starter Edition" );
                break;
             case PRODUCT_CLUSTER_SERVER:
                strcat( szResult, "Cluster Server Edition" );
                break;
             case PRODUCT_DATACENTER_SERVER:
                strcat( szResult, "Datacenter Edition" );
                break;
             case PRODUCT_DATACENTER_SERVER_CORE:
                strcat( szResult, "Datacenter Edition (core 
installation)" );
                break;
             case PRODUCT_ENTERPRISE_SERVER:
                strcat( szResult, "Enterprise Edition" );
                break;
             case PRODUCT_ENTERPRISE_SERVER_CORE:
                strcat( szResult, "Enterprise Edition (core 
installation)" );
                break;
             case PRODUCT_ENTERPRISE_SERVER_IA64:
                strcat( szResult, "Enterprise Edition for Itanium-based 
Systems" );
                break;
             case PRODUCT_SMALLBUSINESS_SERVER:
                strcat( szResult, "Small Business Server" );
                break;
             case PRODUCT_SMALLBUSINESS_SERVER_PREMIUM:
                strcat( szResult, "Small Business Server Premium Edition" );
                break;
             case PRODUCT_STANDARD_SERVER:
                strcat( szResult, "Standard Edition" );
                break;
             case PRODUCT_STANDARD_SERVER_CORE:
                strcat( szResult, "Standard Edition (core installation)" );
                break;
             case PRODUCT_WEB_SERVER:
                strcat( szResult, "Web Server Edition" );
                break;
          }
          if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
             strcat( szResult, ", 64-bit " );
          else if (si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_INTEL )
             strcat( szResult, ", 32-bit ");

       }

       if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 2 )
       {
          // alternative call for BCC55
          typedef VOID (WINAPI *LPFN_GETNATIVESYSTEMINFO) (SYSTEM_INFO *);

          LPFN_GETNATIVESYSTEMINFO fnGetNativeSystemInfo =
          (LPFN_GETNATIVESYSTEMINFO) GetProcAddress( 
GetModuleHandle("kernel32"), "GetNativeSystemInfo");

          if (NULL != fnGetNativeSystemInfo)
          {
             (fnGetNativeSystemInfo) (&si);
          }
          //GetNativeSystemInfo(&si);

          if( GetSystemMetrics(SM_SERVERR2) )
             strcat( szResult, "Microsoft Windows Server 2003 \"R2\" " );
          else if ( osvi.wSuiteMask==VER_SUITE_STORAGE_SERVER )
             strcat( szResult, "Windows Storage Server 2003");
          else if( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 &&
                   osvi.wProductType == VER_NT_WORKSTATION )
          {
             strcat( szResult, "Microsoft Windows XP Professional x64 
Edition " );
          }
          else strcat( szResult, "Microsoft Windows Server 2003, " );
       }

       if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 1 )
          strcat( szResult, "Microsoft Windows XP " );

       if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 0 )
          strcat( szResult, "Microsoft Windows 2000 " );

       if ( osvi.dwMajorVersion <= 4 )
          strcat( szResult, "Microsoft Windows NT " );

       // Test for specific product on Windows NT 4.0 SP6 and later.
       if( bOsVersionInfoEx )
       {
          // Test for the workstation type.
          if ( osvi.wProductType == VER_NT_WORKSTATION && 
osvi.dwMajorVersion < 6 )
          {
             if( osvi.dwMajorVersion == 4 )
                strcat( szResult, "Workstation 4.0 " );
             else if( osvi.wSuiteMask & VER_SUITE_PERSONAL )
                strcat( szResult, "Home Edition " );
             else strcat( szResult, "Professional " );
          }

          // Test for the server type.
          else if ( osvi.wProductType == VER_NT_SERVER ||
                    osvi.wProductType == VER_NT_DOMAIN_CONTROLLER )
          {
             if(osvi.dwMajorVersion==5 && osvi.dwMinorVersion==2)
             {
                if ( 
si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 )
                {
                    if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                       strcat( szResult, "Datacenter Edition for 
Itanium-based Systems" );
                    else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                       strcat( szResult, "Enterprise Edition for 
Itanium-based Systems" );
                }

                else if ( 
si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
                {
                    if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                       strcat( szResult, "Datacenter x64 Edition " );
                    else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                       strcat( szResult, "Enterprise x64 Edition " );
                    else strcat( szResult, "Standard x64 Edition " );
                }

                else
                {
                    if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                       strcat( szResult, "Datacenter Edition " );
                    else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                       strcat( szResult, "Enterprise Edition " );
                    else if ( osvi.wSuiteMask == VER_SUITE_BLADE )
                       strcat( szResult, "Web Edition " );
                    else strcat( szResult, "Standard Edition " );
                }
             }
             else if(osvi.dwMajorVersion==5 && osvi.dwMinorVersion==0)
             {
                if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                   strcat( szResult, "Datacenter Server " );
                else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                   strcat( szResult, "Advanced Server " );
                else strcat( szResult, "Server " );
             }
             else  // Windows NT 4.0
             {
                if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                   strcat( szResult, "Server 4.0, Enterprise Edition " );
                else strcat( szResult, "Server 4.0 " );
             }
          }
       }
       // Test for specific product on Windows NT 4.0 SP5 and earlier
       else
       {
          HKEY hKey;
          char szProductType[BUFSIZE];
          DWORD dwBufLen=BUFSIZE;
          LONG lRet;

          lRet = RegOpenKeyEx( HKEY_LOCAL_MACHINE,
             "SYSTEM\\CurrentControlSet\\Control\\ProductOptions",
             0, KEY_QUERY_VALUE, &hKey );
          if( lRet != ERROR_SUCCESS )
          {
              hb_retc( "version unknown" );
              return;
             //return FALSE;
          }

          lRet = RegQueryValueEx( hKey, "ProductType", NULL, NULL,
             (LPBYTE) szProductType, &dwBufLen);
          RegCloseKey( hKey );

          if( (lRet != ERROR_SUCCESS) || (dwBufLen > BUFSIZE) )
          {
              hb_retc( "version unknown" );
             return;
             //return FALSE;
          }

          if ( lstrcmpi( "WINNT", szProductType) == 0 )
             strcat( szResult, "Workstation " );
          if ( lstrcmpi( "LANMANNT", szProductType) == 0 )
             strcat( szResult, "Server " );
          if ( lstrcmpi( "SERVERNT", szProductType) == 0 )
             strcat( szResult, "Advanced Server " );
          sprintf( szBuff, "%d.%d ", osvi.dwMajorVersion, 
osvi.dwMinorVersion );
          strcat( szResult, szBuff );
       }

       // Display service pack (if any) and build number.

       if( osvi.dwMajorVersion == 4 &&
           lstrcmpi( osvi.szCSDVersion, "Service Pack 6" ) == 0 )
       {
          HKEY hKey;
          LONG lRet;

          // Test for SP6 versus SP6a.
          lRet = RegOpenKeyEx( HKEY_LOCAL_MACHINE,
             "SOFTWARE\\Microsoft\\Windows 
NT\\CurrentVersion\\Hotfix\\Q246009",
             0, KEY_QUERY_VALUE, &hKey );
          if( lRet == ERROR_SUCCESS )
          {
             sprintf( szBuff, "Service Pack 6a (Build %d)", 
osvi.dwBuildNumber & 0xFFFF );
             strcat( szResult, szBuff );
          }
          else // Windows NT 4.0 prior to SP6a
          {
             sprintf( szBuff, "%s (Build %d)",
                osvi.szCSDVersion,
                osvi.dwBuildNumber & 0xFFFF);
             strcat( szResult, szBuff );
          }

          RegCloseKey( hKey );
       }
       else // not Windows NT 4.0
       {
          sprintf( szBuff, "%s (Build %d)",
             osvi.szCSDVersion,
             osvi.dwBuildNumber & 0xFFFF);
          strcat( szResult, szBuff );
       }

       break;

       // Test for the Windows Me/98/95.
       case VER_PLATFORM_WIN32_WINDOWS:

       if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 0)
       {
           strcat( szResult, "Microsoft Windows 95 ");
           if (osvi.szCSDVersion[1]=='C' || osvi.szCSDVersion[1]=='B')
              strcat( szResult, "OSR2 " );
       }

       if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 10)
       {
           strcat( szResult, "Microsoft Windows 98 ");
           if ( osvi.szCSDVersion[1]=='A' || osvi.szCSDVersion[1]=='B')
              strcat( szResult, "SE " );
       }

       if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 90)
       {
           strcat( szResult, "Microsoft Windows Millennium Edition");
       }
       break;

       case VER_PLATFORM_WIN32s:

       strcat( szResult, "Microsoft Win32s\n");
       break;
    }

    hb_retc( szResult );
}

From vszakats at users.sourceforge.net  Mon Mar 30 03:37:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 03:37:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10731] trunk/harbour
Message-ID: <E1LoC3k-0002Uj-Tv@74yxhf1.ch3.sourceforge.com>

Revision: 10731
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10731&view=rev
Author:   vszakats
Date:     2009-03-30 07:37:28 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 09:37 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    + Added two Windows system libs. (also needed for QT)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 03:43:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 03:43:57 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <49D075A5.3070008@fsgiudice.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
	<49D070D1.8030307@fsgiudice.com>
	<18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>
	<49D075A5.3070008@fsgiudice.com>
Message-ID: <18d502870903300043r57934a09gc8b8d60b549fbc6f@mail.gmail.com>

Both returns 5.2, and I didn't bother to do any above heavy lifting.
Most of these version details is probably unnecessary for Harbour,
but XP x64 and Server 2003 detection would be useful.

Although this code from below:
---
 else if( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 &&
                 osvi.wProductType == VER_NT_WORKSTATION )
        {
           strcat( szResult, "Microsoft Windows XP Professional x64 Edition
" );
        }
---

looks a bit suspicious to me as it checks for IA64 to detect x64? Could
be correct seeing the mess around Windows version though ;)

--
Viktor

On Mon, Mar 30, 2009 at 9:32 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Hi Viktor,
>
>
> Il 30/03/2009 9.19, Viktor Szak?ts ha scritto:
>
>> It's correctly detected, but could be made more accurate by using some
>> additional techniques to distinguish between Server 2003 and XP x64. The
>> same version number is returned for both of these OSes by MS, which is a bit
>> misleading.
>>
>>
> No, please check below function and compare with that in SVN.
>
>
> Best Regards,
> Francesco
>
> //
> // Product types
> // This list grows with each OS release.
> //
> // There is no ordering of values to ensure callers
> // do an equality test i.e. greater-than and less-than
> // comparisons are not useful.
> //
> // NOTE: Values in this list should never be deleted.
> //       When a product-type 'X' gets dropped from a
> //       OS release onwards, the value of 'X' continues
> //       to be used in the mapping table of GetProductInfo.
> //
>
> #define PRODUCT_UNDEFINED                           0x00000000
>
> #define PRODUCT_ULTIMATE                            0x00000001
> #define PRODUCT_HOME_BASIC                          0x00000002
> #define PRODUCT_HOME_PREMIUM                        0x00000003
> #define PRODUCT_ENTERPRISE                          0x00000004
> #define PRODUCT_HOME_BASIC_N                        0x00000005
> #define PRODUCT_BUSINESS                            0x00000006
> #define PRODUCT_STANDARD_SERVER                     0x00000007
> #define PRODUCT_DATACENTER_SERVER                   0x00000008
> #define PRODUCT_SMALLBUSINESS_SERVER                0x00000009
> #define PRODUCT_ENTERPRISE_SERVER                   0x0000000A
> #define PRODUCT_STARTER                             0x0000000B
> #define PRODUCT_DATACENTER_SERVER_CORE              0x0000000C
> #define PRODUCT_STANDARD_SERVER_CORE                0x0000000D
> #define PRODUCT_ENTERPRISE_SERVER_CORE              0x0000000E
> #define PRODUCT_ENTERPRISE_SERVER_IA64              0x0000000F
> #define PRODUCT_BUSINESS_N                          0x00000010
> #define PRODUCT_WEB_SERVER                          0x00000011
> #define PRODUCT_CLUSTER_SERVER                      0x00000012
> #define PRODUCT_HOME_SERVER                         0x00000013
> #define PRODUCT_STORAGE_EXPRESS_SERVER              0x00000014
> #define PRODUCT_STORAGE_STANDARD_SERVER             0x00000015
> #define PRODUCT_STORAGE_WORKGROUP_SERVER            0x00000016
> #define PRODUCT_STORAGE_ENTERPRISE_SERVER           0x00000017
> #define PRODUCT_SERVER_FOR_SMALLBUSINESS            0x00000018
> #define PRODUCT_SMALLBUSINESS_SERVER_PREMIUM        0x00000019
> #define PRODUCT_HOME_PREMIUM_N                      0x0000001A
> #define PRODUCT_ENTERPRISE_N                        0x0000001B
> #define PRODUCT_ULTIMATE_N                          0x0000001C
> #define PRODUCT_WEB_SERVER_CORE                     0x0000001D
> #define PRODUCT_MEDIUMBUSINESS_SERVER_MANAGEMENT    0x0000001E
> #define PRODUCT_MEDIUMBUSINESS_SERVER_SECURITY      0x0000001F
> #define PRODUCT_MEDIUMBUSINESS_SERVER_MESSAGING     0x00000020
> #define PRODUCT_SMALLBUSINESS_SERVER_PRIME          0x00000021
> #define PRODUCT_HOME_PREMIUM_SERVER                 0x00000022
> #define PRODUCT_SERVER_FOR_SMALLBUSINESS_V          0x00000023
> #define PRODUCT_STANDARD_SERVER_V                   0x00000024
> #define PRODUCT_DATACENTER_SERVER_V                 0x00000025
> #define PRODUCT_ENTERPRISE_SERVER_V                 0x00000026
> #define PRODUCT_DATACENTER_SERVER_CORE_V            0x00000027
> #define PRODUCT_STANDARD_SERVER_CORE_V              0x00000028
> #define PRODUCT_ENTERPRISE_SERVER_CORE_V            0x00000029
> #define PRODUCT_HYPERV                              0x0000002A
>
> #define PRODUCT_UNLICENSED                          0xABCDABCD
>
>
> #if _WIN32_WINNT >= 0x0501
> WINBASEAPI void WINAPI
> GetNativeSystemInfo(
>    OUT LPSYSTEM_INFO lpSystemInfo
>    );
> #endif
>
>
> // from microsoft SDK
> HB_FUNC( XGUI_API_GETWINVERSTRING )
> {
>   OSVERSIONINFOEX osvi;
>   SYSTEM_INFO si;
>   BOOL bOsVersionInfoEx;
>
>   char szResult[ STR_LEN ];
>   char szBuff[ 80 ];
>
>   //szResult = ( char * ) hb_xgrab( STR_LEN + 2 );
>   strcpy( szResult, "" );
>
>   // Try calling GetVersionEx using the OSVERSIONINFOEX structure.
>   // If that fails, try using the OSVERSIONINFO structure.
>
>   ZeroMemory(&si, sizeof(SYSTEM_INFO));
>   ZeroMemory(&osvi, sizeof(OSVERSIONINFOEX));
>   osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);
>
>   if( !(bOsVersionInfoEx = GetVersionEx ((OSVERSIONINFO *) &osvi)) )
>   {
>      osvi.dwOSVersionInfoSize = sizeof (OSVERSIONINFO);
>      if (! GetVersionEx ( (OSVERSIONINFO *) &osvi) )
>         hb_retc( "version unknown" );
>         return;
>   }
>
>
>   switch (osvi.dwPlatformId)
>   {
>      // Test for the Windows NT product family.
>
>      case VER_PLATFORM_WIN32_NT:
>
>      // Test for the specific product.
>
>      if ( osvi.dwMajorVersion == 6 && osvi.dwMinorVersion == 0 )
>      {
>         // alternative call for BCC55
>         typedef BOOL (WINAPI *PGPI)(DWORD, DWORD, DWORD, DWORD, PDWORD);
>
>         PGPI pGPI;
>         DWORD dwType;
>
>         if( osvi.wProductType == VER_NT_WORKSTATION )
>         {
>             strcat( szResult, "Microsoft Windows Vista " );
>         }
>         else
>         {
>             strcat( szResult, "Windows Server 2008 " );
>         }
>
>         pGPI = (PGPI) GetProcAddress(
>            GetModuleHandle(TEXT("kernel32.dll")),
>            "GetProductInfo");
>
>         pGPI( 6, 0, 0, 0, &dwType);
>
>         switch( dwType )
>         {
>            case PRODUCT_ULTIMATE:
>               strcat( szResult, "Ultimate Edition" );
>               break;
>            case PRODUCT_HOME_PREMIUM:
>               strcat( szResult, "Home Premium Edition" );
>               break;
>            case PRODUCT_HOME_BASIC:
>               strcat( szResult, "Home Basic Edition" );
>               break;
>            case PRODUCT_ENTERPRISE:
>               strcat( szResult, "Enterprise Edition" );
>               break;
>            case PRODUCT_BUSINESS:
>               strcat( szResult, "Business Edition" );
>               break;
>            case PRODUCT_STARTER:
>               strcat( szResult, "Starter Edition" );
>               break;
>            case PRODUCT_CLUSTER_SERVER:
>               strcat( szResult, "Cluster Server Edition" );
>               break;
>            case PRODUCT_DATACENTER_SERVER:
>               strcat( szResult, "Datacenter Edition" );
>               break;
>            case PRODUCT_DATACENTER_SERVER_CORE:
>               strcat( szResult, "Datacenter Edition (core installation)" );
>               break;
>            case PRODUCT_ENTERPRISE_SERVER:
>               strcat( szResult, "Enterprise Edition" );
>               break;
>            case PRODUCT_ENTERPRISE_SERVER_CORE:
>               strcat( szResult, "Enterprise Edition (core installation)" );
>               break;
>            case PRODUCT_ENTERPRISE_SERVER_IA64:
>               strcat( szResult, "Enterprise Edition for Itanium-based
> Systems" );
>               break;
>            case PRODUCT_SMALLBUSINESS_SERVER:
>               strcat( szResult, "Small Business Server" );
>               break;
>            case PRODUCT_SMALLBUSINESS_SERVER_PREMIUM:
>               strcat( szResult, "Small Business Server Premium Edition" );
>               break;
>            case PRODUCT_STANDARD_SERVER:
>               strcat( szResult, "Standard Edition" );
>               break;
>            case PRODUCT_STANDARD_SERVER_CORE:
>               strcat( szResult, "Standard Edition (core installation)" );
>               break;
>            case PRODUCT_WEB_SERVER:
>               strcat( szResult, "Web Server Edition" );
>               break;
>         }
>         if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
>            strcat( szResult, ", 64-bit " );
>         else if (si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_INTEL )
>            strcat( szResult, ", 32-bit ");
>
>      }
>
>      if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 2 )
>      {
>         // alternative call for BCC55
>         typedef VOID (WINAPI *LPFN_GETNATIVESYSTEMINFO) (SYSTEM_INFO *);
>
>         LPFN_GETNATIVESYSTEMINFO fnGetNativeSystemInfo =
>         (LPFN_GETNATIVESYSTEMINFO) GetProcAddress(
> GetModuleHandle("kernel32"), "GetNativeSystemInfo");
>
>         if (NULL != fnGetNativeSystemInfo)
>         {
>            (fnGetNativeSystemInfo) (&si);
>         }
>         //GetNativeSystemInfo(&si);
>
>         if( GetSystemMetrics(SM_SERVERR2) )
>            strcat( szResult, "Microsoft Windows Server 2003 \"R2\" " );
>         else if ( osvi.wSuiteMask==VER_SUITE_STORAGE_SERVER )
>            strcat( szResult, "Windows Storage Server 2003");
>         else if( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 &&
>                  osvi.wProductType == VER_NT_WORKSTATION )
>         {
>            strcat( szResult, "Microsoft Windows XP Professional x64 Edition
> " );
>         }
>         else strcat( szResult, "Microsoft Windows Server 2003, " );
>      }
>
>      if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 1 )
>         strcat( szResult, "Microsoft Windows XP " );
>
>      if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 0 )
>         strcat( szResult, "Microsoft Windows 2000 " );
>
>      if ( osvi.dwMajorVersion <= 4 )
>         strcat( szResult, "Microsoft Windows NT " );
>
>      // Test for specific product on Windows NT 4.0 SP6 and later.
>      if( bOsVersionInfoEx )
>      {
>         // Test for the workstation type.
>         if ( osvi.wProductType == VER_NT_WORKSTATION && osvi.dwMajorVersion
> < 6 )
>         {
>            if( osvi.dwMajorVersion == 4 )
>               strcat( szResult, "Workstation 4.0 " );
>            else if( osvi.wSuiteMask & VER_SUITE_PERSONAL )
>               strcat( szResult, "Home Edition " );
>            else strcat( szResult, "Professional " );
>         }
>
>         // Test for the server type.
>         else if ( osvi.wProductType == VER_NT_SERVER ||
>                   osvi.wProductType == VER_NT_DOMAIN_CONTROLLER )
>         {
>            if(osvi.dwMajorVersion==5 && osvi.dwMinorVersion==2)
>            {
>               if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 )
>               {
>                   if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
>                      strcat( szResult, "Datacenter Edition for
> Itanium-based Systems" );
>                   else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
>                      strcat( szResult, "Enterprise Edition for
> Itanium-based Systems" );
>               }
>
>               else if (
> si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
>               {
>                   if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
>                      strcat( szResult, "Datacenter x64 Edition " );
>                   else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
>                      strcat( szResult, "Enterprise x64 Edition " );
>                   else strcat( szResult, "Standard x64 Edition " );
>               }
>
>               else
>               {
>                   if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
>                      strcat( szResult, "Datacenter Edition " );
>                   else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
>                      strcat( szResult, "Enterprise Edition " );
>                   else if ( osvi.wSuiteMask == VER_SUITE_BLADE )
>                      strcat( szResult, "Web Edition " );
>                   else strcat( szResult, "Standard Edition " );
>               }
>            }
>            else if(osvi.dwMajorVersion==5 && osvi.dwMinorVersion==0)
>            {
>               if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
>                  strcat( szResult, "Datacenter Server " );
>               else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
>                  strcat( szResult, "Advanced Server " );
>               else strcat( szResult, "Server " );
>            }
>            else  // Windows NT 4.0
>            {
>               if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
>                  strcat( szResult, "Server 4.0, Enterprise Edition " );
>               else strcat( szResult, "Server 4.0 " );
>            }
>         }
>      }
>      // Test for specific product on Windows NT 4.0 SP5 and earlier
>      else
>      {
>         HKEY hKey;
>         char szProductType[BUFSIZE];
>         DWORD dwBufLen=BUFSIZE;
>         LONG lRet;
>
>         lRet = RegOpenKeyEx( HKEY_LOCAL_MACHINE,
>            "SYSTEM\\CurrentControlSet\\Control\\ProductOptions",
>            0, KEY_QUERY_VALUE, &hKey );
>         if( lRet != ERROR_SUCCESS )
>         {
>             hb_retc( "version unknown" );
>             return;
>            //return FALSE;
>         }
>
>         lRet = RegQueryValueEx( hKey, "ProductType", NULL, NULL,
>            (LPBYTE) szProductType, &dwBufLen);
>         RegCloseKey( hKey );
>
>         if( (lRet != ERROR_SUCCESS) || (dwBufLen > BUFSIZE) )
>         {
>             hb_retc( "version unknown" );
>            return;
>            //return FALSE;
>         }
>
>         if ( lstrcmpi( "WINNT", szProductType) == 0 )
>            strcat( szResult, "Workstation " );
>         if ( lstrcmpi( "LANMANNT", szProductType) == 0 )
>            strcat( szResult, "Server " );
>         if ( lstrcmpi( "SERVERNT", szProductType) == 0 )
>            strcat( szResult, "Advanced Server " );
>         sprintf( szBuff, "%d.%d ", osvi.dwMajorVersion, osvi.dwMinorVersion
> );
>         strcat( szResult, szBuff );
>      }
>
>      // Display service pack (if any) and build number.
>
>      if( osvi.dwMajorVersion == 4 &&
>          lstrcmpi( osvi.szCSDVersion, "Service Pack 6" ) == 0 )
>      {
>         HKEY hKey;
>         LONG lRet;
>
>         // Test for SP6 versus SP6a.
>         lRet = RegOpenKeyEx( HKEY_LOCAL_MACHINE,
>            "SOFTWARE\\Microsoft\\Windows
> NT\\CurrentVersion\\Hotfix\\Q246009",
>            0, KEY_QUERY_VALUE, &hKey );
>         if( lRet == ERROR_SUCCESS )
>         {
>            sprintf( szBuff, "Service Pack 6a (Build %d)",
> osvi.dwBuildNumber & 0xFFFF );
>            strcat( szResult, szBuff );
>         }
>         else // Windows NT 4.0 prior to SP6a
>         {
>            sprintf( szBuff, "%s (Build %d)",
>               osvi.szCSDVersion,
>               osvi.dwBuildNumber & 0xFFFF);
>            strcat( szResult, szBuff );
>         }
>
>         RegCloseKey( hKey );
>      }
>      else // not Windows NT 4.0
>      {
>         sprintf( szBuff, "%s (Build %d)",
>            osvi.szCSDVersion,
>            osvi.dwBuildNumber & 0xFFFF);
>         strcat( szResult, szBuff );
>      }
>
>      break;
>
>      // Test for the Windows Me/98/95.
>      case VER_PLATFORM_WIN32_WINDOWS:
>
>      if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 0)
>      {
>          strcat( szResult, "Microsoft Windows 95 ");
>          if (osvi.szCSDVersion[1]=='C' || osvi.szCSDVersion[1]=='B')
>             strcat( szResult, "OSR2 " );
>      }
>
>      if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 10)
>      {
>          strcat( szResult, "Microsoft Windows 98 ");
>          if ( osvi.szCSDVersion[1]=='A' || osvi.szCSDVersion[1]=='B')
>             strcat( szResult, "SE " );
>      }
>
>      if (osvi.dwMajorVersion == 4 && osvi.dwMinorVersion == 90)
>      {
>          strcat( szResult, "Microsoft Windows Millennium Edition");
>      }
>      break;
>
>      case VER_PLATFORM_WIN32s:
>
>      strcat( szResult, "Microsoft Win32s\n");
>      break;
>   }
>
>   hb_retc( szResult );
>
> }
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/ae1d0b76/attachment-0001.html
From info at fsgiudice.com  Mon Mar 30 03:59:59 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 30 04:00:45 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <18d502870903300043r57934a09gc8b8d60b549fbc6f@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>	<49D070D1.8030307@fsgiudice.com>	<18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>	<49D075A5.3070008@fsgiudice.com>
	<18d502870903300043r57934a09gc8b8d60b549fbc6f@mail.gmail.com>
Message-ID: <49D07BFF.8060008@fsgiudice.com>

Viktor,

Il 30/03/2009 9.43, Viktor Szak?ts ha scritto:
> Both returns 5.2, and I didn't bother to do any above heavy lifting.
> 
> Most of these version details is probably unnecessary for Harbour, 
> but XP x64 and Server 2003 detection would be useful.
> 
> Although this code from below:
> ---
>  else if( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 &&
>                  osvi.wProductType == VER_NT_WORKSTATION )
>         {
>            strcat( szResult, "Microsoft Windows XP Professional x64 
> Edition " );
>         }
> ---
> 
> looks a bit suspicious to me as it checks for IA64 to detect x64? Could 
> be correct seeing the mess around Windows version though ;)
> 

I get code from MS Win SDK plus added unsupported versions (9x, etc).
You can check it at:
ms-help://MS.LHSMSSDK.1033/MS.LHSWinSDK.1033/sysinfo/base/getting_the_system_version.htm

Best regards,
Francesco
From niki at synel.co.il  Mon Mar 30 03:58:25 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar 30 04:02:19 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C14A74FC145@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

(maybe a bit off topic here, but you asked something like that a few days ago)
The following MS link is useful to check when was a given MS DLL shipped
and in what product: http://support.microsoft.com/dllhelp/

Hmm, well, their database use to include ALL the old products, now I can see
only Win2000 and later. Too bad (long time since I used that link).


  Chen.
From vszakats at users.sourceforge.net  Mon Mar 30 04:03:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 04:03:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10732] trunk/harbour
Message-ID: <E1LoCT3-0000gK-AI@c3vjzd1.ch3.sourceforge.com>

Revision: 10732
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10732&view=rev
Author:   vszakats
Date:     2009-03-30 08:03:36 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 10:01 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * config/win/owatcom.cf
  * config/linux/owatcom.cf
  * config/os2/owatcom.cf
    - Reverted yesterdays attempt to make owatcom builds faster.
      After the change the compilation time went slower, the
      binaries got smaller, but execution speed got actually worse.
      I've left -oz option removed for win, that's the only
      remaining change, plus -5r in os2/dos.
      owatcom seems not very useful for production.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 04:08:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 04:08:59 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC145@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C14A74FC145@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903300108n82117efsb2afcad2e4d00856@mail.gmail.com>

Thanks Chen.
MS also removed any pre-2000 information from MSDN pages, moreover
they've removed all obsolete (but nevertheless available) functions from
documentation, so I have to check headers, and they've even removed
pre-2000
availability information which is even worse (and they gained nothing). All
this Windows API world is very miserable to work with.

--
Viktor

On Mon, Mar 30, 2009 at 9:58 AM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> (maybe a bit off topic here, but you asked something like that a few days
> ago)
> The following MS link is useful to check when was a given MS DLL shipped
> and in what product: http://support.microsoft.com/dllhelp/
>
> Hmm, well, their database use to include ALL the old products, now I can
> see
> only Win2000 and later. Too bad (long time since I used that link).
>
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/54fe2284/attachment.html
From harbour.01 at syenar.hu  Mon Mar 30 04:10:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 04:10:42 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <49D07BFF.8060008@fsgiudice.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>
	<49D070D1.8030307@fsgiudice.com>
	<18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>
	<49D075A5.3070008@fsgiudice.com>
	<18d502870903300043r57934a09gc8b8d60b549fbc6f@mail.gmail.com>
	<49D07BFF.8060008@fsgiudice.com>
Message-ID: <18d502870903300110s53c285cega6ad626d69fba74c@mail.gmail.com>

You must be right, if you have code I can try on Windows XP x64 as I
have a legal
copy running in a VM here.

I've found this one:
http://www.codeguru.com/cpp/w-p/system/systeminformation/article.php/c8973__2/
[ but it seem to have forgotten about XP x64 ]

--
Viktor

On Mon, Mar 30, 2009 at 9:59 AM, Francesco Saverio Giudice <
info@fsgiudice.com> wrote:

> Viktor,
>
> Il 30/03/2009 9.43, Viktor Szak?ts ha scritto:
>
>> Both returns 5.2, and I didn't bother to do any above heavy lifting.
>>
>> Most of these version details is probably unnecessary for Harbour, but XP
>> x64 and Server 2003 detection would be useful.
>>
>> Although this code from below:
>> ---
>>  else if( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 &&
>>                 osvi.wProductType == VER_NT_WORKSTATION )
>>        {
>>           strcat( szResult, "Microsoft Windows XP Professional x64 Edition
>> " );
>>        }
>> ---
>>
>> looks a bit suspicious to me as it checks for IA64 to detect x64? Could be
>> correct seeing the mess around Windows version though ;)
>>
>>
> I get code from MS Win SDK plus added unsupported versions (9x, etc).
> You can check it at:
>
> ms-help://MS.LHSMSSDK.1033/MS.LHSWinSDK.1033/sysinfo/base/getting_the_system_version.htm
>
> Best regards,
> Francesco
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/07eac986/attachment.html
From petr_ch at users.sourceforge.net  Mon Mar 30 04:23:59 2009
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Mon Mar 30 04:24:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10733] trunk/harbour
Message-ID: <E1LoCml-0008Rz-7i@3kljzd1.ch3.sourceforge.com>

Revision: 10733
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10733&view=rev
Author:   petr_ch
Date:     2009-03-30 08:23:58 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 11:30 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
   * contrib/hbsqlit3/hbsqlit3.ch
   * contrib/hbsqlit3/hbsqlit3.c
      * Added support for sqlite_exec() callback. 
         Now the 3rd parameter is an optional callback that is invoked
         once for each row of any query results.
      * Now we can pass name of logfile as third parameter of
         sqlite3_trace(), sqlite3_profile(). 
      + Added sqlite3_set_authorizer() - 
         Compile-Time Authorization Callbacks.
      + Added sqlite3_busy_handler() - 
         A Callback To Handle SQLITE_BUSY Errors.
      + Added sqlite3_progress_handler() - Query Progress Callbacks.
      + Added sqlite3_commit_hook(), sqlite3_rollback_hook() -
         Commit And Rollback Notification Callbacks
      + Added sqlite3_backup_*() API for backups purposes.
      + Added sqlite3_initialize(), sqlite3_shutdown(), sqlite3_interrupt(),
         sqlite3_status(), sqlite3_db_status(), sqlite3_stmt_status(), 
         sqlite3_sql(), sqlite3_extended_errcode(), sqlite3_threadsafe(),
         sqlite3_memory_used(), sqlite3_memory_highwater(). 
      ! Fixed sqlite3_table_column_metadata().
      - Temporary disabled sqlite3_db_handle().
      * Minor changes, cleanup and formating. 
   + contrib/hbsqlit3/tests/authorizer.prg 
   + contrib/hbsqlit3/tests/backup.prg 
   + contrib/hbsqlit3/tests/hooks.prg 
      + Added for demonstration of new possibilities.
   + contrib/hbsqlit3/tests/metadata.prg 
      * Minor changes 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.c
    trunk/harbour/contrib/hbsqlit3/hbsqlit3.ch
    trunk/harbour/contrib/hbsqlit3/tests/metadata.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbsqlit3/tests/authorizer.prg
    trunk/harbour/contrib/hbsqlit3/tests/backup.prg
    trunk/harbour/contrib/hbsqlit3/tests/hooks.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar 30 04:28:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 04:28:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10729] trunk/harbour
In-Reply-To: <20090329225042.GA6040@uran.home.aster.pl>
References: <E1Lo2YP-0001h4-6W@d5vjzd1.ch3.sourceforge.com> 
	<20090329225042.GA6040@uran.home.aster.pl>
Message-ID: <609353e70903300128i4ec2a2f4je15bb276d063872d@mail.gmail.com>

Very good!

2009/3/30 Przemyslaw Czerpak <druzus@acn.waw.pl>:
> On Sun, 29 Mar 2009, vouchcac@users.sourceforge.net wrote:
>
> Hi,
>
>> ? ? ; REQUEST ( Przemek ) - Can you please provide a GTWVT.C like
>> ? ? ? ? ? ? ?skeleton .cpp which I could use as a base for GTQTC ?
>
> I'll try to make it in this week.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Mar 30 04:30:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 04:30:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10734] trunk/harbour
Message-ID: <E1LoCt5-0000EY-45@dn4whf1.ch3.sourceforge.com>

Revision: 10734
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10734&view=rev
Author:   vszakats
Date:     2009-03-30 08:30:30 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 10:27 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * utils/hbmk2/hbmk2.prg
    ! Don't attempt to strip leading 'lib' from libnames, since
      this breaks libs which actually begin with 'lib', not meant
      as a prefix. F.e. libpng, libhpdf, libjpeg.

  * contrib/hbqt/tests/hbqt.hbp
    + Added static QT libname as comment (for now).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/tests/hbqt.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar 30 04:42:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 04:42:57 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
Message-ID: <609353e70903300142h70d9a0edo22e587346ccd6703@mail.gmail.com>

Hi Pritpal
I have same Italian user that want route to the ready to use distribution
Is this last version?
are planed near update?

Have you made same progress regarding your old project of documentation?

Thanks in advance!


>
> On Wed, Mar 4, 2009 at 9:59 AM, Pritpal Bedi <bedipritpal@hotmail.com>
> wrote:
>>
>> WELCOME
>>
>> http://www.vouch.info/downloads/HarbourDev_10523_2009-03-04.exe
>>
>> This is Harbour's ready-to-use distibution
>> planned to be released once in a month including
>> the changes committed to SVN till the date of
>> release. This is not the rule. I may post
>> more than once in a month if there are major
>> commits and/or some important feature is
>> added/modified.
>>
>> This distro is aimed at newbies who find it
>> difficult to start with Harbour though everybody
>> can take advantage to the maximum.
>>
>> Please note that this is not an official release.
>> So you may expect bumps here-and-there. My
>> efforts will focus on the facts that release
>> maintain a standard to let the applns compile
>> properly.
>>
>> Every release will bear the "Revision No" and
>> "Date" in its setup name as -
>> HarbourDev_10523_2009-03-04.exe
>> which will facilitate to identify upto which
>> commit this release contain.
>>
>> The tree structure ( outlined below ) can be
>> used for production level development scenario.
>> It contains batch files to get Harbour binaries
>> from SVN tree for four compilers. As you can now
>> compile your applns with different compilers,
>> this enhances your productivity level to judge
>> which compiler is giving you the fastest and
>> optimum appln.
>>
>> To keep the tasks simple, I am assuming drive "C"
>> the development drive where Harbour SVN tree and
>> "harbour_dev" tree is hosted. All paths in the
>> batch files and xMate project files points to
>> c:\harbour and c:\harbour_dev.
>>
>> This distribution includes only binaries. Please
>> download SVN tree if you need sources or want to
>> play with the latest commits. It is not necessary
>> for your applications.
>>
>> In case you decide to have latest SVN binaries
>> then host it on drive C as module name "harbour".
>> Then invoke one of the makegnu_*.bat, depending
>> on the compiler of your choice. It will place
>> harbour binaries in respective subfolder of
>> "c:\harbour_dev".
>>
>> This distribution includes MINGW compiler under
>> c:\harbour_dev\mingw folder as its root. So
>> one is able to build appln for this compiler
>> without any extra effort. You can download other
>> compilers and place them in respective folders
>> in c:\harbour_dev, i.e., Borland's BCC under
>> c:\harbour_dev\bcc ( no suffix after bcc ), Sybase's
>> Open Watcom under c:\harbour_dev\watcom, Microsoft's
>> Visual C++ under c:\harbour_dev\msvc.
>> Once installed, just invole respective makegnu_*.bat.
>> Harbour binaries will be in place.
>>
>> As I has been working with xMate since its birth way
>> back in 2004, I have choosen it to be Project Builder
>> for this distribution. You are free to deploy
>> whatever you are accustomed to.
>>
>> As a demo appln I have selected
>> harbour/contrib/gtwvg/tests/demowvg.prg. This
>> demo unfolds Harbour power in depth plus different
>> ways one can employ to migrate his/her Clipper
>> applications to GUI world strating with
>> intermediatery semi GUI proto and culminating to
>> pure GUI proto. This demo also deploys the
>> in-development Xbase++ Parts clone whaich may
>> attract your attention. Moreoever, this demo
>> demonstrates MT ( multi-threading ) and multi-window
>> GT which can be a big productivity boost right
>> from the begining.
>>
>>
>> Following is the tree structure this disto contains.
>>
>>
>> c:\harbour_dev\
>>
>> ? harbour\
>> ? ? ?bcc\
>> ? ? ? ? bin
>> ? ? ? ? include
>> ? ? ? ? lib
>> ? ? ?msvc\
>> ? ? ? ? bin
>> ? ? ? ? include
>> ? ? ? ? lib
>> ? ? ?mingw\
>> ? ? ? ? bin
>> ? ? ? ? include
>> ? ? ? ? lib
>> ? ? ?watcom\
>> ? ? ? ? bin
>> ? ? ? ? include
>> ? ? ? ? lib
>>
>>
>> ? bcc\
>> ? ? ?* distro tree
>> ? msvc\
>> ? ? ?* tree
>> ? mingw\
>> ? ? ?* tree
>> ? watcom\
>> ? ? ?* tree
>>
>>
>>
>> ? xmate\
>> ? ? ?*.files | folders
>> ? ? ?/
>> ? ? ?wvgBCC.env ? ? ? ? ( tied with demowvgBCC.xhp )
>> ? ? ?wvgMSVC.env ? ? ? ?( tied with demowvgMSVC.xhp )
>> ? ? ?wvgMINGW.env ? ? ? ( tied with demowvgMINGW.xhp )
>> ? ? ?wvgWATCOM.env ? ? ?( tied with demowvgWATCOM.xhp )
>>
>>
>> ? dev_projects\
>> ? ? ?demowvg\
>> ? ? ? ? demowvgBCC.xhp
>> ? ? ? ? demowvgMSVC.xhp
>> ? ? ? ? demowvgMINGW.xhp
>> ? ? ? ? demowvgWATCOM.xhp
>>
>> ? ? ?demoxbp\
>> ? ? ? ? demoxbp.xhp
>> ? ? ? ? * folders
>> ? ? ?developers_own_folders\
>> ? ? ? ? developer_project.xhp
>>
>>
>>
>> ? dev_sources\
>> ? ? ?demowvg\
>> ? ? ? ? *.files
>> ? ? ?tests\
>> ? ? ? ? *.files
>>
>>
>> ? dev_libs\
>> ? ? ?# All together - it is a better design
>>
>>
>> ? dev_exes\
>> ? ? ?# All together of by project
>> ? ? ? ?May be it is dependant on other resource files
>>
>>
>>
>> ? ChangeLog ? ( Harbour SVN ChangeLog : Binaries Upto : Top Few Lines )
>>
>> ? make.exe ? ?( mingw32-make.exe )
>>
>> ? bcc32.cfg ? ( Bcc Compiler Confuration : bcc\bin )
>> ? tlink32.cfg ( BCC Linker Configuration : bcc\bin )
>> ? wlink.lnk ? ( Watcom Linker Configuration : watcom\binnt )
>>
>> ? [ invoke it to get latest Harbour SVN binaries ]
>> ? /
>> ? makegnu_BCC.bat
>> ? makegnu_MSVC.bat
>> ? makegnu_MINGW.bat
>> ? makegnu_WATCOM.bat
>>
>>
>> Enjoy
>>
>> Pritpal Bedi, a student of software analysis and design
>>
>> http://www.vouch.in ?| Vouch, the software that GROWS with you
>> http://www.vouch32.com ?| ?Home of Vouch32 ActiveX Server
>> http://www.vouchcac.com/vouch32/vouch32.htm ? | ? A Free Windows Extended
>> ? ? ? ? ? Utilities Library for Clipper, Xbase++ and (x)Harbour
>> http://www.help.vouch.info | Online Vouch Help
>> http://www.harbour.vouch.info | Online Harbour Help
>>
>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22326050.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar 30 04:43:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 04:43:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>
Message-ID: <18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>

Hi Massimo, please try again with latest rev.
--
Viktor

On Sun, Mar 29, 2009 at 12:43 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> I have tried compiling tests
>
> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib
> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> hbmk: Processing: hbhpdf.hbp
> Harbour 1.1.0dev (Rev. 10721)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'harupdf.prg'...
> Lines 2245, Functions/Procedures 18
> Generating C source output to 'harupdf.c'... Done.
> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
> cann
> t find -lhpdf
> collect2: ld returned 1 exit status
> hbmk: Error: Running C compiler. 1:
>
>
> 2009/3/29  <vszakats@users.sourceforge.net>:
> > Revision: 10721
> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10721&view=rev
> > Author:   vszakats
> > Date:     2009-03-29 09:09:24 +0000 (Sun, 29 Mar 2009)
> >
> > Log Message:
> > -----------
> > 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> >  * INSTALL
> >  * external/Makefile
> >  + external/libhpdf/*
> >  + external/libpng/*
> >    + Added libharu and libpng to Harbour repository.
> >      Now it's possible to use libhpdf as static lib on all
> >      platforms. This is useful because this lib isn't yet part
> >      of Linux distros.
> >      libpng is only built for win/dos/os2 platforms.
> >      It's possible to override libpng location by using
> >      HB_INC_LIBPNG envvar.
> >
> >  * contrib/hbhpdf/Makefile
> >    + Look for libharu headers in /external dir.
> >
> >  * external/sqlite3/Makefile
> >    - Disabled for bcc. Latest sqlite3 version breaks with this compiler:
> >      ---
> >      Error E2293 ../../sqlite3.c 29156: ) expected in function
> winCurrentTime
> >      Warning W8013 ../../sqlite3.c 29157: Possible use of 'timeW' before
> definition in function winCurrentTime
> >      Error E2379 ../../sqlite3.c 29157: Statement missing ; in function
> winCurrentTime
> >      Error E2379 ../../sqlite3.c 29158: Statement missing ; in function
> winCurrentTime
> >      Error E2379 ../../sqlite3.c 29160: Statement missing ; in function
> winCurrentTime
> >      Error E2293 ../../sqlite3.c 29161: ) expected in function
> winCurrentTime
> >      Error E2379 ../../sqlite3.c 29162: Statement missing ; in function
> winCurrentTime
> >      Error E2293 ../../sqlite3.c 29163: ) expected in function
> winCurrentTime
> >      Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never used
> in function winCurrentTime
> >      *** 7 errors in Compile ***
> >      ---
> >      bcc users can report this problem here:
> >      http://www.sqlite.org/cvstrac/tktnew
> >
> >  + tests/bnch_win.bat
> >  - tests/bnchmark
> >    * Moved bnch_win.bat to tests.
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >    trunk/harbour/INSTALL
> >    trunk/harbour/contrib/hbhpdf/Makefile
> >    trunk/harbour/external/Makefile
> >    trunk/harbour/external/sqlite3/Makefile
> >
> > Added Paths:
> > -----------
> >    trunk/harbour/external/libhpdf/
> >    trunk/harbour/external/libhpdf/Makefile
> >    trunk/harbour/external/libhpdf/README
> >    trunk/harbour/external/libhpdf/hpdf.h
> >    trunk/harbour/external/libhpdf/hpdf_annotation.c
> >    trunk/harbour/external/libhpdf/hpdf_annotation.h
> >    trunk/harbour/external/libhpdf/hpdf_array.c
> >    trunk/harbour/external/libhpdf/hpdf_binary.c
> >    trunk/harbour/external/libhpdf/hpdf_boolean.c
> >    trunk/harbour/external/libhpdf/hpdf_catalog.c
> >    trunk/harbour/external/libhpdf/hpdf_catalog.h
> >    trunk/harbour/external/libhpdf/hpdf_conf.h
> >    trunk/harbour/external/libhpdf/hpdf_config.h
> >    trunk/harbour/external/libhpdf/hpdf_consts.h
> >    trunk/harbour/external/libhpdf/hpdf_destination.c
> >    trunk/harbour/external/libhpdf/hpdf_destination.h
> >    trunk/harbour/external/libhpdf/hpdf_dict.c
> >    trunk/harbour/external/libhpdf/hpdf_doc.c
> >    trunk/harbour/external/libhpdf/hpdf_doc.h
> >    trunk/harbour/external/libhpdf/hpdf_doc_png.c
> >    trunk/harbour/external/libhpdf/hpdf_encoder.c
> >    trunk/harbour/external/libhpdf/hpdf_encoder.h
> >    trunk/harbour/external/libhpdf/hpdf_encoder_cns.c
> >    trunk/harbour/external/libhpdf/hpdf_encoder_cnt.c
> >    trunk/harbour/external/libhpdf/hpdf_encoder_jp.c
> >    trunk/harbour/external/libhpdf/hpdf_encoder_kr.c
> >    trunk/harbour/external/libhpdf/hpdf_encrypt.c
> >    trunk/harbour/external/libhpdf/hpdf_encrypt.h
> >    trunk/harbour/external/libhpdf/hpdf_encryptdict.c
> >    trunk/harbour/external/libhpdf/hpdf_encryptdict.h
> >    trunk/harbour/external/libhpdf/hpdf_error.c
> >    trunk/harbour/external/libhpdf/hpdf_error.h
> >    trunk/harbour/external/libhpdf/hpdf_ext_gstate.c
> >    trunk/harbour/external/libhpdf/hpdf_ext_gstate.h
> >    trunk/harbour/external/libhpdf/hpdf_font.c
> >    trunk/harbour/external/libhpdf/hpdf_font.h
> >    trunk/harbour/external/libhpdf/hpdf_font_cid.c
> >    trunk/harbour/external/libhpdf/hpdf_font_tt.c
> >    trunk/harbour/external/libhpdf/hpdf_font_type1.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef.h
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_base14.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_cid.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_cns.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_cnt.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_jp.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_kr.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_tt.c
> >    trunk/harbour/external/libhpdf/hpdf_fontdef_type1.c
> >    trunk/harbour/external/libhpdf/hpdf_gstate.c
> >    trunk/harbour/external/libhpdf/hpdf_gstate.h
> >    trunk/harbour/external/libhpdf/hpdf_image.c
> >    trunk/harbour/external/libhpdf/hpdf_image.h
> >    trunk/harbour/external/libhpdf/hpdf_image_png.c
> >    trunk/harbour/external/libhpdf/hpdf_info.c
> >    trunk/harbour/external/libhpdf/hpdf_info.h
> >    trunk/harbour/external/libhpdf/hpdf_list.c
> >    trunk/harbour/external/libhpdf/hpdf_list.h
> >    trunk/harbour/external/libhpdf/hpdf_mmgr.c
> >    trunk/harbour/external/libhpdf/hpdf_mmgr.h
> >    trunk/harbour/external/libhpdf/hpdf_name.c
> >    trunk/harbour/external/libhpdf/hpdf_null.c
> >    trunk/harbour/external/libhpdf/hpdf_number.c
> >    trunk/harbour/external/libhpdf/hpdf_objects.c
> >    trunk/harbour/external/libhpdf/hpdf_objects.h
> >    trunk/harbour/external/libhpdf/hpdf_outline.c
> >    trunk/harbour/external/libhpdf/hpdf_outline.h
> >    trunk/harbour/external/libhpdf/hpdf_page_label.c
> >    trunk/harbour/external/libhpdf/hpdf_page_label.h
> >    trunk/harbour/external/libhpdf/hpdf_page_operator.c
> >    trunk/harbour/external/libhpdf/hpdf_pages.c
> >    trunk/harbour/external/libhpdf/hpdf_pages.h
> >    trunk/harbour/external/libhpdf/hpdf_real.c
> >    trunk/harbour/external/libhpdf/hpdf_streams.c
> >    trunk/harbour/external/libhpdf/hpdf_streams.h
> >    trunk/harbour/external/libhpdf/hpdf_string.c
> >    trunk/harbour/external/libhpdf/hpdf_types.h
> >    trunk/harbour/external/libhpdf/hpdf_u3d.c
> >    trunk/harbour/external/libhpdf/hpdf_u3d.h
> >    trunk/harbour/external/libhpdf/hpdf_utils.c
> >    trunk/harbour/external/libhpdf/hpdf_utils.h
> >    trunk/harbour/external/libhpdf/hpdf_version.h
> >    trunk/harbour/external/libhpdf/hpdf_xref.c
> >    trunk/harbour/external/libhpdf/link.txt
> >    trunk/harbour/external/libpng/
> >    trunk/harbour/external/libpng/LICENSE
> >    trunk/harbour/external/libpng/Makefile
> >    trunk/harbour/external/libpng/link.txt
> >    trunk/harbour/external/libpng/png.c
> >    trunk/harbour/external/libpng/png.h
> >    trunk/harbour/external/libpng/pngconf.h
> >    trunk/harbour/external/libpng/pngerror.c
> >    trunk/harbour/external/libpng/pnggccrd.c
> >    trunk/harbour/external/libpng/pngget.c
> >    trunk/harbour/external/libpng/pngmem.c
> >    trunk/harbour/external/libpng/pngpread.c
> >    trunk/harbour/external/libpng/pngread.c
> >    trunk/harbour/external/libpng/pngrio.c
> >    trunk/harbour/external/libpng/pngrtran.c
> >    trunk/harbour/external/libpng/pngrutil.c
> >    trunk/harbour/external/libpng/pngset.c
> >    trunk/harbour/external/libpng/pngtest.c
> >    trunk/harbour/external/libpng/pngtrans.c
> >    trunk/harbour/external/libpng/pngvcrd.c
> >    trunk/harbour/external/libpng/pngwio.c
> >    trunk/harbour/external/libpng/pngwrite.c
> >    trunk/harbour/external/libpng/pngwtran.c
> >    trunk/harbour/external/libpng/pngwutil.c
> >    trunk/harbour/tests/bnch_win.bat
> >
> > Removed Paths:
> > -------------
> >    trunk/harbour/tests/bnchmark/http://lists.harbour-project.
> org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/99d8c0d2/attachment.html
From info at fsgiudice.com  Mon Mar 30 04:52:09 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 30 04:52:49 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724]
In-Reply-To: <18d502870903300110s53c285cega6ad626d69fba74c@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC142@Mail-yoq.SYNEL-COMPANY.LTD>	<49D070D1.8030307@fsgiudice.com>	<18d502870903300019l22b5656epe71cdc0f4919c73b@mail.gmail.com>	<49D075A5.3070008@fsgiudice.com>	<18d502870903300043r57934a09gc8b8d60b549fbc6f@mail.gmail.com>	<49D07BFF.8060008@fsgiudice.com>
	<18d502870903300110s53c285cega6ad626d69fba74c@mail.gmail.com>
Message-ID: <49D08839.1020401@fsgiudice.com>

Hi Viktor,
try my systemwatch executable I sent to you privately.

Best regards,
Francesco

Il 30/03/2009 10.10, Viktor Szak?ts ha scritto:
> You must be right, if you have code I can try on Windows XP x64 as I have a 
> legal copy running in a VM here.
> 
> I've found this one:
> http://www.codeguru.com/cpp/w-p/system/systeminformation/article.php/c8973__2/
> [ but it seem to have forgotten about XP x64 ]
> 
> --
> Viktor
> 
> On Mon, Mar 30, 2009 at 9:59 AM, Francesco Saverio Giudice 
> <info@fsgiudice.com <mailto:info@fsgiudice.com>> wrote:
> 
>     Viktor,
> 
>     Il 30/03/2009 9.43, Viktor Szak?ts ha scritto:
> 
>         Both returns 5.2, and I didn't bother to do any above heavy lifting.
> 
>         Most of these version details is probably unnecessary for
>         Harbour, but XP x64 and Server 2003 detection would be useful.
> 
>         Although this code from below:
>         ---
>          else if( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 &&
>                         osvi.wProductType == VER_NT_WORKSTATION )
>                {
>                   strcat( szResult, "Microsoft Windows XP Professional
>         x64 Edition " );
>                }
>         ---
> 
>         looks a bit suspicious to me as it checks for IA64 to detect
>         x64? Could be correct seeing the mess around Windows version
>         though ;)
> 
> 
>     I get code from MS Win SDK plus added unsupported versions (9x, etc).
>     You can check it at:
>     ms-help://MS.LHSMSSDK.1033/MS.LHSWinSDK.1033/sysinfo/base/getting_the_system_version.htm
> 
>     Best regards,
>     Francesco
> 
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> 
> -- 
> Viktor
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Mon Mar 30 05:09:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 05:09:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com> 
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com> 
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>
Message-ID: <609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com>

done

c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib
hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
hbmk: Processing: hbhpdf.hbp
Harbour 1.1.0dev (Rev. 10734)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'harupdf.prg'...
Lines 2245, Functions/Procedures 18
Generating C source output to 'harupdf.c'... Done.
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x13
): undefined reference to `png_get_io_ptr'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x8d
): undefined reference to `png_get_error_ptr'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xf0
): undefined reference to `png_get_PLTE'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x26
0): undefined reference to `png_create_read_struct'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x27
4): undefined reference to `png_create_info_struct'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x29
8): undefined reference to `png_set_sig_bytes'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x2b
8): undefined reference to `png_set_read_fn'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x2c
f): undefined reference to `png_read_info'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x2f
d): undefined reference to `png_read_update_info'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x3e
a): undefined reference to `png_destroy_read_struct'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x43
6): undefined reference to `png_get_valid'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x47
1): undefined reference to `png_get_tRNS'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x5f
e): undefined reference to `png_get_rowbytes'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x66
8): undefined reference to `png_set_strip_16'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x7c
f): undefined reference to `png_get_color_type'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x81
b): undefined reference to `png_get_interlace_type'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x83
a): undefined reference to `png_get_rowbytes'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x88
1): undefined reference to `png_read_rows'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x92
5): undefined reference to `png_destroy_read_struct'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x95
3): undefined reference to `png_get_rowbytes'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xa2
7): undefined reference to `png_read_image'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xab
1): undefined reference to `png_get_rowbytes'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xaf
0): undefined reference to `png_read_image'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xd5
2): undefined reference to `png_read_image'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x10
56): undefined reference to `png_sig_cmp'
c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x12
28): undefined reference to `png_sig_cmp'
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 1:
gcc.exe harupdf.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_p3ene1.c    -O3  -oh
arupdf.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -mconsole -Wl,--sta
rt-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusr
rdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl -lhbp
p -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbpcre
-lhbzlib -lhbhpdf -llibhpdf -lhbct -lhbhpdf -luser32 -lgdi32 -ladvapi32 -lws2_32
 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luuid -lmpr -lwi
nmm -lmapi32 -limm32 -lmsimg32 -Wl,--end-group


2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Massimo, please try again with latest rev.
> --
> Viktor
>
> On Sun, Mar 29, 2009 at 12:43 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> I have tried compiling tests
>>
>> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib
>> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
>> hbmk: Processing: hbhpdf.hbp
>> Harbour 1.1.0dev (Rev. 10721)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'harupdf.prg'...
>> Lines 2245, Functions/Procedures 18
>> Generating C source output to 'harupdf.c'... Done.
>> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
>> cann
>> t find -lhpdf
>> collect2: ld returned 1 exit status
>> hbmk: Error: Running C compiler. 1:
>>
>>
>> 2009/3/29 ?<vszakats@users.sourceforge.net>:
>> > Revision: 10721
>> >
>> > ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10721&view=rev
>> > Author: ? vszakats
>> > Date: ? ? 2009-03-29 09:09:24 +0000 (Sun, 29 Mar 2009)
>> >
>> > Log Message:
>> > -----------
>> > 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>> > ?* INSTALL
>> > ?* external/Makefile
>> > ?+ external/libhpdf/*
>> > ?+ external/libpng/*
>> > ? ?+ Added libharu and libpng to Harbour repository.
>> > ? ? ?Now it's possible to use libhpdf as static lib on all
>> > ? ? ?platforms. This is useful because this lib isn't yet part
>> > ? ? ?of Linux distros.
>> > ? ? ?libpng is only built for win/dos/os2 platforms.
>> > ? ? ?It's possible to override libpng location by using
>> > ? ? ?HB_INC_LIBPNG envvar.
>> >
>> > ?* contrib/hbhpdf/Makefile
>> > ? ?+ Look for libharu headers in /external dir.
>> >
>> > ?* external/sqlite3/Makefile
>> > ? ?- Disabled for bcc. Latest sqlite3 version breaks with this compiler:
>> > ? ? ?---
>> > ? ? ?Error E2293 ../../sqlite3.c 29156: ) expected in function
>> > winCurrentTime
>> > ? ? ?Warning W8013 ../../sqlite3.c 29157: Possible use of 'timeW' before
>> > definition in function winCurrentTime
>> > ? ? ?Error E2379 ../../sqlite3.c 29157: Statement missing ; in function
>> > winCurrentTime
>> > ? ? ?Error E2379 ../../sqlite3.c 29158: Statement missing ; in function
>> > winCurrentTime
>> > ? ? ?Error E2379 ../../sqlite3.c 29160: Statement missing ; in function
>> > winCurrentTime
>> > ? ? ?Error E2293 ../../sqlite3.c 29161: ) expected in function
>> > winCurrentTime
>> > ? ? ?Error E2379 ../../sqlite3.c 29162: Statement missing ; in function
>> > winCurrentTime
>> > ? ? ?Error E2293 ../../sqlite3.c 29163: ) expected in function
>> > winCurrentTime
>> > ? ? ?Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never
>> > used in function winCurrentTime
>> > ? ? ?*** 7 errors in Compile ***
>> > ? ? ?---
>> > ? ? ?bcc users can report this problem here:
>> > ? ? ?http://www.sqlite.org/cvstrac/tktnew
>> >
>> > ?+ tests/bnch_win.bat
>> > ?- tests/bnchmark
>> > ? ?* Moved bnch_win.bat to tests.
>> >
>> > Modified Paths:
>> > --------------
>> > ? ?trunk/harbour/ChangeLog
>> > ? ?trunk/harbour/INSTALL
>> > ? ?trunk/harbour/contrib/hbhpdf/Makefile
>> > ? ?trunk/harbour/external/Makefile
>> > ? ?trunk/harbour/external/sqlite3/Makefile
>> >
>> > Added Paths:
>> > -----------
>> > ? ?trunk/harbour/external/libhpdf/
>> > ? ?trunk/harbour/external/libhpdf/Makefile
>> > ? ?trunk/harbour/external/libhpdf/README
>> > ? ?trunk/harbour/external/libhpdf/hpdf.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_annotation.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_annotation.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_array.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_binary.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_boolean.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_catalog.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_catalog.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_conf.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_config.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_consts.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_destination.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_destination.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_dict.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_doc.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_doc.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_doc_png.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encoder.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encoder.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encoder_cns.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encoder_cnt.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encoder_jp.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encoder_kr.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encrypt.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encrypt.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encryptdict.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_encryptdict.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_error.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_error.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_ext_gstate.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_ext_gstate.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_font.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_font.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_font_cid.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_font_tt.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_font_type1.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_base14.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_cid.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_cns.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_cnt.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_jp.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_kr.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_tt.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_fontdef_type1.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_gstate.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_gstate.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_image.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_image.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_image_png.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_info.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_info.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_list.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_list.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_mmgr.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_mmgr.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_name.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_null.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_number.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_objects.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_objects.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_outline.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_outline.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_page_label.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_page_label.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_page_operator.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_pages.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_pages.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_real.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_streams.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_streams.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_string.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_types.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_u3d.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_u3d.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_utils.c
>> > ? ?trunk/harbour/external/libhpdf/hpdf_utils.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_version.h
>> > ? ?trunk/harbour/external/libhpdf/hpdf_xref.c
>> > ? ?trunk/harbour/external/libhpdf/link.txt
>> > ? ?trunk/harbour/external/libpng/
>> > ? ?trunk/harbour/external/libpng/LICENSE
>> > ? ?trunk/harbour/external/libpng/Makefile
>> > ? ?trunk/harbour/external/libpng/link.txt
>> > ? ?trunk/harbour/external/libpng/png.c
>> > ? ?trunk/harbour/external/libpng/png.h
>> > ? ?trunk/harbour/external/libpng/pngconf.h
>> > ? ?trunk/harbour/external/libpng/pngerror.c
>> > ? ?trunk/harbour/external/libpng/pnggccrd.c
>> > ? ?trunk/harbour/external/libpng/pngget.c
>> > ? ?trunk/harbour/external/libpng/pngmem.c
>> > ? ?trunk/harbour/external/libpng/pngpread.c
>> > ? ?trunk/harbour/external/libpng/pngread.c
>> > ? ?trunk/harbour/external/libpng/pngrio.c
>> > ? ?trunk/harbour/external/libpng/pngrtran.c
>> > ? ?trunk/harbour/external/libpng/pngrutil.c
>> > ? ?trunk/harbour/external/libpng/pngset.c
>> > ? ?trunk/harbour/external/libpng/pngtest.c
>> > ? ?trunk/harbour/external/libpng/pngtrans.c
>> > ? ?trunk/harbour/external/libpng/pngvcrd.c
>> > ? ?trunk/harbour/external/libpng/pngwio.c
>> > ? ?trunk/harbour/external/libpng/pngwrite.c
>> > ? ?trunk/harbour/external/libpng/pngwtran.c
>> > ? ?trunk/harbour/external/libpng/pngwutil.c
>> > ? ?trunk/harbour/tests/bnch_win.bat
>> >
>> > Removed Paths:
>> > -------------
>> >
>> > ?trunk/harbour/tests/bnchmark/http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From vszakats at users.sourceforge.net  Mon Mar 30 05:12:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 05:13:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10735] trunk/harbour
Message-ID: <E1LoDYA-0000uB-7R@3kljzd1.ch3.sourceforge.com>

Revision: 10735
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10735&view=rev
Author:   vszakats
Date:     2009-03-30 09:12:57 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 11:12 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * external/libhpdf/Makefile
    - Disabled for owatcom due to compilation error.
      If someone is interested in patching it for this compiler,
      please do.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/libhpdf/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 05:13:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 05:13:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>
	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com>
Message-ID: <18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com>

yes, please add libpng also to the liblist.
--
Viktor

On Mon, Mar 30, 2009 at 11:09 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> done
>
> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib
> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> hbmk: Processing: hbhpdf.hbp
> Harbour 1.1.0dev (Rev. 10734)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'harupdf.prg'...
> Lines 2245, Functions/Procedures 18
> Generating C source output to 'harupdf.c'... Done.
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x13
> ): undefined reference to `png_get_io_ptr'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x8d
> ): undefined reference to `png_get_error_ptr'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xf0
> ): undefined reference to `png_get_PLTE'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x26
> 0): undefined reference to `png_create_read_struct'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x27
> 4): undefined reference to `png_create_info_struct'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x29
> 8): undefined reference to `png_set_sig_bytes'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x2b
> 8): undefined reference to `png_set_read_fn'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x2c
> f): undefined reference to `png_read_info'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x2f
> d): undefined reference to `png_read_update_info'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x3e
> a): undefined reference to `png_destroy_read_struct'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x43
> 6): undefined reference to `png_get_valid'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x47
> 1): undefined reference to `png_get_tRNS'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x5f
> e): undefined reference to `png_get_rowbytes'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x66
> 8): undefined reference to `png_set_strip_16'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x7c
> f): undefined reference to `png_get_color_type'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x81
> b): undefined reference to `png_get_interlace_type'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x83
> a): undefined reference to `png_get_rowbytes'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x88
> 1): undefined reference to `png_read_rows'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x92
> 5): undefined reference to `png_destroy_read_struct'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x95
> 3): undefined reference to `png_get_rowbytes'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xa2
> 7): undefined reference to `png_read_image'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xab
> 1): undefined reference to `png_get_rowbytes'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xaf
> 0): undefined reference to `png_read_image'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0xd5
> 2): undefined reference to `png_read_image'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x10
> 56): undefined reference to `png_sig_cmp'
>
> c:/harbour/mingw/lib/liblibhpdf.a(hpdf_image_png.o):hpdf_image_png.c:(.text+0x12
> 28): undefined reference to `png_sig_cmp'
> collect2: ld returned 1 exit status
> hbmk: Error: Running C compiler. 1:
> gcc.exe harupdf.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_p3ene1.c    -O3
>  -oh
> arupdf.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -mconsole
> -Wl,--sta
> rt-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd
> -lhbusr
> rdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl
> -lhbp
> p -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui
> -lhbpcre
> -lhbzlib -lhbhpdf -llibhpdf -lhbct -lhbhpdf -luser32 -lgdi32 -ladvapi32
> -lws2_32
>  -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luuid -lmpr
> -lwi
> nmm -lmapi32 -limm32 -lmsimg32 -Wl,--end-group
>
>
> 2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi Massimo, please try again with latest rev.
> > --
> > Viktor
> >
> > On Sun, Mar 29, 2009 at 12:43 PM, Massimo Belgrano <mbelgrano@deltain.it
> >
> > wrote:
> >>
> >> I have tried compiling tests
> >>
> >> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib
> >> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> >> hbmk: Processing: hbhpdf.hbp
> >> Harbour 1.1.0dev (Rev. 10721)
> >> Copyright (c) 1999-2009, http://www.harbour-project.org/
> >> Compiling 'harupdf.prg'...
> >> Lines 2245, Functions/Procedures 18
> >> Generating C source output to 'harupdf.c'... Done.
> >>
> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
> >> cann
> >> t find -lhpdf
> >> collect2: ld returned 1 exit status
> >> hbmk: Error: Running C compiler. 1:
> >>
> >>
> >> 2009/3/29  <vszakats@users.sourceforge.net>:
> >> > Revision: 10721
> >> >
> >> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10721&view=rev
> >> > Author:   vszakats
> >> > Date:     2009-03-29 09:09:24 +0000 (Sun, 29 Mar 2009)
> >> >
> >> > Log Message:
> >> > -----------
> >> > 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> >> >  * INSTALL
> >> >  * external/Makefile
> >> >  + external/libhpdf/*
> >> >  + external/libpng/*
> >> >    + Added libharu and libpng to Harbour repository.
> >> >      Now it's possible to use libhpdf as static lib on all
> >> >      platforms. This is useful because this lib isn't yet part
> >> >      of Linux distros.
> >> >      libpng is only built for win/dos/os2 platforms.
> >> >      It's possible to override libpng location by using
> >> >      HB_INC_LIBPNG envvar.
> >> >
> >> >  * contrib/hbhpdf/Makefile
> >> >    + Look for libharu headers in /external dir.
> >> >
> >> >  * external/sqlite3/Makefile
> >> >    - Disabled for bcc. Latest sqlite3 version breaks with this
> compiler:
> >> >      ---
> >> >      Error E2293 ../../sqlite3.c 29156: ) expected in function
> >> > winCurrentTime
> >> >      Warning W8013 ../../sqlite3.c 29157: Possible use of 'timeW'
> before
> >> > definition in function winCurrentTime
> >> >      Error E2379 ../../sqlite3.c 29157: Statement missing ; in
> function
> >> > winCurrentTime
> >> >      Error E2379 ../../sqlite3.c 29158: Statement missing ; in
> function
> >> > winCurrentTime
> >> >      Error E2379 ../../sqlite3.c 29160: Statement missing ; in
> function
> >> > winCurrentTime
> >> >      Error E2293 ../../sqlite3.c 29161: ) expected in function
> >> > winCurrentTime
> >> >      Error E2379 ../../sqlite3.c 29162: Statement missing ; in
> function
> >> > winCurrentTime
> >> >      Error E2293 ../../sqlite3.c 29163: ) expected in function
> >> > winCurrentTime
> >> >      Warning W8057 ../../sqlite3.c 29171: Parameter 'prNow' is never
> >> > used in function winCurrentTime
> >> >      *** 7 errors in Compile ***
> >> >      ---
> >> >      bcc users can report this problem here:
> >> >      http://www.sqlite.org/cvstrac/tktnew
> >> >
> >> >  + tests/bnch_win.bat
> >> >  - tests/bnchmark
> >> >    * Moved bnch_win.bat to tests.
> >> >
> >> > Modified Paths:
> >> > --------------
> >> >    trunk/harbour/ChangeLog
> >> >    trunk/harbour/INSTALL
> >> >    trunk/harbour/contrib/hbhpdf/Makefile
> >> >    trunk/harbour/external/Makefile
> >> >    trunk/harbour/external/sqlite3/Makefile
> >> >
> >> > Added Paths:
> >> > -----------
> >> >    trunk/harbour/external/libhpdf/
> >> >    trunk/harbour/external/libhpdf/Makefile
> >> >    trunk/harbour/external/libhpdf/README
> >> >    trunk/harbour/external/libhpdf/hpdf.h
> >> >    trunk/harbour/external/libhpdf/hpdf_annotation.c
> >> >    trunk/harbour/external/libhpdf/hpdf_annotation.h
> >> >    trunk/harbour/external/libhpdf/hpdf_array.c
> >> >    trunk/harbour/external/libhpdf/hpdf_binary.c
> >> >    trunk/harbour/external/libhpdf/hpdf_boolean.c
> >> >    trunk/harbour/external/libhpdf/hpdf_catalog.c
> >> >    trunk/harbour/external/libhpdf/hpdf_catalog.h
> >> >    trunk/harbour/external/libhpdf/hpdf_conf.h
> >> >    trunk/harbour/external/libhpdf/hpdf_config.h
> >> >    trunk/harbour/external/libhpdf/hpdf_consts.h
> >> >    trunk/harbour/external/libhpdf/hpdf_destination.c
> >> >    trunk/harbour/external/libhpdf/hpdf_destination.h
> >> >    trunk/harbour/external/libhpdf/hpdf_dict.c
> >> >    trunk/harbour/external/libhpdf/hpdf_doc.c
> >> >    trunk/harbour/external/libhpdf/hpdf_doc.h
> >> >    trunk/harbour/external/libhpdf/hpdf_doc_png.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encoder.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encoder.h
> >> >    trunk/harbour/external/libhpdf/hpdf_encoder_cns.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encoder_cnt.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encoder_jp.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encoder_kr.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encrypt.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encrypt.h
> >> >    trunk/harbour/external/libhpdf/hpdf_encryptdict.c
> >> >    trunk/harbour/external/libhpdf/hpdf_encryptdict.h
> >> >    trunk/harbour/external/libhpdf/hpdf_error.c
> >> >    trunk/harbour/external/libhpdf/hpdf_error.h
> >> >    trunk/harbour/external/libhpdf/hpdf_ext_gstate.c
> >> >    trunk/harbour/external/libhpdf/hpdf_ext_gstate.h
> >> >    trunk/harbour/external/libhpdf/hpdf_font.c
> >> >    trunk/harbour/external/libhpdf/hpdf_font.h
> >> >    trunk/harbour/external/libhpdf/hpdf_font_cid.c
> >> >    trunk/harbour/external/libhpdf/hpdf_font_tt.c
> >> >    trunk/harbour/external/libhpdf/hpdf_font_type1.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef.h
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_base14.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_cid.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_cns.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_cnt.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_jp.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_kr.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_tt.c
> >> >    trunk/harbour/external/libhpdf/hpdf_fontdef_type1.c
> >> >    trunk/harbour/external/libhpdf/hpdf_gstate.c
> >> >    trunk/harbour/external/libhpdf/hpdf_gstate.h
> >> >    trunk/harbour/external/libhpdf/hpdf_image.c
> >> >    trunk/harbour/external/libhpdf/hpdf_image.h
> >> >    trunk/harbour/external/libhpdf/hpdf_image_png.c
> >> >    trunk/harbour/external/libhpdf/hpdf_info.c
> >> >    trunk/harbour/external/libhpdf/hpdf_info.h
> >> >    trunk/harbour/external/libhpdf/hpdf_list.c
> >> >    trunk/harbour/external/libhpdf/hpdf_list.h
> >> >    trunk/harbour/external/libhpdf/hpdf_mmgr.c
> >> >    trunk/harbour/external/libhpdf/hpdf_mmgr.h
> >> >    trunk/harbour/external/libhpdf/hpdf_name.c
> >> >    trunk/harbour/external/libhpdf/hpdf_null.c
> >> >    trunk/harbour/external/libhpdf/hpdf_number.c
> >> >    trunk/harbour/external/libhpdf/hpdf_objects.c
> >> >    trunk/harbour/external/libhpdf/hpdf_objects.h
> >> >    trunk/harbour/external/libhpdf/hpdf_outline.c
> >> >    trunk/harbour/external/libhpdf/hpdf_outline.h
> >> >    trunk/harbour/external/libhpdf/hpdf_page_label.c
> >> >    trunk/harbour/external/libhpdf/hpdf_page_label.h
> >> >    trunk/harbour/external/libhpdf/hpdf_page_operator.c
> >> >    trunk/harbour/external/libhpdf/hpdf_pages.c
> >> >    trunk/harbour/external/libhpdf/hpdf_pages.h
> >> >    trunk/harbour/external/libhpdf/hpdf_real.c
> >> >    trunk/harbour/external/libhpdf/hpdf_streams.c
> >> >    trunk/harbour/external/libhpdf/hpdf_streams.h
> >> >    trunk/harbour/external/libhpdf/hpdf_string.c
> >> >    trunk/harbour/external/libhpdf/hpdf_types.h
> >> >    trunk/harbour/external/libhpdf/hpdf_u3d.c
> >> >    trunk/harbour/external/libhpdf/hpdf_u3d.h
> >> >    trunk/harbour/external/libhpdf/hpdf_utils.c
> >> >    trunk/harbour/external/libhpdf/hpdf_utils.h
> >> >    trunk/harbour/external/libhpdf/hpdf_version.h
> >> >    trunk/harbour/external/libhpdf/hpdf_xref.c
> >> >    trunk/harbour/external/libhpdf/link.txt
> >> >    trunk/harbour/external/libpng/
> >> >    trunk/harbour/external/libpng/LICENSE
> >> >    trunk/harbour/external/libpng/Makefile
> >> >    trunk/harbour/external/libpng/link.txt
> >> >    trunk/harbour/external/libpng/png.c
> >> >    trunk/harbour/external/libpng/png.h
> >> >    trunk/harbour/external/libpng/pngconf.h
> >> >    trunk/harbour/external/libpng/pngerror.c
> >> >    trunk/harbour/external/libpng/pnggccrd.c
> >> >    trunk/harbour/external/libpng/pngget.c
> >> >    trunk/harbour/external/libpng/pngmem.c
> >> >    trunk/harbour/external/libpng/pngpread.c
> >> >    trunk/harbour/external/libpng/pngread.c
> >> >    trunk/harbour/external/libpng/pngrio.c
> >> >    trunk/harbour/external/libpng/pngrtran.c
> >> >    trunk/harbour/external/libpng/pngrutil.c
> >> >    trunk/harbour/external/libpng/pngset.c
> >> >    trunk/harbour/external/libpng/pngtest.c
> >> >    trunk/harbour/external/libpng/pngtrans.c
> >> >    trunk/harbour/external/libpng/pngvcrd.c
> >> >    trunk/harbour/external/libpng/pngwio.c
> >> >    trunk/harbour/external/libpng/pngwrite.c
> >> >    trunk/harbour/external/libpng/pngwtran.c
> >> >    trunk/harbour/external/libpng/pngwutil.c
> >> >    trunk/harbour/tests/bnch_win.bat
> >> >
> >> > Removed Paths:
> >> > -------------
> >> >
> >> >  trunk/harbour/tests/bnchmark/
> http://lists.harbour-project.org/mailman/listinfo/harbou<http://lists.harbour-project.org/mailman/listinfo/harbour>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/deaa00e5/attachment-0001.html
From mbelgrano at deltain.it  Mon Mar 30 05:18:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 05:18:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com> 
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com> 
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com> 
	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com> 
	<18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com>
Message-ID: <609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com>

c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib hblibpng.lib
hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
hbmk: Processing: hbhpdf.hbp
Harbour 1.1.0dev (Rev. 10734)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'harupdf.prg'...
Lines 2245, Functions/Procedures 18
Generating C source output to 'harupdf.c'... Done.
C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: canno
t find -lhblibpng
collect2: ld returned 1 exit status
hbmk: Error: Running C compiler. 1:
gcc.exe harupdf.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_rmoy10.c    -O3  -oh
arupdf.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -mconsole -Wl,--sta
rt-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusr
rdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl -lhbp
p -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbpcre
-lhbzlib -lhbhpdf -llibhpdf -lhbct -lhbhpdf -lhblibpng -luser32 -lgdi32 -ladvapi
32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luuid
 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -Wl,--end-group

2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> yes, please add libpng also to the liblist.
> --
>


-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Mar 30 05:21:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 05:21:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10736] trunk/harbour
Message-ID: <E1LoDgn-00014u-PI@3kljzd1.ch3.sourceforge.com>

Revision: 10736
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10736&view=rev
Author:   vszakats
Date:     2009-03-30 09:21:52 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 11:21 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbqt/Makefile
    - Disabled for owatcom due to compilation error.

  * contrib/hbhpdf/tests/hbhpdf.hbp
    + Added libpng.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbhpdf/tests/hbhpdf.hbp
    trunk/harbour/contrib/hbqt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 05:22:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 05:22:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>
	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com>
	<18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com>
	<609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com>
Message-ID: <18d502870903300222scd0fb97i3f8c5642b3ec9d55@mail.gmail.com>

you've added hblibpng, not libpng.
--
Viktor

On Mon, Mar 30, 2009 at 11:18 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib hblibpng.lib
> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> hbmk: Processing: hbhpdf.hbp
> Harbour 1.1.0dev (Rev. 10734)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'harupdf.prg'...
> Lines 2245, Functions/Procedures 18
> Generating C source output to 'harupdf.c'... Done.
> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
> canno
> t find -lhblibpng
> collect2: ld returned 1 exit status
> hbmk: Error: Running C compiler. 1:
> gcc.exe harupdf.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_rmoy10.c    -O3
>  -oh
> arupdf.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -mconsole
> -Wl,--sta
> rt-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd
> -lhbusr
> rdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl
> -lhbp
> p -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui
> -lhbpcre
> -lhbzlib -lhbhpdf -llibhpdf -lhbct -lhbhpdf -lhblibpng -luser32 -lgdi32
> -ladvapi
> 32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32
> -luuid
>  -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -Wl,--end-group
>
> 2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> > yes, please add libpng also to the liblist.
> > --
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/cf9e33ec/attachment.html
From mbelgrano at deltain.it  Mon Mar 30 05:26:38 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 05:26:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <18d502870903300222scd0fb97i3f8c5642b3ec9d55@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com> 
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com> 
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com> 
	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com> 
	<18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com> 
	<609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com> 
	<18d502870903300222scd0fb97i3f8c5642b3ec9d55@mail.gmail.com>
Message-ID: <609353e70903300226w31cff4bay3172e86bb64227db@mail.gmail.com>

c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib libpng.lib
hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
hbmk: Processing: hbhpdf.hbp
Harbour 1.1.0dev (Rev. 10734)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'harupdf.prg'...
Lines 2245, Functions/Procedures 18
Generating C source output to 'harupdf.c'... Done.


But executing it hargup

c:\harbour\contrib\hbhpdf\tests>harupdf



2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> you've added hblibpng, not libpng.
> --
> Viktor
>
> On Mon, Mar 30, 2009 at 11:18 AM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib hblibpng.lib
>> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
>> hbmk: Processing: hbhpdf.hbp
>> Harbour 1.1.0dev (Rev. 10734)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'harupdf.prg'...
>> Lines 2245, Functions/Procedures 18
>> Generating C source output to 'harupdf.c'... Done.
>> C:\devl\MinGW\bin\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
>> canno
>> t find -lhblibpng
>> collect2: ld returned 1 exit status
>> hbmk: Error: Running C compiler. 1:
>> gcc.exe harupdf.c C:\Users\MBELGR~1\AppData\Local\Temp\hbmk_rmoy10.c
>> ?-O3 ?-oh
>> arupdf.exe -Ic:/harbour/mingw/include -Lc:/harbour/mingw/lib -mconsole
>> -Wl,--sta
>> rt-group -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd
>> -lhbusr
>> rdd -lhbuddall -lhbhsx -lhbsix -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbrtl
>> -lhbp
>> p -lhbmacro -lhbextern -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui
>> -lhbpcre
>> -lhbzlib -lhbhpdf -llibhpdf -lhbct -lhbhpdf -lhblibpng -luser32 -lgdi32
>> -ladvapi
>> 32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32
>> -luuid
>> ?-lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -Wl,--end-group
>>
>> 2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > yes, please add libpng also to the liblist.
>> > --
>> >
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From harbour.01 at syenar.hu  Mon Mar 30 06:08:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 06:09:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <609353e70903300226w31cff4bay3172e86bb64227db@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>
	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com>
	<18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com>
	<609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com>
	<18d502870903300222scd0fb97i3f8c5642b3ec9d55@mail.gmail.com>
	<609353e70903300226w31cff4bay3172e86bb64227db@mail.gmail.com>
Message-ID: <18d502870903300308mb13787bw5db968561c57c5@mail.gmail.com>

On Mon, Mar 30, 2009 at 11:26 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> c:\harbour\contrib\hbhpdf\tests>hbmk2 harupdf.prg hbhpdf.lib libpng.lib
> hbmk: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> hbmk: Processing: hbhpdf.hbp
> Harbour 1.1.0dev (Rev. 10734)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'harupdf.prg'...
> Lines 2245, Functions/Procedures 18
> Generating C source output to 'harupdf.c'... Done.
>
>
> But executing it hargup


I don't know what that means. I've just tried it with MinGW 4.3.3
and myharu.pdf was created without any problems here.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/38be1439/attachment.html
From info at fsgiudice.com  Mon Mar 30 06:10:28 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 30 06:10:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <18d502870903300308mb13787bw5db968561c57c5@mail.gmail.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com>	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com>	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com>	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com>	<18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com>	<609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com>	<18d502870903300222scd0fb97i3f8c5642b3ec9d55@mail.gmail.com>	<609353e70903300226w31cff4bay3172e86bb64227db@mail.gmail.com>
	<18d502870903300308mb13787bw5db968561c57c5@mail.gmail.com>
Message-ID: <49D09A94.50707@fsgiudice.com>

Also here with msvc.

Best regards,
Francesco

Il 30/03/2009 12.08, Viktor Szaka'ts ha scritto:
> 
> I don't know what that means. I've just tried it with MinGW 4.3.3 
> and myharu.pdf was created without any problems here.
> 

From mbelgrano at deltain.it  Mon Mar 30 06:18:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 06:18:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <49D09A94.50707@fsgiudice.com>
References: <E1Lnr1C-0000MP-2l@3kljzd1.ch3.sourceforge.com> 
	<609353e70903290343x61090af9p375b80698e928396@mail.gmail.com> 
	<18d502870903300143u50e62c20t17fd99b9fd564cd8@mail.gmail.com> 
	<609353e70903300209o3ba180f6l8ee0de2f345111e8@mail.gmail.com> 
	<18d502870903300213u583b1e6eg76bb983ab1817cfd@mail.gmail.com> 
	<609353e70903300218j12c2b41do27333b9e027a6526@mail.gmail.com> 
	<18d502870903300222scd0fb97i3f8c5642b3ec9d55@mail.gmail.com> 
	<609353e70903300226w31cff4bay3172e86bb64227db@mail.gmail.com> 
	<18d502870903300308mb13787bw5db968561c57c5@mail.gmail.com> 
	<49D09A94.50707@fsgiudice.com>
Message-ID: <609353e70903300318tacc95eama38fd938437d590e@mail.gmail.com>

I have deleted old/incomplete myharu.pdf and not all works

Thanks!
2009/3/30 Francesco Saverio Giudice <info@fsgiudice.com>:
> Also here with msvc.
>
> Best regards,
> Francesco
>
> Il 30/03/2009 12.08, Viktor Szaka'ts ha scritto:
>>
>> I don't know what that means. I've just tried it with MinGW 4.3.3 and
>> myharu.pdf was created without any problems here.
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Mar 30 06:34:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 06:34:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10737] trunk/harbour
Message-ID: <E1LoEpA-0004cN-SO@c3vjzd1.ch3.sourceforge.com>

Revision: 10737
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10737&view=rev
Author:   vszakats
Date:     2009-03-30 10:34:36 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 12:32 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbqt/Makefile
    - Disabled for bcc and pocc due to compilation error.
    ; Maybe it's possible to make them work (at least bcc) by using 
      some special defines, please play with it if you're interested.
      QT seems to like MinGW the best MSVC is also high on the 
      support list, so IMO we should also put the focus there.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar 30 07:15:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 07:15:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10738] trunk/harbour
Message-ID: <E1LoFT8-00042c-QJ@3kljzd1.ch3.sourceforge.com>

Revision: 10738
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10738&view=rev
Author:   vszakats
Date:     2009-03-30 11:15:54 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 13:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    * Split Windows compiler list to 'recommended' and 'supported'
      sublists. Recommended are MinGW and MSVC.
      Some comments on the rest:
      - pocc: lack of 3rd party support, mediocre performance.
      - owatcom: lack of 3rd party support, bad performance,
        proprietary object/dll format.
      - bcc: lack of 3rd party support, mediocre performance, has known bugs,
        proprietary object/dll format.
      - xcc: for testing only.
      - icc: for testing and code validation only.
      - cygwin: for some niche purposes. MinGW is a superior choice.

  * mpkg_win.bat
    + Added support for mingw64 and mingwce.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Mar 30 07:53:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 07:53:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10739] trunk/harbour
Message-ID: <E1LoG3Q-0006V0-K6@c3vjzd1.ch3.sourceforge.com>

Revision: 10739
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10739&view=rev
Author:   vszakats
Date:     2009-03-30 11:53:23 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 13:53 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/gtalleg/Makefile
    - Disabled for minwgce.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Mon Mar 30 07:54:32 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar 30 07:58:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>

> 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu
:
>  * external/sqlite3/Makefile
>    - Disabled for bcc. Latest sqlite3 version breaks with this compiler:

BCC does not use LL to mark LONG LONG constants.
It needs suffix like i64 (or ui64): 864000000000LL --> 864000000000i64

These is one section that use it in sqlite3.c (lines 29156-29163). It do complie
(don't know if it runs) if I changes all the LL to i64


  Chen.
From harbour.01 at syenar.hu  Mon Mar 30 08:06:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 08:07:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903300506m36e341a7t10d80764256d828a@mail.gmail.com>

Thanks Chen.
Now we can choose to create a local patch and create an
infrastructure for applying local patches before build [ I don't
have time for this now ], or we can report this to author with
your solution, hopefully they'll include it in next revision.

QT also has a patch (regarding localtime) which makes it
compile for WinCE, BTW.

Brgds,
Viktor

On Mon, Mar 30, 2009 at 1:54 PM, Chen Kedem <niki@synel.co.il> wrote:

> > 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu
> :
> >  * external/sqlite3/Makefile
> >    - Disabled for bcc. Latest sqlite3 version breaks with this compiler:
>
> BCC does not use LL to mark LONG LONG constants.
> It needs suffix like i64 (or ui64): 864000000000LL --> 864000000000i64
>
> These is one section that use it in sqlite3.c (lines 29156-29163). It do
> complie
> (don't know if it runs) if I changes all the LL to i64
>
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/d5c3d375/attachment.html
From mbelgrano at deltain.it  Mon Mar 30 08:19:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 08:19:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <18d502870903300506m36e341a7t10d80764256d828a@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870903300506m36e341a7t10d80764256d828a@mail.gmail.com>
Message-ID: <609353e70903300519m22fea01fk3569fcd8423d1454@mail.gmail.com>

seem that is posted the problem
http://www.sqlite.org/cvstrac/tktview?tn=3759,38


2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> Thanks Chen.
> Now we can choose to create a local patch and create an
> infrastructure for applying local patches before build [ I don't
> have time for this now ], or we?can report this to author with
> your solution, hopefully they'll?include it in next revision.
> QT also has a patch?(regarding localtime)?which makes it
> compile for WinCE,?BTW.
> Brgds,
> Viktor
>
> On Mon, Mar 30, 2009 at 1:54 PM, Chen Kedem <niki@synel.co.il> wrote:
>>
>> > 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu
>> :
>> > ?* external/sqlite3/Makefile
>> > ? ?- Disabled for bcc. Latest sqlite3 version breaks with this compiler:
>>
>> BCC does not use LL to mark LONG LONG constants.
>> It needs suffix like i64 (or ui64): 864000000000LL --> 864000000000i64
>>
>> These is one section that use it in sqlite3.c (lines 29156-29163). It do
>> complie
>> (don't know if it runs) if I changes all the LL to i64
>>
>>
>> ?Chen.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From niki at synel.co.il  Mon Mar 30 08:20:49 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar 30 08:27:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C14A74FC148@Mail-yoq.SYNEL-COMPANY.LTD>

Massimo,

> seem that is posted the problem
> http://www.sqlite.org/cvstrac/tktview?tn=3759,38

Ok, added my remark there too (anonymos have page edit privilege, oh, well)

  Chen.
From druzus at acn.waw.pl  Mon Mar 30 08:39:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 30 08:33:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20090330123946.GA20355@uran.home.aster.pl>

On Mon, 30 Mar 2009, Chen Kedem wrote:
> > 2009-03-29 11:02 UTC+0200 Viktor Szakats (harbour.01 syenar hu
> >  * external/sqlite3/Makefile
> >    - Disabled for bcc. Latest sqlite3 version breaks with this compiler:
> BCC does not use LL to mark LONG LONG constants.
> It needs suffix like i64 (or ui64): 864000000000LL --> 864000000000i64
> These is one section that use it in sqlite3.c (lines 29156-29163). It do complie
> (don't know if it runs) if I changes all the LL to i64

In Harbour we have macro HB_LL() which should be used for such numbers.
Most of Windows compilers does not support well LL sufix. In the past some
of them were not even generating errors but stirpped upper 32 bits from
then number. Unfortunately i64/ui64 suffix is not portable solution so
cannot be used instead LL.
I suggest to always use HB_LL(), f.e.:
   HB_LL( 864000000000 )

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 30 08:58:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 30 08:52:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10738] trunk/harbour
In-Reply-To: <E1LoFT8-00042c-QJ@3kljzd1.ch3.sourceforge.com>
References: <E1LoFT8-00042c-QJ@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090330125859.GA21237@uran.home.aster.pl>

On Mon, 30 Mar 2009, vszakats@users.sourceforge.net wrote:
> Revision: 10738
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10738&view=rev
> Author:   vszakats
> Date:     2009-03-30 11:15:54 +0000 (Mon, 30 Mar 2009)
> Log Message:
> -----------
> 2009-03-30 13:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
>   * INSTALL
>     * Split Windows compiler list to 'recommended' and 'supported'
>       sublists. Recommended are MinGW and MSVC.
>       Some comments on the rest:
>       - pocc: lack of 3rd party support, mediocre performance.
>       - owatcom: lack of 3rd party support, bad performance,
>         proprietary object/dll format.

You killed the performance by setting -bm flag as default.
When -bm is used OpenWatcom uses some different memory allocator
which is extremely slow. The next switch which probably reduce the
performance is -5s but I haven't made any real tests here and I only
guess that stack calling convention is slower then register one.
Anyhow here the difference will be probably minor.
Without this switches OpenWatcom gives the fastest code in few places.
F.e. even ICC is not close to OpenWatcom results in T029 and T030.
The overall performance is also quite good. In my tests it was noticable
better then BCC or POCC.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Mar 30 10:08:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 10:08:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10738] trunk/harbour
In-Reply-To: <20090330125859.GA21237@uran.home.aster.pl>
References: <E1LoFT8-00042c-QJ@3kljzd1.ch3.sourceforge.com>
	<20090330125859.GA21237@uran.home.aster.pl>
Message-ID: <18d502870903300708m76591ea9t4558e313f9265098@mail.gmail.com>

Hi Przemek,


> > 2009-03-30 13:10 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
> >   * INSTALL
> >     * Split Windows compiler list to 'recommended' and 'supported'
> >       sublists. Recommended are MinGW and MSVC.
> >       Some comments on the rest:
> >       - pocc: lack of 3rd party support, mediocre performance.
> >       - owatcom: lack of 3rd party support, bad performance,
> >         proprietary object/dll format.
>
> You killed the performance by setting -bm flag as default.
> When -bm is used OpenWatcom uses some different memory allocator
> which is extremely slow. The next switch which probably reduce the


I didn't want to kill it, just wanted to tweak it for MT.. we're using such
MT switch for most compilers to force MT friendly runtine/code generation/
whatever. Isn't this needed for owatcom?

---
-bm             build target is a multi-thread environment
---
---
bm              (Netware, OS/2, Windows NT only) This option causes the
compiler to imbed the appropriate multi-thread library name in the object
file. The macro __SW_BM is predefined if bm is selected.
---


> performance is -5s but I haven't made any real tests here and I only
> guess that stack calling convention is slower then register one.


It's definitely slower, but needed for compatible .dll generation
as far as I understood Andi's mail. Didn't spend time to do
side-by-side comparison though.


> Anyhow here the difference will be probably minor.
> Without this switches OpenWatcom gives the fastest code in few places.
> F.e. even ICC is not close to OpenWatcom results in T029 and T030.
> The overall performance is also quite good. In my tests it was noticable
> better then BCC or POCC.


Great, so if you say -bm isn't needed for MT support I can remove it.
Shall I go for it?

Unfortunately owatcom has the same problem as bcc/pocc: lack
of support, so some libs had to be disabled due to compile errors
(libhpdf, hbqt), but I otherwise I have no problem keeping it in first line.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/df58b9f9/attachment.html
From abe.buch at att.net  Mon Mar 30 10:37:23 2009
From: abe.buch at att.net (AbeB)
Date: Mon Mar 30 10:37:27 2009
Subject: [Harbour] telepahty, output overflow
Message-ID: <1238423843003-2557549.post@n2.nabble.com>


Hi All,


I'm printing to serial printer with  hbtpathy.lib

f.e.
tp_send(1, replic("012345678901234567890012345678901234567890"+chr(13)+chr(10),1000 ) )
but it whould cause overflow in the printed output.

any help?

Thanks,
Abe
-- 
View this message in context: http://n2.nabble.com/telepahty%2C-output-overflow-tp2557549p2557549.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Mar 30 10:37:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 10:38:08 2009
Subject: [Harbour] Unified Harbour 1.1.0dev (beta) release
Message-ID: <18d502870903300737h6862addbk686e6c28b2dbef47@mail.gmail.com>

Hi All,
I've made available a unified and self-contained Windows release
package, which is able to create x86, x64, WinCE/ARM executables
(both shared and static) out of the box without the need of any
external tools or settings.

Download:
http://www.syenar.hu/harbour/hb-1.1.0dev.7z
(size: 136MB)

To use:
1) unpack to any directory (C:\hb-1.1.0dev)
2) go to bin dir (optional if you specify path for hbmk2)
3) For x86 executable type: 'hbmk2 ../tests/hello.prg'
4) For x64 executable type: 'hbmk2 ../tests/hello.prg -comp=mingw64'
5) For WinCE/ARM executable type: 'hbmk2 ../tests/hello.prg -comp=mingwce'

The package also contains Harbour libraries to build MSVC 2008,
Open Watcom 1.8 and Borland C 5.5.1 executables. For these,
you need to have these compilers installed on your computer. The libs
will automatically be picked by hbmk2.

The package contains MinGW 4.3.3, MinGW 4.4.0 for x64 and
MinGW 4.1.0 for ARM/CE embedded.

I've used 7-Zip instead of .zip, because it cut the archive size by
a factor of 2-3. If this package will get good reception I may add
installer with de-selectable x64, WinCE and additional target libs.
While it takes significant amount of time to assemble such package,
nevertheless IMO it should be the definitive and official release
methods instead of the separate compiler/CPU target specific
packages we offer for 1.0.1.

Following external dependencies were used to build corresponding
Harbour libs:

ace 9.10
allegro 4.2.2
blat 2.6.2
libcurl 7.19.3
firebird 2.1.1
freeimage 3.11.0
gd 2.0.34
mysql 5.0.67
openssl 0.9.8j
pgsql 8.3.3
qt 4.5.0 (2009.01)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/a19e9c1f/attachment-0001.html
From sscc at mweb.co.za  Mon Mar 30 10:42:34 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Mar 30 10:42:40 2009
Subject: [Harbour] telepahty, output overflow
In-Reply-To: <1238423843003-2557549.post@n2.nabble.com>
References: <1238423843003-2557549.post@n2.nabble.com>
Message-ID: <49D0DA5A.2030407@mweb.co.za>

AbeB wrote:

> I'm printing to serial printer with  hbtpathy.lib
> 
> f.e.
> tp_send(1, replic("012345678901234567890012345678901234567890"+chr(13)+chr(10),1000 ) )
> but it whould cause overflow in the printed output.
> 
> any help?

Not specific to telepathy, but you must enable flow control on the printer and 
in your software. Most common are DTR/DTS (hardware) or XOn/XOff (software).

HTH
Alex
From bedipritpal at hotmail.com  Mon Mar 30 10:44:42 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 30 10:44:46 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <609353e70903300142h70d9a0edo22e587346ccd6703@mail.gmail.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
	<609353e70903300142h70d9a0edo22e587346ccd6703@mail.gmail.com>
Message-ID: <22784874.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> I have same Italian user that want route to the ready to use distribution
> Is this last version?
> are planed near update?
> 
> Have you made same progress regarding your old project of documentation?
> 

At the moment I am concentrating on QT implementation.
But of couse I cn upload new distro, wait a couple of days more.

Documentation - you are talking about GTWVG ? - well I plan to 
write it after GTQTC and GTQTG are in place.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22784874.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Mon Mar 30 10:47:41 2009
From: abe.buch at att.net (AbeB)
Date: Mon Mar 30 10:47:46 2009
Subject: [Harbour] telepahty, output overflow
In-Reply-To: <49D0DA5A.2030407@mweb.co.za>
References: <1238423843003-2557549.post@n2.nabble.com>
	<49D0DA5A.2030407@mweb.co.za>
Message-ID: <1238424461926-2557628.post@n2.nabble.com>


Hi Alex,
Thanks for quick reply.

In the printer it's enabled, but in software i have no clue how.

Any guidance?

Thanks,
abe



AbeB wrote:

> I'm printing to serial printer with  hbtpathy.lib
> 
> f.e.
> tp_send(1, replic("012345678901234567890012345678901234567890"+chr(13)+chr(10),1000 ) )
> but it whould cause overflow in the printed output.
> 
> any help?

Not specific to telepathy, but you must enable flow control on the printer and 
in your software. Most common are DTR/DTS (hardware) or XOn/XOff (software).

HTH
Alex
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



-- 
View this message in context: http://n2.nabble.com/telepahty%2C-output-overflow-tp2557549p2557628.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Mar 30 10:59:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 10:59:24 2009
Subject: [Harbour] msvc64 regression / hbatomic.h
Message-ID: <18d502870903300759s43759e98u7ff42a168756b01a@mail.gmail.com>

cl.exe -nologo -I. -I../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c-
-MT    -DHB_FM_STATISTICS_OFF -DHB_DYNLIB -c ../../thread.c -Fothread.obj
thread.c
../../../../include\hbatomic.h(270) : error C4235: nonstandard extension
used : '__asm' keyword not supported on this architecture
../../../../include\hbatomic.h(270) : error C2065: 'mov' : undeclared
identifier
../../../../include\hbatomic.h(270) : error C2146: syntax error : missing
';' before identifier 'eax'
../../../../include\hbatomic.h(270) : error C2065: 'eax' : undeclared
identifier
../../../../include\hbatomic.h(271) : error C4235: nonstandard extension
used : '__asm' keyword not supported on this architecture
../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
';' before identifier 'lock'
../../../../include\hbatomic.h(271) : error C2065: 'lock' : undeclared
identifier
../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
';' before identifier 'inc'
../../../../include\hbatomic.h(271) : error C2065: 'inc' : undeclared
identifier
../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
';' before identifier 'dword'
../../../../include\hbatomic.h(271) : error C2065: 'dword' : undeclared
identifier
../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
';' before identifier 'ptr'
../../../../include\hbatomic.h(271) : error C2065: 'ptr' : undeclared
identifier
../../../../include\hbatomic.h(271) : error C2065: 'eax' : undeclared
identifier
../../../../include\hbatomic.h(272) : error C2143: syntax error : missing
';' before '}'
../../../../include\hbatomic.h(278) : error C4235: nonstandard extension
used : '__asm' keyword not supported on this architecture
../../../../include\hbatomic.h(278) : error C2065: 'mov' : undeclared
identifier
../../../../include\hbatomic.h(278) : error C2146: syntax error : missing
';' before identifier 'eax'
../../../../include\hbatomic.h(278) : error C2065: 'eax' : undeclared
identifier
../../../../include\hbatomic.h(279) : error C4235: nonstandard extension
used : '__asm' keyword not supported on this architecture
../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
';' before identifier 'lock'
../../../../include\hbatomic.h(279) : error C2065: 'lock' : undeclared
identifier
../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
';' before identifier 'dec'
../../../../include\hbatomic.h(279) : error C2065: 'dec' : undeclared
identifier
../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
';' before identifier 'dword'
../../../../include\hbatomic.h(279) : error C2065: 'dword' : undeclared
identifier
../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
';' before identifier 'ptr'
../../../../include\hbatomic.h(279) : error C2065: 'ptr' : undeclared
identifier
../../../../include\hbatomic.h(279) : error C2065: 'eax' : undeclared
identifier
../../../../include\hbatomic.h(280) : error C4235: nonstandard extension
used : '__asm' keyword not supported on this architecture
../../../../include\hbatomic.h(280) : error C2146: syntax error : missing
';' before identifier 'setne'
../../../../include\hbatomic.h(282) : error C2065: 'setne' : undeclared
identifier
../../../../include\hbatomic.h(282) : error C2146: syntax error : missing
';' before identifier 'c'
../../../../include\hbatomic.h(282) : error C2143: syntax error : missing
';' before 'return'

It also happens in plain C mode.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/5d8a215e/attachment.html
From harbour.01 at syenar.hu  Mon Mar 30 11:40:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 11:40:25 2009
Subject: [Harbour] Re: msvc64 regression / hbatomic.h
In-Reply-To: <18d502870903300759s43759e98u7ff42a168756b01a@mail.gmail.com>
References: <18d502870903300759s43759e98u7ff42a168756b01a@mail.gmail.com>
Message-ID: <18d502870903300840j329b6221me6fb838681a38c45@mail.gmail.com>

Also pocc64:
pocc.exe -I. -Ze -Go -MT -W1 -Ot -I../../../../include /Tamd64-coff
 -DHB_FM_STATISTICS_OFF  -c ../../thread.c -Fothread.obj
harbour\include\hbatomic.h(270): error #2206: No inline assembly support for
this target.

Brgds,
Viktor

On Mon, Mar 30, 2009 at 4:59 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> cl.exe -nologo -I. -I../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c-
> -MT    -DHB_FM_STATISTICS_OFF -DHB_DYNLIB -c ../../thread.c -Fothread.obj
> thread.c
> ../../../../include\hbatomic.h(270) : error C4235: nonstandard extension
> used : '__asm' keyword not supported on this architecture
> ../../../../include\hbatomic.h(270) : error C2065: 'mov' : undeclared
> identifier
> ../../../../include\hbatomic.h(270) : error C2146: syntax error : missing
> ';' before identifier 'eax'
> ../../../../include\hbatomic.h(270) : error C2065: 'eax' : undeclared
> identifier
> ../../../../include\hbatomic.h(271) : error C4235: nonstandard extension
> used : '__asm' keyword not supported on this architecture
> ../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
> ';' before identifier 'lock'
> ../../../../include\hbatomic.h(271) : error C2065: 'lock' : undeclared
> identifier
> ../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
> ';' before identifier 'inc'
> ../../../../include\hbatomic.h(271) : error C2065: 'inc' : undeclared
> identifier
> ../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
> ';' before identifier 'dword'
> ../../../../include\hbatomic.h(271) : error C2065: 'dword' : undeclared
> identifier
> ../../../../include\hbatomic.h(271) : error C2146: syntax error : missing
> ';' before identifier 'ptr'
> ../../../../include\hbatomic.h(271) : error C2065: 'ptr' : undeclared
> identifier
> ../../../../include\hbatomic.h(271) : error C2065: 'eax' : undeclared
> identifier
> ../../../../include\hbatomic.h(272) : error C2143: syntax error : missing
> ';' before '}'
> ../../../../include\hbatomic.h(278) : error C4235: nonstandard extension
> used : '__asm' keyword not supported on this architecture
> ../../../../include\hbatomic.h(278) : error C2065: 'mov' : undeclared
> identifier
> ../../../../include\hbatomic.h(278) : error C2146: syntax error : missing
> ';' before identifier 'eax'
> ../../../../include\hbatomic.h(278) : error C2065: 'eax' : undeclared
> identifier
> ../../../../include\hbatomic.h(279) : error C4235: nonstandard extension
> used : '__asm' keyword not supported on this architecture
> ../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
> ';' before identifier 'lock'
> ../../../../include\hbatomic.h(279) : error C2065: 'lock' : undeclared
> identifier
> ../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
> ';' before identifier 'dec'
> ../../../../include\hbatomic.h(279) : error C2065: 'dec' : undeclared
> identifier
> ../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
> ';' before identifier 'dword'
> ../../../../include\hbatomic.h(279) : error C2065: 'dword' : undeclared
> identifier
> ../../../../include\hbatomic.h(279) : error C2146: syntax error : missing
> ';' before identifier 'ptr'
> ../../../../include\hbatomic.h(279) : error C2065: 'ptr' : undeclared
> identifier
> ../../../../include\hbatomic.h(279) : error C2065: 'eax' : undeclared
> identifier
> ../../../../include\hbatomic.h(280) : error C4235: nonstandard extension
> used : '__asm' keyword not supported on this architecture
> ../../../../include\hbatomic.h(280) : error C2146: syntax error : missing
> ';' before identifier 'setne'
> ../../../../include\hbatomic.h(282) : error C2065: 'setne' : undeclared
> identifier
> ../../../../include\hbatomic.h(282) : error C2146: syntax error : missing
> ';' before identifier 'c'
> ../../../../include\hbatomic.h(282) : error C2143: syntax error : missing
> ';' before 'return'
>
> It also happens in plain C mode.
>
> Brgds,
> Viktor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/35424a6f/attachment.html
From mbelgrano at deltain.it  Mon Mar 30 12:07:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 12:08:08 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <22784874.post@talk.nabble.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com> 
	<609353e70903300142h70d9a0edo22e587346ccd6703@mail.gmail.com> 
	<22784874.post@talk.nabble.com>
Message-ID: <609353e70903300907j126df4a0s65855cfc1872bd32@mail.gmail.com>

I agree with qt prioriry
XBase++ Parts by gtwvg have XBPStatics (not present in demoxbp) ?
Do you still plan support gtwvg ?
What are  GTQTC and GTQTG ?

2009/3/30 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Massimo Belgrano-3 wrote:
>>
>> I have same Italian user that want route to the ready to use distribution
>> Is this last version?
>> are planed near update?
>>
>> Have you made same progress regarding your old project of documentation?
>>
>
> At the moment I am concentrating on QT implementation.
> But of couse I cn upload new distro, wait a couple of days more.
>
> Documentation - you are talking about GTWVG ? - well I plan to
> write it after GTQTC and GTQTG are in place.
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22784874.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From niki at synel.co.il  Mon Mar 30 12:01:36 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Mar 30 12:08:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC148@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C14A74FC148@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C14A74FC14A@Mail-yoq.SYNEL-COMPANY.LTD>

I wrote:
>> seem that is posted the problem
>> http://www.sqlite.org/cvstrac/tktview?tn=3759,38

> Ok, added my remark there too (anonymos have page edit privilege, oh, well)

Looking at that link, it seems that it was just fixed.
http://www.sqlite.org/cvstrac/chngview?cn=6408

You just got to love open source :)


Niki.
From harbour.01 at syenar.hu  Mon Mar 30 12:16:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 12:16:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10721] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C14A74FC14A@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C14A74FC147@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C14A74FC148@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C14A74FC14A@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870903300916kbdb8b2bp3fa315b3d9fbbe96@mail.gmail.com>

:) Great indeed.
--
Viktor

On Mon, Mar 30, 2009 at 6:01 PM, Chen Kedem <niki@synel.co.il> wrote:

> I wrote:
> >> seem that is posted the problem
> >> http://www.sqlite.org/cvstrac/tktview?tn=3759,38
>
> > Ok, added my remark there too (anonymos have page edit privilege, oh,
> well)
>
> Looking at that link, it seems that it was just fixed.
> http://www.sqlite.org/cvstrac/chngview?cn=6408
>
> You just got to love open source :)
>
>
> Niki.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/e728c179/attachment.html
From vszakats at users.sourceforge.net  Mon Mar 30 12:31:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 12:31:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10740] trunk/harbour
Message-ID: <E1LoKOt-0004WQ-OS@3kljzd1.ch3.sourceforge.com>

Revision: 10740
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10740&view=rev
Author:   vszakats
Date:     2009-03-30 16:31:50 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 17:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbfbird/Makefile
  * contrib/gtalleg/Makefile
    - Disabled for poccce due to errors.

  * contrib/hbfimage/fi_winfu.c
    - Disabled Windows specific functions for poccce due to errors.

  * config/win/owatcom.cf
    % Removed -bm (MT mode) switch, because besides creating MT friendly
      code, it kills performance. Pls shout if MT mode is now broken in
      any ways.

  * mpkg_win.bat
    * Generate .zip file first.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/fi_winfu.c
    trunk/harbour/mpkg_win.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar 30 12:31:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 12:32:07 2009
Subject: [Harbour] Unified Harbour 1.1.0dev (beta) release
In-Reply-To: <18d502870903300737h6862addbk686e6c28b2dbef47@mail.gmail.com>
References: <18d502870903300737h6862addbk686e6c28b2dbef47@mail.gmail.com>
Message-ID: <609353e70903300931t3b457008n83db52c5c73931da@mail.gmail.com>

Still Compliment Victor
Great result for made x86,x64 ,WinCE/ARM with mingw/harbour
What step can i do fo make same result with my svn?
If you describe how  compile, also other distribution Gan give this benefit


2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi All,
> I've made available a unified and self-contained Windows release
> package,?which is able to create x86, x64, WinCE/ARM executables
> (both shared and static) out?of the box without the need of any
> external tools or settings.
> Download:
> http://www.syenar.hu/harbour/hb-1.1.0dev.7z
> (size: 136MB)
> To use:
> 1) unpack to any directory (C:\hb-1.1.0dev)
> 2) go to bin dir (optional if you specify path for hbmk2)
> 3) For x86 executable type: 'hbmk2 ../tests/hello.prg'
> 4) For x64 executable type: 'hbmk2 ../tests/hello.prg -comp=mingw64'
> 5) For WinCE/ARM executable type: 'hbmk2 ../tests/hello.prg?-comp=mingwce'
> The package also contains Harbour libraries to build MSVC 2008,
> Open Watcom 1.8 and Borland C 5.5.1 executables. For these,
> you need to have these compilers installed on your computer. The libs
> will automatically be picked?by hbmk2.
> The package contains MinGW 4.3.3, MinGW 4.4.0 for x64 and
> MinGW 4.1.0 for ARM/CE embedded.
> I've used 7-Zip instead of .zip, because it cut the archive size by
> a factor of 2-3. If this package will get good reception I may add
> installer with de-selectable x64, WinCE and additional target libs.
> While it takes significant amount of time to assemble such package,
> nevertheless IMO it should be the definitive and official release
> methods instead of the separate compiler/CPU target specific
> packages we offer for 1.0.1.
> Following external dependencies were used to build corresponding
> Harbour libs:
> ace 9.10
> allegro 4.2.2
> blat 2.6.2
> libcurl 7.19.3
> firebird 2.1.1
> freeimage 3.11.0
> gd 2.0.34
> mysql 5.0.67
> openssl 0.9.8j
> pgsql 8.3.3
> qt 4.5.0 (2009.01)
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Mar 30 13:13:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 13:13:26 2009
Subject: [Harbour] Unified Harbour 1.1.0dev (beta) release
In-Reply-To: <609353e70903300931t3b457008n83db52c5c73931da@mail.gmail.com>
References: <18d502870903300737h6862addbk686e6c28b2dbef47@mail.gmail.com>
	<609353e70903300931t3b457008n83db52c5c73931da@mail.gmail.com>
Message-ID: <18d502870903301013u1342a1f4sbbb4421c8ae2929b@mail.gmail.com>

Well, I've posted MinGW CE sample script already on the list, the 64-bit
version is almost like it with some changes (easy to copy from other
cross-builds). Besides the above,
all files were created using usual and documented mpkg_win.bat
scripts and files copied together as a final stage. Anyhow this
time my goal isn't to go into great detail to teach how to do
this, even more so since current method cannot be considered
final. I'd rather be interested in this package's usefulness and
whether it's working and making things simpler for other
developers.

Brgds,
Viktor

On Mon, Mar 30, 2009 at 6:31 PM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> Still Compliment Victor
> Great result for made x86,x64 ,WinCE/ARM with mingw/harbour
> What step can i do fo make same result with my svn?
> If you describe how  compile, also other distribution Gan give this benefit
>
>
> 2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> > Hi All,
> > I've made available a unified and self-contained Windows release
> > package, which is able to create x86, x64, WinCE/ARM executables
> > (both shared and static) out of the box without the need of any
> > external tools or settings.
> > Download:
> > http://www.syenar.hu/harbour/hb-1.1.0dev.7z
> > (size: 136MB)
> > To use:
> > 1) unpack to any directory (C:\hb-1.1.0dev)
> > 2) go to bin dir (optional if you specify path for hbmk2)
> > 3) For x86 executable type: 'hbmk2 ../tests/hello.prg'
> > 4) For x64 executable type: 'hbmk2 ../tests/hello.prg -comp=mingw64'
> > 5) For WinCE/ARM executable type: 'hbmk2
> ../tests/hello.prg -comp=mingwce'
> > The package also contains Harbour libraries to build MSVC 2008,
> > Open Watcom 1.8 and Borland C 5.5.1 executables. For these,
> > you need to have these compilers installed on your computer. The libs
> > will automatically be picked by hbmk2.
> > The package contains MinGW 4.3.3, MinGW 4.4.0 for x64 and
> > MinGW 4.1.0 for ARM/CE embedded.
> > I've used 7-Zip instead of .zip, because it cut the archive size by
> > a factor of 2-3. If this package will get good reception I may add
> > installer with de-selectable x64, WinCE and additional target libs.
> > While it takes significant amount of time to assemble such package,
> > nevertheless IMO it should be the definitive and official release
> > methods instead of the separate compiler/CPU target specific
> > packages we offer for 1.0.1.
> > Following external dependencies were used to build corresponding
> > Harbour libs:
> > ace 9.10
> > allegro 4.2.2
> > blat 2.6.2
> > libcurl 7.19.3
> > firebird 2.1.1
> > freeimage 3.11.0
> > gd 2.0.34
> > mysql 5.0.67
> > openssl 0.9.8j
> > pgsql 8.3.3
> > qt 4.5.0 (2009.01)
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090330/a7dc99db/attachment.html
From druzus at acn.waw.pl  Mon Mar 30 13:53:45 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 30 13:46:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10738] trunk/harbour
In-Reply-To: <18d502870903300708m76591ea9t4558e313f9265098@mail.gmail.com>
References: <E1LoFT8-00042c-QJ@3kljzd1.ch3.sourceforge.com>
	<20090330125859.GA21237@uran.home.aster.pl>
	<18d502870903300708m76591ea9t4558e313f9265098@mail.gmail.com>
Message-ID: <20090330175345.GA14923@uran.home.aster.pl>

On Mon, 30 Mar 2009, Szak?ts Viktor wrote:

Hi,

> I didn't want to kill it, just wanted to tweak it for MT.. we're using such
> MT switch for most compilers to force MT friendly runtine/code generation/
> whatever. Isn't this needed for owatcom?

We were discussing about it when OW OS2 port was added.
If you want to set this flag as default then you have to
also enable DL malloc as default memory manager. It will
reduce a little bit the performance in single thread application
but MT once will be usable. The problem is with OS2 builds because
dlmalloc does not support this OS.
So far I haven't found time to check in OpenWatcom source code why the
memory manager used of MT mode is such slow.

> ---
> -bm             build target is a multi-thread environment
> ---
> bm              (Netware, OS/2, Windows NT only) This option causes the
> compiler to imbed the appropriate multi-thread library name in the object
> file. The macro __SW_BM is predefined if bm is selected.
> ---

I know what it does. And for sure it's good to use it if necessary.
But it will be also good if you will test the results of switching
you are enabling. I know that it's time consuming but in some cases
we also lost information about already tested and updated settings.
Probably now when we do not use CRTL *printf() functions familly
then we do not use any other functions which needs separate MT/ST
versions (except memory allocator) so it should be enough to compile
only hbvm with this switch. Anyhow it's not good practice because
we do not know what exactly this switch does. We should ask on Open
Watcom devel list or look in the source code for details.

> > performance is -5s but I haven't made any real tests here and I only
> > guess that stack calling convention is slower then register one.
> It's definitely slower, but needed for compatible .dll generation
> as far as I understood Andi's mail. Didn't spend time to do
> side-by-side comparison though.

It's only necessary if you want to use OpenWatcom harbour.dll with
other Harbour builds. It's not necessary if you want to use OpenWatcom
harbour.dll with OpenWatcom Harbour builds.
Anyhow if for some reasons you want to make harbour.dll with OpenWatcom
and use it later with other compilers then it's enough to change only
attributes of exported functions and it's not necessary to manipulate
with calling convention of the whole build. Just like you do not have
to change it for static builds. Such option can be set only for DLLs.
Personally I'd prefer to use native for compiler settings.
If I want to make something different then I can use HB_USER_CFLAGS.
Anyhow in this particular case the calling convention options should
be changed extremely carefully. In OS2 builds they were badly interact
when some OS2 16bit API functions were called and we were fighting for
quite long time with GPF in MT mode. Finally Maurilio set it to value
which were playing well OS2 16bit API but in fact we haven't checked
if this can be resolved by local only modification not by global
calling convention change.
Unlike most of other C compiler we are using OpenWatcom comes with
quite big set of own CRTL functions and programmers should carefully
read manuals to check which ones can be separately enabled/disabled
to not cause some bad interactions.

BTW hbmk2 should inherit some of the above flags.
Now when we moved all C compiler flags settings to *.cf files we have
nothing to detect them at runtime. I think that it will be good to
use one common for all compiler make variable with C flags which we
can pass to hbpp and store in header files. Otherwise you will have
problem with keeping hbmk2 synced and it will not be possible to use
it with custom Harbour builds which may needs some special settings,
f.e. calling convention. Not all C compiler settings can be disabled
by setting some opposite options second time.

> > Anyhow here the difference will be probably minor.
> > Without this switches OpenWatcom gives the fastest code in few places.
> > F.e. even ICC is not close to OpenWatcom results in T029 and T030.
> > The overall performance is also quite good. In my tests it was noticable
> > better then BCC or POCC.
> Great, so if you say -bm isn't needed for MT support I can remove it.
> Shall I go for it?

If you plan to leave it in such version then for sure yes. I'd prefer
fully functional and quite fast ST builds then unsable.
Anyhow it is necessary for MT support but it's always good to check what
it does. In this case I'd prefer to enable DLMALLOC as default for
OpenWatcom Windows builds.

Viktor, no offence but it's a problem when you are making some local
tests for only few possible conditions and then you are updating SVN
code to your results which does not have to be representative.
In this case we end with such information in ChangeLog:

    - Reverted yesterdays attempt to make owatcom builds faster.
      After the change the compilation time went slower, the
      binaries got smaller, but execution speed got actually worse.
      I've left -oz option removed for win, that's the only
      remaining change, plus -5r in os2/dos.
      owatcom seems not very useful for production.

> Unfortunately owatcom has the same problem as bcc/pocc: lack
> of support, so some libs had to be disabled due to compile errors
> (libhpdf, hbqt), but I otherwise I have no problem keeping it in first line.

It's not a problem of 1-st, 2-nd, ..., 10-th line.
If developers will not be interested in updating some builds then they
will die. Nothing more nothing less.
But when you are leaving such notes like above then for sure we will
not find anyone to work on it.
People trust you so when you are writing something in the ChangeLog then
you should be sure about it otherwise you are creating myths which very
often exist for years and are hard to revert. Just like old [x]Harbour
build settings and build time configuration/option.
Or this note in the ChangeLog:
    % Removed -ko option as it slightly decreases performance in -gc3 mode.
      (it's better in -gc[0-2] only)
I know you restored it but just for information and to clarify what Mindaugas
wrote about it because we will have other myth about -ko slowing -gc3 code.
It does not even reduce macro compiler performance in the speedtst.prg
because optimization code is enabled only for expressions which can be
optimized by this flag. In this case there is no such expression.
So the speedtst code is always faster and smaller. But of course it can
be executed slower on some computer. It's the side effect of used CPU
caches in modern computers.
F.e. you can delete some unused function from hvm.c and it may increase
or decrease the performance in some tests on some computers.
Why? Because it will change memory alignment of other code what will
interact with CPU cache usage. But it does not mean that we should try
to tune the Harbour core code for some CPU cache usage in the computer
you are using for tests.

BTW by default macro compiler inherits compile time optimization flags
    and settings. It can be disabled by -kr compile time switch.
    You can test it using this code:
         proc main()
            M->VAR:="ABC"
            ? &("M->VAR+0")
         return
   try to compile it with with such switches:
      1) default switches
      2) -ko
      3) -ko -kr

HTH.

best regards,
Przemek

ps. I'll update default memory manager and compilation switches in
    DOS, Windows and Linux OpenWatcom builds. I do not have OS2 to
    make tests so I will not make any manipulations here.
From bedipritpal at hotmail.com  Mon Mar 30 13:50:22 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Mar 30 13:50:26 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <609353e70903300907j126df4a0s65855cfc1872bd32@mail.gmail.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com>
	<609353e70903300142h70d9a0edo22e587346ccd6703@mail.gmail.com>
	<22784874.post@talk.nabble.com>
	<609353e70903300907j126df4a0s65855cfc1872bd32@mail.gmail.com>
Message-ID: <22788909.post@talk.nabble.com>


Hi

>I agree with qt prioriry

:-)

>XBase++ Parts by gtwvg have XBPStatics (not present in demoxbp) ?

Are you sure? Did you examine demoxbp.prg ?

>Do you still plan support gtwvg ?

100%.

>What are  GTQTC and GTQTG ?

Console and GUI based terminals just like GTWVT and GTWVG
but independant of operating systems.


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22788909.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fsgiudice at users.sourceforge.net  Mon Mar 30 14:14:46 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Mar 30 14:14:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10741] trunk/harbour
Message-ID: <E1LoM0U-00085m-5f@c3vjzd1.ch3.sourceforge.com>

Revision: 10741
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10741&view=rev
Author:   fsgiudice
Date:     2009-03-30 18:14:42 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 20:13 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    + added support for closing console using "X" system button
      using hb_GTInfo() functions. Tested only in windows.
    * formatting
  * harbour/contrib/examples/uhttpd/uhttpdc.c
    * added WM_CLOSE event in win_SysRefresh()
  * harbour/contrib/examples/uhttpd/session.prg
    * minor change

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpdc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar 30 14:17:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 14:18:09 2009
Subject: [Harbour] Harbour Distribution - Ready-to-Use
In-Reply-To: <22788909.post@talk.nabble.com>
References: <22326050.post@talk.nabble.com>
	<18d502870903040116s16287d05tc5994626dd9b3c28@mail.gmail.com> 
	<609353e70903300142h70d9a0edo22e587346ccd6703@mail.gmail.com> 
	<22784874.post@talk.nabble.com>
	<609353e70903300907j126df4a0s65855cfc1872bd32@mail.gmail.com> 
	<22788909.post@talk.nabble.com>
Message-ID: <609353e70903301117s70c43c3cq4fdb6382d76e8950@mail.gmail.com>

i was searched in demoxbp XBPStatic instead wvgStatic
  oStatic := WvgStatic():new( oDA )
   oStatic:type    := WVGSTATIC_TYPE_TEXT
   oStatic:options := WVGSTATIC_TEXT_CENTER
   oStatic:caption := chr(13)+'Implemented   Xbase++ Parts'

I think that in demoxbp will better having #translate  xbpStatic >
WvgStatic and use in demoxbp the know   xbpStatic
In future translation will be easy adapted to other lib and sound ok
for xbase++ user

I am very intrested by idea of having gt with gui capability
independant of operating systems.
I hope that will be able to switch from GTWVG to  GTQTG whitout rewrite


2009/3/30 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>>I agree with qt prioriry
>
> :-)
>
>>XBase++ Parts by gtwvg have XBPStatics (not present in demoxbp) ?
>
> Are you sure? Did you examine demoxbp.prg ?
>
>>Do you still plan support gtwvg ?
>
> 100%.
>
>>What are ?GTQTC and GTQTG ?
>
> Console and GUI based terminals just like GTWVT and GTWVG
> but independant of operating systems.
>
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Harbour-Distribution---Ready-to-Use-tp22326050p22788909.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From fsgiudice at users.sourceforge.net  Mon Mar 30 15:08:10 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Mar 30 15:08:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10742] trunk/harbour
Message-ID: <E1LoMqA-0001IS-Sn@c3vjzd1.ch3.sourceforge.com>

Revision: 10742
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10742&view=rev
Author:   fsgiudice
Date:     2009-03-30 19:07:18 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 21:05 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    * error string formatting
      using hb_GTInfo() functions. Tested only in windows.
  * harbour/contrib/examples/uhttpd/session.prg
    + added retrying in case of error in writing / deleting session files.
  * harbour/contrib/examples/uhttpd/cgifunc.prg
    * changed FCreate() to hb_FCreate()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/cgifunc.prg
    trunk/harbour/contrib/examples/uhttpd/session.prg
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Mar 30 15:28:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Mar 30 15:28:27 2009
Subject: [Harbour] Unified Harbour 1.1.0dev (beta) release
In-Reply-To: <18d502870903301013u1342a1f4sbbb4421c8ae2929b@mail.gmail.com>
References: <18d502870903300737h6862addbk686e6c28b2dbef47@mail.gmail.com> 
	<609353e70903300931t3b457008n83db52c5c73931da@mail.gmail.com> 
	<18d502870903301013u1342a1f4sbbb4421c8ae2929b@mail.gmail.com>
Message-ID: <609353e70903301228u1c4b2e86w6be5569593558b7@mail.gmail.com>

Thanks for clarification
I don't found msys in your distributions..is correct?


Which package can be used for x stable version?:
mingw
mingw-w64    http://sourceforge.net/project/showfiles.php?group_id=202880&package_id=241675
migw32ce     http://downloads.sourceforge.net/cegcc/cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz?use_mirror=switch
msys 1.0.11  http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=24963

what about mingw automatic installer (can we made similar for harbour?)
http://sourceforge.net/project/downloading.php?group_id=2435&use_mirror=kent&filename=MinGW-5.1.4.exe&a=2687957

2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
> Well, I've posted MinGW CE sample script already on the list,
> the 64-bit version is almost like it with some changes
> (easy to copy from other cross-builds).?Besides?the above,
> all files were created using?usual and documented?mpkg_win.bat
> scripts and files copied?together as a final stage.?Anyhow this
> time?my goal isn't to go into great detail to teach how to do
> this,?even more so since?current method cannot be considered
> final. I'd rather be interested in this package's usefulness and
> whether it's working and making things simpler for other
> developers.
> Brgds,
> Viktor
>
> On Mon, Mar 30, 2009 at 6:31 PM, Massimo Belgrano <mbelgrano@deltain.it>
> wrote:
>>
>> Still Compliment Victor
>> Great result for made x86,x64 ,WinCE/ARM with mingw/harbour
>> What step can i do fo make same result with my svn?
>> If you describe how ?compile, also other distribution Gan give this
>> benefit
>>
>>
>> 2009/3/30 Viktor Szak?ts <harbour.01@syenar.hu>:
>> > Hi All,
>> > I've made available a unified and self-contained Windows release
>> > package,?which is able to create x86, x64, WinCE/ARM executables
>> > (both shared and static) out?of the box without the need of any
>> > external tools or settings.
>> > Download:
>> > http://www.syenar.hu/harbour/hb-1.1.0dev.7z
>> > (size: 136MB)
>> > To use:
>> > 1) unpack to any directory (C:\hb-1.1.0dev)
>> > 2) go to bin dir (optional if you specify path for hbmk2)
>> > 3) For x86 executable type: 'hbmk2 ../tests/hello.prg'
>> > 4) For x64 executable type: 'hbmk2 ../tests/hello.prg -comp=mingw64'
>> > 5) For WinCE/ARM executable type: 'hbmk2
>> > ../tests/hello.prg?-comp=mingwce'
>> > The package also contains Harbour libraries to build MSVC 2008,
>> > Open Watcom 1.8 and Borland C 5.5.1 executables. For these,
>> > you need to have these compilers installed on your computer. The libs
>> > will automatically be picked?by hbmk2.
>> > The package contains MinGW 4.3.3, MinGW 4.4.0 for x64 and
>> > MinGW 4.1.0 for ARM/CE embedded.
>> > I've used 7-Zip instead of .zip, because it cut the archive size by
>> > a factor of 2-3. If this package will get good reception I may add
>> > installer with de-selectable x64, WinCE and additional target libs.
>> > While it takes significant amount of time to assemble such package,
>> > nevertheless IMO it should be the definitive and official release
>> > methods instead of the separate compiler/CPU target specific
>> > packages we offer for 1.0.1.
>> > Following external dependencies were used to build corresponding
>> > Harbour libs:
>> > ace 9.10
>> > allegro 4.2.2
>> > blat 2.6.2
>> > libcurl 7.19.3
>> > firebird 2.1.1
>> > freeimage 3.11.0
>> > gd 2.0.34
>> > mysql 5.0.67
>> > openssl 0.9.8j
>> > pgsql 8.3.3
>> > qt 4.5.0 (2009.01)
>> > Brgds,
>> > Viktor
>> >
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>> >
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Mon Mar 30 16:10:33 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 30 16:10:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10743] trunk/harbour
Message-ID: <E1LoNoX-00024V-AD@3kljzd1.ch3.sourceforge.com>

Revision: 10743
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10743&view=rev
Author:   druzus
Date:     2009-03-30 20:10:32 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 22:17 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/dlmalloc.c
    ! fixed casting

  * harbour/source/vm/fm.c
    % use DLMALLOC as default memory manager in OpenWatcom Windows builds.
      Warning: HB_FM_DLMT_ALLOC does not work with OpenWatcom.

  * harbour/config/dos/owatcom.cf
  * harbour/config/win/owatcom.cf
  * harbour/config/linux/owatcom.cf
  * harbour/config/os2/owatcom.cf
    * changed alignment settings from 8 to 4
    * synced optimization flags used in different builds
    ! fixed linker parameters when HB_BUILD_DEBUG=yes is set
    ; TOVERIFY: I do not remember what calling convention should be used
      in OpenWatcom MT OS2 builds to eliminate GPF when APIENTRY16 functions
      are called. It's possible that current settings are wrong.

  * harbour/config/win/owatcom.cf
    * removed STACK=65536 from OpenWatcom linker parameters.
      This switch probably was inherited from old DOS WatcomC builds.
      Later I'll test current OpwnWatcom builds to check if we can also
      remove it from DOS builds when cwstub.exe is used.
    * restored -bm switch. When DLMALLOC is used it does not cause
      noticeable performance reduction.
    * use default register calling convention. We can change it
      in the future but 1-st we should check the performance overhead.
      If calling convention is a problem only for .DLLs then it can
      be resolved by modifying HB_EXTERN declaration and adding function
      attributes which will force given calling convention.

  * harbour/config/linux/owatcom.cf
    * enabled pentium pro instruction in OpenWatcom Linux builds.
      It reduces the code size and increase performance a little bit.
      Windows users which do not need pure pentium CPU support can make
      the same.

  * harbour/utils/hbmk2/hbmk2.prg
    ! fixed object extension used in OpenWatcom Linux builds: it's .o not .obj
    ! fixed linker parameters in OpenWatcom Linux builds: DEBUG ALL is single
      option
    ! fixed OpenWatcom calling convention settings. Viktor you cannot chose
      simultaneously register and stack calling convention. You have to chose
      one and keep it synced with Harbour compile time settings. Otherwise
      you will have unresolved external or you will force creating by linker
      dynamically function call wrappers (of course if OW support such
      functionality) what may strongly reduce the performance.
    ! removed -j compile time switch - it's not used to compile core code
    * synced optimization flags with core code

   I'm really interested in current OpenWatcom speedtst results compared
   with other Windows builds (MSVC, MinGW, BCC, POCC) in ST and MT builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/source/vm/dlmalloc.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Mar 30 16:56:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 30 16:56:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10744] trunk/harbour
Message-ID: <E1LoOWt-0004M6-OJ@c3vjzd1.ch3.sourceforge.com>

Revision: 10744
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10744&view=rev
Author:   druzus
Date:     2009-03-30 20:56:21 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 23:02 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/Makefile
    ! check HB_ARCHITECTURE=win before compiling GTWVG.
      It fixes non Windows OpenWatcom and ICC builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fsgiudice at users.sourceforge.net  Mon Mar 30 17:58:46 2009
From: fsgiudice at users.sourceforge.net (fsgiudice@users.sourceforge.net)
Date: Mon Mar 30 17:58:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10745] trunk/harbour
Message-ID: <E1LoPVG-0000FN-3S@74yxhf1.ch3.sourceforge.com>

Revision: 10745
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10745&view=rev
Author:   fsgiudice
Date:     2009-03-30 21:58:45 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-30 23:56 UTC+0200 Francesco Saverio Giudice (info/at/fsgiudice.com)
  * harbour/contrib/examples/uhttpd/uhttpd.prg
    ! fixed CGI POST variables handling
      now it sends correctly variables to external executables.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/examples/uhttpd/uhttpd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 18:46:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 18:46:10 2009
Subject: [Harbour] Unified Harbour 1.1.0dev (beta) release
In-Reply-To: <609353e70903301228u1c4b2e86w6be5569593558b7@mail.gmail.com>
References: <18d502870903300737h6862addbk686e6c28b2dbef47@mail.gmail.com>
	<609353e70903300931t3b457008n83db52c5c73931da@mail.gmail.com>
	<18d502870903301013u1342a1f4sbbb4421c8ae2929b@mail.gmail.com>
	<609353e70903301228u1c4b2e86w6be5569593558b7@mail.gmail.com>
Message-ID: <18d502870903301546n36239bcei3a4cab3540af6936@mail.gmail.com>

>
> Thanks for clarification
> I don't found msys in your distributions..is correct?


msys is only needed to build Harbour from source.
No need for it to *use* Harbour. [ well, except if you
want to use hbmk scripts, but I didn't include these
in this package for simplicity. ]

To put it short: yes, it's correct.


> Which package can be used for x stable version?:
> mingw
> mingw-w64
> http://sourceforge.net/project/showfiles.php?group_id=202880&package_id=241675<http://sourceforge.net/project/showfiles.php?group_id=202880&package_id=241675
> migw32ce>


No, I used this one:
http://downloads.sourceforge.net/mingw-w64/mingw-w64-bin_i686-mingw_20090110.zip?use_mirror=switch


> migw32ce<http://sourceforge.net/project/showfiles.php?group_id=202880&package_id=241675
> migw32ce>
> http://downloads.sourceforge.net/cegcc/cygwin-cegcc-mingw32ce-0.51.0-1.tar.gz?use_mirror=switch


I don't know, but I've posted the link in one of my messages, in
reply to Przemek AFAIR. Either this or there is another similar
package with different CCPREFIX. You can compare with the
one in my package.


> msys 1.0.11
> http://sourceforge.net/project/showfiles.php?group_id=2435&package_id=24963


Not needed here, but for building Harbour this looks okay.


> what about mingw automatic installer (can we made similar for harbour?)
>
> http://sourceforge.net/project/downloading.php?group_id=2435&use_mirror=kent&filename=MinGW-5.1.4.exe&a=2687957


I don't plan to develop something like this. Unstandard and for me
at least as irritating than classic Windows installers. Can save
bandwidth, maybe that's the point of it. But 100-150MB install
isn't such big these days, bandwidth isn't a problem if we use
sf.net to host the file.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/bbe02ef2/attachment-0001.html
From harbour.01 at syenar.hu  Sun Mar 29 13:39:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 18:50:41 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <gqob4l$437$1@ger.gmane.org>
References: <20090327162822.GA17333@uran.home.aster.pl>
	<gqj73f$krf$1@ger.gmane.org> <gqj7e9$m2e$1@ger.gmane.org>
	<gqj8rv$q44$1@ger.gmane.org>
	<20090328081105.GD22352@uran.home.aster.pl>
	<gqm8kq$nf8$1@ger.gmane.org>
	<20090329002224.GA21175@uran.home.aster.pl>
	<gqmh9m$9mt$1@ger.gmane.org>
	<20090329083502.GA27416@uran.home.aster.pl>
	<gqob4l$437$1@ger.gmane.org>
Message-ID: <18d502870903291039l78041a2exb1dbd9935af4e5e7@mail.gmail.com>

Hi Angel,
Just one note: Be aware with VNC, as it can suck significant amount
of CPU time in server mode. [ It uses poll method plus bitmap compression
in real-time. ] If you also have RDC connection I recommend that for
testing.

Another small one:
You can remove this line, it's the default, and there is now a different
settings to force old version (see in INSTALL):
set HB_VISUALC_VER=90

Brgds,
Viktor

2009/3/29 Angel Pais <amigosam@adinet.com.uy>

> Here new set of results with download link included...
> Please other windows users download and post results here
>
> HTH
> Angel
>
>
> Przemyslaw Czerpak escribi?:
>
>  Can you also check what will happen if you rebuild Harbour with:
>>   set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC
>>
>> best regards,
>> Przemek
>>
>
>
> Computer PIV Dual COre 3.0 win 2003 server, used tru VNC
>
> 03/29/2009 14:04:15 Windows XP 05.02 Build 03790
> Xbase++ (R) Version 1.90 (MT)+
> THREADS: 2
> N_LOOPS: 1000000
>                                                        1 th.  2 th.  factor
>
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.13   0.12 ->
>  1.08
> [ T002: x := L_N ]____________________________________  0.11   0.09 ->
>  1.22
> [ T003: x := L_D ]____________________________________  0.08   0.08 ->
>  1.00
> [ T004: x := S_C ]____________________________________  0.22   0.20 ->
>  1.10
> [ T005: x := S_N ]____________________________________  0.17   0.16 ->
>  1.06
> [ T006: x := S_D ]____________________________________  0.18   0.28 ->
>  0.64
> [ T007: x := M->M_C ]_________________________________  0.47   0.49 ->
>  0.96
> [ T008: x := M->M_N ]_________________________________  0.34   0.36 ->
>  0.94
> [ T009: x := M->M_D ]_________________________________  0.34   0.36 ->
>  0.94
> [ T010: x := M->P_C ]_________________________________  0.47   0.53 ->
>  0.89
> [ T011: x := M->P_N ]_________________________________  0.58   0.40 ->
>  1.45
> [ T012: x := M->P_D ]_________________________________  0.77   0.81 ->
>  0.95
> [ T013: x := F_C ]____________________________________  0.74   0.70 ->
>  1.06
> [ T014: x := F_N ]____________________________________  0.64   0.58 ->
>  1.10
> [ T015: x := F_D ]____________________________________  0.59   0.64 ->
>  0.92
> [ T016: x := o:Args ]_________________________________  0.42   0.47 ->
>  0.89
> [ T017: x := o[2] ]___________________________________  0.19   0.16 ->
>  1.19
> [ T018: round( i / 1000, 2 ) ]________________________  3.43   3.33 ->
>  1.03
> [ T019: str( i / 1000 ) ]_____________________________ 21.55  21.41 ->
>  1.01
> [ T020: val( s ) ]____________________________________  0.96   1.00 ->
>  0.96
> [ T021: val( a [ i % 16 + 1 ] ) ]_____________________  2.38   2.33 ->
>  1.02
> [ T022: dtos( d - i % 10000 ) ]_______________________  3.25   3.25 ->
>  1.00
> [ T023: eval( { || i % 16 } ) ]_______________________  3.01   3.18 ->
>  0.95
> [ T024: eval( bc := { || i % 16 } ) ]_________________  1.78   1.68 ->
>  1.06
> [ T025: eval( { |x| x % 16 }, i ) ]___________________  1.38   1.41 ->
>  0.98
> [ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.05   1.09 ->
>  0.96
> [ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.56   1.71 ->
>  0.91
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.42   1.55 ->
>  0.92
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  2.04   1.99 ->
>  1.03
> [ T030: x := &( 'f1(' + str(i) + ')' ) ]______________ 60.67  60.14 ->
>  1.01
> [ T031: bc := &( '{|x|f1(x)}' ), eval( bc, i ) ]______ 61.03  61.48 ->
>  0.99
> [ T032: x := valtype( x ) +  valtype( i ) ]___________  1.02   0.90 ->
>  1.13
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ] 23.69  23.80 ->
>  1.00
> [ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.90   0.94 ->
>  0.96
> [ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.36   1.38 ->
>  0.99
> [ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.35   1.38 ->
>  0.98
> [ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.33   1.40 ->
>  0.95
> [ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.32   1.35 ->
>  0.98
> [ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.26   1.36 ->
>  0.93
> [ T040: ascan( a, i % 16 ) ]__________________________  2.11   2.10 ->
>  1.00
> [ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 14.21  14.74 ->
>  0.96
> [ T042: iif( i%1000==0, a:={}, ), aadd(a,{i,1,.t.,s, ] 20.09  20.55 ->
>  0.98
> [ T043: x := a ]______________________________________  0.12   0.11 ->
>  1.09
> [ T044: x := {} ]_____________________________________  1.18   1.46 ->
>  0.81
> [ T045: f0() ]________________________________________  0.47   0.35 ->
>  1.34
> [ T046: f1( i ) ]_____________________________________  0.54   0.47 ->
>  1.15
> [ T047: f2( c[1...8] ) ]______________________________  0.42   0.43 ->
>  0.98
> [ T048: f2( c[1...40000] ) ]__________________________  0.45   0.45 ->
>  1.00
> [ T049: f2( @c[1...40000] ) ]_________________________  0.38   0.39 ->
>  0.97
> [ T050: f2( @c[1...40000] ), c2 := c ]________________  0.51   0.60 ->
>  0.85
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.83   0.76 ->
>  1.09
> [ T052: f2( a ) ]_____________________________________  0.41   0.40 ->
>  1.02
> [ T053: x := f4() ]___________________________________  2.72   2.63 ->
>  1.03
> [ T054: x := f5() ]___________________________________  1.22   1.26 ->
>  0.97
> [ T055: x := space(16) ]______________________________  0.85   0.84 ->
>  1.01
> [ T056: f_prv( c ) ]__________________________________  1.43   1.39 ->
>  1.03
>
> ============================================================================
> [   TOTAL   ]_________________________________________252.12 253.42 ->
>  0.99
>
> ============================================================================
> [ total application time: ]...................................505.66
> [ total real time: ]..........................................505.66
>
> It went ok, however only processor 1 was at 100%
>
>
> Compiler and Enviroment:
> set HB_COMPILER=msvc
> set HB_VISUALC_VER=90
> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF
> 03/29/09 14:12:42 Windows Server 2003 / XP x64 5.2.3790
> Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999
> (32-bit)
> THREADS: 2
> N_LOOPS: 1000000
>                                                        1 th.  2 th.  factor
>
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.28   0.25 ->
>  1.13
> [ T002: x := L_N ]____________________________________  0.19   0.16 ->
>  1.20
> [ T003: x := L_D ]____________________________________  0.16   0.19 ->
>  0.84
> [ T004: x := S_C ]____________________________________  0.30   0.27 ->
>  1.12
> [ T005: x := S_N ]____________________________________  0.19   0.19 ->
>  0.99
> [ T006: x := S_D ]____________________________________  0.22   0.19 ->
>  1.16
> [ T007: x := M->M_C ]_________________________________  0.33   0.31 ->
>  1.05
> [ T008: x := M->M_N ]_________________________________  0.25   0.23 ->
>  1.07
> [ T009: x := M->M_D ]_________________________________  0.22   0.22 ->
>  1.00
> [ T010: x := M->P_C ]_________________________________  0.27   0.27 ->
>  1.00
> [ T011: x := M->P_N ]_________________________________  0.22   0.25 ->
>  0.88
> [ T012: x := M->P_D ]_________________________________  0.23   0.24 ->
>  1.00
> [ T013: x := F_C ]____________________________________  0.88   0.83 ->
>  1.06
> [ T014: x := F_N ]____________________________________  0.72   0.66 ->
>  1.09
> [ T015: x := F_D ]____________________________________  0.41   0.38 ->
>  1.08
> [ T016: x := o:Args ]_________________________________  0.64   0.69 ->
>  0.93
> [ T017: x := o[2] ]___________________________________  0.44   0.47 ->
>  0.93
> [ T018: round( i / 1000, 2 ) ]________________________  0.72   0.64 ->
>  1.12
> [ T019: str( i / 1000 ) ]_____________________________  1.80   1.59 ->
>  1.13
> [ T020: val( s ) ]____________________________________  0.94   0.89 ->
>  1.05
> [ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.58   1.45 ->
>  1.09
> [ T022: dtos( d - i % 10000 ) ]_______________________  1.58   1.31 ->
>  1.20
> [ T023: eval( { || i % 16 } ) ]_______________________  6.41   8.70 ->
>  0.74
> [ T024: eval( bc := { || i % 16 } ) ]_________________  4.83   6.06 ->
>  0.80
> [ T025: eval( { |x| x % 16 }, i ) ]___________________  5.55   7.45 ->
>  0.74
> [ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  4.86   5.99 ->
>  0.81
> [ T027: eval( { |x| f1( x ) }, i ) ]__________________ 10.50  14.55 ->
>  0.72
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  9.49  12.95 ->
>  0.73
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  4.55   5.76 ->
>  0.79
> [ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 19.92  24.89 ->
>  0.80
> [ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 22.70  29.44 ->
>  0.77
> [ T032: x := valtype( x ) +  valtype( i ) ]___________  1.75   1.84 ->
>  0.95
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.99   3.19 ->
>  0.94
> [ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.20   1.24 ->
>  0.97
> [ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.30   1.33 ->
>  0.98
> [ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.33   1.28 ->
>  1.04
> [ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.30   1.30 ->
>  1.00
> [ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.30   1.41 ->
>  0.92
> [ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.39   1.41 ->
>  0.99
> [ T040: ascan( a, i % 16 ) ]__________________________  1.34   1.23 ->
>  1.09
> [ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 52.09  72.94 ->
>  0.71
> [ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.22   4.84 ->
>  0.87
> [ T043: x := a ]______________________________________  0.33   0.38 ->
>  0.87
> [ T044: x := {} ]_____________________________________  0.97   1.67 ->
>  0.58
> [ T045: f0() ]________________________________________  3.16   3.69 ->
>  0.86
> [ T046: f1( i ) ]_____________________________________  3.78   5.11 ->
>  0.74
> [ T047: f2( c[1...8] ) ]______________________________  4.00   5.17 ->
>  0.77
> [ T048: f2( c[1...40000] ) ]__________________________  3.91   5.09 ->
>  0.77
> [ T049: f2( @c[1...40000] ) ]_________________________  3.83   5.02 ->
>  0.76
> [ T050: f2( @c[1...40000] ), c2 := c ]________________  3.84   5.24 ->
>  0.73
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________ 12.30  16.59 ->
>  0.74
> [ T052: f2( a ) ]_____________________________________  3.91   5.11 ->
>  0.76
> [ T053: x := f4() ]___________________________________  6.26   7.95 ->
>  0.79
> [ T054: x := f5() ]___________________________________  3.95   5.53 ->
>  0.71
> [ T055: x := space(16) ]______________________________  1.16   1.22 ->
>  0.95
> [ T056: f_prv( c ) ]__________________________________  5.67   7.53 ->
>  0.75
>
> ============================================================================
> [   TOTAL   ]_________________________________________228.59 294.75 ->
>  0.78
>
> ============================================================================
> [ total application time: ]...................................689.98
> [ total real time: ]..........................................523.52
>
> Both processors at 100%, occasionally 1st. proc was at 60%
>
>
> Compiler and Enviroment:
> set HB_COMPILER=msvc
> set HB_VISUALC_VER=90
> set HB_USER_CFLAGS=-DHB_FM_STATISTICS_OFF -DHB_FM_WIN_ALLOC
> 03/29/09 14:21:25 Windows Server 2003 / XP x64 5.2.3790
> Harbour 1.1.0dev (Rev. 10718) (MT)+ Microsoft Visual C++ 14.0.24999
> (32-bit)
> THREADS: 2
> N_LOOPS: 1000000
>                                                        1 th.  2 th.  factor
>
> ============================================================================
> [ T001: x := L_C ]____________________________________  0.31   0.30 ->
>  1.05
> [ T002: x := L_N ]____________________________________  0.20   0.19 ->
>  1.09
> [ T003: x := L_D ]____________________________________  0.20   0.19 ->
>  1.08
> [ T004: x := S_C ]____________________________________  0.34   0.34 ->
>  1.00
> [ T005: x := S_N ]____________________________________  0.23   0.24 ->
>  1.00
> [ T006: x := S_D ]____________________________________  0.25   0.23 ->
>  1.07
> [ T007: x := M->M_C ]_________________________________  0.38   0.41 ->
>  0.92
> [ T008: x := M->M_N ]_________________________________  0.28   0.30 ->
>  0.95
> [ T009: x := M->M_D ]_________________________________  0.28   0.28 ->
>  1.00
> [ T010: x := M->P_C ]_________________________________  0.36   0.33 ->
>  1.09
> [ T011: x := M->P_N ]_________________________________  0.28   0.28 ->
>  1.00
> [ T012: x := M->P_D ]_________________________________  0.28   0.28 ->
>  1.00
> [ T013: x := F_C ]____________________________________  1.03   1.03 ->
>  1.00
> [ T014: x := F_N ]____________________________________  0.91   0.80 ->
>  1.14
> [ T015: x := F_D ]____________________________________  0.49   0.48 ->
>  1.00
> [ T016: x := o:Args ]_________________________________  0.73   0.83 ->
>  0.89
> [ T017: x := o[2] ]___________________________________  0.55   0.58 ->
>  0.94
> [ T018: round( i / 1000, 2 ) ]________________________  0.91   0.84 ->
>  1.07
> [ T019: str( i / 1000 ) ]_____________________________  2.13   2.03 ->
>  1.05
> [ T020: val( s ) ]____________________________________  1.13   1.05 ->
>  1.07
> [ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.78   1.73 ->
>  1.03
> [ T022: dtos( d - i % 10000 ) ]_______________________  6.06   4.66 ->
>  1.30
> [ T023: eval( { || i % 16 } ) ]_______________________ 16.69  12.03 ->
>  1.39
> [ T024: eval( bc := { || i % 16 } ) ]_________________ 14.28  10.22 ->
>  1.40
> [ T025: eval( { |x| x % 16 }, i ) ]___________________ 16.49  11.73 ->
>  1.40
> [ T026: eval( bc := { |x| x % 16 }, i ) ]_____________ 15.19  11.22 ->
>  1.35
> [ T027: eval( { |x| f1( x ) }, i ) ]__________________ 25.86  18.76 ->
>  1.38
> [ T028: eval( bc := { |x| f1( x ) }, i ) ]____________ 25.16  18.03 ->
>  1.40
> [ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______ 14.58  10.22 ->
>  1.43
> [ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 24.30  22.86 ->
>  1.06
> [ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 25.30  24.38 ->
>  1.04
> [ T032: x := valtype( x ) +  valtype( i ) ]___________  1.61   1.77 ->
>  0.91
> [ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.89   2.91 ->
>  0.99
> [ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.19   1.11 ->
>  1.07
> [ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.30   1.34 ->
>  0.97
> [ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.34   1.33 ->
>  1.01
> [ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.38   1.31 ->
>  1.05
> [ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.33   1.22 ->
>  1.09
> [ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.34   1.33 ->
>  1.01
> [ T040: ascan( a, i % 16 ) ]__________________________  1.23   1.19 ->
>  1.04
> [ T041: ascan( a, { |x| x == i % 16 } ) ]_____________102.17  77.77 ->
>  1.31
> [ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  6.16   5.24 ->
>  1.18
> [ T043: x := a ]______________________________________  0.33   0.31 ->
>  1.05
> [ T044: x := {} ]_____________________________________  1.02   1.13 ->
>  0.90
> [ T045: f0() ]________________________________________  8.11   5.89 ->
>  1.38
> [ T046: f1( i ) ]_____________________________________  8.83   6.89 ->
>  1.28
> [ T047: f2( c[1...8] ) ]______________________________  8.95   6.45 ->
>  1.39
> [ T048: f2( c[1...40000] ) ]__________________________  8.92   6.84 ->
>  1.30
> [ T049: f2( @c[1...40000] ) ]_________________________  8.72   6.83 ->
>  1.28
> [ T050: f2( @c[1...40000] ), c2 := c ]________________  9.39   6.86 ->
>  1.37
> [ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________ 18.05  15.31 ->
>  1.18
> [ T052: f2( a ) ]_____________________________________  8.95   6.89 ->
>  1.30
> [ T053: x := f4() ]___________________________________ 11.74   9.58 ->
>  1.23
> [ T054: x := f5() ]___________________________________  9.11   6.84 ->
>  1.33
> [ T055: x := space(16) ]______________________________  1.08   1.06 ->
>  1.02
> [ T056: f_prv( c ) ]__________________________________ 14.00  10.42 ->
>  1.34
>
> ============================================================================
> [   TOTAL   ]_________________________________________436.06 344.65 ->
>  1.27
>
> ============================================================================
> [ total application time: ]..................................1025.06
> [ total real time: ]..........................................780.83
>
> Both processors at 100% most of the time, slighttly more used second than
> first
>
>
> Tests made with:
>
> http://rapidshare.com/files/215014183/speedhb.zip.html
> MD5: BE33161B84F0C8815AAB628C1341CC55
>
> Download and test yourself on true multiprocessor windows pc.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090329/3d71750e/attachment-0001.html
From info at fsgiudice.com  Sun Mar 29 18:50:09 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Mar 30 18:50:51 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <gqolbe$vr2$2@ger.gmane.org>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>	<gqocnf$86c$1@ger.gmane.org>	<20090329183058.GA711@uran.home.aster.pl>	<gqofej$g7r$1@ger.gmane.org>	<20090329194647.GA1712@uran.home.aster.pl>	<gqojhu$rkn$1@ger.gmane.org>	<20090329201420.GA2325@uran.home.aster.pl>	<gqol1r$vr2$1@ger.gmane.org>
	<gqolbe$vr2$2@ger.gmane.org>
Message-ID: <49CFFB21.3090505@fsgiudice.com>

Hi Przemek,

here are speedtst logs for Vista Ultimate with Intel(R) Core(TM)2 Duo 
CPU T8300 @ 2.40GHz

Next message with 2 x Intel(R) Xeon(TM) CPU 3.00GHz Dual Core (4 Core in 
total) Microsoft Windows Server 2003, Standard Edition Service Pack 2 
(Build 3790)

All tests with speedtest built with:
hbmk2.exe speedtst.prg -mt -gc3 -l -ko

Best regards,
Francesco
-------------- next part --------------

03/30/09 00:31:37 Windows Vista 6.0.6001 Service Pack 1
Harbour 1.1.0dev (Rev. 10728) (MT)+ Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 4
N_LOOPS: 1000000
                                                        1 th.  4 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.36   0.20 ->  1.76
[ T002: x := L_N ]____________________________________  0.22   0.13 ->  1.74
[ T003: x := L_D ]____________________________________  0.22   0.13 ->  1.74
[ T004: x := S_C ]____________________________________  0.42   0.31 ->  1.35
[ T005: x := S_N ]____________________________________  0.26   0.14 ->  1.88
[ T006: x := S_D ]____________________________________  0.26   0.17 ->  1.55
[ T007: x := M->M_C ]_________________________________  0.48   0.27 ->  1.83
[ T008: x := M->M_N ]_________________________________  0.31   0.19 ->  1.67
[ T009: x := M->M_D ]_________________________________  0.31   0.19 ->  1.66
[ T010: x := M->P_C ]_________________________________  0.36   0.22 ->  1.63
[ T011: x := M->P_N ]_________________________________  0.31   0.19 ->  1.67
[ T012: x := M->P_D ]_________________________________  0.31   0.20 ->  1.54
[ T013: x := F_C ]____________________________________  1.00   0.55 ->  1.83
[ T014: x := F_N ]____________________________________  0.84   0.45 ->  1.87
[ T015: x := F_D ]____________________________________  0.50   0.26 ->  1.88
[ T016: x := o:Args ]_________________________________  0.89   0.48 ->  1.84
[ T017: x := o[2] ]___________________________________  0.62   0.34 ->  1.82
[ T018: round( i / 1000, 2 ) ]________________________  1.00   0.55 ->  1.83
[ T019: str( i / 1000 ) ]_____________________________  2.42   1.28 ->  1.89
[ T020: val( s ) ]____________________________________  1.15   0.61 ->  1.90
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.83   1.00 ->  1.83
[ T022: dtos( d - i % 10000 ) ]_______________________  1.89   1.01 ->  1.86
[ T023: eval( { || i % 16 } ) ]_______________________  2.59   1.78 ->  1.46
[ T024: eval( bc := { || i % 16 } ) ]_________________  1.17   0.62 ->  1.88
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.87   1.48 ->  1.26
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.20   0.69 ->  1.75
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  2.15   1.62 ->  1.33
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.44   0.83 ->  1.74
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.50   0.80 ->  1.88
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 11.90   6.54 ->  1.82
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 14.91   8.91 ->  1.67
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.89   1.04 ->  1.81
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  3.17   1.72 ->  1.85
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.40   0.76 ->  1.84
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.45   0.80 ->  1.82
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.47   0.80 ->  1.84
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.47   0.81 ->  1.81
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.47   0.81 ->  1.81
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.51   0.81 ->  1.87
[ T040: ascan( a, i % 16 ) ]__________________________  1.44   0.76 ->  1.88
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 14.77   8.45 ->  1.75
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.32   2.65 ->  1.63
[ T043: x := a ]______________________________________  0.39   0.20 ->  1.92
[ T044: x := {} ]_____________________________________  1.04   0.95 ->  1.10
[ T045: f0() ]________________________________________  0.44   0.25 ->  1.76
[ T046: f1( i ) ]_____________________________________  0.61   0.33 ->  1.86
[ T047: f2( c[1...8] ) ]______________________________  0.73   0.39 ->  1.88
[ T048: f2( c[1...40000] ) ]__________________________  0.72   0.41 ->  1.77
[ T049: f2( @c[1...40000] ) ]_________________________  0.51   0.28 ->  1.84
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.77   0.40 ->  1.89
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  2.23   1.15 ->  1.93
[ T052: f2( a ) ]_____________________________________  0.69   0.39 ->  1.76
[ T053: x := f4() ]___________________________________  3.17   1.73 ->  1.83
[ T054: x := f5() ]___________________________________  1.44   0.76 ->  1.88
[ T055: x := space(16) ]______________________________  1.19   0.64 ->  1.86
[ T056: f_prv( c ) ]__________________________________  2.53   1.34 ->  1.88
============================================================================
[   TOTAL   ]_________________________________________105.50  60.78 ->  1.74
============================================================================
[ total application time: ]...................................222.55
[ total real time: ]..........................................166.36

03/30/09 00:34:27 Windows Vista 6.0.6001 Service Pack 1
Harbour 1.1.0dev (Rev. 10728) (MT)+ Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 4
N_LOOPS: 1000000
                                                        1 th.  4 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.36   0.19 ->  1.90
[ T002: x := L_N ]____________________________________  0.23   0.11 ->  2.15
[ T003: x := L_D ]____________________________________  0.22   0.13 ->  1.74
[ T004: x := S_C ]____________________________________  0.42   0.34 ->  1.23
[ T005: x := S_N ]____________________________________  0.28   0.14 ->  1.99
[ T006: x := S_D ]____________________________________  0.27   0.14 ->  1.89
[ T007: x := M->M_C ]_________________________________  0.48   0.26 ->  1.83
[ T008: x := M->M_N ]_________________________________  0.33   0.17 ->  1.92
[ T009: x := M->M_D ]_________________________________  0.34   0.19 ->  1.82
[ T010: x := M->P_C ]_________________________________  0.36   0.22 ->  1.63
[ T011: x := M->P_N ]_________________________________  0.33   0.19 ->  1.74
[ T012: x := M->P_D ]_________________________________  0.31   0.17 ->  1.82
[ T013: x := F_C ]____________________________________  1.00   0.55 ->  1.83
[ T014: x := F_N ]____________________________________  0.83   0.44 ->  1.89
[ T015: x := F_D ]____________________________________  0.50   0.28 ->  1.78
[ T016: x := o:Args ]_________________________________  0.89   0.48 ->  1.84
[ T017: x := o[2] ]___________________________________  0.61   0.31 ->  1.95
[ T018: round( i / 1000, 2 ) ]________________________  1.00   0.56 ->  1.78
[ T019: str( i / 1000 ) ]_____________________________  2.36   1.25 ->  1.89
[ T020: val( s ) ]____________________________________  1.14   0.61 ->  1.87
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.86   1.00 ->  1.86
[ T022: dtos( d - i % 10000 ) ]_______________________  1.87   1.06 ->  1.76
[ T023: eval( { || i % 16 } ) ]_______________________  2.62   1.78 ->  1.47
[ T024: eval( bc := { || i % 16 } ) ]_________________  1.23   0.65 ->  1.88
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.92   1.51 ->  1.27
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.25   0.66 ->  1.91
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  2.14   1.62 ->  1.32
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.47   0.79 ->  1.85
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.53   0.83 ->  1.85
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 11.95   7.10 ->  1.68
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 15.24   8.77 ->  1.74
[ T032: x := valtype( x ) +  valtype( i ) ]___________  2.00   1.03 ->  1.94
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  3.18   1.70 ->  1.87
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.39   0.75 ->  1.85
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.48   0.81 ->  1.83
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.59   0.81 ->  1.96
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.51   0.83 ->  1.83
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.51   0.81 ->  1.87
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.50   0.83 ->  1.81
[ T040: ascan( a, i % 16 ) ]__________________________  1.39   0.73 ->  1.89
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 14.38   8.11 ->  1.77
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.37   2.61 ->  1.68
[ T043: x := a ]______________________________________  0.39   0.20 ->  1.92
[ T044: x := {} ]_____________________________________  1.06   0.95 ->  1.11
[ T045: f0() ]________________________________________  0.42   0.26 ->  1.59
[ T046: f1( i ) ]_____________________________________  0.62   0.33 ->  1.90
[ T047: f2( c[1...8] ) ]______________________________  0.73   0.47 ->  1.57
[ T048: f2( c[1...40000] ) ]__________________________  0.75   0.39 ->  1.92
[ T049: f2( @c[1...40000] ) ]_________________________  0.51   0.28 ->  1.83
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.80   0.42 ->  1.89
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  2.12   1.14 ->  1.86
[ T052: f2( a ) ]_____________________________________  0.73   0.37 ->  1.96
[ T053: x := f4() ]___________________________________  3.20   1.75 ->  1.83
[ T054: x := f5() ]___________________________________  1.45   0.78 ->  1.86
[ T055: x := space(16) ]______________________________  1.19   0.64 ->  1.86
[ T056: f_prv( c ) ]__________________________________  2.61   1.42 ->  1.83
============================================================================
[   TOTAL   ]_________________________________________106.20  60.92 ->  1.74
============================================================================
[ total application time: ]...................................222.93
[ total real time: ]..........................................167.22

03/30/09 00:37:47 Windows Vista 6.0.6001 Service Pack 1
Harbour 1.1.0dev (Rev. 10728) (MT)+ Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 4
N_LOOPS: 1000000
                                                        1 th.  4 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.39   0.20 ->  1.92
[ T002: x := L_N ]____________________________________  0.22   0.11 ->  2.00
[ T003: x := L_D ]____________________________________  0.22   0.11 ->  2.00
[ T004: x := S_C ]____________________________________  0.45   0.31 ->  1.45
[ T005: x := S_N ]____________________________________  0.30   0.14 ->  2.10
[ T006: x := S_D ]____________________________________  0.30   0.14 ->  2.11
[ T007: x := M->M_C ]_________________________________  0.50   0.26 ->  1.88
[ T008: x := M->M_N ]_________________________________  0.33   0.19 ->  1.75
[ T009: x := M->M_D ]_________________________________  0.33   0.19 ->  1.75
[ T010: x := M->P_C ]_________________________________  0.36   0.20 ->  1.77
[ T011: x := M->P_N ]_________________________________  0.31   0.19 ->  1.67
[ T012: x := M->P_D ]_________________________________  0.31   0.22 ->  1.42
[ T013: x := F_C ]____________________________________  0.98   0.55 ->  1.80
[ T014: x := F_N ]____________________________________  0.84   0.45 ->  1.86
[ T015: x := F_D ]____________________________________  0.48   0.26 ->  1.83
[ T016: x := o:Args ]_________________________________  0.87   0.47 ->  1.87
[ T017: x := o[2] ]___________________________________  0.59   0.33 ->  1.81
[ T018: round( i / 1000, 2 ) ]________________________  0.98   0.56 ->  1.75
[ T019: str( i / 1000 ) ]_____________________________  2.34   1.28 ->  1.83
[ T020: val( s ) ]____________________________________  1.14   0.62 ->  1.83
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.84   1.11 ->  1.66
[ T022: dtos( d - i % 10000 ) ]_______________________  1.90   1.03 ->  1.85
[ T023: eval( { || i % 16 } ) ]_______________________  2.68   1.86 ->  1.44
[ T024: eval( bc := { || i % 16 } ) ]_________________  1.23   0.64 ->  1.93
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.90   1.53 ->  1.24
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  1.20   0.67 ->  1.79
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  2.17   1.62 ->  1.34
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  1.48   0.83 ->  1.79
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  1.47   0.79 ->  1.85
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 12.23   6.75 ->  1.81
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 15.29   8.63 ->  1.77
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.92   1.03 ->  1.86
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  3.12   1.68 ->  1.85
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.36   0.75 ->  1.81
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.48   0.81 ->  1.83
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.50   0.81 ->  1.84
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.51   0.83 ->  1.83
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.50   0.80 ->  1.88
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.48   0.83 ->  1.79
[ T040: ascan( a, i % 16 ) ]__________________________  1.40   0.73 ->  1.92
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 14.60   8.05 ->  1.81
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.35   2.62 ->  1.66
[ T043: x := a ]______________________________________  0.38   0.20 ->  1.86
[ T044: x := {} ]_____________________________________  1.06   0.98 ->  1.08
[ T045: f0() ]________________________________________  0.44   0.25 ->  1.76
[ T046: f1( i ) ]_____________________________________  0.59   0.31 ->  1.90
[ T047: f2( c[1...8] ) ]______________________________  0.77   0.40 ->  1.89
[ T048: f2( c[1...40000] ) ]__________________________  0.72   0.40 ->  1.77
[ T049: f2( @c[1...40000] ) ]_________________________  0.53   0.30 ->  1.79
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.76   0.44 ->  1.75
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  2.17   1.15 ->  1.88
[ T052: f2( a ) ]_____________________________________  0.72   0.38 ->  1.91
[ T053: x := f4() ]___________________________________  3.23   1.72 ->  1.88
[ T054: x := f5() ]___________________________________  1.45   0.75 ->  1.94
[ T055: x := space(16) ]______________________________  1.20   0.64 ->  1.88
[ T056: f_prv( c ) ]__________________________________  2.62   1.40 ->  1.87
============================================================================
[   TOTAL   ]_________________________________________106.50  60.51 ->  1.76
============================================================================
[ total application time: ]...................................222.93
[ total real time: ]..........................................167.15

-------------- next part --------------

03/29/09 23:42:51 Windows Vista 6.0.6001 Service Pack 1
Harbour 1.1.0dev (Rev. 10728) (MT)+ Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.17   0.09 ->  1.85
[ T002: x := L_N ]____________________________________  0.11   0.06 ->  1.77
[ T003: x := L_D ]____________________________________  0.11   0.06 ->  1.73
[ T004: x := S_C ]____________________________________  0.20   0.16 ->  1.29
[ T005: x := S_N ]____________________________________  0.14   0.06 ->  2.22
[ T006: x := S_D ]____________________________________  0.14   0.08 ->  1.79
[ T007: x := M->M_C ]_________________________________  0.25   0.13 ->  2.00
[ T008: x := M->M_N ]_________________________________  0.17   0.09 ->  1.82
[ T009: x := M->M_D ]_________________________________  0.17   0.17 ->  0.99
[ T010: x := M->P_C ]_________________________________  0.20   0.13 ->  1.62
[ T011: x := M->P_N ]_________________________________  0.17   0.08 ->  2.19
[ T012: x := M->P_D ]_________________________________  0.16   0.09 ->  1.68
[ T013: x := F_C ]____________________________________  0.50   0.28 ->  1.79
[ T014: x := F_N ]____________________________________  0.42   0.22 ->  1.94
[ T015: x := F_D ]____________________________________  0.26   0.13 ->  2.12
[ T016: x := o:Args ]_________________________________  0.45   0.23 ->  1.93
[ T017: x := o[2] ]___________________________________  0.31   0.16 ->  2.00
[ T018: round( i / 1000, 2 ) ]________________________  0.48   0.28 ->  1.72
[ T019: str( i / 1000 ) ]_____________________________  1.20   0.65 ->  1.83
[ T020: val( s ) ]____________________________________  0.59   0.31 ->  1.90
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.94   0.50 ->  1.88
[ T022: dtos( d - i % 10000 ) ]_______________________  1.00   0.50 ->  2.00
[ T023: eval( { || i % 16 } ) ]_______________________  1.33   0.84 ->  1.57
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.62   0.33 ->  1.90
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.95   0.69 ->  1.39
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.59   0.33 ->  1.81
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.14   0.81 ->  1.40
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.75   0.40 ->  1.85
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.75   0.41 ->  1.84
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  5.97   3.31 ->  1.81
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  7.50   4.27 ->  1.76
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.94   0.50 ->  1.88
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.64   0.84 ->  1.94
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.69   0.38 ->  1.83
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.73   0.42 ->  1.74
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.73   0.41 ->  1.81
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.75   0.40 ->  1.85
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.73   0.41 ->  1.81
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.75   0.42 ->  1.78
[ T040: ascan( a, i % 16 ) ]__________________________  0.72   0.37 ->  1.92
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  7.75   4.43 ->  1.75
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.20   1.33 ->  1.66
[ T043: x := a ]______________________________________  0.19   0.11 ->  1.72
[ T044: x := {} ]_____________________________________  0.53   0.47 ->  1.13
[ T045: f0() ]________________________________________  0.20   0.13 ->  1.62
[ T046: f1( i ) ]_____________________________________  0.31   0.16 ->  2.00
[ T047: f2( c[1...8] ) ]______________________________  0.38   0.20 ->  1.86
[ T048: f2( c[1...40000] ) ]__________________________  0.38   0.20 ->  1.85
[ T049: f2( @c[1...40000] ) ]_________________________  0.28   0.14 ->  1.99
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.39   0.20 ->  1.92
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.09   0.59 ->  1.84
[ T052: f2( a ) ]_____________________________________  0.38   0.19 ->  2.01
[ T053: x := f4() ]___________________________________  1.61   0.86 ->  1.87
[ T054: x := f5() ]___________________________________  0.72   0.39 ->  1.84
[ T055: x := space(16) ]______________________________  0.59   0.31 ->  1.90
[ T056: f_prv( c ) ]__________________________________  1.37   0.70 ->  1.96
============================================================================
[   TOTAL   ]_________________________________________ 53.80  30.40 ->  1.77
============================================================================
[ total application time: ]...................................112.51
[ total real time: ]...........................................84.30

03/29/09 23:45:04 Windows Vista 6.0.6001 Service Pack 1
Harbour 1.1.0dev (Rev. 10728) (MT)+ Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.19   0.09 ->  1.99
[ T002: x := L_N ]____________________________________  0.11   0.06 ->  1.76
[ T003: x := L_D ]____________________________________  0.11   0.06 ->  1.73
[ T004: x := S_C ]____________________________________  0.22   0.16 ->  1.40
[ T005: x := S_N ]____________________________________  0.14   0.08 ->  1.81
[ T006: x := S_D ]____________________________________  0.14   0.06 ->  2.26
[ T007: x := M->M_C ]_________________________________  0.31   0.14 ->  2.23
[ T008: x := M->M_N ]_________________________________  0.17   0.08 ->  2.21
[ T009: x := M->M_D ]_________________________________  0.17   0.08 ->  2.19
[ T010: x := M->P_C ]_________________________________  0.20   0.14 ->  1.45
[ T011: x := M->P_N ]_________________________________  0.19   0.08 ->  2.41
[ T012: x := M->P_D ]_________________________________  0.17   0.08 ->  2.19
[ T013: x := F_C ]____________________________________  0.51   0.28 ->  1.84
[ T014: x := F_N ]____________________________________  0.45   0.22 ->  2.08
[ T015: x := F_D ]____________________________________  0.26   0.14 ->  1.88
[ T016: x := o:Args ]_________________________________  0.44   0.23 ->  1.87
[ T017: x := o[2] ]___________________________________  0.33   0.16 ->  2.10
[ T018: round( i / 1000, 2 ) ]________________________  0.53   0.51 ->  1.03
[ T019: str( i / 1000 ) ]_____________________________  1.31   0.64 ->  2.05
[ T020: val( s ) ]____________________________________  0.62   0.31 ->  2.00
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.04   0.50 ->  2.09
[ T022: dtos( d - i % 10000 ) ]_______________________  1.03   0.51 ->  2.00
[ T023: eval( { || i % 16 } ) ]_______________________  1.40   1.22 ->  1.15
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.64   0.33 ->  1.95
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.01   0.94 ->  1.08
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.64   0.33 ->  1.95
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.17   1.04 ->  1.12
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.80   0.40 ->  1.97
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.78   0.39 ->  2.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.38   3.28 ->  1.95
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  8.05   5.99 ->  1.34
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.01   0.55 ->  1.86
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.67   0.86 ->  1.95
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.73   0.37 ->  1.96
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.80   0.41 ->  1.96
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.78   0.40 ->  1.93
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.80   0.40 ->  1.97
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.80   0.41 ->  1.96
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.83   0.42 ->  1.96
[ T040: ascan( a, i % 16 ) ]__________________________  0.73   0.37 ->  1.96
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  7.91   6.71 ->  1.18
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.29   1.31 ->  1.75
[ T043: x := a ]______________________________________  0.20   0.09 ->  2.18
[ T044: x := {} ]_____________________________________  0.55   0.45 ->  1.21
[ T045: f0() ]________________________________________  0.22   0.13 ->  1.74
[ T046: f1( i ) ]_____________________________________  0.30   0.16 ->  1.90
[ T047: f2( c[1...8] ) ]______________________________  0.39   0.19 ->  2.07
[ T048: f2( c[1...40000] ) ]__________________________  0.36   0.20 ->  1.77
[ T049: f2( @c[1...40000] ) ]_________________________  0.26   0.16 ->  1.70
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.37   0.28 ->  1.33
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.04   0.58 ->  1.81
[ T052: f2( a ) ]_____________________________________  0.36   0.19 ->  1.90
[ T053: x := f4() ]___________________________________  1.57   0.90 ->  1.74
[ T054: x := f5() ]___________________________________  0.78   0.37 ->  2.09
[ T055: x := space(16) ]______________________________  0.61   0.31 ->  1.95
[ T056: f_prv( c ) ]__________________________________  1.36   0.72 ->  1.89
============================================================================
[   TOTAL   ]_________________________________________ 56.25  35.48 ->  1.59
============================================================================
[ total application time: ]...................................112.62
[ total real time: ]...........................................91.87

03/29/09 23:50:20 Windows Vista 6.0.6001 Service Pack 1
Harbour 1.1.0dev (Rev. 10728) (MT)+ Microsoft Visual C++ 15.0.26569 (32-bit)
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.19   0.11 ->  1.72
[ T002: x := L_N ]____________________________________  0.13   0.08 ->  1.60
[ T003: x := L_D ]____________________________________  0.13   0.08 ->  1.60
[ T004: x := S_C ]____________________________________  0.22   0.17 ->  1.27
[ T005: x := S_N ]____________________________________  0.14   0.08 ->  1.79
[ T006: x := S_D ]____________________________________  0.14   0.08 ->  1.81
[ T007: x := M->M_C ]_________________________________  0.26   0.14 ->  1.89
[ T008: x := M->M_N ]_________________________________  0.17   0.09 ->  1.85
[ T009: x := M->M_D ]_________________________________  0.17   0.17 ->  1.00
[ T010: x := M->P_C ]_________________________________  0.20   0.13 ->  1.62
[ T011: x := M->P_N ]_________________________________  0.16   0.11 ->  1.43
[ T012: x := M->P_D ]_________________________________  0.16   0.09 ->  1.66
[ T013: x := F_C ]____________________________________  0.50   0.28 ->  1.78
[ T014: x := F_N ]____________________________________  0.40   0.25 ->  1.62
[ T015: x := F_D ]____________________________________  0.25   0.14 ->  1.77
[ T016: x := o:Args ]_________________________________  0.47   0.25 ->  1.88
[ T017: x := o[2] ]___________________________________  0.30   0.17 ->  1.74
[ T018: round( i / 1000, 2 ) ]________________________  0.51   0.25 ->  2.06
[ T019: str( i / 1000 ) ]_____________________________  1.19   0.70 ->  1.69
[ T020: val( s ) ]____________________________________  0.58   0.34 ->  1.68
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.92   0.51 ->  1.79
[ T022: dtos( d - i % 10000 ) ]_______________________  0.94   0.53 ->  1.77
[ T023: eval( { || i % 16 } ) ]_______________________  1.34   0.87 ->  1.54
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.62   0.33 ->  1.90
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.01   0.69 ->  1.48
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.61   0.36 ->  1.69
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.12   0.83 ->  1.36
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.73   0.42 ->  1.74
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.75   0.42 ->  1.78
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.04   3.29 ->  1.83
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  7.47   4.32 ->  1.73
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.97   0.53 ->  1.82
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.58   0.89 ->  1.77
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.72   0.40 ->  1.77
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.76   0.44 ->  1.75
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.76   0.44 ->  1.75
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.76   0.44 ->  1.75
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.78   0.44 ->  1.78
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.80   0.44 ->  1.82
[ T040: ascan( a, i % 16 ) ]__________________________  0.72   0.37 ->  1.92
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  7.55   4.40 ->  1.72
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.20   1.33 ->  1.66
[ T043: x := a ]______________________________________  0.20   0.11 ->  1.86
[ T044: x := {} ]_____________________________________  0.53   0.44 ->  1.22
[ T045: f0() ]________________________________________  0.22   0.11 ->  2.01
[ T046: f1( i ) ]_____________________________________  0.30   0.16 ->  1.90
[ T047: f2( c[1...8] ) ]______________________________  0.38   0.20 ->  1.86
[ T048: f2( c[1...40000] ) ]__________________________  0.39   0.20 ->  1.92
[ T049: f2( @c[1...40000] ) ]_________________________  0.26   0.16 ->  1.70
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.39   0.22 ->  1.78
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.11   0.59 ->  1.87
[ T052: f2( a ) ]_____________________________________  0.36   0.20 ->  1.77
[ T053: x := f4() ]___________________________________  1.57   0.86 ->  1.84
[ T054: x := f5() ]___________________________________  0.72   0.39 ->  1.84
[ T055: x := space(16) ]______________________________  0.61   0.33 ->  1.85
[ T056: f_prv( c ) ]__________________________________  1.33   0.75 ->  1.77
============================================================================
[   TOTAL   ]_________________________________________ 53.77  31.10 ->  1.73
============================================================================
[ total application time: ]...................................113.16
[ total real time: ]...........................................84.96

From harbour.01 at syenar.hu  Mon Mar 30 18:54:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 18:54:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10743] trunk/harbour
In-Reply-To: <E1LoNoX-00024V-AD@3kljzd1.ch3.sourceforge.com>
References: <E1LoNoX-00024V-AD@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903301554m14bf01eao3dc6fbadb7582347@mail.gmail.com>

Hi Przemek,


>  * harbour/source/vm/fm.c
>    % use DLMALLOC as default memory manager in OpenWatcom Windows builds.
>      Warning: HB_FM_DLMT_ALLOC does not work with OpenWatcom.
>

Thanks.


>  * harbour/config/dos/owatcom.cf
>  * harbour/config/win/owatcom.cf
>  * harbour/config/linux/owatcom.cf
>  * harbour/config/os2/owatcom.cf
>    * changed alignment settings from 8 to 4
>    * synced optimization flags used in different builds
>    ! fixed linker parameters when HB_BUILD_DEBUG=yes is set
>    ; TOVERIFY: I do not remember what calling convention should be used
>      in OpenWatcom MT OS2 builds to eliminate GPF when APIENTRY16 functions
>      are called. It's possible that current settings are wrong.
>

They almost surely *are* wrong. I've just copied them from
win version in the hope OS/2 users will be interested and
tweak it.


>  * harbour/config/win/owatcom.cf
>    * removed STACK=65536 from OpenWatcom linker parameters.
>      This switch probably was inherited from old DOS WatcomC builds.
>      Later I'll test current OpwnWatcom builds to check if we can also
>      remove it from DOS builds when cwstub.exe is used.
>    * restored -bm switch. When DLMALLOC is used it does not cause
>      noticeable performance reduction.
>    * use default register calling convention. We can change it
>      in the future but 1-st we should check the performance overhead.
>      If calling convention is a problem only for .DLLs then it can
>      be resolved by modifying HB_EXTERN declaration and adding function
>      attributes which will force given calling convention.
>

Thanks, IMO we must do this as the definitive goal is to have
interchangeable harbour dll. This is very important and one of the
main points of .dlls. Notice that .dll support in win/owatcom is
broken due some startup procedure problems.

 * harbour/config/linux/owatcom.cf
>    * enabled pentium pro instruction in OpenWatcom Linux builds.
>      It reduces the code size and increase performance a little bit.
>      Windows users which do not need pure pentium CPU support can make
>      the same.
>

We're already PPro level for some compiler, so IMO it's safe to do for
win/owatcom.


>  * harbour/utils/hbmk2/hbmk2.prg
>    ! fixed OpenWatcom calling convention settings. Viktor you cannot chose
>      simultaneously register and stack calling convention. You have to
> chose
>      one and keep it synced with Harbour compile time settings. Otherwise
>      you will have unresolved external or you will force creating by linker
>      dynamically function call wrappers (of course if OW support such
>      functionality) what may strongly reduce the performance.
>

Well, I just copied them from .cf files, which weren't developed by
me, so don't blame me :)

After settling with the switches in .cf files I was planning to do a
sync with hbmk2. It's in the included TODO list.

Thanks for your changes.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/b1175662/attachment.html
From harbour.01 at syenar.hu  Mon Mar 30 19:13:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 19:13:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10738] trunk/harbour
In-Reply-To: <20090330175345.GA14923@uran.home.aster.pl>
References: <E1LoFT8-00042c-QJ@3kljzd1.ch3.sourceforge.com>
	<20090330125859.GA21237@uran.home.aster.pl>
	<18d502870903300708m76591ea9t4558e313f9265098@mail.gmail.com>
	<20090330175345.GA14923@uran.home.aster.pl>
Message-ID: <18d502870903301613w1e233bf7r69844abccd1b41d6@mail.gmail.com>

Hi Przemek,


> We were discussing about it when OW OS2 port was added.
> If you want to set this flag as default then you have to
> also enable DL malloc as default memory manager. It will
> reduce a little bit the performance in single thread application
> but MT once will be usable. The problem is with OS2 builds because
> dlmalloc does not support this OS.
> So far I haven't found time to check in OpenWatcom source code why the
> memory manager used of MT mode is such slow.


Could you enable DLMALLOC for owatcom? [ I don't want to mess it up ]

[ I see you committed most of the things along these lines. Hereby thanks
and sorry for some double thoughts in this mail. ]


> I know what it does. And for sure it's good to use it if necessary.
> But it will be also good if you will test the results of switching
> you are enabling. I know that it's time consuming but in some cases
> we also lost information about already tested and updated settings.
> Probably now when we do not use CRTL *printf() functions familly
> then we do not use any other functions which needs separate MT/ST
> versions (except memory allocator) so it should be enough to compile
> only hbvm with this switch. Anyhow it's not good practice because
> we do not know what exactly this switch does. We should ask on Open
> Watcom devel list or look in the source code for details.


A quick check today revealed that it doesn't change generated machine code,
but it will link against the MT C RTL instead of ST one plus I see a symbol
in
the .obj named __imthread. I didn't investigate what it does or how it's
used.


> > > performance is -5s but I haven't made any real tests here and I only
> > > guess that stack calling convention is slower then register one.
> > It's definitely slower, but needed for compatible .dll generation
> > as far as I understood Andi's mail. Didn't spend time to do
> > side-by-side comparison though.
>
> It's only necessary if you want to use OpenWatcom harbour.dll with
> other Harbour builds. It's not necessary if you want to use OpenWatcom
> harbour.dll with OpenWatcom Harbour builds.


The idea is that harbour.dlls are interchangeable (I think this is a major
point in .dlls), so we should allow for this definitely. [ BTW, owatcom
.dll
support still doesn't work for other reasons. ]


> Anyhow if for some reasons you want to make harbour.dll with OpenWatcom
> and use it later with other compilers then it's enough to change only
> attributes of exported functions and it's not necessary to manipulate
> with calling convention of the whole build. Just like you do not have
> to change it for static builds. Such option can be set only for DLLs.
> Personally I'd prefer to use native for compiler settings.


It would be better indeed, but I have no idea how to tweak exported
function attributes. We can remove this once this is set. Maybe it
already is, someone should check. [ or maybe I will with new rev. ]

If I want to make something different then I can use HB_USER_CFLAGS.
> Anyhow in this particular case the calling convention options should
> be changed extremely carefully. In OS2 builds they were badly interact
> when some OS2 16bit API functions were called and we were fighting for
> quite long time with GPF in MT mode. Finally Maurilio set it to value
> which were playing well OS2 16bit API but in fact we haven't checked
> if this can be resolved by local only modification not by global
> calling convention change.


Hm, and that leads me to the point that os2/owatcom.cf was added by
me by copying one of the existing copies, so the settings there are
*almost surely wrong*. It would need OS/2 users to tweak it, test it or
just to set those good looking settings you mention above.


> BTW hbmk2 should inherit some of the above flags.

Now when we moved all C compiler flags settings to *.cf files we have
> nothing to detect them at runtime. I think that it will be good to
> use one common for all compiler make variable with C flags which we
> can pass to hbpp and store in header files. Otherwise you will have
> problem with keeping hbmk2 synced and it will not be possible to use
> it with custom Harbour builds which may needs some special settings,
> f.e. calling convention. Not all C compiler settings can be disabled
> by setting some opposite options second time.


Yes, I was thinking about something like this, for me it would be many
times important to retrieve the default settings of a given build, and
currently there is no way to do it (also for default Harbour flags). Such
information could be included in speedtst output even. If you could
lay the infrastructure for this, I would finish it.

Since every file/lib can have different settings, we should keep this
effect on current minimum level in the future.


> If you plan to leave it in such version then for sure yes. I'd prefer
> fully functional and quite fast ST builds then unsable.
> Anyhow it is necessary for MT support but it's always good to check what
> it does. In this case I'd prefer to enable DLMALLOC as default for
> OpenWatcom Windows builds.


Please do it.


> Viktor, no offence but it's a problem when you are making some local
> tests for only few possible conditions and then you are updating SVN
> code to your results which does not have to be representative.
> In this case we end with such information in ChangeLog:


Well I know, but I only have two hands and 24 hours a day, so
please nobody expect me to do extensive tests with dozens of
compilers with tens of different flag combinations and becoming
an expert of every details. I'm trying my best, but this is impossible.
I'm no owatcom user, so this is my humble attempt to do something
about experienced bad performance, while trying to sync things
and fix things I happen to find along the way. I do these thing in
the hope that someone is interested and will tweak it further,
corrections and more insight is always welcome and in fact essential.
It happens along the way that there isn't a straight road towards
the end result, but since we're in development it's somewhat normal.

All in all, I hope owatcom users will take care of their compiler.

It's not a problem of 1-st, 2-nd, ..., 10-th line.
> If developers will not be interested in updating some builds then they
> will die. Nothing more nothing less.
> But when you are leaving such notes like above then for sure we will
> not find anyone to work on it.


There wasn't a huge crowd before my comment either. Unfortunately :(
My latest attempts were the last efforts to get owatcom out of the bad
reputation. Overall though - and after dealing with lots of compilers lately
-
I see that we should focus on MinGW and MSVC.

I know you restored it but just for information and to clarify what
> Mindaugas
> wrote about it because we will have other myth about -ko slowing -gc3 code.


Well, for me it did actually slow down the _end result_. What can I say.
It was not a random process, it was not a sudden peak, it was measured,
and repeatable. I don't didn't look into the result details, which was a
mistake, luckily Mindaugas gave an explanation pointing to these. Later
I've used the details to find out the real nature of MinGW 4.3.3 from 4.3.2
"slowdown", which was actually a speedup if you consider each test
individually.


> So the speedtst code is always faster and smaller. But of course it can
> be executed slower on some computer. It's the side effect of used CPU
> caches in modern computers.
> F.e. you can delete some unused function from hvm.c and it may increase
> or decrease the performance in some tests on some computers.
> Why? Because it will change memory alignment of other code what will
> interact with CPU cache usage. But it does not mean that we should try
> to tune the Harbour core code for some CPU cache usage in the computer
> you are using for tests.


Yes, that may well be true. Please correct me if I send wrong conclusions,
I'm not offended, just please don't question what I *see* on screen in
general :)


> BTW by default macro compiler inherits compile time optimization flags
>    and settings. It can be disabled by -kr compile time switch.
>    You can test it using this code:
>         proc main()
>            M->VAR:="ABC"
>            ? &("M->VAR+0")
>         return
>   try to compile it with with such switches:
>      1) default switches
>      2) -ko
>      3) -ko -kr


Which means it makes code less compatible with Clipper, which
means we should also use -kr for Harbour builds? Question: Should we?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/c9ccab29/attachment-0001.html
From vszakats at users.sourceforge.net  Mon Mar 30 19:29:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 19:29:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10746] trunk/harbour
Message-ID: <E1LoQur-0007Ug-DA@3kljzd1.ch3.sourceforge.com>

Revision: 10746
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10746&view=rev
Author:   vszakats
Date:     2009-03-30 23:29:16 +0000 (Mon, 30 Mar 2009)

Log Message:
-----------
2009-03-31 01:28 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * contrib/hbqt/Makefile
    - Disabled for poccce due to errors.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Mon Mar 30 19:33:28 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Mar 30 19:33:25 2009
Subject: [Harbour] telepahty, output overflow
In-Reply-To: <1238424461926-2557628.post@n2.nabble.com>
References: <1238423843003-2557549.post@n2.nabble.com>	<49D0DA5A.2030407@mweb.co.za>
	<1238424461926-2557628.post@n2.nabble.com>
Message-ID: <49D156C8.2020504@zen.co.uk>

May be worth looking at the functions in 
SVN/harbour/contrib/hbtpathy/telepath.prg
tp_ctrlcts( nPort, nNewCtrl )
tp_ctrlrts( nPort, nNewCtrl )
tp_iscts( nPort ) etc...
I think you will need to experiment as there is little documentation for 
this.
You could send text in small packets and wait for tp_iscts( nPort ) == .T.
between each.

Barry


AbeB wrote:
> Hi Alex,
> Thanks for quick reply.
>
> In the printer it's enabled, but in software i have no clue how.
>
> Any guidance?
>
> Thanks,
> abe
>
>
>
> AbeB wrote:
>
>   
>> I'm printing to serial printer with  hbtpathy.lib
>>
>> f.e.
>> tp_send(1, replic("012345678901234567890012345678901234567890"+chr(13)+chr(10),1000 ) )
>> but it whould cause overflow in the printed output.
>>
>> any help?
>>     
>
> Not specific to telepathy, but you must enable flow control on the printer and 
> in your software. Most common are DTR/DTS (hardware) or XOn/XOff (software).
>
> HTH
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/ee6a6a1f/attachment.html
From amigosam at adinet.com.uy  Mon Mar 30 19:47:51 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Mar 30 19:48:06 2009
Subject: [Harbour] Re: XBASE++ speedtst
In-Reply-To: <18d502870903291039l78041a2exb1dbd9935af4e5e7@mail.gmail.com>
References: <20090327162822.GA17333@uran.home.aster.pl>	<gqj73f$krf$1@ger.gmane.org>
	<gqj7e9$m2e$1@ger.gmane.org>	<gqj8rv$q44$1@ger.gmane.org>	<20090328081105.GD22352@uran.home.aster.pl>	<gqm8kq$nf8$1@ger.gmane.org>	<20090329002224.GA21175@uran.home.aster.pl>	<gqmh9m$9mt$1@ger.gmane.org>	<20090329083502.GA27416@uran.home.aster.pl>	<gqob4l$437$1@ger.gmane.org>
	<18d502870903291039l78041a2exb1dbd9935af4e5e7@mail.gmail.com>
Message-ID: <gqrln5$sve$1@ger.gmane.org>

Hi Viktor
Thank your very much for your recommendations.
When I can put my hands on another dual core pc, I will redo all tests 
just out of curiosity.
It was weekend and the only pc with 2 processors I could access was that 
  one.

Best Regards
Angel

Note: 19 people have downloaded my set of tests.
Almost all of them from South America and East Europe.
West Europe: 1 from Italy
Oceania: None
Asia: None
North America: None
Africa: None
Interesting profile indeed !


Viktor Szak?ts escribi?:
> Hi Angel,
> 
> Just one note: Be aware with VNC, as it can suck significant amount 
> of CPU time in server mode. [ It uses poll method plus bitmap compression 
> in real-time. ] If you also have RDC connection I recommend that for 
> testing.
> 
> Another small one:
> You can remove this line, it's the default, and there is now a different 
> settings to force old version (see in INSTALL):
> set HB_VISUALC_VER=90
> 
> Brgds,
> Viktor

From harbour.01 at syenar.hu  Mon Mar 30 19:59:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 19:59:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10743] trunk/harbour
In-Reply-To: <E1LoNoX-00024V-AD@3kljzd1.ch3.sourceforge.com>
References: <E1LoNoX-00024V-AD@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870903301659s51dfb666h91ed42d8b8f62842@mail.gmail.com>

I just tested new build with Open Watcom regarding .dll compatibility
and unfortunately it
doesn't work anymore, so we need to do something, but what?

Brgds,
Viktor

On Mon, Mar 30, 2009 at 10:10 PM, <druzus@users.sourceforge.net> wrote:

> Revision: 10743
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10743&view=rev
> Author:   druzus
> Date:     2009-03-30 20:10:32 +0000 (Mon, 30 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-30 22:17 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/vm/dlmalloc.c
>    ! fixed casting
>
>  * harbour/source/vm/fm.c
>    % use DLMALLOC as default memory manager in OpenWatcom Windows builds.
>      Warning: HB_FM_DLMT_ALLOC does not work with OpenWatcom.
>
>  * harbour/config/dos/owatcom.cf
>  * harbour/config/win/owatcom.cf
>  * harbour/config/linux/owatcom.cf
>  * harbour/config/os2/owatcom.cf
>    * changed alignment settings from 8 to 4
>    * synced optimization flags used in different builds
>    ! fixed linker parameters when HB_BUILD_DEBUG=yes is set
>    ; TOVERIFY: I do not remember what calling convention should be used
>      in OpenWatcom MT OS2 builds to eliminate GPF when APIENTRY16 functions
>      are called. It's possible that current settings are wrong.
>
>  * harbour/config/win/owatcom.cf
>    * removed STACK=65536 from OpenWatcom linker parameters.
>      This switch probably was inherited from old DOS WatcomC builds.
>      Later I'll test current OpwnWatcom builds to check if we can also
>      remove it from DOS builds when cwstub.exe is used.
>    * restored -bm switch. When DLMALLOC is used it does not cause
>      noticeable performance reduction.
>    * use default register calling convention. We can change it
>      in the future but 1-st we should check the performance overhead.
>      If calling convention is a problem only for .DLLs then it can
>      be resolved by modifying HB_EXTERN declaration and adding function
>      attributes which will force given calling convention.
>
>  * harbour/config/linux/owatcom.cf
>    * enabled pentium pro instruction in OpenWatcom Linux builds.
>      It reduces the code size and increase performance a little bit.
>      Windows users which do not need pure pentium CPU support can make
>      the same.
>
>  * harbour/utils/hbmk2/hbmk2.prg
>    ! fixed object extension used in OpenWatcom Linux builds: it's .o not
> .obj
>    ! fixed linker parameters in OpenWatcom Linux builds: DEBUG ALL is
> single
>      option
>    ! fixed OpenWatcom calling convention settings. Viktor you cannot chose
>      simultaneously register and stack calling convention. You have to
> chose
>      one and keep it synced with Harbour compile time settings. Otherwise
>      you will have unresolved external or you will force creating by linker
>      dynamically function call wrappers (of course if OW support such
>      functionality) what may strongly reduce the performance.
>    ! removed -j compile time switch - it's not used to compile core code
>    * synced optimization flags with core code
>
>   I'm really interested in current OpenWatcom speedtst results compared
>   with other Windows builds (MSVC, MinGW, BCC, POCC) in ST and MT builds.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/config/dos/owatcom.cf
>    trunk/harbour/config/linux/owatcom.cf
>    trunk/harbour/config/os2/owatcom.cf
>    trunk/harbour/config/win/owatcom.cf
>    trunk/harbour/source/vm/dlmalloc.c
>    trunk/harbour/source/vm/fm.c
>    trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/f1547b49/attachment.html
From druzus at acn.waw.pl  Mon Mar 30 20:30:31 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 30 20:23:45 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[10724] trunk/harbour
In-Reply-To: <49CFFF58.6060004@fsgiudice.com>
References: <E1Lnya1-0002BQ-EZ@dn4whf1.ch3.sourceforge.com>
	<gqocnf$86c$1@ger.gmane.org>
	<20090329183058.GA711@uran.home.aster.pl>
	<gqofej$g7r$1@ger.gmane.org>
	<20090329194647.GA1712@uran.home.aster.pl>
	<gqojhu$rkn$1@ger.gmane.org>
	<20090329201420.GA2325@uran.home.aster.pl>
	<gqol1r$vr2$1@ger.gmane.org> <gqolbe$vr2$2@ger.gmane.org>
	<49CFFF58.6060004@fsgiudice.com>
Message-ID: <20090331003031.GA26401@uran.home.aster.pl>

On Mon, 30 Mar 2009, Francesco Saverio Giudice wrote:

Hi,

> here are speedtst logs for Vista Ultimate with Intel(R) Core(TM)2 Duo
> CPU T8300 @ 2.40GHz
> and with 2 x Intel(R) Xeon(TM) CPU 3.00GHz Dual Core (4 Core in
> total) Microsoft Windows Server 2003, Standard Edition Service Pack 2
> (Build 3790)
> also if this server has lot of running services but on Sunday night it 
> works lesser.
> All tests with speedtest built with:
> hbmk2.exe speedtst.prg -mt -gc3 -l -ko
> SVN built with:
> set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF -DHB_FM_DLMT_ALLOC
> Mail sent again with zipped log (I forgot list limit)

Thank you very much. The results suggests that scallability strongly
depends on Hardware and exact CPU model. Looks that there are different
multiCPU x86 machines.
There are also serious differences in resolving simultanouse write access
between computers. It can be well seen in T044 test:
   [ T044: x := {} ]_______________________________  1.98   3.71 ->  0.53
and:
   [ T044: x := {} ]_______________________________  1.06   0.95 ->  1.11
Allocating new GC item (array, hash, codeblock, GC pointer) needs lock
which serializes thread execution. The cost of this lock strongly depends
on used hardware. In normal application it should not be big problem because
there is small chance that few threads will only allocate and release new
array in a loop in the same time. But it's the last such place in whole
Harbour code and the possible conflict and performance reduction can be
resolved with the cost of some static overhead but I do not know if it's
worth to pay. Maybe in some spare time I'll implement it to make some tests.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Mar 30 20:41:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Mar 30 20:35:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10688] trunk/harbour
In-Reply-To: <18d502870903290800q295347feh5813b79b2aa02e9d@mail.gmail.com>
References: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>
	<20090326005419.GA10556@uran.home.aster.pl>
	<18d502870903290800q295347feh5813b79b2aa02e9d@mail.gmail.com>
Message-ID: <20090331004150.GB26401@uran.home.aster.pl>

On Sun, 29 Mar 2009, Szak?ts Viktor wrote:

Hi,

> > BTW: in hbsetup.h you added:
> >         ( defined(__POCC_TARGET__) && __POCC_TARGET__ == 2 )
> >     to detect HB_OS_WIN_CE builds. Maybe it's documented method in POCC
> >     and in such case should be left but if not then I suggest to rather
> >     use sth like:
> >         ( defined( HB_OS_WIN ) && defined( _M_ARM ) )
> Maybe I'm missing something, but _M_ARM doesn't seem to work in POCC 5,
> I've found no better solution back then, that's why I opted for this route.
> --- test.c
> #if defined( _M_ARM )
>    #error defined
> #else
>    #error not defined
> #endif
> ---
> >pocc -Tarm-coff test.c

Hm, In such case this seems to be much more serious problem.
I do not have the newest POCC but in version 4.50 header files needs
_M_ARM, _ARM_ and _WINCE and UNICODE macros for PocketPC builds.
If they are not set then it's possible that we will generate wrong
binaries and probably we should set them manually probably using
-D<name> pocc.exe option.
I think it will be good to ask Pelle about it.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Mar 30 20:39:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Mar 30 20:39:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10747] trunk/harbour
Message-ID: <E1LoS0w-0000wN-Qp@3kljzd1.ch3.sourceforge.com>

Revision: 10747
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10747&view=rev
Author:   druzus
Date:     2009-03-31 00:39:37 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 02:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/dos/owatcom.cf
  * harbour/config/win/owatcom.cf
  * harbour/config/linux/owatcom.cf
  * harbour/config/os2/owatcom.cf
  * harbour/utils/hbmk2/hbmk2.prg
    * removed unnecessary linker options
    * use 'SYS causeway' to enable causeway stub in DOS builds instead
      of setting it manually. DOS users can also use DOS4G (default) or
      PMODE (commercial) stubs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/owatcom.cf
    trunk/harbour/config/linux/owatcom.cf
    trunk/harbour/config/os2/owatcom.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 21:00:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 21:00:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10688] trunk/harbour
In-Reply-To: <20090331004150.GB26401@uran.home.aster.pl>
References: <E1LmQfi-0002cl-Jc@d5vjzd1.ch3.sourceforge.com>
	<20090326005419.GA10556@uran.home.aster.pl>
	<18d502870903290800q295347feh5813b79b2aa02e9d@mail.gmail.com>
	<20090331004150.GB26401@uran.home.aster.pl>
Message-ID: <18d502870903301800l15535b6ao914a05fb457b8276@mail.gmail.com>

>
> > > BTW: in hbsetup.h you added:
> > >         ( defined(__POCC_TARGET__) && __POCC_TARGET__ == 2 )
> > >     to detect HB_OS_WIN_CE builds. Maybe it's documented method in POCC
> > >     and in such case should be left but if not then I suggest to rather
> > >     use sth like:
> > >         ( defined( HB_OS_WIN ) && defined( _M_ARM ) )
> > Maybe I'm missing something, but _M_ARM doesn't seem to work in POCC 5,
> > I've found no better solution back then, that's why I opted for this
> route.
> > --- test.c
> > #if defined( _M_ARM )
> >    #error defined
> > #else
> >    #error not defined
> > #endif
> > ---
> > >pocc -Tarm-coff test.c
>
> Hm, In such case this seems to be much more serious problem.
> I do not have the newest POCC but in version 4.50 header files needs
> _M_ARM, _ARM_ and _WINCE and UNICODE macros for PocketPC builds.
> If they are not set then it's possible that we will generate wrong
> binaries and probably we should set them manually probably using
> -D<name> pocc.exe option.
> I think it will be good to ask Pelle about it.


5.00.1 headers also seem to need _M_ARM. _ARM_ is automatically
defined, so it's not needed to be set explicitly. I'll do it. Above
__TARGET__*
check isn't needed, as _WINCE is already there to detect WinCE.
I'm doing some tests and commit.

Slightly off:

Now I know how to create x86/CE builds. But with this
the number of combinations is so high we'd really need a separate
CPU make layer, or some other solution like separating WinCE
compilers to a distinct HB_ARCHITECTURE 'wce'. This is the
way used by QT for example, and WinCE *is* a different OS, despite
resembling to win in many aspects. So our new arch would look like:
wce/mingwarm
wce/msvcarm
wce/poccarm
wce/poccx86

If there is no strong opinion against it, I'd like to do this. It will
also help excluding/including libs for WinCE.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/fc54592e/attachment.html
From vszakats at users.sourceforge.net  Mon Mar 30 21:11:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Mar 30 21:11:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10748] trunk/harbour
Message-ID: <E1LoSVf-0002Qd-3V@c3vjzd1.ch3.sourceforge.com>

Revision: 10748
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10748&view=rev
Author:   vszakats
Date:     2009-03-31 01:11:22 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 02:58 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * include/hbsetup.h
    % '( defined(__POCC_TARGET__) && __POCC_TARGET__ == 2 ) )'
      removed altogether. WinCE is detected anyway by using _WINCE.

  * external/sqlite3/Makefile
    - Disabled for poccce due to errors.

  * external/libpng/Makefile
    ! Fix to prev (poccce).

  * config/win/poccce.cf
    ! Added -D_M_ARM.

  * config/win/owatcom.cf
    * Pentium Pro scheduling.
    * Changed back to __cdecl calling convention from register based
      until we find a way to tweak HB_EXPORT to force __cdecl for 
      .dll exported functions.
    ; TOFIX: Find out how to force __cdecl for HB_EXPORT functions in owatcom.
             Or, if this is no good solution for owatcom users, or not 
             an option and performace is more important, we must rename
             owatcom Harbour .dlls to a distinct name: harbour[mt]-11-ow.dll.
             We should try to avoid that.

  * config/win/bcc.cf
    * -4 -> -6 for Pentium Pro instructions. Looking at the generated
      code this looks like rescheduling, if someone now can test Harbour
      or plain Pentium, it would be good to know if it still works.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/owatcom.cf
    trunk/harbour/config/win/poccce.cf
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/include/hbsetup.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Mar 30 21:48:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Mar 30 21:48:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10748] trunk/harbour
In-Reply-To: <E1LoSVf-0002Qd-3V@c3vjzd1.ch3.sourceforge.com>
References: <E1LoSVf-0002Qd-3V@c3vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870903301848x5954f203v8630a648824f45b4@mail.gmail.com>

>
>  * config/win/bcc.cf
>    * -4 -> -6 for Pentium Pro instructions. Looking at the generated
>      code this looks like rescheduling, if someone now can test Harbour
>      or plain Pentium, it would be good to know if it still works.
>

Some more info on above:

Turns out that -6 generates the *exact same* code as -4, with both
5.5 and 5.8. Quite interesting, but true. I did some tests using -5
also, and it turned out to be significantly slower than -4/-6. So, the
quick conclusion is that we should stick with -4 or -6. Please comment
or make some locals test to deny or confirm these findings.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/003ca7a9/attachment.html
From abe.buch at att.net  Mon Mar 30 21:49:18 2009
From: abe.buch at att.net (AbeB)
Date: Mon Mar 30 21:49:22 2009
Subject: [Harbour] telepahty, output overflow
In-Reply-To: <49D156C8.2020504@zen.co.uk>
References: <1238423843003-2557549.post@n2.nabble.com>
	<49D0DA5A.2030407@mweb.co.za>
	<1238424461926-2557628.post@n2.nabble.com>
	<49D156C8.2020504@zen.co.uk>
Message-ID: <1238464158483-2560715.post@n2.nabble.com>


Am I wrong thinking that it's only implimented on Linux?


May be worth looking at the functions in 
SVN/harbour/contrib/hbtpathy/telepath.prg
tp_ctrlcts( nPort, nNewCtrl )
tp_ctrlrts( nPort, nNewCtrl )
tp_iscts( nPort ) etc...
I think you will need to experiment as there is little documentation for 
this.
You could send text in small packets and wait for tp_iscts( nPort ) == .T.
between each.

Barry


AbeB wrote:
> Hi Alex,
> Thanks for quick reply.
>
> In the printer it's enabled, but in software i have no clue how.
>
> Any guidance?
>
> Thanks,
> abe
>
>
>
> AbeB wrote:
>
>   
>> I'm printing to serial printer with  hbtpathy.lib
>>
>> f.e.
>> tp_send(1, replic("012345678901234567890012345678901234567890"+chr(13)+chr(10),1000 ) )
>> but it whould cause overflow in the printed output.
>>
>> any help?
>>     
>
> Not specific to telepathy, but you must enable flow control on the printer and 
> in your software. Most common are DTR/DTS (hardware) or XOn/XOff (software).
>
> HTH
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>   

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



-- 
View this message in context: http://n2.nabble.com/telepahty%2C-output-overflow-tp2557549p2560715.html
Sent from the harbour-devel mailing list archive at Nabble.com.

From niki at synel.co.il  Tue Mar 31 01:23:51 2009
From: niki at synel.co.il (Chen Kedem)
Date: Tue Mar 31 01:27:44 2009
Subject: [Harbour] Re: XBASE++ speedtst
Message-ID: <1A07FEDC778C3E4AA417F089511F859C14A74FC14C@Mail-yoq.SYNEL-COMPANY.LTD>

Angel,

> Note: 19 people have downloaded my set of tests.
> Almost all of them from South America and East Europe.
:
> Interesting profile indeed !

You can see similar results in Piwik statistics for Harbour SF pages:
(go to Visitors | Locations & Provider)

http://apps.sourceforge.net/piwik/harbour-project/index.php?module=CoreHome&action=index&idSite=1&period=month&date=today


  Chen.
From harbour.01 at syenar.hu  Tue Mar 31 05:28:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 05:28:37 2009
Subject: [Harbour] speedtst results (owatcom)
Message-ID: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>

Hi All,
After recent owatcom tweaks, its performance went back to a very good level
in ST mode.

msvc ST: 29s MT: 49s
mingw ST: 34s
owatcom ST: 38s MT: 75s
pocc ST: 44s
bcc ST: 46s
owatcom (yesterday) ST: 54s

And this is without register calling, so if we manage to solve it, a little
can be shaved off of this result even.

So this means owatcom is a good 3rd in most aspects. It still has
some missing/broken feature though to get in on par with first level
compilers.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/31e177c1/attachment.html
From vouchcac at users.sourceforge.net  Tue Mar 31 05:57:07 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar 31 05:57:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10749] trunk/harbour
Message-ID: <E1LoaiR-0003Dh-0I@74yxhf1.ch3.sourceforge.com>

Revision: 10749
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10749&view=rev
Author:   vouchcac
Date:     2009-03-31 09:57:04 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 01:50 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbqt/Makefile
    % Makefile is auto generated by <hbqtgen.exe> and is placed
      in hbqt/gensource.

  * harbour/contrib/hbqt/hbqt_base.cpp
  * harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
  * harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
  * harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
  * harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
  * harbour/contrib/hbqt/hbqt_qabstractslider.cpp
  * harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
  * harbour/contrib/hbqt/hbqt_qaction.cpp
  * harbour/contrib/hbqt/hbqt_qapplication.cpp
  * harbour/contrib/hbqt/hbqt_qboxlayout.cpp
  + harbour/contrib/hbqt/hbqt_qbrush.cpp
  * harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
  * harbour/contrib/hbqt/hbqt_qcheckbox.cpp
  + harbour/contrib/hbqt/hbqt_qcolor.cpp
  * harbour/contrib/hbqt/hbqt_qcolordialog.cpp
  * harbour/contrib/hbqt/hbqt_qcombobox.cpp
  * harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
  * harbour/contrib/hbqt/hbqt_qcoreapplication.cpp
  - harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
  * harbour/contrib/hbqt/hbqt_qdateedit.cpp
  * harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
  * harbour/contrib/hbqt/hbqt_qdial.cpp
  * harbour/contrib/hbqt/hbqt_qdialog.cpp
  * harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
  * harbour/contrib/hbqt/hbqt_qerrormessage.cpp
  * harbour/contrib/hbqt/hbqt_qfiledialog.cpp
  * harbour/contrib/hbqt/hbqt_qfocusframe.cpp
  * harbour/contrib/hbqt/hbqt_qfont.cpp
  * harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
  * harbour/contrib/hbqt/hbqt_qfontdialog.cpp
  * harbour/contrib/hbqt/hbqt_qformlayout.cpp
  * harbour/contrib/hbqt/hbqt_qframe.cpp
  * harbour/contrib/hbqt/hbqt_qgroupbox.cpp
  * harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
  * harbour/contrib/hbqt/hbqt_qinputdialog.cpp
  * harbour/contrib/hbqt/hbqt_qlabel.cpp
  * harbour/contrib/hbqt/hbqt_qlayout.cpp
  * harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
  * harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
  * harbour/contrib/hbqt/hbqt_qlineedit.cpp
  * harbour/contrib/hbqt/hbqt_qlistview.cpp
  * harbour/contrib/hbqt/hbqt_qmainwindow.cpp
  * harbour/contrib/hbqt/hbqt_qmenu.cpp
  * harbour/contrib/hbqt/hbqt_qmenubar.cpp
  * harbour/contrib/hbqt/hbqt_qmessagebox.cpp
  * harbour/contrib/hbqt/hbqt_qobject.cpp
  * harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
  + harbour/contrib/hbqt/hbqt_qpaintdevice.cpp
  + harbour/contrib/hbqt/hbqt_qpainter.cpp
  + harbour/contrib/hbqt/hbqt_qpen.cpp
  * harbour/contrib/hbqt/hbqt_qprintdialog.cpp
  * harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
  * harbour/contrib/hbqt/hbqt_qprogressbar.cpp
  * harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
  * harbour/contrib/hbqt/hbqt_qpushbutton.cpp
  * harbour/contrib/hbqt/hbqt_qradiobutton.cpp
  * harbour/contrib/hbqt/hbqt_qscrollarea.cpp
  * harbour/contrib/hbqt/hbqt_qscrollbar.cpp
  * harbour/contrib/hbqt/hbqt_qsizegrip.cpp
  * harbour/contrib/hbqt/hbqt_qslider.cpp
  * harbour/contrib/hbqt/hbqt_qspinbox.cpp
  * harbour/contrib/hbqt/hbqt_qsplitter.cpp
  * harbour/contrib/hbqt/hbqt_qtabbar.cpp
  * harbour/contrib/hbqt/hbqt_qtableview.cpp
  * harbour/contrib/hbqt/hbqt_qtablewidget.cpp
  * harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
  * harbour/contrib/hbqt/hbqt_qtabwidget.cpp
  * harbour/contrib/hbqt/hbqt_qtextedit.cpp
  * harbour/contrib/hbqt/hbqt_qtimeedit.cpp
  * harbour/contrib/hbqt/hbqt_qtoolbar.cpp
  * harbour/contrib/hbqt/hbqt_qtoolbox.cpp
  * harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
  * harbour/contrib/hbqt/hbqt_qtreeview.cpp
  * harbour/contrib/hbqt/hbqt_qtreewidget.cpp
  * harbour/contrib/hbqt/hbqt_qtreewidgetitem.cpp
  * harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
  + harbour/contrib/hbqt/hbqt_qwebpage.cpp
  * harbour/contrib/hbqt/hbqt_qwebview.cpp
  * harbour/contrib/hbqt/hbqt_qwidget.cpp
  * harbour/contrib/hbqt/hbqt_qwizard.cpp
  * harbour/contrib/hbqt/hbqt_slots.cpp
  * harbour/contrib/hbqt/hbqt_utils.cpp
  * harbour/contrib/hbqt/moc_slots.cpp
  * harbour/contrib/hbqt/hbqt.h
  + harbour/contrib/hbqt/hbqt_slots.h
  - harbour/contrib/hbqt/slots.h
    +- Added | Changed | Deleted Sources. 
     Now these sources are auto generated by the HB-QT generator.
     Please never try to modify these. Instead look at /qth folder
     and .qth source definition files. I will write a detailed 
     description once it becomes fully operational as I have 
     drawn on the drawing board. The above code is fully functional
     to the extent it is generated but still about 30% functions
     have not been translated. A work in progress...

  + harbour/contrib/hbqt/TQAbstractButton.prg
  + harbour/contrib/hbqt/TQAbstractItemView.prg
  + harbour/contrib/hbqt/TQAbstractPrintDialog.prg
  + harbour/contrib/hbqt/TQAbstractScrollArea.prg
  + harbour/contrib/hbqt/TQAbstractSlider.prg
  + harbour/contrib/hbqt/TQAbstractSpinBox.prg
  + harbour/contrib/hbqt/TQAction.prg
  + harbour/contrib/hbqt/TQBoxLayout.prg
  + harbour/contrib/hbqt/TQCalendarWidget.prg
  + harbour/contrib/hbqt/TQCheckBox.prg
  + harbour/contrib/hbqt/TQColorDialog.prg
  + harbour/contrib/hbqt/TQComboBox.prg
  + harbour/contrib/hbqt/TQCommandLinkButton.prg
  + harbour/contrib/hbqt/TQDateEdit.prg
  + harbour/contrib/hbqt/TQDateTimeEdit.prg
  + harbour/contrib/hbqt/TQDial.prg
  + harbour/contrib/hbqt/TQDialog.prg
  + harbour/contrib/hbqt/TQDoubleSpinBox.prg
  + harbour/contrib/hbqt/TQErrorMessage.prg
  + harbour/contrib/hbqt/TQFileDialog.prg
  + harbour/contrib/hbqt/TQFocusFrame.prg
  + harbour/contrib/hbqt/TQFontComboBox.prg
  + harbour/contrib/hbqt/TQFontDialog.prg
  + harbour/contrib/hbqt/TQFormLayout.prg
  + harbour/contrib/hbqt/TQFrame.prg
  + harbour/contrib/hbqt/TQGroupBox.prg
  + harbour/contrib/hbqt/TQHBoxLayout.prg
  + harbour/contrib/hbqt/TQInputDialog.prg
  + harbour/contrib/hbqt/TQLabel.prg
  + harbour/contrib/hbqt/TQLayout.prg
  + harbour/contrib/hbqt/TQLayoutItem.prg
  + harbour/contrib/hbqt/TQLCDNumber.prg
  + harbour/contrib/hbqt/TQLineEdit.prg
  + harbour/contrib/hbqt/TQListView.prg
  + harbour/contrib/hbqt/TQMainWindow.prg
  + harbour/contrib/hbqt/TQMenu.prg
  + harbour/contrib/hbqt/TQMenuBar.prg
  + harbour/contrib/hbqt/TQMessageBox.prg
  + harbour/contrib/hbqt/TQObject.prg
  + harbour/contrib/hbqt/TQPageSetupDialog.prg
  + harbour/contrib/hbqt/TQPaintDevice.prg
  + harbour/contrib/hbqt/TQPainter.prg
  + harbour/contrib/hbqt/TQPrintDialog.prg
  + harbour/contrib/hbqt/TQPrintPreviewDialog.prg
  + harbour/contrib/hbqt/TQProgressBar.prg
  + harbour/contrib/hbqt/TQProgressDialog.prg
  + harbour/contrib/hbqt/TQPushButton.prg
  + harbour/contrib/hbqt/TQRadioButton.prg
  + harbour/contrib/hbqt/TQScrollArea.prg
  + harbour/contrib/hbqt/TQScrollBar.prg
  + harbour/contrib/hbqt/TQSizeGrip.prg
  + harbour/contrib/hbqt/TQSlider.prg
  + harbour/contrib/hbqt/TQSpinBox.prg
  + harbour/contrib/hbqt/TQSplitter.prg
  + harbour/contrib/hbqt/TQTabBar.prg
  + harbour/contrib/hbqt/TQTableView.prg
  + harbour/contrib/hbqt/TQTableWidget.prg
  + harbour/contrib/hbqt/TQTableWidgetItem.prg
  + harbour/contrib/hbqt/TQTabWidget.prg
  + harbour/contrib/hbqt/TQTextEdit.prg
  + harbour/contrib/hbqt/TQTimeEdit.prg
  + harbour/contrib/hbqt/TQToolBar.prg
  + harbour/contrib/hbqt/TQToolBox.prg
  + harbour/contrib/hbqt/TQToolButton.prg
  + harbour/contrib/hbqt/TQTreeView.prg
  + harbour/contrib/hbqt/TQTreeWidget.prg
  + harbour/contrib/hbqt/TQTreeWidgetItem.prg
  + harbour/contrib/hbqt/TQVBoxLayout.prg
  + harbour/contrib/hbqt/TQWebPage.prg
  + harbour/contrib/hbqt/TQWebView.prg
  + harbour/contrib/hbqt/TQWidget.prg
  + harbour/contrib/hbqt/TQWizard.prg
    + Added auto generated classes with exact same class hierarchy
      which QT has outlined with inheritance. QT implements 
      constructors with dynamic parameters which on prg level
      are difficult to manage. So I have adopted a simple 
      approach. :New() accepts only one argument <pParent> i.e.,
      pointer to the parent object, if any, and which is universal
      in QT implementation. This class implementation implies 
      that PRG code will pass <pPointer> to a method and will 
      receive <oObject> | <pPointer>. We can build higher level
      classes inheriting from above and implement whatever way we wish
      to pass and receive objects. I would like those higher
      level classes to confirm Xbase++ standards.

  * harbour/contrib/hbqt/qth/QAbstractButton.qth
  * harbour/contrib/hbqt/qth/QAbstractItemView.qth
  * harbour/contrib/hbqt/qth/QAbstractPrintDialog.qth
  * harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
  * harbour/contrib/hbqt/qth/QAbstractSlider.qth
  * harbour/contrib/hbqt/qth/QAbstractSpinBox.qth
  * harbour/contrib/hbqt/qth/QAction.qth
  * harbour/contrib/hbqt/qth/QBoxLayout.qth
  * harbour/contrib/hbqt/qth/QCalendarWidget.qth
  * harbour/contrib/hbqt/qth/QCheckBox.qth
  * harbour/contrib/hbqt/qth/QColorDialog.qth
  * harbour/contrib/hbqt/qth/QComboBox.qth
  * harbour/contrib/hbqt/qth/QCommandLinkButton.qth
  * harbour/contrib/hbqt/qth/QDateEdit.qth
  * harbour/contrib/hbqt/qth/QDateTimeEdit.qth
  * harbour/contrib/hbqt/qth/QDial.qth
  * harbour/contrib/hbqt/qth/QDialog.qth
  * harbour/contrib/hbqt/qth/QDoubleSpinBox.qth
  * harbour/contrib/hbqt/qth/QErrorMessage.qth
  * harbour/contrib/hbqt/qth/QFileDialog.qth
  * harbour/contrib/hbqt/qth/QFocusFrame.qth
  * harbour/contrib/hbqt/qth/QFontComboBox.qth
  * harbour/contrib/hbqt/qth/QFontDialog.qth
  * harbour/contrib/hbqt/qth/QFormLayout.qth
  * harbour/contrib/hbqt/qth/QFrame.qth
  * harbour/contrib/hbqt/qth/QGroupBox.qth
  * harbour/contrib/hbqt/qth/QHBoxLayout.qth
  * harbour/contrib/hbqt/qth/QInputDialog.qth
  * harbour/contrib/hbqt/qth/QLabel.qth
  * harbour/contrib/hbqt/qth/QLayout.qth
  * harbour/contrib/hbqt/qth/QLayoutItem.qth
  * harbour/contrib/hbqt/qth/QLCDNumber.qth
  * harbour/contrib/hbqt/qth/QLineEdit.qth
  * harbour/contrib/hbqt/qth/QListView.qth
  * harbour/contrib/hbqt/qth/QMainWindow.qth
  * harbour/contrib/hbqt/qth/QMenu.qth
  * harbour/contrib/hbqt/qth/QMenuBar.qth
  * harbour/contrib/hbqt/qth/QMessageBox.qth
  * harbour/contrib/hbqt/qth/QObject.qth
  * harbour/contrib/hbqt/qth/QPageSetupDialog.qth
  + harbour/contrib/hbqt/qth/QPaintDevice.qth
  * harbour/contrib/hbqt/qth/QPainter.qth
  * harbour/contrib/hbqt/qth/QPrintDialog.qth
  * harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
  * harbour/contrib/hbqt/qth/QProgressBar.qth
  + harbour/contrib/hbqt/qth/QProgressDialog.qth
  * harbour/contrib/hbqt/qth/QPushButton.qth
  * harbour/contrib/hbqt/qth/QRadioButton.qth
  * harbour/contrib/hbqt/qth/QScrollArea.qth
  * harbour/contrib/hbqt/qth/QScrollBar.qth
  * harbour/contrib/hbqt/qth/QSizeGrip.qth
  * harbour/contrib/hbqt/qth/QSlider.qth
  * harbour/contrib/hbqt/qth/QSpinBox.qth
  * harbour/contrib/hbqt/qth/QSplitter.qth
  * harbour/contrib/hbqt/qth/QTabBar.qth
  * harbour/contrib/hbqt/qth/QTableView.qth
  * harbour/contrib/hbqt/qth/QTableWidget.qth
  * harbour/contrib/hbqt/qth/QTableWidgetItem.qth
  * harbour/contrib/hbqt/qth/QTabWidget.qth
  * harbour/contrib/hbqt/qth/QTextEdit.qth
  * harbour/contrib/hbqt/qth/QTimeEdit.qth
  * harbour/contrib/hbqt/qth/QToolBar.qth
  * harbour/contrib/hbqt/qth/QToolBox.qth
  * harbour/contrib/hbqt/qth/QToolButton.qth
  * harbour/contrib/hbqt/qth/QTreeView.qth
  * harbour/contrib/hbqt/qth/QTreeWidget.qth
  * harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
  * harbour/contrib/hbqt/qth/QVBoxLayout.qth
  + harbour/contrib/hbqt/qth/QWebPage.qth
  + harbour/contrib/hbqt/qth/QWebView.qth
  * harbour/contrib/hbqt/qth/QWidget.qth
  + harbour/contrib/hbqt/qth/QWizard.qth
    + Added | Changed source definitions to honor class construction.

  * harbour/contrib/hbqt/generator/hbqtgen.prg
    ! Enhanced to generate .cpp | .h | .prg | .txt.
      Now .cpp sources contain information about which functions
      are still awaiting to be included plus the percentage in this form:
      -   189/229 [ 73.78% ]

  * harbour/contrib/hbqt/generator/qt45.qtp
    ! Added new .qth source definitions.

  * harbour/contrib/hbqt/tests/demoqt.prg
    ! Auto generated demo program. Just play with it and 
      you will be surprised how simple it is to use QT; all 
      gadgets provided.

    SUMUP: Auto Generated Files:
             - hbqt/gensource/hbqt_q*.cpp   source files
             - hbqt/doc/Q*.txt              documentation on function calls
             - hbqt/tests/demoqt.prg        demonstration program
             - hbqt/gensource/hbqt.h         
             - hbqt/gensource/hbqt_slots.h
             - hbqt/gensource/hbqt_slots.cpp
             - hbqt/gensource/hbqt_base.cpp
             - hbqt/gensource/moc_slots.cpp

     PROGNOSIS:
           - Stay in harbour/contrib/hbqt/generator
           - hbmk2.exe hbqtgen
           - del ..\gensource\*.*
           - del ..\doc\*.*
           - hbqtgen.exe qt45.qtp
           - cd ..
           - you should be staying at harbour/contrib/hbqt
           - del *.* ( be careful that you are under the right folder )
           - copy gensource/*.*
           - invoke QT specific build batch
           - cd tests
           - hbmk2.exe demoqt
           - demoqt.exe
           - .
           - play with gadgets

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_base.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractslider.cpp
    trunk/harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qaction.cpp
    trunk/harbour/contrib/hbqt/hbqt_qapplication.cpp
    trunk/harbour/contrib/hbqt/hbqt_qboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcheckbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcolordialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcombobox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcoreapplication.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdateedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdial.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qerrormessage.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfiledialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfocusframe.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfont.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qfontdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qformlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qframe.cpp
    trunk/harbour/contrib/hbqt/hbqt_qgroupbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qinputdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlabel.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlineedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qlistview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmainwindow.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmenu.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmenubar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qmessagebox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qobject.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprintdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprogressbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpushbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qradiobutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qscrollarea.cpp
    trunk/harbour/contrib/hbqt/hbqt_qscrollbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qsizegrip.cpp
    trunk/harbour/contrib/hbqt/hbqt_qslider.cpp
    trunk/harbour/contrib/hbqt/hbqt_qspinbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qsplitter.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtabbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtableview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtablewidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtabwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtextedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtimeedit.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbar.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbox.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtreeview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtreewidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qtreewidgetitem.cpp
    trunk/harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwebview.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwidget.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwizard.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_utils.cpp
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractButton.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractItemView.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractPrintDialog.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractSlider.qth
    trunk/harbour/contrib/hbqt/qth/QAbstractSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QAction.qth
    trunk/harbour/contrib/hbqt/qth/QBoxLayout.qth
    trunk/harbour/contrib/hbqt/qth/QCalendarWidget.qth
    trunk/harbour/contrib/hbqt/qth/QCheckBox.qth
    trunk/harbour/contrib/hbqt/qth/QColorDialog.qth
    trunk/harbour/contrib/hbqt/qth/QComboBox.qth
    trunk/harbour/contrib/hbqt/qth/QCommandLinkButton.qth
    trunk/harbour/contrib/hbqt/qth/QDateEdit.qth
    trunk/harbour/contrib/hbqt/qth/QDateTimeEdit.qth
    trunk/harbour/contrib/hbqt/qth/QDial.qth
    trunk/harbour/contrib/hbqt/qth/QDialog.qth
    trunk/harbour/contrib/hbqt/qth/QDoubleSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QErrorMessage.qth
    trunk/harbour/contrib/hbqt/qth/QFileDialog.qth
    trunk/harbour/contrib/hbqt/qth/QFocusFrame.qth
    trunk/harbour/contrib/hbqt/qth/QFontComboBox.qth
    trunk/harbour/contrib/hbqt/qth/QFontDialog.qth
    trunk/harbour/contrib/hbqt/qth/QFormLayout.qth
    trunk/harbour/contrib/hbqt/qth/QFrame.qth
    trunk/harbour/contrib/hbqt/qth/QGroupBox.qth
    trunk/harbour/contrib/hbqt/qth/QHBoxLayout.qth
    trunk/harbour/contrib/hbqt/qth/QInputDialog.qth
    trunk/harbour/contrib/hbqt/qth/QLCDNumber.qth
    trunk/harbour/contrib/hbqt/qth/QLabel.qth
    trunk/harbour/contrib/hbqt/qth/QLayout.qth
    trunk/harbour/contrib/hbqt/qth/QLayoutItem.qth
    trunk/harbour/contrib/hbqt/qth/QLineEdit.qth
    trunk/harbour/contrib/hbqt/qth/QListView.qth
    trunk/harbour/contrib/hbqt/qth/QMainWindow.qth
    trunk/harbour/contrib/hbqt/qth/QMenu.qth
    trunk/harbour/contrib/hbqt/qth/QMenuBar.qth
    trunk/harbour/contrib/hbqt/qth/QMessageBox.qth
    trunk/harbour/contrib/hbqt/qth/QObject.qth
    trunk/harbour/contrib/hbqt/qth/QPageSetupDialog.qth
    trunk/harbour/contrib/hbqt/qth/QPainter.qth
    trunk/harbour/contrib/hbqt/qth/QPrintDialog.qth
    trunk/harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
    trunk/harbour/contrib/hbqt/qth/QProgressBar.qth
    trunk/harbour/contrib/hbqt/qth/QPushButton.qth
    trunk/harbour/contrib/hbqt/qth/QRadioButton.qth
    trunk/harbour/contrib/hbqt/qth/QScrollArea.qth
    trunk/harbour/contrib/hbqt/qth/QScrollBar.qth
    trunk/harbour/contrib/hbqt/qth/QSizeGrip.qth
    trunk/harbour/contrib/hbqt/qth/QSlider.qth
    trunk/harbour/contrib/hbqt/qth/QSpinBox.qth
    trunk/harbour/contrib/hbqt/qth/QSplitter.qth
    trunk/harbour/contrib/hbqt/qth/QTabBar.qth
    trunk/harbour/contrib/hbqt/qth/QTabWidget.qth
    trunk/harbour/contrib/hbqt/qth/QTableView.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidget.qth
    trunk/harbour/contrib/hbqt/qth/QTableWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QTextEdit.qth
    trunk/harbour/contrib/hbqt/qth/QTimeEdit.qth
    trunk/harbour/contrib/hbqt/qth/QToolBar.qth
    trunk/harbour/contrib/hbqt/qth/QToolBox.qth
    trunk/harbour/contrib/hbqt/qth/QToolButton.qth
    trunk/harbour/contrib/hbqt/qth/QTreeView.qth
    trunk/harbour/contrib/hbqt/qth/QTreeWidget.qth
    trunk/harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QVBoxLayout.qth
    trunk/harbour/contrib/hbqt/qth/QWidget.qth
    trunk/harbour/contrib/hbqt/tests/demoqt.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/TQAction.prg
    trunk/harbour/contrib/hbqt/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/TQComboBox.prg
    trunk/harbour/contrib/hbqt/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQDial.prg
    trunk/harbour/contrib/hbqt/TQDialog.prg
    trunk/harbour/contrib/hbqt/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/TQFrame.prg
    trunk/harbour/contrib/hbqt/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/TQLabel.prg
    trunk/harbour/contrib/hbqt/TQLayout.prg
    trunk/harbour/contrib/hbqt/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/TQListView.prg
    trunk/harbour/contrib/hbqt/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/TQMenu.prg
    trunk/harbour/contrib/hbqt/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/TQObject.prg
    trunk/harbour/contrib/hbqt/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/TQPainter.prg
    trunk/harbour/contrib/hbqt/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/TQPushButton.prg
    trunk/harbour/contrib/hbqt/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQSlider.prg
    trunk/harbour/contrib/hbqt/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/TQSplitter.prg
    trunk/harbour/contrib/hbqt/TQTabBar.prg
    trunk/harbour/contrib/hbqt/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/TQTableView.prg
    trunk/harbour/contrib/hbqt/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQToolBar.prg
    trunk/harbour/contrib/hbqt/TQToolBox.prg
    trunk/harbour/contrib/hbqt/TQToolButton.prg
    trunk/harbour/contrib/hbqt/TQTreeView.prg
    trunk/harbour/contrib/hbqt/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQWebPage.prg
    trunk/harbour/contrib/hbqt/TQWebView.prg
    trunk/harbour/contrib/hbqt/TQWidget.prg
    trunk/harbour/contrib/hbqt/TQWizard.prg
    trunk/harbour/contrib/hbqt/hbqt_qbrush.cpp
    trunk/harbour/contrib/hbqt/hbqt_qcolor.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpaintdevice.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpainter.cpp
    trunk/harbour/contrib/hbqt/hbqt_qpen.cpp
    trunk/harbour/contrib/hbqt/hbqt_qwebpage.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/qth/QPaintDevice.qth
    trunk/harbour/contrib/hbqt/qth/QProgressDialog.qth
    trunk/harbour/contrib/hbqt/qth/QWebPage.qth
    trunk/harbour/contrib/hbqt/qth/QWebView.qth
    trunk/harbour/contrib/hbqt/qth/QWizard.qth

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
    trunk/harbour/contrib/hbqt/slots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar 31 05:58:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 05:58:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10750] trunk/harbour
Message-ID: <E1Loak0-00064R-Fn@dn4whf1.ch3.sourceforge.com>

Revision: 10750
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10750&view=rev
Author:   vszakats
Date:     2009-03-31 09:58:43 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 11:46 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    * Moved Windows CE compilers into a separate section.

  * bin/hb-mkdyn.bat
    * Changes made to allow wce arch. (provision for wce arch)

  * mpkg_win.bat
    * Allows to override HB_ARCHITECTURE. (provision for wce arch)
    + Include arch in target directory. (provision for wce arch)

  * include/hbatomic.h
    - Turned off inline asm for _MSC_VER compilers in 64-bit mode. (pocc64, msvc64)
      These target don't support inline asm.
      This fixes previously reported regressions with these targets.

  * utils/hbmk2/hbmk2.prg
    % win/owatcom: Pentium Pro scheduling.
    * win/owatcom: Temply set back stack calling convention.

  * external/libhpdf/Makefile
    - Disabled for pocc64 due to errors, even internal compiler error:
      ---
      can't spill register variable: rcx (3) image
      ../../hpdf_image.c(480): fatal error: Internal error: best_spillee.
      ---

  * config/win/bcc.cf
    + Added comment about -4, -5, -6.

  * ChangeLog
    ! Minor fix to prev entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/include/hbatomic.h
    trunk/harbour/mpkg_win.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar 31 06:06:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 06:06:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10751] trunk/harbour
Message-ID: <E1LoarI-0006kC-Ir@dn4whf1.ch3.sourceforge.com>

Revision: 10751
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10751&view=rev
Author:   vszakats
Date:     2009-03-31 10:06:15 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 12:03 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  + config/wce
  + config/wce/dir.cf
  + config/wce/global.cf
  + config/wce/install.cf
  + config/wce/msvcarm.cf
  + config/wce/mingwarm.cf
  + config/wce/poccarm.cf
    + Added new arch for WinCE: wce
      These will now live in parallel with old win/*ce targets
      until they are fully functional. We can also back up from
      here in case this new method turns out to be a dead end
      for any reason. The upgrade path is:
      win/msvcce  -> wce/msvcarm
      win/mingwce -> wce/mingwarm
      win/poccce  -> wce/poccarm
      The idea is that this way we may continue adding support
      for non-ARM WinCE platforms, if needed. It also makes it
      easier to do things globally for wce platform only.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/config/wce/
    trunk/harbour/config/wce/dir.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/wce/install.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Tue Mar 31 06:06:56 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Mar 31 06:07:01 2009
Subject: [Harbour] HWGUI mailing list
Message-ID: <49D1EB40.70800@mweb.co.za>

Could someone tell me the details - I have lost them.

Thanks
Alex
From mbelgrano at deltain.it  Tue Mar 31 06:19:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 31 06:19:51 2009
Subject: [Harbour] HWGUI mailing list
In-Reply-To: <49D1EB40.70800@mweb.co.za>
References: <49D1EB40.70800@mweb.co.za>
Message-ID: <609353e70903310319y1ce08144w49639b512f66c101@mail.gmail.com>

http://sourceforge.net/mail/?group_id=94178


2009/3/31 Alex Strickland <sscc@mweb.co.za>

> Could someone tell me the details - I have lost them.
>
> Thanks
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/7d494a78/attachment.html
From mbelgrano at deltain.it  Tue Mar 31 06:21:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Mar 31 06:21:50 2009
Subject: [Harbour] HWGUI mailing list
In-Reply-To: <49D1EB40.70800@mweb.co.za>
References: <49D1EB40.70800@mweb.co.za>
Message-ID: <609353e70903310321n1bf94e7bx1799cbd44844f871@mail.gmail.com>

http://sourceforge.net/mail/?group_id=94178

http://www.geocities.com/alkresin/


2009/3/31 Alex Strickland <sscc@mweb.co.za>

> Could someone tell me the details - I have lost them.
>
> Thanks
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/17eaf008/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 31 06:23:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 06:23:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10752] trunk/harbour
Message-ID: <E1Lob8I-0007Dk-Gy@dn4whf1.ch3.sourceforge.com>

Revision: 10752
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10752&view=rev
Author:   vszakats
Date:     2009-03-31 10:23:41 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 12:23 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/xhb/dbf2txt.c
    ! Fixed for Win64.

  * contrib/xhb/hbserv.c
    - Excluded for Win64 builds.

  * contrib/hbqt/generator/hbqtgen.prg
    * Minor formatting in generated code. (Using double quotes 
      in #include, CLASS -> CREATE CLASS, DATA -> VAR to follow 
      Class(y) syntax.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/xhb/dbf2txt.c
    trunk/harbour/contrib/xhb/hbserv.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar 31 06:52:59 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 31 06:46:12 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
Message-ID: <20090331105259.GA26354@uran.home.aster.pl>

On Tue, 31 Mar 2009, Szak?ts Viktor wrote:

Hi,

> After recent owatcom tweaks, its performance went back to a very good level
> in ST mode.
> msvc ST: 29s MT: 49s
> mingw ST: 34s
> owatcom ST: 38s MT: 75s
> pocc ST: 44s
> bcc ST: 46s
> owatcom (yesterday) ST: 54s
> And this is without register calling, so if we manage to solve it, a little
> can be shaved off of this result even.

Please try it with register calling convention.
In my test the difference is really huge.

> So this means owatcom is a good 3rd in most aspects. It still has
> some missing/broken feature though to get in on par with first level
> compilers.

With stack calling convention above are not representative results.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Mar 31 07:14:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 07:14:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10753] trunk/harbour
Message-ID: <E1Lobuy-0000Iu-TW@dn4whf1.ch3.sourceforge.com>

Revision: 10753
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10753&view=rev
Author:   vszakats
Date:     2009-03-31 11:14:06 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 12:45 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * bin/hb-mkdyn.bat
    + Added pocc64 support.

  * contrib/gtalleg/Makefile
    ! Excluded for pocc64 due to compile errors.

  * contrib/hbsqlit3/Makefile
    ! Excluded for pocc64 due to overflow.

  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/Makefile
    ! Excluded for pocc64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbsqlit3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 31 07:15:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 07:15:05 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <20090331105259.GA26354@uran.home.aster.pl>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
	<20090331105259.GA26354@uran.home.aster.pl>
Message-ID: <18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>

>
> > After recent owatcom tweaks, its performance went back to a very good
> level
> > in ST mode.
> > msvc ST: 29s MT: 49s
> > mingw ST: 34s
> > owatcom ST: 38s MT: 75s
> > pocc ST: 44s
> > bcc ST: 46s
> > owatcom (yesterday) ST: 54s
> > And this is without register calling, so if we manage to solve it, a
> little
> > can be shaved off of this result even.
>
> Please try it with register calling convention.
> In my test the difference is really huge.
>
> > So this means owatcom is a good 3rd in most aspects. It still has
> > some missing/broken feature though to get in on par with first level
> > compilers.
>
> With stack calling convention above are not representative results.


Yes, but we need to take care of the .dll problem. For me, optimizing
by losing important features isn't an option. I hope someone will show
how to solve this optimally, until then HB_USER_CFLAGS can be
used to override the defaults if someone needs maximum speed.
After 64-bit builds are finished cleanly, I'll make some tests with
register calling, in the hope this will stir up the interest to solve this.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/3c3b9cd4/attachment.html
From kleyber at tkinformidia.net  Tue Mar 31 07:16:09 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Tue Mar 31 07:16:13 2009
Subject: [Harbour] Downloading from SVN
Message-ID: <22803011.post@talk.nabble.com>


Hi,

I am trying to download Harbour from SVN but after trying download a huge
file, I got this message:

REPORT of '/svnroot/harbour-project/!svn/vcc/default': Could not read
response

How can I solve this?

Regards,
-- 
View this message in context: http://www.nabble.com/Downloading-from-SVN-tp22803011p22803011.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Mar 31 07:27:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 07:27:24 2009
Subject: [Harbour] pocc64 link error in MT
Message-ID: <18d502870903310427k5f884ebcxf990cb62735d3d3f@mail.gmail.com>

Making harbourmt-11-x64.dll...
POLINK: error: Unresolved external symbol 'InterlockedCompareExchange'.
POLINK: fatal error: 1 unresolved external(s).

The symbol is referred from fm.c / dlmalloc.c.

Any ideas?

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/4fdaf97a/attachment-0001.html
From vszakats at users.sourceforge.net  Tue Mar 31 07:29:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 07:29:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10754] trunk/harbour
Message-ID: <E1LocA7-0000iY-Ep@dn4whf1.ch3.sourceforge.com>

Revision: 10754
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10754&view=rev
Author:   vszakats
Date:     2009-03-31 11:29:46 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 13:39 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/hbfbird/Makefile
    ! Excluded for pocc64 due to compile errors.

  * source/rtl/hbinet.c
    ! Fixed to warnings for pocc64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/source/rtl/hbinet.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kleyber at tkinformidia.net  Tue Mar 31 07:32:34 2009
From: kleyber at tkinformidia.net (Kleyber)
Date: Tue Mar 31 07:32:38 2009
Subject: [Harbour] Downloading from SVN
In-Reply-To: <22803011.post@talk.nabble.com>
References: <22803011.post@talk.nabble.com>
Message-ID: <22803259.post@talk.nabble.com>




Kleyber wrote:
> 
> Hi,
> 
> I am trying to download Harbour from SVN but after trying download a huge
> file, I got this message:
> 
> REPORT of '/svnroot/harbour-project/!svn/vcc/default': Could not read
> response
> 
> How can I solve this?
> 
> Regards,
> 

And besides, this other error appears:

body: Secure connection truncated
(https://harbour-project.svn.sourceforge.net)

TIA

Kleyber
-- 
View this message in context: http://www.nabble.com/Downloading-from-SVN-tp22803011p22803259.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Tue Mar 31 07:34:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 07:34:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10755] trunk/harbour
Message-ID: <E1LocEJ-0000pP-Tl@dn4whf1.ch3.sourceforge.com>

Revision: 10755
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10755&view=rev
Author:   vszakats
Date:     2009-03-31 11:34:07 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 13:41 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * source/rtl/hbinet.c
    ! Reverted. Damn.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbinet.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar 31 08:01:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 08:01:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10756] trunk/harbour
Message-ID: <E1LocfB-00020g-Da@dn4whf1.ch3.sourceforge.com>

Revision: 10756
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10756&view=rev
Author:   vszakats
Date:     2009-03-31 12:01:52 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 14:01 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * contrib/rddsql/sddfb/Makefile
    ! Excluded for pocc64 due to compile errors.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From rodrmigu at gmail.com  Tue Mar 31 11:07:38 2009
From: rodrmigu at gmail.com (Rodrigo Miguel)
Date: Tue Mar 31 11:07:42 2009
Subject: [Harbour] MinGW and contrib libs - (Rev. 10756)
Message-ID: <80b05d460903310807r6b653798t18f5ea8149325734@mail.gmail.com>

All,

I notice during the install step, the scripts is trying to
compile/install a couple of libs that I've not requested, but I'm not
paid attention if that is happening during the compile step:

HB_CONTRIBLIBS='hbmisc hbtip hbole hbodbc gtwvg hbct xhb hbwin'


! Installing ctvideo.ch on /harbour/include
make[2]: Leaving directory `/d/cvs/harbour/contrib/hbct'
make[2]: Entering directory `/d/cvs/harbour/contrib/xhb'
make[3]: Entering directory `/d/cvs/harbour/contrib/xhb/win/mingw'
make[3]: `../../../../lib/win/mingw/libxhb.a' is up to date.
make[3]: Leaving directory `/d/cvs/harbour/contrib/xhb/win/mingw'
! Installing ../../lib/win/mingw/libxhb.a on /harbour/lib
! Installing ../../lib/win/mingw/libxhb.a on /harbour/lib
! Installing hbcompat.h on /harbour/include
! Installing xhb.h on /harbour/include
! Installing hbcompat.ch on /harbour/include
! Installing xhb.ch on /harbour/include
make[2]: Leaving directory `/d/cvs/harbour/contrib/xhb'
make[2]: Entering directory `/d/cvs/harbour/contrib/hbwin'
make[3]: Entering directory `/d/cvs/harbour/contrib/hbwin/win/mingw'
make[3]: `../../../../lib/win/mingw/libhbwin.a' is up to date.
make[3]: Leaving directory `/d/cvs/harbour/contrib/hbwin/win/mingw'
! Installing ../../lib/win/mingw/libhbwin.a on /harbour/lib
! Installing ../../lib/win/mingw/libhbwin.a on /harbour/lib
! Installing hbwapi.h on /harbour/include
! Installing hbwin.h on /harbour/include
! Installing hbwin.ch on /harbour/include
make[2]: Leaving directory `/d/cvs/harbour/contrib/hbwin'
make[1]: Leaving directory `/d/cvs/harbour/contrib'
make[1]: Entering directory `/d/cvs/harbour/external'
make[2]: Entering directory `/d/cvs/harbour/external/libhpdf'
make[3]: Entering directory `/d/cvs/harbour/external/libhpdf/win/mingw'
make[3]: `../../../../lib/win/mingw/liblibhpdf.a' is up to date.
make[3]: Leaving directory `/d/cvs/harbour/external/libhpdf/win/mingw'
! Installing ../../lib/win/mingw/liblibhpdf.a on /harbour/lib
make[2]: Leaving directory `/d/cvs/harbour/external/libhpdf'
make[2]: Entering directory `/d/cvs/harbour/external/libpng'
make[3]: Entering directory `/d/cvs/harbour/external/libpng/win/mingw'
make[3]: `../../../../lib/win/mingw/liblibpng.a' is up to date.
make[3]: Leaving directory `/d/cvs/harbour/external/libpng/win/mingw'
! Installing ../../lib/win/mingw/liblibpng.a on /harbour/lib
make[2]: Leaving directory `/d/cvs/harbour/external/libpng'
make[2]: Entering directory `/d/cvs/harbour/external/sqlite3'
make[3]: Entering directory `/d/cvs/harbour/external/sqlite3/win/mingw'
make[3]: `../../../../lib/win/mingw/libsqlite3.a' is up to date.
make[3]: Leaving directory `/d/cvs/harbour/external/sqlite3/win/mingw'
! Installing ../../lib/win/mingw/libsqlite3.a on /harbour/lib
! Installing ../../lib/win/mingw/libsqlite3.a on /harbour/lib
/bin/sh.exe: -c: line 1: syntax error near unexpected token `;'
/bin/sh.exe: -c: line 1: `if [ ! -d /harbour/include ]; then echo "!
Can't install, path not found: /harbour/include" 1>&2; else for i in
; do if [ -r $i ]; then echo "! Installing $i on /harbour/include"; cp
-f $i /harbour/include; true; else echo "! Can't install $i, not
found" 1>&2; fi done fi'
make[2]: *** [install] Error 2
make[2]: Leaving directory `/d/cvs/harbour/external/sqlite3'
make[1]: *** [install] Error 2
make[1]: Leaving directory `/d/cvs/harbour/external'
make: *** [install] Error 2

Thanks & Regards,
Rodrigo
From harbour.01 at syenar.hu  Tue Mar 31 11:41:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 11:42:02 2009
Subject: [Harbour] MinGW and contrib libs - (Rev. 10756)
In-Reply-To: <80b05d460903310807r6b653798t18f5ea8149325734@mail.gmail.com>
References: <80b05d460903310807r6b653798t18f5ea8149325734@mail.gmail.com>
Message-ID: <18d502870903310841p36fb9d03n29a9666764db7a19@mail.gmail.com>

Hi Rodrigo,
Now we have another category of libs: external. You have to
configure these just like contribs, with envvar HB_EXTERNALLIBS.

set HB_EXTERNALLIBS=no will suppress all of them.

Brgds,
Viktor

On Tue, Mar 31, 2009 at 5:07 PM, Rodrigo Miguel <rodrmigu@gmail.com> wrote:

> All,
>
> I notice during the install step, the scripts is trying to
> compile/install a couple of libs that I've not requested, but I'm not
> paid attention if that is happening during the compile step:
>
> HB_CONTRIBLIBS='hbmisc hbtip hbole hbodbc gtwvg hbct xhb hbwin'
>
>
> ! Installing ctvideo.ch on /harbour/include
> make[2]: Leaving directory `/d/cvs/harbour/contrib/hbct'
> make[2]: Entering directory `/d/cvs/harbour/contrib/xhb'
> make[3]: Entering directory `/d/cvs/harbour/contrib/xhb/win/mingw'
> make[3]: `../../../../lib/win/mingw/libxhb.a' is up to date.
> make[3]: Leaving directory `/d/cvs/harbour/contrib/xhb/win/mingw'
> ! Installing ../../lib/win/mingw/libxhb.a on /harbour/lib
> ! Installing ../../lib/win/mingw/libxhb.a on /harbour/lib
> ! Installing hbcompat.h on /harbour/include
> ! Installing xhb.h on /harbour/include
> ! Installing hbcompat.ch on /harbour/include
> ! Installing xhb.ch on /harbour/include
> make[2]: Leaving directory `/d/cvs/harbour/contrib/xhb'
> make[2]: Entering directory `/d/cvs/harbour/contrib/hbwin'
> make[3]: Entering directory `/d/cvs/harbour/contrib/hbwin/win/mingw'
> make[3]: `../../../../lib/win/mingw/libhbwin.a' is up to date.
> make[3]: Leaving directory `/d/cvs/harbour/contrib/hbwin/win/mingw'
> ! Installing ../../lib/win/mingw/libhbwin.a on /harbour/lib
> ! Installing ../../lib/win/mingw/libhbwin.a on /harbour/lib
> ! Installing hbwapi.h on /harbour/include
> ! Installing hbwin.h on /harbour/include
> ! Installing hbwin.ch on /harbour/include
> make[2]: Leaving directory `/d/cvs/harbour/contrib/hbwin'
> make[1]: Leaving directory `/d/cvs/harbour/contrib'
> make[1]: Entering directory `/d/cvs/harbour/external'
> make[2]: Entering directory `/d/cvs/harbour/external/libhpdf'
> make[3]: Entering directory `/d/cvs/harbour/external/libhpdf/win/mingw'
> make[3]: `../../../../lib/win/mingw/liblibhpdf.a' is up to date.
> make[3]: Leaving directory `/d/cvs/harbour/external/libhpdf/win/mingw'
> ! Installing ../../lib/win/mingw/liblibhpdf.a on /harbour/lib
> make[2]: Leaving directory `/d/cvs/harbour/external/libhpdf'
> make[2]: Entering directory `/d/cvs/harbour/external/libpng'
> make[3]: Entering directory `/d/cvs/harbour/external/libpng/win/mingw'
> make[3]: `../../../../lib/win/mingw/liblibpng.a' is up to date.
> make[3]: Leaving directory `/d/cvs/harbour/external/libpng/win/mingw'
> ! Installing ../../lib/win/mingw/liblibpng.a on /harbour/lib
> make[2]: Leaving directory `/d/cvs/harbour/external/libpng'
> make[2]: Entering directory `/d/cvs/harbour/external/sqlite3'
> make[3]: Entering directory `/d/cvs/harbour/external/sqlite3/win/mingw'
> make[3]: `../../../../lib/win/mingw/libsqlite3.a' is up to date.
> make[3]: Leaving directory `/d/cvs/harbour/external/sqlite3/win/mingw'
> ! Installing ../../lib/win/mingw/libsqlite3.a on /harbour/lib
> ! Installing ../../lib/win/mingw/libsqlite3.a on /harbour/lib
> /bin/sh.exe: -c: line 1: syntax error near unexpected token `;'
> /bin/sh.exe: -c: line 1: `if [ ! -d /harbour/include ]; then echo "!
> Can't install, path not found: /harbour/include" 1>&2; else for i in
> ; do if [ -r $i ]; then echo "! Installing $i on /harbour/include"; cp
> -f $i /harbour/include; true; else echo "! Can't install $i, not
> found" 1>&2; fi done fi'
> make[2]: *** [install] Error 2
> make[2]: Leaving directory `/d/cvs/harbour/external/sqlite3'
> make[1]: *** [install] Error 2
> make[1]: Leaving directory `/d/cvs/harbour/external'
> make: *** [install] Error 2
>
> Thanks & Regards,
> Rodrigo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/e1f68b94/attachment.html
From harbour.01 at syenar.hu  Tue Mar 31 12:26:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 12:26:41 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
	<20090331105259.GA26354@uran.home.aster.pl>
	<18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>
Message-ID: <18d502870903310926m6b3028fbm4d5e82d61c54d612@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: owatcom.zip
Type: application/zip
Size: 5153 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/99549169/owatcom.zip
From zen25000 at zen.co.uk  Tue Mar 31 13:28:30 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Mar 31 13:28:28 2009
Subject: [Harbour] Downloading from SVN
In-Reply-To: <22803259.post@talk.nabble.com>
References: <22803011.post@talk.nabble.com> <22803259.post@talk.nabble.com>
Message-ID: <49D252BE.4030104@zen.co.uk>

Assuming that you are in Linux, make sure that you have subversion 
installed, then make a folder /SVN and from within it in a terminal :-
user@localhost SVN]$ svn co 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour

Rgds Barry

Kleyber wrote:
>
> Kleyber wrote:
>   
>> Hi,
>>
>> I am trying to download Harbour from SVN but after trying download a huge
>> file, I got this message:
>>
>> REPORT of '/svnroot/harbour-project/!svn/vcc/default': Could not read
>> response
>>
>> How can I solve this?
>>
>> Regards,
>>
>>     
>
> And besides, this other error appears:
>
> body: Secure connection truncated
> (https://harbour-project.svn.sourceforge.net)
>
> TIA
>
> Kleyber
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/2ead0ab6/attachment.html
From druzus at acn.waw.pl  Tue Mar 31 13:37:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 31 13:30:41 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <18d502870903310926m6b3028fbm4d5e82d61c54d612@mail.gmail.com>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
	<20090331105259.GA26354@uran.home.aster.pl>
	<18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>
	<18d502870903310926m6b3028fbm4d5e82d61c54d612@mail.gmail.com>
Message-ID: <20090331173719.GA31174@uran.home.aster.pl>

On Tue, 31 Mar 2009, Szak?ts Viktor wrote:
> Attached results.
> Both with -gc3, one with r10748 (stack calls), and one
> with r10756 + HB_USER_CFLAGS=-6r. ST and MT,
> two runs with each combination.
> [ The previously posted quick MT results seems wrong, now
> with repeated and saved tests it's about 64s (not 75s). Still
> not stellar, but better. ]
> I don't want to draw any conclusions, -6r mode causes
> a slight overall slowdown in ST mode and a minor speedup
> in MT mode. Slowdown in ST mode can be accounted for
> T030 and T031, the rest of tests became faster.

Thank you.
In my tests passing parameters by register:
   [ total application time: ]...................35.83
   [ total real time: ]..........................35.87
and by stack:
   [ total application time: ]...................39.90
   [ total real time: ]..........................39.92

It's single thread mode.
I'll try to make some tests on different machines with real windows.
What is the size difference between both binaries?
Can you upload them to some public host?

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Mar 31 13:38:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 13:39:06 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <20090331173719.GA31174@uran.home.aster.pl>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
	<20090331105259.GA26354@uran.home.aster.pl>
	<18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>
	<18d502870903310926m6b3028fbm4d5e82d61c54d612@mail.gmail.com>
	<20090331173719.GA31174@uran.home.aster.pl>
Message-ID: <18d502870903311038s5c272a12gd9d180c2b9692518@mail.gmail.com>

>
> > I don't want to draw any conclusions, -6r mode causes
> > a slight overall slowdown in ST mode and a minor speedup
> > in MT mode. Slowdown in ST mode can be accounted for
> > T030 and T031, the rest of tests became faster.
>
> Thank you.
> In my tests passing parameters by register:
>   [ total application time: ]...................35.83
>   [ total real time: ]..........................35.87
> and by stack:
>   [ total application time: ]...................39.90
>   [ total real time: ]..........................39.92


> It's single thread mode.
> I'll try to make some tests on different machines with real windows.
> What is the size difference between both binaries?


speedtst-CFLAGS-6r.exe       742912
speedtst.exe                 782336
speedtstmt-CFLAGS-6r.exe     791040
speedtstmt.exe               830976

Can you upload them to some public host?


Sure:
http://www.syenar.hu/harbour/owst.zip

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/f6279dbf/attachment.html
From vszakats at users.sourceforge.net  Tue Mar 31 13:50:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 13:50:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10757] trunk/harbour
Message-ID: <E1Loi6a-0007ZT-MU@74yxhf1.ch3.sourceforge.com>

Revision: 10757
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10757&view=rev
Author:   vszakats
Date:     2009-03-31 17:50:31 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 19:50 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * INSTALL
    + Added information on HB_EXTERNAL* envvar settings.

  * utils/hbmk2/hbmk2.prg
    + Added support for wce target. Currently in parallel 
      with win/*ce targets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Mar 31 15:37:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Mar 31 15:37:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10758] trunk/harbour
Message-ID: <E1Lojle-0006Yu-VO@dn4whf1.ch3.sourceforge.com>

Revision: 10758
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10758&view=rev
Author:   vszakats
Date:     2009-03-31 19:36:51 +0000 (Tue, 31 Mar 2009)

Log Message:
-----------
2009-03-31 21:36 UTC+0200 Viktor Szakats (harbour.01 syenar hu)
  * bin/postinst.bat
    ! Fixed regression causing shared hbrun/hbtest binaries to
      not be built on x64 targets.

  * external/sqlite3/Makefile
    ! Removed header installer rules. There are no headers here
      to install.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/external/sqlite3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Mar 31 17:26:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Mar 31 17:20:05 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <18d502870903311038s5c272a12gd9d180c2b9692518@mail.gmail.com>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
	<20090331105259.GA26354@uran.home.aster.pl>
	<18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>
	<18d502870903310926m6b3028fbm4d5e82d61c54d612@mail.gmail.com>
	<20090331173719.GA31174@uran.home.aster.pl>
	<18d502870903311038s5c272a12gd9d180c2b9692518@mail.gmail.com>
Message-ID: <20090331212653.GA1221@uran.home.aster.pl>

On Tue, 31 Mar 2009, Szak?ts Viktor wrote:

Hi,

> Can you upload them to some public host?
> Sure:
> http://www.syenar.hu/harbour/owst.zip

I've just tested them with WINE on AMD Phenom(tm) 8450 Triple-Core 2100MHZ.
Results below.
Tomorrow I'll make tests with real Windows also with mixed version which
uses stack calling convention for exported functions.
BTW does harbour.dll works with current hbmk2 and OpenWatcom builds?

best regards,
Przemek



speedtst-CFLAGS-6r.exe
======================
03/31/09 22:27:51 Windows XP (Wine) 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10756) Open Watcom C++ 12.80.8 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.05
[ T005: x := S_N ]..............................................0.04
[ T006: x := S_D ]..............................................0.04
[ T007: x := M->M_C ]...........................................0.05
[ T008: x := M->M_N ]...........................................0.04
[ T009: x := M->M_D ]...........................................0.05
[ T010: x := M->P_C ]...........................................0.05
[ T011: x := M->P_N ]...........................................0.04
[ T012: x := M->P_D ]...........................................0.05
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.23
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.11
[ T018: round( i / 1000, 2 ) ]..................................0.27
[ T019: str( i / 1000 ) ].......................................0.64
[ T020: val( s ) ]..............................................0.25
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.45
[ T022: dtos( d - i % 10000 ) ].................................0.58
[ T023: eval( { || i % 16 } ) ].................................0.41
[ T024: eval( bc := { || i % 16 } ) ]...........................0.26
[ T025: eval( { |x| x % 16 }, i ) ].............................0.32
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.25
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.37
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.33
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.33
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.82
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.09
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.36
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.78
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.27
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.31
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.35
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.30
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.34
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.35
[ T040: ascan( a, i % 16 ) ]....................................0.33
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................3.19
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.77
[ T043: x := a ]................................................0.04
[ T044: x := {} ]...............................................0.08
[ T045: f0() ]..................................................0.08
[ T046: f1( i ) ]...............................................0.13
[ T047: f2( c[1...8] ) ]........................................0.12
[ T048: f2( c[1...40000] ) ]....................................0.12
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.18
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.41
[ T052: f2( a ) ]...............................................0.12
[ T053: x := f4() ].............................................0.73
[ T054: x := f5() ].............................................0.25
[ T055: x := space(16) ]........................................0.22
[ T056: f_prv( c ) ]............................................0.34
====================================================================
[ total application time: ]....................................24.71
[ total real time: ]...........................................24.72

speedtst.exe
============
03/31/09 22:28:16 Windows XP (Wine) 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10748) Open Watcom C++ 12.80.8 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.07
====================================================================
[ T001: x := L_C ]..............................................0.02
[ T002: x := L_N ]..............................................0.07
[ T003: x := L_D ]..............................................0.01
[ T004: x := S_C ]..............................................0.04
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.02
[ T007: x := M->M_C ]...........................................0.05
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.02
[ T010: x := M->P_C ]...........................................0.05
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.02
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.21
[ T015: x := F_D ]..............................................0.14
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.29
[ T019: str( i / 1000 ) ].......................................0.75
[ T020: val( s ) ]..............................................0.26
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.45
[ T022: dtos( d - i % 10000 ) ].................................0.61
[ T023: eval( { || i % 16 } ) ].................................0.38
[ T024: eval( bc := { || i % 16 } ) ]...........................0.26
[ T025: eval( { |x| x % 16 }, i ) ].............................0.33
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.28
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.40
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.34
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.34
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.63
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.23
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.40
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.85
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.31
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.39
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.38
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.39
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.38
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.38
[ T040: ascan( a, i % 16 ) ]....................................0.49
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................3.35
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.96
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.08
[ T045: f0() ]..................................................0.11
[ T046: f1( i ) ]...............................................0.12
[ T047: f2( c[1...8] ) ]........................................0.12
[ T048: f2( c[1...40000] ) ]....................................0.12
[ T049: f2( @c[1...40000] ) ]...................................0.09
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.51
[ T052: f2( a ) ]...............................................0.12
[ T053: x := f4() ].............................................0.77
[ T054: x := f5() ].............................................0.23
[ T055: x := space(16) ]........................................0.17
[ T056: f_prv( c ) ]............................................0.37
====================================================================
[ total application time: ]....................................26.86
[ total real time: ]...........................................26.87

speedtstmt-CFLAGS-6r.exe
========================
03/31/09 22:28:43 Windows XP (Wine) 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10756) (MT) Open Watcom C++ 12.80.8 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.05
====================================================================
[ T001: x := L_C ]..............................................0.09
[ T002: x := L_N ]..............................................0.05
[ T003: x := L_D ]..............................................0.05
[ T004: x := S_C ]..............................................0.10
[ T005: x := S_N ]..............................................0.07
[ T006: x := S_D ]..............................................0.07
[ T007: x := M->M_C ]...........................................0.11
[ T008: x := M->M_N ]...........................................0.09
[ T009: x := M->M_D ]...........................................0.09
[ T010: x := M->P_C ]...........................................0.12
[ T011: x := M->P_N ]...........................................0.09
[ T012: x := M->P_D ]...........................................0.08
[ T013: x := F_C ]..............................................0.21
[ T014: x := F_N ]..............................................0.27
[ T015: x := F_D ]..............................................0.18
[ T016: x := o:Args ]...........................................0.29
[ T017: x := o[2] ].............................................0.18
[ T018: round( i / 1000, 2 ) ]..................................0.43
[ T019: str( i / 1000 ) ].......................................0.83
[ T020: val( s ) ]..............................................0.39
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.66
[ T022: dtos( d - i % 10000 ) ].................................0.82
[ T023: eval( { || i % 16 } ) ].................................0.72
[ T024: eval( bc := { || i % 16 } ) ]...........................0.44
[ T025: eval( { |x| x % 16 }, i ) ].............................0.59
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.44
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.74
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.59
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.61
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.40
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.28
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.64
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.15
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.46
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.50
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.50
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.51
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.49
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.49
[ T040: ascan( a, i % 16 ) ]....................................0.59
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................5.21
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.31
[ T043: x := a ]................................................0.09
[ T044: x := {} ]...............................................0.20
[ T045: f0() ]..................................................0.18
[ T046: f1( i ) ]...............................................0.24
[ T047: f2( c[1...8] ) ]........................................0.30
[ T048: f2( c[1...40000] ) ]....................................0.26
[ T049: f2( @c[1...40000] ) ]...................................0.22
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.30
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.64
[ T052: f2( a ) ]...............................................0.33
[ T053: x := f4() ].............................................1.03
[ T054: x := f5() ].............................................0.52
[ T055: x := space(16) ]........................................0.43
[ T056: f_prv( c ) ]............................................0.81
====================================================================
[ total application time: ]....................................37.30
[ total real time: ]...........................................37.32

speedtstmt.exe
==============
03/31/09 22:29:21 Windows XP (Wine) 5.1.2600 Service Pack 2
Harbour 1.1.0dev (Rev. 10748) (MT) Open Watcom C++ 12.80.8 (32-bit)
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.08
====================================================================
[ T001: x := L_C ]..............................................0.05
[ T002: x := L_N ]..............................................0.02
[ T003: x := L_D ]..............................................0.02
[ T004: x := S_C ]..............................................0.07
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.04
[ T007: x := M->M_C ]...........................................0.08
[ T008: x := M->M_N ]...........................................0.05
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.08
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.05
[ T013: x := F_C ]..............................................0.18
[ T014: x := F_N ]..............................................0.23
[ T015: x := F_D ]..............................................0.16
[ T016: x := o:Args ]...........................................0.26
[ T017: x := o[2] ].............................................0.14
[ T018: round( i / 1000, 2 ) ]..................................0.42
[ T019: str( i / 1000 ) ].......................................0.91
[ T020: val( s ) ]..............................................0.35
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.67
[ T022: dtos( d - i % 10000 ) ].................................0.79
[ T023: eval( { || i % 16 } ) ].................................0.71
[ T024: eval( bc := { || i % 16 } ) ]...........................0.43
[ T025: eval( { |x| x % 16 }, i ) ].............................0.57
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.43
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.70
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.60
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.56
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.53
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................5.05
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.61
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.18
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.43
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.53
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.48
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.48
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.47
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.52
[ T040: ascan( a, i % 16 ) ]....................................0.67
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................5.31
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.31
[ T043: x := a ]................................................0.05
[ T044: x := {} ]...............................................0.19
[ T045: f0() ]..................................................0.13
[ T046: f1( i ) ]...............................................0.19
[ T047: f2( c[1...8] ) ]........................................0.21
[ T048: f2( c[1...40000] ) ]....................................0.21
[ T049: f2( @c[1...40000] ) ]...................................0.17
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.29
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.63
[ T052: f2( a ) ]...............................................0.21
[ T053: x := f4() ].............................................0.98
[ T054: x := f5() ].............................................0.44
[ T055: x := space(16) ]........................................0.32
[ T056: f_prv( c ) ]............................................0.79
====================================================================
[ total application time: ]....................................38.59
[ total real time: ]...........................................38.62
From harbour.01 at syenar.hu  Tue Mar 31 20:17:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 20:18:09 2009
Subject: [Harbour] speedtst results (owatcom)
In-Reply-To: <20090331212653.GA1221@uran.home.aster.pl>
References: <18d502870903310228l1f446ee1h8c421758c052c42c@mail.gmail.com>
	<20090331105259.GA26354@uran.home.aster.pl>
	<18d502870903310415l4a87db91he76e68766f3ccd70@mail.gmail.com>
	<18d502870903310926m6b3028fbm4d5e82d61c54d612@mail.gmail.com>
	<20090331173719.GA31174@uran.home.aster.pl>
	<18d502870903311038s5c272a12gd9d180c2b9692518@mail.gmail.com>
	<20090331212653.GA1221@uran.home.aster.pl>
Message-ID: <18d502870903311717p49a11c4r21afb5c245fd767@mail.gmail.com>

>
> > Can you upload them to some public host?
> > Sure:
> > http://www.syenar.hu/harbour/owst.zip
>
> I've just tested them with WINE on AMD Phenom(tm) 8450 Triple-Core 2100MHZ.
> Results below.


Tomorrow I'll make tests with real Windows also with mixed version which
> uses stack calling convention for exported functions.
> BTW does harbour.dll works with current hbmk2 and OpenWatcom builds?


No, it cannot find the startup procedure, plus there is this message
generated when creating the shared executable:
Warning! W1023: no starting address found, using 00401000

[ There is also a .dll interchangeability problem: when I create
a shared exe using MinGW, it cannot be run with an MSVC/POCC
harbour.dll, complaining about missing WinMain@16. The reverse
cases work well, so the unified distro is fine (the MinGW .dll is
packaged, which is okay). ]

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090401/bc6ce3f8/attachment.html
From harbour.01 at syenar.hu  Tue Mar 31 20:30:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Mar 31 20:30:45 2009
Subject: [Harbour] Harbour 1.1.0dev unified binary release (20090331)
Message-ID: <18d502870903311730w7a98f2e7q53d675f58a1f0a65@mail.gmail.com>

Hi All,

Second issue of the unified and self-contained Windows release
package, which is able to create x86, x64, WinCE/ARM executables
(both shared and static) out of the box without the need of any
external tools or settings. This time also in the form of installer,
with (de)selectable options.

Downloads:
http://www.syenar.hu/harbour/harbour-11-win-20090331.7z (size: 146MB)
http://www.syenar.hu/harbour/harbour-11-win-20090331.exe (size: 148MB)

To use:
1) unpack/install to any directory (C:\harbour-11)
2) go to bin dir (optional if you specify path for hbmk2)
3) For x86 executable type: 'hbmk2 ../tests/hello.prg'
4) For x64 executable type: 'hbmk2 ../tests/hello.prg -comp=mingw64'
5) For WinCE/ARM executable type: 'hbmk2 ../tests/hello.prg -comp=mingwce'

The package also contains Harbour libraries to build MSVC 2008,
MSVC 2008 x64, Open Watcom 1.8, Borland C 5.5.1,
Pelles C 5.0, Pelles C 5.0 x64 and Pelles C 5.0 WinCE/ARM
executables. For these, you need to have these compilers installed
on your computer. The libs will automatically be picked by hbmk2.
A native set of x64 Harbour tools is also included, and Harbour .dlls
for x86, x64, WinCE/ARM and Borland.

The package contains MinGW 4.3.3, MinGW 4.4.0 for x64 and
MinGW 4.1.0 for ARM/CE embedded.

The goal is to develop the format for the Windows/WinCE binary
release package for the next stable release of Harbour. Please
test and report you experiences.

Following external dependencies were used to build corresponding
Harbour libs:

ace 9.10, allegro 4.2.2, blat 2.6.2, libcurl 7.19.3, firebird
2.1.1, freeimage 3.11.0,
gd 2.0.34, mysql 5.0.67, openssl 0.9.8j, pgsql 8.3.3, qt 4.5.0 (2009.01)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090401/07287bce/attachment-0001.html
From vouchcac at users.sourceforge.net  Tue Mar 31 21:48:32 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Mar 31 21:48:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10759] trunk/harbour
Message-ID: <E1LopZA-0007fg-Ew@dn4whf1.ch3.sourceforge.com>

Revision: 10759
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10759&view=rev
Author:   vouchcac
Date:     2009-04-01 01:48:31 +0000 (Wed, 01 Apr 2009)

Log Message:
-----------
2009-03-31 18:41 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + harbour/contrib/hbqt/qth/QAxBase.qth
  + harbour/contrib/hbqt/qth/QAxBindable.qth
  + harbour/contrib/hbqt/qth/QAxObject.qth
  + harbour/contrib/hbqt/qth/QAxWidget.qth
  + harbour/contrib/hbqt/qth/QDesktopWidget.qth
  + harbour/contrib/hbqt/qth/QDir.qth
  + harbour/contrib/hbqt/qth/QDockWidget.qth
  + harbour/contrib/hbqt/qth/QFontInfo.qth
  + harbour/contrib/hbqt/qth/QFtp.qth
  + harbour/contrib/hbqt/qth/QGridLayout.qth
  + harbour/contrib/hbqt/qth/QHeaderView.qth
  + harbour/contrib/hbqt/qth/QHttp.qth
  + harbour/contrib/hbqt/qth/QListWidget.qth
  + harbour/contrib/hbqt/qth/QListWidgetItem.qth
  + harbour/contrib/hbqt/qth/QSignalMapper.qth
  + harbour/contrib/hbqt/qth/QSplashScreen.qth
  + harbour/contrib/hbqt/qth/QTimer.qth
  + harbour/contrib/hbqt/qth/QUrl.qth
    + Added more source headers - RAW - not compiled.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qth/QAxBase.qth
    trunk/harbour/contrib/hbqt/qth/QAxBindable.qth
    trunk/harbour/contrib/hbqt/qth/QAxObject.qth
    trunk/harbour/contrib/hbqt/qth/QAxWidget.qth
    trunk/harbour/contrib/hbqt/qth/QDesktopWidget.qth
    trunk/harbour/contrib/hbqt/qth/QDir.qth
    trunk/harbour/contrib/hbqt/qth/QDockWidget.qth
    trunk/harbour/contrib/hbqt/qth/QFontInfo.qth
    trunk/harbour/contrib/hbqt/qth/QFtp.qth
    trunk/harbour/contrib/hbqt/qth/QGridLayout.qth
    trunk/harbour/contrib/hbqt/qth/QHeaderView.qth
    trunk/harbour/contrib/hbqt/qth/QHttp.qth
    trunk/harbour/contrib/hbqt/qth/QListWidget.qth
    trunk/harbour/contrib/hbqt/qth/QListWidgetItem.qth
    trunk/harbour/contrib/hbqt/qth/QSignalMapper.qth
    trunk/harbour/contrib/hbqt/qth/QSplashScreen.qth
    trunk/harbour/contrib/hbqt/qth/QTimer.qth
    trunk/harbour/contrib/hbqt/qth/QUrl.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Mar 31 06:40:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Apr  1 01:13:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[10749] trunk/harbour
In-Reply-To: <E1LoaiR-0003Dh-0I@74yxhf1.ch3.sourceforge.com>
References: <E1LoaiR-0003Dh-0I@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870903310340p7172cd8fv219cda673285a5d0@mail.gmail.com>

Hi Pritpal,
Great and congrats!
Brgds,
Viktor

On Tue, Mar 31, 2009 at 11:57 AM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 10749
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=10749&view=rev
> Author:   vouchcac
> Date:     2009-03-31 09:57:04 +0000 (Tue, 31 Mar 2009)
>
> Log Message:
> -----------
> 2009-03-31 01:50 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * harbour/contrib/hbqt/Makefile
>    % Makefile is auto generated by <hbqtgen.exe> and is placed
>      in hbqt/gensource.
>
>  * harbour/contrib/hbqt/hbqt_base.cpp
>  * harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
>  * harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
>  * harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
>  * harbour/contrib/hbqt/hbqt_qabstractslider.cpp
>  * harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
>  * harbour/contrib/hbqt/hbqt_qaction.cpp
>  * harbour/contrib/hbqt/hbqt_qapplication.cpp
>  * harbour/contrib/hbqt/hbqt_qboxlayout.cpp
>  + harbour/contrib/hbqt/hbqt_qbrush.cpp
>  * harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
>  * harbour/contrib/hbqt/hbqt_qcheckbox.cpp
>  + harbour/contrib/hbqt/hbqt_qcolor.cpp
>  * harbour/contrib/hbqt/hbqt_qcolordialog.cpp
>  * harbour/contrib/hbqt/hbqt_qcombobox.cpp
>  * harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
>  * harbour/contrib/hbqt/hbqt_qcoreapplication.cpp
>  - harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
>  * harbour/contrib/hbqt/hbqt_qdateedit.cpp
>  * harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
>  * harbour/contrib/hbqt/hbqt_qdial.cpp
>  * harbour/contrib/hbqt/hbqt_qdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
>  * harbour/contrib/hbqt/hbqt_qerrormessage.cpp
>  * harbour/contrib/hbqt/hbqt_qfiledialog.cpp
>  * harbour/contrib/hbqt/hbqt_qfocusframe.cpp
>  * harbour/contrib/hbqt/hbqt_qfont.cpp
>  * harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
>  * harbour/contrib/hbqt/hbqt_qfontdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qformlayout.cpp
>  * harbour/contrib/hbqt/hbqt_qframe.cpp
>  * harbour/contrib/hbqt/hbqt_qgroupbox.cpp
>  * harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
>  * harbour/contrib/hbqt/hbqt_qinputdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qlabel.cpp
>  * harbour/contrib/hbqt/hbqt_qlayout.cpp
>  * harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
>  * harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
>  * harbour/contrib/hbqt/hbqt_qlineedit.cpp
>  * harbour/contrib/hbqt/hbqt_qlistview.cpp
>  * harbour/contrib/hbqt/hbqt_qmainwindow.cpp
>  * harbour/contrib/hbqt/hbqt_qmenu.cpp
>  * harbour/contrib/hbqt/hbqt_qmenubar.cpp
>  * harbour/contrib/hbqt/hbqt_qmessagebox.cpp
>  * harbour/contrib/hbqt/hbqt_qobject.cpp
>  * harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
>  + harbour/contrib/hbqt/hbqt_qpaintdevice.cpp
>  + harbour/contrib/hbqt/hbqt_qpainter.cpp
>  + harbour/contrib/hbqt/hbqt_qpen.cpp
>  * harbour/contrib/hbqt/hbqt_qprintdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qprogressbar.cpp
>  * harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
>  * harbour/contrib/hbqt/hbqt_qpushbutton.cpp
>  * harbour/contrib/hbqt/hbqt_qradiobutton.cpp
>  * harbour/contrib/hbqt/hbqt_qscrollarea.cpp
>  * harbour/contrib/hbqt/hbqt_qscrollbar.cpp
>  * harbour/contrib/hbqt/hbqt_qsizegrip.cpp
>  * harbour/contrib/hbqt/hbqt_qslider.cpp
>  * harbour/contrib/hbqt/hbqt_qspinbox.cpp
>  * harbour/contrib/hbqt/hbqt_qsplitter.cpp
>  * harbour/contrib/hbqt/hbqt_qtabbar.cpp
>  * harbour/contrib/hbqt/hbqt_qtableview.cpp
>  * harbour/contrib/hbqt/hbqt_qtablewidget.cpp
>  * harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
>  * harbour/contrib/hbqt/hbqt_qtabwidget.cpp
>  * harbour/contrib/hbqt/hbqt_qtextedit.cpp
>  * harbour/contrib/hbqt/hbqt_qtimeedit.cpp
>  * harbour/contrib/hbqt/hbqt_qtoolbar.cpp
>  * harbour/contrib/hbqt/hbqt_qtoolbox.cpp
>  * harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
>  * harbour/contrib/hbqt/hbqt_qtreeview.cpp
>  * harbour/contrib/hbqt/hbqt_qtreewidget.cpp
>  * harbour/contrib/hbqt/hbqt_qtreewidgetitem.cpp
>  * harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
>  + harbour/contrib/hbqt/hbqt_qwebpage.cpp
>  * harbour/contrib/hbqt/hbqt_qwebview.cpp
>  * harbour/contrib/hbqt/hbqt_qwidget.cpp
>  * harbour/contrib/hbqt/hbqt_qwizard.cpp
>  * harbour/contrib/hbqt/hbqt_slots.cpp
>  * harbour/contrib/hbqt/hbqt_utils.cpp
>  * harbour/contrib/hbqt/moc_slots.cpp
>  * harbour/contrib/hbqt/hbqt.h
>  + harbour/contrib/hbqt/hbqt_slots.h
>  - harbour/contrib/hbqt/slots.h
>    +- Added | Changed | Deleted Sources.
>     Now these sources are auto generated by the HB-QT generator.
>     Please never try to modify these. Instead look at /qth folder
>     and .qth source definition files. I will write a detailed
>     description once it becomes fully operational as I have
>     drawn on the drawing board. The above code is fully functional
>     to the extent it is generated but still about 30% functions
>     have not been translated. A work in progress...
>
>  + harbour/contrib/hbqt/TQAbstractButton.prg
>  + harbour/contrib/hbqt/TQAbstractItemView.prg
>  + harbour/contrib/hbqt/TQAbstractPrintDialog.prg
>  + harbour/contrib/hbqt/TQAbstractScrollArea.prg
>  + harbour/contrib/hbqt/TQAbstractSlider.prg
>  + harbour/contrib/hbqt/TQAbstractSpinBox.prg
>  + harbour/contrib/hbqt/TQAction.prg
>  + harbour/contrib/hbqt/TQBoxLayout.prg
>  + harbour/contrib/hbqt/TQCalendarWidget.prg
>  + harbour/contrib/hbqt/TQCheckBox.prg
>  + harbour/contrib/hbqt/TQColorDialog.prg
>  + harbour/contrib/hbqt/TQComboBox.prg
>  + harbour/contrib/hbqt/TQCommandLinkButton.prg
>  + harbour/contrib/hbqt/TQDateEdit.prg
>  + harbour/contrib/hbqt/TQDateTimeEdit.prg
>  + harbour/contrib/hbqt/TQDial.prg
>  + harbour/contrib/hbqt/TQDialog.prg
>  + harbour/contrib/hbqt/TQDoubleSpinBox.prg
>  + harbour/contrib/hbqt/TQErrorMessage.prg
>  + harbour/contrib/hbqt/TQFileDialog.prg
>  + harbour/contrib/hbqt/TQFocusFrame.prg
>  + harbour/contrib/hbqt/TQFontComboBox.prg
>  + harbour/contrib/hbqt/TQFontDialog.prg
>  + harbour/contrib/hbqt/TQFormLayout.prg
>  + harbour/contrib/hbqt/TQFrame.prg
>  + harbour/contrib/hbqt/TQGroupBox.prg
>  + harbour/contrib/hbqt/TQHBoxLayout.prg
>  + harbour/contrib/hbqt/TQInputDialog.prg
>  + harbour/contrib/hbqt/TQLabel.prg
>  + harbour/contrib/hbqt/TQLayout.prg
>  + harbour/contrib/hbqt/TQLayoutItem.prg
>  + harbour/contrib/hbqt/TQLCDNumber.prg
>  + harbour/contrib/hbqt/TQLineEdit.prg
>  + harbour/contrib/hbqt/TQListView.prg
>  + harbour/contrib/hbqt/TQMainWindow.prg
>  + harbour/contrib/hbqt/TQMenu.prg
>  + harbour/contrib/hbqt/TQMenuBar.prg
>  + harbour/contrib/hbqt/TQMessageBox.prg
>  + harbour/contrib/hbqt/TQObject.prg
>  + harbour/contrib/hbqt/TQPageSetupDialog.prg
>  + harbour/contrib/hbqt/TQPaintDevice.prg
>  + harbour/contrib/hbqt/TQPainter.prg
>  + harbour/contrib/hbqt/TQPrintDialog.prg
>  + harbour/contrib/hbqt/TQPrintPreviewDialog.prg
>  + harbour/contrib/hbqt/TQProgressBar.prg
>  + harbour/contrib/hbqt/TQProgressDialog.prg
>  + harbour/contrib/hbqt/TQPushButton.prg
>  + harbour/contrib/hbqt/TQRadioButton.prg
>  + harbour/contrib/hbqt/TQScrollArea.prg
>  + harbour/contrib/hbqt/TQScrollBar.prg
>  + harbour/contrib/hbqt/TQSizeGrip.prg
>  + harbour/contrib/hbqt/TQSlider.prg
>  + harbour/contrib/hbqt/TQSpinBox.prg
>  + harbour/contrib/hbqt/TQSplitter.prg
>  + harbour/contrib/hbqt/TQTabBar.prg
>  + harbour/contrib/hbqt/TQTableView.prg
>  + harbour/contrib/hbqt/TQTableWidget.prg
>  + harbour/contrib/hbqt/TQTableWidgetItem.prg
>  + harbour/contrib/hbqt/TQTabWidget.prg
>  + harbour/contrib/hbqt/TQTextEdit.prg
>  + harbour/contrib/hbqt/TQTimeEdit.prg
>  + harbour/contrib/hbqt/TQToolBar.prg
>  + harbour/contrib/hbqt/TQToolBox.prg
>  + harbour/contrib/hbqt/TQToolButton.prg
>  + harbour/contrib/hbqt/TQTreeView.prg
>  + harbour/contrib/hbqt/TQTreeWidget.prg
>  + harbour/contrib/hbqt/TQTreeWidgetItem.prg
>  + harbour/contrib/hbqt/TQVBoxLayout.prg
>  + harbour/contrib/hbqt/TQWebPage.prg
>  + harbour/contrib/hbqt/TQWebView.prg
>  + harbour/contrib/hbqt/TQWidget.prg
>  + harbour/contrib/hbqt/TQWizard.prg
>    + Added auto generated classes with exact same class hierarchy
>      which QT has outlined with inheritance. QT implements
>      constructors with dynamic parameters which on prg level
>      are difficult to manage. So I have adopted a simple
>      approach. :New() accepts only one argument <pParent> i.e.,
>      pointer to the parent object, if any, and which is universal
>      in QT implementation. This class implementation implies
>      that PRG code will pass <pPointer> to a method and will
>      receive <oObject> | <pPointer>. We can build higher level
>      classes inheriting from above and implement whatever way we wish
>      to pass and receive objects. I would like those higher
>      level classes to confirm Xbase++ standards.
>
>  * harbour/contrib/hbqt/qth/QAbstractButton.qth
>  * harbour/contrib/hbqt/qth/QAbstractItemView.qth
>  * harbour/contrib/hbqt/qth/QAbstractPrintDialog.qth
>  * harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
>  * harbour/contrib/hbqt/qth/QAbstractSlider.qth
>  * harbour/contrib/hbqt/qth/QAbstractSpinBox.qth
>  * harbour/contrib/hbqt/qth/QAction.qth
>  * harbour/contrib/hbqt/qth/QBoxLayout.qth
>  * harbour/contrib/hbqt/qth/QCalendarWidget.qth
>  * harbour/contrib/hbqt/qth/QCheckBox.qth
>  * harbour/contrib/hbqt/qth/QColorDialog.qth
>  * harbour/contrib/hbqt/qth/QComboBox.qth
>  * harbour/contrib/hbqt/qth/QCommandLinkButton.qth
>  * harbour/contrib/hbqt/qth/QDateEdit.qth
>  * harbour/contrib/hbqt/qth/QDateTimeEdit.qth
>  * harbour/contrib/hbqt/qth/QDial.qth
>  * harbour/contrib/hbqt/qth/QDialog.qth
>  * harbour/contrib/hbqt/qth/QDoubleSpinBox.qth
>  * harbour/contrib/hbqt/qth/QErrorMessage.qth
>  * harbour/contrib/hbqt/qth/QFileDialog.qth
>  * harbour/contrib/hbqt/qth/QFocusFrame.qth
>  * harbour/contrib/hbqt/qth/QFontComboBox.qth
>  * harbour/contrib/hbqt/qth/QFontDialog.qth
>  * harbour/contrib/hbqt/qth/QFormLayout.qth
>  * harbour/contrib/hbqt/qth/QFrame.qth
>  * harbour/contrib/hbqt/qth/QGroupBox.qth
>  * harbour/contrib/hbqt/qth/QHBoxLayout.qth
>  * harbour/contrib/hbqt/qth/QInputDialog.qth
>  * harbour/contrib/hbqt/qth/QLabel.qth
>  * harbour/contrib/hbqt/qth/QLayout.qth
>  * harbour/contrib/hbqt/qth/QLayoutItem.qth
>  * harbour/contrib/hbqt/qth/QLCDNumber.qth
>  * harbour/contrib/hbqt/qth/QLineEdit.qth
>  * harbour/contrib/hbqt/qth/QListView.qth
>  * harbour/contrib/hbqt/qth/QMainWindow.qth
>  * harbour/contrib/hbqt/qth/QMenu.qth
>  * harbour/contrib/hbqt/qth/QMenuBar.qth
>  * harbour/contrib/hbqt/qth/QMessageBox.qth
>  * harbour/contrib/hbqt/qth/QObject.qth
>  * harbour/contrib/hbqt/qth/QPageSetupDialog.qth
>  + harbour/contrib/hbqt/qth/QPaintDevice.qth
>  * harbour/contrib/hbqt/qth/QPainter.qth
>  * harbour/contrib/hbqt/qth/QPrintDialog.qth
>  * harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
>  * harbour/contrib/hbqt/qth/QProgressBar.qth
>  + harbour/contrib/hbqt/qth/QProgressDialog.qth
>  * harbour/contrib/hbqt/qth/QPushButton.qth
>  * harbour/contrib/hbqt/qth/QRadioButton.qth
>  * harbour/contrib/hbqt/qth/QScrollArea.qth
>  * harbour/contrib/hbqt/qth/QScrollBar.qth
>  * harbour/contrib/hbqt/qth/QSizeGrip.qth
>  * harbour/contrib/hbqt/qth/QSlider.qth
>  * harbour/contrib/hbqt/qth/QSpinBox.qth
>  * harbour/contrib/hbqt/qth/QSplitter.qth
>  * harbour/contrib/hbqt/qth/QTabBar.qth
>  * harbour/contrib/hbqt/qth/QTableView.qth
>  * harbour/contrib/hbqt/qth/QTableWidget.qth
>  * harbour/contrib/hbqt/qth/QTableWidgetItem.qth
>  * harbour/contrib/hbqt/qth/QTabWidget.qth
>  * harbour/contrib/hbqt/qth/QTextEdit.qth
>  * harbour/contrib/hbqt/qth/QTimeEdit.qth
>  * harbour/contrib/hbqt/qth/QToolBar.qth
>  * harbour/contrib/hbqt/qth/QToolBox.qth
>  * harbour/contrib/hbqt/qth/QToolButton.qth
>  * harbour/contrib/hbqt/qth/QTreeView.qth
>  * harbour/contrib/hbqt/qth/QTreeWidget.qth
>  * harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
>  * harbour/contrib/hbqt/qth/QVBoxLayout.qth
>  + harbour/contrib/hbqt/qth/QWebPage.qth
>  + harbour/contrib/hbqt/qth/QWebView.qth
>  * harbour/contrib/hbqt/qth/QWidget.qth
>  + harbour/contrib/hbqt/qth/QWizard.qth
>    + Added | Changed source definitions to honor class construction.
>
>  * harbour/contrib/hbqt/generator/hbqtgen.prg
>    ! Enhanced to generate .cpp | .h | .prg | .txt.
>      Now .cpp sources contain information about which functions
>      are still awaiting to be included plus the percentage in this form:
>      -   189/229 [ 73.78% ]
>
>  * harbour/contrib/hbqt/generator/qt45.qtp
>    ! Added new .qth source definitions.
>
>  * harbour/contrib/hbqt/tests/demoqt.prg
>    ! Auto generated demo program. Just play with it and
>      you will be surprised how simple it is to use QT; all
>      gadgets provided.
>
>    SUMUP: Auto Generated Files:
>             - hbqt/gensource/hbqt_q*.cpp   source files
>             - hbqt/doc/Q*.txt              documentation on function calls
>             - hbqt/tests/demoqt.prg        demonstration program
>             - hbqt/gensource/hbqt.h
>             - hbqt/gensource/hbqt_slots.h
>             - hbqt/gensource/hbqt_slots.cpp
>             - hbqt/gensource/hbqt_base.cpp
>             - hbqt/gensource/moc_slots.cpp
>
>     PROGNOSIS:
>           - Stay in harbour/contrib/hbqt/generator
>           - hbmk2.exe hbqtgen
>           - del ..\gensource\*.*
>           - del ..\doc\*.*
>           - hbqtgen.exe qt45.qtp
>           - cd ..
>           - you should be staying at harbour/contrib/hbqt
>           - del *.* ( be careful that you are under the right folder )
>           - copy gensource/*.*
>           - invoke QT specific build batch
>           - cd tests
>           - hbmk2.exe demoqt
>           - demoqt.exe
>           - .
>           - play with gadgets
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/Makefile
>    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
>    trunk/harbour/contrib/hbqt/generator/qt45.qtp
>    trunk/harbour/contrib/hbqt/hbqt.h
>    trunk/harbour/contrib/hbqt/hbqt_base.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qabstractbutton.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qabstractitemview.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qabstractprintdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qabstractscrollarea.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qabstractslider.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qabstractspinbox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qaction.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qapplication.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qboxlayout.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcalendarwidget.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcheckbox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcolordialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcombobox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcommandlinkbutton.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcoreapplication.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qdateedit.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qdatetimeedit.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qdial.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qdoublespinbox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qerrormessage.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qfiledialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qfocusframe.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qfont.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qfontcombobox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qfontdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qformlayout.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qframe.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qgroupbox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qhboxlayout.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qinputdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qlabel.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qlayout.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qlayoutitem.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qlcdnumber.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qlineedit.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qlistview.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qmainwindow.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qmenu.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qmenubar.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qmessagebox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qobject.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qpagesetupdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qprintdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qprintpreviewdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qprogressbar.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qprogressdialog.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qpushbutton.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qradiobutton.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qscrollarea.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qscrollbar.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qsizegrip.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qslider.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qspinbox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qsplitter.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtabbar.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtableview.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtablewidget.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtablewidgetitem.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtabwidget.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtextedit.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtimeedit.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtoolbar.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtoolbox.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtoolbutton.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtreeview.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtreewidget.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qtreewidgetitem.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qvboxlayout.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qwebview.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qwidget.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qwizard.cpp
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbqt/hbqt_utils.cpp
>    trunk/harbour/contrib/hbqt/moc_slots.cpp
>    trunk/harbour/contrib/hbqt/qth/QAbstractButton.qth
>    trunk/harbour/contrib/hbqt/qth/QAbstractItemView.qth
>    trunk/harbour/contrib/hbqt/qth/QAbstractPrintDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QAbstractScrollArea.qth
>    trunk/harbour/contrib/hbqt/qth/QAbstractSlider.qth
>    trunk/harbour/contrib/hbqt/qth/QAbstractSpinBox.qth
>    trunk/harbour/contrib/hbqt/qth/QAction.qth
>    trunk/harbour/contrib/hbqt/qth/QBoxLayout.qth
>    trunk/harbour/contrib/hbqt/qth/QCalendarWidget.qth
>    trunk/harbour/contrib/hbqt/qth/QCheckBox.qth
>    trunk/harbour/contrib/hbqt/qth/QColorDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QComboBox.qth
>    trunk/harbour/contrib/hbqt/qth/QCommandLinkButton.qth
>    trunk/harbour/contrib/hbqt/qth/QDateEdit.qth
>    trunk/harbour/contrib/hbqt/qth/QDateTimeEdit.qth
>    trunk/harbour/contrib/hbqt/qth/QDial.qth
>    trunk/harbour/contrib/hbqt/qth/QDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QDoubleSpinBox.qth
>    trunk/harbour/contrib/hbqt/qth/QErrorMessage.qth
>    trunk/harbour/contrib/hbqt/qth/QFileDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QFocusFrame.qth
>    trunk/harbour/contrib/hbqt/qth/QFontComboBox.qth
>    trunk/harbour/contrib/hbqt/qth/QFontDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QFormLayout.qth
>    trunk/harbour/contrib/hbqt/qth/QFrame.qth
>    trunk/harbour/contrib/hbqt/qth/QGroupBox.qth
>    trunk/harbour/contrib/hbqt/qth/QHBoxLayout.qth
>    trunk/harbour/contrib/hbqt/qth/QInputDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QLCDNumber.qth
>    trunk/harbour/contrib/hbqt/qth/QLabel.qth
>    trunk/harbour/contrib/hbqt/qth/QLayout.qth
>    trunk/harbour/contrib/hbqt/qth/QLayoutItem.qth
>    trunk/harbour/contrib/hbqt/qth/QLineEdit.qth
>    trunk/harbour/contrib/hbqt/qth/QListView.qth
>    trunk/harbour/contrib/hbqt/qth/QMainWindow.qth
>    trunk/harbour/contrib/hbqt/qth/QMenu.qth
>    trunk/harbour/contrib/hbqt/qth/QMenuBar.qth
>    trunk/harbour/contrib/hbqt/qth/QMessageBox.qth
>    trunk/harbour/contrib/hbqt/qth/QObject.qth
>    trunk/harbour/contrib/hbqt/qth/QPageSetupDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QPainter.qth
>    trunk/harbour/contrib/hbqt/qth/QPrintDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QPrintPreviewDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QProgressBar.qth
>    trunk/harbour/contrib/hbqt/qth/QPushButton.qth
>    trunk/harbour/contrib/hbqt/qth/QRadioButton.qth
>    trunk/harbour/contrib/hbqt/qth/QScrollArea.qth
>    trunk/harbour/contrib/hbqt/qth/QScrollBar.qth
>    trunk/harbour/contrib/hbqt/qth/QSizeGrip.qth
>    trunk/harbour/contrib/hbqt/qth/QSlider.qth
>    trunk/harbour/contrib/hbqt/qth/QSpinBox.qth
>    trunk/harbour/contrib/hbqt/qth/QSplitter.qth
>    trunk/harbour/contrib/hbqt/qth/QTabBar.qth
>    trunk/harbour/contrib/hbqt/qth/QTabWidget.qth
>    trunk/harbour/contrib/hbqt/qth/QTableView.qth
>    trunk/harbour/contrib/hbqt/qth/QTableWidget.qth
>    trunk/harbour/contrib/hbqt/qth/QTableWidgetItem.qth
>    trunk/harbour/contrib/hbqt/qth/QTextEdit.qth
>    trunk/harbour/contrib/hbqt/qth/QTimeEdit.qth
>    trunk/harbour/contrib/hbqt/qth/QToolBar.qth
>    trunk/harbour/contrib/hbqt/qth/QToolBox.qth
>    trunk/harbour/contrib/hbqt/qth/QToolButton.qth
>    trunk/harbour/contrib/hbqt/qth/QTreeView.qth
>    trunk/harbour/contrib/hbqt/qth/QTreeWidget.qth
>    trunk/harbour/contrib/hbqt/qth/QTreeWidgetItem.qth
>    trunk/harbour/contrib/hbqt/qth/QVBoxLayout.qth
>    trunk/harbour/contrib/hbqt/qth/QWidget.qth
>    trunk/harbour/contrib/hbqt/tests/demoqt.prg
>
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbqt/TQAbstractButton.prg
>    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
>    trunk/harbour/contrib/hbqt/TQAbstractPrintDialog.prg
>    trunk/harbour/contrib/hbqt/TQAbstractScrollArea.prg
>    trunk/harbour/contrib/hbqt/TQAbstractSlider.prg
>    trunk/harbour/contrib/hbqt/TQAbstractSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQAction.prg
>    trunk/harbour/contrib/hbqt/TQBoxLayout.prg
>    trunk/harbour/contrib/hbqt/TQCalendarWidget.prg
>    trunk/harbour/contrib/hbqt/TQCheckBox.prg
>    trunk/harbour/contrib/hbqt/TQColorDialog.prg
>    trunk/harbour/contrib/hbqt/TQComboBox.prg
>    trunk/harbour/contrib/hbqt/TQCommandLinkButton.prg
>    trunk/harbour/contrib/hbqt/TQDateEdit.prg
>    trunk/harbour/contrib/hbqt/TQDateTimeEdit.prg
>    trunk/harbour/contrib/hbqt/TQDial.prg
>    trunk/harbour/contrib/hbqt/TQDialog.prg
>    trunk/harbour/contrib/hbqt/TQDoubleSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQErrorMessage.prg
>    trunk/harbour/contrib/hbqt/TQFileDialog.prg
>    trunk/harbour/contrib/hbqt/TQFocusFrame.prg
>    trunk/harbour/contrib/hbqt/TQFontComboBox.prg
>    trunk/harbour/contrib/hbqt/TQFontDialog.prg
>    trunk/harbour/contrib/hbqt/TQFormLayout.prg
>    trunk/harbour/contrib/hbqt/TQFrame.prg
>    trunk/harbour/contrib/hbqt/TQGroupBox.prg
>    trunk/harbour/contrib/hbqt/TQHBoxLayout.prg
>    trunk/harbour/contrib/hbqt/TQInputDialog.prg
>    trunk/harbour/contrib/hbqt/TQLCDNumber.prg
>    trunk/harbour/contrib/hbqt/TQLabel.prg
>    trunk/harbour/contrib/hbqt/TQLayout.prg
>    trunk/harbour/contrib/hbqt/TQLayoutItem.prg
>    trunk/harbour/contrib/hbqt/TQLineEdit.prg
>    trunk/harbour/contrib/hbqt/TQListView.prg
>    trunk/harbour/contrib/hbqt/TQMainWindow.prg
>    trunk/harbour/contrib/hbqt/TQMenu.prg
>    trunk/harbour/contrib/hbqt/TQMenuBar.prg
>    trunk/harbour/contrib/hbqt/TQMessageBox.prg
>    trunk/harbour/contrib/hbqt/TQObject.prg
>    trunk/harbour/contrib/hbqt/TQPageSetupDialog.prg
>    trunk/harbour/contrib/hbqt/TQPaintDevice.prg
>    trunk/harbour/contrib/hbqt/TQPainter.prg
>    trunk/harbour/contrib/hbqt/TQPrintDialog.prg
>    trunk/harbour/contrib/hbqt/TQPrintPreviewDialog.prg
>    trunk/harbour/contrib/hbqt/TQProgressBar.prg
>    trunk/harbour/contrib/hbqt/TQProgressDialog.prg
>    trunk/harbour/contrib/hbqt/TQPushButton.prg
>    trunk/harbour/contrib/hbqt/TQRadioButton.prg
>    trunk/harbour/contrib/hbqt/TQScrollArea.prg
>    trunk/harbour/contrib/hbqt/TQScrollBar.prg
>    trunk/harbour/contrib/hbqt/TQSizeGrip.prg
>    trunk/harbour/contrib/hbqt/TQSlider.prg
>    trunk/harbour/contrib/hbqt/TQSpinBox.prg
>    trunk/harbour/contrib/hbqt/TQSplitter.prg
>    trunk/harbour/contrib/hbqt/TQTabBar.prg
>    trunk/harbour/contrib/hbqt/TQTabWidget.prg
>    trunk/harbour/contrib/hbqt/TQTableView.prg
>    trunk/harbour/contrib/hbqt/TQTableWidget.prg
>    trunk/harbour/contrib/hbqt/TQTableWidgetItem.prg
>    trunk/harbour/contrib/hbqt/TQTextEdit.prg
>    trunk/harbour/contrib/hbqt/TQTimeEdit.prg
>    trunk/harbour/contrib/hbqt/TQToolBar.prg
>    trunk/harbour/contrib/hbqt/TQToolBox.prg
>    trunk/harbour/contrib/hbqt/TQToolButton.prg
>    trunk/harbour/contrib/hbqt/TQTreeView.prg
>    trunk/harbour/contrib/hbqt/TQTreeWidget.prg
>    trunk/harbour/contrib/hbqt/TQTreeWidgetItem.prg
>    trunk/harbour/contrib/hbqt/TQVBoxLayout.prg
>    trunk/harbour/contrib/hbqt/TQWebPage.prg
>    trunk/harbour/contrib/hbqt/TQWebView.prg
>    trunk/harbour/contrib/hbqt/TQWidget.prg
>    trunk/harbour/contrib/hbqt/TQWizard.prg
>    trunk/harbour/contrib/hbqt/hbqt_qbrush.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qcolor.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qpaintdevice.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qpainter.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qpen.cpp
>    trunk/harbour/contrib/hbqt/hbqt_qwebpage.cpp
>    trunk/harbour/contrib/hbqt/hbqt_slots.h
>    trunk/harbour/contrib/hbqt/qth/QPaintDevice.qth
>    trunk/harbour/contrib/hbqt/qth/QProgressDialog.qth
>    trunk/harbour/contrib/hbqt/qth/QWebPage.qth
>    trunk/harbour/contrib/hbqt/qth/QWebView.qth
>    trunk/harbour/contrib/hbqt/qth/QWizard.qth
>
> Removed Paths:
> -------------
>    trunk/harbour/contrib/hbqt/hbqt_qcqlendarwidget.cpp
>    trunk/harbour/contrib/hbqt/slots.h
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090331/072de261/attachment-0001.html
